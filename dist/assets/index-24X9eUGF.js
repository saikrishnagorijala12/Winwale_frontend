(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pv={exports:{}},Ef={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wA;function KB(){if(wA)return Ef;wA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,a){var i=null;if(a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),"key"in s){a={};for(var o in s)o!=="key"&&(a[o]=s[o])}else a=s;return s=a.ref,{$$typeof:e,type:n,key:i,ref:s!==void 0?s:null,props:a}}return Ef.Fragment=t,Ef.jsx=r,Ef.jsxs=r,Ef}var EA;function XB(){return EA||(EA=1,pv.exports=KB()),pv.exports}var u=XB(),mv={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A;function YB(){if(_A)return bt;_A=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=x&&G[x]||G["@@iterator"],typeof G=="function"?G:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function E(G,D,W){this.props=G,this.context=D,this.refs=w,this.updater=W||v}E.prototype.isReactComponent={},E.prototype.setState=function(G,D){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,D,"setState")},E.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function N(){}N.prototype=E.prototype;function _(G,D,W){this.props=G,this.context=D,this.refs=w,this.updater=W||v}var S=_.prototype=new N;S.constructor=_,y(S,E.prototype),S.isPureReactComponent=!0;var k=Array.isArray;function L(){}var R={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function O(G,D,W){var K=W.ref;return{$$typeof:e,type:G,key:D,ref:K!==void 0?K:null,props:W}}function Z(G,D){return O(G.type,D,G.props)}function ae(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function P(G){var D={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(W){return D[W]})}var X=/\/+/g;function M(G,D){return typeof G=="object"&&G!==null&&G.key!=null?P(""+G.key):D.toString(36)}function ie(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(L,L):(G.status="pending",G.then(function(D){G.status==="pending"&&(G.status="fulfilled",G.value=D)},function(D){G.status==="pending"&&(G.status="rejected",G.reason=D)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function J(G,D,W,K,re){var se=typeof G;(se==="undefined"||se==="boolean")&&(G=null);var I=!1;if(G===null)I=!0;else switch(se){case"bigint":case"string":case"number":I=!0;break;case"object":switch(G.$$typeof){case e:case t:I=!0;break;case h:return I=G._init,J(I(G._payload),D,W,K,re)}}if(I)return re=re(G),I=K===""?"."+M(G,0):K,k(re)?(W="",I!=null&&(W=I.replace(X,"$&/")+"/"),J(re,D,W,"",function(te){return te})):re!=null&&(ae(re)&&(re=Z(re,W+(re.key==null||G&&G.key===re.key?"":(""+re.key).replace(X,"$&/")+"/")+I)),D.push(re)),1;I=0;var F=K===""?".":K+":";if(k(G))for(var ne=0;ne<G.length;ne++)K=G[ne],se=F+M(K,ne),I+=J(K,D,W,se,re);else if(ne=g(G),typeof ne=="function")for(G=ne.call(G),ne=0;!(K=G.next()).done;)K=K.value,se=F+M(K,ne++),I+=J(K,D,W,se,re);else if(se==="object"){if(typeof G.then=="function")return J(ie(G),D,W,K,re);throw D=String(G),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return I}function ee(G,D,W){if(G==null)return G;var K=[],re=0;return J(G,K,"","",function(se){return D.call(W,se,re++)}),K}function xe(G){if(G._status===-1){var D=G._result;D=D(),D.then(function(W){(G._status===0||G._status===-1)&&(G._status=1,G._result=W)},function(W){(G._status===0||G._status===-1)&&(G._status=2,G._result=W)}),G._status===-1&&(G._status=0,G._result=D)}if(G._status===1)return G._result.default;throw G._result}var oe=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},we={map:ee,forEach:function(G,D,W){ee(G,function(){D.apply(this,arguments)},W)},count:function(G){var D=0;return ee(G,function(){D++}),D},toArray:function(G){return ee(G,function(D){return D})||[]},only:function(G){if(!ae(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return bt.Activity=m,bt.Children=we,bt.Component=E,bt.Fragment=r,bt.Profiler=s,bt.PureComponent=_,bt.StrictMode=n,bt.Suspense=c,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,bt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return R.H.useMemoCache(G)}},bt.cache=function(G){return function(){return G.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(G,D,W){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var K=y({},G.props),re=G.key;if(D!=null)for(se in D.key!==void 0&&(re=""+D.key),D)!H.call(D,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&D.ref===void 0||(K[se]=D[se]);var se=arguments.length-2;if(se===1)K.children=W;else if(1<se){for(var I=Array(se),F=0;F<se;F++)I[F]=arguments[F+2];K.children=I}return O(G.type,re,K)},bt.createContext=function(G){return G={$$typeof:i,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},bt.createElement=function(G,D,W){var K,re={},se=null;if(D!=null)for(K in D.key!==void 0&&(se=""+D.key),D)H.call(D,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(re[K]=D[K]);var I=arguments.length-2;if(I===1)re.children=W;else if(1<I){for(var F=Array(I),ne=0;ne<I;ne++)F[ne]=arguments[ne+2];re.children=F}if(G&&G.defaultProps)for(K in I=G.defaultProps,I)re[K]===void 0&&(re[K]=I[K]);return O(G,se,re)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(G){return{$$typeof:o,render:G}},bt.isValidElement=ae,bt.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:xe}},bt.memo=function(G,D){return{$$typeof:f,type:G,compare:D===void 0?null:D}},bt.startTransition=function(G){var D=R.T,W={};R.T=W;try{var K=G(),re=R.S;re!==null&&re(W,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(L,oe)}catch(se){oe(se)}finally{D!==null&&W.types!==null&&(D.types=W.types),R.T=D}},bt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},bt.use=function(G){return R.H.use(G)},bt.useActionState=function(G,D,W){return R.H.useActionState(G,D,W)},bt.useCallback=function(G,D){return R.H.useCallback(G,D)},bt.useContext=function(G){return R.H.useContext(G)},bt.useDebugValue=function(){},bt.useDeferredValue=function(G,D){return R.H.useDeferredValue(G,D)},bt.useEffect=function(G,D){return R.H.useEffect(G,D)},bt.useEffectEvent=function(G){return R.H.useEffectEvent(G)},bt.useId=function(){return R.H.useId()},bt.useImperativeHandle=function(G,D,W){return R.H.useImperativeHandle(G,D,W)},bt.useInsertionEffect=function(G,D){return R.H.useInsertionEffect(G,D)},bt.useLayoutEffect=function(G,D){return R.H.useLayoutEffect(G,D)},bt.useMemo=function(G,D){return R.H.useMemo(G,D)},bt.useOptimistic=function(G,D){return R.H.useOptimistic(G,D)},bt.useReducer=function(G,D,W){return R.H.useReducer(G,D,W)},bt.useRef=function(G){return R.H.useRef(G)},bt.useState=function(G){return R.H.useState(G)},bt.useSyncExternalStore=function(G,D,W){return R.H.useSyncExternalStore(G,D,W)},bt.useTransition=function(){return R.H.useTransition()},bt.version="19.2.4",bt}var SA;function Yh(){return SA||(SA=1,mv.exports=YB()),mv.exports}var Y=Yh();const qe=SE(Y);var xv={exports:{}},_f={},gv={exports:{}},yv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA;function JB(){return NA||(NA=1,(function(e){function t(J,ee){var xe=J.length;J.push(ee);e:for(;0<xe;){var oe=xe-1>>>1,we=J[oe];if(0<s(we,ee))J[oe]=ee,J[xe]=we,xe=oe;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ee=J[0],xe=J.pop();if(xe!==ee){J[0]=xe;e:for(var oe=0,we=J.length,G=we>>>1;oe<G;){var D=2*(oe+1)-1,W=J[D],K=D+1,re=J[K];if(0>s(W,xe))K<we&&0>s(re,W)?(J[oe]=re,J[K]=xe,oe=K):(J[oe]=W,J[D]=xe,oe=D);else if(K<we&&0>s(re,xe))J[oe]=re,J[K]=xe,oe=K;else break e}}return ee}function s(J,ee){var xe=J.sortIndex-ee.sortIndex;return xe!==0?xe:J.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],f=[],h=1,m=null,x=3,g=!1,v=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function S(J){for(var ee=r(f);ee!==null;){if(ee.callback===null)n(f);else if(ee.startTime<=J)n(f),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=r(f)}}function k(J){if(y=!1,S(J),!v)if(r(c)!==null)v=!0,L||(L=!0,P());else{var ee=r(f);ee!==null&&ie(k,ee.startTime-J)}}var L=!1,R=-1,H=5,O=-1;function Z(){return w?!0:!(e.unstable_now()-O<H)}function ae(){if(w=!1,L){var J=e.unstable_now();O=J;var ee=!0;try{e:{v=!1,y&&(y=!1,N(R),R=-1),g=!0;var xe=x;try{t:{for(S(J),m=r(c);m!==null&&!(m.expirationTime>J&&Z());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,x=m.priorityLevel;var we=oe(m.expirationTime<=J);if(J=e.unstable_now(),typeof we=="function"){m.callback=we,S(J),ee=!0;break t}m===r(c)&&n(c),S(J)}else n(c);m=r(c)}if(m!==null)ee=!0;else{var G=r(f);G!==null&&ie(k,G.startTime-J),ee=!1}}break e}finally{m=null,x=xe,g=!1}ee=void 0}}finally{ee?P():L=!1}}}var P;if(typeof _=="function")P=function(){_(ae)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,M=X.port2;X.port1.onmessage=ae,P=function(){M.postMessage(null)}}else P=function(){E(ae,0)};function ie(J,ee){R=E(function(){J(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(J){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var xe=x;x=ee;try{return J()}finally{x=xe}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(J,ee){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var xe=x;x=J;try{return ee()}finally{x=xe}},e.unstable_scheduleCallback=function(J,ee,xe){var oe=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?oe+xe:oe):xe=oe,J){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=xe+we,J={id:h++,callback:ee,priorityLevel:J,startTime:xe,expirationTime:we,sortIndex:-1},xe>oe?(J.sortIndex=xe,t(f,J),r(c)===null&&J===r(f)&&(y?(N(R),R=-1):y=!0,ie(k,xe-oe))):(J.sortIndex=we,t(c,J),v||g||(v=!0,L||(L=!0,P()))),J},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(J){var ee=x;return function(){var xe=x;x=ee;try{return J.apply(this,arguments)}finally{x=xe}}}})(yv)),yv}var TA;function ZB(){return TA||(TA=1,gv.exports=JB()),gv.exports}var vv={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function QB(){if(CA)return Bn;CA=1;var e=Yh();function t(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(c,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:c,containerInfo:f,implementation:h}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Bn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(c,f,null,h)},Bn.flushSync=function(c){var f=i.T,h=n.p;try{if(i.T=null,n.p=2,c)return c()}finally{i.T=f,n.p=h,n.d.f()}},Bn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(c,f))},Bn.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Bn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:g}):h==="script"&&n.d.X(c,{crossOrigin:m,integrity:x,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Bn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(c)},Bn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin);n.d.L(c,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Bn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=o(f.as,f.crossOrigin);n.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(c)},Bn.requestFormReset=function(c){n.d.r(c)},Bn.unstable_batchedUpdates=function(c,f){return c(f)},Bn.useFormState=function(c,f,h){return i.H.useFormState(c,f,h)},Bn.useFormStatus=function(){return i.H.useHostTransitionStatus()},Bn.version="19.2.4",Bn}var AA;function w6(){if(AA)return vv.exports;AA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vv.exports=QB(),vv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function e9(){if(kA)return _f;kA=1;var e=ZB(),t=Yh(),r=w6();function n(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function i(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function o(l){if(l.tag===31){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(n(188))}function f(l){var d=l.alternate;if(!d){if(d=a(l),d===null)throw Error(n(188));return d!==l?null:l}for(var p=l,b=d;;){var T=p.return;if(T===null)break;var A=T.alternate;if(A===null){if(b=T.return,b!==null){p=b;continue}break}if(T.child===A.child){for(A=T.child;A;){if(A===p)return c(T),l;if(A===b)return c(T),d;A=A.sibling}throw Error(n(188))}if(p.return!==b.return)p=T,b=A;else{for(var V=!1,ce=T.child;ce;){if(ce===p){V=!0,p=T,b=A;break}if(ce===b){V=!0,b=T,p=A;break}ce=ce.sibling}if(!V){for(ce=A.child;ce;){if(ce===p){V=!0,p=A,b=T;break}if(ce===b){V=!0,b=A,p=T;break}ce=ce.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:d}function h(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=h(l),d!==null)return d;l=l.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:(l=ae&&l[ae]||l["@@iterator"],typeof l=="function"?l:null)}var X=Symbol.for("react.client.reference");function M(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===X?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case L:return"SuspenseList";case O:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case _:return l.displayName||"Context";case N:return(l._context.displayName||"Context")+".Consumer";case S:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case R:return d=l.displayName||null,d!==null?d:M(l.type)||"Memo";case H:d=l._payload,l=l._init;try{return M(l(d))}catch{}}return null}var ie=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},oe=[],we=-1;function G(l){return{current:l}}function D(l){0>we||(l.current=oe[we],oe[we]=null,we--)}function W(l,d){we++,oe[we]=l.current,l.current=d}var K=G(null),re=G(null),se=G(null),I=G(null);function F(l,d){switch(W(se,d),W(re,l),W(K,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?VC(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=VC(d),l=$C(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}D(K),W(K,l)}function ne(){D(K),D(re),D(se)}function te(l){l.memoizedState!==null&&W(I,l);var d=K.current,p=$C(d,l.type);d!==p&&(W(re,l),W(K,p))}function Q(l){re.current===l&&(D(K),D(re)),I.current===l&&(D(I),yf._currentValue=xe)}var z,be;function B(l){if(z===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);z=d&&d[1]||"",be=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+l+be}var Ee=!1;function q(l,d){if(!l||Ee)return"";Ee=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Ie){var je=Ie}Reflect.construct(l,[],He)}else{try{He.call()}catch(Ie){je=Ie}l.call(He.prototype)}}else{try{throw Error()}catch(Ie){je=Ie}(He=l())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Ie){if(Ie&&je&&typeof Ie.stack=="string")return[Ie.stack,je.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=b.DetermineComponentFrameRoot(),V=A[0],ce=A[1];if(V&&ce){var ve=V.split(`
`),Te=ce.split(`
`);for(T=b=0;b<ve.length&&!ve[b].includes("DetermineComponentFrameRoot");)b++;for(;T<Te.length&&!Te[T].includes("DetermineComponentFrameRoot");)T++;if(b===ve.length||T===Te.length)for(b=ve.length-1,T=Te.length-1;1<=b&&0<=T&&ve[b]!==Te[T];)T--;for(;1<=b&&0<=T;b--,T--)if(ve[b]!==Te[T]){if(b!==1||T!==1)do if(b--,T--,0>T||ve[b]!==Te[T]){var Be=`
`+ve[b].replace(" at new "," at ");return l.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",l.displayName)),Be}while(1<=b&&0<=T);break}}}finally{Ee=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?B(p):""}function C(l,d){switch(l.tag){case 26:case 27:case 5:return B(l.type);case 16:return B("Lazy");case 13:return l.child!==d&&d!==null?B("Suspense Fallback"):B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return q(l.type,!1);case 11:return q(l.type.render,!1);case 1:return q(l.type,!0);case 31:return B("Activity");default:return""}}function j(l){try{var d="",p=null;do d+=C(l,p),p=l,l=l.return;while(l);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var U=Object.prototype.hasOwnProperty,ue=e.unstable_scheduleCallback,ye=e.unstable_cancelCallback,he=e.unstable_shouldYield,ke=e.unstable_requestPaint,De=e.unstable_now,Pe=e.unstable_getCurrentPriorityLevel,We=e.unstable_ImmediatePriority,et=e.unstable_UserBlockingPriority,tt=e.unstable_NormalPriority,Ht=e.unstable_LowPriority,lt=e.unstable_IdlePriority,jt=e.log,sr=e.unstable_setDisableYieldValue,ht=null,Jt=null;function un(l){if(typeof jt=="function"&&sr(l),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(ht,l)}catch{}}var Zt=Math.clz32?Math.clz32:Zn,Eo=Math.log,Ya=Math.LN2;function Zn(l){return l>>>=0,l===0?32:31-(Eo(l)/Ya|0)|0}var Ra=256,ja=262144,Qn=4194304;function Hr(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function pt(l,d,p){var b=l.pendingLanes;if(b===0)return 0;var T=0,A=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var ce=b&134217727;return ce!==0?(b=ce&~A,b!==0?T=Hr(b):(V&=ce,V!==0?T=Hr(V):p||(p=ce&~l,p!==0&&(T=Hr(p))))):(ce=b&~A,ce!==0?T=Hr(ce):V!==0?T=Hr(V):p||(p=b&~l,p!==0&&(T=Hr(p)))),T===0?0:d!==0&&d!==T&&(d&A)===0&&(A=T&-T,p=d&-d,A>=p||A===32&&(p&4194048)!==0)?d:T}function or(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function qr(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var l=Qn;return Qn<<=1,(Qn&62914560)===0&&(Qn=4194304),l}function Ja(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function hr(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Pn(l,d,p,b,T,A){var V=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var ce=l.entanglements,ve=l.expirationTimes,Te=l.hiddenUpdates;for(p=V&~p;0<p;){var Be=31-Zt(p),He=1<<Be;ce[Be]=0,ve[Be]=-1;var je=Te[Be];if(je!==null)for(Te[Be]=null,Be=0;Be<je.length;Be++){var Ie=je[Be];Ie!==null&&(Ie.lane&=-536870913)}p&=~He}b!==0&&Ti(l,b,0),A!==0&&T===0&&l.tag!==0&&(l.suspendedLanes|=A&~(V&~d))}function Ti(l,d,p){l.pendingLanes|=d,l.suspendedLanes&=~d;var b=31-Zt(d);l.entangledLanes|=d,l.entanglements[b]=l.entanglements[b]|1073741824|p&261930}function fn(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var b=31-Zt(p),T=1<<b;T&d|l[b]&d&&(l[b]|=d),p&=~T}}function Ln(l,d){var p=d&-d;return p=(p&42)!==0?1:_o(p),(p&(l.suspendedLanes|d))!==0?0:p}function _o(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function js(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function le(){var l=ee.p;return l!==0?l:(l=window.event,l===void 0?32:pA(l.type))}function me(l,d){var p=ee.p;try{return ee.p=l,d()}finally{ee.p=p}}var de=Math.random().toString(36).slice(2),fe="__reactFiber$"+de,pe="__reactProps$"+de,ge="__reactContainer$"+de,Ce="__reactEvents$"+de,Ue="__reactListeners$"+de,Ae="__reactHandles$"+de,Re="__reactResources$"+de,Oe="__reactMarker$"+de;function Ge(l){delete l[fe],delete l[pe],delete l[Ce],delete l[Ue],delete l[Ae]}function Ye(l){var d=l[fe];if(d)return d;for(var p=l.parentNode;p;){if(d=p[ge]||p[fe]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=ZC(l);l!==null;){if(p=l[fe])return p;l=ZC(l)}return d}l=p,p=l.parentNode}return null}function Qe(l){if(l=l[fe]||l[ge]){var d=l.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return l}return null}function Ke(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(n(33))}function Je(l){var d=l[Re];return d||(d=l[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function at(l){l[Oe]=!0}var lr=new Set,cr={};function yr(l,d){Qs(l,d),Qs(l+"Capture",d)}function Qs(l,d){for(cr[l]=d,l=0;l<d.length;l++)lr.add(d[l])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Za={};function Dd(l){return U.call(Za,l)?!0:U.call(So,l)?!1:Ml.test(l)?Za[l]=!0:(So[l]=!0,!1)}function ps(l,d,p){if(Dd(d))if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+p)}}function O0(l,d,p){if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+p)}}function Ci(l,d,p,b){if(b===null)l.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(d,p,""+b)}}function ea(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function FS(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function zP(l,d,p){var b=Object.getOwnPropertyDescriptor(l.constructor.prototype,d);if(!l.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var T=b.get,A=b.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return T.call(this)},set:function(V){p=""+V,A.call(this,V)}}),Object.defineProperty(l,d,{enumerable:b.enumerable}),{getValue:function(){return p},setValue:function(V){p=""+V},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function o1(l){if(!l._valueTracker){var d=FS(l)?"checked":"value";l._valueTracker=zP(l,d,""+l[d])}}function PS(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),b="";return l&&(b=FS(l)?l.checked?"true":"false":l.value),l=b,l!==p?(d.setValue(l),!0):!1}function D0(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var HP=/[\n"\\]/g;function ta(l){return l.replace(HP,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function l1(l,d,p,b,T,A,V,ce){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),d!=null?V==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+ea(d)):l.value!==""+ea(d)&&(l.value=""+ea(d)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),d!=null?c1(l,V,ea(d)):p!=null?c1(l,V,ea(p)):b!=null&&l.removeAttribute("value"),T==null&&A!=null&&(l.defaultChecked=!!A),T!=null&&(l.checked=T&&typeof T!="function"&&typeof T!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?l.name=""+ea(ce):l.removeAttribute("name")}function LS(l,d,p,b,T,A,V,ce){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(l.type=A),d!=null||p!=null){if(!(A!=="submit"&&A!=="reset"||d!=null)){o1(l);return}p=p!=null?""+ea(p):"",d=d!=null?""+ea(d):p,ce||d===l.value||(l.value=d),l.defaultValue=d}b=b??T,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=ce?l.checked:!!b,l.defaultChecked=!!b,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V),o1(l)}function c1(l,d,p){d==="number"&&D0(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function Kc(l,d,p,b){if(l=l.options,d){d={};for(var T=0;T<p.length;T++)d["$"+p[T]]=!0;for(p=0;p<l.length;p++)T=d.hasOwnProperty("$"+l[p].value),l[p].selected!==T&&(l[p].selected=T),T&&b&&(l[p].defaultSelected=!0)}else{for(p=""+ea(p),d=null,T=0;T<l.length;T++){if(l[T].value===p){l[T].selected=!0,b&&(l[T].defaultSelected=!0);return}d!==null||l[T].disabled||(d=l[T])}d!==null&&(d.selected=!0)}}function BS(l,d,p){if(d!=null&&(d=""+ea(d),d!==l.value&&(l.value=d),p==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=p!=null?""+ea(p):""}function US(l,d,p,b){if(d==null){if(b!=null){if(p!=null)throw Error(n(92));if(ie(b)){if(1<b.length)throw Error(n(93));b=b[0]}p=b}p==null&&(p=""),d=p}p=ea(d),l.defaultValue=p,b=l.textContent,b===p&&b!==""&&b!==null&&(l.value=b),o1(l)}function Xc(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var qP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zS(l,d,p){var b=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?b?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":b?l.setProperty(d,p):typeof p!="number"||p===0||qP.has(d)?d==="float"?l.cssFloat=p:l[d]=(""+p).trim():l[d]=p+"px"}function HS(l,d,p){if(d!=null&&typeof d!="object")throw Error(n(62));if(l=l.style,p!=null){for(var b in p)!p.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var T in d)b=d[T],d.hasOwnProperty(T)&&p[T]!==b&&zS(l,T,b)}else for(var A in d)d.hasOwnProperty(A)&&zS(l,A,d[A])}function u1(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$P=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function I0(l){return $P.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Ai(){}var d1=null;function f1(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Yc=null,Jc=null;function qS(l){var d=Qe(l);if(d&&(l=d.stateNode)){var p=l[pe]||null;e:switch(l=d.stateNode,d.type){case"input":if(l1(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ta(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var b=p[d];if(b!==l&&b.form===l.form){var T=b[pe]||null;if(!T)throw Error(n(90));l1(b,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(d=0;d<p.length;d++)b=p[d],b.form===l.form&&PS(b)}break e;case"textarea":BS(l,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Kc(l,!!p.multiple,d,!1)}}}var h1=!1;function VS(l,d,p){if(h1)return l(d,p);h1=!0;try{var b=l(d);return b}finally{if(h1=!1,(Yc!==null||Jc!==null)&&(wp(),Yc&&(d=Yc,l=Jc,Jc=Yc=null,qS(d),l)))for(d=0;d<l.length;d++)qS(l[d])}}function Id(l,d){var p=l.stateNode;if(p===null)return null;var b=p[pe]||null;if(b===null)return null;p=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,d,typeof p));return p}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p1=!1;if(ki)try{var Md={};Object.defineProperty(Md,"passive",{get:function(){p1=!0}}),window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,Md)}catch{p1=!1}var No=null,m1=null,M0=null;function $S(){if(M0)return M0;var l,d=m1,p=d.length,b,T="value"in No?No.value:No.textContent,A=T.length;for(l=0;l<p&&d[l]===T[l];l++);var V=p-l;for(b=1;b<=V&&d[p-b]===T[A-b];b++);return M0=T.slice(l,1<b?1-b:void 0)}function F0(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function P0(){return!0}function WS(){return!1}function ms(l){function d(p,b,T,A,V){this._reactName=p,this._targetInst=T,this.type=b,this.nativeEvent=A,this.target=V,this.currentTarget=null;for(var ce in l)l.hasOwnProperty(ce)&&(p=l[ce],this[ce]=p?p(A):A[ce]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?P0:WS,this.isPropagationStopped=WS,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=P0)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=P0)},persist:function(){},isPersistent:P0}),d}var Fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L0=ms(Fl),Fd=m({},Fl,{view:0,detail:0}),WP=ms(Fd),x1,g1,Pd,B0=m({},Fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v1,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Pd&&(Pd&&l.type==="mousemove"?(x1=l.screenX-Pd.screenX,g1=l.screenY-Pd.screenY):g1=x1=0,Pd=l),x1)},movementY:function(l){return"movementY"in l?l.movementY:g1}}),GS=ms(B0),GP=m({},B0,{dataTransfer:0}),KP=ms(GP),XP=m({},Fd,{relatedTarget:0}),y1=ms(XP),YP=m({},Fl,{animationName:0,elapsedTime:0,pseudoElement:0}),JP=ms(YP),ZP=m({},Fl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),QP=ms(ZP),eL=m({},Fl,{data:0}),KS=ms(eL),tL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sL(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=nL[l])?!!d[l]:!1}function v1(){return sL}var aL=m({},Fd,{key:function(l){if(l.key){var d=tL[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=F0(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?rL[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v1,charCode:function(l){return l.type==="keypress"?F0(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?F0(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),iL=ms(aL),oL=m({},B0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XS=ms(oL),lL=m({},Fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v1}),cL=ms(lL),uL=m({},Fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dL=ms(uL),fL=m({},B0,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),hL=ms(fL),pL=m({},Fl,{newState:0,oldState:0}),mL=ms(pL),xL=[9,13,27,32],b1=ki&&"CompositionEvent"in window,Ld=null;ki&&"documentMode"in document&&(Ld=document.documentMode);var gL=ki&&"TextEvent"in window&&!Ld,YS=ki&&(!b1||Ld&&8<Ld&&11>=Ld),JS=" ",ZS=!1;function QS(l,d){switch(l){case"keyup":return xL.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eN(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Zc=!1;function yL(l,d){switch(l){case"compositionend":return eN(d);case"keypress":return d.which!==32?null:(ZS=!0,JS);case"textInput":return l=d.data,l===JS&&ZS?null:l;default:return null}}function vL(l,d){if(Zc)return l==="compositionend"||!b1&&QS(l,d)?(l=$S(),M0=m1=No=null,Zc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return YS&&d.locale!=="ko"?null:d.data;default:return null}}var bL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tN(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!bL[l.type]:d==="textarea"}function rN(l,d,p,b){Yc?Jc?Jc.push(b):Jc=[b]:Yc=b,d=Ap(d,"onChange"),0<d.length&&(p=new L0("onChange","change",null,p,b),l.push({event:p,listeners:d}))}var Bd=null,Ud=null;function wL(l){LC(l,0)}function U0(l){var d=Ke(l);if(PS(d))return l}function nN(l,d){if(l==="change")return d}var sN=!1;if(ki){var w1;if(ki){var E1="oninput"in document;if(!E1){var aN=document.createElement("div");aN.setAttribute("oninput","return;"),E1=typeof aN.oninput=="function"}w1=E1}else w1=!1;sN=w1&&(!document.documentMode||9<document.documentMode)}function iN(){Bd&&(Bd.detachEvent("onpropertychange",oN),Ud=Bd=null)}function oN(l){if(l.propertyName==="value"&&U0(Ud)){var d=[];rN(d,Ud,l,f1(l)),VS(wL,d)}}function EL(l,d,p){l==="focusin"?(iN(),Bd=d,Ud=p,Bd.attachEvent("onpropertychange",oN)):l==="focusout"&&iN()}function _L(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return U0(Ud)}function SL(l,d){if(l==="click")return U0(d)}function NL(l,d){if(l==="input"||l==="change")return U0(d)}function TL(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Os=typeof Object.is=="function"?Object.is:TL;function zd(l,d){if(Os(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),b=Object.keys(d);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var T=p[b];if(!U.call(d,T)||!Os(l[T],d[T]))return!1}return!0}function lN(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function cN(l,d){var p=lN(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=d&&b>=d)return{node:p,offset:d-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=lN(p)}}function uN(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?uN(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function dN(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=D0(l.document);d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=D0(l.document)}return d}function _1(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var CL=ki&&"documentMode"in document&&11>=document.documentMode,Qc=null,S1=null,Hd=null,N1=!1;function fN(l,d,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;N1||Qc==null||Qc!==D0(b)||(b=Qc,"selectionStart"in b&&_1(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Hd&&zd(Hd,b)||(Hd=b,b=Ap(S1,"onSelect"),0<b.length&&(d=new L0("onSelect","select",null,d,p),l.push({event:d,listeners:b}),d.target=Qc)))}function Pl(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var eu={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},T1={},hN={};ki&&(hN=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function Ll(l){if(T1[l])return T1[l];if(!eu[l])return l;var d=eu[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in hN)return T1[l]=d[p];return l}var pN=Ll("animationend"),mN=Ll("animationiteration"),xN=Ll("animationstart"),AL=Ll("transitionrun"),kL=Ll("transitionstart"),RL=Ll("transitioncancel"),gN=Ll("transitionend"),yN=new Map,C1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");C1.push("scrollEnd");function Oa(l,d){yN.set(l,d),yr(d,[l])}var z0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ra=[],tu=0,A1=0;function H0(){for(var l=tu,d=A1=tu=0;d<l;){var p=ra[d];ra[d++]=null;var b=ra[d];ra[d++]=null;var T=ra[d];ra[d++]=null;var A=ra[d];if(ra[d++]=null,b!==null&&T!==null){var V=b.pending;V===null?T.next=T:(T.next=V.next,V.next=T),b.pending=T}A!==0&&vN(p,T,A)}}function q0(l,d,p,b){ra[tu++]=l,ra[tu++]=d,ra[tu++]=p,ra[tu++]=b,A1|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function k1(l,d,p,b){return q0(l,d,p,b),V0(l)}function Bl(l,d){return q0(l,null,null,d),V0(l)}function vN(l,d,p){l.lanes|=p;var b=l.alternate;b!==null&&(b.lanes|=p);for(var T=!1,A=l.return;A!==null;)A.childLanes|=p,b=A.alternate,b!==null&&(b.childLanes|=p),A.tag===22&&(l=A.stateNode,l===null||l._visibility&1||(T=!0)),l=A,A=A.return;return l.tag===3?(A=l.stateNode,T&&d!==null&&(T=31-Zt(p),l=A.hiddenUpdates,b=l[T],b===null?l[T]=[d]:b.push(d),d.lane=p|536870912),A):null}function V0(l){if(50<df)throw df=0,Ly=null,Error(n(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var ru={};function jL(l,d,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(l,d,p,b){return new jL(l,d,p,b)}function R1(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ri(l,d){var p=l.alternate;return p===null?(p=Ds(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function bN(l,d){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,d=p.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function $0(l,d,p,b,T,A){var V=0;if(b=l,typeof l=="function")R1(l)&&(V=1);else if(typeof l=="string")V=FB(l,p,K.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case O:return l=Ds(31,p,d,T),l.elementType=O,l.lanes=A,l;case y:return Ul(p.children,T,A,d);case w:V=8,T|=24;break;case E:return l=Ds(12,p,d,T|2),l.elementType=E,l.lanes=A,l;case k:return l=Ds(13,p,d,T),l.elementType=k,l.lanes=A,l;case L:return l=Ds(19,p,d,T),l.elementType=L,l.lanes=A,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case _:V=10;break e;case N:V=9;break e;case S:V=11;break e;case R:V=14;break e;case H:V=16,b=null;break e}V=29,p=Error(n(130,l===null?"null":typeof l,"")),b=null}return d=Ds(V,p,d,T),d.elementType=l,d.type=b,d.lanes=A,d}function Ul(l,d,p,b){return l=Ds(7,l,b,d),l.lanes=p,l}function j1(l,d,p){return l=Ds(6,l,null,d),l.lanes=p,l}function wN(l){var d=Ds(18,null,null,0);return d.stateNode=l,d}function O1(l,d,p){return d=Ds(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var EN=new WeakMap;function na(l,d){if(typeof l=="object"&&l!==null){var p=EN.get(l);return p!==void 0?p:(d={value:l,source:d,stack:j(d)},EN.set(l,d),d)}return{value:l,source:d,stack:j(d)}}var nu=[],su=0,W0=null,qd=0,sa=[],aa=0,To=null,Qa=1,ei="";function ji(l,d){nu[su++]=qd,nu[su++]=W0,W0=l,qd=d}function _N(l,d,p){sa[aa++]=Qa,sa[aa++]=ei,sa[aa++]=To,To=l;var b=Qa;l=ei;var T=32-Zt(b)-1;b&=~(1<<T),p+=1;var A=32-Zt(d)+T;if(30<A){var V=T-T%5;A=(b&(1<<V)-1).toString(32),b>>=V,T-=V,Qa=1<<32-Zt(d)+T|p<<T|b,ei=A+l}else Qa=1<<A|p<<T|b,ei=l}function D1(l){l.return!==null&&(ji(l,1),_N(l,1,0))}function I1(l){for(;l===W0;)W0=nu[--su],nu[su]=null,qd=nu[--su],nu[su]=null;for(;l===To;)To=sa[--aa],sa[aa]=null,ei=sa[--aa],sa[aa]=null,Qa=sa[--aa],sa[aa]=null}function SN(l,d){sa[aa++]=Qa,sa[aa++]=ei,sa[aa++]=To,Qa=d.id,ei=d.overflow,To=l}var _n=null,pr=null,Ft=!1,Co=null,ia=!1,M1=Error(n(519));function Ao(l){var d=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vd(na(d,l)),M1}function NN(l){var d=l.stateNode,p=l.type,b=l.memoizedProps;switch(d[fe]=l,d[pe]=b,p){case"dialog":Dt("cancel",d),Dt("close",d);break;case"iframe":case"object":case"embed":Dt("load",d);break;case"video":case"audio":for(p=0;p<hf.length;p++)Dt(hf[p],d);break;case"source":Dt("error",d);break;case"img":case"image":case"link":Dt("error",d),Dt("load",d);break;case"details":Dt("toggle",d);break;case"input":Dt("invalid",d),LS(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Dt("invalid",d);break;case"textarea":Dt("invalid",d),US(d,b.value,b.defaultValue,b.children)}p=b.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||b.suppressHydrationWarning===!0||HC(d.textContent,p)?(b.popover!=null&&(Dt("beforetoggle",d),Dt("toggle",d)),b.onScroll!=null&&Dt("scroll",d),b.onScrollEnd!=null&&Dt("scrollend",d),b.onClick!=null&&(d.onclick=Ai),d=!0):d=!1,d||Ao(l,!0)}function TN(l){for(_n=l.return;_n;)switch(_n.tag){case 5:case 31:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:_n=_n.return}}function au(l){if(l!==_n)return!1;if(!Ft)return TN(l),Ft=!0,!1;var d=l.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||Qy(l.type,l.memoizedProps)),p=!p),p&&pr&&Ao(l),TN(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));pr=JC(l)}else if(d===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));pr=JC(l)}else d===27?(d=pr,Ho(l.type)?(l=sv,sv=null,pr=l):pr=d):pr=_n?la(l.stateNode.nextSibling):null;return!0}function zl(){pr=_n=null,Ft=!1}function F1(){var l=Co;return l!==null&&(vs===null?vs=l:vs.push.apply(vs,l),Co=null),l}function Vd(l){Co===null?Co=[l]:Co.push(l)}var P1=G(null),Hl=null,Oi=null;function ko(l,d,p){W(P1,d._currentValue),d._currentValue=p}function Di(l){l._currentValue=P1.current,D(P1)}function L1(l,d,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),l===p)break;l=l.return}}function B1(l,d,p,b){var T=l.child;for(T!==null&&(T.return=l);T!==null;){var A=T.dependencies;if(A!==null){var V=T.child;A=A.firstContext;e:for(;A!==null;){var ce=A;A=T;for(var ve=0;ve<d.length;ve++)if(ce.context===d[ve]){A.lanes|=p,ce=A.alternate,ce!==null&&(ce.lanes|=p),L1(A.return,p,l),b||(V=null);break e}A=ce.next}}else if(T.tag===18){if(V=T.return,V===null)throw Error(n(341));V.lanes|=p,A=V.alternate,A!==null&&(A.lanes|=p),L1(V,p,l),V=null}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===l){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}}function iu(l,d,p,b){l=null;for(var T=d,A=!1;T!==null;){if(!A){if((T.flags&524288)!==0)A=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var V=T.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var ce=T.type;Os(T.pendingProps.value,V.value)||(l!==null?l.push(ce):l=[ce])}}else if(T===I.current){if(V=T.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(l!==null?l.push(yf):l=[yf])}T=T.return}l!==null&&B1(d,l,p,b),d.flags|=262144}function G0(l){for(l=l.firstContext;l!==null;){if(!Os(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function ql(l){Hl=l,Oi=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Sn(l){return CN(Hl,l)}function K0(l,d){return Hl===null&&ql(l),CN(l,d)}function CN(l,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},Oi===null){if(l===null)throw Error(n(308));Oi=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else Oi=Oi.next=d;return p}var OL=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(p,b){l.push(b)}};this.abort=function(){d.aborted=!0,l.forEach(function(p){return p()})}},DL=e.unstable_scheduleCallback,IL=e.unstable_NormalPriority,Vr={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function U1(){return{controller:new OL,data:new Map,refCount:0}}function $d(l){l.refCount--,l.refCount===0&&DL(IL,function(){l.controller.abort()})}var Wd=null,z1=0,ou=0,lu=null;function ML(l,d){if(Wd===null){var p=Wd=[];z1=0,ou=Vy(),lu={status:"pending",value:void 0,then:function(b){p.push(b)}}}return z1++,d.then(AN,AN),d}function AN(){if(--z1===0&&Wd!==null){lu!==null&&(lu.status="fulfilled");var l=Wd;Wd=null,ou=0,lu=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function FL(l,d){var p=[],b={status:"pending",value:null,reason:null,then:function(T){p.push(T)}};return l.then(function(){b.status="fulfilled",b.value=d;for(var T=0;T<p.length;T++)(0,p[T])(d)},function(T){for(b.status="rejected",b.reason=T,T=0;T<p.length;T++)(0,p[T])(void 0)}),b}var kN=J.S;J.S=function(l,d){fC=De(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&ML(l,d),kN!==null&&kN(l,d)};var Vl=G(null);function H1(){var l=Vl.current;return l!==null?l:ar.pooledCache}function X0(l,d){d===null?W(Vl,Vl.current):W(Vl,d.pool)}function RN(){var l=H1();return l===null?null:{parent:Vr._currentValue,pool:l}}var cu=Error(n(460)),q1=Error(n(474)),Y0=Error(n(542)),J0={then:function(){}};function jN(l){return l=l.status,l==="fulfilled"||l==="rejected"}function ON(l,d,p){switch(p=l[p],p===void 0?l.push(d):p!==d&&(d.then(Ai,Ai),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,IN(l),l;default:if(typeof d.status=="string")d.then(Ai,Ai);else{if(l=ar,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=d,l.status="pending",l.then(function(b){if(d.status==="pending"){var T=d;T.status="fulfilled",T.value=b}},function(b){if(d.status==="pending"){var T=d;T.status="rejected",T.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,IN(l),l}throw Wl=d,cu}}function $l(l){try{var d=l._init;return d(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Wl=p,cu):p}}var Wl=null;function DN(){if(Wl===null)throw Error(n(459));var l=Wl;return Wl=null,l}function IN(l){if(l===cu||l===Y0)throw Error(n(483))}var uu=null,Gd=0;function Z0(l){var d=Gd;return Gd+=1,uu===null&&(uu=[]),ON(uu,l,d)}function Kd(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function Q0(l,d){throw d.$$typeof===x?Error(n(525)):(l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function MN(l){function d(Se,_e){if(l){var Ne=Se.deletions;Ne===null?(Se.deletions=[_e],Se.flags|=16):Ne.push(_e)}}function p(Se,_e){if(!l)return null;for(;_e!==null;)d(Se,_e),_e=_e.sibling;return null}function b(Se){for(var _e=new Map;Se!==null;)Se.key!==null?_e.set(Se.key,Se):_e.set(Se.index,Se),Se=Se.sibling;return _e}function T(Se,_e){return Se=Ri(Se,_e),Se.index=0,Se.sibling=null,Se}function A(Se,_e,Ne){return Se.index=Ne,l?(Ne=Se.alternate,Ne!==null?(Ne=Ne.index,Ne<_e?(Se.flags|=67108866,_e):Ne):(Se.flags|=67108866,_e)):(Se.flags|=1048576,_e)}function V(Se){return l&&Se.alternate===null&&(Se.flags|=67108866),Se}function ce(Se,_e,Ne,ze){return _e===null||_e.tag!==6?(_e=j1(Ne,Se.mode,ze),_e.return=Se,_e):(_e=T(_e,Ne),_e.return=Se,_e)}function ve(Se,_e,Ne,ze){var ut=Ne.type;return ut===y?Be(Se,_e,Ne.props.children,ze,Ne.key):_e!==null&&(_e.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===H&&$l(ut)===_e.type)?(_e=T(_e,Ne.props),Kd(_e,Ne),_e.return=Se,_e):(_e=$0(Ne.type,Ne.key,Ne.props,null,Se.mode,ze),Kd(_e,Ne),_e.return=Se,_e)}function Te(Se,_e,Ne,ze){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Ne.containerInfo||_e.stateNode.implementation!==Ne.implementation?(_e=O1(Ne,Se.mode,ze),_e.return=Se,_e):(_e=T(_e,Ne.children||[]),_e.return=Se,_e)}function Be(Se,_e,Ne,ze,ut){return _e===null||_e.tag!==7?(_e=Ul(Ne,Se.mode,ze,ut),_e.return=Se,_e):(_e=T(_e,Ne),_e.return=Se,_e)}function He(Se,_e,Ne){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=j1(""+_e,Se.mode,Ne),_e.return=Se,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case g:return Ne=$0(_e.type,_e.key,_e.props,null,Se.mode,Ne),Kd(Ne,_e),Ne.return=Se,Ne;case v:return _e=O1(_e,Se.mode,Ne),_e.return=Se,_e;case H:return _e=$l(_e),He(Se,_e,Ne)}if(ie(_e)||P(_e))return _e=Ul(_e,Se.mode,Ne,null),_e.return=Se,_e;if(typeof _e.then=="function")return He(Se,Z0(_e),Ne);if(_e.$$typeof===_)return He(Se,K0(Se,_e),Ne);Q0(Se,_e)}return null}function je(Se,_e,Ne,ze){var ut=_e!==null?_e.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ut!==null?null:ce(Se,_e,""+Ne,ze);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case g:return Ne.key===ut?ve(Se,_e,Ne,ze):null;case v:return Ne.key===ut?Te(Se,_e,Ne,ze):null;case H:return Ne=$l(Ne),je(Se,_e,Ne,ze)}if(ie(Ne)||P(Ne))return ut!==null?null:Be(Se,_e,Ne,ze,null);if(typeof Ne.then=="function")return je(Se,_e,Z0(Ne),ze);if(Ne.$$typeof===_)return je(Se,_e,K0(Se,Ne),ze);Q0(Se,Ne)}return null}function Ie(Se,_e,Ne,ze,ut){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Se=Se.get(Ne)||null,ce(_e,Se,""+ze,ut);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case g:return Se=Se.get(ze.key===null?Ne:ze.key)||null,ve(_e,Se,ze,ut);case v:return Se=Se.get(ze.key===null?Ne:ze.key)||null,Te(_e,Se,ze,ut);case H:return ze=$l(ze),Ie(Se,_e,Ne,ze,ut)}if(ie(ze)||P(ze))return Se=Se.get(Ne)||null,Be(_e,Se,ze,ut,null);if(typeof ze.then=="function")return Ie(Se,_e,Ne,Z0(ze),ut);if(ze.$$typeof===_)return Ie(Se,_e,Ne,K0(_e,ze),ut);Q0(_e,ze)}return null}function nt(Se,_e,Ne,ze){for(var ut=null,qt=null,ot=_e,Tt=_e=0,Mt=null;ot!==null&&Tt<Ne.length;Tt++){ot.index>Tt?(Mt=ot,ot=null):Mt=ot.sibling;var Vt=je(Se,ot,Ne[Tt],ze);if(Vt===null){ot===null&&(ot=Mt);break}l&&ot&&Vt.alternate===null&&d(Se,ot),_e=A(Vt,_e,Tt),qt===null?ut=Vt:qt.sibling=Vt,qt=Vt,ot=Mt}if(Tt===Ne.length)return p(Se,ot),Ft&&ji(Se,Tt),ut;if(ot===null){for(;Tt<Ne.length;Tt++)ot=He(Se,Ne[Tt],ze),ot!==null&&(_e=A(ot,_e,Tt),qt===null?ut=ot:qt.sibling=ot,qt=ot);return Ft&&ji(Se,Tt),ut}for(ot=b(ot);Tt<Ne.length;Tt++)Mt=Ie(ot,Se,Tt,Ne[Tt],ze),Mt!==null&&(l&&Mt.alternate!==null&&ot.delete(Mt.key===null?Tt:Mt.key),_e=A(Mt,_e,Tt),qt===null?ut=Mt:qt.sibling=Mt,qt=Mt);return l&&ot.forEach(function(Go){return d(Se,Go)}),Ft&&ji(Se,Tt),ut}function ft(Se,_e,Ne,ze){if(Ne==null)throw Error(n(151));for(var ut=null,qt=null,ot=_e,Tt=_e=0,Mt=null,Vt=Ne.next();ot!==null&&!Vt.done;Tt++,Vt=Ne.next()){ot.index>Tt?(Mt=ot,ot=null):Mt=ot.sibling;var Go=je(Se,ot,Vt.value,ze);if(Go===null){ot===null&&(ot=Mt);break}l&&ot&&Go.alternate===null&&d(Se,ot),_e=A(Go,_e,Tt),qt===null?ut=Go:qt.sibling=Go,qt=Go,ot=Mt}if(Vt.done)return p(Se,ot),Ft&&ji(Se,Tt),ut;if(ot===null){for(;!Vt.done;Tt++,Vt=Ne.next())Vt=He(Se,Vt.value,ze),Vt!==null&&(_e=A(Vt,_e,Tt),qt===null?ut=Vt:qt.sibling=Vt,qt=Vt);return Ft&&ji(Se,Tt),ut}for(ot=b(ot);!Vt.done;Tt++,Vt=Ne.next())Vt=Ie(ot,Se,Tt,Vt.value,ze),Vt!==null&&(l&&Vt.alternate!==null&&ot.delete(Vt.key===null?Tt:Vt.key),_e=A(Vt,_e,Tt),qt===null?ut=Vt:qt.sibling=Vt,qt=Vt);return l&&ot.forEach(function(GB){return d(Se,GB)}),Ft&&ji(Se,Tt),ut}function tr(Se,_e,Ne,ze){if(typeof Ne=="object"&&Ne!==null&&Ne.type===y&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case g:e:{for(var ut=Ne.key;_e!==null;){if(_e.key===ut){if(ut=Ne.type,ut===y){if(_e.tag===7){p(Se,_e.sibling),ze=T(_e,Ne.props.children),ze.return=Se,Se=ze;break e}}else if(_e.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===H&&$l(ut)===_e.type){p(Se,_e.sibling),ze=T(_e,Ne.props),Kd(ze,Ne),ze.return=Se,Se=ze;break e}p(Se,_e);break}else d(Se,_e);_e=_e.sibling}Ne.type===y?(ze=Ul(Ne.props.children,Se.mode,ze,Ne.key),ze.return=Se,Se=ze):(ze=$0(Ne.type,Ne.key,Ne.props,null,Se.mode,ze),Kd(ze,Ne),ze.return=Se,Se=ze)}return V(Se);case v:e:{for(ut=Ne.key;_e!==null;){if(_e.key===ut)if(_e.tag===4&&_e.stateNode.containerInfo===Ne.containerInfo&&_e.stateNode.implementation===Ne.implementation){p(Se,_e.sibling),ze=T(_e,Ne.children||[]),ze.return=Se,Se=ze;break e}else{p(Se,_e);break}else d(Se,_e);_e=_e.sibling}ze=O1(Ne,Se.mode,ze),ze.return=Se,Se=ze}return V(Se);case H:return Ne=$l(Ne),tr(Se,_e,Ne,ze)}if(ie(Ne))return nt(Se,_e,Ne,ze);if(P(Ne)){if(ut=P(Ne),typeof ut!="function")throw Error(n(150));return Ne=ut.call(Ne),ft(Se,_e,Ne,ze)}if(typeof Ne.then=="function")return tr(Se,_e,Z0(Ne),ze);if(Ne.$$typeof===_)return tr(Se,_e,K0(Se,Ne),ze);Q0(Se,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,_e!==null&&_e.tag===6?(p(Se,_e.sibling),ze=T(_e,Ne),ze.return=Se,Se=ze):(p(Se,_e),ze=j1(Ne,Se.mode,ze),ze.return=Se,Se=ze),V(Se)):p(Se,_e)}return function(Se,_e,Ne,ze){try{Gd=0;var ut=tr(Se,_e,Ne,ze);return uu=null,ut}catch(ot){if(ot===cu||ot===Y0)throw ot;var qt=Ds(29,ot,null,Se.mode);return qt.lanes=ze,qt.return=Se,qt}finally{}}}var Gl=MN(!0),FN=MN(!1),Ro=!1;function V1(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $1(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function jo(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Oo(l,d,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,($t&2)!==0){var T=b.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),b.pending=d,d=V0(l),vN(l,null,p),d}return q0(l,b,d,p),V0(l)}function Xd(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var b=d.lanes;b&=l.pendingLanes,p|=b,d.lanes=p,fn(l,p)}}function W1(l,d){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var T=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};A===null?T=A=V:A=A.next=V,p=p.next}while(p!==null);A===null?T=A=d:A=A.next=d}else T=A=d;p={baseState:b.baseState,firstBaseUpdate:T,lastBaseUpdate:A,shared:b.shared,callbacks:b.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}var G1=!1;function Yd(){if(G1){var l=lu;if(l!==null)throw l}}function Jd(l,d,p,b){G1=!1;var T=l.updateQueue;Ro=!1;var A=T.firstBaseUpdate,V=T.lastBaseUpdate,ce=T.shared.pending;if(ce!==null){T.shared.pending=null;var ve=ce,Te=ve.next;ve.next=null,V===null?A=Te:V.next=Te,V=ve;var Be=l.alternate;Be!==null&&(Be=Be.updateQueue,ce=Be.lastBaseUpdate,ce!==V&&(ce===null?Be.firstBaseUpdate=Te:ce.next=Te,Be.lastBaseUpdate=ve))}if(A!==null){var He=T.baseState;V=0,Be=Te=ve=null,ce=A;do{var je=ce.lane&-536870913,Ie=je!==ce.lane;if(Ie?(It&je)===je:(b&je)===je){je!==0&&je===ou&&(G1=!0),Be!==null&&(Be=Be.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var nt=l,ft=ce;je=d;var tr=p;switch(ft.tag){case 1:if(nt=ft.payload,typeof nt=="function"){He=nt.call(tr,He,je);break e}He=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=ft.payload,je=typeof nt=="function"?nt.call(tr,He,je):nt,je==null)break e;He=m({},He,je);break e;case 2:Ro=!0}}je=ce.callback,je!==null&&(l.flags|=64,Ie&&(l.flags|=8192),Ie=T.callbacks,Ie===null?T.callbacks=[je]:Ie.push(je))}else Ie={lane:je,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Be===null?(Te=Be=Ie,ve=He):Be=Be.next=Ie,V|=je;if(ce=ce.next,ce===null){if(ce=T.shared.pending,ce===null)break;Ie=ce,ce=Ie.next,Ie.next=null,T.lastBaseUpdate=Ie,T.shared.pending=null}}while(!0);Be===null&&(ve=He),T.baseState=ve,T.firstBaseUpdate=Te,T.lastBaseUpdate=Be,A===null&&(T.shared.lanes=0),Po|=V,l.lanes=V,l.memoizedState=He}}function PN(l,d){if(typeof l!="function")throw Error(n(191,l));l.call(d)}function LN(l,d){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)PN(p[l],d)}var du=G(null),ep=G(0);function BN(l,d){l=Hi,W(ep,l),W(du,d),Hi=l|d.baseLanes}function K1(){W(ep,Hi),W(du,du.current)}function X1(){Hi=ep.current,D(du),D(ep)}var Is=G(null),oa=null;function Do(l){var d=l.alternate;W(Dr,Dr.current&1),W(Is,l),oa===null&&(d===null||du.current!==null||d.memoizedState!==null)&&(oa=l)}function Y1(l){W(Dr,Dr.current),W(Is,l),oa===null&&(oa=l)}function UN(l){l.tag===22?(W(Dr,Dr.current),W(Is,l),oa===null&&(oa=l)):Io()}function Io(){W(Dr,Dr.current),W(Is,Is.current)}function Ms(l){D(Is),oa===l&&(oa=null),D(Dr)}var Dr=G(0);function tp(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||rv(p)||nv(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Ii=0,St=null,Qt=null,$r=null,rp=!1,fu=!1,Kl=!1,np=0,Zd=0,hu=null,PL=0;function Sr(){throw Error(n(321))}function J1(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!Os(l[p],d[p]))return!1;return!0}function Z1(l,d,p,b,T,A){return Ii=A,St=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,J.H=l===null||l.memoizedState===null?_T:hy,Kl=!1,A=p(b,T),Kl=!1,fu&&(A=HN(d,p,b,T)),zN(l),A}function zN(l){J.H=tf;var d=Qt!==null&&Qt.next!==null;if(Ii=0,$r=Qt=St=null,rp=!1,Zd=0,hu=null,d)throw Error(n(300));l===null||Wr||(l=l.dependencies,l!==null&&G0(l)&&(Wr=!0))}function HN(l,d,p,b){St=l;var T=0;do{if(fu&&(hu=null),Zd=0,fu=!1,25<=T)throw Error(n(301));if(T+=1,$r=Qt=null,l.updateQueue!=null){var A=l.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}J.H=ST,A=d(p,b)}while(fu);return A}function LL(){var l=J.H,d=l.useState()[0];return d=typeof d.then=="function"?Qd(d):d,l=l.useState()[0],(Qt!==null?Qt.memoizedState:null)!==l&&(St.flags|=1024),d}function Q1(){var l=np!==0;return np=0,l}function ey(l,d,p){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~p}function ty(l){if(rp){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}rp=!1}Ii=0,$r=Qt=St=null,fu=!1,Zd=np=0,hu=null}function es(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?St.memoizedState=$r=l:$r=$r.next=l,$r}function Ir(){if(Qt===null){var l=St.alternate;l=l!==null?l.memoizedState:null}else l=Qt.next;var d=$r===null?St.memoizedState:$r.next;if(d!==null)$r=d,Qt=l;else{if(l===null)throw St.alternate===null?Error(n(467)):Error(n(310));Qt=l,l={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},$r===null?St.memoizedState=$r=l:$r=$r.next=l}return $r}function sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qd(l){var d=Zd;return Zd+=1,hu===null&&(hu=[]),l=ON(hu,l,d),d=St,($r===null?d.memoizedState:$r.next)===null&&(d=d.alternate,J.H=d===null||d.memoizedState===null?_T:hy),l}function ap(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Qd(l);if(l.$$typeof===_)return Sn(l)}throw Error(n(438,String(l)))}function ry(l){var d=null,p=St.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var b=St.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(T){return T.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=sp(),St.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(l),b=0;b<l;b++)p[b]=Z;return d.index++,p}function Mi(l,d){return typeof d=="function"?d(l):d}function ip(l){var d=Ir();return ny(d,Qt,l)}function ny(l,d,p){var b=l.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=p;var T=l.baseQueue,A=b.pending;if(A!==null){if(T!==null){var V=T.next;T.next=A.next,A.next=V}d.baseQueue=T=A,b.pending=null}if(A=l.baseState,T===null)l.memoizedState=A;else{d=T.next;var ce=V=null,ve=null,Te=d,Be=!1;do{var He=Te.lane&-536870913;if(He!==Te.lane?(It&He)===He:(Ii&He)===He){var je=Te.revertLane;if(je===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),He===ou&&(Be=!0);else if((Ii&je)===je){Te=Te.next,je===ou&&(Be=!0);continue}else He={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ve===null?(ce=ve=He,V=A):ve=ve.next=He,St.lanes|=je,Po|=je;He=Te.action,Kl&&p(A,He),A=Te.hasEagerState?Te.eagerState:p(A,He)}else je={lane:He,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ve===null?(ce=ve=je,V=A):ve=ve.next=je,St.lanes|=He,Po|=He;Te=Te.next}while(Te!==null&&Te!==d);if(ve===null?V=A:ve.next=ce,!Os(A,l.memoizedState)&&(Wr=!0,Be&&(p=lu,p!==null)))throw p;l.memoizedState=A,l.baseState=V,l.baseQueue=ve,b.lastRenderedState=A}return T===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function sy(l){var d=Ir(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=p.dispatch,T=p.pending,A=d.memoizedState;if(T!==null){p.pending=null;var V=T=T.next;do A=l(A,V.action),V=V.next;while(V!==T);Os(A,d.memoizedState)||(Wr=!0),d.memoizedState=A,d.baseQueue===null&&(d.baseState=A),p.lastRenderedState=A}return[A,b]}function qN(l,d,p){var b=St,T=Ir(),A=Ft;if(A){if(p===void 0)throw Error(n(407));p=p()}else p=d();var V=!Os((Qt||T).memoizedState,p);if(V&&(T.memoizedState=p,Wr=!0),T=T.queue,oy(WN.bind(null,b,T,l),[l]),T.getSnapshot!==d||V||$r!==null&&$r.memoizedState.tag&1){if(b.flags|=2048,pu(9,{destroy:void 0},$N.bind(null,b,T,p,d),null),ar===null)throw Error(n(349));A||(Ii&127)!==0||VN(b,d,p)}return p}function VN(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=St.updateQueue,d===null?(d=sp(),St.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function $N(l,d,p,b){d.value=p,d.getSnapshot=b,GN(d)&&KN(l)}function WN(l,d,p){return p(function(){GN(d)&&KN(l)})}function GN(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!Os(l,p)}catch{return!0}}function KN(l){var d=Bl(l,2);d!==null&&bs(d,l,2)}function ay(l){var d=es();if(typeof l=="function"){var p=l;if(l=p(),Kl){un(!0);try{p()}finally{un(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:l},d}function XN(l,d,p,b){return l.baseState=p,ny(l,Qt,typeof b=="function"?b:Mi)}function BL(l,d,p,b,T){if(cp(l))throw Error(n(485));if(l=d.action,l!==null){var A={payload:T,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){A.listeners.push(V)}};J.T!==null?p(!0):A.isTransition=!1,b(A),p=d.pending,p===null?(A.next=d.pending=A,YN(d,A)):(A.next=p.next,d.pending=p.next=A)}}function YN(l,d){var p=d.action,b=d.payload,T=l.state;if(d.isTransition){var A=J.T,V={};J.T=V;try{var ce=p(T,b),ve=J.S;ve!==null&&ve(V,ce),JN(l,d,ce)}catch(Te){iy(l,d,Te)}finally{A!==null&&V.types!==null&&(A.types=V.types),J.T=A}}else try{A=p(T,b),JN(l,d,A)}catch(Te){iy(l,d,Te)}}function JN(l,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){ZN(l,d,b)},function(b){return iy(l,d,b)}):ZN(l,d,p)}function ZN(l,d,p){d.status="fulfilled",d.value=p,QN(d),l.state=p,d=l.pending,d!==null&&(p=d.next,p===d?l.pending=null:(p=p.next,d.next=p,YN(l,p)))}function iy(l,d,p){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=p,QN(d),d=d.next;while(d!==b)}l.action=null}function QN(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function eT(l,d){return d}function tT(l,d){if(Ft){var p=ar.formState;if(p!==null){e:{var b=St;if(Ft){if(pr){t:{for(var T=pr,A=ia;T.nodeType!==8;){if(!A){T=null;break t}if(T=la(T.nextSibling),T===null){T=null;break t}}A=T.data,T=A==="F!"||A==="F"?T:null}if(T){pr=la(T.nextSibling),b=T.data==="F!";break e}}Ao(b)}b=!1}b&&(d=p[0])}}return p=es(),p.memoizedState=p.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eT,lastRenderedState:d},p.queue=b,p=bT.bind(null,St,b),b.dispatch=p,b=ay(!1),A=fy.bind(null,St,!1,b.queue),b=es(),T={state:d,dispatch:null,action:l,pending:null},b.queue=T,p=BL.bind(null,St,T,A,p),T.dispatch=p,b.memoizedState=l,[d,p,!1]}function rT(l){var d=Ir();return nT(d,Qt,l)}function nT(l,d,p){if(d=ny(l,d,eT)[0],l=ip(Mi)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=Qd(d)}catch(V){throw V===cu?Y0:V}else b=d;d=Ir();var T=d.queue,A=T.dispatch;return p!==d.memoizedState&&(St.flags|=2048,pu(9,{destroy:void 0},UL.bind(null,T,p),null)),[b,A,l]}function UL(l,d){l.action=d}function sT(l){var d=Ir(),p=Qt;if(p!==null)return nT(d,p,l);Ir(),d=d.memoizedState,p=Ir();var b=p.queue.dispatch;return p.memoizedState=l,[d,b,!1]}function pu(l,d,p,b){return l={tag:l,create:p,deps:b,inst:d,next:null},d=St.updateQueue,d===null&&(d=sp(),St.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,d.lastEffect=l),l}function aT(){return Ir().memoizedState}function op(l,d,p,b){var T=es();St.flags|=l,T.memoizedState=pu(1|d,{destroy:void 0},p,b===void 0?null:b)}function lp(l,d,p,b){var T=Ir();b=b===void 0?null:b;var A=T.memoizedState.inst;Qt!==null&&b!==null&&J1(b,Qt.memoizedState.deps)?T.memoizedState=pu(d,A,p,b):(St.flags|=l,T.memoizedState=pu(1|d,A,p,b))}function iT(l,d){op(8390656,8,l,d)}function oy(l,d){lp(2048,8,l,d)}function zL(l){St.flags|=4;var d=St.updateQueue;if(d===null)d=sp(),St.updateQueue=d,d.events=[l];else{var p=d.events;p===null?d.events=[l]:p.push(l)}}function oT(l){var d=Ir().memoizedState;return zL({ref:d,nextImpl:l}),function(){if(($t&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}function lT(l,d){return lp(4,2,l,d)}function cT(l,d){return lp(4,4,l,d)}function uT(l,d){if(typeof d=="function"){l=l();var p=d(l);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function dT(l,d,p){p=p!=null?p.concat([l]):null,lp(4,4,uT.bind(null,d,l),p)}function ly(){}function fT(l,d){var p=Ir();d=d===void 0?null:d;var b=p.memoizedState;return d!==null&&J1(d,b[1])?b[0]:(p.memoizedState=[l,d],l)}function hT(l,d){var p=Ir();d=d===void 0?null:d;var b=p.memoizedState;if(d!==null&&J1(d,b[1]))return b[0];if(b=l(),Kl){un(!0);try{l()}finally{un(!1)}}return p.memoizedState=[b,d],b}function cy(l,d,p){return p===void 0||(Ii&1073741824)!==0&&(It&261930)===0?l.memoizedState=d:(l.memoizedState=p,l=pC(),St.lanes|=l,Po|=l,p)}function pT(l,d,p,b){return Os(p,d)?p:du.current!==null?(l=cy(l,p,b),Os(l,d)||(Wr=!0),l):(Ii&42)===0||(Ii&1073741824)!==0&&(It&261930)===0?(Wr=!0,l.memoizedState=p):(l=pC(),St.lanes|=l,Po|=l,d)}function mT(l,d,p,b,T){var A=ee.p;ee.p=A!==0&&8>A?A:8;var V=J.T,ce={};J.T=ce,fy(l,!1,d,p);try{var ve=T(),Te=J.S;if(Te!==null&&Te(ce,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Be=FL(ve,b);ef(l,d,Be,Ls(l))}else ef(l,d,b,Ls(l))}catch(He){ef(l,d,{then:function(){},status:"rejected",reason:He},Ls())}finally{ee.p=A,V!==null&&ce.types!==null&&(V.types=ce.types),J.T=V}}function HL(){}function uy(l,d,p,b){if(l.tag!==5)throw Error(n(476));var T=xT(l).queue;mT(l,T,d,xe,p===null?HL:function(){return gT(l),p(b)})}function xT(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:xe},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:p},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function gT(l){var d=xT(l);d.next===null&&(d=l.alternate.memoizedState),ef(l,d.next.queue,{},Ls())}function dy(){return Sn(yf)}function yT(){return Ir().memoizedState}function vT(){return Ir().memoizedState}function qL(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var p=Ls();l=jo(p);var b=Oo(d,l,p);b!==null&&(bs(b,d,p),Xd(b,d,p)),d={cache:U1()},l.payload=d;return}d=d.return}}function VL(l,d,p){var b=Ls();p={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},cp(l)?wT(d,p):(p=k1(l,d,p,b),p!==null&&(bs(p,l,b),ET(p,d,b)))}function bT(l,d,p){var b=Ls();ef(l,d,p,b)}function ef(l,d,p,b){var T={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(cp(l))wT(d,T);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=d.lastRenderedReducer,A!==null))try{var V=d.lastRenderedState,ce=A(V,p);if(T.hasEagerState=!0,T.eagerState=ce,Os(ce,V))return q0(l,d,T,0),ar===null&&H0(),!1}catch{}finally{}if(p=k1(l,d,T,b),p!==null)return bs(p,l,b),ET(p,d,b),!0}return!1}function fy(l,d,p,b){if(b={lane:2,revertLane:Vy(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},cp(l)){if(d)throw Error(n(479))}else d=k1(l,p,b,2),d!==null&&bs(d,l,2)}function cp(l){var d=l.alternate;return l===St||d!==null&&d===St}function wT(l,d){fu=rp=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function ET(l,d,p){if((p&4194048)!==0){var b=d.lanes;b&=l.pendingLanes,p|=b,d.lanes=p,fn(l,p)}}var tf={readContext:Sn,use:ap,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useLayoutEffect:Sr,useInsertionEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useSyncExternalStore:Sr,useId:Sr,useHostTransitionStatus:Sr,useFormState:Sr,useActionState:Sr,useOptimistic:Sr,useMemoCache:Sr,useCacheRefresh:Sr};tf.useEffectEvent=Sr;var _T={readContext:Sn,use:ap,useCallback:function(l,d){return es().memoizedState=[l,d===void 0?null:d],l},useContext:Sn,useEffect:iT,useImperativeHandle:function(l,d,p){p=p!=null?p.concat([l]):null,op(4194308,4,uT.bind(null,d,l),p)},useLayoutEffect:function(l,d){return op(4194308,4,l,d)},useInsertionEffect:function(l,d){op(4,2,l,d)},useMemo:function(l,d){var p=es();d=d===void 0?null:d;var b=l();if(Kl){un(!0);try{l()}finally{un(!1)}}return p.memoizedState=[b,d],b},useReducer:function(l,d,p){var b=es();if(p!==void 0){var T=p(d);if(Kl){un(!0);try{p(d)}finally{un(!1)}}}else T=d;return b.memoizedState=b.baseState=T,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:T},b.queue=l,l=l.dispatch=VL.bind(null,St,l),[b.memoizedState,l]},useRef:function(l){var d=es();return l={current:l},d.memoizedState=l},useState:function(l){l=ay(l);var d=l.queue,p=bT.bind(null,St,d);return d.dispatch=p,[l.memoizedState,p]},useDebugValue:ly,useDeferredValue:function(l,d){var p=es();return cy(p,l,d)},useTransition:function(){var l=ay(!1);return l=mT.bind(null,St,l.queue,!0,!1),es().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,p){var b=St,T=es();if(Ft){if(p===void 0)throw Error(n(407));p=p()}else{if(p=d(),ar===null)throw Error(n(349));(It&127)!==0||VN(b,d,p)}T.memoizedState=p;var A={value:p,getSnapshot:d};return T.queue=A,iT(WN.bind(null,b,A,l),[l]),b.flags|=2048,pu(9,{destroy:void 0},$N.bind(null,b,A,p,d),null),p},useId:function(){var l=es(),d=ar.identifierPrefix;if(Ft){var p=ei,b=Qa;p=(b&~(1<<32-Zt(b)-1)).toString(32)+p,d="_"+d+"R_"+p,p=np++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=PL++,d="_"+d+"r_"+p.toString(32)+"_";return l.memoizedState=d},useHostTransitionStatus:dy,useFormState:tT,useActionState:tT,useOptimistic:function(l){var d=es();d.memoizedState=d.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=fy.bind(null,St,!0,p),p.dispatch=d,[l,d]},useMemoCache:ry,useCacheRefresh:function(){return es().memoizedState=qL.bind(null,St)},useEffectEvent:function(l){var d=es(),p={impl:l};return d.memoizedState=p,function(){if(($t&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},hy={readContext:Sn,use:ap,useCallback:fT,useContext:Sn,useEffect:oy,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:hT,useReducer:ip,useRef:aT,useState:function(){return ip(Mi)},useDebugValue:ly,useDeferredValue:function(l,d){var p=Ir();return pT(p,Qt.memoizedState,l,d)},useTransition:function(){var l=ip(Mi)[0],d=Ir().memoizedState;return[typeof l=="boolean"?l:Qd(l),d]},useSyncExternalStore:qN,useId:yT,useHostTransitionStatus:dy,useFormState:rT,useActionState:rT,useOptimistic:function(l,d){var p=Ir();return XN(p,Qt,l,d)},useMemoCache:ry,useCacheRefresh:vT};hy.useEffectEvent=oT;var ST={readContext:Sn,use:ap,useCallback:fT,useContext:Sn,useEffect:oy,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:hT,useReducer:sy,useRef:aT,useState:function(){return sy(Mi)},useDebugValue:ly,useDeferredValue:function(l,d){var p=Ir();return Qt===null?cy(p,l,d):pT(p,Qt.memoizedState,l,d)},useTransition:function(){var l=sy(Mi)[0],d=Ir().memoizedState;return[typeof l=="boolean"?l:Qd(l),d]},useSyncExternalStore:qN,useId:yT,useHostTransitionStatus:dy,useFormState:sT,useActionState:sT,useOptimistic:function(l,d){var p=Ir();return Qt!==null?XN(p,Qt,l,d):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:ry,useCacheRefresh:vT};ST.useEffectEvent=oT;function py(l,d,p,b){d=l.memoizedState,p=p(b,d),p=p==null?d:m({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var my={enqueueSetState:function(l,d,p){l=l._reactInternals;var b=Ls(),T=jo(b);T.payload=d,p!=null&&(T.callback=p),d=Oo(l,T,b),d!==null&&(bs(d,l,b),Xd(d,l,b))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var b=Ls(),T=jo(b);T.tag=1,T.payload=d,p!=null&&(T.callback=p),d=Oo(l,T,b),d!==null&&(bs(d,l,b),Xd(d,l,b))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=Ls(),b=jo(p);b.tag=2,d!=null&&(b.callback=d),d=Oo(l,b,p),d!==null&&(bs(d,l,p),Xd(d,l,p))}};function NT(l,d,p,b,T,A,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,A,V):d.prototype&&d.prototype.isPureReactComponent?!zd(p,b)||!zd(T,A):!0}function TT(l,d,p,b){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,b),d.state!==l&&my.enqueueReplaceState(d,d.state,null)}function Xl(l,d){var p=d;if("ref"in d){p={};for(var b in d)b!=="ref"&&(p[b]=d[b])}if(l=l.defaultProps){p===d&&(p=m({},p));for(var T in l)p[T]===void 0&&(p[T]=l[T])}return p}function CT(l){z0(l)}function AT(l){console.error(l)}function kT(l){z0(l)}function up(l,d){try{var p=l.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function RT(l,d,p){try{var b=l.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function xy(l,d,p){return p=jo(p),p.tag=3,p.payload={element:null},p.callback=function(){up(l,d)},p}function jT(l){return l=jo(l),l.tag=3,l}function OT(l,d,p,b){var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var A=b.value;l.payload=function(){return T(A)},l.callback=function(){RT(d,p,b)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){RT(d,p,b),typeof T!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var ce=b.stack;this.componentDidCatch(b.value,{componentStack:ce!==null?ce:""})})}function $L(l,d,p,b,T){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=p.alternate,d!==null&&iu(d,p,T,!0),p=Is.current,p!==null){switch(p.tag){case 31:case 13:return oa===null?Ep():p.alternate===null&&Nr===0&&(Nr=3),p.flags&=-257,p.flags|=65536,p.lanes=T,b===J0?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([b]):d.add(b),zy(l,b,T)),!1;case 22:return p.flags|=65536,b===J0?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([b]):p.add(b)),zy(l,b,T)),!1}throw Error(n(435,p.tag))}return zy(l,b,T),Ep(),!1}if(Ft)return d=Is.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=T,b!==M1&&(l=Error(n(422),{cause:b}),Vd(na(l,p)))):(b!==M1&&(d=Error(n(423),{cause:b}),Vd(na(d,p))),l=l.current.alternate,l.flags|=65536,T&=-T,l.lanes|=T,b=na(b,p),T=xy(l.stateNode,b,T),W1(l,T),Nr!==4&&(Nr=2)),!1;var A=Error(n(520),{cause:b});if(A=na(A,p),uf===null?uf=[A]:uf.push(A),Nr!==4&&(Nr=2),d===null)return!0;b=na(b,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,l=T&-T,p.lanes|=l,l=xy(p.stateNode,b,l),W1(p,l),!1;case 1:if(d=p.type,A=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Lo===null||!Lo.has(A))))return p.flags|=65536,T&=-T,p.lanes|=T,T=jT(T),OT(T,l,p,b),W1(p,T),!1}p=p.return}while(p!==null);return!1}var gy=Error(n(461)),Wr=!1;function Nn(l,d,p,b){d.child=l===null?FN(d,null,p,b):Gl(d,l.child,p,b)}function DT(l,d,p,b,T){p=p.render;var A=d.ref;if("ref"in b){var V={};for(var ce in b)ce!=="ref"&&(V[ce]=b[ce])}else V=b;return ql(d),b=Z1(l,d,p,V,A,T),ce=Q1(),l!==null&&!Wr?(ey(l,d,T),Fi(l,d,T)):(Ft&&ce&&D1(d),d.flags|=1,Nn(l,d,b,T),d.child)}function IT(l,d,p,b,T){if(l===null){var A=p.type;return typeof A=="function"&&!R1(A)&&A.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=A,MT(l,d,A,b,T)):(l=$0(p.type,null,b,d,d.mode,T),l.ref=d.ref,l.return=d,d.child=l)}if(A=l.child,!Ny(l,T)){var V=A.memoizedProps;if(p=p.compare,p=p!==null?p:zd,p(V,b)&&l.ref===d.ref)return Fi(l,d,T)}return d.flags|=1,l=Ri(A,b),l.ref=d.ref,l.return=d,d.child=l}function MT(l,d,p,b,T){if(l!==null){var A=l.memoizedProps;if(zd(A,b)&&l.ref===d.ref)if(Wr=!1,d.pendingProps=b=A,Ny(l,T))(l.flags&131072)!==0&&(Wr=!0);else return d.lanes=l.lanes,Fi(l,d,T)}return yy(l,d,p,b,T)}function FT(l,d,p,b){var T=b.children,A=l!==null?l.memoizedState:null;if(l===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((d.flags&128)!==0){if(A=A!==null?A.baseLanes|p:p,l!==null){for(b=d.child=l.child,T=0;b!==null;)T=T|b.lanes|b.childLanes,b=b.sibling;b=T&~A}else b=0,d.child=null;return PT(l,d,A,p,b)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&X0(d,A!==null?A.cachePool:null),A!==null?BN(d,A):K1(),UN(d);else return b=d.lanes=536870912,PT(l,d,A!==null?A.baseLanes|p:p,p,b)}else A!==null?(X0(d,A.cachePool),BN(d,A),Io(),d.memoizedState=null):(l!==null&&X0(d,null),K1(),Io());return Nn(l,d,T,p),d.child}function rf(l,d){return l!==null&&l.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function PT(l,d,p,b,T){var A=H1();return A=A===null?null:{parent:Vr._currentValue,pool:A},d.memoizedState={baseLanes:p,cachePool:A},l!==null&&X0(d,null),K1(),UN(d),l!==null&&iu(l,d,b,!0),d.childLanes=T,null}function dp(l,d){return d=hp({mode:d.mode,children:d.children},l.mode),d.ref=l.ref,l.child=d,d.return=l,d}function LT(l,d,p){return Gl(d,l.child,null,p),l=dp(d,d.pendingProps),l.flags|=2,Ms(d),d.memoizedState=null,l}function WL(l,d,p){var b=d.pendingProps,T=(d.flags&128)!==0;if(d.flags&=-129,l===null){if(Ft){if(b.mode==="hidden")return l=dp(d,b),d.lanes=536870912,rf(null,l);if(Y1(d),(l=pr)?(l=YC(l,ia),l=l!==null&&l.data==="&"?l:null,l!==null&&(d.memoizedState={dehydrated:l,treeContext:To!==null?{id:Qa,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},p=wN(l),p.return=d,d.child=p,_n=d,pr=null)):l=null,l===null)throw Ao(d);return d.lanes=536870912,null}return dp(d,b)}var A=l.memoizedState;if(A!==null){var V=A.dehydrated;if(Y1(d),T)if(d.flags&256)d.flags&=-257,d=LT(l,d,p);else if(d.memoizedState!==null)d.child=l.child,d.flags|=128,d=null;else throw Error(n(558));else if(Wr||iu(l,d,p,!1),T=(p&l.childLanes)!==0,Wr||T){if(b=ar,b!==null&&(V=Ln(b,p),V!==0&&V!==A.retryLane))throw A.retryLane=V,Bl(l,V),bs(b,l,V),gy;Ep(),d=LT(l,d,p)}else l=A.treeContext,pr=la(V.nextSibling),_n=d,Ft=!0,Co=null,ia=!1,l!==null&&SN(d,l),d=dp(d,b),d.flags|=4096;return d}return l=Ri(l.child,{mode:b.mode,children:b.children}),l.ref=d.ref,d.child=l,l.return=d,l}function fp(l,d){var p=d.ref;if(p===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(l===null||l.ref!==p)&&(d.flags|=4194816)}}function yy(l,d,p,b,T){return ql(d),p=Z1(l,d,p,b,void 0,T),b=Q1(),l!==null&&!Wr?(ey(l,d,T),Fi(l,d,T)):(Ft&&b&&D1(d),d.flags|=1,Nn(l,d,p,T),d.child)}function BT(l,d,p,b,T,A){return ql(d),d.updateQueue=null,p=HN(d,b,p,T),zN(l),b=Q1(),l!==null&&!Wr?(ey(l,d,A),Fi(l,d,A)):(Ft&&b&&D1(d),d.flags|=1,Nn(l,d,p,A),d.child)}function UT(l,d,p,b,T){if(ql(d),d.stateNode===null){var A=ru,V=p.contextType;typeof V=="object"&&V!==null&&(A=Sn(V)),A=new p(b,A),d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=my,d.stateNode=A,A._reactInternals=d,A=d.stateNode,A.props=b,A.state=d.memoizedState,A.refs={},V1(d),V=p.contextType,A.context=typeof V=="object"&&V!==null?Sn(V):ru,A.state=d.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(py(d,p,V,b),A.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(V=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),V!==A.state&&my.enqueueReplaceState(A,A.state,null),Jd(d,b,A,T),Yd(),A.state=d.memoizedState),typeof A.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(l===null){A=d.stateNode;var ce=d.memoizedProps,ve=Xl(p,ce);A.props=ve;var Te=A.context,Be=p.contextType;V=ru,typeof Be=="object"&&Be!==null&&(V=Sn(Be));var He=p.getDerivedStateFromProps;Be=typeof He=="function"||typeof A.getSnapshotBeforeUpdate=="function",ce=d.pendingProps!==ce,Be||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(ce||Te!==V)&&TT(d,A,b,V),Ro=!1;var je=d.memoizedState;A.state=je,Jd(d,b,A,T),Yd(),Te=d.memoizedState,ce||je!==Te||Ro?(typeof He=="function"&&(py(d,p,He,b),Te=d.memoizedState),(ve=Ro||NT(d,p,ve,b,je,Te,V))?(Be||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(d.flags|=4194308)):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=Te),A.props=b,A.state=Te,A.context=V,b=ve):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{A=d.stateNode,$1(l,d),V=d.memoizedProps,Be=Xl(p,V),A.props=Be,He=d.pendingProps,je=A.context,Te=p.contextType,ve=ru,typeof Te=="object"&&Te!==null&&(ve=Sn(Te)),ce=p.getDerivedStateFromProps,(Te=typeof ce=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==He||je!==ve)&&TT(d,A,b,ve),Ro=!1,je=d.memoizedState,A.state=je,Jd(d,b,A,T),Yd();var Ie=d.memoizedState;V!==He||je!==Ie||Ro||l!==null&&l.dependencies!==null&&G0(l.dependencies)?(typeof ce=="function"&&(py(d,p,ce,b),Ie=d.memoizedState),(Be=Ro||NT(d,p,Be,b,je,Ie,ve)||l!==null&&l.dependencies!==null&&G0(l.dependencies))?(Te||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(b,Ie,ve),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(b,Ie,ve)),typeof A.componentDidUpdate=="function"&&(d.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof A.componentDidUpdate!="function"||V===l.memoizedProps&&je===l.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&je===l.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=Ie),A.props=b,A.state=Ie,A.context=ve,b=Be):(typeof A.componentDidUpdate!="function"||V===l.memoizedProps&&je===l.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&je===l.memoizedState||(d.flags|=1024),b=!1)}return A=b,fp(l,d),b=(d.flags&128)!==0,A||b?(A=d.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:A.render(),d.flags|=1,l!==null&&b?(d.child=Gl(d,l.child,null,T),d.child=Gl(d,null,p,T)):Nn(l,d,p,T),d.memoizedState=A.state,l=d.child):l=Fi(l,d,T),l}function zT(l,d,p,b){return zl(),d.flags|=256,Nn(l,d,p,b),d.child}var vy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function by(l){return{baseLanes:l,cachePool:RN()}}function wy(l,d,p){return l=l!==null?l.childLanes&~p:0,d&&(l|=Ps),l}function HT(l,d,p){var b=d.pendingProps,T=!1,A=(d.flags&128)!==0,V;if((V=A)||(V=l!==null&&l.memoizedState===null?!1:(Dr.current&2)!==0),V&&(T=!0,d.flags&=-129),V=(d.flags&32)!==0,d.flags&=-33,l===null){if(Ft){if(T?Do(d):Io(),(l=pr)?(l=YC(l,ia),l=l!==null&&l.data!=="&"?l:null,l!==null&&(d.memoizedState={dehydrated:l,treeContext:To!==null?{id:Qa,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},p=wN(l),p.return=d,d.child=p,_n=d,pr=null)):l=null,l===null)throw Ao(d);return nv(l)?d.lanes=32:d.lanes=536870912,null}var ce=b.children;return b=b.fallback,T?(Io(),T=d.mode,ce=hp({mode:"hidden",children:ce},T),b=Ul(b,T,p,null),ce.return=d,b.return=d,ce.sibling=b,d.child=ce,b=d.child,b.memoizedState=by(p),b.childLanes=wy(l,V,p),d.memoizedState=vy,rf(null,b)):(Do(d),Ey(d,ce))}var ve=l.memoizedState;if(ve!==null&&(ce=ve.dehydrated,ce!==null)){if(A)d.flags&256?(Do(d),d.flags&=-257,d=_y(l,d,p)):d.memoizedState!==null?(Io(),d.child=l.child,d.flags|=128,d=null):(Io(),ce=b.fallback,T=d.mode,b=hp({mode:"visible",children:b.children},T),ce=Ul(ce,T,p,null),ce.flags|=2,b.return=d,ce.return=d,b.sibling=ce,d.child=b,Gl(d,l.child,null,p),b=d.child,b.memoizedState=by(p),b.childLanes=wy(l,V,p),d.memoizedState=vy,d=rf(null,b));else if(Do(d),nv(ce)){if(V=ce.nextSibling&&ce.nextSibling.dataset,V)var Te=V.dgst;V=Te,b=Error(n(419)),b.stack="",b.digest=V,Vd({value:b,source:null,stack:null}),d=_y(l,d,p)}else if(Wr||iu(l,d,p,!1),V=(p&l.childLanes)!==0,Wr||V){if(V=ar,V!==null&&(b=Ln(V,p),b!==0&&b!==ve.retryLane))throw ve.retryLane=b,Bl(l,b),bs(V,l,b),gy;rv(ce)||Ep(),d=_y(l,d,p)}else rv(ce)?(d.flags|=192,d.child=l.child,d=null):(l=ve.treeContext,pr=la(ce.nextSibling),_n=d,Ft=!0,Co=null,ia=!1,l!==null&&SN(d,l),d=Ey(d,b.children),d.flags|=4096);return d}return T?(Io(),ce=b.fallback,T=d.mode,ve=l.child,Te=ve.sibling,b=Ri(ve,{mode:"hidden",children:b.children}),b.subtreeFlags=ve.subtreeFlags&65011712,Te!==null?ce=Ri(Te,ce):(ce=Ul(ce,T,p,null),ce.flags|=2),ce.return=d,b.return=d,b.sibling=ce,d.child=b,rf(null,b),b=d.child,ce=l.child.memoizedState,ce===null?ce=by(p):(T=ce.cachePool,T!==null?(ve=Vr._currentValue,T=T.parent!==ve?{parent:ve,pool:ve}:T):T=RN(),ce={baseLanes:ce.baseLanes|p,cachePool:T}),b.memoizedState=ce,b.childLanes=wy(l,V,p),d.memoizedState=vy,rf(l.child,b)):(Do(d),p=l.child,l=p.sibling,p=Ri(p,{mode:"visible",children:b.children}),p.return=d,p.sibling=null,l!==null&&(V=d.deletions,V===null?(d.deletions=[l],d.flags|=16):V.push(l)),d.child=p,d.memoizedState=null,p)}function Ey(l,d){return d=hp({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function hp(l,d){return l=Ds(22,l,null,d),l.lanes=0,l}function _y(l,d,p){return Gl(d,l.child,null,p),l=Ey(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function qT(l,d,p){l.lanes|=d;var b=l.alternate;b!==null&&(b.lanes|=d),L1(l.return,d,p)}function Sy(l,d,p,b,T,A){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:T,treeForkCount:A}:(V.isBackwards=d,V.rendering=null,V.renderingStartTime=0,V.last=b,V.tail=p,V.tailMode=T,V.treeForkCount=A)}function VT(l,d,p){var b=d.pendingProps,T=b.revealOrder,A=b.tail;b=b.children;var V=Dr.current,ce=(V&2)!==0;if(ce?(V=V&1|2,d.flags|=128):V&=1,W(Dr,V),Nn(l,d,b,p),b=Ft?qd:0,!ce&&l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&qT(l,p,d);else if(l.tag===19)qT(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(T){case"forwards":for(p=d.child,T=null;p!==null;)l=p.alternate,l!==null&&tp(l)===null&&(T=p),p=p.sibling;p=T,p===null?(T=d.child,d.child=null):(T=p.sibling,p.sibling=null),Sy(d,!1,T,p,A,b);break;case"backwards":case"unstable_legacy-backwards":for(p=null,T=d.child,d.child=null;T!==null;){if(l=T.alternate,l!==null&&tp(l)===null){d.child=T;break}l=T.sibling,T.sibling=p,p=T,T=l}Sy(d,!0,p,null,A,b);break;case"together":Sy(d,!1,null,null,void 0,b);break;default:d.memoizedState=null}return d.child}function Fi(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),Po|=d.lanes,(p&d.childLanes)===0)if(l!==null){if(iu(l,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,p=Ri(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=Ri(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function Ny(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&G0(l)))}function GL(l,d,p){switch(d.tag){case 3:F(d,d.stateNode.containerInfo),ko(d,Vr,l.memoizedState.cache),zl();break;case 27:case 5:te(d);break;case 4:F(d,d.stateNode.containerInfo);break;case 10:ko(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,Y1(d),null;break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(Do(d),d.flags|=128,null):(p&d.child.childLanes)!==0?HT(l,d,p):(Do(d),l=Fi(l,d,p),l!==null?l.sibling:null);Do(d);break;case 19:var T=(l.flags&128)!==0;if(b=(p&d.childLanes)!==0,b||(iu(l,d,p,!1),b=(p&d.childLanes)!==0),T){if(b)return VT(l,d,p);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),W(Dr,Dr.current),b)break;return null;case 22:return d.lanes=0,FT(l,d,p,d.pendingProps);case 24:ko(d,Vr,l.memoizedState.cache)}return Fi(l,d,p)}function $T(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps)Wr=!0;else{if(!Ny(l,p)&&(d.flags&128)===0)return Wr=!1,GL(l,d,p);Wr=(l.flags&131072)!==0}else Wr=!1,Ft&&(d.flags&1048576)!==0&&_N(d,qd,d.index);switch(d.lanes=0,d.tag){case 16:e:{var b=d.pendingProps;if(l=$l(d.elementType),d.type=l,typeof l=="function")R1(l)?(b=Xl(l,b),d.tag=1,d=UT(null,d,l,b,p)):(d.tag=0,d=yy(null,d,l,b,p));else{if(l!=null){var T=l.$$typeof;if(T===S){d.tag=11,d=DT(null,d,l,b,p);break e}else if(T===R){d.tag=14,d=IT(null,d,l,b,p);break e}}throw d=M(l)||l,Error(n(306,d,""))}}return d;case 0:return yy(l,d,d.type,d.pendingProps,p);case 1:return b=d.type,T=Xl(b,d.pendingProps),UT(l,d,b,T,p);case 3:e:{if(F(d,d.stateNode.containerInfo),l===null)throw Error(n(387));b=d.pendingProps;var A=d.memoizedState;T=A.element,$1(l,d),Jd(d,b,null,p);var V=d.memoizedState;if(b=V.cache,ko(d,Vr,b),b!==A.cache&&B1(d,[Vr],p,!0),Yd(),b=V.element,A.isDehydrated)if(A={element:b,isDehydrated:!1,cache:V.cache},d.updateQueue.baseState=A,d.memoizedState=A,d.flags&256){d=zT(l,d,b,p);break e}else if(b!==T){T=na(Error(n(424)),d),Vd(T),d=zT(l,d,b,p);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(pr=la(l.firstChild),_n=d,Ft=!0,Co=null,ia=!0,p=FN(d,null,b,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(zl(),b===T){d=Fi(l,d,p);break e}Nn(l,d,b,p)}d=d.child}return d;case 26:return fp(l,d),l===null?(p=rA(d.type,null,d.pendingProps,null))?d.memoizedState=p:Ft||(p=d.type,l=d.pendingProps,b=kp(se.current).createElement(p),b[fe]=d,b[pe]=l,Tn(b,p,l),at(b),d.stateNode=b):d.memoizedState=rA(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return te(d),l===null&&Ft&&(b=d.stateNode=QC(d.type,d.pendingProps,se.current),_n=d,ia=!0,T=pr,Ho(d.type)?(sv=T,pr=la(b.firstChild)):pr=T),Nn(l,d,d.pendingProps.children,p),fp(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Ft&&((T=b=pr)&&(b=_B(b,d.type,d.pendingProps,ia),b!==null?(d.stateNode=b,_n=d,pr=la(b.firstChild),ia=!1,T=!0):T=!1),T||Ao(d)),te(d),T=d.type,A=d.pendingProps,V=l!==null?l.memoizedProps:null,b=A.children,Qy(T,A)?b=null:V!==null&&Qy(T,V)&&(d.flags|=32),d.memoizedState!==null&&(T=Z1(l,d,LL,null,null,p),yf._currentValue=T),fp(l,d),Nn(l,d,b,p),d.child;case 6:return l===null&&Ft&&((l=p=pr)&&(p=SB(p,d.pendingProps,ia),p!==null?(d.stateNode=p,_n=d,pr=null,l=!0):l=!1),l||Ao(d)),null;case 13:return HT(l,d,p);case 4:return F(d,d.stateNode.containerInfo),b=d.pendingProps,l===null?d.child=Gl(d,null,b,p):Nn(l,d,b,p),d.child;case 11:return DT(l,d,d.type,d.pendingProps,p);case 7:return Nn(l,d,d.pendingProps,p),d.child;case 8:return Nn(l,d,d.pendingProps.children,p),d.child;case 12:return Nn(l,d,d.pendingProps.children,p),d.child;case 10:return b=d.pendingProps,ko(d,d.type,b.value),Nn(l,d,b.children,p),d.child;case 9:return T=d.type._context,b=d.pendingProps.children,ql(d),T=Sn(T),b=b(T),d.flags|=1,Nn(l,d,b,p),d.child;case 14:return IT(l,d,d.type,d.pendingProps,p);case 15:return MT(l,d,d.type,d.pendingProps,p);case 19:return VT(l,d,p);case 31:return WL(l,d,p);case 22:return FT(l,d,p,d.pendingProps);case 24:return ql(d),b=Sn(Vr),l===null?(T=H1(),T===null&&(T=ar,A=U1(),T.pooledCache=A,A.refCount++,A!==null&&(T.pooledCacheLanes|=p),T=A),d.memoizedState={parent:b,cache:T},V1(d),ko(d,Vr,T)):((l.lanes&p)!==0&&($1(l,d),Jd(d,null,null,p),Yd()),T=l.memoizedState,A=d.memoizedState,T.parent!==b?(T={parent:b,cache:b},d.memoizedState=T,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=T),ko(d,Vr,b)):(b=A.cache,ko(d,Vr,b),b!==T.cache&&B1(d,[Vr],p,!0))),Nn(l,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function Pi(l){l.flags|=4}function Ty(l,d,p,b,T){if((d=(l.mode&32)!==0)&&(d=!1),d){if(l.flags|=16777216,(T&335544128)===T)if(l.stateNode.complete)l.flags|=8192;else if(yC())l.flags|=8192;else throw Wl=J0,q1}else l.flags&=-16777217}function WT(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!oA(d))if(yC())l.flags|=8192;else throw Wl=J0,q1}function pp(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?dn():536870912,l.lanes|=d,yu|=d)}function nf(l,d){if(!Ft)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function mr(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(d)for(var T=l.child;T!==null;)p|=T.lanes|T.childLanes,b|=T.subtreeFlags&65011712,b|=T.flags&65011712,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)p|=T.lanes|T.childLanes,b|=T.subtreeFlags,b|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=b,l.childLanes=p,d}function KL(l,d,p){var b=d.pendingProps;switch(I1(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(d),null;case 1:return mr(d),null;case 3:return p=d.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),Di(Vr),ne(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(au(d)?Pi(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,F1())),mr(d),null;case 26:var T=d.type,A=d.memoizedState;return l===null?(Pi(d),A!==null?(mr(d),WT(d,A)):(mr(d),Ty(d,T,null,b,p))):A?A!==l.memoizedState?(Pi(d),mr(d),WT(d,A)):(mr(d),d.flags&=-16777217):(l=l.memoizedProps,l!==b&&Pi(d),mr(d),Ty(d,T,l,b,p)),null;case 27:if(Q(d),p=se.current,T=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==b&&Pi(d);else{if(!b){if(d.stateNode===null)throw Error(n(166));return mr(d),null}l=K.current,au(d)?NN(d):(l=QC(T,b,p),d.stateNode=l,Pi(d))}return mr(d),null;case 5:if(Q(d),T=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==b&&Pi(d);else{if(!b){if(d.stateNode===null)throw Error(n(166));return mr(d),null}if(A=K.current,au(d))NN(d);else{var V=kp(se.current);switch(A){case 1:A=V.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:A=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":A=V.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":A=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":A=V.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof b.is=="string"?V.createElement("select",{is:b.is}):V.createElement("select"),b.multiple?A.multiple=!0:b.size&&(A.size=b.size);break;default:A=typeof b.is=="string"?V.createElement(T,{is:b.is}):V.createElement(T)}}A[fe]=d,A[pe]=b;e:for(V=d.child;V!==null;){if(V.tag===5||V.tag===6)A.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===d)break e;for(;V.sibling===null;){if(V.return===null||V.return===d)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}d.stateNode=A;e:switch(Tn(A,T,b),T){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Pi(d)}}return mr(d),Ty(d,d.type,l===null?null:l.memoizedProps,d.pendingProps,p),null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==b&&Pi(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(n(166));if(l=se.current,au(d)){if(l=d.stateNode,p=d.memoizedProps,b=null,T=_n,T!==null)switch(T.tag){case 27:case 5:b=T.memoizedProps}l[fe]=d,l=!!(l.nodeValue===p||b!==null&&b.suppressHydrationWarning===!0||HC(l.nodeValue,p)),l||Ao(d,!0)}else l=kp(l).createTextNode(b),l[fe]=d,d.stateNode=l}return mr(d),null;case 31:if(p=d.memoizedState,l===null||l.memoizedState!==null){if(b=au(d),p!==null){if(l===null){if(!b)throw Error(n(318));if(l=d.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[fe]=d}else zl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;mr(d),l=!1}else p=F1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return d.flags&256?(Ms(d),d):(Ms(d),null);if((d.flags&128)!==0)throw Error(n(558))}return mr(d),null;case 13:if(b=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(T=au(d),b!==null&&b.dehydrated!==null){if(l===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[fe]=d}else zl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;mr(d),T=!1}else T=F1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=T),T=!0;if(!T)return d.flags&256?(Ms(d),d):(Ms(d),null)}return Ms(d),(d.flags&128)!==0?(d.lanes=p,d):(p=b!==null,l=l!==null&&l.memoizedState!==null,p&&(b=d.child,T=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(T=b.alternate.memoizedState.cachePool.pool),A=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(A=b.memoizedState.cachePool.pool),A!==T&&(b.flags|=2048)),p!==l&&p&&(d.child.flags|=8192),pp(d,d.updateQueue),mr(d),null);case 4:return ne(),l===null&&Ky(d.stateNode.containerInfo),mr(d),null;case 10:return Di(d.type),mr(d),null;case 19:if(D(Dr),b=d.memoizedState,b===null)return mr(d),null;if(T=(d.flags&128)!==0,A=b.rendering,A===null)if(T)nf(b,!1);else{if(Nr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(A=tp(l),A!==null){for(d.flags|=128,nf(b,!1),l=A.updateQueue,d.updateQueue=l,pp(d,l),d.subtreeFlags=0,l=p,p=d.child;p!==null;)bN(p,l),p=p.sibling;return W(Dr,Dr.current&1|2),Ft&&ji(d,b.treeForkCount),d.child}l=l.sibling}b.tail!==null&&De()>vp&&(d.flags|=128,T=!0,nf(b,!1),d.lanes=4194304)}else{if(!T)if(l=tp(A),l!==null){if(d.flags|=128,T=!0,l=l.updateQueue,d.updateQueue=l,pp(d,l),nf(b,!0),b.tail===null&&b.tailMode==="hidden"&&!A.alternate&&!Ft)return mr(d),null}else 2*De()-b.renderingStartTime>vp&&p!==536870912&&(d.flags|=128,T=!0,nf(b,!1),d.lanes=4194304);b.isBackwards?(A.sibling=d.child,d.child=A):(l=b.last,l!==null?l.sibling=A:d.child=A,b.last=A)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=De(),l.sibling=null,p=Dr.current,W(Dr,T?p&1|2:p&1),Ft&&ji(d,b.treeForkCount),l):(mr(d),null);case 22:case 23:return Ms(d),X1(),b=d.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(p&536870912)!==0&&(d.flags&128)===0&&(mr(d),d.subtreeFlags&6&&(d.flags|=8192)):mr(d),p=d.updateQueue,p!==null&&pp(d,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048),l!==null&&D(Vl),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),Di(Vr),mr(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function XL(l,d){switch(I1(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Di(Vr),ne(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Q(d),null;case 31:if(d.memoizedState!==null){if(Ms(d),d.alternate===null)throw Error(n(340));zl()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 13:if(Ms(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));zl()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return D(Dr),null;case 4:return ne(),null;case 10:return Di(d.type),null;case 22:case 23:return Ms(d),X1(),l!==null&&D(Vl),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return Di(Vr),null;case 25:return null;default:return null}}function GT(l,d){switch(I1(d),d.tag){case 3:Di(Vr),ne();break;case 26:case 27:case 5:Q(d);break;case 4:ne();break;case 31:d.memoizedState!==null&&Ms(d);break;case 13:Ms(d);break;case 19:D(Dr);break;case 10:Di(d.type);break;case 22:case 23:Ms(d),X1(),l!==null&&D(Vl);break;case 24:Di(Vr)}}function sf(l,d){try{var p=d.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var T=b.next;p=T;do{if((p.tag&l)===l){b=void 0;var A=p.create,V=p.inst;b=A(),V.destroy=b}p=p.next}while(p!==T)}}catch(ce){Kt(d,d.return,ce)}}function Mo(l,d,p){try{var b=d.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var A=T.next;b=A;do{if((b.tag&l)===l){var V=b.inst,ce=V.destroy;if(ce!==void 0){V.destroy=void 0,T=d;var ve=p,Te=ce;try{Te()}catch(Be){Kt(T,ve,Be)}}}b=b.next}while(b!==A)}}catch(Be){Kt(d,d.return,Be)}}function KT(l){var d=l.updateQueue;if(d!==null){var p=l.stateNode;try{LN(d,p)}catch(b){Kt(l,l.return,b)}}}function XT(l,d,p){p.props=Xl(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(b){Kt(l,d,b)}}function af(l,d){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var b=l.stateNode;break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof p=="function"?l.refCleanup=p(b):p.current=b}}catch(T){Kt(l,d,T)}}function ti(l,d){var p=l.ref,b=l.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(T){Kt(l,d,T)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(T){Kt(l,d,T)}else p.current=null}function YT(l){var d=l.type,p=l.memoizedProps,b=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&b.focus();break e;case"img":p.src?b.src=p.src:p.srcSet&&(b.srcset=p.srcSet)}}catch(T){Kt(l,l.return,T)}}function Cy(l,d,p){try{var b=l.stateNode;gB(b,l.type,p,d),b[pe]=d}catch(T){Kt(l,l.return,T)}}function JT(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Ho(l.type)||l.tag===4}function Ay(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||JT(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Ho(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ky(l,d,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(l),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Ai));else if(b!==4&&(b===27&&Ho(l.type)&&(p=l.stateNode,d=null),l=l.child,l!==null))for(ky(l,d,p),l=l.sibling;l!==null;)ky(l,d,p),l=l.sibling}function mp(l,d,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(b!==4&&(b===27&&Ho(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(mp(l,d,p),l=l.sibling;l!==null;)mp(l,d,p),l=l.sibling}function ZT(l){var d=l.stateNode,p=l.memoizedProps;try{for(var b=l.type,T=d.attributes;T.length;)d.removeAttributeNode(T[0]);Tn(d,b,p),d[fe]=l,d[pe]=p}catch(A){Kt(l,l.return,A)}}var Li=!1,Gr=!1,Ry=!1,QT=typeof WeakSet=="function"?WeakSet:Set,hn=null;function YL(l,d){if(l=l.containerInfo,Jy=Fp,l=dN(l),_1(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var T=b.anchorOffset,A=b.focusNode;b=b.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var V=0,ce=-1,ve=-1,Te=0,Be=0,He=l,je=null;t:for(;;){for(var Ie;He!==p||T!==0&&He.nodeType!==3||(ce=V+T),He!==A||b!==0&&He.nodeType!==3||(ve=V+b),He.nodeType===3&&(V+=He.nodeValue.length),(Ie=He.firstChild)!==null;)je=He,He=Ie;for(;;){if(He===l)break t;if(je===p&&++Te===T&&(ce=V),je===A&&++Be===b&&(ve=V),(Ie=He.nextSibling)!==null)break;He=je,je=He.parentNode}He=Ie}p=ce===-1||ve===-1?null:{start:ce,end:ve}}else p=null}p=p||{start:0,end:0}}else p=null;for(Zy={focusedElem:l,selectionRange:p},Fp=!1,hn=d;hn!==null;)if(d=hn,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,hn=l;else for(;hn!==null;){switch(d=hn,A=d.alternate,l=d.flags,d.tag){case 0:if((l&4)!==0&&(l=d.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)T=l[p],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&A!==null){l=void 0,p=d,T=A.memoizedProps,A=A.memoizedState,b=p.stateNode;try{var nt=Xl(p.type,T);l=b.getSnapshotBeforeUpdate(nt,A),b.__reactInternalSnapshotBeforeUpdate=l}catch(ft){Kt(p,p.return,ft)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,p=l.nodeType,p===9)tv(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":tv(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=d.sibling,l!==null){l.return=d.return,hn=l;break}hn=d.return}}function eC(l,d,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:Ui(l,p),b&4&&sf(5,p);break;case 1:if(Ui(l,p),b&4)if(l=p.stateNode,d===null)try{l.componentDidMount()}catch(V){Kt(p,p.return,V)}else{var T=Xl(p.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(T,d,l.__reactInternalSnapshotBeforeUpdate)}catch(V){Kt(p,p.return,V)}}b&64&&KT(p),b&512&&af(p,p.return);break;case 3:if(Ui(l,p),b&64&&(l=p.updateQueue,l!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{LN(l,d)}catch(V){Kt(p,p.return,V)}}break;case 27:d===null&&b&4&&ZT(p);case 26:case 5:Ui(l,p),d===null&&b&4&&YT(p),b&512&&af(p,p.return);break;case 12:Ui(l,p);break;case 31:Ui(l,p),b&4&&nC(l,p);break;case 13:Ui(l,p),b&4&&sC(l,p),b&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=aB.bind(null,p),NB(l,p))));break;case 22:if(b=p.memoizedState!==null||Li,!b){d=d!==null&&d.memoizedState!==null||Gr,T=Li;var A=Gr;Li=b,(Gr=d)&&!A?zi(l,p,(p.subtreeFlags&8772)!==0):Ui(l,p),Li=T,Gr=A}break;case 30:break;default:Ui(l,p)}}function tC(l){var d=l.alternate;d!==null&&(l.alternate=null,tC(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Ge(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var vr=null,xs=!1;function Bi(l,d,p){for(p=p.child;p!==null;)rC(l,d,p),p=p.sibling}function rC(l,d,p){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ht,p)}catch{}switch(p.tag){case 26:Gr||ti(p,d),Bi(l,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Gr||ti(p,d);var b=vr,T=xs;Ho(p.type)&&(vr=p.stateNode,xs=!1),Bi(l,d,p),mf(p.stateNode),vr=b,xs=T;break;case 5:Gr||ti(p,d);case 6:if(b=vr,T=xs,vr=null,Bi(l,d,p),vr=b,xs=T,vr!==null)if(xs)try{(vr.nodeType===9?vr.body:vr.nodeName==="HTML"?vr.ownerDocument.body:vr).removeChild(p.stateNode)}catch(A){Kt(p,d,A)}else try{vr.removeChild(p.stateNode)}catch(A){Kt(p,d,A)}break;case 18:vr!==null&&(xs?(l=vr,KC(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Tu(l)):KC(vr,p.stateNode));break;case 4:b=vr,T=xs,vr=p.stateNode.containerInfo,xs=!0,Bi(l,d,p),vr=b,xs=T;break;case 0:case 11:case 14:case 15:Mo(2,p,d),Gr||Mo(4,p,d),Bi(l,d,p);break;case 1:Gr||(ti(p,d),b=p.stateNode,typeof b.componentWillUnmount=="function"&&XT(p,d,b)),Bi(l,d,p);break;case 21:Bi(l,d,p);break;case 22:Gr=(b=Gr)||p.memoizedState!==null,Bi(l,d,p),Gr=b;break;default:Bi(l,d,p)}}function nC(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Tu(l)}catch(p){Kt(d,d.return,p)}}}function sC(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Tu(l)}catch(p){Kt(d,d.return,p)}}function JL(l){switch(l.tag){case 31:case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new QT),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new QT),d;default:throw Error(n(435,l.tag))}}function xp(l,d){var p=JL(l);d.forEach(function(b){if(!p.has(b)){p.add(b);var T=iB.bind(null,l,b);b.then(T,T)}})}function gs(l,d){var p=d.deletions;if(p!==null)for(var b=0;b<p.length;b++){var T=p[b],A=l,V=d,ce=V;e:for(;ce!==null;){switch(ce.tag){case 27:if(Ho(ce.type)){vr=ce.stateNode,xs=!1;break e}break;case 5:vr=ce.stateNode,xs=!1;break e;case 3:case 4:vr=ce.stateNode.containerInfo,xs=!0;break e}ce=ce.return}if(vr===null)throw Error(n(160));rC(A,V,T),vr=null,xs=!1,A=T.alternate,A!==null&&(A.return=null),T.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)aC(d,l),d=d.sibling}var Da=null;function aC(l,d){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:gs(d,l),ys(l),b&4&&(Mo(3,l,l.return),sf(3,l),Mo(5,l,l.return));break;case 1:gs(d,l),ys(l),b&512&&(Gr||p===null||ti(p,p.return)),b&64&&Li&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:var T=Da;if(gs(d,l),ys(l),b&512&&(Gr||p===null||ti(p,p.return)),b&4){var A=p!==null?p.memoizedState:null;if(b=l.memoizedState,p===null)if(b===null)if(l.stateNode===null){e:{b=l.type,p=l.memoizedProps,T=T.ownerDocument||T;t:switch(b){case"title":A=T.getElementsByTagName("title")[0],(!A||A[Oe]||A[fe]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=T.createElement(b),T.head.insertBefore(A,T.querySelector("head > title"))),Tn(A,b,p),A[fe]=l,at(A),b=A;break e;case"link":var V=aA("link","href",T).get(b+(p.href||""));if(V){for(var ce=0;ce<V.length;ce++)if(A=V[ce],A.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&A.getAttribute("rel")===(p.rel==null?null:p.rel)&&A.getAttribute("title")===(p.title==null?null:p.title)&&A.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(ce,1);break t}}A=T.createElement(b),Tn(A,b,p),T.head.appendChild(A);break;case"meta":if(V=aA("meta","content",T).get(b+(p.content||""))){for(ce=0;ce<V.length;ce++)if(A=V[ce],A.getAttribute("content")===(p.content==null?null:""+p.content)&&A.getAttribute("name")===(p.name==null?null:p.name)&&A.getAttribute("property")===(p.property==null?null:p.property)&&A.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&A.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(ce,1);break t}}A=T.createElement(b),Tn(A,b,p),T.head.appendChild(A);break;default:throw Error(n(468,b))}A[fe]=l,at(A),b=A}l.stateNode=b}else iA(T,l.type,l.stateNode);else l.stateNode=sA(T,b,l.memoizedProps);else A!==b?(A===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):A.count--,b===null?iA(T,l.type,l.stateNode):sA(T,b,l.memoizedProps)):b===null&&l.stateNode!==null&&Cy(l,l.memoizedProps,p.memoizedProps)}break;case 27:gs(d,l),ys(l),b&512&&(Gr||p===null||ti(p,p.return)),p!==null&&b&4&&Cy(l,l.memoizedProps,p.memoizedProps);break;case 5:if(gs(d,l),ys(l),b&512&&(Gr||p===null||ti(p,p.return)),l.flags&32){T=l.stateNode;try{Xc(T,"")}catch(nt){Kt(l,l.return,nt)}}b&4&&l.stateNode!=null&&(T=l.memoizedProps,Cy(l,T,p!==null?p.memoizedProps:T)),b&1024&&(Ry=!0);break;case 6:if(gs(d,l),ys(l),b&4){if(l.stateNode===null)throw Error(n(162));b=l.memoizedProps,p=l.stateNode;try{p.nodeValue=b}catch(nt){Kt(l,l.return,nt)}}break;case 3:if(Op=null,T=Da,Da=Rp(d.containerInfo),gs(d,l),Da=T,ys(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{Tu(d.containerInfo)}catch(nt){Kt(l,l.return,nt)}Ry&&(Ry=!1,iC(l));break;case 4:b=Da,Da=Rp(l.stateNode.containerInfo),gs(d,l),ys(l),Da=b;break;case 12:gs(d,l),ys(l);break;case 31:gs(d,l),ys(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,xp(l,b)));break;case 13:gs(d,l),ys(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(yp=De()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,xp(l,b)));break;case 22:T=l.memoizedState!==null;var ve=p!==null&&p.memoizedState!==null,Te=Li,Be=Gr;if(Li=Te||T,Gr=Be||ve,gs(d,l),Gr=Be,Li=Te,ys(l),b&8192)e:for(d=l.stateNode,d._visibility=T?d._visibility&-2:d._visibility|1,T&&(p===null||ve||Li||Gr||Yl(l)),p=null,d=l;;){if(d.tag===5||d.tag===26){if(p===null){ve=p=d;try{if(A=ve.stateNode,T)V=A.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ce=ve.stateNode;var He=ve.memoizedProps.style,je=He!=null&&He.hasOwnProperty("display")?He.display:null;ce.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(nt){Kt(ve,ve.return,nt)}}}else if(d.tag===6){if(p===null){ve=d;try{ve.stateNode.nodeValue=T?"":ve.memoizedProps}catch(nt){Kt(ve,ve.return,nt)}}}else if(d.tag===18){if(p===null){ve=d;try{var Ie=ve.stateNode;T?XC(Ie,!0):XC(ve.stateNode,!1)}catch(nt){Kt(ve,ve.return,nt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=l.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,xp(l,p))));break;case 19:gs(d,l),ys(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,xp(l,b)));break;case 30:break;case 21:break;default:gs(d,l),ys(l)}}function ys(l){var d=l.flags;if(d&2){try{for(var p,b=l.return;b!==null;){if(JT(b)){p=b;break}b=b.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var T=p.stateNode,A=Ay(l);mp(l,A,T);break;case 5:var V=p.stateNode;p.flags&32&&(Xc(V,""),p.flags&=-33);var ce=Ay(l);mp(l,ce,V);break;case 3:case 4:var ve=p.stateNode.containerInfo,Te=Ay(l);ky(l,Te,ve);break;default:throw Error(n(161))}}catch(Be){Kt(l,l.return,Be)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function iC(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;iC(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Ui(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)eC(l,d.alternate,d),d=d.sibling}function Yl(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:Mo(4,d,d.return),Yl(d);break;case 1:ti(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&XT(d,d.return,p),Yl(d);break;case 27:mf(d.stateNode);case 26:case 5:ti(d,d.return),Yl(d);break;case 22:d.memoizedState===null&&Yl(d);break;case 30:Yl(d);break;default:Yl(d)}l=l.sibling}}function zi(l,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,T=l,A=d,V=A.flags;switch(A.tag){case 0:case 11:case 15:zi(T,A,p),sf(4,A);break;case 1:if(zi(T,A,p),b=A,T=b.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Te){Kt(b,b.return,Te)}if(b=A,T=b.updateQueue,T!==null){var ce=b.stateNode;try{var ve=T.shared.hiddenCallbacks;if(ve!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ve.length;T++)PN(ve[T],ce)}catch(Te){Kt(b,b.return,Te)}}p&&V&64&&KT(A),af(A,A.return);break;case 27:ZT(A);case 26:case 5:zi(T,A,p),p&&b===null&&V&4&&YT(A),af(A,A.return);break;case 12:zi(T,A,p);break;case 31:zi(T,A,p),p&&V&4&&nC(T,A);break;case 13:zi(T,A,p),p&&V&4&&sC(T,A);break;case 22:A.memoizedState===null&&zi(T,A,p),af(A,A.return);break;case 30:break;default:zi(T,A,p)}d=d.sibling}}function jy(l,d){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&$d(p))}function Oy(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&$d(l))}function Ia(l,d,p,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)oC(l,d,p,b),d=d.sibling}function oC(l,d,p,b){var T=d.flags;switch(d.tag){case 0:case 11:case 15:Ia(l,d,p,b),T&2048&&sf(9,d);break;case 1:Ia(l,d,p,b);break;case 3:Ia(l,d,p,b),T&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&$d(l)));break;case 12:if(T&2048){Ia(l,d,p,b),l=d.stateNode;try{var A=d.memoizedProps,V=A.id,ce=A.onPostCommit;typeof ce=="function"&&ce(V,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ve){Kt(d,d.return,ve)}}else Ia(l,d,p,b);break;case 31:Ia(l,d,p,b);break;case 13:Ia(l,d,p,b);break;case 23:break;case 22:A=d.stateNode,V=d.alternate,d.memoizedState!==null?A._visibility&2?Ia(l,d,p,b):of(l,d):A._visibility&2?Ia(l,d,p,b):(A._visibility|=2,mu(l,d,p,b,(d.subtreeFlags&10256)!==0||!1)),T&2048&&jy(V,d);break;case 24:Ia(l,d,p,b),T&2048&&Oy(d.alternate,d);break;default:Ia(l,d,p,b)}}function mu(l,d,p,b,T){for(T=T&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var A=l,V=d,ce=p,ve=b,Te=V.flags;switch(V.tag){case 0:case 11:case 15:mu(A,V,ce,ve,T),sf(8,V);break;case 23:break;case 22:var Be=V.stateNode;V.memoizedState!==null?Be._visibility&2?mu(A,V,ce,ve,T):of(A,V):(Be._visibility|=2,mu(A,V,ce,ve,T)),T&&Te&2048&&jy(V.alternate,V);break;case 24:mu(A,V,ce,ve,T),T&&Te&2048&&Oy(V.alternate,V);break;default:mu(A,V,ce,ve,T)}d=d.sibling}}function of(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=l,b=d,T=b.flags;switch(b.tag){case 22:of(p,b),T&2048&&jy(b.alternate,b);break;case 24:of(p,b),T&2048&&Oy(b.alternate,b);break;default:of(p,b)}d=d.sibling}}var lf=8192;function xu(l,d,p){if(l.subtreeFlags&lf)for(l=l.child;l!==null;)lC(l,d,p),l=l.sibling}function lC(l,d,p){switch(l.tag){case 26:xu(l,d,p),l.flags&lf&&l.memoizedState!==null&&PB(p,Da,l.memoizedState,l.memoizedProps);break;case 5:xu(l,d,p);break;case 3:case 4:var b=Da;Da=Rp(l.stateNode.containerInfo),xu(l,d,p),Da=b;break;case 22:l.memoizedState===null&&(b=l.alternate,b!==null&&b.memoizedState!==null?(b=lf,lf=16777216,xu(l,d,p),lf=b):xu(l,d,p));break;default:xu(l,d,p)}}function cC(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function cf(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var b=d[p];hn=b,dC(b,l)}cC(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)uC(l),l=l.sibling}function uC(l){switch(l.tag){case 0:case 11:case 15:cf(l),l.flags&2048&&Mo(9,l,l.return);break;case 3:cf(l);break;case 12:cf(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,gp(l)):cf(l);break;default:cf(l)}}function gp(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var b=d[p];hn=b,dC(b,l)}cC(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:Mo(8,d,d.return),gp(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,gp(d));break;default:gp(d)}l=l.sibling}}function dC(l,d){for(;hn!==null;){var p=hn;switch(p.tag){case 0:case 11:case 15:Mo(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:$d(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,hn=b;else e:for(p=l;hn!==null;){b=hn;var T=b.sibling,A=b.return;if(tC(b),b===p){hn=null;break e}if(T!==null){T.return=A,hn=T;break e}hn=A}}}var ZL={getCacheForType:function(l){var d=Sn(Vr),p=d.data.get(l);return p===void 0&&(p=l(),d.data.set(l,p)),p},cacheSignal:function(){return Sn(Vr).controller.signal}},QL=typeof WeakMap=="function"?WeakMap:Map,$t=0,ar=null,Ot=null,It=0,Gt=0,Fs=null,Fo=!1,gu=!1,Dy=!1,Hi=0,Nr=0,Po=0,Jl=0,Iy=0,Ps=0,yu=0,uf=null,vs=null,My=!1,yp=0,fC=0,vp=1/0,bp=null,Lo=null,sn=0,Bo=null,vu=null,qi=0,Fy=0,Py=null,hC=null,df=0,Ly=null;function Ls(){return($t&2)!==0&&It!==0?It&-It:J.T!==null?Vy():le()}function pC(){if(Ps===0)if((It&536870912)===0||Ft){var l=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),Ps=l}else Ps=536870912;return l=Is.current,l!==null&&(l.flags|=32),Ps}function bs(l,d,p){(l===ar&&(Gt===2||Gt===9)||l.cancelPendingCommit!==null)&&(bu(l,0),Uo(l,It,Ps,!1)),hr(l,p),(($t&2)===0||l!==ar)&&(l===ar&&(($t&2)===0&&(Jl|=p),Nr===4&&Uo(l,It,Ps,!1)),ri(l))}function mC(l,d,p){if(($t&6)!==0)throw Error(n(327));var b=!p&&(d&127)===0&&(d&l.expiredLanes)===0||or(l,d),T=b?rB(l,d):Uy(l,d,!0),A=b;do{if(T===0){gu&&!b&&Uo(l,d,0,!1);break}else{if(p=l.current.alternate,A&&!eB(p)){T=Uy(l,d,!1),A=!1;continue}if(T===2){if(A=d,l.errorRecoveryDisabledLanes&A)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){d=V;e:{var ce=l;T=uf;var ve=ce.current.memoizedState.isDehydrated;if(ve&&(bu(ce,V).flags|=256),V=Uy(ce,V,!1),V!==2){if(Dy&&!ve){ce.errorRecoveryDisabledLanes|=A,Jl|=A,T=4;break e}A=vs,vs=T,A!==null&&(vs===null?vs=A:vs.push.apply(vs,A))}T=V}if(A=!1,T!==2)continue}}if(T===1){bu(l,0),Uo(l,d,0,!0);break}e:{switch(b=l,A=T,A){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:Uo(b,d,Ps,!Fo);break e;case 2:vs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(T=yp+300-De(),10<T)){if(Uo(b,d,Ps,!Fo),pt(b,0,!0)!==0)break e;qi=d,b.timeoutHandle=WC(xC.bind(null,b,p,vs,bp,My,d,Ps,Jl,yu,Fo,A,"Throttled",-0,0),T);break e}xC(b,p,vs,bp,My,d,Ps,Jl,yu,Fo,A,null,-0,0)}}break}while(!0);ri(l)}function xC(l,d,p,b,T,A,V,ce,ve,Te,Be,He,je,Ie){if(l.timeoutHandle=-1,He=d.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},lC(d,A,He);var nt=(A&62914560)===A?yp-De():(A&4194048)===A?fC-De():0;if(nt=LB(He,nt),nt!==null){qi=A,l.cancelPendingCommit=nt(SC.bind(null,l,d,A,p,b,T,V,ce,ve,Be,He,null,je,Ie)),Uo(l,A,V,!Te);return}}SC(l,d,A,p,b,T,V,ce,ve)}function eB(l){for(var d=l;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var T=p[b],A=T.getSnapshot;T=T.value;try{if(!Os(A(),T))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Uo(l,d,p,b){d&=~Iy,d&=~Jl,l.suspendedLanes|=d,l.pingedLanes&=~d,b&&(l.warmLanes|=d),b=l.expirationTimes;for(var T=d;0<T;){var A=31-Zt(T),V=1<<A;b[A]=-1,T&=~V}p!==0&&Ti(l,p,d)}function wp(){return($t&6)===0?(ff(0),!1):!0}function By(){if(Ot!==null){if(Gt===0)var l=Ot.return;else l=Ot,Oi=Hl=null,ty(l),uu=null,Gd=0,l=Ot;for(;l!==null;)GT(l.alternate,l),l=l.return;Ot=null}}function bu(l,d){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,bB(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),qi=0,By(),ar=l,Ot=p=Ri(l.current,null),It=d,Gt=0,Fs=null,Fo=!1,gu=or(l,d),Dy=!1,yu=Ps=Iy=Jl=Po=Nr=0,vs=uf=null,My=!1,(d&8)!==0&&(d|=d&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=d;0<b;){var T=31-Zt(b),A=1<<T;d|=l[T],b&=~A}return Hi=d,H0(),p}function gC(l,d){St=null,J.H=tf,d===cu||d===Y0?(d=DN(),Gt=3):d===q1?(d=DN(),Gt=4):Gt=d===gy?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Fs=d,Ot===null&&(Nr=1,up(l,na(d,l.current)))}function yC(){var l=Is.current;return l===null?!0:(It&4194048)===It?oa===null:(It&62914560)===It||(It&536870912)!==0?l===oa:!1}function vC(){var l=J.H;return J.H=tf,l===null?tf:l}function bC(){var l=J.A;return J.A=ZL,l}function Ep(){Nr=4,Fo||(It&4194048)!==It&&Is.current!==null||(gu=!0),(Po&134217727)===0&&(Jl&134217727)===0||ar===null||Uo(ar,It,Ps,!1)}function Uy(l,d,p){var b=$t;$t|=2;var T=vC(),A=bC();(ar!==l||It!==d)&&(bp=null,bu(l,d)),d=!1;var V=Nr;e:do try{if(Gt!==0&&Ot!==null){var ce=Ot,ve=Fs;switch(Gt){case 8:By(),V=6;break e;case 3:case 2:case 9:case 6:Is.current===null&&(d=!0);var Te=Gt;if(Gt=0,Fs=null,wu(l,ce,ve,Te),p&&gu){V=0;break e}break;default:Te=Gt,Gt=0,Fs=null,wu(l,ce,ve,Te)}}tB(),V=Nr;break}catch(Be){gC(l,Be)}while(!0);return d&&l.shellSuspendCounter++,Oi=Hl=null,$t=b,J.H=T,J.A=A,Ot===null&&(ar=null,It=0,H0()),V}function tB(){for(;Ot!==null;)wC(Ot)}function rB(l,d){var p=$t;$t|=2;var b=vC(),T=bC();ar!==l||It!==d?(bp=null,vp=De()+500,bu(l,d)):gu=or(l,d);e:do try{if(Gt!==0&&Ot!==null){d=Ot;var A=Fs;t:switch(Gt){case 1:Gt=0,Fs=null,wu(l,d,A,1);break;case 2:case 9:if(jN(A)){Gt=0,Fs=null,EC(d);break}d=function(){Gt!==2&&Gt!==9||ar!==l||(Gt=7),ri(l)},A.then(d,d);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:jN(A)?(Gt=0,Fs=null,EC(d)):(Gt=0,Fs=null,wu(l,d,A,7));break;case 5:var V=null;switch(Ot.tag){case 26:V=Ot.memoizedState;case 5:case 27:var ce=Ot;if(V?oA(V):ce.stateNode.complete){Gt=0,Fs=null;var ve=ce.sibling;if(ve!==null)Ot=ve;else{var Te=ce.return;Te!==null?(Ot=Te,_p(Te)):Ot=null}break t}}Gt=0,Fs=null,wu(l,d,A,5);break;case 6:Gt=0,Fs=null,wu(l,d,A,6);break;case 8:By(),Nr=6;break e;default:throw Error(n(462))}}nB();break}catch(Be){gC(l,Be)}while(!0);return Oi=Hl=null,J.H=b,J.A=T,$t=p,Ot!==null?0:(ar=null,It=0,H0(),Nr)}function nB(){for(;Ot!==null&&!he();)wC(Ot)}function wC(l){var d=$T(l.alternate,l,Hi);l.memoizedProps=l.pendingProps,d===null?_p(l):Ot=d}function EC(l){var d=l,p=d.alternate;switch(d.tag){case 15:case 0:d=BT(p,d,d.pendingProps,d.type,void 0,It);break;case 11:d=BT(p,d,d.pendingProps,d.type.render,d.ref,It);break;case 5:ty(d);default:GT(p,d),d=Ot=bN(d,Hi),d=$T(p,d,Hi)}l.memoizedProps=l.pendingProps,d===null?_p(l):Ot=d}function wu(l,d,p,b){Oi=Hl=null,ty(d),uu=null,Gd=0;var T=d.return;try{if($L(l,T,d,p,It)){Nr=1,up(l,na(p,l.current)),Ot=null;return}}catch(A){if(T!==null)throw Ot=T,A;Nr=1,up(l,na(p,l.current)),Ot=null;return}d.flags&32768?(Ft||b===1?l=!0:gu||(It&536870912)!==0?l=!1:(Fo=l=!0,(b===2||b===9||b===3||b===6)&&(b=Is.current,b!==null&&b.tag===13&&(b.flags|=16384))),_C(d,l)):_p(d)}function _p(l){var d=l;do{if((d.flags&32768)!==0){_C(d,Fo);return}l=d.return;var p=KL(d.alternate,d,Hi);if(p!==null){Ot=p;return}if(d=d.sibling,d!==null){Ot=d;return}Ot=d=l}while(d!==null);Nr===0&&(Nr=5)}function _C(l,d){do{var p=XL(l.alternate,l);if(p!==null){p.flags&=32767,Ot=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(l=l.sibling,l!==null)){Ot=l;return}Ot=l=p}while(l!==null);Nr=6,Ot=null}function SC(l,d,p,b,T,A,V,ce,ve){l.cancelPendingCommit=null;do Sp();while(sn!==0);if(($t&6)!==0)throw Error(n(327));if(d!==null){if(d===l.current)throw Error(n(177));if(A=d.lanes|d.childLanes,A|=A1,Pn(l,p,A,V,ce,ve),l===ar&&(Ot=ar=null,It=0),vu=d,Bo=l,qi=p,Fy=A,Py=T,hC=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,oB(tt,function(){return kC(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=J.T,J.T=null,T=ee.p,ee.p=2,V=$t,$t|=4;try{YL(l,d,p)}finally{$t=V,ee.p=T,J.T=b}}sn=1,NC(),TC(),CC()}}function NC(){if(sn===1){sn=0;var l=Bo,d=vu,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=J.T,J.T=null;var b=ee.p;ee.p=2;var T=$t;$t|=4;try{aC(d,l);var A=Zy,V=dN(l.containerInfo),ce=A.focusedElem,ve=A.selectionRange;if(V!==ce&&ce&&ce.ownerDocument&&uN(ce.ownerDocument.documentElement,ce)){if(ve!==null&&_1(ce)){var Te=ve.start,Be=ve.end;if(Be===void 0&&(Be=Te),"selectionStart"in ce)ce.selectionStart=Te,ce.selectionEnd=Math.min(Be,ce.value.length);else{var He=ce.ownerDocument||document,je=He&&He.defaultView||window;if(je.getSelection){var Ie=je.getSelection(),nt=ce.textContent.length,ft=Math.min(ve.start,nt),tr=ve.end===void 0?ft:Math.min(ve.end,nt);!Ie.extend&&ft>tr&&(V=tr,tr=ft,ft=V);var Se=cN(ce,ft),_e=cN(ce,tr);if(Se&&_e&&(Ie.rangeCount!==1||Ie.anchorNode!==Se.node||Ie.anchorOffset!==Se.offset||Ie.focusNode!==_e.node||Ie.focusOffset!==_e.offset)){var Ne=He.createRange();Ne.setStart(Se.node,Se.offset),Ie.removeAllRanges(),ft>tr?(Ie.addRange(Ne),Ie.extend(_e.node,_e.offset)):(Ne.setEnd(_e.node,_e.offset),Ie.addRange(Ne))}}}}for(He=[],Ie=ce;Ie=Ie.parentNode;)Ie.nodeType===1&&He.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<He.length;ce++){var ze=He[ce];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Fp=!!Jy,Zy=Jy=null}finally{$t=T,ee.p=b,J.T=p}}l.current=d,sn=2}}function TC(){if(sn===2){sn=0;var l=Bo,d=vu,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=J.T,J.T=null;var b=ee.p;ee.p=2;var T=$t;$t|=4;try{eC(l,d.alternate,d)}finally{$t=T,ee.p=b,J.T=p}}sn=3}}function CC(){if(sn===4||sn===3){sn=0,ke();var l=Bo,d=vu,p=qi,b=hC;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?sn=5:(sn=0,vu=Bo=null,AC(l,l.pendingLanes));var T=l.pendingLanes;if(T===0&&(Lo=null),js(p),d=d.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ht,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=J.T,T=ee.p,ee.p=2,J.T=null;try{for(var A=l.onRecoverableError,V=0;V<b.length;V++){var ce=b[V];A(ce.value,{componentStack:ce.stack})}}finally{J.T=d,ee.p=T}}(qi&3)!==0&&Sp(),ri(l),T=l.pendingLanes,(p&261930)!==0&&(T&42)!==0?l===Ly?df++:(df=0,Ly=l):df=0,ff(0)}}function AC(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,$d(d)))}function Sp(){return NC(),TC(),CC(),kC()}function kC(){if(sn!==5)return!1;var l=Bo,d=Fy;Fy=0;var p=js(qi),b=J.T,T=ee.p;try{ee.p=32>p?32:p,J.T=null,p=Py,Py=null;var A=Bo,V=qi;if(sn=0,vu=Bo=null,qi=0,($t&6)!==0)throw Error(n(331));var ce=$t;if($t|=4,uC(A.current),oC(A,A.current,V,p),$t=ce,ff(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ht,A)}catch{}return!0}finally{ee.p=T,J.T=b,AC(l,d)}}function RC(l,d,p){d=na(p,d),d=xy(l.stateNode,d,2),l=Oo(l,d,2),l!==null&&(hr(l,2),ri(l))}function Kt(l,d,p){if(l.tag===3)RC(l,l,p);else for(;d!==null;){if(d.tag===3){RC(d,l,p);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Lo===null||!Lo.has(b))){l=na(p,l),p=jT(2),b=Oo(d,p,2),b!==null&&(OT(p,b,d,l),hr(b,2),ri(b));break}}d=d.return}}function zy(l,d,p){var b=l.pingCache;if(b===null){b=l.pingCache=new QL;var T=new Set;b.set(d,T)}else T=b.get(d),T===void 0&&(T=new Set,b.set(d,T));T.has(p)||(Dy=!0,T.add(p),l=sB.bind(null,l,d,p),d.then(l,l))}function sB(l,d,p){var b=l.pingCache;b!==null&&b.delete(d),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,ar===l&&(It&p)===p&&(Nr===4||Nr===3&&(It&62914560)===It&&300>De()-yp?($t&2)===0&&bu(l,0):Iy|=p,yu===It&&(yu=0)),ri(l)}function jC(l,d){d===0&&(d=dn()),l=Bl(l,d),l!==null&&(hr(l,d),ri(l))}function aB(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),jC(l,p)}function iB(l,d){var p=0;switch(l.tag){case 31:case 13:var b=l.stateNode,T=l.memoizedState;T!==null&&(p=T.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(d),jC(l,p)}function oB(l,d){return ue(l,d)}var Np=null,Eu=null,Hy=!1,Tp=!1,qy=!1,zo=0;function ri(l){l!==Eu&&l.next===null&&(Eu===null?Np=Eu=l:Eu=Eu.next=l),Tp=!0,Hy||(Hy=!0,cB())}function ff(l,d){if(!qy&&Tp){qy=!0;do for(var p=!1,b=Np;b!==null;){if(l!==0){var T=b.pendingLanes;if(T===0)var A=0;else{var V=b.suspendedLanes,ce=b.pingedLanes;A=(1<<31-Zt(42|l)+1)-1,A&=T&~(V&~ce),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(p=!0,MC(b,A))}else A=It,A=pt(b,b===ar?A:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(A&3)===0||or(b,A)||(p=!0,MC(b,A));b=b.next}while(p);qy=!1}}function lB(){OC()}function OC(){Tp=Hy=!1;var l=0;zo!==0&&vB()&&(l=zo);for(var d=De(),p=null,b=Np;b!==null;){var T=b.next,A=DC(b,d);A===0?(b.next=null,p===null?Np=T:p.next=T,T===null&&(Eu=p)):(p=b,(l!==0||(A&3)!==0)&&(Tp=!0)),b=T}sn!==0&&sn!==5||ff(l),zo!==0&&(zo=0)}function DC(l,d){for(var p=l.suspendedLanes,b=l.pingedLanes,T=l.expirationTimes,A=l.pendingLanes&-62914561;0<A;){var V=31-Zt(A),ce=1<<V,ve=T[V];ve===-1?((ce&p)===0||(ce&b)!==0)&&(T[V]=qr(ce,d)):ve<=d&&(l.expiredLanes|=ce),A&=~ce}if(d=ar,p=It,p=pt(l,l===d?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b=l.callbackNode,p===0||l===d&&(Gt===2||Gt===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&ye(b),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||or(l,p)){if(d=p&-p,d===l.callbackPriority)return d;switch(b!==null&&ye(b),js(p)){case 2:case 8:p=et;break;case 32:p=tt;break;case 268435456:p=lt;break;default:p=tt}return b=IC.bind(null,l),p=ue(p,b),l.callbackPriority=d,l.callbackNode=p,d}return b!==null&&b!==null&&ye(b),l.callbackPriority=2,l.callbackNode=null,2}function IC(l,d){if(sn!==0&&sn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(Sp()&&l.callbackNode!==p)return null;var b=It;return b=pt(l,l===ar?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b===0?null:(mC(l,b,d),DC(l,De()),l.callbackNode!=null&&l.callbackNode===p?IC.bind(null,l):null)}function MC(l,d){if(Sp())return null;mC(l,d,!0)}function cB(){wB(function(){($t&6)!==0?ue(We,lB):OC()})}function Vy(){if(zo===0){var l=ou;l===0&&(l=Ra,Ra<<=1,(Ra&261888)===0&&(Ra=256)),zo=l}return zo}function FC(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:I0(""+l)}function PC(l,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,l.id&&p.setAttribute("form",l.id),d.parentNode.insertBefore(p,d),l=new FormData(l),p.parentNode.removeChild(p),l}function uB(l,d,p,b,T){if(d==="submit"&&p&&p.stateNode===T){var A=FC((T[pe]||null).action),V=b.submitter;V&&(d=(d=V[pe]||null)?FC(d.formAction):V.getAttribute("formAction"),d!==null&&(A=d,V=null));var ce=new L0("action","action",null,b,T);l.push({event:ce,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(zo!==0){var ve=V?PC(T,V):new FormData(T);uy(p,{pending:!0,data:ve,method:T.method,action:A},null,ve)}}else typeof A=="function"&&(ce.preventDefault(),ve=V?PC(T,V):new FormData(T),uy(p,{pending:!0,data:ve,method:T.method,action:A},A,ve))},currentTarget:T}]})}}for(var $y=0;$y<C1.length;$y++){var Wy=C1[$y],dB=Wy.toLowerCase(),fB=Wy[0].toUpperCase()+Wy.slice(1);Oa(dB,"on"+fB)}Oa(pN,"onAnimationEnd"),Oa(mN,"onAnimationIteration"),Oa(xN,"onAnimationStart"),Oa("dblclick","onDoubleClick"),Oa("focusin","onFocus"),Oa("focusout","onBlur"),Oa(AL,"onTransitionRun"),Oa(kL,"onTransitionStart"),Oa(RL,"onTransitionCancel"),Oa(gN,"onTransitionEnd"),Qs("onMouseEnter",["mouseout","mouseover"]),Qs("onMouseLeave",["mouseout","mouseover"]),Qs("onPointerEnter",["pointerout","pointerover"]),Qs("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hf));function LC(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],T=b.event;b=b.listeners;e:{var A=void 0;if(d)for(var V=b.length-1;0<=V;V--){var ce=b[V],ve=ce.instance,Te=ce.currentTarget;if(ce=ce.listener,ve!==A&&T.isPropagationStopped())break e;A=ce,T.currentTarget=Te;try{A(T)}catch(Be){z0(Be)}T.currentTarget=null,A=ve}else for(V=0;V<b.length;V++){if(ce=b[V],ve=ce.instance,Te=ce.currentTarget,ce=ce.listener,ve!==A&&T.isPropagationStopped())break e;A=ce,T.currentTarget=Te;try{A(T)}catch(Be){z0(Be)}T.currentTarget=null,A=ve}}}}function Dt(l,d){var p=d[Ce];p===void 0&&(p=d[Ce]=new Set);var b=l+"__bubble";p.has(b)||(BC(d,l,2,!1),p.add(b))}function Gy(l,d,p){var b=0;d&&(b|=4),BC(p,l,b,d)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function Ky(l){if(!l[Cp]){l[Cp]=!0,lr.forEach(function(p){p!=="selectionchange"&&(hB.has(p)||Gy(p,!1,l),Gy(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Cp]||(d[Cp]=!0,Gy("selectionchange",!1,d))}}function BC(l,d,p,b){switch(pA(d)){case 2:var T=zB;break;case 8:T=HB;break;default:T=cv}p=T.bind(null,d,p,l),T=void 0,!p1||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),b?T!==void 0?l.addEventListener(d,p,{capture:!0,passive:T}):l.addEventListener(d,p,!0):T!==void 0?l.addEventListener(d,p,{passive:T}):l.addEventListener(d,p,!1)}function Xy(l,d,p,b,T){var A=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var V=b.tag;if(V===3||V===4){var ce=b.stateNode.containerInfo;if(ce===T)break;if(V===4)for(V=b.return;V!==null;){var ve=V.tag;if((ve===3||ve===4)&&V.stateNode.containerInfo===T)return;V=V.return}for(;ce!==null;){if(V=Ye(ce),V===null)return;if(ve=V.tag,ve===5||ve===6||ve===26||ve===27){b=A=V;continue e}ce=ce.parentNode}}b=b.return}VS(function(){var Te=A,Be=f1(p),He=[];e:{var je=yN.get(l);if(je!==void 0){var Ie=L0,nt=l;switch(l){case"keypress":if(F0(p)===0)break e;case"keydown":case"keyup":Ie=iL;break;case"focusin":nt="focus",Ie=y1;break;case"focusout":nt="blur",Ie=y1;break;case"beforeblur":case"afterblur":Ie=y1;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=GS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=KP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=cL;break;case pN:case mN:case xN:Ie=JP;break;case gN:Ie=dL;break;case"scroll":case"scrollend":Ie=WP;break;case"wheel":Ie=hL;break;case"copy":case"cut":case"paste":Ie=QP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=XS;break;case"toggle":case"beforetoggle":Ie=mL}var ft=(d&4)!==0,tr=!ft&&(l==="scroll"||l==="scrollend"),Se=ft?je!==null?je+"Capture":null:je;ft=[];for(var _e=Te,Ne;_e!==null;){var ze=_e;if(Ne=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Ne===null||Se===null||(ze=Id(_e,Se),ze!=null&&ft.push(pf(_e,ze,Ne))),tr)break;_e=_e.return}0<ft.length&&(je=new Ie(je,nt,null,p,Be),He.push({event:je,listeners:ft}))}}if((d&7)===0){e:{if(je=l==="mouseover"||l==="pointerover",Ie=l==="mouseout"||l==="pointerout",je&&p!==d1&&(nt=p.relatedTarget||p.fromElement)&&(Ye(nt)||nt[ge]))break e;if((Ie||je)&&(je=Be.window===Be?Be:(je=Be.ownerDocument)?je.defaultView||je.parentWindow:window,Ie?(nt=p.relatedTarget||p.toElement,Ie=Te,nt=nt?Ye(nt):null,nt!==null&&(tr=a(nt),ft=nt.tag,nt!==tr||ft!==5&&ft!==27&&ft!==6)&&(nt=null)):(Ie=null,nt=Te),Ie!==nt)){if(ft=GS,ze="onMouseLeave",Se="onMouseEnter",_e="mouse",(l==="pointerout"||l==="pointerover")&&(ft=XS,ze="onPointerLeave",Se="onPointerEnter",_e="pointer"),tr=Ie==null?je:Ke(Ie),Ne=nt==null?je:Ke(nt),je=new ft(ze,_e+"leave",Ie,p,Be),je.target=tr,je.relatedTarget=Ne,ze=null,Ye(Be)===Te&&(ft=new ft(Se,_e+"enter",nt,p,Be),ft.target=Ne,ft.relatedTarget=tr,ze=ft),tr=ze,Ie&&nt)t:{for(ft=pB,Se=Ie,_e=nt,Ne=0,ze=Se;ze;ze=ft(ze))Ne++;ze=0;for(var ut=_e;ut;ut=ft(ut))ze++;for(;0<Ne-ze;)Se=ft(Se),Ne--;for(;0<ze-Ne;)_e=ft(_e),ze--;for(;Ne--;){if(Se===_e||_e!==null&&Se===_e.alternate){ft=Se;break t}Se=ft(Se),_e=ft(_e)}ft=null}else ft=null;Ie!==null&&UC(He,je,Ie,ft,!1),nt!==null&&tr!==null&&UC(He,tr,nt,ft,!0)}}e:{if(je=Te?Ke(Te):window,Ie=je.nodeName&&je.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&je.type==="file")var qt=nN;else if(tN(je))if(sN)qt=NL;else{qt=_L;var ot=EL}else Ie=je.nodeName,!Ie||Ie.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Te&&u1(Te.elementType)&&(qt=nN):qt=SL;if(qt&&(qt=qt(l,Te))){rN(He,qt,p,Be);break e}ot&&ot(l,je,Te),l==="focusout"&&Te&&je.type==="number"&&Te.memoizedProps.value!=null&&c1(je,"number",je.value)}switch(ot=Te?Ke(Te):window,l){case"focusin":(tN(ot)||ot.contentEditable==="true")&&(Qc=ot,S1=Te,Hd=null);break;case"focusout":Hd=S1=Qc=null;break;case"mousedown":N1=!0;break;case"contextmenu":case"mouseup":case"dragend":N1=!1,fN(He,p,Be);break;case"selectionchange":if(CL)break;case"keydown":case"keyup":fN(He,p,Be)}var Tt;if(b1)e:{switch(l){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else Zc?QS(l,p)&&(Mt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Mt="onCompositionStart");Mt&&(YS&&p.locale!=="ko"&&(Zc||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Zc&&(Tt=$S()):(No=Be,m1="value"in No?No.value:No.textContent,Zc=!0)),ot=Ap(Te,Mt),0<ot.length&&(Mt=new KS(Mt,l,null,p,Be),He.push({event:Mt,listeners:ot}),Tt?Mt.data=Tt:(Tt=eN(p),Tt!==null&&(Mt.data=Tt)))),(Tt=gL?yL(l,p):vL(l,p))&&(Mt=Ap(Te,"onBeforeInput"),0<Mt.length&&(ot=new KS("onBeforeInput","beforeinput",null,p,Be),He.push({event:ot,listeners:Mt}),ot.data=Tt)),uB(He,l,Te,p,Be)}LC(He,d)})}function pf(l,d,p){return{instance:l,listener:d,currentTarget:p}}function Ap(l,d){for(var p=d+"Capture",b=[];l!==null;){var T=l,A=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||A===null||(T=Id(l,p),T!=null&&b.unshift(pf(l,T,A)),T=Id(l,d),T!=null&&b.push(pf(l,T,A))),l.tag===3)return b;l=l.return}return[]}function pB(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function UC(l,d,p,b,T){for(var A=d._reactName,V=[];p!==null&&p!==b;){var ce=p,ve=ce.alternate,Te=ce.stateNode;if(ce=ce.tag,ve!==null&&ve===b)break;ce!==5&&ce!==26&&ce!==27||Te===null||(ve=Te,T?(Te=Id(p,A),Te!=null&&V.unshift(pf(p,Te,ve))):T||(Te=Id(p,A),Te!=null&&V.push(pf(p,Te,ve)))),p=p.return}V.length!==0&&l.push({event:d,listeners:V})}var mB=/\r\n?/g,xB=/\u0000|\uFFFD/g;function zC(l){return(typeof l=="string"?l:""+l).replace(mB,`
`).replace(xB,"")}function HC(l,d){return d=zC(d),zC(l)===d}function er(l,d,p,b,T,A){switch(p){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||Xc(l,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&Xc(l,""+b);break;case"className":O0(l,"class",b);break;case"tabIndex":O0(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":O0(l,p,b);break;case"style":HS(l,b,A);break;case"data":if(d!=="object"){O0(l,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||p!=="href")){l.removeAttribute(p);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(p);break}b=I0(""+b),l.setAttribute(p,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(p==="formAction"?(d!=="input"&&er(l,d,"name",T.name,T,null),er(l,d,"formEncType",T.formEncType,T,null),er(l,d,"formMethod",T.formMethod,T,null),er(l,d,"formTarget",T.formTarget,T,null)):(er(l,d,"encType",T.encType,T,null),er(l,d,"method",T.method,T,null),er(l,d,"target",T.target,T,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(p);break}b=I0(""+b),l.setAttribute(p,b);break;case"onClick":b!=null&&(l.onclick=Ai);break;case"onScroll":b!=null&&Dt("scroll",l);break;case"onScrollEnd":b!=null&&Dt("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(p=b.__html,p!=null){if(T.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}p=I0(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(p,""+b):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":b===!0?l.setAttribute(p,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(p,b):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(p,b):l.removeAttribute(p);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(p):l.setAttribute(p,b);break;case"popover":Dt("beforetoggle",l),Dt("toggle",l),ps(l,"popover",b);break;case"xlinkActuate":Ci(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Ci(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Ci(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Ci(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Ci(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Ci(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Ci(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Ci(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Ci(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ps(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=VP.get(p)||p,ps(l,p,b))}}function Yy(l,d,p,b,T,A){switch(p){case"style":HS(l,b,A);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(p=b.__html,p!=null){if(T.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"children":typeof b=="string"?Xc(l,b):(typeof b=="number"||typeof b=="bigint")&&Xc(l,""+b);break;case"onScroll":b!=null&&Dt("scroll",l);break;case"onScrollEnd":b!=null&&Dt("scrollend",l);break;case"onClick":b!=null&&(l.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(T=p.endsWith("Capture"),d=p.slice(2,T?p.length-7:void 0),A=l[pe]||null,A=A!=null?A[p]:null,typeof A=="function"&&l.removeEventListener(d,A,T),typeof b=="function")){typeof A!="function"&&A!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(d,b,T);break e}p in l?l[p]=b:b===!0?l.setAttribute(p,""):ps(l,p,b)}}}function Tn(l,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",l),Dt("load",l);var b=!1,T=!1,A;for(A in p)if(p.hasOwnProperty(A)){var V=p[A];if(V!=null)switch(A){case"src":b=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:er(l,d,A,V,p,null)}}T&&er(l,d,"srcSet",p.srcSet,p,null),b&&er(l,d,"src",p.src,p,null);return;case"input":Dt("invalid",l);var ce=A=V=T=null,ve=null,Te=null;for(b in p)if(p.hasOwnProperty(b)){var Be=p[b];if(Be!=null)switch(b){case"name":T=Be;break;case"type":V=Be;break;case"checked":ve=Be;break;case"defaultChecked":Te=Be;break;case"value":A=Be;break;case"defaultValue":ce=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,d));break;default:er(l,d,b,Be,p,null)}}LS(l,A,ce,ve,Te,V,T,!1);return;case"select":Dt("invalid",l),b=V=A=null;for(T in p)if(p.hasOwnProperty(T)&&(ce=p[T],ce!=null))switch(T){case"value":A=ce;break;case"defaultValue":V=ce;break;case"multiple":b=ce;default:er(l,d,T,ce,p,null)}d=A,p=V,l.multiple=!!b,d!=null?Kc(l,!!b,d,!1):p!=null&&Kc(l,!!b,p,!0);return;case"textarea":Dt("invalid",l),A=T=b=null;for(V in p)if(p.hasOwnProperty(V)&&(ce=p[V],ce!=null))switch(V){case"value":b=ce;break;case"defaultValue":T=ce;break;case"children":A=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(91));break;default:er(l,d,V,ce,p,null)}US(l,b,T,A);return;case"option":for(ve in p)if(p.hasOwnProperty(ve)&&(b=p[ve],b!=null))switch(ve){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:er(l,d,ve,b,p,null)}return;case"dialog":Dt("beforetoggle",l),Dt("toggle",l),Dt("cancel",l),Dt("close",l);break;case"iframe":case"object":Dt("load",l);break;case"video":case"audio":for(b=0;b<hf.length;b++)Dt(hf[b],l);break;case"image":Dt("error",l),Dt("load",l);break;case"details":Dt("toggle",l);break;case"embed":case"source":case"link":Dt("error",l),Dt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in p)if(p.hasOwnProperty(Te)&&(b=p[Te],b!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:er(l,d,Te,b,p,null)}return;default:if(u1(d)){for(Be in p)p.hasOwnProperty(Be)&&(b=p[Be],b!==void 0&&Yy(l,d,Be,b,p,void 0));return}}for(ce in p)p.hasOwnProperty(ce)&&(b=p[ce],b!=null&&er(l,d,ce,b,p,null))}function gB(l,d,p,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,A=null,V=null,ce=null,ve=null,Te=null,Be=null;for(Ie in p){var He=p[Ie];if(p.hasOwnProperty(Ie)&&He!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ve=He;default:b.hasOwnProperty(Ie)||er(l,d,Ie,null,b,He)}}for(var je in b){var Ie=b[je];if(He=p[je],b.hasOwnProperty(je)&&(Ie!=null||He!=null))switch(je){case"type":A=Ie;break;case"name":T=Ie;break;case"checked":Te=Ie;break;case"defaultChecked":Be=Ie;break;case"value":V=Ie;break;case"defaultValue":ce=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,d));break;default:Ie!==He&&er(l,d,je,Ie,b,He)}}l1(l,V,ce,ve,Te,Be,A,T);return;case"select":Ie=V=ce=je=null;for(A in p)if(ve=p[A],p.hasOwnProperty(A)&&ve!=null)switch(A){case"value":break;case"multiple":Ie=ve;default:b.hasOwnProperty(A)||er(l,d,A,null,b,ve)}for(T in b)if(A=b[T],ve=p[T],b.hasOwnProperty(T)&&(A!=null||ve!=null))switch(T){case"value":je=A;break;case"defaultValue":ce=A;break;case"multiple":V=A;default:A!==ve&&er(l,d,T,A,b,ve)}d=ce,p=V,b=Ie,je!=null?Kc(l,!!p,je,!1):!!b!=!!p&&(d!=null?Kc(l,!!p,d,!0):Kc(l,!!p,p?[]:"",!1));return;case"textarea":Ie=je=null;for(ce in p)if(T=p[ce],p.hasOwnProperty(ce)&&T!=null&&!b.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:er(l,d,ce,null,b,T)}for(V in b)if(T=b[V],A=p[V],b.hasOwnProperty(V)&&(T!=null||A!=null))switch(V){case"value":je=T;break;case"defaultValue":Ie=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==A&&er(l,d,V,T,b,A)}BS(l,je,Ie);return;case"option":for(var nt in p)if(je=p[nt],p.hasOwnProperty(nt)&&je!=null&&!b.hasOwnProperty(nt))switch(nt){case"selected":l.selected=!1;break;default:er(l,d,nt,null,b,je)}for(ve in b)if(je=b[ve],Ie=p[ve],b.hasOwnProperty(ve)&&je!==Ie&&(je!=null||Ie!=null))switch(ve){case"selected":l.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:er(l,d,ve,je,b,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in p)je=p[ft],p.hasOwnProperty(ft)&&je!=null&&!b.hasOwnProperty(ft)&&er(l,d,ft,null,b,je);for(Te in b)if(je=b[Te],Ie=p[Te],b.hasOwnProperty(Te)&&je!==Ie&&(je!=null||Ie!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,d));break;default:er(l,d,Te,je,b,Ie)}return;default:if(u1(d)){for(var tr in p)je=p[tr],p.hasOwnProperty(tr)&&je!==void 0&&!b.hasOwnProperty(tr)&&Yy(l,d,tr,void 0,b,je);for(Be in b)je=b[Be],Ie=p[Be],!b.hasOwnProperty(Be)||je===Ie||je===void 0&&Ie===void 0||Yy(l,d,Be,je,b,Ie);return}}for(var Se in p)je=p[Se],p.hasOwnProperty(Se)&&je!=null&&!b.hasOwnProperty(Se)&&er(l,d,Se,null,b,je);for(He in b)je=b[He],Ie=p[He],!b.hasOwnProperty(He)||je===Ie||je==null&&Ie==null||er(l,d,He,je,b,Ie)}function qC(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yB(){if(typeof performance.getEntriesByType=="function"){for(var l=0,d=0,p=performance.getEntriesByType("resource"),b=0;b<p.length;b++){var T=p[b],A=T.transferSize,V=T.initiatorType,ce=T.duration;if(A&&ce&&qC(V)){for(V=0,ce=T.responseEnd,b+=1;b<p.length;b++){var ve=p[b],Te=ve.startTime;if(Te>ce)break;var Be=ve.transferSize,He=ve.initiatorType;Be&&qC(He)&&(ve=ve.responseEnd,V+=Be*(ve<ce?1:(ce-Te)/(ve-Te)))}if(--b,d+=8*(A+V)/(T.duration/1e3),l++,10<l)break}}if(0<l)return d/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Jy=null,Zy=null;function kp(l){return l.nodeType===9?l:l.ownerDocument}function VC(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $C(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function Qy(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var ev=null;function vB(){var l=window.event;return l&&l.type==="popstate"?l===ev?!1:(ev=l,!0):(ev=null,!1)}var WC=typeof setTimeout=="function"?setTimeout:void 0,bB=typeof clearTimeout=="function"?clearTimeout:void 0,GC=typeof Promise=="function"?Promise:void 0,wB=typeof queueMicrotask=="function"?queueMicrotask:typeof GC<"u"?function(l){return GC.resolve(null).then(l).catch(EB)}:WC;function EB(l){setTimeout(function(){throw l})}function Ho(l){return l==="head"}function KC(l,d){var p=d,b=0;do{var T=p.nextSibling;if(l.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"||p==="/&"){if(b===0){l.removeChild(T),Tu(d);return}b--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")b++;else if(p==="html")mf(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,mf(p);for(var A=p.firstChild;A;){var V=A.nextSibling,ce=A.nodeName;A[Oe]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&A.rel.toLowerCase()==="stylesheet"||p.removeChild(A),A=V}}else p==="body"&&mf(l.ownerDocument.body);p=T}while(p);Tu(d)}function XC(l,d){var p=l;l=0;do{var b=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),b&&b.nodeType===8)if(p=b.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=b}while(p)}function tv(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":tv(p),Ge(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function _B(l,d,p,b){for(;l.nodeType===1;){var T=p;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[Oe])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(A=l.getAttribute("rel"),A==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(A!==T.rel||l.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||l.getAttribute("title")!==(T.title==null?null:T.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(A=l.getAttribute("src"),(A!==(T.src==null?null:T.src)||l.getAttribute("type")!==(T.type==null?null:T.type)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&A&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var A=T.name==null?null:""+T.name;if(T.type==="hidden"&&l.getAttribute("name")===A)return l}else return l;if(l=la(l.nextSibling),l===null)break}return null}function SB(l,d,p){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=la(l.nextSibling),l===null))return null;return l}function YC(l,d){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=la(l.nextSibling),l===null))return null;return l}function rv(l){return l.data==="$?"||l.data==="$~"}function nv(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function NB(l,d){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=d;else if(l.data!=="$?"||p.readyState!=="loading")d();else{var b=function(){d(),p.removeEventListener("DOMContentLoaded",b)};p.addEventListener("DOMContentLoaded",b),l._reactRetry=b}}function la(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return l}var sv=null;function JC(l){l=l.nextSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(d===0)return la(l.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}l=l.nextSibling}return null}function ZC(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return l;d--}else p!=="/$"&&p!=="/&"||d++}l=l.previousSibling}return null}function QC(l,d,p){switch(d=kp(p),l){case"html":if(l=d.documentElement,!l)throw Error(n(452));return l;case"head":if(l=d.head,!l)throw Error(n(453));return l;case"body":if(l=d.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function mf(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);Ge(l)}var ca=new Map,eA=new Set;function Rp(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Vi=ee.d;ee.d={f:TB,r:CB,D:AB,C:kB,L:RB,m:jB,X:DB,S:OB,M:IB};function TB(){var l=Vi.f(),d=wp();return l||d}function CB(l){var d=Qe(l);d!==null&&d.tag===5&&d.type==="form"?gT(d):Vi.r(l)}var _u=typeof document>"u"?null:document;function tA(l,d,p){var b=_u;if(b&&typeof d=="string"&&d){var T=ta(d);T='link[rel="'+l+'"][href="'+T+'"]',typeof p=="string"&&(T+='[crossorigin="'+p+'"]'),eA.has(T)||(eA.add(T),l={rel:l,crossOrigin:p,href:d},b.querySelector(T)===null&&(d=b.createElement("link"),Tn(d,"link",l),at(d),b.head.appendChild(d)))}}function AB(l){Vi.D(l),tA("dns-prefetch",l,null)}function kB(l,d){Vi.C(l,d),tA("preconnect",l,d)}function RB(l,d,p){Vi.L(l,d,p);var b=_u;if(b&&l&&d){var T='link[rel="preload"][as="'+ta(d)+'"]';d==="image"&&p&&p.imageSrcSet?(T+='[imagesrcset="'+ta(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(T+='[imagesizes="'+ta(p.imageSizes)+'"]')):T+='[href="'+ta(l)+'"]';var A=T;switch(d){case"style":A=Su(l);break;case"script":A=Nu(l)}ca.has(A)||(l=m({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:l,as:d},p),ca.set(A,l),b.querySelector(T)!==null||d==="style"&&b.querySelector(xf(A))||d==="script"&&b.querySelector(gf(A))||(d=b.createElement("link"),Tn(d,"link",l),at(d),b.head.appendChild(d)))}}function jB(l,d){Vi.m(l,d);var p=_u;if(p&&l){var b=d&&typeof d.as=="string"?d.as:"script",T='link[rel="modulepreload"][as="'+ta(b)+'"][href="'+ta(l)+'"]',A=T;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Nu(l)}if(!ca.has(A)&&(l=m({rel:"modulepreload",href:l},d),ca.set(A,l),p.querySelector(T)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(gf(A)))return}b=p.createElement("link"),Tn(b,"link",l),at(b),p.head.appendChild(b)}}}function OB(l,d,p){Vi.S(l,d,p);var b=_u;if(b&&l){var T=Je(b).hoistableStyles,A=Su(l);d=d||"default";var V=T.get(A);if(!V){var ce={loading:0,preload:null};if(V=b.querySelector(xf(A)))ce.loading=5;else{l=m({rel:"stylesheet",href:l,"data-precedence":d},p),(p=ca.get(A))&&av(l,p);var ve=V=b.createElement("link");at(ve),Tn(ve,"link",l),ve._p=new Promise(function(Te,Be){ve.onload=Te,ve.onerror=Be}),ve.addEventListener("load",function(){ce.loading|=1}),ve.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,jp(V,d,b)}V={type:"stylesheet",instance:V,count:1,state:ce},T.set(A,V)}}}function DB(l,d){Vi.X(l,d);var p=_u;if(p&&l){var b=Je(p).hoistableScripts,T=Nu(l),A=b.get(T);A||(A=p.querySelector(gf(T)),A||(l=m({src:l,async:!0},d),(d=ca.get(T))&&iv(l,d),A=p.createElement("script"),at(A),Tn(A,"link",l),p.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},b.set(T,A))}}function IB(l,d){Vi.M(l,d);var p=_u;if(p&&l){var b=Je(p).hoistableScripts,T=Nu(l),A=b.get(T);A||(A=p.querySelector(gf(T)),A||(l=m({src:l,async:!0,type:"module"},d),(d=ca.get(T))&&iv(l,d),A=p.createElement("script"),at(A),Tn(A,"link",l),p.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},b.set(T,A))}}function rA(l,d,p,b){var T=(T=se.current)?Rp(T):null;if(!T)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=Su(p.href),p=Je(T).hoistableStyles,b=p.get(d),b||(b={type:"style",instance:null,count:0,state:null},p.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Su(p.href);var A=Je(T).hoistableStyles,V=A.get(l);if(V||(T=T.ownerDocument||T,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(l,V),(A=T.querySelector(xf(l)))&&!A._p&&(V.instance=A,V.state.loading=5),ca.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ca.set(l,p),A||MB(T,l,p,V.state))),d&&b===null)throw Error(n(528,""));return V}if(d&&b!==null)throw Error(n(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Nu(p),p=Je(T).hoistableScripts,b=p.get(d),b||(b={type:"script",instance:null,count:0,state:null},p.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function Su(l){return'href="'+ta(l)+'"'}function xf(l){return'link[rel="stylesheet"]['+l+"]"}function nA(l){return m({},l,{"data-precedence":l.precedence,precedence:null})}function MB(l,d,p,b){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=l.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),Tn(d,"link",p),at(d),l.head.appendChild(d))}function Nu(l){return'[src="'+ta(l)+'"]'}function gf(l){return"script[async]"+l}function sA(l,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var b=l.querySelector('style[data-href~="'+ta(p.href)+'"]');if(b)return d.instance=b,at(b),b;var T=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),at(b),Tn(b,"style",T),jp(b,p.precedence,l),d.instance=b;case"stylesheet":T=Su(p.href);var A=l.querySelector(xf(T));if(A)return d.state.loading|=4,d.instance=A,at(A),A;b=nA(p),(T=ca.get(T))&&av(b,T),A=(l.ownerDocument||l).createElement("link"),at(A);var V=A;return V._p=new Promise(function(ce,ve){V.onload=ce,V.onerror=ve}),Tn(A,"link",b),d.state.loading|=4,jp(A,p.precedence,l),d.instance=A;case"script":return A=Nu(p.src),(T=l.querySelector(gf(A)))?(d.instance=T,at(T),T):(b=p,(T=ca.get(A))&&(b=m({},p),iv(b,T)),l=l.ownerDocument||l,T=l.createElement("script"),at(T),Tn(T,"link",b),l.head.appendChild(T),d.instance=T);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,jp(b,p.precedence,l));return d.instance}function jp(l,d,p){for(var b=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=b.length?b[b.length-1]:null,A=T,V=0;V<b.length;V++){var ce=b[V];if(ce.dataset.precedence===d)A=ce;else if(A!==T)break}A?A.parentNode.insertBefore(l,A.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(l,d.firstChild))}function av(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function iv(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var Op=null;function aA(l,d,p){if(Op===null){var b=new Map,T=Op=new Map;T.set(p,b)}else T=Op,b=T.get(p),b||(b=new Map,T.set(p,b));if(b.has(l))return b;for(b.set(l,null),p=p.getElementsByTagName(l),T=0;T<p.length;T++){var A=p[T];if(!(A[Oe]||A[fe]||l==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var V=A.getAttribute(d)||"";V=l+V;var ce=b.get(V);ce?ce.push(A):b.set(V,[A])}}return b}function iA(l,d,p){l=l.ownerDocument||l,l.head.insertBefore(p,d==="title"?l.querySelector("head > title"):null)}function FB(l,d,p){if(p===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function oA(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function PB(l,d,p,b){if(p.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var T=Su(b.href),A=d.querySelector(xf(T));if(A){d=A._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(l.count++,l=Dp.bind(l),d.then(l,l)),p.state.loading|=4,p.instance=A,at(A);return}A=d.ownerDocument||d,b=nA(b),(T=ca.get(T))&&av(b,T),A=A.createElement("link"),at(A);var V=A;V._p=new Promise(function(ce,ve){V.onload=ce,V.onerror=ve}),Tn(A,"link",b),p.instance=A}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=Dp.bind(l),d.addEventListener("load",p),d.addEventListener("error",p))}}var ov=0;function LB(l,d){return l.stylesheets&&l.count===0&&Mp(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var b=setTimeout(function(){if(l.stylesheets&&Mp(l,l.stylesheets),l.unsuspend){var A=l.unsuspend;l.unsuspend=null,A()}},6e4+d);0<l.imgBytes&&ov===0&&(ov=62500*yB());var T=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Mp(l,l.stylesheets),l.unsuspend)){var A=l.unsuspend;l.unsuspend=null,A()}},(l.imgBytes>ov?50:800)+d);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(b),clearTimeout(T)}}:null}function Dp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mp(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Ip=null;function Mp(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Ip=new Map,d.forEach(BB,l),Ip=null,Dp.call(l))}function BB(l,d){if(!(d.state.loading&4)){var p=Ip.get(l);if(p)var b=p.get(null);else{p=new Map,Ip.set(l,p);for(var T=l.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<T.length;A++){var V=T[A];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),b=V)}b&&p.set(null,b)}T=d.instance,V=T.getAttribute("data-precedence"),A=p.get(V)||b,A===b&&p.set(null,T),p.set(V,T),this.count++,b=Dp.bind(this),T.addEventListener("load",b),T.addEventListener("error",b),A?A.parentNode.insertBefore(T,A.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(T,l.firstChild)),d.state.loading|=4}}var yf={$$typeof:_,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function UB(l,d,p,b,T,A,V,ce,ve){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.hiddenUpdates=Ja(null),this.identifierPrefix=b,this.onUncaughtError=T,this.onCaughtError=A,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ve,this.incompleteTransitions=new Map}function lA(l,d,p,b,T,A,V,ce,ve,Te,Be,He){return l=new UB(l,d,p,V,ve,Te,Be,He,ce),d=1,A===!0&&(d|=24),A=Ds(3,null,null,d),l.current=A,A.stateNode=l,d=U1(),d.refCount++,l.pooledCache=d,d.refCount++,A.memoizedState={element:b,isDehydrated:p,cache:d},V1(A),l}function cA(l){return l?(l=ru,l):ru}function uA(l,d,p,b,T,A){T=cA(T),b.context===null?b.context=T:b.pendingContext=T,b=jo(d),b.payload={element:p},A=A===void 0?null:A,A!==null&&(b.callback=A),p=Oo(l,b,d),p!==null&&(bs(p,l,d),Xd(p,l,d))}function dA(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function lv(l,d){dA(l,d),(l=l.alternate)&&dA(l,d)}function fA(l){if(l.tag===13||l.tag===31){var d=Bl(l,67108864);d!==null&&bs(d,l,67108864),lv(l,67108864)}}function hA(l){if(l.tag===13||l.tag===31){var d=Ls();d=_o(d);var p=Bl(l,d);p!==null&&bs(p,l,d),lv(l,d)}}var Fp=!0;function zB(l,d,p,b){var T=J.T;J.T=null;var A=ee.p;try{ee.p=2,cv(l,d,p,b)}finally{ee.p=A,J.T=T}}function HB(l,d,p,b){var T=J.T;J.T=null;var A=ee.p;try{ee.p=8,cv(l,d,p,b)}finally{ee.p=A,J.T=T}}function cv(l,d,p,b){if(Fp){var T=uv(b);if(T===null)Xy(l,d,b,Pp,p),mA(l,b);else if(VB(T,l,d,p,b))b.stopPropagation();else if(mA(l,b),d&4&&-1<qB.indexOf(l)){for(;T!==null;){var A=Qe(T);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var V=Hr(A.pendingLanes);if(V!==0){var ce=A;for(ce.pendingLanes|=2,ce.entangledLanes|=2;V;){var ve=1<<31-Zt(V);ce.entanglements[1]|=ve,V&=~ve}ri(A),($t&6)===0&&(vp=De()+500,ff(0))}}break;case 31:case 13:ce=Bl(A,2),ce!==null&&bs(ce,A,2),wp(),lv(A,2)}if(A=uv(b),A===null&&Xy(l,d,b,Pp,p),A===T)break;T=A}T!==null&&b.stopPropagation()}else Xy(l,d,b,null,p)}}function uv(l){return l=f1(l),dv(l)}var Pp=null;function dv(l){if(Pp=null,l=Ye(l),l!==null){var d=a(l);if(d===null)l=null;else{var p=d.tag;if(p===13){if(l=i(d),l!==null)return l;l=null}else if(p===31){if(l=o(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return Pp=l,null}function pA(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case We:return 2;case et:return 8;case tt:case Ht:return 32;case lt:return 268435456;default:return 32}default:return 32}}var fv=!1,qo=null,Vo=null,$o=null,vf=new Map,bf=new Map,Wo=[],qB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mA(l,d){switch(l){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":vf.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":bf.delete(d.pointerId)}}function wf(l,d,p,b,T,A){return l===null||l.nativeEvent!==A?(l={blockedOn:d,domEventName:p,eventSystemFlags:b,nativeEvent:A,targetContainers:[T]},d!==null&&(d=Qe(d),d!==null&&fA(d)),l):(l.eventSystemFlags|=b,d=l.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),l)}function VB(l,d,p,b,T){switch(d){case"focusin":return qo=wf(qo,l,d,p,b,T),!0;case"dragenter":return Vo=wf(Vo,l,d,p,b,T),!0;case"mouseover":return $o=wf($o,l,d,p,b,T),!0;case"pointerover":var A=T.pointerId;return vf.set(A,wf(vf.get(A)||null,l,d,p,b,T)),!0;case"gotpointercapture":return A=T.pointerId,bf.set(A,wf(bf.get(A)||null,l,d,p,b,T)),!0}return!1}function xA(l){var d=Ye(l.target);if(d!==null){var p=a(d);if(p!==null){if(d=p.tag,d===13){if(d=i(p),d!==null){l.blockedOn=d,me(l.priority,function(){hA(p)});return}}else if(d===31){if(d=o(p),d!==null){l.blockedOn=d,me(l.priority,function(){hA(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Lp(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=uv(l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);d1=b,p.target.dispatchEvent(b),d1=null}else return d=Qe(p),d!==null&&fA(d),l.blockedOn=p,!1;d.shift()}return!0}function gA(l,d,p){Lp(l)&&p.delete(d)}function $B(){fv=!1,qo!==null&&Lp(qo)&&(qo=null),Vo!==null&&Lp(Vo)&&(Vo=null),$o!==null&&Lp($o)&&($o=null),vf.forEach(gA),bf.forEach(gA)}function Bp(l,d){l.blockedOn===d&&(l.blockedOn=null,fv||(fv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$B)))}var Up=null;function yA(l){Up!==l&&(Up=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Up===l&&(Up=null);for(var d=0;d<l.length;d+=3){var p=l[d],b=l[d+1],T=l[d+2];if(typeof b!="function"){if(dv(b||p)===null)continue;break}var A=Qe(p);A!==null&&(l.splice(d,3),d-=3,uy(A,{pending:!0,data:T,method:p.method,action:b},b,T))}}))}function Tu(l){function d(ve){return Bp(ve,l)}qo!==null&&Bp(qo,l),Vo!==null&&Bp(Vo,l),$o!==null&&Bp($o,l),vf.forEach(d),bf.forEach(d);for(var p=0;p<Wo.length;p++){var b=Wo[p];b.blockedOn===l&&(b.blockedOn=null)}for(;0<Wo.length&&(p=Wo[0],p.blockedOn===null);)xA(p),p.blockedOn===null&&Wo.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(b=0;b<p.length;b+=3){var T=p[b],A=p[b+1],V=T[pe]||null;if(typeof A=="function")V||yA(p);else if(V){var ce=null;if(A&&A.hasAttribute("formAction")){if(T=A,V=A[pe]||null)ce=V.formAction;else if(dv(T)!==null)continue}else ce=V.action;typeof ce=="function"?p[b+1]=ce:(p.splice(b,3),b-=3),yA(p)}}}function vA(){function l(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(V){return T=V})},focusReset:"manual",scroll:"manual"})}function d(){T!==null&&(T(),T=null),b||setTimeout(p,20)}function p(){if(!b&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,T=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){b=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),T!==null&&(T(),T=null)}}}function hv(l){this._internalRoot=l}zp.prototype.render=hv.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));var p=d.current,b=Ls();uA(p,b,l,d,null,null)},zp.prototype.unmount=hv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;uA(l.current,2,null,l,null,null),wp(),d[ge]=null}};function zp(l){this._internalRoot=l}zp.prototype.unstable_scheduleHydration=function(l){if(l){var d=le();l={blockedOn:null,target:l,priority:d};for(var p=0;p<Wo.length&&d!==0&&d<Wo[p].priority;p++);Wo.splice(p,0,l),p===0&&xA(l)}};var bA=t.version;if(bA!=="19.2.4")throw Error(n(527,bA,"19.2.4"));ee.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=f(d),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var WB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{ht=Hp.inject(WB),Jt=Hp}catch{}}return _f.createRoot=function(l,d){if(!s(l))throw Error(n(299));var p=!1,b="",T=CT,A=AT,V=kT;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(A=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError)),d=lA(l,1,!1,null,null,p,b,null,T,A,V,vA),l[ge]=d.current,Ky(l),new hv(d)},_f.hydrateRoot=function(l,d,p){if(!s(l))throw Error(n(299));var b=!1,T="",A=CT,V=AT,ce=kT,ve=null;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(A=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(ce=p.onRecoverableError),p.formState!==void 0&&(ve=p.formState)),d=lA(l,1,!0,d,p??null,b,T,ve,A,V,ce,vA),d.context=cA(null),p=d.current,b=Ls(),b=_o(b),T=jo(b),T.callback=null,Oo(p,T,b),p=b,d.current.lanes=p,hr(d,p),ri(d),l[ge]=d.current,Ky(l),new zp(d)},_f.version="19.2.4",_f}var RA;function t9(){if(RA)return xv.exports;RA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xv.exports=e9(),xv.exports}var r9=t9();const n9=SE(r9),s9="Logging",a9="NoHubcallbackProvidedException";var Us;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"})(Us||(Us={}));const jA={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class Vs{constructor(t,r=Us.WARN){this.name=t,this.level=r,this._pluggables=[]}_padding(t){return t<10?"0"+t:""+t}_ts(){const t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()}configure(t){return t?(this._config=t,this._config):this._config}_log(t,...r){let n=this.level;Vs.LOG_LEVEL&&(n=Vs.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);const s=jA[n];if(!(jA[t]>=s))return;let i=console.log.bind(console);t===Us.ERROR&&console.error&&(i=console.error.bind(console)),t===Us.WARN&&console.warn&&(i=console.warn.bind(console)),Vs.BIND_ALL_LOG_LEVELS&&(t===Us.INFO&&console.info&&(i=console.info.bind(console)),t===Us.DEBUG&&console.debug&&(i=console.debug.bind(console)));const o=`[${t}] ${this._ts()} ${this.name}`;let c="";if(r.length===1&&typeof r[0]=="string")c=`${o} - ${r[0]}`,i(c);else if(r.length===1)c=`${o} ${r[0]}`,i(o,r[0]);else if(typeof r[0]=="string"){let f=r.slice(1);f.length===1&&(f=f[0]),c=`${o} - ${r[0]} ${f}`,i(`${o} - ${r[0]}`,f)}else c=`${o} ${r}`,i(o,r);for(const f of this._pluggables){const h={message:c,timestamp:Date.now()};f.pushLogs([h])}}log(...t){this._log(Us.INFO,...t)}info(...t){this._log(Us.INFO,...t)}warn(...t){this._log(Us.WARN,...t)}error(...t){this._log(Us.ERROR,...t)}debug(...t){this._log(Us.DEBUG,...t)}verbose(...t){this._log(Us.VERBOSE,...t)}addPluggable(t){t&&t.getCategoryName()===s9&&(this._pluggables.push(t),t.configure(this._config))}listPluggables(){return this._pluggables}}Vs.LOG_LEVEL=null;Vs.BIND_ALL_LOG_LEVELS=!1;class As extends Error{constructor({message:t,name:r,recoverySuggestion:n,underlyingError:s,metadata:a}){if(super(t),this.name=r,this.underlyingError=s,this.recoverySuggestion=n,a){const{extendedRequestId:i,httpStatusCode:o,requestId:c}=a;this.metadata={extendedRequestId:i,httpStatusCode:o,requestId:c}}this.constructor=As,Object.setPrototypeOf(this,As.prototype)}}var Ec;(function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"})(Ec||(Ec={}));const NE=(e,t=As)=>(r,n,s)=>{const{message:a,recoverySuggestion:i}=e[n];if(!r)throw new t({name:n,message:s?`${a} ${s}`:a,recoverySuggestion:i})},_c=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",Sf=new Vs("Hub");class E6{constructor(t){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}_remove(t,r){const n=this.listeners.get(t);if(!n){Sf.warn(`No listeners for ${t}`);return}this.listeners.set(t,[...n.filter(({callback:s})=>s!==r)])}dispatch(t,r,n,s){typeof t=="string"&&this.protectedChannels.indexOf(t)>-1&&(s===_c||Sf.warn(`WARNING: ${t} is protected and dispatching on it can have unintended consequences`));const a={channel:t,payload:{...r},source:n,patternInfo:[]};try{this._toListeners(a)}catch(i){Sf.error(i)}}listen(t,r,n="noname"){let s;if(typeof r!="function")throw new As({name:a9,message:"No callback supplied to Hub"});s=r;let a=this.listeners.get(t);return a||(a=[],this.listeners.set(t,a)),a.push({name:n,callback:s}),()=>{this._remove(t,s)}}_toListeners(t){const{channel:r,payload:n}=t,s=this.listeners.get(r);s&&s.forEach(a=>{Sf.debug(`Dispatching to ${r} with `,n);try{a.callback(t)}catch(i){Sf.error(i)}})}}const Gu=new E6("__default__"),Ym=new E6("internal-hub"),i9=()=>{if(typeof window=="object"&&typeof window.crypto=="object")return window.crypto;if(typeof crypto=="object")return crypto;throw new As({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},o9=()=>{if(typeof window<"u"&&typeof window.btoa=="function")return window.btoa;if(typeof btoa=="function")return btoa;throw new As({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},l9=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new As({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},TE={convert(e,t){let r=e;return t!=null&&t.urlSafe&&(r=r.replace(/-/g,"+").replace(/_/g,"/")),l9()(r)}};var pi;(function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"})(pi||(pi={}));const c9={[pi.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[pi.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[pi.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[pi.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[pi.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},CE=NE(c9);function Wt(e){let t=!0;e?t=!!e.userPoolId&&!!e.userPoolClientId:t=!1,CE(t,pi.AuthUserPoolException)}function _6(e){var r,n,s,a,i,o,c,f;const t=!!((n=(r=e==null?void 0:e.loginWith)==null?void 0:r.oauth)!=null&&n.domain)&&!!((a=(s=e==null?void 0:e.loginWith)==null?void 0:s.oauth)!=null&&a.redirectSignOut)&&!!((o=(i=e==null?void 0:e.loginWith)==null?void 0:i.oauth)!=null&&o.redirectSignIn)&&!!((f=(c=e==null?void 0:e.loginWith)==null?void 0:c.oauth)!=null&&f.responseType);CE(t,pi.OAuthNotConfigureException)}function Dm(e){const t=!!(e!=null&&e.identityPoolId);CE(t,pi.InvalidIdentityPoolIdException)}function Sc(e){const t=e.split(".");if(t.length!==3)throw new Error("Invalid token");try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(TE.convert(n).split("").map(i=>`%${`00${i.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),a=JSON.parse(s);return{toString:()=>e,payload:a}}catch{throw new Error("Invalid token payload")}}const S6=e=>{const t=Reflect.ownKeys(e);for(const r of t){const n=e[r];(n&&typeof n=="object"||typeof n=="function")&&S6(n)}return Object.freeze(e)},u9=new Vs("parseAWSExports"),d9={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},f9=(e={})=>{var K,re,se,I,F,ne;if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new As({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:r,aws_appsync_graphqlEndpoint:n,aws_appsync_region:s,aws_bots_config:a,aws_cognito_identity_pool_id:i,aws_cognito_sign_up_verification_method:o,aws_cognito_mfa_configuration:c,aws_cognito_mfa_types:f,aws_cognito_password_protection_settings:h,aws_cognito_verification_mechanisms:m,aws_cognito_signup_attributes:x,aws_cognito_social_providers:g,aws_cognito_username_attributes:v,aws_mandatory_sign_in:y,aws_mobile_analytics_app_id:w,aws_mobile_analytics_app_region:E,aws_user_files_s3_bucket:N,aws_user_files_s3_bucket_region:_,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:S,aws_user_pools_id:k,aws_user_pools_web_client_id:L,geo:R,oauth:H,predictions:O,aws_cloud_logic_custom:Z,Notifications:ae,modelIntrospection:P}=e,X={};w&&(X.Analytics={Pinpoint:{appId:w,region:E}});const{InAppMessaging:M,Push:ie}=ae??{};if(M!=null&&M.AWSPinpoint||ie!=null&&ie.AWSPinpoint){if(M!=null&&M.AWSPinpoint){const{appId:te,region:Q}=M.AWSPinpoint;X.Notifications={InAppMessaging:{Pinpoint:{appId:te,region:Q}}}}if(ie!=null&&ie.AWSPinpoint){const{appId:te,region:Q}=ie.AWSPinpoint;X.Notifications={...X.Notifications,PushNotification:{Pinpoint:{appId:te,region:Q}}}}}if(Array.isArray(a)&&(X.Interactions={LexV1:Object.fromEntries(a.map(te=>[te.name,te]))}),n){const te=d9[r];te||u9.debug(`Invalid authentication type ${r}. Falling back to IAM.`),X.API={GraphQL:{endpoint:n,apiKey:t,region:s,defaultAuthMode:te??"iam"}},P&&(X.API.GraphQL.modelIntrospection=P)}const J=c?{status:c&&c.toLowerCase(),totpEnabled:(f==null?void 0:f.includes("TOTP"))??!1,smsEnabled:(f==null?void 0:f.includes("SMS"))??!1}:void 0,ee=h?{minLength:h.passwordPolicyMinLength,requireLowercase:((K=h.passwordPolicyCharacters)==null?void 0:K.includes("REQUIRES_LOWERCASE"))??!1,requireUppercase:((re=h.passwordPolicyCharacters)==null?void 0:re.includes("REQUIRES_UPPERCASE"))??!1,requireNumbers:((se=h.passwordPolicyCharacters)==null?void 0:se.includes("REQUIRES_NUMBERS"))??!1,requireSpecialCharacters:((I=h.passwordPolicyCharacters)==null?void 0:I.includes("REQUIRES_SYMBOLS"))??!1}:void 0,oe=Array.from(new Set([...m??[],...x??[]])).reduce((te,Q)=>({...te,[Q.toLowerCase()]:{required:!0}}),{}),we=(v==null?void 0:v.includes("EMAIL"))??!1,G=(v==null?void 0:v.includes("PHONE_NUMBER"))??!1;(i||k)&&(X.Auth={Cognito:{identityPoolId:i,allowGuestAccess:y!=="enable",signUpVerificationMethod:o,userAttributes:oe,userPoolClientId:L,userPoolId:k,mfa:J,passwordFormat:ee,loginWith:{username:!(we||G),email:we,phone:G}}});const D=H?Object.keys(H).length>0:!1,W=g?g.length>0:!1;if(X.Auth&&D&&(X.Auth.Cognito.loginWith={...X.Auth.Cognito.loginWith,oauth:{...h9(H),...W&&{providers:p9(g)}}}),N&&(X.Storage={S3:{bucket:N,region:_,dangerouslyConnectToHttpEndpointForTesting:S}}),R){const{amazon_location_service:te}=R;X.Geo={LocationService:{maps:te.maps,geofenceCollections:te.geofenceCollections,searchIndices:te.search_indices,region:te.region}}}if(Z&&(X.API={...X.API,REST:Z.reduce((te,Q)=>{const{name:z,endpoint:be,region:B,service:Ee}=Q;return{...te,[z]:{endpoint:be,...Ee?{service:Ee}:void 0,...B?{region:B}:void 0}}},{})}),O){const{VoiceId:te}=((ne=(F=O==null?void 0:O.convert)==null?void 0:F.speechGenerator)==null?void 0:ne.defaults)??{};X.Predictions=te?{...O,convert:{...O.convert,speechGenerator:{...O.convert.speechGenerator,defaults:{voiceId:te}}}}:O}return X},OA=e=>(e==null?void 0:e.split(","))??[],h9=({domain:e,scope:t,redirectSignIn:r,redirectSignOut:n,responseType:s})=>({domain:e,scopes:t,redirectSignIn:OA(r),redirectSignOut:OA(n),responseType:s}),p9=e=>e.map(t=>{const r=t.toLowerCase();return r.charAt(0).toUpperCase()+r.slice(1)}),m9=Symbol("oauth-listener"),Cn=[];for(let e=0;e<256;++e)Cn.push((e+256).toString(16).slice(1));function x9(e,t=0){return(Cn[e[t+0]]+Cn[e[t+1]]+Cn[e[t+2]]+Cn[e[t+3]]+"-"+Cn[e[t+4]]+Cn[e[t+5]]+"-"+Cn[e[t+6]]+Cn[e[t+7]]+"-"+Cn[e[t+8]]+Cn[e[t+9]]+"-"+Cn[e[t+10]]+Cn[e[t+11]]+Cn[e[t+12]]+Cn[e[t+13]]+Cn[e[t+14]]+Cn[e[t+15]]).toLowerCase()}let bv;const g9=new Uint8Array(16);function y9(){if(!bv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bv=crypto.getRandomValues.bind(crypto)}return bv(g9)}const v9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),DA={randomUUID:v9};function b9(e,t,r){var s;if(DA.randomUUID&&!t&&!e)return DA.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??y9();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let a=0;a<16;++a)t[r+a]=n[a];return t}return x9(n)}function w9(e){const{version:t}=e;return t?t.startsWith("1"):!1}function E9(e){if(!e)return;const{bucket_name:t,aws_region:r,buckets:n}=e;return{S3:{bucket:t,region:r,buckets:n&&D9(n)}}}function _9(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:r,identity_pool_id:n,password_policy:s,mfa_configuration:a,mfa_methods:i,unauthenticated_identities_enabled:o,oauth:c,username_attributes:f,standard_required_attributes:h,groups:m,passwordless_options:x}=e,g={Cognito:{userPoolId:t,userPoolClientId:r,groups:m}};return n&&(g.Cognito={...g.Cognito,identityPoolId:n}),s&&(g.Cognito.passwordFormat={requireLowercase:s.require_lowercase,requireNumbers:s.require_numbers,requireUppercase:s.require_uppercase,requireSpecialCharacters:s.require_symbols,minLength:s.min_length??6}),a&&(g.Cognito.mfa={status:O9(a),smsEnabled:i==null?void 0:i.includes("SMS"),totpEnabled:i==null?void 0:i.includes("TOTP")}),o&&(g.Cognito.allowGuestAccess=o),c&&(g.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:c.response_type==="token"?"token":"code",scopes:c.scopes,providers:j9(c.identity_providers)}}),f&&(g.Cognito.loginWith={...g.Cognito.loginWith,email:f.includes("email"),phone:f.includes("phone_number"),username:f.includes("username")}),h&&(g.Cognito.userAttributes=h.reduce((v,y)=>({...v,[y]:{required:!0}}),{})),x&&(g.Cognito.passwordless={emailOtpEnabled:x.email_otp_enabled,smsOtpEnabled:x.sms_otp_enabled,webAuthn:x.web_authn?{relyingPartyId:x.web_authn.relying_party_id,userVerification:x.web_authn.user_verification}:void 0,preferredChallenge:x.preferred_challenge}),g}function S9(e){if(!(e!=null&&e.amazon_pinpoint))return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}function N9(e){if(!e)return;const{aws_region:t,geofence_collections:r,maps:n,search_indices:s}=e;return{LocationService:{region:t,searchIndices:s,geofenceCollections:r,maps:n}}}function T9(e){if(!e)return;const{aws_region:t,default_authorization_type:r,url:n,api_key:s,model_introspection:a}=e;return{GraphQL:{endpoint:n,defaultAuthMode:N6(r),region:t,apiKey:s,modelIntrospection:a}}}function C9(e){if(!(e!=null&&e.events))return;const{url:t,aws_region:r,api_key:n,default_authorization_type:s}=e.events;return{Events:{endpoint:t,defaultAuthMode:N6(s),region:r,apiKey:n}}}function A9(e){if(!e)return;const{aws_region:t,channels:r,amazon_pinpoint_app_id:n}=e,s=r.includes("IN_APP_MESSAGING"),a=r.includes("APNS")||r.includes("FCM");if(!(s||a))return;const i={};return s&&(i.InAppMessaging={Pinpoint:{appId:n,region:t}}),a&&(i.PushNotification={Pinpoint:{appId:n,region:t}}),i}function k9(e){const t={};if(e.storage&&(t.Storage=E9(e.storage)),e.auth&&(t.Auth=_9(e.auth)),e.analytics&&(t.Analytics=S9(e.analytics)),e.geo&&(t.Geo=N9(e.geo)),e.data&&(t.API=T9(e.data)),e.custom){const r=C9(e.custom);r&&"Events"in r&&(t.API={...t.API,...r})}return e.notifications&&(t.Notifications=A9(e.notifications)),t}const R9={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function N6(e){return R9[e]}const IA={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function j9(e=[]){return e.reduce((t,r)=>(IA[r]!==void 0&&t.push(IA[r]),t),[])}function O9(e){return e==="OPTIONAL"?"optional":e==="REQUIRED"?"on":"off"}function D9(e){const t={};return e.forEach(({name:r,bucket_name:n,aws_region:s,paths:a})=>{if(r in t)throw new Error(`Duplicate friendly name found: ${r}. Name must be unique.`);const i=a?Object.entries(a).reduce((o,[c,f])=>(f!==void 0&&(o[c]=f),o),{}):void 0;t[r]={bucketName:n,region:s,paths:i}}),t}const T6=e=>Object.keys(e).some(t=>t.startsWith("aws_"))?f9(e):w9(e)?k9(e):e;function I9(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(h){try{f(n.next(h))}catch(m){i(m)}}function c(h){try{f(n.throw(h))}catch(m){i(m)}}function f(h){h.done?a(h.value):s(h.value).then(o,c)}f((n=n.apply(e,t||[])).next())})}function M9(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(f){return function(h){return c([f,h])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,f[0]&&(r=0)),r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(h){f=[6,h],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var ga=64,F9=32,P9=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),L9=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],B9=Math.pow(2,53)-1,Im=(function(){function e(){this.state=Int32Array.from(L9),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>B9)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===ga&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%ga>=ga-8){for(var s=this.bufferLength;s<ga;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<ga-8;s++)r.setUint8(s,0);r.setUint32(ga-8,Math.floor(t/4294967296),!0),r.setUint32(ga-4,t),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(F9),s=0;s<8;s++)a[s*4]=this.state[s]>>>24&255,a[s*4+1]=this.state[s]>>>16&255,a[s*4+2]=this.state[s]>>>8&255,a[s*4+3]=this.state[s]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,s=n[0],a=n[1],i=n[2],o=n[3],c=n[4],f=n[5],h=n[6],m=n[7],x=0;x<ga;x++){if(x<16)this.temp[x]=(r[x*4]&255)<<24|(r[x*4+1]&255)<<16|(r[x*4+2]&255)<<8|r[x*4+3]&255;else{var g=this.temp[x-2],v=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10;g=this.temp[x-15];var y=(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;this.temp[x]=(v+this.temp[x-7]|0)+(y+this.temp[x-16]|0)}var w=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&f^~c&h)|0)+(m+(P9[x]+this.temp[x]|0)|0)|0,E=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&a^s&i^a&i)|0;m=h,h=f,f=c,c=o+w|0,o=i,i=a,a=s,s=w+E|0}n[0]+=s,n[1]+=a,n[2]+=i,n[3]+=o,n[4]+=c,n[5]+=f,n[6]+=h,n[7]+=m},e})();const U9=e=>new TextEncoder().encode(e);var z9=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:U9;function C6(e){return e instanceof Uint8Array?e:typeof e=="string"?z9(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function H9(e){return typeof e=="string"?e.length===0:e.byteLength===0}var Jm=(function(){function e(t){this.secret=t,this.hash=new Im,this.reset()}return e.prototype.update=function(t){if(!(H9(t)||this.error))try{this.hash.update(C6(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return I9(this,void 0,void 0,function(){return M9(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Im,this.secret){this.outer=new Im;var t=q9(this.secret),r=new Uint8Array(ga);r.set(t);for(var n=0;n<ga;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}},e})();function q9(e){var t=C6(e);if(t.byteLength>ga){var r=new Im;r.update(t),t=r.digest()}var n=new Uint8Array(ga);return n.set(t),n}for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`)}var Yr;(function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"})(Yr||(Yr={}));var l2;(function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"})(l2||(l2={}));var MA;(function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"})(MA||(MA={}));var FA;(function(e){e.Record="1",e.IdentifyUser="2"})(FA||(FA={}));var PA;(function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"})(PA||(PA={}));var Gn;(function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"})(Gn||(Gn={}));var LA;(function(e){e.Subscribe="1",e.GraphQl="2"})(LA||(LA={}));var BA;(function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"})(BA||(BA={}));var UA;(function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"})(UA||(UA={}));var zA;(function(e){e.None="0"})(zA||(zA={}));var HA;(function(e){e.Convert="1",e.Identify="2",e.Interpret="3"})(HA||(HA={}));var qA;(function(e){e.Subscribe="1"})(qA||(qA={}));var VA;(function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"})(VA||(VA={}));var $A;(function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"})($A||($A={}));const V9="6.16.0",cg=()=>typeof global<"u",dd=()=>typeof window<"u",A6=()=>typeof document<"u",AE=()=>typeof process<"u",Eh=(e,t)=>!!Object.keys(e).find(r=>r.startsWith(t));var WA={};function $9(){const e=n=>n.startsWith("_react")||n.startsWith("__react"),t=n=>Object.keys(n).find(e),r=()=>Array.from(document.querySelectorAll("[id]"));return A6()&&r().some(t)}function W9(){return AE()&&typeof WA<"u"&&!!Object.keys(WA).find(e=>e.includes("react"))}function G9(){return dd()&&Eh(window,"__VUE")}function K9(){return cg()&&Eh(global,"__VUE")}var GA={};function X9(){return dd()&&Eh(window,"__SVELTE")}function Y9(){return AE()&&typeof GA<"u"&&!!Object.keys(GA).find(e=>e.includes("svelte"))}function J9(){return dd()&&window.next&&typeof window.next=="object"}function Z9(){return cg()&&(Eh(global,"__next")||Eh(global,"__NEXT"))}function Q9(){return dd()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function e7(){return cg()&&typeof global.__NUXT_PATHS__<"u"}var KA={};function t7(){const e=!!(A6()&&document.querySelector("[ng-version]")),t=!!(dd()&&typeof window.ng<"u");return e||t}function r7(){var e;return AE()&&typeof KA=="object"&&((e=KA.npm_lifecycle_script)==null?void 0:e.startsWith("ng "))||!1}function n7(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function s7(){return cg()&&typeof global.expo<"u"}function a7(){return dd()}const i7=[{platform:Yr.Expo,detectionMethod:s7},{platform:Yr.ReactNative,detectionMethod:n7},{platform:Yr.NextJs,detectionMethod:J9},{platform:Yr.Nuxt,detectionMethod:Q9},{platform:Yr.Angular,detectionMethod:t7},{platform:Yr.React,detectionMethod:$9},{platform:Yr.VueJs,detectionMethod:G9},{platform:Yr.Svelte,detectionMethod:X9},{platform:Yr.WebUnknown,detectionMethod:a7},{platform:Yr.NextJsSSR,detectionMethod:Z9},{platform:Yr.NuxtSSR,detectionMethod:e7},{platform:Yr.ReactSSR,detectionMethod:W9},{platform:Yr.VueJsSSR,detectionMethod:K9},{platform:Yr.AngularSSR,detectionMethod:r7},{platform:Yr.SvelteSSR,detectionMethod:Y9}];function o7(){var e;return((e=i7.find(t=>t.detectionMethod()))==null?void 0:e.platform)||Yr.ServerSideUnknown}let Jf;const wv=[];let c2=!1;const l7=10,c7=10,u7=1e3,k6=()=>{var e;if(!Jf){if(Jf=o7(),c2)for(;wv.length;)(e=wv.pop())==null||e();else wv.forEach(t=>{t()});XA(Yr.ServerSideUnknown,l7),XA(Yr.WebUnknown,c7)}return Jf};function d7(){Jf=void 0}function XA(e,t){Jf===e&&!c2&&setTimeout(()=>{d7(),c2=!0,setTimeout(k6,u7)},t)}const f7={},h7=(e,t)=>{var r,n;return(n=(r=f7[e])==null?void 0:r[t])==null?void 0:n.additionalDetails},p7="aws-amplify",m7=e=>e.replace(/\+.*/,""),x7=({category:e,action:t}={})=>{const r=[[p7,m7(V9)]];if(e&&r.push([e,t]),r.push(["framework",k6()]),e&&t){const n=h7(e,t);n&&n.forEach(s=>{r.push(s)})}return r},ug=e=>x7(e).map(([n,s])=>n&&s?`${n}/${s}`:n).join(" "),R6=()=>typeof window<"u"&&typeof window.document<"u",YA=new Vs("Auth");class g7{configure(t,r){var n,s;this.authConfig=t,this.authOptions=r,t&&((n=t.Cognito)!=null&&n.userPoolEndpoint)&&YA.warn(JA("Amazon Cognito User Pool")),t&&((s=t.Cognito)!=null&&s.identityPoolEndpoint)&&YA.warn(JA("Amazon Cognito Identity Pool"))}async fetchAuthSession(t={}){var a,i,o,c,f,h;let r,n;const s=await this.getTokens(t);return s?(n=(i=(a=s.accessToken)==null?void 0:a.payload)==null?void 0:i.sub,r=await((c=(o=this.authOptions)==null?void 0:o.credentialsProvider)==null?void 0:c.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:s,authenticated:!0,forceRefresh:t.forceRefresh}))):r=await((h=(f=this.authOptions)==null?void 0:f.credentialsProvider)==null?void 0:h.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:t.forceRefresh})),{tokens:s,credentials:r==null?void 0:r.credentials,identityId:r==null?void 0:r.identityId,userSub:n}}async clearCredentials(){var t,r;await((r=(t=this.authOptions)==null?void 0:t.credentialsProvider)==null?void 0:r.clearCredentialsAndIdentityId())}async getTokens(t){var r,n;return await((n=(r=this.authOptions)==null?void 0:r.tokenProvider)==null?void 0:n.getTokens(t))??void 0}}const JA=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`;class y7{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new g7}configure(t,r){var s,a,i,o,c;const n=T6(t);this.resourcesConfig=n,r&&(this.libraryOptions=r),this.resourcesConfig=S6(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),((s=this.resourcesConfig.Analytics)!=null&&s.Pinpoint||(i=(a=this.resourcesConfig.Notifications)==null?void 0:a.InAppMessaging)!=null&&i.Pinpoint||(c=(o=this.resourcesConfig.Notifications)==null?void 0:o.PushNotification)!=null&&c.Pinpoint)&&console.warn("AWS will end support for Amazon Pinpoint on October 30, 2026. The guidance is to use AWS End User Messaging for push notifications and SMS, Amazon Simple Email Service for sending emails, Amazon Connect for campaigns, journeys, endpoints, and engagement analytics. Pinpoint recommends Amazon Kinesis for event collection and mobile analytics."),Gu.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",_c),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[m9](t){var r,n,s;(n=(r=this.resourcesConfig.Auth)==null?void 0:r.Cognito.loginWith)!=null&&n.oauth?t((s=this.resourcesConfig.Auth)==null?void 0:s.Cognito):this.oAuthListener=t}notifyOAuthListener(){var t,r,n;!((r=(t=this.resourcesConfig.Auth)==null?void 0:t.Cognito.loginWith)!=null&&r.oauth)||!this.oAuthListener||(this.oAuthListener((n=this.resourcesConfig.Auth)==null?void 0:n.Cognito),this.oAuthListener=void 0)}}const ur=new y7,v7=(e,t)=>e.Auth.fetchAuthSession(t),dg=e=>v7(ur,e);function j6(){return ur.Auth.clearCredentials()}const fg=e=>{const{headers:t,statusCode:r}=e;return{...b7(e)?e.$metadata:{},httpStatusCode:r,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},b7=e=>typeof(e==null?void 0:e.$metadata)=="object",fd=async e=>{if(!e||e.statusCode<300)return;const t=await Jh(e),n=(i=>{const[o]=i.toString().split(/[,:]+/);return o.includes("#")?o.split("#")[1]:o})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),s=t.message??t.Message??"Unknown error",a=new Error(s);return Object.assign(a,{name:n,$metadata:fg(e)})},Jh=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:fg(e)})},hs=(e,t,r,n)=>async(s,a)=>{const i={...n,...s},o=await i.endpointResolver(i,a),c=await t(a,o),f=await e(c,{...i});return r(f)},w7=300*1e3;function E7(e=w7){return n=>{const s=2**n*100+100*Math.random();return s>e?!1:s}}const O6=3,ZA="amz-sdk-invocation-id",_7="amz-sdk-request",QA=300*1e3,D6=e=>{const r=E7(QA)(e);return r===!1?QA:r},S7=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],N7=e=>!!e&&S7.includes(e),I6=e=>async(t,r)=>{const n=r??await e(t)??void 0,s=(n==null?void 0:n.code)||(n==null?void 0:n.name),a=t==null?void 0:t.statusCode;return{retryable:k7(r)||A7(a,s)||N7(s)||R7(a,s)}},T7=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],C7=["TimeoutError","RequestTimeout","RequestTimeoutException"],A7=(e,t)=>e===429||!!t&&T7.includes(t),k7=e=>[Ec.NetworkError,"ERR_NETWORK"].includes(e==null?void 0:e.name),R7=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&C7.includes(t),M6="cognito-identity",F6={service:M6,retryDecider:I6(fd),computeDelay:D6,cache:"no-store"},j7=({maxAttempts:e=O6,retryDecider:t,computeDelay:r,abortSignal:n})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(s,a)=>async function(o){let c,f=a.attemptsCount??0,h;const m=()=>{if(h)return ek(h,f),h;throw ek(c,f),c};for(;!(n!=null&&n.aborted)&&f<e;){try{h=await s(o),c=void 0}catch(v){c=v,h=void 0}f=(a.attemptsCount??0)>f?a.attemptsCount??0:f+1,a.attemptsCount=f;const{isCredentialsExpiredError:x,retryable:g}=await t(h,c,a);if(g){if(a.isCredentialsExpired=!!x,!(n!=null&&n.aborted)&&f<e){const v=r(f);await O7(v,n)}continue}else return m()}if(n!=null&&n.aborted)throw new Error("Request aborted.");return m()}},O7=(e,t)=>{if(t!=null&&t.aborted)return Promise.resolve();let r,n;const s=new Promise(a=>{n=a,r=setTimeout(a,e)});return t==null||t.addEventListener("abort",function a(i){clearTimeout(r),t==null||t.removeEventListener("abort",a),n()}),s},ek=(e,t)=>{Object.prototype.toString.call(e)==="[object Object]"&&(e.$metadata={...e.$metadata??{},attempts:t})},D7=b9,I7=()=>e=>async function(r){return r.headers[ZA]||(r.headers[ZA]=D7()),e(r)},M7=({maxAttempts:e=O6})=>(t,r)=>async function(s){const a=r.attemptsCount??0;return s.headers[_7]=`attempt=${a+1}; max=${e}`,t(s)},F7=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>r=>async function(s){if(t.trim().length===0)return await r(s);{const a=e.toLowerCase();return s.headers[a]=s.headers[a]?`${s.headers[a]} ${t}`:t,await r(s)}},kE=(e,t)=>(r,n)=>{const s={};let a=i=>e(i,n);for(let i=t.length-1;i>=0;i--){const o=t[i];a=o(n)(a,s)}return a(r)},Ev=e=>{let t;return()=>(t||(t=e()),t)},P7=e=>!["HEAD","GET"].includes(e.toUpperCase()),L7=async({url:e,method:t,headers:r,body:n},{abortSignal:s,cache:a,withCrossDomainCredentials:i})=>{var m;let o;try{o=await fetch(e,{method:t,headers:r,body:P7(t)?n:void 0,signal:s,cache:a,credentials:i?"include":"same-origin"})}catch(x){throw x instanceof TypeError?new As({name:Ec.NetworkError,message:"A network error has occurred.",underlyingError:x}):x}const c={};(m=o.headers)==null||m.forEach((x,g)=>{c[g.toLowerCase()]=x});const f={statusCode:o.status,headers:c,body:null},h=Object.assign(o.body??{},{text:Ev(()=>o.text()),blob:Ev(()=>o.blob()),json:Ev(()=>o.json())});return{...f,body:h}},P6=kE(L7,[F7,I7,j7,M7]),B7=()=>e=>async function(r){return r.headers["cache-control"]="no-store",e(r)},L6=kE(P6,[B7]),B6=e=>(t,r)=>{const n=U7(e),s=JSON.stringify(t);return z7(r,n,s)},U7=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),z7=({url:e},t,r)=>({headers:t,url:e,body:r,method:"POST"}),tk=e=>hs(L6,B6("GetCredentialsForIdentity"),H7,{...F6,...e,userAgentValue:ug()}),H7=async e=>{if(e.statusCode>=300)throw await fd(e);const t=await Jh(e);return{IdentityId:t.IdentityId,Credentials:q7(t.Credentials),$metadata:fg(e)}},q7=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(e*1e3)}),V7=e=>hs(L6,B6("GetId"),$7,{...F6,...e,userAgentValue:ug()}),$7=async e=>{if(e.statusCode>=300)throw await fd(e);return{IdentityId:(await Jh(e)).IdentityId,$metadata:fg(e)}},U6={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},W7={partitions:[U6,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},z6=e=>{const{partitions:t}=W7;for(const{regions:r,outputs:n,regionRegex:s}of t){const a=new RegExp(s);if(r.includes(e)||a.test(e))return n.dnsSuffix}return U6.outputs.dnsSuffix},Zh=URL,G7=({region:e})=>({url:new Zh(`https://${M6}.${e}.${z6(e)}`)});class Bf extends As{constructor(){super({name:Ec.PlatformNotSupported,message:"Function not supported on current platform"})}}class H6{constructor(t){this.storage=t}async setItem(t,r){if(!this.storage)throw new Bf;this.storage.setItem(t,r)}async getItem(t){if(!this.storage)throw new Bf;return this.storage.getItem(t)}async removeItem(t){if(!this.storage)throw new Bf;this.storage.removeItem(t)}async clear(){if(!this.storage)throw new Bf;this.storage.clear()}}class q6{constructor(){this.storage=new Map}get length(){return this.storage.size}key(t){return t>this.length-1?null:Array.from(this.storage.keys())[t]}setItem(t,r){this.storage.set(t,r)}getItem(t){return this.storage.get(t)??null}removeItem(t){this.storage.delete(t)}clear(){this.storage.clear()}}const V6=new Vs("CoreStorageUtils"),K7=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{V6.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new q6},$6=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return V6.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new q6}};class X7 extends H6{constructor(){super(K7())}}class Y7 extends H6{constructor(){super($6())}}class J7{constructor(t){this._storage=t}get storage(){if(!this._storage)throw new Bf;return this._storage}setItem(t,r){this.storage.setItem(t,r)}getItem(t){return this.storage.getItem(t)}removeItem(t){this.storage.removeItem(t)}clear(){this.storage.clear()}}class Z7 extends J7{constructor(){super($6())}}/*! js-cookie v3.0.5 | MIT */function Vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var Q7={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function u2(e,t){function r(s,a,i){if(!(typeof document>"u")){i=Vp({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var c in i)i[c]&&(o+="; "+c,i[c]!==!0&&(o+="="+i[c].split(";")[0]));return document.cookie=s+"="+e.write(a,s)+o}}function n(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var a=document.cookie?document.cookie.split("; "):[],i={},o=0;o<a.length;o++){var c=a[o].split("="),f=c.slice(1).join("=");try{var h=decodeURIComponent(c[0]);if(i[h]=e.read(f,h),s===h)break}catch{}}return s?i[s]:i}}return Object.create({set:r,get:n,remove:function(s,a){r(s,"",Vp({},a,{expires:-1}))},withAttributes:function(s){return u2(this.converter,Vp({},this.attributes,s))},withConverter:function(s){return u2(Vp({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var $p=u2(Q7,{path:"/"});class eU{constructor(t={}){const{path:r,domain:n,expires:s,sameSite:a,secure:i}=t;if(this.domain=n,this.path=r||"/",this.expires=Object.prototype.hasOwnProperty.call(t,"expires")?s:365,this.secure=Object.prototype.hasOwnProperty.call(t,"secure")?i:!0,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!a||!["strict","lax","none"].includes(a))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(a==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=a}}async setItem(t,r){$p.set(t,r,this.getData())}async getItem(t){return $p.get(t)??null}async removeItem(t){$p.remove(t,this.getData())}async clear(){const t=$p.get(),r=Object.keys(t).map(n=>this.removeItem(n));await Promise.all(r)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}const Qh=new X7;new Y7;const Qi=new Z7,tU=e=>{let t;return async(...r)=>t||(t=new Promise((n,s)=>{e(...r).then(a=>{n(a)}).catch(a=>{s(a)}).finally(()=>{t=void 0})}),t)};function rk({expiresAt:e,clockDrift:t,tolerance:r=5e3}){return Date.now()+t+r>e}const rU=async()=>{const{userAgentData:e}=navigator;if(!e)return navigator.userAgent;const{platform:t="",platformVersion:r="",model:n="",architecture:s="",fullVersionList:a=[]}=await e.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]),i=a.map(c=>`${c.brand}/${c.version}`).join(";");return[t,r,s,n,t,i].filter(c=>c).join(" ")||navigator.userAgent};function nU(e){return Array.from(e,t=>String.fromCodePoint(t)).join("")}const _h={convert(e,t={urlSafe:!1,skipPadding:!1}){const r=typeof e=="string"?e:nU(e);let n=o9()(r);return t.urlSafe&&(n=n.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(n=n.replace(/=/g,"")),n}};function sU(){return i9().getRandomValues(new Uint32Array(1))[0]}function aU(e){const{words:t}=e,{sigBytes:r}=e,n=[];for(let s=0;s<r;s++){const a=t[s>>>2]>>>24-s%4*8&255;n.push((a>>>4).toString(16)),n.push((a&15).toString(16))}return n.join("")}class RE{constructor(t,r){this.words=[];let n=t;n=this.words=n||[],r!==void 0?this.sigBytes=r:this.sigBytes=n.length*4}random(t){const r=[];for(let n=0;n<t;n+=4)r.push(sU());return new RE(r,t)}toString(){return aU(this)}}var Et;(function(e){e.EmptySignInUsername="EmptySignInUsername",e.EmptySignInPassword="EmptySignInPassword",e.CustomAuthSignInPassword="CustomAuthSignInPassword",e.EmptySignUpUsername="EmptySignUpUsername",e.EmptySignUpPassword="EmptySignUpPassword",e.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",e.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",e.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",e.EmptyChallengeResponse="EmptyChallengeResponse",e.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",e.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",e.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",e.EmptyResetPasswordUsername="EmptyResetPasswordUsername",e.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",e.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",e.IncorrectMFAMethod="IncorrectMFAMethod",e.EmptyUpdatePassword="EmptyUpdatePassword",e.InvalidPreferredChallenge="InvalidPreferredChallenge"})(Et||(Et={}));const W6={[Et.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[Et.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[Et.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[Et.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[Et.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[Et.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[Et.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[Et.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[Et.EmptySignInPassword]:{message:"password is required to signIn"},[Et.EmptySignInUsername]:{message:"username is required to signIn"},[Et.EmptySignUpPassword]:{message:"password is required to signUp"},[Et.EmptySignUpUsername]:{message:"username is required to signUp"},[Et.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[Et.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[Et.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[Et.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[Et.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"},[Et.InvalidPreferredChallenge]:{message:"The preferred challenge is not enabled in your backend configuration",recoverySuggestion:"Ensure the authentication method is enabled in your Amplify backend configuration"}};var nk;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in",e.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings"})(nk||(nk={}));var Ku;(function(e){e.SignInException="SignInException",e.OAuthSignInError="OAuthSignInException"})(Ku||(Ku={}));class _t extends As{constructor(t){super(t),this.constructor=_t,Object.setPrototypeOf(this,_t.prototype)}}function jr(e,t){const{message:r,recoverySuggestion:n}=W6[t];if(!e)throw new _t({name:t,message:r,recoverySuggestion:n})}function rn(e){const t=e==null?void 0:e.split("_")[0];if(!e||e.indexOf("_")<0||!t||typeof t!="string")throw new _t({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function d2(e){if(!e||!e.includes(":"))throw new _t({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}function f2(e){return Object.entries(e).map(([t,r])=>({Name:t,Value:r}))}var sk;(function(e){e.ConcurrentModificationException="ConcurrentModificationException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException"})(sk||(sk={}));var ak;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(ak||(ak={}));var ik;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UsernameExistsException="UsernameExistsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(ik||(ik={}));var ok;(function(e){e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(ok||(ok={}));var lk;(function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"})(lk||(lk={}));var ck;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(ck||(ck={}));var uk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(uk||(uk={}));var dk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(dk||(dk={}));var fk;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"})(fk||(fk={}));var hk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(hk||(hk={}));var pk;(function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"})(pk||(pk={}));var mk;(function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"})(mk||(mk={}));var xk;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(xk||(xk={}));var gk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException"})(gk||(gk={}));var Zm;(function(e){e.PasswordResetRequiredException="PasswordResetRequiredException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Zm||(Zm={}));var yk;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"})(yk||(yk={}));var vk;(function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.MFAMethodNotFoundException="MFAMethodNotFoundException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(vk||(vk={}));var bk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(bk||(bk={}));var h2;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UsernameExistsException="UsernameExistsException"})(h2||(h2={}));var wk;(function(e){e.AliasExistsException="AliasExistsException",e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(wk||(wk={}));var Ek;(function(e){e.CodeMismatchException="CodeMismatchException",e.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Ek||(Ek={}));var _k;(function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(_k||(_k={}));var Sk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Sk||(Sk={}));var Nk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Nk||(Nk={}));const hg="UserUnAuthenticatedException",iU="UserAlreadyAuthenticatedException",oU="DeviceMetadataNotFoundException",lU="InvalidRedirectException",cU="InvalidAppSchemeException",uU="InvalidPreferredRedirectUrlException",dU=new _t({name:lU,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new _t({name:cU,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});new _t({name:uU,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."});const fU="InvalidOriginException",hU=new _t({name:fU,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),pU="OAuthSignOutException",mU="TokenRefreshException",xU="UnexpectedSignInInterruptionException";function jE(e){if(!e||!e.accessToken)throw new _t({name:hg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function gU(e){if(!e||!e.idToken)throw new _t({name:hg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const yU=new _t({name:mU,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),vU=new _t({name:hg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function G6(e){if(EU(e))throw yU;if(!wU(e))throw vU}function K6(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new _t({name:oU,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}const bU={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function X6(e){return(e==null?void 0:e.accessToken)||(e==null?void 0:e.idToken)}function wU(e){return X6(e)&&(e==null?void 0:e.refreshToken)}function EU(e){return X6(e)&&!(e!=null&&e.refreshToken)}const _U=async e=>{var o,c;const t=(o=e.getConfig().Auth)==null?void 0:o.Cognito;Wt(t);const r=await e.Auth.getTokens({forceRefresh:!1});jE(r);const{"cognito:username":n,sub:s}=((c=r.idToken)==null?void 0:c.payload)??{},a={username:n,userId:s},i=SU(r);return i&&(a.signInDetails=i),a};function SU(e){return e==null?void 0:e.signInDetails}const Y6=async()=>_U(ur),Rs=(e,t)=>ug({category:l2.Auth,action:e,...t}),Ks=e=>(t,r)=>{const n=NU(e),s=JSON.stringify(t);return TU(r,n,s)},NU=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),TU=({url:e},t,r)=>({headers:t,url:e,body:r,method:"POST"});function Wa(e){if(!e||e.name==="Error"||e instanceof TypeError)throw new _t({name:Ec.Unknown,message:"An unknown error has occurred.",underlyingError:e})}const Ta=()=>async e=>{if(e.statusCode>=300){const t=await fd(e);throw Wa(t),new _t({name:t.name,message:t.message,metadata:t.$metadata})}return Jh(e)},CU=()=>(e,t)=>async function(n){return n.headers["cache-control"]="no-store",e(n)},Xs=kE(P6,[CU]),J6="cognito-idp",Ys={service:J6,retryDecider:I6(fd),computeDelay:D6,get userAgentValue(){return ug()},cache:"no-store"},e0=e=>hs(Xs,Ks("InitiateAuth"),Ta(),{...Ys,...e}),pg=e=>hs(Xs,Ks("RespondToAuthChallenge"),Ta(),{...Ys,...e}),AU=e=>hs(Xs,Ks("AssociateSoftwareToken"),Ta(),{...Ys,...e}),kU=({region:e})=>({url:new Zh(`https://${J6}.${e}.${z6(e)}`)}),nn=({endpointOverride:e})=>t=>e?{url:new Zh(e)}:kU(t),RU=e=>hs(Xs,Ks("GetTokensFromRefreshToken"),Ta(),{...Ys,...e}),jU=async({tokens:e,authConfig:t,username:r,clientMetadata:n})=>{var v;Wt(t==null?void 0:t.Cognito);const{userPoolId:s,userPoolClientId:a,userPoolEndpoint:i}=t.Cognito,o=rn(s);G6(e);const c=RU({endpointResolver:nn({endpointOverride:i})}),{AuthenticationResult:f}=await c({region:o},{ClientId:a,RefreshToken:e.refreshToken,DeviceKey:(v=e.deviceMetadata)==null?void 0:v.deviceKey,ClientMetadata:n}),h=Sc((f==null?void 0:f.AccessToken)??""),m=f!=null&&f.IdToken?Sc(f.IdToken):void 0,{iat:x}=h.payload;if(!x)throw new _t({name:"iatNotFoundException",message:"iat not found in access token"});const g=x*1e3-new Date().getTime();return{accessToken:h,idToken:m,clockDrift:g,refreshToken:(f==null?void 0:f.RefreshToken)??e.refreshToken,username:r}},OU=tU(jU),DU={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var Qm;(function(e){e.InvalidAuthTokens="InvalidAuthTokens"})(Qm||(Qm={}));const IU={[Qm.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},MU=NE(IU),Tk="CognitoIdentityServiceProvider";class FU{getKeyValueStorage(){if(!this.keyValueStorage)throw new _t({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(t){this.keyValueStorage=t}setAuthConfig(t){this.authConfig=t}async loadTokens(){try{const t=await this.getAuthKeys(),r=await this.getKeyValueStorage().getItem(t.accessToken);if(!r)throw new _t({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const n=Sc(r),s=await this.getKeyValueStorage().getItem(t.idToken),a=s?Sc(s):void 0,i=await this.getKeyValueStorage().getItem(t.refreshToken)??void 0,o=await this.getKeyValueStorage().getItem(t.clockDrift)??"0",c=Number.parseInt(o),f=await this.getKeyValueStorage().getItem(t.signInDetails),h={accessToken:n,idToken:a,refreshToken:i,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:c,username:await this.getLastAuthUser()};return f&&(h.signInDetails=JSON.parse(f)),h}catch{return null}}async storeTokens(t){MU(t!==void 0,Qm.InvalidAuthTokens);const r=t.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),r);const n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,t.accessToken.toString()),t.idToken?await this.getKeyValueStorage().setItem(n.idToken,t.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),t.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,t.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),t.deviceMetadata&&(t.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,t.deviceMetadata.deviceKey),t.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,t.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,t.deviceMetadata.randomPassword)),t.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(t.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${t.clockDrift}`)}async clearTokens(){const t=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(t.accessToken),this.getKeyValueStorage().removeItem(t.idToken),this.getKeyValueStorage().removeItem(t.clockDrift),this.getKeyValueStorage().removeItem(t.refreshToken),this.getKeyValueStorage().removeItem(t.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(t.oauthMetadata)])}async getDeviceMetadata(t){const r=await this.getAuthKeys(t),n=await this.getKeyValueStorage().getItem(r.deviceKey),s=await this.getKeyValueStorage().getItem(r.deviceGroupKey),a=await this.getKeyValueStorage().getItem(r.randomPasswordKey);return a&&s&&n?{deviceKey:n,deviceGroupKey:s,randomPassword:a}:null}async clearDeviceMetadata(t){const r=await this.getAuthKeys(t);await Promise.all([this.getKeyValueStorage().removeItem(r.deviceKey),this.getKeyValueStorage().removeItem(r.deviceGroupKey),this.getKeyValueStorage().removeItem(r.randomPasswordKey)])}async getAuthKeys(t){var n;Wt((n=this.authConfig)==null?void 0:n.Cognito);const r=t??await this.getLastAuthUser();return PU(Tk,`${this.authConfig.Cognito.userPoolClientId}.${r}`)}getLastAuthUserKey(){var r;Wt((r=this.authConfig)==null?void 0:r.Cognito);const t=this.authConfig.Cognito.userPoolClientId;return`${Tk}.${t}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(t){const{oauthMetadata:r}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(r,JSON.stringify(t))}async getOAuthMetadata(){const{oauthMetadata:t}=await this.getAuthKeys(),r=await this.getKeyValueStorage().getItem(t);return r&&JSON.parse(r)}}const PU=(e,t)=>OE(DU)(`${e}`,t);function OE(e){const t=Object.values({...e});return(r,n)=>t.reduce((s,a)=>({...s,[a]:`${r}.${n}.${a}`}),{})}const Ck="amplify-signin-with-hostedUI",ni="CognitoIdentityServiceProvider";class Z6{constructor(t){this.keyValueStorage=t}async clearOAuthInflightData(){Wt(this.cognitoConfig);const t=si(ni,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(t.inflightOAuth),this.keyValueStorage.removeItem(t.oauthPKCE),this.keyValueStorage.removeItem(t.oauthState)])}async clearOAuthData(){Wt(this.cognitoConfig);const t=si(ni,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(Ck),this.keyValueStorage.removeItem(t.oauthSignIn)}loadOAuthState(){Wt(this.cognitoConfig);const t=si(ni,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthState)}storeOAuthState(t){Wt(this.cognitoConfig);const r=si(ni,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(r.oauthState,t)}loadPKCE(){Wt(this.cognitoConfig);const t=si(ni,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthPKCE)}storePKCE(t){Wt(this.cognitoConfig);const r=si(ni,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(r.oauthPKCE,t)}setAuthConfig(t){this.cognitoConfig=t}async loadOAuthInFlight(){Wt(this.cognitoConfig);const t=si(ni,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(t.inflightOAuth)==="true"}async storeOAuthInFlight(t){Wt(this.cognitoConfig);const r=si(ni,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(r.inflightOAuth,`${t}`)}async loadOAuthSignIn(){var a;Wt(this.cognitoConfig);const t=si(ni,this.cognitoConfig.userPoolClientId),r=await this.keyValueStorage.getItem(Ck),[n,s]=((a=await this.keyValueStorage.getItem(t.oauthSignIn))==null?void 0:a.split(","))??[];return{isOAuthSignIn:n==="true"||r==="true",preferPrivateSession:s==="true"}}async storeOAuthSignIn(t,r=!1){Wt(this.cognitoConfig);const n=si(ni,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${t},${r}`)}}const si=(e,t)=>OE(bU)(e,t),Ak=new Z6(Qh);class LU{constructor(){this.waitForInflightOAuth=R6()?async()=>{if(await Ak.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((t,r)=>{}),this.inflightPromise)}:async()=>{}}setAuthConfig(t){Ak.setAuthConfig(t.Cognito),this.authConfig=t}setTokenRefresher(t){this.tokenRefresher=t}setAuthTokenStore(t){this.tokenStore=t}getTokenStore(){if(!this.tokenStore)throw new _t({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new _t({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}setClientMetadataProvider(t){this.clientMetadataProvider=t}async getTokens(t){var i,o,c,f,h,m;let r;try{Wt((i=this.authConfig)==null?void 0:i.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,r=await this.getTokenStore().loadTokens();const n=await this.getTokenStore().getLastAuthUser();if(r===null)return null;const s=!!(r!=null&&r.idToken)&&rk({expiresAt:(((c=(o=r.idToken)==null?void 0:o.payload)==null?void 0:c.exp)??0)*1e3,clockDrift:r.clockDrift??0}),a=rk({expiresAt:(((h=(f=r.accessToken)==null?void 0:f.payload)==null?void 0:h.exp)??0)*1e3,clockDrift:r.clockDrift??0});return(t!=null&&t.forceRefresh||s||a)&&(r=await this.refreshTokens({tokens:r,username:n,clientMetadata:(t==null?void 0:t.clientMetadata)??await((m=this.clientMetadataProvider)==null?void 0:m.call(this))}),r===null)?null:{accessToken:r==null?void 0:r.accessToken,idToken:r==null?void 0:r.idToken,signInDetails:r==null?void 0:r.signInDetails}}async refreshTokens({tokens:t,username:r,clientMetadata:n}){try{const{signInDetails:s}=t,a=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:r,clientMetadata:n});return a.signInDetails=s,await this.setTokens({tokens:a}),Gu.dispatch("auth",{event:"tokenRefresh"},"Auth",_c),a}catch(s){return this.handleErrors(s)}}handleErrors(t){if(Wa(t),this.isAuthenticationError(t)&&this.clearTokens(),Gu.dispatch("auth",{event:"tokenRefresh_failure",data:{error:t}},"Auth",_c),t.name.startsWith("NotAuthorizedException"))return null;throw t}isAuthenticationError(t){return["NotAuthorizedException","TokenRevokedException","UserNotFoundException","PasswordResetRequiredException","UserNotConfirmedException","RefreshTokenReuseException"].some(n=>{var s,a;return(a=(s=t==null?void 0:t.name)==null?void 0:s.startsWith)==null?void 0:a.call(s,n)})}async setTokens({tokens:t}){return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(t){return this.getTokenStore().getDeviceMetadata(t)}clearDeviceMetadata(t){return this.getTokenStore().clearDeviceMetadata(t)}setOAuthMetadata(t){return this.getTokenStore().setOAuthMetadata(t)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class BU{constructor(){this.authTokenStore=new FU,this.authTokenStore.setKeyValueStorage(Qh),this.tokenOrchestrator=new LU,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(OU)}getTokens(t={}){return this.tokenOrchestrator.getTokens(t)}setKeyValueStorage(t){this.authTokenStore.setKeyValueStorage(t)}setClientMetadataProvider(t){this.tokenOrchestrator.setClientMetadataProvider(t)}setAuthConfig(t){this.authTokenStore.setAuthConfig(t),this.tokenOrchestrator.setAuthConfig(t)}}const Uf=new BU,{tokenOrchestrator:_a}=Uf;async function hd(e){if(e.AccessToken){const t=Sc(e.AccessToken),r=(t.payload.iat||0)*1e3,n=new Date().getTime(),s=r>0?r-n:0;let a,i,o;e.RefreshToken&&(i=e.RefreshToken),e.IdToken&&(a=Sc(e.IdToken)),e!=null&&e.NewDeviceMetadata&&(o=e.NewDeviceMetadata);const c={accessToken:t,idToken:a,refreshToken:i,clockDrift:s,deviceMetadata:o,username:e.username};e!=null&&e.signInDetails&&(c.signInDetails=e.signInDetails),await _a.setTokens({tokens:c})}else throw new As({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}const UU="Unable to get user session following successful sign-in.",pd=async()=>{try{Gu.dispatch("auth",{event:"signedIn",data:await Y6()},"Auth",_c)}catch(e){throw e.name===hg?new _t({name:xU,message:UU,recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."}):e}};function Q6(){return{active:!1}}const zU=(e,t)=>{switch(t.type){case"SET_USERNAME":return{...e,username:t.value};case"SET_SESSION":return{...e,session:t.value};case"START":return{...e,active:!0};case"RESET":return Q6();default:return e}},HU=e=>{let t=e(Q6(),{type:"RESET"});return{getState:()=>t,dispatch:r=>{t=e(t,r)}}},al=HU(zU),qU=180*1e3,Wp="CognitoSignInState",eo={username:`${Wp}.username`,challengeName:`${Wp}.challengeName`,signInSession:`${Wp}.signInSession`,expiry:`${Wp}.expiry`},VU=(e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return Gp({signInSession:t.value}),{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return Gp(t.value),{...t.value};case"SET_CHALLENGE_NAME":return Gp({challengeName:t.value}),{...e,challengeName:t.value};case"SET_USERNAME":return Gp({username:t.value}),{...e,username:t.value};case"SET_INITIAL_STATE":return WU();case"RESET_STATE":return eO(),DE();default:return e}},$U=e=>{const t=Number(e),r=Date.now();return t<=r},yi=()=>{bl.dispatch({type:"RESET_STATE"})},eO=()=>{for(const e of Object.values(eo))Qi.removeItem(e)},DE=()=>({username:void 0,challengeName:void 0,signInSession:void 0}),WU=()=>{const e=Qi.getItem(eo.expiry);if(!e||$U(e))return eO(),DE();const t=Qi.getItem(eo.username)??void 0,r=Qi.getItem(eo.challengeName)??void 0,n=Qi.getItem(eo.signInSession)??void 0;return{username:t,challengeName:r,signInSession:n}},GU=e=>{let t=e(DE(),{type:"SET_INITIAL_STATE"});return{getState:()=>t,dispatch:r=>{t=e(t,r)}}},bl=GU(VU);function md(e){bl.dispatch({type:"SET_SIGN_IN_STATE",value:e})}const Gp=({challengeName:e,signInSession:t,username:r})=>{r&&Qi.setItem(eo.username,r),e&&Qi.setItem(eo.challengeName,e),t&&(Qi.setItem(eo.signInSession,t),Qi.setItem(eo.expiry,String(Date.now()+qU)))},kk="Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.";class so extends As{constructor(t){super(t),this.constructor=so,Object.setPrototypeOf(this,so.prototype)}}var Fr;(function(e){e.PasskeyNotSupported="PasskeyNotSupported",e.PasskeyAlreadyExists="PasskeyAlreadyExists",e.InvalidPasskeyRegistrationOptions="InvalidPasskeyRegistrationOptions",e.InvalidPasskeyAuthenticationOptions="InvalidPasskeyAuthenticationOptions",e.RelyingPartyMismatch="RelyingPartyMismatch",e.PasskeyRegistrationFailed="PasskeyRegistrationFailed",e.PasskeyRetrievalFailed="PasskeyRetrievalFailed",e.PasskeyRegistrationCanceled="PasskeyRegistrationCanceled",e.PasskeyAuthenticationCanceled="PasskeyAuthenticationCanceled",e.PasskeyOperationAborted="PasskeyOperationAborted"})(Fr||(Fr={}));const _v="User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.",Rk="Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.",ex={[Fr.PasskeyNotSupported]:{message:"Passkeys may not be supported on this device.",recoverySuggestion:kk},[Fr.InvalidPasskeyRegistrationOptions]:{message:"Invalid passkey registration options.",recoverySuggestion:Rk},[Fr.InvalidPasskeyAuthenticationOptions]:{message:"Invalid passkey authentication options.",recoverySuggestion:Rk},[Fr.PasskeyRegistrationFailed]:{message:"Device failed to create passkey.",recoverySuggestion:kk},[Fr.PasskeyRetrievalFailed]:{message:"Device failed to retrieve passkey.",recoverySuggestion:"Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."},[Fr.PasskeyAlreadyExists]:{message:"Passkey already exists in authenticator.",recoverySuggestion:"Proceed with existing passkey or try again after deleting the credential."},[Fr.PasskeyRegistrationCanceled]:{message:"Passkey registration ceremony has been canceled.",recoverySuggestion:_v},[Fr.PasskeyAuthenticationCanceled]:{message:"Passkey authentication ceremony has been canceled.",recoverySuggestion:_v},[Fr.PasskeyOperationAborted]:{message:"Passkey operation has been aborted.",recoverySuggestion:_v},[Fr.RelyingPartyMismatch]:{message:"Relying party does not match current domain.",recoverySuggestion:"Ensure relying party identifier matches current domain."}},IE=NE(ex,so),KU=e=>{if(e instanceof Error){if(e.name==="AbortError"){const{message:t,recoverySuggestion:r}=ex[Fr.PasskeyOperationAborted];return new so({name:Fr.PasskeyOperationAborted,message:t,recoverySuggestion:r,underlyingError:e})}if(e.name==="SecurityError"){const{message:t,recoverySuggestion:r}=ex[Fr.RelyingPartyMismatch];return new so({name:Fr.RelyingPartyMismatch,message:t,recoverySuggestion:r,underlyingError:e})}}return new so({name:Ec.Unknown,message:"An unknown error has occurred.",underlyingError:e})},XU=e=>{if(e instanceof so)return e;if(e instanceof Error&&e.name==="NotAllowedError"){const{message:t,recoverySuggestion:r}=ex[Fr.PasskeyAuthenticationCanceled];return new so({name:Fr.PasskeyAuthenticationCanceled,message:t,recoverySuggestion:r,underlyingError:e})}return KU(e)},YU=()=>R6()&&window.isSecureContext&&"credentials"in navigator&&typeof window.PublicKeyCredential=="function",Nf=e=>_h.convert(new Uint8Array(e),{urlSafe:!0,skipPadding:!0}),jk=e=>Uint8Array.from(TE.convert(e,{urlSafe:!0}),t=>t.charCodeAt(0)).buffer,JU=e=>{const t=jk(e.challenge),r=(e.allowCredentials||[]).map(n=>({...n,id:jk(n.id)}));return{...e,challenge:t,allowCredentials:r}},ZU=e=>{const t={clientDataJSON:Nf(e.response.clientDataJSON),authenticatorData:Nf(e.response.authenticatorData),signature:Nf(e.response.signature)};e.response.userHandle&&(t.userHandle=Nf(e.response.userHandle));const r={id:e.id,rawId:Nf(e.rawId),type:e.type,clientExtensionResults:e.getClientExtensionResults(),response:t};return e.authenticatorAttachment&&(r.authenticatorAttachment=e.authenticatorAttachment),r};function QU(e){IE(e&&e instanceof PublicKeyCredential&&e.response instanceof AuthenticatorAssertionResponse,Fr.PasskeyRetrievalFailed)}const ez=async e=>{try{const t=YU();IE(t,Fr.PasskeyNotSupported);const r=JU(e),n=await navigator.credentials.get({publicKey:r});return QU(n),ZU(n)}catch(t){throw XU(t)}},tz=e=>hs(Xs,Ks("ConfirmDevice"),Ta(),{...Ys,...e}),Mm={convert(e){return new TextEncoder().encode(e)}};function st(e,t){e!=null&&this.fromString(e,t)}function is(){return new st(null,null)}let hl;const rz=0xdeadbeefcafe,Ok=(rz&16777215)===15715070;function nz(e,t,r,n,s,a){for(;--a>=0;){const i=t*this[e++]+r[n]+s;s=Math.floor(i/67108864),r[n++]=i&67108863}return s}function sz(e,t,r,n,s,a){const i=t&32767,o=t>>15;for(;--a>=0;){let c=this[e]&32767;const f=this[e++]>>15,h=o*c+f*i;c=i*c+((h&32767)<<15)+r[n]+(s&1073741823),s=(c>>>30)+(h>>>15)+o*f+(s>>>30),r[n++]=c&1073741823}return s}function az(e,t,r,n,s,a){const i=t&16383,o=t>>14;for(;--a>=0;){let c=this[e]&16383;const f=this[e++]>>14,h=o*c+f*i;c=i*c+((h&16383)<<14)+r[n]+s,s=(c>>28)+(h>>14)+o*f,r[n++]=c&268435455}return s}const Dk=typeof navigator<"u";Dk&&Ok&&navigator.appName==="Microsoft Internet Explorer"?(st.prototype.am=sz,hl=30):Dk&&Ok&&navigator.appName!=="Netscape"?(st.prototype.am=nz,hl=26):(st.prototype.am=az,hl=28);st.prototype.DB=hl;st.prototype.DM=(1<<hl)-1;st.prototype.DV=1<<hl;const ME=52;st.prototype.FV=Math.pow(2,ME);st.prototype.F1=ME-hl;st.prototype.F2=2*hl-ME;const iz="0123456789abcdefghijklmnopqrstuvwxyz",mg=[];let xd,ba;xd=48;for(ba=0;ba<=9;++ba)mg[xd++]=ba;xd=97;for(ba=10;ba<36;++ba)mg[xd++]=ba;xd=65;for(ba=10;ba<36;++ba)mg[xd++]=ba;function Ik(e){return iz.charAt(e)}function oz(e,t){const r=mg[e.charCodeAt(t)];return r??-1}function lz(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function cz(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function FE(e){const t=is();return t.fromInt(e),t}function uz(e,t){let r;if(t===16)r=4;else if(t===8)r=3;else if(t===2)r=1;else if(t===32)r=5;else if(t===4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let n=e.length,s=!1,a=0;for(;--n>=0;){const i=oz(e,n);if(i<0){e.charAt(n)==="-"&&(s=!0);continue}s=!1,a===0?this[this.t++]=i:a+r>this.DB?(this[this.t-1]|=(i&(1<<this.DB-a)-1)<<a,this[this.t++]=i>>this.DB-a):this[this.t-1]|=i<<a,a+=r,a>=this.DB&&(a-=this.DB)}this.clamp(),s&&st.ZERO.subTo(this,this)}function dz(){const e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t}function fz(e){if(this.s<0)return"-"+this.negate().toString(e);let t;if(e==16)t=4;else if(e===8)t=3;else if(e===2)t=1;else if(e===32)t=5;else if(e===4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");const r=(1<<t)-1;let n,s=!1,a="",i=this.t,o=this.DB-i*this.DB%t;if(i-- >0)for(o<this.DB&&(n=this[i]>>o)>0&&(s=!0,a=Ik(n));i>=0;)o<t?(n=(this[i]&(1<<o)-1)<<t-o,n|=this[--i]>>(o+=this.DB-t)):(n=this[i]>>(o-=t)&r,o<=0&&(o+=this.DB,--i)),n>0&&(s=!0),s&&(a+=Ik(n));return s?a:"0"}function hz(){const e=is();return st.ZERO.subTo(this,e),e}function pz(){return this.s<0?this.negate():this}function mz(e){let t=this.s-e.s;if(t!=0)return t;let r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0}function PE(e){let t=1,r;return(r=e>>>16)!==0&&(e=r,t+=16),(r=e>>8)!==0&&(e=r,t+=8),(r=e>>4)!==0&&(e=r,t+=4),(r=e>>2)!==0&&(e=r,t+=2),(r=e>>1)!==0&&(e=r,t+=1),t}function xz(){return this.t<=0?0:this.DB*(this.t-1)+PE(this[this.t-1]^this.s&this.DM)}function gz(e,t){let r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function yz(e,t){for(let r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function vz(e,t){const r=e%this.DB,n=this.DB-r,s=(1<<n)-1,a=Math.floor(e/this.DB);let i=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)t[o+a+1]=this[o]>>n|i,i=(this[o]&s)<<r;for(o=a-1;o>=0;--o)t[o]=0;t[a]=i,t.t=this.t+a+1,t.s=this.s,t.clamp()}function bz(e,t){t.s=this.s;const r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}const n=e%this.DB,s=this.DB-n,a=(1<<n)-1;t[0]=this[r]>>n;for(let i=r+1;i<this.t;++i)t[i-r-1]|=(this[i]&a)<<s,t[i-r]=this[i]>>n;n>0&&(t[this.t-r-1]|=(this.s&a)<<s),t.t=this.t-r,t.clamp()}function wz(e,t){let r=0,n=0;const s=Math.min(e.t,this.t);for(;r<s;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function Ez(e,t){const r=this.abs(),n=e.abs();let s=r.t;for(t.t=s+n.t;--s>=0;)t[s]=0;for(s=0;s<n.t;++s)t[s+r.t]=r.am(0,n[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!==e.s&&st.ZERO.subTo(t,t)}function _z(e){const t=this.abs();let r=e.t=2*t.t;for(;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){const n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function Sz(e,t,r){const n=e.abs();if(n.t<=0)return;const s=this.abs();if(s.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r===null&&(r=is());const a=is(),i=this.s,o=e.s,c=this.DB-PE(n[n.t-1]);c>0?(n.lShiftTo(c,a),s.lShiftTo(c,r)):(n.copyTo(a),s.copyTo(r));const f=a.t,h=a[f-1];if(h===0)return;const m=h*(1<<this.F1)+(f>1?a[f-2]>>this.F2:0),x=this.FV/m,g=(1<<this.F1)/m,v=1<<this.F2;let y=r.t,w=y-f;const E=t===null?is():t;for(a.dlShiftTo(w,E),r.compareTo(E)>=0&&(r[r.t++]=1,r.subTo(E,r)),st.ONE.dlShiftTo(f,E),E.subTo(a,a);a.t<f;)a[a.t++]=0;for(;--w>=0;){let N=r[--y]===h?this.DM:Math.floor(r[y]*x+(r[y-1]+v)*g);if((r[y]+=a.am(0,N,r,w,0,f))<N)for(a.dlShiftTo(w,E),r.subTo(E,r);r[y]<--N;)r.subTo(E,r)}t!==null&&(r.drShiftTo(f,t),i!==o&&st.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),i<0&&st.ZERO.subTo(r,r)}function Nz(e){const t=is();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(st.ZERO)>0&&e.subTo(t,t),t}function Tz(){if(this.t<1)return 0;const e=this[0];if((e&1)===0)return 0;let t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function Cz(e){return this.compareTo(e)===0}function Az(e,t){let r=0,n=0;const s=Math.min(e.t,this.t);for(;r<s;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()}function kz(e){const t=is();return this.addTo(e,t),t}function Rz(e){const t=is();return this.subTo(e,t),t}function jz(e){const t=is();return this.multiplyTo(e,t),t}function Oz(e){const t=is();return this.divRemTo(e,t,null),t}function gd(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Dz(e){const t=is();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(st.ZERO)>0&&this.m.subTo(t,t),t}function Iz(e){const t=is();return e.copyTo(t),this.reduce(t),t}function Mz(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let r=e[t]&32767;const n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Fz(e,t){e.squareTo(t),this.reduce(t)}function Pz(e,t,r){e.multiplyTo(t,r),this.reduce(r)}gd.prototype.convert=Dz;gd.prototype.revert=Iz;gd.prototype.reduce=Mz;gd.prototype.mulTo=Pz;gd.prototype.sqrTo=Fz;function Lz(e,t,r){let n=e.bitLength(),s,a=FE(1);const i=new gd(t);if(n<=0)return a;n<18?s=1:n<48?s=3:n<144?s=4:n<768?s=5:s=6;const o=[];let c=3;const f=s-1,h=(1<<s)-1;if(o[1]=i.convert(this),s>1){const E=is();for(i.sqrTo(o[1],E);c<=h;)o[c]=is(),i.mulTo(E,o[c-2],o[c]),c+=2}let m=e.t-1,x,g=!0,v=is(),y;for(n=PE(e[m])-1;m>=0;){for(n>=f?x=e[m]>>n-f&h:(x=(e[m]&(1<<n+1)-1)<<f-n,m>0&&(x|=e[m-1]>>this.DB+n-f)),c=s;(x&1)===0;)x>>=1,--c;if((n-=c)<0&&(n+=this.DB,--m),g)o[x].copyTo(a),g=!1;else{for(;c>1;)i.sqrTo(a,v),i.sqrTo(v,a),c-=2;c>0?i.sqrTo(a,v):(y=a,a=v,v=y),i.mulTo(v,o[x],a)}for(;m>=0&&(e[m]&1<<n)===0;)i.sqrTo(a,v),y=a,a=v,v=y,--n<0&&(n=this.DB-1,--m)}const w=i.revert(a);return r(null,w),w}st.prototype.copyTo=lz;st.prototype.fromInt=cz;st.prototype.fromString=uz;st.prototype.clamp=dz;st.prototype.dlShiftTo=gz;st.prototype.drShiftTo=yz;st.prototype.lShiftTo=vz;st.prototype.rShiftTo=bz;st.prototype.subTo=wz;st.prototype.multiplyTo=Ez;st.prototype.squareTo=_z;st.prototype.divRemTo=Sz;st.prototype.invDigit=Tz;st.prototype.addTo=Az;st.prototype.toString=fz;st.prototype.negate=hz;st.prototype.abs=pz;st.prototype.compareTo=mz;st.prototype.bitLength=xz;st.prototype.mod=Nz;st.prototype.equals=Cz;st.prototype.add=kz;st.prototype.subtract=Rz;st.prototype.multiply=jz;st.prototype.divide=Oz;st.prototype.modPow=Lz;st.ZERO=FE(0);st.ONE=FE(1);const Bz=async({a:e,g:t,k:r,x:n,B:s,N:a,U:i})=>new Promise((o,c)=>{t.modPow(n,a,(f,h)=>{if(f){c(f);return}s.subtract(r.multiply(h)).modPow(e.add(i.multiply(n)),a,(m,x)=>{if(m){c(m);return}o(x.mod(a))})})}),Uz="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",tO={},p2={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),tO[e]=t,p2[t]=e}const Xu=e=>{if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in p2)t[r/2]=p2[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t},LE=e=>{let t="";for(let r=0;r<e.byteLength;r++)t+=tO[e[r]];return t},m2=e=>{const t=new Jm;t.update(e);const r=t.digestSync(),n=LE(r);return new Array(64-n.length).join("0")+n},Fm=e=>m2(Xu(e)),zz=/^[89a-f]/i,Ji=e=>{if(!(e instanceof st))throw new Error("Not a BigInteger");const t=e.compareTo(st.ZERO)<0;let r=e.abs().toString(16);if(r=r.length%2!==0?`0${r}`:r,r=zz.test(r)?`00${r}`:r,t){const n=r.split("").map(a=>{const i=~parseInt(a,16)&15;return"0123456789ABCDEF".charAt(i)}).join("");r=new st(n,16).add(st.ONE).toString(16),r.toUpperCase().startsWith("FF8")&&(r=r.substring(2))}return r},Hz=({A:e,B:t})=>{const r=new st(Fm(Ji(e)+Ji(t)),16);if(r.equals(st.ZERO))throw new Error("U cannot be zero.");return r},qz=(e,t,r)=>{const n=new Jm(t);n.update(e);const s=n.digestSync(),a=new Jm(s);return a.update(r),a.digestSync().slice(0,16)},BE=e=>{const t=new RE().random(e).toString();return Xu(t)},Vz=()=>_h.convert(BE(40));class $z{constructor({userPoolName:t,a:r,g:n,A:s,N:a}){this.encoder=Mm,this.userPoolName=t,this.a=r,this.g=n,this.A=s,this.N=a,this.k=new st(Fm(`${Ji(a)}${Ji(n)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new _t({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new _t({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new _t({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(t,r){this.randomPassword=Vz();const n=`${t}${r}:${this.randomPassword}`,s=m2(n),a=LE(BE(16));return this.saltToHashDevices=Ji(new st(a,16)),new Promise((i,o)=>{this.g.modPow(new st(Fm(this.saltToHashDevices+s),16),this.N,(c,f)=>{if(c){o(c);return}this.verifierDevices=Ji(f),i()})})}async getPasswordAuthenticationKey({username:t,password:r,serverBValue:n,salt:s}){if(n.mod(this.N).equals(st.ZERO))throw new Error("B cannot be zero.");const a=Hz({A:this.A,B:n}),i=`${this.userPoolName}${t}:${r}`,o=m2(i),c=new st(Fm(Ji(s)+o),16),f=await Bz({a:this.a,g:this.g,k:this.k,x:c,B:n,N:this.N,U:a}),h=this.encoder.convert("Caldera Derived Key"),m=this.encoder.convert(""),x=new Uint8Array(h.byteLength+m.byteLength);return x.set(h,0),x.set(m,h.byteLength),qz(Xu(Ji(f)),Xu(Ji(a)),x)}}const Wz=async({a:e,g:t,N:r})=>new Promise((n,s)=>{t.modPow(e,r,(a,i)=>{if(a){s(a);return}if(i.mod(r).equals(st.ZERO)){s(new Error("Illegal parameter. A mod N cannot be 0."));return}n(i)})}),xg=async e=>{const t=new st(Uz,16),r=new st("2",16),n=Gz(),s=await Wz({a:n,g:r,N:t});return new $z({userPoolName:e,a:n,g:r,A:s,N:t})},Gz=()=>{const e=LE(BE(128));return new st(e,16)};async function yd({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:r,accessToken:n}){if(!r)return;const s=e.split("_")[1]||"",a=await xg(s),i=r==null?void 0:r.DeviceKey,o=r==null?void 0:r.DeviceGroupKey;try{await a.generateHashDevice(o??"",i??"")}catch{return}const c={Salt:_h.convert(Xu(a.getSaltToHashDevices())),PasswordVerifier:_h.convert(Xu(a.getVerifierDevices()))},f=a.getRandomPassword();try{return await tz({endpointResolver:nn({endpointOverride:t})})({region:rn(e)},{AccessToken:n,DeviceName:await rU(),DeviceKey:r==null?void 0:r.DeviceKey,DeviceSecretVerifierConfig:c}),{deviceKey:i,deviceGroupKey:o,randomPassword:f}}catch{return}}async function Kz(e){var g;const t=(g=ur.getConfig().Auth)==null?void 0:g.Cognito;Wt(t);const{username:r,signInSession:n,signInDetails:s,challengeName:a}=bl.getState();if(a!=="WEB_AUTHN"||!r)throw new _t({name:Ku.SignInException,message:"Unable to proceed due to invalid sign in state."});const{CREDENTIAL_REQUEST_OPTIONS:i}=e;IE(!!i,Fr.InvalidPasskeyAuthenticationOptions);const o=await ez(JSON.parse(i)),c=pg({endpointResolver:nn({endpointOverride:t.userPoolEndpoint})}),{ChallengeName:f,ChallengeParameters:h,AuthenticationResult:m,Session:x}=await c({region:rn(t.userPoolId),userAgentValue:Rs(Gn.ConfirmSignIn)},{ChallengeName:"WEB_AUTHN",ChallengeResponses:{USERNAME:r,CREDENTIAL:JSON.stringify(o)},ClientId:t.userPoolClientId,Session:n});if(md({signInSession:x,username:r,challengeName:f,signInDetails:s}),m)return await hd({...m,username:r,NewDeviceMetadata:await yd({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:m.NewDeviceMetadata,accessToken:m.AccessToken}),signInDetails:s}),bl.dispatch({type:"RESET_STATE"}),await pd(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};if(f==="WEB_AUTHN")throw new _t({name:Ku.SignInException,message:"Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."});return{challengeName:f,challengeParameters:h}}function Ca({username:e,userPoolId:t,userPoolClientId:r}){if(typeof window>"u")return;const n=window.AmazonCognitoAdvancedSecurityData;if(typeof n>"u")return;const s=n.getData(e,t,r);return s?{EncodedData:s}:{}}const Xz=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Yz=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],rO=()=>{const e=new Date,t=Yz[e.getUTCDay()],r=Xz[e.getUTCMonth()],n=e.getUTCDate();let s=e.getUTCHours();s<10&&(s=`0${s}`);let a=e.getUTCMinutes();a<10&&(a=`0${a}`);let i=e.getUTCSeconds();i<10&&(i=`0${i}`);const o=e.getUTCFullYear();return`${t} ${r} ${n} ${s}:${a}:${i} UTC ${o}`},nO=({userPoolName:e,username:t,challengeParameters:r,dateNow:n,hkdf:s})=>{const a=Mm.convert(e),i=Mm.convert(t),o=Jz(r.SECRET_BLOCK),c=Mm.convert(n),f=new Uint8Array(a.byteLength+i.byteLength+o.byteLength+c.byteLength);f.set(a,0),f.set(i,a.byteLength),f.set(o,a.byteLength+i.byteLength),f.set(c,a.byteLength+i.byteLength+o.byteLength);const h=new Jm(s);h.update(f);const m=h.digestSync();return _h.convert(m)},Jz=e=>{const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=TE.convert(r),s=new Uint8Array(n.length);for(let a=0;a<n.length;++a)s[a]=n.charCodeAt(a);return s};async function UE({username:e,config:t,clientMetadata:r,session:n,tokenOrchestrator:s}){const{userPoolId:a,userPoolEndpoint:i}=t,o=t.userPoolClientId,c=await(s==null?void 0:s.getDeviceMetadata(e));K6(c);const f=await xg(c.deviceGroupKey),h={USERNAME:e,SRP_A:f.A.toString(16),DEVICE_KEY:c.deviceKey},m={ChallengeName:"DEVICE_SRP_AUTH",ClientId:o,ChallengeResponses:h,ClientMetadata:r,Session:n},x=pg({endpointResolver:nn({endpointOverride:i})}),{ChallengeParameters:g,Session:v}=await x({region:rn(a)},m);return Zz(e,g,r,v,f,t,s)}async function Zz(e,t,r,n,s,{userPoolId:a,userPoolClientId:i,userPoolEndpoint:o},c){const f=await(c==null?void 0:c.getDeviceMetadata(e));K6(f);const h=new st(t==null?void 0:t.SRP_B,16),m=new st(t==null?void 0:t.SALT,16),{deviceKey:x}=f,{deviceGroupKey:g}=f,v=await s.getPasswordAuthenticationKey({username:f.deviceKey,password:f.randomPassword,serverBValue:h,salt:m}),y=rO(),w={USERNAME:(t==null?void 0:t.USERNAME)??e,PASSWORD_CLAIM_SECRET_BLOCK:t==null?void 0:t.SECRET_BLOCK,TIMESTAMP:y,PASSWORD_CLAIM_SIGNATURE:nO({username:x,userPoolName:g,challengeParameters:t,dateNow:y,hkdf:v}),DEVICE_KEY:x},E=Ca({username:e,userPoolId:a,userPoolClientId:i}),N={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:i,ChallengeResponses:w,Session:n,ClientMetadata:r,UserContextData:E};return pg({endpointResolver:nn({endpointOverride:o})})({region:rn(a)},N)}async function sO(e,t,r,n,s,a,i){const{userPoolId:o,userPoolClientId:c,userPoolEndpoint:f}=a,h=(o==null?void 0:o.split("_")[1])||"",m=new st(t==null?void 0:t.SRP_B,16),x=new st(t==null?void 0:t.SALT,16),g=t==null?void 0:t.USER_ID_FOR_SRP;if(!g)throw new _t({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});const v=await s.getPasswordAuthenticationKey({username:g,password:e,serverBValue:m,salt:x}),y=rO(),w={USERNAME:g,PASSWORD_CLAIM_SECRET_BLOCK:t==null?void 0:t.SECRET_BLOCK,TIMESTAMP:y,PASSWORD_CLAIM_SIGNATURE:nO({username:g,userPoolName:h,challengeParameters:t,dateNow:y,hkdf:v})},E=await i.getDeviceMetadata(g);E&&E.deviceKey&&(w.DEVICE_KEY=E.deviceKey);const N=Ca({username:g,userPoolId:o,userPoolClientId:c}),_={ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:w,ClientMetadata:r,Session:n,ClientId:c,UserContextData:N},k=await pg({endpointResolver:nn({endpointOverride:f})})({region:rn(o)},_);return k.ChallengeName==="DEVICE_SRP_AUTH"?UE({username:g,config:a,clientMetadata:r,session:k.Session,tokenOrchestrator:i}):k}async function gg(e,t,r,n){try{return await e(...t)}catch(s){if(s instanceof _t&&s.name==="ResourceNotFoundException"&&s.message.includes("Device does not exist."))return await n.clearDeviceMetadata(r),e(...t);throw s}}function t0(e){const{dispatch:t}=bl;t({type:"SET_USERNAME",value:e})}async function aO({username:e,password:t,clientMetadata:r,config:n,tokenOrchestrator:s,authFlow:a,preferredChallenge:i}){const{userPoolId:o,userPoolClientId:c,userPoolEndpoint:f}=n,h=(o==null?void 0:o.split("_")[1])||"",m=await xg(h),x={USERNAME:e,SRP_A:m.A.toString(16)};a==="USER_AUTH"&&i&&(x.PREFERRED_CHALLENGE=i);const g=Ca({username:e,userPoolId:o,userPoolClientId:c}),v={AuthFlow:a,AuthParameters:x,ClientMetadata:r,ClientId:c,UserContextData:g},w=await e0({endpointResolver:nn({endpointOverride:f})})({region:rn(o),userAgentValue:Rs(Gn.SignIn)},v),{ChallengeParameters:E,Session:N}=w,_=(E==null?void 0:E.USERNAME)??e;return t0(_),w.ChallengeName==="PASSWORD_VERIFIER"?gg(sO,[t,E,r,N,m,n,s],_,s):w}const Mk="userAttributes.";function Qz(e){return"isSignedIn"in e&&"nextStep"in e}async function eH(e,t,r,n,s){var y,w;const{userPoolClientId:a,userPoolId:i,userPoolEndpoint:o}=n,c={USERNAME:e,PASSWORD:t},f=await s.getDeviceMetadata(e);f&&f.deviceKey&&(c.DEVICE_KEY=f.deviceKey);const h=Ca({username:e,userPoolId:i,userPoolClientId:a}),m={AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:c,ClientMetadata:r,ClientId:a,UserContextData:h},g=await e0({endpointResolver:nn({endpointOverride:o})})({region:rn(i),userAgentValue:Rs(Gn.SignIn)},m),v=((y=g.ChallengeParameters)==null?void 0:y.USERNAME)??((w=g.ChallengeParameters)==null?void 0:w.USER_ID_FOR_SRP)??e;return t0(v),g.ChallengeName==="DEVICE_SRP_AUTH"?UE({username:v,config:n,clientMetadata:r,session:g.Session,tokenOrchestrator:s}):g}async function tH(e,t,r,n,s){return aO({username:e,password:t,clientMetadata:r,config:n,tokenOrchestrator:s,authFlow:"USER_SRP_AUTH"})}async function rH(e,t,r,n){var v;const{userPoolClientId:s,userPoolId:a,userPoolEndpoint:i}=r,o={USERNAME:e},c=await n.getDeviceMetadata(e);c&&c.deviceKey&&(o.DEVICE_KEY=c.deviceKey);const f=Ca({username:e,userPoolId:a,userPoolClientId:s}),h={AuthFlow:"CUSTOM_AUTH",AuthParameters:o,ClientMetadata:t,ClientId:s,UserContextData:f},x=await e0({endpointResolver:nn({endpointOverride:i})})({region:rn(a),userAgentValue:Rs(Gn.SignIn)},h),g=((v=x.ChallengeParameters)==null?void 0:v.USERNAME)??e;return t0(g),x.ChallengeName==="DEVICE_SRP_AUTH"?UE({username:g,config:r,clientMetadata:t,session:x.Session,tokenOrchestrator:n}):x}async function nH(e,t,r,n,s){Wt(n);const{userPoolId:a,userPoolClientId:i,userPoolEndpoint:o}=n,c=(a==null?void 0:a.split("_")[1])||"",f=await xg(c),h={USERNAME:e,SRP_A:f.A.toString(16),CHALLENGE_NAME:"SRP_A"},m=Ca({username:e,userPoolId:a,userPoolClientId:i}),x={AuthFlow:"CUSTOM_AUTH",AuthParameters:h,ClientMetadata:r,ClientId:i,UserContextData:m},g=e0({endpointResolver:nn({endpointOverride:o})}),{ChallengeParameters:v,Session:y}=await g({region:rn(a),userAgentValue:Rs(Gn.SignIn)},x),w=(v==null?void 0:v.USERNAME)??e;return t0(w),gg(sO,[t,v,r,y,f,n,s],w,s)}async function vd(e){var a;const{challengeName:t,challengeParameters:r,availableChallenges:n}=e,s=(a=ur.getConfig().Auth)==null?void 0:a.Cognito;switch(Wt(s),t){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:r}};case"MFA_SETUP":{const{signInSession:i,username:o}=bl.getState(),c=Fk(Pk(r.MFAS_CAN_SETUP))||[],f=oH(c),h=f.includes("TOTP"),m=f.includes("EMAIL");if(h&&m)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",allowedMFATypes:f}};if(m)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"}};if(h){const x=AU({endpointResolver:nn({endpointOverride:s.userPoolEndpoint})}),{Session:g,SecretCode:v}=await x({region:rn(s.userPoolId)},{Session:i});return bl.dispatch({type:"SET_SIGN_IN_SESSION",value:g}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:sH(v,o)}}}throw new _t({name:Ku.SignInException,message:`Cannot initiate MFA setup from available types: ${c}`})}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:aH(r.requiredAttributes)}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:Fk(Pk(r.MFAS_CAN_CHOOSE))}};case"SMS_OTP":case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:r.CODE_DELIVERY_DELIVERY_MEDIUM,destination:r.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}};case"EMAIL_OTP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_EMAIL_CODE",codeDeliveryDetails:{deliveryMedium:r.CODE_DELIVERY_DELIVERY_MEDIUM,destination:r.CODE_DELIVERY_DESTINATION}}};case"WEB_AUTHN":{const i=await Kz(r);return Qz(i)?i:vd(i)}case"PASSWORD":case"PASSWORD_SRP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_PASSWORD"}};case"SELECT_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",availableChallenges:n}}}throw new _t({name:Ku.SignInException,message:`An error occurred during the sign in process. ${t} challengeName returned by the underlying service was not addressed.`})}function sH(e,t){return{sharedSecret:e,getSetupUri:(r,n)=>{const s=`otpauth://totp/${r}:${n??t}?secret=${e}&issuer=${r}`;return new Zh(s)}}}function r0(e){if(e===Zm.PasswordResetRequiredException)return{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}};if(e===Zm.UserNotConfirmedException)return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}}function aH(e){return e?JSON.parse(e).map(r=>r.includes(Mk)?r.replace(Mk,""):r):[]}function iH(e){if(e==="SMS_MFA")return"SMS";if(e==="SOFTWARE_TOKEN_MFA")return"TOTP";if(e==="EMAIL_OTP")return"EMAIL"}function Fk(e){if(e)return e.map(iH).filter(Boolean)}function Pk(e){return e?JSON.parse(e):[]}function oH(e){return e.filter(t=>t==="EMAIL"||t==="TOTP")}async function lH(){let e;try{e=await Y6()}catch{}if(e&&e.userId&&e.username)throw new _t({name:iU,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}function n0(e){return bl.getState().username??e}async function cH(e){var o;const t=(o=ur.getConfig().Auth)==null?void 0:o.Cognito;Wt(t);const{username:r,password:n,options:s}=e,a={loginId:r,authFlowType:"CUSTOM_WITHOUT_SRP"},i=s==null?void 0:s.clientMetadata;jr(!!r,Et.EmptySignInUsername),jr(!n,Et.CustomAuthSignInPassword);try{const{ChallengeName:c,ChallengeParameters:f,AuthenticationResult:h,Session:m}=await gg(rH,[r,i,t,_a],r,_a),x=n0(r);return md({signInSession:m,username:x,challengeName:c,signInDetails:a}),h?(await hd({username:x,...h,NewDeviceMetadata:await yd({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:h.NewDeviceMetadata,accessToken:h.AccessToken}),signInDetails:a}),yi(),await pd(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):vd({challengeName:c,challengeParameters:f})}catch(c){yi(),Wa(c);const f=r0(c.name);if(f)return f;throw c}}async function uH(e){var o;const{username:t,password:r,options:n}=e,s={loginId:t,authFlowType:"CUSTOM_WITH_SRP"},a=(o=ur.getConfig().Auth)==null?void 0:o.Cognito;Wt(a);const i=n==null?void 0:n.clientMetadata;jr(!!t,Et.EmptySignInUsername),jr(!!r,Et.EmptySignInPassword);try{const{ChallengeName:c,ChallengeParameters:f,AuthenticationResult:h,Session:m}=await nH(t,r,i,a,_a),x=n0(t);return md({signInSession:m,username:x,challengeName:c,signInDetails:s}),h?(await hd({username:x,...h,NewDeviceMetadata:await yd({userPoolId:a.userPoolId,userPoolEndpoint:a.userPoolEndpoint,newDeviceMetadata:h.NewDeviceMetadata,accessToken:h.AccessToken}),signInDetails:s}),yi(),await pd(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):vd({challengeName:c,challengeParameters:f})}catch(c){yi(),Wa(c);const f=r0(c.name);if(f)return f;throw c}}function ho(e=!0){al.dispatch({type:"RESET"})}async function Lk(e){var i,o;const{username:t,password:r}=e,n=(i=ur.getConfig().Auth)==null?void 0:i.Cognito,s={loginId:t,authFlowType:"USER_SRP_AUTH"};Wt(n);const a=(o=e.options)==null?void 0:o.clientMetadata;jr(!!t,Et.EmptySignInUsername),jr(!!r,Et.EmptySignInPassword);try{const{ChallengeName:c,ChallengeParameters:f,AuthenticationResult:h,Session:m}=await tH(t,r,a,n,_a),x=n0(t);return md({signInSession:m,username:x,challengeName:c,signInDetails:s}),h?(await hd({username:x,...h,NewDeviceMetadata:await yd({userPoolId:n.userPoolId,userPoolEndpoint:n.userPoolEndpoint,newDeviceMetadata:h.NewDeviceMetadata,accessToken:h.AccessToken}),signInDetails:s}),yi(),await pd(),ho(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):vd({challengeName:c,challengeParameters:f})}catch(c){yi(),ho(),Wa(c);const f=r0(c.name);if(f)return f;throw c}}async function dH(e){var o;const{username:t,password:r,options:n}=e,s=(o=ur.getConfig().Auth)==null?void 0:o.Cognito,a={loginId:t,authFlowType:"USER_PASSWORD_AUTH"};Wt(s);const i=n==null?void 0:n.clientMetadata;jr(!!t,Et.EmptySignInUsername),jr(!!r,Et.EmptySignInPassword);try{const{ChallengeName:c,ChallengeParameters:f,AuthenticationResult:h,Session:m}=await gg(eH,[t,r,i,s,_a],t,_a),x=n0(t);return md({signInSession:m,username:x,challengeName:c,signInDetails:a}),h?(await hd({...h,username:x,NewDeviceMetadata:await yd({userPoolId:s.userPoolId,userPoolEndpoint:s.userPoolEndpoint,newDeviceMetadata:h.NewDeviceMetadata,accessToken:h.AccessToken}),signInDetails:a}),yi(),await pd(),ho(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):vd({challengeName:c,challengeParameters:f})}catch(c){yi(),ho(),Wa(c);const f=r0(c.name);if(f)return f;throw c}}async function fH({username:e,clientMetadata:t,config:r,tokenOrchestrator:n,preferredChallenge:s,password:a,session:i}){const{userPoolId:o,userPoolClientId:c,userPoolEndpoint:f}=r,h=Ca({username:e,userPoolId:o,userPoolClientId:c}),m={USERNAME:e};if(s){if(r.passwordless&&(s==="EMAIL_OTP"&&!r.passwordless.emailOtpEnabled||s==="SMS_OTP"&&!r.passwordless.smsOtpEnabled||s==="WEB_AUTHN"&&!r.passwordless.webAuthn)&&jr(!1,Et.InvalidPreferredChallenge),s==="PASSWORD_SRP")return jr(!!a,Et.EmptySignInPassword),aO({username:e,password:a,clientMetadata:t,config:r,tokenOrchestrator:n,authFlow:"USER_AUTH",preferredChallenge:s});s==="PASSWORD"&&(jr(!!a,Et.EmptySignInPassword),m.PASSWORD=a),m.PREFERRED_CHALLENGE=s}const x={AuthFlow:"USER_AUTH",AuthParameters:m,ClientMetadata:t,ClientId:c,UserContextData:h};i&&(x.Session=i);const v=await e0({endpointResolver:nn({endpointOverride:f})})({region:rn(o),userAgentValue:Rs(Gn.SignIn)},x);return t0(e),v}async function hH(e){var c,f;const{username:t,password:r,options:n}=e,s=(c=ur.getConfig().Auth)==null?void 0:c.Cognito,a={loginId:t,authFlowType:"USER_AUTH"};Wt(s);const i=n==null?void 0:n.clientMetadata,o=(n==null?void 0:n.preferredChallenge)??((f=s==null?void 0:s.passwordless)==null?void 0:f.preferredChallenge);jr(!!t,Et.EmptySignInUsername);try{const h={username:t,config:s,tokenOrchestrator:_a,clientMetadata:i,preferredChallenge:o,password:r},m=al.getState();m.active&&m.username===t&&(h.session=m.session);const x=await fH(h),g=n0(t);return md({signInSession:x.Session,username:g,challengeName:x.ChallengeName,signInDetails:a}),x.AuthenticationResult?(await hd({username:g,...x.AuthenticationResult,NewDeviceMetadata:await yd({userPoolId:s.userPoolId,userPoolEndpoint:s.userPoolEndpoint,newDeviceMetadata:x.AuthenticationResult.NewDeviceMetadata,accessToken:x.AuthenticationResult.AccessToken}),signInDetails:a}),yi(),await pd(),ho(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):vd({challengeName:x.ChallengeName,challengeParameters:x.ChallengeParameters,availableChallenges:"AvailableChallenges"in x?x.AvailableChallenges:void 0})}catch(h){yi(),ho(),Wa(h);const m=r0(h.name);if(m)return m;throw h}}async function x2(e){var r;ho(!1);const t=(r=e.options)==null?void 0:r.authFlowType;switch(await lH(),t){case"USER_SRP_AUTH":return Lk(e);case"USER_PASSWORD_AUTH":return dH(e);case"CUSTOM_WITHOUT_SRP":return cH(e);case"CUSTOM_WITH_SRP":return uH(e);case"USER_AUTH":return hH(e);default:return Lk(e)}}const pH=180*1e3;function mH(e){const t=Ym.listen("auth-internal",async({payload:n})=>{switch(n.event){case"confirmSignUp":{const s=n.data;s!=null&&s.isSignUpComplete&&(Ym.dispatch("auth-internal",{event:"autoSignIn"}),t())}}}),r=setTimeout(()=>{t(),clearTimeout(r),ho()},pH)}const xH=()=>async e=>{if(e.statusCode>=300){const t=await fd(e);if(Wa(t),t.name===h2.InvalidParameterException&&/'password'/.test(t.message)&&/Member must not be null/.test(t.message)){const r=Et.EmptySignUpPassword,{message:n,recoverySuggestion:s}=W6[r];throw new _t({name:r,message:n,recoverySuggestion:s})}throw new _t({name:t.name,message:t.message})}return Jh(e)},gH=e=>hs(Xs,Ks("SignUp"),xH(),{...Ys,...e});async function yH(e){var L;const{username:t,password:r,options:n}=e,s=(L=ur.getConfig().Auth)==null?void 0:L.Cognito,a=(s==null?void 0:s.signUpVerificationMethod)??"code",{clientMetadata:i,validationData:o,autoSignIn:c}=e.options??{};Wt(s),jr(!!t,Et.EmptySignUpUsername);const f=typeof c!="boolean"?c:void 0;f==null||f.authFlowType;const{userPoolId:h,userPoolClientId:m,userPoolEndpoint:x}=s,g=gH({endpointResolver:nn({endpointOverride:x})}),v={Username:t,Password:void 0,UserAttributes:(n==null?void 0:n.userAttributes)&&f2(n==null?void 0:n.userAttributes),ClientMetadata:i,ValidationData:o&&f2(o),ClientId:m,UserContextData:Ca({username:t,userPoolId:h,userPoolClientId:m})};r&&(v.Password=r);const{UserSub:y,CodeDeliveryDetails:w,UserConfirmed:E,Session:N}=await g({region:rn(h),userAgentValue:Rs(Gn.SignUp)},v);(f||c===!0)&&(al.dispatch({type:"START"}),al.dispatch({type:"SET_USERNAME",value:t}),al.dispatch({type:"SET_SESSION",value:N}));const _={destination:w==null?void 0:w.Destination,deliveryMedium:w==null?void 0:w.DeliveryMedium,attributeName:w==null?void 0:w.AttributeName},S=!!E,k=al.getState().active;if(S)return k?{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:y}:{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:y};if(k){if(a==="link")return{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:_},userId:y};mH()}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:_},userId:y}}const vH=e=>hs(Xs,Ks("ForgotPassword"),Ta(),{...Ys,...e});async function bH(e){var m,x;const{username:t}=e;jr(!!t,Et.EmptyResetPasswordUsername);const r=(m=ur.getConfig().Auth)==null?void 0:m.Cognito;Wt(r);const{userPoolClientId:n,userPoolId:s,userPoolEndpoint:a}=r,i=(x=e.options)==null?void 0:x.clientMetadata,o=Ca({username:t,userPoolId:s,userPoolClientId:n}),h=(await vH({endpointResolver:nn({endpointOverride:a})})({region:rn(s),userAgentValue:Rs(Gn.ResetPassword)},{Username:t,ClientMetadata:i,ClientId:n,UserContextData:o})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:h==null?void 0:h.DeliveryMedium,destination:h==null?void 0:h.Destination,attributeName:h==null?void 0:h.AttributeName}}}}const wH=e=>hs(Xs,Ks("ConfirmForgotPassword"),Ta(),{...Ys,...e});async function EH(e){var m,x;const t=(m=ur.getConfig().Auth)==null?void 0:m.Cognito;Wt(t);const{userPoolClientId:r,userPoolId:n,userPoolEndpoint:s}=t,{username:a,newPassword:i}=e;jr(!!a,Et.EmptyConfirmResetPasswordUsername),jr(!!i,Et.EmptyConfirmResetPasswordNewPassword);const o=e.confirmationCode;jr(!!o,Et.EmptyConfirmResetPasswordConfirmationCode);const c=(x=e.options)==null?void 0:x.clientMetadata,f=Ca({username:a,userPoolId:n,userPoolClientId:r});await wH({endpointResolver:nn({endpointOverride:s})})({region:rn(t.userPoolId),userAgentValue:Rs(Gn.ConfirmResetPassword)},{Username:a,ConfirmationCode:o,Password:i,ClientMetadata:c,ClientId:t.userPoolClientId,UserContextData:f})}const _H=e=>hs(Xs,Ks("ResendConfirmationCode"),Ta(),{...Ys,...e});async function SH(e){var g,v;const{username:t}=e;jr(!!t,Et.EmptySignUpUsername);const r=(g=ur.getConfig().Auth)==null?void 0:g.Cognito;Wt(r);const{userPoolClientId:n,userPoolId:s,userPoolEndpoint:a}=r,i=(v=e.options)==null?void 0:v.clientMetadata,o=Ca({username:t,userPoolId:s,userPoolClientId:n}),c=_H({endpointResolver:nn({endpointOverride:a})}),{CodeDeliveryDetails:f}=await c({region:rn(r.userPoolId),userAgentValue:Rs(Gn.ResendSignUpCode)},{Username:t,ClientMetadata:i,ClientId:r.userPoolClientId,UserContextData:o}),{DeliveryMedium:h,AttributeName:m,Destination:x}={...f};return{destination:x,deliveryMedium:h,attributeName:m||void 0}}const NH=e=>hs(Xs,Ks("ConfirmSignUp"),Ta(),{...Ys,...e});async function TH(e){var x;const{username:t,confirmationCode:r,options:n}=e,s=(x=ur.getConfig().Auth)==null?void 0:x.Cognito;Wt(s);const{userPoolId:a,userPoolClientId:i,userPoolEndpoint:o}=s,c=n==null?void 0:n.clientMetadata;jr(!!t,Et.EmptyConfirmSignUpUsername),jr(!!r,Et.EmptyConfirmSignUpCode);const f=Ca({username:t,userPoolId:a,userPoolClientId:i}),h=NH({endpointResolver:nn({endpointOverride:o})}),{Session:m}=await h({region:rn(s.userPoolId),userAgentValue:Rs(Gn.ConfirmSignUp)},{Username:t,ConfirmationCode:r,ClientMetadata:c,ForceAliasCreation:n==null?void 0:n.forceAliasCreation,ClientId:s.userPoolClientId,UserContextData:f});return new Promise((g,v)=>{try{const y={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},w=al.getState();if(!w.active||w.username!==t){g(y),ho();return}al.dispatch({type:"SET_SESSION",value:m});const E=Ym.listen("auth-internal",({payload:N})=>{switch(N.event){case"autoSignIn":g({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),E()}});Ym.dispatch("auth-internal",{event:"confirmSignUp",data:y})}catch(y){v(y)}})}const CH=e=>hs(Xs,Ks("ChangePassword"),Ta(),{...Ys,...e});async function AH(e){var c;const t=(c=ur.getConfig().Auth)==null?void 0:c.Cognito;Wt(t);const{userPoolEndpoint:r,userPoolId:n}=t,{oldPassword:s,newPassword:a}=e;jr(!!s,Et.EmptyUpdatePassword),jr(!!a,Et.EmptyUpdatePassword);const{tokens:i}=await dg({forceRefresh:!1});jE(i),await CH({endpointResolver:nn({endpointOverride:r})})({region:rn(n),userAgentValue:Rs(Gn.UpdatePassword)},{AccessToken:i.accessToken.toString(),PreviousPassword:s,ProposedPassword:a})}const kH=e=>hs(Xs,Ks("UpdateUserAttributes"),Ta(),{...Ys,...e}),RH=async e=>{var h;const{userAttributes:t,options:r}=e,n=(h=ur.getConfig().Auth)==null?void 0:h.Cognito,s=r==null?void 0:r.clientMetadata;Wt(n);const{userPoolEndpoint:a,userPoolId:i}=n,{tokens:o}=await dg({forceRefresh:!1});jE(o);const c=kH({endpointResolver:nn({endpointOverride:a})}),{CodeDeliveryDetailsList:f}=await c({region:rn(i),userAgentValue:Rs(Gn.UpdateUserAttributes)},{AccessToken:o.accessToken.toString(),ClientMetadata:s,UserAttributes:f2(t)});return{...jH(t),...OH(f)}};function jH(e){var r;const t={};return(r=Object.keys(e))==null||r.forEach(n=>{t[n]={isUpdated:!0,nextStep:{updateAttributeStep:"DONE"}}}),t}function OH(e){const t={};return e==null||e.forEach(r=>{const{AttributeName:n,DeliveryMedium:s,Destination:a}=r;n&&(t[n]={isUpdated:!1,nextStep:{updateAttributeStep:"CONFIRM_ATTRIBUTE_WITH_CODE",codeDeliveryDetails:{attributeName:n,deliveryMedium:s,destination:a}}})}),t}function DH(e,t){{const r=(e==null?void 0:e.find(IH))??(e==null?void 0:e.find(MH)),n=(e==null?void 0:e.find(PH))??(e==null?void 0:e.find(FH));if(r)return r;throw n?hU:dU}}const IH=e=>e.startsWith(String(window.location.origin+(window.location.pathname||"/"))),MH=e=>e.includes(String(window.location.hostname)),FH=e=>e.startsWith("http://"),PH=e=>e.startsWith("https://"),LH=async e=>{window!=null&&window.location&&(window.location.href=e.replace("http://","https://"))},BH=async e=>{await e.clearOAuthData(),_a.clearTokens(),await j6(),Gu.dispatch("auth",{event:"signedOut"},"Auth",_c)},UH=async(e,t=!1,r)=>{_6(e);const{loginWith:n,userPoolClientId:s}=e,{domain:a,redirectSignOut:i}=n.oauth,o=DH(i),c=`https://${a}/logout?${Object.entries({client_id:s,logout_uri:encodeURIComponent(o)}).map(([f,h])=>`${f}=${h}`).join("&")}`;return LH(c)},zH=async(e,t,r,n)=>{const{isOAuthSignIn:s}=await t.loadOAuthSignIn(),a=await r.getOAuthMetadata();if(await BH(t),s||a!=null&&a.oauthSignIn)return UH(e,!1)},HH=e=>hs(Xs,Ks("RevokeToken"),Ta(),{...Ys,...e}),qH=new Vs("Auth");async function g2(e){var n;const t=(n=ur.getConfig().Auth)==null?void 0:n.Cognito;Wt(t),await VH(t);let r;try{_6(t),r=!0}catch{r=!1}if(r){const s=new Z6(Qh);s.setAuthConfig(t);const{type:a}=await zH(t,s,_a)??{};if(a==="error")throw new _t({name:pU,message:"An error occurred when attempting to log out from OAuth provider."})}else _a.clearTokens(),await j6(),Gu.dispatch("auth",{event:"signedOut"},"Auth",_c)}async function VH(e){try{const{userPoolEndpoint:t,userPoolId:r,userPoolClientId:n}=e,s=await _a.getTokenStore().loadTokens();G6(s),$H(s.accessToken)&&await HH({endpointResolver:nn({endpointOverride:t})})({region:rn(r),userAgentValue:Rs(Gn.SignOut)},{ClientId:n,Token:s.refreshToken})}catch{qH.debug("Client signOut error caught but will proceed with token removal")}}const $H=e=>{var t;return!!((t=e==null?void 0:e.payload)!=null&&t.origin_jti)},WH={identityId:"identityId"},GH=new Vs("DefaultIdentityIdStore");class iO{setAuthConfig(t){Dm(t.Cognito),this.authConfig=t,this._authKeys=KH("Cognito",t.Cognito.identityPoolId)}constructor(t){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=t}async loadIdentityId(){var t;Dm((t=this.authConfig)==null?void 0:t.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const r=await this.keyValueStorage.getItem(this._authKeys.identityId);return r?(this._hasGuestIdentityId=!0,{id:r,type:"guest"}):null}}catch(r){return GH.log("Error getting stored IdentityId.",r),null}}async storeIdentityId(t){var r;Dm((r=this.authConfig)==null?void 0:r.Cognito),t.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,t.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=t.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const KH=(e,t)=>OE(WH)(`com.amplify.${e}`,t),y2=({endpointOverride:e})=>t=>e?{url:new Zh(e)}:G7(t);function oO(e){const t=Sc(e).payload.iss,r={};if(!t)throw new _t({name:"InvalidIdTokenException",message:"Invalid Idtoken."});const n=t.replace(/(^\w+:|^)\/\//,"");return r[n]=e,r}async function XH({tokens:e,authConfig:t,identityIdStore:r}){r.setAuthConfig({Cognito:t});const n=await r.loadIdentityId();if(n)return n.id;const s=e!=null&&e.idToken?oO(e.idToken.toString()):{},a=await YH(s,t);return r.storeIdentityId({id:a,type:e?"primary":"guest"}),a}async function YH(e,t){const r=t==null?void 0:t.identityPoolId,n=d2(r),s=V7({endpointResolver:y2({endpointOverride:t.identityPoolEndpoint})});let a;try{a=(await s({region:n},{IdentityPoolId:r,Logins:e})).IdentityId}catch(i){throw Wa(i),new _t(i)}if(!a)throw new _t({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return a}const Kp=new Vs("CognitoCredentialsProvider"),Bk=3e3*1e3;class lO{constructor(t){this._nextCredentialsRefresh=0,this._identityIdStore=t}async clearCredentialsAndIdentityId(){Kp.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){Kp.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(t){const r=t.authenticated,{tokens:n}=t,{authConfig:s}=t;try{Dm(s==null?void 0:s.Cognito)}catch{return}if(!r&&!s.Cognito.allowGuestAccess)return;const{forceRefresh:a}=t,i=this.hasTokenChanged(n),o=await XH({tokens:n,authConfig:s.Cognito,identityIdStore:this._identityIdStore});return(a||i)&&this.clearCredentials(),r?(gU(n),this.credsForOIDCTokens(s.Cognito,n,o)):this.getGuestCredentials(o,s.Cognito)}async getGuestCredentials(t,r){var i,o;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return Kp.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const n=d2(r.identityPoolId),s=tk({endpointResolver:y2({endpointOverride:r.identityPoolEndpoint})});let a;try{a=await s({region:n},{IdentityId:t})}catch(c){throw Wa(c),new _t(c)}if((i=a==null?void 0:a.Credentials)!=null&&i.AccessKeyId&&((o=a==null?void 0:a.Credentials)!=null&&o.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+Bk;const c={credentials:{accessKeyId:a.Credentials.AccessKeyId,secretAccessKey:a.Credentials.SecretKey,sessionToken:a.Credentials.SessionToken,expiration:a.Credentials.Expiration},identityId:t};return a.IdentityId&&(c.identityId=a.IdentityId,this._identityIdStore.storeIdentityId({id:a.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...c,isAuthenticatedCreds:!1},c}else throw new _t({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(t,r,n){var c,f,h;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return Kp.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const s=r.idToken?oO(r.idToken.toString()):{},a=d2(t.identityPoolId),i=tk({endpointResolver:y2({endpointOverride:t.identityPoolEndpoint})});let o;try{o=await i({region:a},{IdentityId:n,Logins:s})}catch(m){throw Wa(m),new _t(m)}if((c=o==null?void 0:o.Credentials)!=null&&c.AccessKeyId&&((f=o==null?void 0:o.Credentials)!=null&&f.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+Bk;const m={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:n};return o.IdentityId&&(m.identityId=o.IdentityId,this._identityIdStore.storeIdentityId({id:o.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...m,isAuthenticatedCreds:!0,associatedIdToken:(h=r.idToken)==null?void 0:h.toString()},m}else throw new _t({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(t){var r,n;return!!t&&!!((r=this._credentialsAndIdentityId)!=null&&r.associatedIdToken)&&((n=t.idToken)==null?void 0:n.toString())!==this._credentialsAndIdentityId.associatedIdToken}}function cO(e,t){return function(){return e.apply(t,arguments)}}const{toString:JH}=Object.prototype,{getPrototypeOf:zE}=Object,{iterator:yg,toStringTag:uO}=Symbol,vg=(e=>t=>{const r=JH.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ga=e=>(e=e.toLowerCase(),t=>vg(t)===e),bg=e=>t=>typeof t===e,{isArray:bd}=Array,Yu=bg("undefined");function s0(e){return e!==null&&!Yu(e)&&e.constructor!==null&&!Yu(e.constructor)&&Ss(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dO=Ga("ArrayBuffer");function ZH(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&dO(e.buffer),t}const QH=bg("string"),Ss=bg("function"),fO=bg("number"),a0=e=>e!==null&&typeof e=="object",eq=e=>e===!0||e===!1,Pm=e=>{if(vg(e)!=="object")return!1;const t=zE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(uO in e)&&!(yg in e)},tq=e=>{if(!a0(e)||s0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rq=Ga("Date"),nq=Ga("File"),sq=Ga("Blob"),aq=Ga("FileList"),iq=e=>a0(e)&&Ss(e.pipe),oq=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ss(e.append)&&((t=vg(e))==="formdata"||t==="object"&&Ss(e.toString)&&e.toString()==="[object FormData]"))},lq=Ga("URLSearchParams"),[cq,uq,dq,fq]=["ReadableStream","Request","Response","Headers"].map(Ga),hq=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function i0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),bd(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(s0(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let o;for(n=0;n<i;n++)o=a[n],t.call(null,e[o],o,e)}}function hO(e,t){if(s0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ac=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pO=e=>!Yu(e)&&e!==ac;function v2(){const{caseless:e,skipUndefined:t}=pO(this)&&this||{},r={},n=(s,a)=>{const i=e&&hO(r,a)||a;Pm(r[i])&&Pm(s)?r[i]=v2(r[i],s):Pm(s)?r[i]=v2({},s):bd(s)?r[i]=s.slice():(!t||!Yu(s))&&(r[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&i0(arguments[s],n);return r}const pq=(e,t,r,{allOwnKeys:n}={})=>(i0(t,(s,a)=>{r&&Ss(s)?Object.defineProperty(e,a,{value:cO(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),mq=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xq=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},gq=(e,t,r,n)=>{let s,a,i;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&zE(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},yq=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},vq=e=>{if(!e)return null;if(bd(e))return e;let t=e.length;if(!fO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},bq=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zE(Uint8Array)),wq=(e,t)=>{const n=(e&&e[yg]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},Eq=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},_q=Ga("HTMLFormElement"),Sq=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Uk=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Nq=Ga("RegExp"),mO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};i0(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},Tq=e=>{mO(e,(t,r)=>{if(Ss(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ss(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Cq=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return bd(e)?n(e):n(String(e).split(t)),r},Aq=()=>{},kq=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Rq(e){return!!(e&&Ss(e.append)&&e[uO]==="FormData"&&e[yg])}const jq=e=>{const t=new Array(10),r=(n,s)=>{if(a0(n)){if(t.indexOf(n)>=0)return;if(s0(n))return n;if(!("toJSON"in n)){t[s]=n;const a=bd(n)?[]:{};return i0(n,(i,o)=>{const c=r(i,s+1);!Yu(c)&&(a[o]=c)}),t[s]=void 0,a}}return n};return r(e,0)},Oq=Ga("AsyncFunction"),Dq=e=>e&&(a0(e)||Ss(e))&&Ss(e.then)&&Ss(e.catch),xO=((e,t)=>e?setImmediate:t?((r,n)=>(ac.addEventListener("message",({source:s,data:a})=>{s===ac&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ac.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ss(ac.postMessage)),Iq=typeof queueMicrotask<"u"?queueMicrotask.bind(ac):typeof process<"u"&&process.nextTick||xO,Mq=e=>e!=null&&Ss(e[yg]),Me={isArray:bd,isArrayBuffer:dO,isBuffer:s0,isFormData:oq,isArrayBufferView:ZH,isString:QH,isNumber:fO,isBoolean:eq,isObject:a0,isPlainObject:Pm,isEmptyObject:tq,isReadableStream:cq,isRequest:uq,isResponse:dq,isHeaders:fq,isUndefined:Yu,isDate:rq,isFile:nq,isBlob:sq,isRegExp:Nq,isFunction:Ss,isStream:iq,isURLSearchParams:lq,isTypedArray:bq,isFileList:aq,forEach:i0,merge:v2,extend:pq,trim:hq,stripBOM:mq,inherits:xq,toFlatObject:gq,kindOf:vg,kindOfTest:Ga,endsWith:yq,toArray:vq,forEachEntry:wq,matchAll:Eq,isHTMLForm:_q,hasOwnProperty:Uk,hasOwnProp:Uk,reduceDescriptors:mO,freezeMethods:Tq,toObjectSet:Cq,toCamelCase:Sq,noop:Aq,toFiniteNumber:kq,findKey:hO,global:ac,isContextDefined:pO,isSpecCompliantForm:Rq,toJSONObject:jq,isAsyncFn:Oq,isThenable:Dq,setImmediate:xO,asap:Iq,isIterable:Mq};let xt=class gO extends Error{static from(t,r,n,s,a,i){const o=new gO(t.message,r||t.code,n,s,a);return o.cause=t,o.name=t.name,i&&Object.assign(o,i),o}constructor(t,r,n,s,a){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}};xt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";xt.ERR_BAD_OPTION="ERR_BAD_OPTION";xt.ECONNABORTED="ECONNABORTED";xt.ETIMEDOUT="ETIMEDOUT";xt.ERR_NETWORK="ERR_NETWORK";xt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";xt.ERR_DEPRECATED="ERR_DEPRECATED";xt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";xt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";xt.ERR_CANCELED="ERR_CANCELED";xt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";xt.ERR_INVALID_URL="ERR_INVALID_URL";const Fq=null;function b2(e){return Me.isPlainObject(e)||Me.isArray(e)}function yO(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function zk(e,t,r){return e?e.concat(t).map(function(s,a){return s=yO(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function Pq(e){return Me.isArray(e)&&!e.some(b2)}const Lq=Me.toFlatObject(Me,{},null,function(t){return/^is[A-Z]/.test(t)});function wg(e,t,r){if(!Me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!Me.isUndefined(w[y])});const n=r.metaTokens,s=r.visitor||h,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(t);if(!Me.isFunction(s))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(Me.isDate(v))return v.toISOString();if(Me.isBoolean(v))return v.toString();if(!c&&Me.isBlob(v))throw new xt("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(v)||Me.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,y,w){let E=v;if(v&&!w&&typeof v=="object"){if(Me.endsWith(y,"{}"))y=n?y:y.slice(0,-2),v=JSON.stringify(v);else if(Me.isArray(v)&&Pq(v)||(Me.isFileList(v)||Me.endsWith(y,"[]"))&&(E=Me.toArray(v)))return y=yO(y),E.forEach(function(_,S){!(Me.isUndefined(_)||_===null)&&t.append(i===!0?zk([y],S,a):i===null?y:y+"[]",f(_))}),!1}return b2(v)?!0:(t.append(zk(w,y,a),f(v)),!1)}const m=[],x=Object.assign(Lq,{defaultVisitor:h,convertValue:f,isVisitable:b2});function g(v,y){if(!Me.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(v),Me.forEach(v,function(E,N){(!(Me.isUndefined(E)||E===null)&&s.call(t,E,Me.isString(N)?N.trim():N,y,x))===!0&&g(E,y?y.concat(N):[N])}),m.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Hk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function HE(e,t){this._pairs=[],e&&wg(e,this,t)}const vO=HE.prototype;vO.append=function(t,r){this._pairs.push([t,r])};vO.toString=function(t){const r=t?function(n){return t.call(this,n,Hk)}:Hk;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Bq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bO(e,t,r){if(!t)return e;const n=r&&r.encode||Bq,s=Me.isFunction(r)?{serialize:r}:r,a=s&&s.serialize;let i;if(a?i=a(t,s):i=Me.isURLSearchParams(t)?t.toString():new HE(t,s).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class qk{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const wO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uq=typeof URLSearchParams<"u"?URLSearchParams:HE,zq=typeof FormData<"u"?FormData:null,Hq=typeof Blob<"u"?Blob:null,qq={isBrowser:!0,classes:{URLSearchParams:Uq,FormData:zq,Blob:Hq},protocols:["http","https","file","blob","url","data"]},qE=typeof window<"u"&&typeof document<"u",w2=typeof navigator=="object"&&navigator||void 0,Vq=qE&&(!w2||["ReactNative","NativeScript","NS"].indexOf(w2.product)<0),$q=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wq=qE&&window.location.href||"http://localhost",Gq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qE,hasStandardBrowserEnv:Vq,hasStandardBrowserWebWorkerEnv:$q,navigator:w2,origin:Wq},Symbol.toStringTag,{value:"Module"})),qn={...Gq,...qq};function Kq(e,t){return wg(e,new qn.classes.URLSearchParams,{visitor:function(r,n,s,a){return qn.isNode&&Me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Xq(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Yq(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function EO(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=a>=r.length;return i=!i&&Me.isArray(s)?s.length:i,c?(Me.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!o):((!s[i]||!Me.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&Me.isArray(s[i])&&(s[i]=Yq(s[i])),!o)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){const r={};return Me.forEachEntry(e,(n,s)=>{t(Xq(n),s,r,0)}),r}return null}function Jq(e,t,r){if(Me.isString(e))try{return(t||JSON.parse)(e),Me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const o0={transitional:wO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=Me.isObject(t);if(a&&Me.isHTMLForm(t)&&(t=new FormData(t)),Me.isFormData(t))return s?JSON.stringify(EO(t)):t;if(Me.isArrayBuffer(t)||Me.isBuffer(t)||Me.isStream(t)||Me.isFile(t)||Me.isBlob(t)||Me.isReadableStream(t))return t;if(Me.isArrayBufferView(t))return t.buffer;if(Me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Kq(t,this.formSerializer).toString();if((o=Me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return wg(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),Jq(t)):t}],transformResponse:[function(t){const r=this.transitional||o0.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Me.isResponse(t)||Me.isReadableStream(t))return t;if(t&&Me.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?xt.from(o,xt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{o0.headers[e]={}});const Zq=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qq=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&Zq[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Vk=Symbol("internals");function Tf(e){return e&&String(e).trim().toLowerCase()}function Lm(e){return e===!1||e==null?e:Me.isArray(e)?e.map(Lm):String(e)}function eV(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const tV=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sv(e,t,r,n,s){if(Me.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Me.isString(t)){if(Me.isString(n))return t.indexOf(n)!==-1;if(Me.isRegExp(n))return n.test(t)}}function rV(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function nV(e,t){const r=Me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}let Ns=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(o,c,f){const h=Tf(c);if(!h)throw new Error("header name must be a non-empty string");const m=Me.findKey(s,h);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||c]=Lm(o))}const i=(o,c)=>Me.forEach(o,(f,h)=>a(f,h,c));if(Me.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(Me.isString(t)&&(t=t.trim())&&!tV(t))i(Qq(t),r);else if(Me.isObject(t)&&Me.isIterable(t)){let o={},c,f;for(const h of t){if(!Me.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[f=h[0]]=(c=o[f])?Me.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}i(o,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Tf(t),t){const n=Me.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return eV(s);if(Me.isFunction(r))return r.call(this,s,n);if(Me.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Tf(t),t){const n=Me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Sv(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=Tf(i),i){const o=Me.findKey(n,i);o&&(!r||Sv(n,n[o],o,r))&&(delete n[o],s=!0)}}return Me.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||Sv(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return Me.forEach(this,(s,a)=>{const i=Me.findKey(n,a);if(i){r[i]=Lm(s),delete r[a];return}const o=t?rV(a):String(a).trim();o!==a&&delete r[a],r[o]=Lm(s),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Vk]=this[Vk]={accessors:{}}).accessors,s=this.prototype;function a(i){const o=Tf(i);n[o]||(nV(s,i),n[o]=!0)}return Me.isArray(t)?t.forEach(a):a(t),this}};Ns.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(Ns.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Me.freezeMethods(Ns);function Nv(e,t){const r=this||o0,n=t||r,s=Ns.from(n.headers);let a=n.data;return Me.forEach(e,function(o){a=o.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function _O(e){return!!(e&&e.__CANCEL__)}let l0=class extends xt{constructor(t,r,n){super(t??"canceled",xt.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function SO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new xt("Request failed with status code "+r.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function sV(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function aV(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const f=Date.now(),h=n[a];i||(i=f),r[s]=c,n[s]=f;let m=a,x=0;for(;m!==s;)x+=r[m++],m=m%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),f-i<t)return;const g=h&&f-h;return g?Math.round(x*1e3/g):void 0}}function iV(e,t){let r=0,n=1e3/t,s,a;const i=(f,h=Date.now())=>{r=h,s=null,a&&(clearTimeout(a),a=null),e(...f)};return[(...f)=>{const h=Date.now(),m=h-r;m>=n?i(f,h):(s=f,a||(a=setTimeout(()=>{a=null,i(s)},n-m)))},()=>s&&i(s)]}const tx=(e,t,r=3)=>{let n=0;const s=aV(50,250);return iV(a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,c=i-n,f=s(c),h=i<=o;n=i;const m={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:f||void 0,estimated:f&&o&&h?(o-i)/f:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(m)},r)},$k=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Wk=e=>(...t)=>Me.asap(()=>e(...t)),oV=qn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,qn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,lV=qn.hasStandardBrowserEnv?{write(e,t,r,n,s,a,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];Me.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),Me.isString(n)&&o.push(`path=${n}`),Me.isString(s)&&o.push(`domain=${s}`),a===!0&&o.push("secure"),Me.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cV(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uV(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function NO(e,t,r){let n=!cV(t);return e&&(n||r==!1)?uV(e,t):t}const Gk=e=>e instanceof Ns?{...e}:e;function Nc(e,t){t=t||{};const r={};function n(f,h,m,x){return Me.isPlainObject(f)&&Me.isPlainObject(h)?Me.merge.call({caseless:x},f,h):Me.isPlainObject(h)?Me.merge({},h):Me.isArray(h)?h.slice():h}function s(f,h,m,x){if(Me.isUndefined(h)){if(!Me.isUndefined(f))return n(void 0,f,m,x)}else return n(f,h,m,x)}function a(f,h){if(!Me.isUndefined(h))return n(void 0,h)}function i(f,h){if(Me.isUndefined(h)){if(!Me.isUndefined(f))return n(void 0,f)}else return n(void 0,h)}function o(f,h,m){if(m in t)return n(f,h);if(m in e)return n(void 0,f)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(f,h,m)=>s(Gk(f),Gk(h),m,!0)};return Me.forEach(Object.keys({...e,...t}),function(h){const m=c[h]||s,x=m(e[h],t[h],h);Me.isUndefined(x)&&m!==o||(r[h]=x)}),r}const TO=e=>{const t=Nc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:o}=t;if(t.headers=i=Ns.from(i),t.url=bO(NO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Me.isFormData(r)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Me.isFunction(r.getHeaders)){const c=r.getHeaders(),f=["content-type","content-length"];Object.entries(c).forEach(([h,m])=>{f.includes(h.toLowerCase())&&i.set(h,m)})}}if(qn.hasStandardBrowserEnv&&(n&&Me.isFunction(n)&&(n=n(t)),n||n!==!1&&oV(t.url))){const c=s&&a&&lV.read(a);c&&i.set(s,c)}return t},dV=typeof XMLHttpRequest<"u",fV=dV&&function(e){return new Promise(function(r,n){const s=TO(e);let a=s.data;const i=Ns.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:f}=s,h,m,x,g,v;function y(){g&&g(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function E(){if(!w)return;const _=Ns.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:_,config:e,request:w};SO(function(R){r(R),y()},function(R){n(R),y()},k),w=null}"onloadend"in w?w.onloadend=E:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(E)},w.onabort=function(){w&&(n(new xt("Request aborted",xt.ECONNABORTED,e,w)),w=null)},w.onerror=function(S){const k=S&&S.message?S.message:"Network Error",L=new xt(k,xt.ERR_NETWORK,e,w);L.event=S||null,n(L),w=null},w.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||wO;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new xt(S,k.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,e,w)),w=null},a===void 0&&i.setContentType(null),"setRequestHeader"in w&&Me.forEach(i.toJSON(),function(S,k){w.setRequestHeader(k,S)}),Me.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),o&&o!=="json"&&(w.responseType=s.responseType),f&&([x,v]=tx(f,!0),w.addEventListener("progress",x)),c&&w.upload&&([m,g]=tx(c),w.upload.addEventListener("progress",m),w.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=_=>{w&&(n(!_||_.type?new l0(null,e,w):_),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const N=sV(s.url);if(N&&qn.protocols.indexOf(N)===-1){n(new xt("Unsupported protocol "+N+":",xt.ERR_BAD_REQUEST,e));return}w.send(a||null)})},hV=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(f){if(!s){s=!0,o();const h=f instanceof Error?f:this.reason;n.abort(h instanceof xt?h:new l0(h instanceof Error?h.message:h))}};let i=t&&setTimeout(()=>{i=null,a(new xt(`timeout of ${t}ms exceeded`,xt.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>Me.asap(o),c}},pV=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},mV=async function*(e,t){for await(const r of xV(e))yield*pV(r,t)},xV=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Kk=(e,t,r,n)=>{const s=mV(e,t);let a=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:f,value:h}=await s.next();if(f){o(),c.close();return}let m=h.byteLength;if(r){let x=a+=m;r(x)}c.enqueue(new Uint8Array(h))}catch(f){throw o(f),f}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},Xk=64*1024,{isFunction:Xp}=Me,gV=(({Request:e,Response:t})=>({Request:e,Response:t}))(Me.global),{ReadableStream:Yk,TextEncoder:Jk}=Me.global,Zk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yV=e=>{e=Me.merge.call({skipUndefined:!0},gV,e);const{fetch:t,Request:r,Response:n}=e,s=t?Xp(t):typeof fetch=="function",a=Xp(r),i=Xp(n);if(!s)return!1;const o=s&&Xp(Yk),c=s&&(typeof Jk=="function"?(v=>y=>v.encode(y))(new Jk):async v=>new Uint8Array(await new r(v).arrayBuffer())),f=a&&o&&Zk(()=>{let v=!1;const y=new r(qn.origin,{body:new Yk,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!y}),h=i&&o&&Zk(()=>Me.isReadableStream(new n("").body)),m={stream:h&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(y,w)=>{let E=y&&y[v];if(E)return E.call(y);throw new xt(`Response type '${v}' is not supported`,xt.ERR_NOT_SUPPORT,w)})});const x=async v=>{if(v==null)return 0;if(Me.isBlob(v))return v.size;if(Me.isSpecCompliantForm(v))return(await new r(qn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(v)||Me.isArrayBuffer(v))return v.byteLength;if(Me.isURLSearchParams(v)&&(v=v+""),Me.isString(v))return(await c(v)).byteLength},g=async(v,y)=>{const w=Me.toFiniteNumber(v.getContentLength());return w??x(y)};return async v=>{let{url:y,method:w,data:E,signal:N,cancelToken:_,timeout:S,onDownloadProgress:k,onUploadProgress:L,responseType:R,headers:H,withCredentials:O="same-origin",fetchOptions:Z}=TO(v),ae=t||fetch;R=R?(R+"").toLowerCase():"text";let P=hV([N,_&&_.toAbortSignal()],S),X=null;const M=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let ie;try{if(L&&f&&w!=="get"&&w!=="head"&&(ie=await g(H,E))!==0){let G=new r(y,{method:"POST",body:E,duplex:"half"}),D;if(Me.isFormData(E)&&(D=G.headers.get("content-type"))&&H.setContentType(D),G.body){const[W,K]=$k(ie,tx(Wk(L)));E=Kk(G.body,Xk,W,K)}}Me.isString(O)||(O=O?"include":"omit");const J=a&&"credentials"in r.prototype,ee={...Z,signal:P,method:w.toUpperCase(),headers:H.normalize().toJSON(),body:E,duplex:"half",credentials:J?O:void 0};X=a&&new r(y,ee);let xe=await(a?ae(X,Z):ae(y,ee));const oe=h&&(R==="stream"||R==="response");if(h&&(k||oe&&M)){const G={};["status","statusText","headers"].forEach(re=>{G[re]=xe[re]});const D=Me.toFiniteNumber(xe.headers.get("content-length")),[W,K]=k&&$k(D,tx(Wk(k),!0))||[];xe=new n(Kk(xe.body,Xk,W,()=>{K&&K(),M&&M()}),G)}R=R||"text";let we=await m[Me.findKey(m,R)||"text"](xe,v);return!oe&&M&&M(),await new Promise((G,D)=>{SO(G,D,{data:we,headers:Ns.from(xe.headers),status:xe.status,statusText:xe.statusText,config:v,request:X})})}catch(J){throw M&&M(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,v,X),{cause:J.cause||J}):xt.from(J,J&&J.code,v,X)}}},vV=new Map,CO=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let i=a.length,o=i,c,f,h=vV;for(;o--;)c=a[o],f=h.get(c),f===void 0&&h.set(c,f=o?new Map:yV(t)),h=f;return f};CO();const VE={http:Fq,xhr:fV,fetch:{get:CO}};Me.forEach(VE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Qk=e=>`- ${e}`,bV=e=>Me.isFunction(e)||e===null||e===!1;function wV(e,t){e=Me.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let i=0;i<r;i++){n=e[i];let o;if(s=n,!bV(n)&&(s=VE[(o=String(n)).toLowerCase()],s===void 0))throw new xt(`Unknown adapter '${o}'`);if(s&&(Me.isFunction(s)||(s=s.get(t))))break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(Qk).join(`
`):" "+Qk(i[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const AO={getAdapter:wV,adapters:VE};function Tv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new l0(null,e)}function e4(e){return Tv(e),e.headers=Ns.from(e.headers),e.data=Nv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),AO.getAdapter(e.adapter||o0.adapter,e)(e).then(function(n){return Tv(e),n.data=Nv.call(e,e.transformResponse,n),n.headers=Ns.from(n.headers),n},function(n){return _O(n)||(Tv(e),n&&n.response&&(n.response.data=Nv.call(e,e.transformResponse,n.response),n.response.headers=Ns.from(n.response.headers))),Promise.reject(n)})}const kO="1.13.4",Eg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Eg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const t4={};Eg.transitional=function(t,r,n){function s(a,i){return"[Axios v"+kO+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,o)=>{if(t===!1)throw new xt(s(i," has been removed"+(r?" in "+r:"")),xt.ERR_DEPRECATED);return r&&!t4[i]&&(t4[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,o):!0}};Eg.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function EV(e,t,r){if(typeof e!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const o=e[a],c=o===void 0||i(o,a,e);if(c!==!0)throw new xt("option "+a+" must be "+c,xt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xt("Unknown option "+a,xt.ERR_BAD_OPTION)}}const Bm={assertOptions:EV,validators:Eg},ai=Bm.validators;let pc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qk,response:new qk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Nc(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Bm.assertOptions(n,{silentJSONParsing:ai.transitional(ai.boolean),forcedJSONParsing:ai.transitional(ai.boolean),clarifyTimeoutError:ai.transitional(ai.boolean)},!1),s!=null&&(Me.isFunction(s)?r.paramsSerializer={serialize:s}:Bm.assertOptions(s,{encode:ai.function,serialize:ai.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bm.assertOptions(r,{baseUrl:ai.spelling("baseURL"),withXsrfToken:ai.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&Me.merge(a.common,a[r.method]);a&&Me.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),r.headers=Ns.concat(i,a);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let h,m=0,x;if(!c){const v=[e4.bind(this),void 0];for(v.unshift(...o),v.push(...f),x=v.length,h=Promise.resolve(r);m<x;)h=h.then(v[m++],v[m++]);return h}x=o.length;let g=r;for(;m<x;){const v=o[m++],y=o[m++];try{g=v(g)}catch(w){y.call(this,w);break}}try{h=e4.call(this,g)}catch(v){return Promise.reject(v)}for(m=0,x=f.length;m<x;)h=h.then(f[m++],f[m++]);return h}getUri(t){t=Nc(this.defaults,t);const r=NO(t.baseURL,t.url,t.allowAbsoluteUrls);return bO(r,t.params,t.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(t){pc.prototype[t]=function(r,n){return this.request(Nc(n||{},{method:t,url:r,data:(n||{}).data}))}});Me.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,o){return this.request(Nc(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}pc.prototype[t]=r(),pc.prototype[t+"Form"]=r(!0)});let _V=class RO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(o=>{n.subscribe(o),a=o}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,o){n.reason||(n.reason=new l0(a,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new RO(function(s){t=s}),cancel:t}}};function SV(e){return function(r){return e.apply(null,r)}}function NV(e){return Me.isObject(e)&&e.isAxiosError===!0}const E2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(E2).forEach(([e,t])=>{E2[t]=e});function jO(e){const t=new pc(e),r=cO(pc.prototype.request,t);return Me.extend(r,pc.prototype,t,{allOwnKeys:!0}),Me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return jO(Nc(e,s))},r}const Pr=jO(o0);Pr.Axios=pc;Pr.CanceledError=l0;Pr.CancelToken=_V;Pr.isCancel=_O;Pr.VERSION=kO;Pr.toFormData=wg;Pr.AxiosError=xt;Pr.Cancel=Pr.CanceledError;Pr.all=function(t){return Promise.all(t)};Pr.spread=SV;Pr.isAxiosError=NV;Pr.mergeConfig=Nc;Pr.AxiosHeaders=Ns;Pr.formToJSON=e=>EO(Me.isHTMLForm(e)?new FormData(e):e);Pr.getAdapter=AO.getAdapter;Pr.HttpStatusCode=E2;Pr.default=Pr;const{Axios:f1e,AxiosError:h1e,CanceledError:p1e,isCancel:m1e,CancelToken:x1e,VERSION:g1e,all:y1e,Cancel:v1e,isAxiosError:b1e,spread:w1e,toFormData:E1e,AxiosHeaders:_1e,HttpStatusCode:S1e,formToJSON:N1e,getAdapter:T1e,mergeConfig:C1e}=Pr,vt=Pr.create({baseURL:"http://127.0.0.1:8000",headers:{"Content-Type":"application/json"}}),_2=e=>{if(typeof e=="string")return e.trim();if(e!==null&&typeof e=="object"){if(Array.isArray(e))return e.map(t=>_2(t));if(Object.getPrototypeOf(e)===Object.prototype){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=_2(e[r]));return t}}return e};vt.interceptors.request.use(async e=>{var n,s,a;const r=(s=(n=(await dg()).tokens)==null?void 0:n.idToken)==null?void 0:s.toString();return r&&(e.headers.Authorization=`Bearer ${r}`),e.data&&["post","put","patch"].includes(((a=e.method)==null?void 0:a.toLowerCase())||"")&&(e.data=_2(e.data)),e});vt.interceptors.response.use(e=>e,e=>{var n,s;if(!e.response)return Promise.reject({status:0,message:"Network error. Please check your connection."});const t=e.response.status,r=((n=e.response.data)==null?void 0:n.detail)||((s=e.response.data)==null?void 0:s.message)||"Something went wrong.";return Promise.reject({status:t,message:r})});const OO=Y.createContext(void 0),TV=({children:e})=>{const[t,r]=Y.useState(null),[n,s]=Y.useState("loading"),[a,i]=Y.useState(!1),o=Y.useRef(!1),c=async()=>{const m=(await vt.get("/users/me")).data;r(m),i(!!m.is_active),s("authenticated")};Y.useEffect(()=>{(async()=>{var x;if(o.current)return;if(o.current=!0,["/login","/signup","/forgot-password"].includes(window.location.pathname)){s("unauthenticated");return}try{if(!((x=(await dg()).tokens)!=null&&x.idToken)){s("unauthenticated");return}await c()}catch(g){console.error("Auth bootstrap failed:",g),await g2().catch(()=>{}),r(null),i(!1),s("unauthenticated")}})()},[]);const f=async()=>{try{await g2()}finally{r(null),i(!1),s("unauthenticated")}};return u.jsx(OO.Provider,{value:{user:t,isActive:a,setUser:r,status:n,refreshUser:c,logout:f},children:e})},Ka=()=>{const e=Y.useContext(OO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r4="popstate";function CV(e={}){function t(n,s){let{pathname:a,search:i,hash:o}=n.location;return S2("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Sh(s)}return kV(t,r,null,e)}function wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AV(){return Math.random().toString(36).substring(2,10)}function n4(e,t){return{usr:e.state,key:e.key,idx:t}}function S2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?wd(t):t,state:r,key:t&&t.key||n||AV()}}function Sh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function kV(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,o="POP",c=null,f=h();f==null&&(f=0,i.replaceState({...i.state,idx:f},""));function h(){return(i.state||{idx:null}).idx}function m(){o="POP";let w=h(),E=w==null?null:w-f;f=w,c&&c({action:o,location:y.location,delta:E})}function x(w,E){o="PUSH";let N=S2(y.location,w,E);f=h()+1;let _=n4(N,f),S=y.createHref(N);try{i.pushState(_,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}a&&c&&c({action:o,location:y.location,delta:1})}function g(w,E){o="REPLACE";let N=S2(y.location,w,E);f=h();let _=n4(N,f),S=y.createHref(N);i.replaceState(_,"",S),a&&c&&c({action:o,location:y.location,delta:0})}function v(w){return RV(w)}let y={get action(){return o},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(r4,m),c=w,()=>{s.removeEventListener(r4,m),c=null}},createHref(w){return t(s,w)},createURL:v,encodeLocation(w){let E=v(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:g,go(w){return i.go(w)}};return y}function RV(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),wr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Sh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function DO(e,t,r="/"){return jV(e,t,r,!1)}function jV(e,t,r,n){let s=typeof t=="string"?wd(t):t,a=po(s.pathname||"/",r);if(a==null)return null;let i=IO(e);OV(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let f=qV(a);o=zV(i[c],f,n)}return o}function IO(e,t=[],r=[],n="",s=!1){let a=(i,o,c=s,f)=>{let h={relativePath:f===void 0?i.path||"":f,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&c)return;wr(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=ao([n,h.relativePath]),x=r.concat(h);i.children&&i.children.length>0&&(wr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),IO(i.children,t,x,m,c)),!(i.path==null&&!i.index)&&t.push({path:m,score:BV(m,i.index),routesMeta:x})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let f of MO(i.path))a(i,o,!0,f)}),t}function MO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=MO(n.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function OV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:UV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var DV=/^:[\w-]+$/,IV=3,MV=2,FV=1,PV=10,LV=-2,s4=e=>e==="*";function BV(e,t){let r=e.split("/"),n=r.length;return r.some(s4)&&(n+=LV),t&&(n+=MV),r.filter(s=>!s4(s)).reduce((s,a)=>s+(DV.test(a)?IV:a===""?FV:PV),n)}function UV(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function zV(e,t,r=!1){let{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],f=o===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=rx({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),x=c.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=rx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),i.push({params:s,pathname:ao([a,m.pathname]),pathnameBase:GV(ao([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=ao([a,m.pathnameBase]))}return i}function rx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=HV(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:m},x)=>{if(h==="*"){let v=o[x]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[x];return m&&!g?f[h]=void 0:f[h]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:i,pattern:e}}function HV(e,t=!1,r=!0){Sa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function qV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function po(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var VV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function $V(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?wd(e):e,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=a4(r.substring(1),"/"):a=a4(r,t)):a=t,{pathname:a,search:KV(n),hash:XV(s)}}function a4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Cv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $E(e){let t=WV(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function WE(e,t,r,n=!1){let s;typeof e=="string"?s=wd(e):(s={...e},wr(!s.pathname||!s.pathname.includes("?"),Cv("?","pathname","search",s)),wr(!s.pathname||!s.pathname.includes("#"),Cv("#","pathname","hash",s)),wr(!s.search||!s.search.includes("#"),Cv("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}o=m>=0?t[m]:"/"}let c=$V(s,o),f=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var ao=e=>e.join("/").replace(/\/\/+/g,"/"),GV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,YV=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function JV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function ZV(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function PO(e,t){let r=e;if(typeof r!="string"||!VV.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(FO)try{let a=new URL(window.location.href),i=r.startsWith("//")?new URL(a.protocol+r):new URL(r),o=po(i.pathname,t);i.origin===a.origin&&o!=null?r=o+i.search+i.hash:s=!0}catch{Sa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LO=["POST","PUT","PATCH","DELETE"];new Set(LO);var QV=["GET",...LO];new Set(QV);var Ed=Y.createContext(null);Ed.displayName="DataRouter";var _g=Y.createContext(null);_g.displayName="DataRouterState";var e$=Y.createContext(!1),BO=Y.createContext({isTransitioning:!1});BO.displayName="ViewTransition";var t$=Y.createContext(new Map);t$.displayName="Fetchers";var r$=Y.createContext(null);r$.displayName="Await";var Js=Y.createContext(null);Js.displayName="Navigation";var c0=Y.createContext(null);c0.displayName="Location";var Xa=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Xa.displayName="Route";var GE=Y.createContext(null);GE.displayName="RouteError";var UO="REACT_ROUTER_ERROR",n$="REDIRECT",s$="ROUTE_ERROR_RESPONSE";function a$(e){if(e.startsWith(`${UO}:${n$}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function i$(e){if(e.startsWith(`${UO}:${s$}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new YV(t.status,t.statusText,t.data)}catch{}}function o$(e,{relative:t}={}){wr(_d(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=Y.useContext(Js),{hash:s,pathname:a,search:i}=u0(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:ao([r,a])),n.createHref({pathname:o,search:i,hash:s})}function _d(){return Y.useContext(c0)!=null}function Aa(){return wr(_d(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(c0).location}var zO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HO(e){Y.useContext(Js).static||Y.useLayoutEffect(e)}function Lr(){let{isDataRoute:e}=Y.useContext(Xa);return e?E$():l$()}function l$(){wr(_d(),"useNavigate() may be used only in the context of a <Router> component.");let e=Y.useContext(Ed),{basename:t,navigator:r}=Y.useContext(Js),{matches:n}=Y.useContext(Xa),{pathname:s}=Aa(),a=JSON.stringify($E(n)),i=Y.useRef(!1);return HO(()=>{i.current=!0}),Y.useCallback((c,f={})=>{if(Sa(i.current,zO),!i.current)return;if(typeof c=="number"){r.go(c);return}let h=WE(c,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ao([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,a,s,e])}var c$=Y.createContext(null);function u$(e){let t=Y.useContext(Xa).outlet;return Y.useMemo(()=>t&&Y.createElement(c$.Provider,{value:e},t),[t,e])}function u0(e,{relative:t}={}){let{matches:r}=Y.useContext(Xa),{pathname:n}=Aa(),s=JSON.stringify($E(r));return Y.useMemo(()=>WE(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function d$(e,t){return qO(e,t)}function qO(e,t,r,n,s){var N;wr(_d(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Y.useContext(Js),{matches:i}=Y.useContext(Xa),o=i[i.length-1],c=o?o.params:{},f=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let _=m&&m.path||"";$O(f,!m||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=Aa(),g;if(t){let _=typeof t=="string"?wd(t):t;wr(h==="/"||((N=_.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=x;let v=g.pathname||"/",y=v;if(h!=="/"){let _=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=DO(e,{pathname:y});Sa(m||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Sa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=x$(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:ao([h,a.encodeLocation?a.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:ao([h,a.encodeLocation?a.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),i,r,n,s);return t&&E?Y.createElement(c0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},E):E}function f$(){let e=w$(),t=JV(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:a},"ErrorBoundary")," or"," ",Y.createElement("code",{style:a},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),r?Y.createElement("pre",{style:s},r):null,i)}var h$=Y.createElement(f$,null),VO=class extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=i$(e.digest);r&&(e=r)}let t=e!==void 0?Y.createElement(Xa.Provider,{value:this.props.routeContext},Y.createElement(GE.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?Y.createElement(p$,{error:e},t):t}};VO.contextType=e$;var Av=new WeakMap;function p$({children:e,error:t}){let{basename:r}=Y.useContext(Js);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=a$(t.digest);if(n){let s=Av.get(t);if(s)throw s;let a=PO(n.location,r);if(FO&&!Av.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw Av.set(t,i),i}return Y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function m$({routeContext:e,match:t,children:r}){let n=Y.useContext(Ed);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Xa.Provider,{value:e},r)}function x$(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let h=a.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);wr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let o=!1,c=-1;if(r)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:x,errors:g}=r,v=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||v){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=r&&n?(h,m)=>{var x,g;n(h,{location:r.location,params:((g=(x=r.matches)==null?void 0:x[0])==null?void 0:g.params)??{},unstable_pattern:ZV(r.matches),errorInfo:m})}:void 0;return a.reduceRight((h,m,x)=>{let g,v=!1,y=null,w=null;r&&(g=i&&m.route.id?i[m.route.id]:void 0,y=m.route.errorElement||h$,o&&(c<0&&x===0?($O("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):c===x&&(v=!0,w=m.route.hydrateFallbackElement||null)));let E=t.concat(a.slice(0,x+1)),N=()=>{let _;return g?_=y:v?_=w:m.route.Component?_=Y.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=h,Y.createElement(m$,{match:m,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:_})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?Y.createElement(VO,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:N(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):N()},null)}function KE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g$(e){let t=Y.useContext(Ed);return wr(t,KE(e)),t}function y$(e){let t=Y.useContext(_g);return wr(t,KE(e)),t}function v$(e){let t=Y.useContext(Xa);return wr(t,KE(e)),t}function XE(e){let t=v$(e),r=t.matches[t.matches.length-1];return wr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function b$(){return XE("useRouteId")}function w$(){var n;let e=Y.useContext(GE),t=y$("useRouteError"),r=XE("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function E$(){let{router:e}=g$("useNavigate"),t=XE("useNavigate"),r=Y.useRef(!1);return HO(()=>{r.current=!0}),Y.useCallback(async(s,a={})=>{Sa(r.current,zO),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var i4={};function $O(e,t,r){!t&&!i4[e]&&(i4[e]=!0,Sa(!1,r))}Y.memo(_$);function _$({routes:e,future:t,state:r,onError:n}){return qO(e,void 0,r,n,t)}function tl({to:e,replace:t,state:r,relative:n}){wr(_d(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=Y.useContext(Js);Sa(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Y.useContext(Xa),{pathname:i}=Aa(),o=Lr(),c=WE(e,$E(a),i,n==="path"),f=JSON.stringify(c);return Y.useEffect(()=>{o(JSON.parse(f),{replace:t,state:r,relative:n})},[o,f,n,t,r]),null}function Sg(e){return u$(e.context)}function nr(e){wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:a=!1,unstable_useTransitions:i}){wr(!_d(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:o,navigator:s,static:a,unstable_useTransitions:i,future:{}}),[o,s,a,i]);typeof r=="string"&&(r=wd(r));let{pathname:f="/",search:h="",hash:m="",state:x=null,key:g="default"}=r,v=Y.useMemo(()=>{let y=po(f,o);return y==null?null:{location:{pathname:y,search:h,hash:m,state:x,key:g},navigationType:n}},[o,f,h,m,x,g,n]);return Sa(v!=null,`<Router basename="${o}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:Y.createElement(Js.Provider,{value:c},Y.createElement(c0.Provider,{children:t,value:v}))}function N$({children:e,location:t}){return d$(N2(e),t)}function N2(e,t=[]){let r=[];return Y.Children.forEach(e,(n,s)=>{if(!Y.isValidElement(n))return;let a=[...t,s];if(n.type===Y.Fragment){r.push.apply(r,N2(n.props.children,a));return}wr(n.type===nr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=N2(n.props.children,a)),r.push(i)}),r}var Um="get",zm="application/x-www-form-urlencoded";function Ng(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function T$(e){return Ng(e)&&e.tagName.toLowerCase()==="button"}function C$(e){return Ng(e)&&e.tagName.toLowerCase()==="form"}function A$(e){return Ng(e)&&e.tagName.toLowerCase()==="input"}function k$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R$(e,t){return e.button===0&&(!t||t==="_self")&&!k$(e)}function T2(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function j$(e,t){let r=T2(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}var Yp=null;function O$(){if(Yp===null)try{new FormData(document.createElement("form"),0),Yp=!1}catch{Yp=!0}return Yp}var D$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kv(e){return e!=null&&!D$.has(e)?(Sa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zm}"`),null):e}function I$(e,t){let r,n,s,a,i;if(C$(e)){let o=e.getAttribute("action");n=o?po(o,t):null,r=e.getAttribute("method")||Um,s=kv(e.getAttribute("enctype"))||zm,a=new FormData(e)}else if(T$(e)||A$(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?po(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Um,s=kv(e.getAttribute("formenctype"))||kv(o.getAttribute("enctype"))||zm,a=new FormData(o,e),!O$()){let{name:f,type:h,value:m}=e;if(h==="image"){let x=f?`${f}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else f&&a.append(f,m)}}else{if(Ng(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Um,n=null,s=zm,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function YE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function M$(e,t,r,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:t&&po(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function F$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function L$(e,t,r){let n=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await F$(a,r);return i.links?i.links():[]}return[]}));return H$(n.flat(1).filter(P$).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function o4(e,t,r,n,s,a){let i=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,o=(c,f)=>{var h;return r[f].pathname!==c.pathname||((h=r[f].route.path)==null?void 0:h.endsWith("*"))&&r[f].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,f)=>i(c,f)||o(c,f)):a==="data"?t.filter((c,f)=>{var m;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(i(c,f)||o(c,f))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function B$(e,t,{includeHydrateFallback:r}={}){return U$(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function U$(e){return[...new Set(e)]}function z$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function H$(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let a=JSON.stringify(z$(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function WO(){let e=Y.useContext(Ed);return YE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function q$(){let e=Y.useContext(_g);return YE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var JE=Y.createContext(void 0);JE.displayName="FrameworkContext";function GO(){let e=Y.useContext(JE);return YE(e,"You must render this element inside a <HydratedRouter> element"),e}function V$(e,t){let r=Y.useContext(JE),[n,s]=Y.useState(!1),[a,i]=Y.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=t,x=Y.useRef(null);Y.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let y=E=>{E.forEach(N=>{i(N.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[e]),Y.useEffect(()=>{if(n){let y=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{s(!0)},v=()=>{s(!1),i(!1)};return r?e!=="intent"?[a,x,{}]:[a,x,{onFocus:Cf(o,g),onBlur:Cf(c,v),onMouseEnter:Cf(f,g),onMouseLeave:Cf(h,v),onTouchStart:Cf(m,g)}]:[!1,x,{}]}function Cf(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function $$({page:e,...t}){let{router:r}=WO(),n=Y.useMemo(()=>DO(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?Y.createElement(G$,{page:e,matches:n,...t}):null}function W$(e){let{manifest:t,routeModules:r}=GO(),[n,s]=Y.useState([]);return Y.useEffect(()=>{let a=!1;return L$(e,t,r).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,r]),n}function G$({page:e,matches:t,...r}){let n=Aa(),{future:s,manifest:a,routeModules:i}=GO(),{basename:o}=WO(),{loaderData:c,matches:f}=q$(),h=Y.useMemo(()=>o4(e,t,f,a,n,"data"),[e,t,f,a,n]),m=Y.useMemo(()=>o4(e,t,f,a,n,"assets"),[e,t,f,a,n]),x=Y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(t.forEach(N=>{var S;let _=a.routes[N.route.id];!_||!_.hasLoader||(!h.some(k=>k.route.id===N.route.id)&&N.route.id in c&&((S=i[N.route.id])!=null&&S.shouldRevalidate)||_.hasClientLoader?w=!0:y.add(N.route.id))}),y.size===0)return[];let E=M$(e,o,s.unstable_trailingSlashAwareDataRequests,"data");return w&&y.size>0&&E.searchParams.set("_routes",t.filter(N=>y.has(N.route.id)).map(N=>N.route.id).join(",")),[E.pathname+E.search]},[o,s.unstable_trailingSlashAwareDataRequests,c,n,a,h,t,e,i]),g=Y.useMemo(()=>B$(m,a),[m,a]),v=W$(m);return Y.createElement(Y.Fragment,null,x.map(y=>Y.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),g.map(y=>Y.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:w})=>Y.createElement("link",{key:y,nonce:r.nonce,...w,crossOrigin:w.crossOrigin??r.crossOrigin})))}function K$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var X$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X$&&(window.__reactRouterVersion="7.13.0")}catch{}function Y$({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=Y.useRef();s.current==null&&(s.current=CV({window:n,v5Compat:!0}));let a=s.current,[i,o]=Y.useState({action:a.action,location:a.location}),c=Y.useCallback(f=>{r===!1?o(f):Y.startTransition(()=>o(f))},[r]);return Y.useLayoutEffect(()=>a.listen(c),[a,c]),Y.createElement(S$,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a,unstable_useTransitions:r})}var KO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wl=Y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:i,state:o,target:c,to:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},v){let{basename:y,unstable_useTransitions:w}=Y.useContext(Js),E=typeof f=="string"&&KO.test(f),N=PO(f,y);f=N.to;let _=o$(f,{relative:s}),[S,k,L]=V$(n,g),R=Q$(f,{replace:i,state:o,target:c,preventScrollReset:h,relative:s,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:w});function H(Z){t&&t(Z),Z.defaultPrevented||R(Z)}let O=Y.createElement("a",{...g,...L,href:N.absoluteURL||_,onClick:N.isExternal||a?t:H,ref:K$(v,k),target:c,"data-discover":!E&&r==="render"?"true":void 0});return S&&!E?Y.createElement(Y.Fragment,null,O,Y.createElement($$,{page:_})):O});wl.displayName="Link";var XO=Y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:i,viewTransition:o,children:c,...f},h){let m=u0(i,{relative:f.relative}),x=Aa(),g=Y.useContext(_g),{navigator:v,basename:y}=Y.useContext(Js),w=g!=null&&sW(m)&&o===!0,E=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,N=x.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(N=N.toLowerCase(),_=_?_.toLowerCase():null,E=E.toLowerCase()),_&&y&&(_=po(_,y)||_);const S=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let k=N===E||!s&&N.startsWith(E)&&N.charAt(S)==="/",L=_!=null&&(_===E||!s&&_.startsWith(E)&&_.charAt(E.length)==="/"),R={isActive:k,isPending:L,isTransitioning:w},H=k?t:void 0,O;typeof n=="function"?O=n(R):O=[n,k?"active":null,L?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Z=typeof a=="function"?a(R):a;return Y.createElement(wl,{...f,"aria-current":H,className:O,ref:h,style:Z,to:i,viewTransition:o},typeof c=="function"?c(R):c)});XO.displayName="NavLink";var J$=Y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:a,method:i=Um,action:o,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},v)=>{let{unstable_useTransitions:y}=Y.useContext(Js),w=rW(),E=nW(o,{relative:f}),N=i.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&KO.test(o),S=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let L=k.nativeEvent.submitter,R=(L==null?void 0:L.getAttribute("formmethod"))||i,H=()=>w(L||k.currentTarget,{fetcherKey:t,method:R,navigate:r,replace:s,state:a,relative:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:x});y&&r!==!1?Y.startTransition(()=>H()):H()};return Y.createElement("form",{ref:v,method:N,action:E,onSubmit:n?c:S,...g,"data-discover":!_&&e==="render"?"true":void 0})});J$.displayName="Form";function Z$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YO(e){let t=Y.useContext(Ed);return wr(t,Z$(e)),t}function Q$(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:i,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let f=Lr(),h=Aa(),m=u0(e,{relative:a});return Y.useCallback(x=>{if(R$(x,t)){x.preventDefault();let g=r!==void 0?r:Sh(h)===Sh(m),v=()=>f(e,{replace:g,state:n,preventScrollReset:s,relative:a,viewTransition:i,unstable_defaultShouldRevalidate:o});c?Y.startTransition(()=>v()):v()}},[h,f,m,r,n,t,e,s,a,i,o,c])}function JO(e){Sa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=Y.useRef(T2(e)),r=Y.useRef(!1),n=Aa(),s=Y.useMemo(()=>j$(n.search,r.current?null:t.current),[n.search]),a=Lr(),i=Y.useCallback((o,c)=>{const f=T2(typeof o=="function"?o(new URLSearchParams(s)):o);r.current=!0,a("?"+f,c)},[a,s]);return[s,i]}var eW=0,tW=()=>`__${String(++eW)}__`;function rW(){let{router:e}=YO("useSubmit"),{basename:t}=Y.useContext(Js),r=b$(),n=e.fetch,s=e.navigate;return Y.useCallback(async(a,i={})=>{let{action:o,method:c,encType:f,formData:h,body:m}=I$(a,t);if(i.navigate===!1){let x=i.fetcherKey||tW();await n(x,r,i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||f,flushSync:i.flushSync})}else await s(i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,s,t,r])}function nW(e,{relative:t}={}){let{basename:r}=Y.useContext(Js),n=Y.useContext(Xa);wr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...u0(e||".",{relative:t})},i=Aa();if(e==null){a.search=i.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(h=>h==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:ao([r,a.pathname])),Sh(a)}function sW(e,{relative:t}={}){let r=Y.useContext(BO);wr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=YO("useViewTransitionState"),s=u0(e,{relative:t});if(!r.isTransitioning)return!1;let a=po(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=po(r.nextLocation.pathname,n)||r.nextLocation.pathname;return rx(s.pathname,i)!=null||rx(s.pathname,a)!=null}var aW=w6();const ZO=SE(aW),iW=new lO(new iO(Qh)),oW={configure(e,t){const r=T6(e),n=new eU({sameSite:"lax"}),s=t!=null&&t.ssr?n:Qh,a=t!=null&&t.ssr?new lO(new iO(n)):iW;if(!r.Auth){ur.configure(r,t);return}if(t!=null&&t.Auth){ur.configure(r,t);return}if(!ur.libraryOptions.Auth){Uf.setAuthConfig(r.Auth),Uf.setKeyValueStorage(s),ur.configure(r,{...t,Auth:{tokenProvider:Uf,credentialsProvider:a}});return}if(t){const i=ur.libraryOptions.Auth;t.ssr!==void 0&&(Uf.setKeyValueStorage(s),i.credentialsProvider=a),ur.configure(r,{Auth:i,...t});return}ur.configure(r)},getConfig(){return ur.getConfig()}},lW={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:56b9322b-f635-4de5-8568-2190b4d16cb7",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_vEN2QD1i4",aws_user_pools_web_client_id:"75d8bj7e5gsqh5uo3ov7m5ua8t",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"]};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),l4=e=>{const t=uW(e);return t.charAt(0).toUpperCase()+t.slice(1)},QO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),dW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...o},c)=>Y.createElement("svg",{ref:c,...fW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:QO("lucide",s),...!a&&!dW(o)&&{"aria-hidden":"true"},...o},[...i.map(([f,h])=>Y.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const r=Y.forwardRef(({className:n,...s},a)=>Y.createElement(hW,{ref:a,iconNode:t,className:QO(`lucide-${cW(l4(e))}`,`lucide-${e}`,n),...s}));return r.displayName=l4(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eD=Ze("arrow-left",pW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nh=Ze("arrow-right",mW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],gW=Ze("bold",xW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ts=Ze("building-2",yW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xi=Ze("calendar",vW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],El=Ze("check",bW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ZE=Ze("chevron-down",wW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fn=Ze("chevron-left",EW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gr=Ze("chevron-right",_W);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fc=Ze("circle-alert",SW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cs=Ze("circle-check",NW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],CW=Ze("circle-pause",TW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kW=Ze("circle-play",AW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tg=Ze("circle-x",RW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tc=Ze("clock",jW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nx=Ze("download",OW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vi=Ze("ellipsis-vertical",DW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tD=Ze("external-link",IW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zf=Ze("eye-off",MW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gi=Ze("eye",FW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M10.5 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v6",key:"g5mvt7"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14 20 2 2 4-4",key:"15kota"}]],LW=Ze("file-check-corner",PW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],Sd=Ze("file-pen",BW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M11.1 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.589 3.588A2.4 2.4 0 0 1 20 8v3.25",key:"uh4ikj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m21 22-2.88-2.88",key:"9dd25w"}],["circle",{cx:"16",cy:"17",r:"3",key:"11br10"}]],zW=Ze("file-search-corner",UW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],sx=Ze("file-search",HW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],C2=Ze("file-spreadsheet",qW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],On=Ze("file-text",VW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],WW=Ze("funnel",$W);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],KW=Ze("hash",GW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],YW=Ze("heading-1",XW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],ZW=Ze("heading-2",JW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],eG=Ze("history",QW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],rG=Ze("image",tG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],d0=Ze("inbox",nG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],aG=Ze("info",sG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],oG=Ze("italic",iG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cG=Ze("layout-dashboard",lG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],dG=Ze("list-ordered",uG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],hG=Ze("list",fG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lt=Ze("loader-circle",pG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Cg=Ze("lock",mG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gG=Ze("log-out",xG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pl=Ze("mail",yG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],io=Ze("map-pin",vG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],wG=Ze("menu",bG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M5 12h14",key:"1ays0h"}]],rD=Ze("minus",EG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],SG=Ze("package-check",_G);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Th=Ze("package",NG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],CG=Ze("pen-line",TG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kG=Ze("pen",AG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],jG=Ze("percent",RG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ch=Ze("phone",OG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],IG=Ze("play",DG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nd=Ze("plus",MG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],PG=Ze("refresh-cw",FG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],BG=Ze("rotate-ccw",LG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],zG=Ze("rotate-cw",UG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qG=Ze("save",HG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Al=Ze("search",VG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nD=Ze("settings",$G);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sD=Ze("shield-check",WG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QE=Ze("shield",GG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],XG=Ze("sparkles",KG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Td=Ze("square-pen",YG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZG=Ze("trash-2",JG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],f0=Ze("trending-down",QG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],h0=Ze("trending-up",eK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aD=Ze("triangle-alert",tK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],nK=Ze("truck",rK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],aK=Ze("underline",sK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_l=Ze("upload",iK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ax=Ze("user-check",oK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cK=Ze("user-plus",lK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],c4=Ze("user-x",uK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oo=Ze("user",dK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hK=Ze("users",fK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fr=Ze("x",pK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],u4=Ze("zap",mK),Ag=({title:e,subtitle:t,children:r})=>u.jsxs("div",{className:"flex min-h-screen bg-white",children:[u.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-[#1d4e89] flex-col p-12 justify-between",children:[u.jsx("div",{className:"flex items-center gap-3"}),u.jsx("div",{className:"mb-24",children:u.jsxs("h1",{className:"text-white text-6xl font-bold leading-tight",children:["Winvale",u.jsx("br",{}),u.jsx("span",{className:"text-blue-300",children:"Automation Platform"})]})}),u.jsx("div",{className:"text-blue-200 text-sm"})]}),u.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-[#f8fafc]",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",children:u.jsx("img",{src:"logo.png",alt:"Winvale Logo"})}),u.jsx("span",{className:"text-2xl font-bold text-slate-900",children:"Winvale"})]}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"text-3xl text-center font-bold text-slate-900 mb-2",children:e}),u.jsx("p",{className:"text-slate-500 text-center",children:t})]}),u.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-xl shadow-slate-200/50 border border-slate-100",children:r})]})})]}),xK=/^[A-Za-z0-9]+(?:[A-Za-z0-9 .,'&()\-]*[A-Za-z0-9])?$/,iD=/^[A-Za-z]+(?:[ .'-][A-Za-z]+)*$/,gK=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,yK=/^\+?\d{1,14}$/,vK=/^[A-Za-z0-9]{1,7}$/,Cc={length:{test:e=>e.length>=8,label:"At least 8 characters"},lowercase:{test:e=>/[a-z]/.test(e),label:"At least 1 lowercase letter"},uppercase:{test:e=>/[A-Z]/.test(e),label:"At least 1 uppercase letter"},number:{test:e=>/\d/.test(e),label:"At least 1 number"},special:{test:e=>/[^A-Za-z0-9]/.test(e),label:"At least 1 special character"}},oD=e=>e?Object.values(Cc).find(r=>!r.test(e))?"Password does not meet requirements":null:"Password is required",lD=(e,t,r)=>e!==t?`${r} do not match`:null,il=(e,t)=>e==null||typeof e=="string"&&!e.trim()?`${t} is required`:null,cD=(e,t,r)=>{const n=(e==null?void 0:e.trim())||"";return n&&n.length<t?`${r} must be at least ${t} characters`:null},vn=(e,t,r)=>{const n=(e==null?void 0:e.trim())||"";return n&&n.length>t?`${r} must be under ${t} characters`:null},Cd=e=>{const t=(e==null?void 0:e.trim())||"";return t?gK.test(t)?vn(t,50,"Email"):"Please enter a valid email address":"Email is required"},kg=(e,t="Phone number")=>{const r=(e==null?void 0:e.trim())||"";return r?yK.test(r)?null:`${t} must be up to 14 digits and may start with +`:`${t} is required`},Rg=e=>{const t=(e==null?void 0:e.trim())||"";return t&&!vK.test(t)?"ZIP code must be alphanumeric and up to 7 characters":null},p0=(e,t=!1)=>{const r=(e==null?void 0:e.trim())||"",n=t?"Company name":"Name",s=t?xK:iD;return r?s.test(r)?vn(r,30,"Name"):t?"Company name can contain letters, numbers, spaces, and . , ' & ( ) - only":"Name can contain letters, spaces, and . ' - only":`${n} is required`},bK=(e,t="Name")=>{const r=(e==null?void 0:e.trim())||"";return r?iD.test(r)?vn(r,30,"Name"):`${t} can contain letters, spaces, and . ' - only`:null},wK=(e,t,r,n)=>e<t||e>r?`${n} must be between ${t} and ${r}`:null,d4=(e,t)=>!Number.isInteger(e)||e<0?`${t} must be a positive number`:null,EK=()=>{const{refreshUser:e}=Ka(),t=Lr(),[r,n]=Y.useState(""),[s,a]=Y.useState(""),[i,o]=Y.useState(!1),[c,f]=Y.useState(!1),[h,m]=Y.useState(null),[x,g]=Y.useState({}),v=Y.useRef(!1),y=()=>{const E={},N=Cd(r);N&&(E.email=N);const _=il(s,"Password");return _&&(E.password=_),g(E),Object.keys(E).length===0},w=async E=>{var N;if(E.preventDefault(),!(c||v.current)&&(m(null),!!y())){f(!0);try{const{nextStep:_}=await x2({username:r.trim(),password:s});if(_.signInStep==="CONFIRM_SIGN_UP"){t(`/verify-email?email=${encodeURIComponent(r.trim())}`,{state:{password:s}});return}v.current=!0;try{await e()}catch(S){const k=S.message||"";if(k.includes("UserNotConfirmedException")||k.includes("NotConfirmed")){t(`/verify-email?email=${encodeURIComponent(r.trim())}`,{state:{password:s}});return}m(S.message||"Login successful, but profile could not be loaded.")}}catch(_){if(_.name==="UserNotConfirmedException"){t(`/verify-email?email=${encodeURIComponent(r.trim())}`,{state:{password:s}});return}if((N=_==null?void 0:_.message)!=null&&N.includes("There is already a signed in user")){await g2();const{nextStep:S}=await x2({username:r.trim(),password:s});if(S.signInStep==="CONFIRM_SIGN_UP"){t(`/verify-email?email=${encodeURIComponent(r.trim())}`,{state:{password:s}});return}v.current=!0,await e();return}m((_==null?void 0:_.message)||"Failed to sign in. Please check your credentials.")}finally{f(!1)}}};return u.jsxs(Ag,{title:"Welcome back",subtitle:"Sign in to access your dashboard",children:[h&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm flex items-center justify-between",children:[u.jsx("div",{className:"flex-1",children:h}),u.jsx("button",{onClick:()=>m(null),className:"ml-3 text-red-500 hover:text-red-700 transition-colors p-1 rounded-md hover:bg-red-100","aria-label":"Dismiss error",children:u.jsx(fr,{className:"h-4 w-4"})})]}),u.jsxs("form",{onSubmit:w,className:"space-y-6",noValidate:!0,children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(pl,{className:"h-5 w-5 text-slate-400"})}),u.jsx("input",{type:"email",value:r,onChange:E=>{n(E.target.value),g(N=>({...N,email:void 0})),m(null)},className:"block w-full pl-11 pr-4 py-3 rounded-xl outline-none transition-all bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20",placeholder:"name@winvale.com"})]}),x.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(Cg,{className:"h-5 w-5 text-slate-400"})}),u.jsx("input",{type:i?"text":"password",value:s,onChange:E=>{a(E.target.value),g(N=>({...N,password:void 0})),m(null)},className:"block w-full pl-11 pr-11 py-3 rounded-xl outline-none transition-all bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20",placeholder:""}),u.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600",children:i?u.jsx(Zf,{className:"h-5 w-5"}):u.jsx(gi,{className:"h-5 w-5"})})]}),x.password&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.password})]}),u.jsx("div",{className:"flex items-center justify-end",children:u.jsx(wl,{to:"/forgot-password",className:"text-sm font-semibold text-blue-600 hover:text-blue-700",children:"Forgot password?"})}),u.jsx("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] disabled:opacity-70",children:c?u.jsx(Lt,{className:"h-5 w-5 animate-spin"}):"Sign in"})]}),u.jsxs("div",{className:"mt-8 text-center text-sm border-t border-slate-100 pt-6",children:["Don't have an account?"," ",u.jsx(wl,{to:"/signup",className:"font-semibold text-blue-600 hover:text-blue-700",children:"Sign up"})]})]})},_K=e=>{const t={};t.fullName=cD(e.fullName,3,"Full name")||vn(e.fullName,30,"Full Name")||p0(e.fullName)||void 0,t.email=Cd(e.email)||void 0,t.password=oD(e.password)||void 0,t.confirmPassword=il(e.confirmPassword,"Confirm password")||lD(e.password,e.confirmPassword,"Passwords")||void 0;const r=Object.fromEntries(Object.entries(t).filter(([n,s])=>s!==void 0));return{isValid:Object.keys(r).length===0,errors:r}},SK=({password:e})=>u.jsx("ul",{className:"mt-3 space-y-1 text-sm",children:Object.entries(Cc).map(([t,r])=>{const n=r.test(e);return u.jsxs("li",{className:`flex items-center gap-2 ${n?"text-green-600":"text-slate-400"}`,children:[u.jsx("span",{className:`inline-flex h-4 w-4 items-center justify-center rounded-full border text-xs ${n?"border-green-600 bg-green-600 text-white":"border-slate-300"}`,children:n?"":""}),r.label]},t)})}),NK=()=>{const e=Lr(),[t,r]=Y.useState({fullName:"",email:"",password:"",confirmPassword:""}),[n,s]=Y.useState(!1),[a,i]=Y.useState(!1),[o,c]=Y.useState(!1),[f,h]=Y.useState(null),[m,x]=Y.useState({}),g=N=>{x(_=>({..._,[N]:void 0}))},v=Object.values(Cc).some(N=>!N.test(t.password)),y=async N=>{N.preventDefault();const{isValid:_,errors:S}=_K(t);if(!_){x(S);return}c(!0),h(null);try{await yH({username:t.email.trim(),password:t.password,options:{userAttributes:{email:t.email.trim(),name:t.fullName.trim()}}}),e(`/verify-email?email=${encodeURIComponent(t.email.trim())}`,{state:{password:t.password}})}catch(k){k.name==="UsernameExistsException"?h("An account with this email already exists. Try signing in."):h(k.message||"Signup failed")}finally{c(!1)}};return u.jsxs(Ag,{title:"Sign up",subtitle:"Company employees only  use your @winvale.com email",children:[f&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm flex items-center justify-between",children:[u.jsx("div",{className:"flex-1",children:f}),u.jsx("button",{onClick:()=>h(null),className:"ml-3 text-red-500 hover:text-red-700 transition-colors p-1 rounded-md hover:bg-red-100","aria-label":"Dismiss error",children:u.jsx(fr,{className:"h-4 w-4"})})]}),u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full name"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(oo,{className:"h-5 w-5 text-slate-400"})}),u.jsx("input",{type:"text",value:t.fullName,onChange:N=>{g("fullName"),r({...t,fullName:N.target.value}),h(null)},className:"block w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"Your Name"})]}),m.fullName&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.fullName})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(pl,{className:"h-5 w-5 text-slate-400"})}),u.jsx("input",{type:"email",value:t.email,onChange:N=>{g("email"),r({...t,email:N.target.value}),h(null)},className:"block w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"name@winvale.com"})]}),m.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(Cg,{className:"h-5 w-5 text-slate-400"})}),u.jsx("input",{type:n?"text":"password",value:t.password,onChange:N=>{g("password"),r({...t,password:N.target.value}),h(null)},onFocus:()=>i(!0),onBlur:()=>i(!1),className:"block w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"Min. 8 characters"}),u.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600",children:n?u.jsx(Zf,{className:"h-5 w-5"}):u.jsx(gi,{className:"h-5 w-5"})})]}),u.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${a&&v&&t.password.length>0?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:u.jsx(SK,{password:t.password})}),m.password&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Confirm password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(sD,{className:"h-5 w-5 text-slate-400"})}),u.jsx("input",{type:n?"text":"password",value:t.confirmPassword,onChange:N=>{g("confirmPassword"),r({...t,confirmPassword:N.target.value}),h(null)},className:"block w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"Re-enter password"})]}),m.confirmPassword&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),u.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl disabled:opacity-70 transition-all active:scale-[0.98]",children:o?u.jsx(Lt,{className:"h-5 w-5 animate-spin"}):"Sign up"})]}),u.jsxs("div",{className:"mt-8 text-center text-sm border-t border-slate-100 pt-6",children:["Already have an account?"," ",u.jsx(wl,{to:"/login",className:"font-semibold text-blue-600 hover:text-blue-700",children:"Sign in"})]})]})},TK=()=>{const e=Aa(),t=Lr(),{refreshUser:r}=Ka(),[n,s]=Y.useState(""),[a,i]=Y.useState(""),[o,c]=Y.useState(""),[f,h]=Y.useState(!1),[m,x]=Y.useState(!1),[g,v]=Y.useState(null),[y,w]=Y.useState(null);Y.useEffect(()=>{var k;const S=new URLSearchParams(e.search).get("email");S?s(S):t("/login"),(k=e.state)!=null&&k.password&&i(e.state.password)},[e,t]);const E=async _=>{var S;if(_.preventDefault(),!o||o.length<6){v("Please enter a valid 6-digit code.");return}h(!0),v(null),w(null);try{if(await TH({username:n.trim(),confirmationCode:o.trim()}),a){w("Email verified! Logging you in...");try{await x2({username:n.trim(),password:a}),await r(),t("/dashboard");return}catch(k){console.error("Auto-login failed:",k),w("Email verified successfully! Please sign in."),setTimeout(()=>t("/login"),2e3)}}else w("Email verified successfully! Redirecting to login..."),setTimeout(()=>t("/login"),2e3)}catch(k){k.name==="NotAuthorizedException"||(S=k.message)!=null&&S.includes("Current status is CONFIRMED")?(v("This account is already verified. Please sign in."),setTimeout(()=>t("/login"),2e3)):v(k.message||"Verification failed. Please check the code and try again.")}finally{y||h(!1)}},N=async()=>{x(!0),v(null),w(null);try{await SH({username:n.trim()}),w("A new verification code has been sent to your email.")}catch(_){v(_.message||"Failed to resend code. Please try again later.")}finally{x(!1)}};return u.jsxs(Ag,{title:"Verify your email",subtitle:`Enter the code sent to ${n}`,children:[g&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm flex items-center justify-between",children:[u.jsx("div",{className:"flex-1",children:g}),u.jsx("button",{onClick:()=>v(null),className:"ml-3 text-red-500 hover:text-red-700 transition-colors p-1 rounded-md hover:bg-red-100","aria-label":"Dismiss error",children:u.jsx(fr,{className:"h-4 w-4"})})]}),y&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 text-green-700 text-sm flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(cs,{className:"h-4 w-4"}),y]}),u.jsx("button",{onClick:()=>w(null),className:"ml-3 text-green-500 hover:text-green-700 transition-colors p-1 rounded-md hover:bg-green-100","aria-label":"Dismiss success message",children:u.jsx(fr,{className:"h-4 w-4"})})]}),u.jsxs("form",{onSubmit:E,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Verification Code"}),u.jsx("input",{type:"text",required:!0,maxLength:6,className:"block w-full text-center text-3xl tracking-[0.5em] font-mono py-4 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"000000",value:o,onChange:_=>{c(_.target.value.replace(/[^0-9]/g,"")),v(null)}})]}),u.jsx("button",{type:"submit",disabled:f||m,className:"w-full py-3 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] disabled:opacity-70 flex items-center justify-center gap-2",children:f?u.jsx(Lt,{className:"h-5 w-5 animate-spin"}):"Verify Email"}),u.jsx("div",{className:"text-center",children:u.jsx("button",{type:"button",onClick:N,disabled:f||m,className:"text-sm font-semibold text-blue-600 hover:text-blue-700 disabled:opacity-50",children:m?"Sending...":"Resend verification code"})}),u.jsxs(wl,{to:"/login",className:"w-full text-slate-500 text-sm flex items-center justify-center gap-2",children:[u.jsx(eD,{className:"h-4 w-4"})," Back to login"]})]})]})},CK=()=>{const e=Lr(),[t,r]=Y.useState("request"),[n,s]=Y.useState(""),[a,i]=Y.useState(""),[o,c]=Y.useState(""),[f,h]=Y.useState(!1),[m,x]=Y.useState(!1),[g,v]=Y.useState(null),[y,w]=Y.useState(null),[E,N]=Y.useState({}),_=Object.values(Cc).some(Z=>!Z.test(o)),S=()=>{const Z={},ae=Cd(n);return ae&&(Z.email=ae),N(Z),Object.keys(Z).length===0},k=()=>{const Z={};return a.trim()||(Z.otp="Recovery code is required"),o.trim()?_&&(Z.newPassword="Password does not meet requirements"):Z.newPassword="New password is required",N(Z),Object.keys(Z).length===0},L=async Z=>{if(Z.preventDefault(),v(null),!!S()){x(!0);try{await bH({username:n.trim()})}catch(ae){console.log("Reset request handled:",(ae==null?void 0:ae.name)||"Success")}finally{w("If an account exists for this email, a recovery code has been sent."),r("confirm"),x(!1)}}},R=async Z=>{if(Z.preventDefault(),v(null),!!k()){x(!0);try{await EH({username:n.trim(),confirmationCode:a.trim(),newPassword:o}),e("/login")}catch(ae){v((ae==null?void 0:ae.message)||"Reset failed")}finally{x(!1)}}},H=t==="request"?"Reset password":"Set new password",O=t==="request"?"We will send a recovery code to your email":"Enter the code and choose a new password";return u.jsxs(Ag,{title:H,subtitle:O,children:[g&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm flex items-center justify-between",children:[u.jsx("div",{className:"flex-1",children:g}),u.jsx("button",{onClick:()=>v(null),className:"ml-3 text-red-500 hover:text-red-700 transition-colors p-1 rounded-md hover:bg-red-100","aria-label":"Dismiss error",children:u.jsx(fr,{className:"h-4 w-4"})})]}),y&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 text-green-700 text-sm flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(cs,{className:"h-4 w-4"}),y]}),u.jsx("button",{onClick:()=>w(null),className:"ml-3 text-green-500 hover:text-green-700 transition-colors p-1 rounded-md hover:bg-green-100","aria-label":"Dismiss success message",children:u.jsx(fr,{className:"h-4 w-4"})})]}),t==="request"?u.jsxs("form",{onSubmit:L,className:"space-y-6",noValidate:!0,children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(pl,{className:"h-5 w-5 text-slate-400"})}),u.jsx("input",{type:"email",value:n,onChange:Z=>{s(Z.target.value),N(ae=>({...ae,email:void 0})),v(null)},className:"block w-full pl-11 pr-4 py-3 rounded-xl outline-none transition-all bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20",placeholder:"name@winvale.com"})]}),E.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.email})]}),u.jsxs("button",{type:"submit",disabled:m,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] disabled:opacity-70",children:[m?u.jsx(Lt,{className:"h-5 w-5 animate-spin"}):"Send Code",!m&&u.jsx(Nh,{className:"h-5 w-5"})]})]}):u.jsxs("form",{onSubmit:R,className:"space-y-6",noValidate:!0,children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Recovery Code"}),u.jsx("input",{type:"text",maxLength:6,value:a,onChange:Z=>{i(Z.target.value),N(ae=>({...ae,otp:void 0})),v(null)},className:`block w-full text-center text-2xl tracking-[0.5em] font-mono py-4 rounded-xl outline-none transition-all
              bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20`,placeholder:"000000"}),E.otp&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.otp})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(Cg,{className:"h-5 w-5 text-slate-400"})}),u.jsx("input",{type:"password",value:o,onChange:Z=>{c(Z.target.value),N(ae=>({...ae,newPassword:void 0})),v(null)},onFocus:()=>h(!0),onBlur:()=>h(!1),className:`block w-full pl-11 pr-4 py-3 rounded-xl outline-none transition-all
                  bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20`,placeholder:"Min. 8 characters"})]}),E.newPassword&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.newPassword}),u.jsx("div",{className:`overflow-hidden transition-all duration-300 ${f&&o.length>0&&_?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:u.jsx("ul",{className:"mt-3 space-y-1 text-sm",children:Object.entries(Cc).map(([Z,ae])=>{const P=ae.test(o);return u.jsxs("li",{className:`flex items-center gap-2 ${P?"text-green-600":"text-slate-400"}`,children:[u.jsx("span",{className:`inline-flex h-4 w-4 items-center justify-center rounded-full border text-xs ${P?"border-green-600 bg-green-600 text-white":"border-slate-300"}`,children:P?"":""}),ae.label]},Z)})})})]}),u.jsxs("button",{type:"submit",disabled:m,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] disabled:opacity-70",children:[m?u.jsx(Lt,{className:"h-5 w-5 animate-spin"}):"Update Password",!m&&u.jsx(Nh,{className:"h-5 w-5"})]})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:u.jsxs(wl,{to:"/login",className:"inline-flex items-center text-sm font-semibold text-blue-600 hover:text-blue-700",children:[u.jsx(eD,{className:"h-4 w-4 mr-2"})," Back to sign in"]})})]})};function AK(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const kK=e=>{switch(e){case"success":return OK;case"info":return IK;case"warning":return DK;case"error":return MK;default:return null}},RK=Array(12).fill(0),jK=({visible:e,className:t})=>qe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},qe.createElement("div",{className:"sonner-spinner"},RK.map((r,n)=>qe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OK=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DK=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),IK=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),MK=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FK=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},qe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),qe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PK=()=>{const[e,t]=qe.useState(document.hidden);return qe.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let A2=1;class LK{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:A2++,i=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:o,title:n}):c):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,i;const o=s.then(async f=>{if(i=["resolve",f],qe.isValidElement(f))a=!1,this.create({id:n,type:"default",message:f});else if(UK(f)&&!f.ok){a=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,v=typeof m=="object"&&!qe.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...v})}else if(f instanceof Error){a=!1;const m=typeof r.error=="function"?await r.error(f):r.error,x=typeof r.description=="function"?await r.description(f):r.description,v=typeof m=="object"&&!qe.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...v})}else if(r.success!==void 0){a=!1;const m=typeof r.success=="function"?await r.success(f):r.success,x=typeof r.description=="function"?await r.description(f):r.description,v=typeof m=="object"&&!qe.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:x,...v})}}).catch(async f=>{if(i=["reject",f],r.error!==void 0){a=!1;const h=typeof r.error=="function"?await r.error(f):r.error,m=typeof r.description=="function"?await r.description(f):r.description,g=typeof h=="object"&&!qe.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...g})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((f,h)=>o.then(()=>i[0]==="reject"?h(i[1]):f(i[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||A2++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ws=new LK,BK=(e,t)=>{const r=(t==null?void 0:t.id)||A2++;return ws.addToast({title:e,...t,id:r}),r},UK=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zK=BK,HK=()=>ws.toasts,qK=()=>ws.getActiveToasts(),gt=Object.assign(zK,{success:ws.success,info:ws.info,warning:ws.warning,error:ws.error,custom:ws.custom,message:ws.message,promise:ws.promise,dismiss:ws.dismiss,loading:ws.loading},{getHistory:HK,getToasts:qK});AK("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Jp(e){return e.label!==void 0}const VK=3,$K="24px",WK="16px",f4=4e3,GK=356,KK=14,XK=45,YK=200;function ii(...e){return e.filter(Boolean).join(" ")}function JK(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const ZK=e=>{var t,r,n,s,a,i,o,c,f;const{invert:h,toast:m,unstyled:x,interacting:g,setHeights:v,visibleToasts:y,heights:w,index:E,toasts:N,expanded:_,removeToast:S,defaultRichColors:k,closeButton:L,style:R,cancelButtonStyle:H,actionButtonStyle:O,className:Z="",descriptionClassName:ae="",duration:P,position:X,gap:M,expandByDefault:ie,classNames:J,icons:ee,closeButtonAriaLabel:xe="Close toast"}=e,[oe,we]=qe.useState(null),[G,D]=qe.useState(null),[W,K]=qe.useState(!1),[re,se]=qe.useState(!1),[I,F]=qe.useState(!1),[ne,te]=qe.useState(!1),[Q,z]=qe.useState(!1),[be,B]=qe.useState(0),[Ee,q]=qe.useState(0),C=qe.useRef(m.duration||P||f4),j=qe.useRef(null),U=qe.useRef(null),ue=E===0,ye=E+1<=y,he=m.type,ke=m.dismissible!==!1,De=m.className||"",Pe=m.descriptionClassName||"",We=qe.useMemo(()=>w.findIndex(pt=>pt.toastId===m.id)||0,[w,m.id]),et=qe.useMemo(()=>{var pt;return(pt=m.closeButton)!=null?pt:L},[m.closeButton,L]),tt=qe.useMemo(()=>m.duration||P||f4,[m.duration,P]),Ht=qe.useRef(0),lt=qe.useRef(0),jt=qe.useRef(0),sr=qe.useRef(null),[ht,Jt]=X.split("-"),un=qe.useMemo(()=>w.reduce((pt,or,qr)=>qr>=We?pt:pt+or.height,0),[w,We]),Zt=PK(),Eo=m.invert||h,Ya=he==="loading";lt.current=qe.useMemo(()=>We*M+un,[We,un]),qe.useEffect(()=>{C.current=tt},[tt]),qe.useEffect(()=>{K(!0)},[]),qe.useEffect(()=>{const pt=U.current;if(pt){const or=pt.getBoundingClientRect().height;return q(or),v(qr=>[{toastId:m.id,height:or,position:m.position},...qr]),()=>v(qr=>qr.filter(dn=>dn.toastId!==m.id))}},[v,m.id]),qe.useLayoutEffect(()=>{if(!W)return;const pt=U.current,or=pt.style.height;pt.style.height="auto";const qr=pt.getBoundingClientRect().height;pt.style.height=or,q(qr),v(dn=>dn.find(hr=>hr.toastId===m.id)?dn.map(hr=>hr.toastId===m.id?{...hr,height:qr}:hr):[{toastId:m.id,height:qr,position:m.position},...dn])},[W,m.title,m.description,v,m.id,m.jsx,m.action,m.cancel]);const Zn=qe.useCallback(()=>{se(!0),B(lt.current),v(pt=>pt.filter(or=>or.toastId!==m.id)),setTimeout(()=>{S(m)},YK)},[m,S,v,lt]);qe.useEffect(()=>{if(m.promise&&he==="loading"||m.duration===1/0||m.type==="loading")return;let pt;return _||g||Zt?(()=>{if(jt.current<Ht.current){const dn=new Date().getTime()-Ht.current;C.current=C.current-dn}jt.current=new Date().getTime()})():(()=>{C.current!==1/0&&(Ht.current=new Date().getTime(),pt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Zn()},C.current))})(),()=>clearTimeout(pt)},[_,g,m,he,Zt,Zn]),qe.useEffect(()=>{m.delete&&(Zn(),m.onDismiss==null||m.onDismiss.call(m,m))},[Zn,m.delete]);function Ra(){var pt;if(ee!=null&&ee.loading){var or;return qe.createElement("div",{className:ii(J==null?void 0:J.loader,m==null||(or=m.classNames)==null?void 0:or.loader,"sonner-loader"),"data-visible":he==="loading"},ee.loading)}return qe.createElement(jK,{className:ii(J==null?void 0:J.loader,m==null||(pt=m.classNames)==null?void 0:pt.loader),visible:he==="loading"})}const ja=m.icon||(ee==null?void 0:ee[he])||kK(he);var Qn,Hr;return qe.createElement("li",{tabIndex:0,ref:U,className:ii(Z,De,J==null?void 0:J.toast,m==null||(t=m.classNames)==null?void 0:t.toast,J==null?void 0:J.default,J==null?void 0:J[he],m==null||(r=m.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(Qn=m.richColors)!=null?Qn:k,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":Q,"data-removed":re,"data-visible":ye,"data-y-position":ht,"data-x-position":Jt,"data-index":E,"data-front":ue,"data-swiping":I,"data-dismissible":ke,"data-type":he,"data-invert":Eo,"data-swipe-out":ne,"data-swipe-direction":G,"data-expanded":!!(_||ie&&W),"data-testid":m.testId,style:{"--index":E,"--toasts-before":E,"--z-index":N.length-E,"--offset":`${re?be:lt.current}px`,"--initial-height":ie?"auto":`${Ee}px`,...R,...m.style},onDragEnd:()=>{F(!1),we(null),sr.current=null},onPointerDown:pt=>{pt.button!==2&&(Ya||!ke||(j.current=new Date,B(lt.current),pt.target.setPointerCapture(pt.pointerId),pt.target.tagName!=="BUTTON"&&(F(!0),sr.current={x:pt.clientX,y:pt.clientY})))},onPointerUp:()=>{var pt,or,qr;if(ne||!ke)return;sr.current=null;const dn=Number(((pt=U.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ja=Number(((or=U.current)==null?void 0:or.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hr=new Date().getTime()-((qr=j.current)==null?void 0:qr.getTime()),Pn=oe==="x"?dn:Ja,Ti=Math.abs(Pn)/hr;if(Math.abs(Pn)>=XK||Ti>.11){B(lt.current),m.onDismiss==null||m.onDismiss.call(m,m),D(oe==="x"?dn>0?"right":"left":Ja>0?"down":"up"),Zn(),te(!0);return}else{var fn,Ln;(fn=U.current)==null||fn.style.setProperty("--swipe-amount-x","0px"),(Ln=U.current)==null||Ln.style.setProperty("--swipe-amount-y","0px")}z(!1),F(!1),we(null)},onPointerMove:pt=>{var or,qr,dn;if(!sr.current||!ke||((or=window.getSelection())==null?void 0:or.toString().length)>0)return;const hr=pt.clientY-sr.current.y,Pn=pt.clientX-sr.current.x;var Ti;const fn=(Ti=e.swipeDirections)!=null?Ti:JK(X);!oe&&(Math.abs(Pn)>1||Math.abs(hr)>1)&&we(Math.abs(Pn)>Math.abs(hr)?"x":"y");let Ln={x:0,y:0};const _o=js=>1/(1.5+Math.abs(js)/20);if(oe==="y"){if(fn.includes("top")||fn.includes("bottom"))if(fn.includes("top")&&hr<0||fn.includes("bottom")&&hr>0)Ln.y=hr;else{const js=hr*_o(hr);Ln.y=Math.abs(js)<Math.abs(hr)?js:hr}}else if(oe==="x"&&(fn.includes("left")||fn.includes("right")))if(fn.includes("left")&&Pn<0||fn.includes("right")&&Pn>0)Ln.x=Pn;else{const js=Pn*_o(Pn);Ln.x=Math.abs(js)<Math.abs(Pn)?js:Pn}(Math.abs(Ln.x)>0||Math.abs(Ln.y)>0)&&z(!0),(qr=U.current)==null||qr.style.setProperty("--swipe-amount-x",`${Ln.x}px`),(dn=U.current)==null||dn.style.setProperty("--swipe-amount-y",`${Ln.y}px`)}},et&&!m.jsx&&he!=="loading"?qe.createElement("button",{"aria-label":xe,"data-disabled":Ya,"data-close-button":!0,onClick:Ya||!ke?()=>{}:()=>{Zn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ii(J==null?void 0:J.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(Hr=ee==null?void 0:ee.close)!=null?Hr:FK):null,(he||m.icon||m.promise)&&m.icon!==null&&((ee==null?void 0:ee[he])!==null||m.icon)?qe.createElement("div",{"data-icon":"",className:ii(J==null?void 0:J.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ra():null,m.type!=="loading"?ja:null):null,qe.createElement("div",{"data-content":"",className:ii(J==null?void 0:J.content,m==null||(a=m.classNames)==null?void 0:a.content)},qe.createElement("div",{"data-title":"",className:ii(J==null?void 0:J.title,m==null||(i=m.classNames)==null?void 0:i.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?qe.createElement("div",{"data-description":"",className:ii(ae,Pe,J==null?void 0:J.description,m==null||(o=m.classNames)==null?void 0:o.description)},typeof m.description=="function"?m.description():m.description):null),qe.isValidElement(m.cancel)?m.cancel:m.cancel&&Jp(m.cancel)?qe.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||H,onClick:pt=>{Jp(m.cancel)&&ke&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,pt),Zn())},className:ii(J==null?void 0:J.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,qe.isValidElement(m.action)?m.action:m.action&&Jp(m.action)?qe.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:pt=>{Jp(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,pt),!pt.defaultPrevented&&Zn())},className:ii(J==null?void 0:J.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function h4(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function QK(e,t){const r={};return[e,t].forEach((n,s)=>{const a=s===1,i=a?"--mobile-offset":"--offset",o=a?WK:$K;function c(f){["top","right","bottom","left"].forEach(h=>{r[`${i}-${h}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${i}-${f}`]=o:r[`${i}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):c(o)}),r}const eX=qe.forwardRef(function(t,r){const{id:n,invert:s,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:c,className:f,offset:h,mobileOffset:m,theme:x="light",richColors:g,duration:v,style:y,visibleToasts:w=VK,toastOptions:E,dir:N=h4(),gap:_=KK,icons:S,containerAriaLabel:k="Notifications"}=t,[L,R]=qe.useState([]),H=qe.useMemo(()=>n?L.filter(W=>W.toasterId===n):L.filter(W=>!W.toasterId),[L,n]),O=qe.useMemo(()=>Array.from(new Set([a].concat(H.filter(W=>W.position).map(W=>W.position)))),[H,a]),[Z,ae]=qe.useState([]),[P,X]=qe.useState(!1),[M,ie]=qe.useState(!1),[J,ee]=qe.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),xe=qe.useRef(null),oe=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),we=qe.useRef(null),G=qe.useRef(!1),D=qe.useCallback(W=>{R(K=>{var re;return(re=K.find(se=>se.id===W.id))!=null&&re.delete||ws.dismiss(W.id),K.filter(({id:se})=>se!==W.id)})},[]);return qe.useEffect(()=>ws.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{R(K=>K.map(re=>re.id===W.id?{...re,delete:!0}:re))});return}setTimeout(()=>{ZO.flushSync(()=>{R(K=>{const re=K.findIndex(se=>se.id===W.id);return re!==-1?[...K.slice(0,re),{...K[re],...W},...K.slice(re+1)]:[W,...K]})})})}),[L]),qe.useEffect(()=>{if(x!=="system"){ee(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:K})=>{ee(K?"dark":"light")})}catch{W.addListener(({matches:re})=>{try{ee(re?"dark":"light")}catch(se){console.error(se)}})}},[x]),qe.useEffect(()=>{L.length<=1&&X(!1)},[L]),qe.useEffect(()=>{const W=K=>{var re;if(i.every(F=>K[F]||K.code===F)){var I;X(!0),(I=xe.current)==null||I.focus()}K.code==="Escape"&&(document.activeElement===xe.current||(re=xe.current)!=null&&re.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[i]),qe.useEffect(()=>{if(xe.current)return()=>{we.current&&(we.current.focus({preventScroll:!0}),we.current=null,G.current=!1)}},[xe.current]),qe.createElement("section",{ref:r,"aria-label":`${k} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((W,K)=>{var re;const[se,I]=W.split("-");return H.length?qe.createElement("ol",{key:W,dir:N==="auto"?h4():N,tabIndex:-1,ref:xe,className:f,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":se,"data-x-position":I,style:{"--front-toast-height":`${((re=Z[0])==null?void 0:re.height)||0}px`,"--width":`${GK}px`,"--gap":`${_}px`,...y,...QK(h,m)},onBlur:F=>{G.current&&!F.currentTarget.contains(F.relatedTarget)&&(G.current=!1,we.current&&(we.current.focus({preventScroll:!0}),we.current=null))},onFocus:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||G.current||(G.current=!0,we.current=F.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{M||X(!1)},onDragEnd:()=>X(!1),onPointerDown:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},H.filter(F=>!F.position&&K===0||F.position===W).map((F,ne)=>{var te,Q;return qe.createElement(ZK,{key:F.id,icons:S,index:ne,toast:F,defaultRichColors:g,duration:(te=E==null?void 0:E.duration)!=null?te:v,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:s,visibleToasts:w,closeButton:(Q=E==null?void 0:E.closeButton)!=null?Q:c,interacting:M,position:W,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,closeButtonAriaLabel:E==null?void 0:E.closeButtonAriaLabel,removeToast:D,toasts:H.filter(z=>z.position==F.position),heights:Z.filter(z=>z.position==F.position),setHeights:ae,expandByDefault:o,gap:_,expanded:P,swipeDirections:t.swipeDirections})})):null}))}),tX=()=>u.jsxs("div",{className:"mb-10",children:[u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Settings"}),u.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Manage your profile and security"})]}),rX={admin:"Administrator",user:"Consultant"},p4="w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-[#3498db] transition-all bg-slate-50/50 text-slate-700",m4="w-full px-4 py-2.5 rounded-xl border border-slate-100 bg-slate-100/50 text-slate-500 cursor-not-allowed",nX=({user:e,onSave:t,loading:r})=>{var y;const[n,s]=Y.useState((e==null?void 0:e.name)||""),[a,i]=Y.useState(e!=null&&e.phone_no&&e.phone_no!=="NA"?e.phone_no:""),[o,c]=Y.useState(""),[f,h]=Y.useState(""),[m,x]=Y.useState(""),g=async()=>{const w=n.trim(),E=a.trim();c(""),x(""),h("");const N=cD(n,3,"Full name")||vn(n,30,"Full name")||p0(n)||void 0;if(N){c(N);return}if(E){const _=kg(E);if(_){x(_);return}}if(w===(e==null?void 0:e.name)&&(E||null)===((e==null?void 0:e.phone_no)||null)){h("No changes to save");return}await t({fullName:w,phone:E===""?null:E})},v=w=>{i(w.target.value),x(""),h("")};return u.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100/80 overflow-hidden",children:u.jsxs("div",{className:"p-8 space-y-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8",children:[u.jsx("div",{className:"w-28 h-28 rounded-3xl bg-[#3498db]/10 flex items-center justify-center text-4xl font-bold text-[#3498db] border-4 border-white shadow-xl",children:((y=e==null?void 0:e.name)==null?void 0:y.charAt(0))||"U"}),u.jsxs("div",{className:"text-center sm:text-left",children:[u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:e==null?void 0:e.name}),u.jsxs("div",{className:"inline-flex items-center gap-2 mt-2 px-3 py-1 bg-slate-100 rounded-full",children:[u.jsx(QE,{className:"w-3.5 h-3.5 text-[#3498db]"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-600",children:rX[e==null?void 0:e.role]||"User"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Full Name"}),u.jsx("input",{className:`${p4} ${o?"border-red-500":""}`,value:n,onChange:w=>{s(w.target.value),c(""),h("")}}),o&&u.jsx("p",{className:"text-sm text-red-600 mt-1 ml-1",children:o})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Email"}),u.jsx("input",{type:"email",autoComplete:"email",name:"email",className:m4,value:(e==null?void 0:e.email)||"",disabled:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Phone Number"}),u.jsx("input",{type:"tel",autoComplete:"tel",name:"phone",className:`${p4} ${m?"border-red-500":""}`,value:a,onChange:v,placeholder:"+1234567890"}),m&&u.jsx("p",{className:"text-sm text-red-600 mt-1 ml-1",children:m})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Status"}),u.jsx("input",{className:m4,value:e!=null&&e.is_active?"Active":"Inactive",disabled:!0})]})]}),f&&u.jsx("div",{className:"w-full bg-red-50 p-4 border-l-4 border-red-600",children:u.jsx("p",{className:"text-sm text-red-600",children:f})}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsxs("button",{onClick:g,disabled:r,className:"btn-primary flex items-center gap-2",children:[u.jsx(qG,{className:"w-4 h-4"}),"Save Changes"]})})]})})},Rv="w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-[#3498db] transition-all bg-slate-50/50 text-slate-700",sX=({onUpdate:e,loading:t})=>{const[r,n]=Y.useState(!1),[s,a]=Y.useState(""),[i,o]=Y.useState(""),[c,f]=Y.useState(""),[h,m]=Y.useState(!1),[x,g]=Y.useState(!1),[v,y]=Y.useState(!1),[w,E]=Y.useState(!1),[N,_]=Y.useState(""),[S,k]=Y.useState(""),[L,R]=Y.useState(""),H=Object.values(Cc).some(P=>!P.test(i)),O=()=>{_(""),k(""),R("")},Z=async()=>{if(O(),!s){_("Current password is required");return}const P=oD(i);if(P){k(P);return}const X=lD(i,c,"Passwords");if(X){R(X);return}if(!await e(s,i,c)){_("Current password is incorrect");return}ae()},ae=()=>{n(!1),a(""),o(""),f(""),m(!1),g(!1),y(!1),E(!1),O()};return u.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100/80 overflow-hidden",children:r?u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Update Password"}),u.jsx("button",{onClick:ae,children:u.jsx(fr,{className:"w-5 h-5 text-slate-400"})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:h?"text":"password",className:`${Rv} ${N?"border-red-500":""} pr-10`,autoComplete:"current-password",placeholder:"Current password",value:s,onChange:P=>{a(P.target.value),_("")}}),u.jsx("button",{type:"button",onClick:()=>m(P=>!P),className:"absolute inset-y-0 right-3 flex items-center text-slate-400",children:h?u.jsx(Zf,{size:16}):u.jsx(gi,{size:16})})]}),N&&u.jsx("p",{className:"text-xs text-red-600 mt-1 ml-1",children:N})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:x?"text":"password",className:`${Rv} ${S?"border-red-500":""} pr-10`,autoComplete:"new-password",placeholder:"New password",value:i,onChange:P=>{o(P.target.value),k("")},onFocus:()=>E(!0),onBlur:()=>E(!1)}),u.jsx("button",{type:"button",onClick:()=>g(P=>!P),className:"absolute inset-y-0 right-3 flex items-center text-slate-400",children:x?u.jsx(Zf,{size:16}):u.jsx(gi,{size:16})})]}),S&&u.jsx("p",{className:"text-xs text-red-600 mt-1 ml-1",children:S}),u.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${w&&i.length>0&&H?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:u.jsx("ul",{className:"mt-3 space-y-1 text-sm",children:Object.entries(Cc).map(([P,X])=>{const M=X.test(i);return u.jsxs("li",{className:`flex items-center gap-2 ${M?"text-green-600":"text-slate-400"}`,children:[u.jsx("span",{className:`inline-flex h-4 w-4 items-center justify-center rounded-full border text-xs ${M?"border-green-600 bg-green-600 text-white":"border-slate-300"}`,children:M?"":""}),X.label]},P)})})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:v?"text":"password",className:`${Rv} ${L?"border-red-500":""} pr-10`,autoComplete:"new-password",placeholder:"Confirm new password",value:c,onChange:P=>{f(P.target.value),R("")}}),u.jsx("button",{type:"button",onClick:()=>y(P=>!P),className:"absolute inset-y-0 right-3 flex items-center text-slate-400",children:v?u.jsx(Zf,{size:16}):u.jsx(gi,{size:16})})]}),L&&u.jsx("p",{className:"text-xs text-red-600 mt-1 ml-1",children:L})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:Z,disabled:t,className:"btn-primary",children:"Update Password"}),u.jsx("button",{onClick:ae,className:"px-6 py-2.5 font-bold text-slate-500",children:"Cancel"})]})]}):u.jsxs("div",{className:"p-8 flex items-center justify-between cursor-pointer",onClick:()=>n(!0),children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Cg,{className:"w-6 h-6 text-slate-500"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Password"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Change your account password"})]})]}),u.jsx(gr,{className:"w-4 h-4 text-[#3498db]"})]})})};function aX(){const{user:e,refreshUser:t}=Ka(),[r,n]=Y.useState(!1),s=async i=>{try{n(!0),await RH({userAttributes:{name:i.fullName}}),await vt.put("/users",{name:i.fullName,phone_no:i.phone}),await t(),gt.success("Profile updated successfully")}catch(o){console.error(o),gt.error("Failed to update profile")}finally{n(!1)}},a=async(i,o,c)=>{var f;try{return n(!0),await AH({oldPassword:i,newPassword:o}),gt.success("Password updated successfully"),!0}catch(h){return console.error(h),(h==null?void 0:h.name)==="NotAuthorizedException"||(f=h==null?void 0:h.message)!=null&&f.toLowerCase().includes("incorrect")||gt.error(h.message||"Password update failed"),!1}finally{n(!1)}};return u.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-6 lg:p-10 space-y-10",children:[u.jsx(tX,{}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(nX,{user:e,onSave:s,loading:r}),u.jsx(sX,{onUpdate:a,loading:r})]})]})}const iX=()=>{const e=Aa();return Y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},oX=()=>{const{refreshUser:e,logout:t}=Ka();return Y.useEffect(()=>{const r=setInterval(()=>{e().catch(()=>{})},2e4);return()=>clearInterval(r)},[e]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5f6f7] px-4",children:u.jsxs("div",{className:"w-full max-w-md bg-white border border-slate-200 rounded-md p-10 text-center",children:[u.jsx("div",{className:"flex justify-center mb-8",children:u.jsx("img",{src:"/logo.png",alt:"Winvale",className:"h-9 object-contain"})}),u.jsxs("p",{className:"text-base text-slate-800 leading-relaxed",children:[u.jsx("span",{className:"font-semibold",children:"Your account has been created and is awaiting approval."}),u.jsx("br",{}),u.jsx("br",{}),"Access to the system will be enabled once your request has been reviewed and approved by the"," ",u.jsx("span",{className:"font-semibold",children:"Winvale Administration team"}),"."]}),u.jsx("div",{className:"mt-10",children:u.jsx("button",{onClick:t,className:"w-full btn-primary",children:"Done"})})]})})},jv=({isAuthenticated:e,allowedRoles:t})=>{const{user:r,status:n,isActive:s}=Ka();return n==="loading"||e&&!r?null:e?s?t&&!t.includes(r.role)?u.jsx(tl,{to:"/dashboard",replace:!0}):u.jsx(Sg,{}):u.jsx(tl,{to:"/pending-approval",replace:!0}):u.jsx(tl,{to:"/login",replace:!0})},xn={ADMIN:"admin",USER:"user"},x4=[{label:"Overview",items:[{to:"/dashboard",icon:cG,label:"Dashboard",roles:[xn.ADMIN,xn.USER]}]},{label:"Analysis",items:[{to:"/pricelist-analysis",icon:zW,label:"Pricelist Analysis",roles:[xn.ADMIN,xn.USER]},{to:"/analyses",icon:eG,label:"Analysis History",roles:[xn.ADMIN,xn.USER]}]},{label:"Workspace",items:[{to:"/client-contracts",icon:On,label:"Client Contracts",roles:[xn.ADMIN,xn.USER]},{to:"/gsa-products",icon:SG,label:"GSA Products",roles:[xn.ADMIN,xn.USER]}]},{label:"Administrative",items:[{to:"/user-activation",icon:ax,label:"User Management",roles:[xn.ADMIN]},{to:"/client-activation",icon:LW,label:"Client Management",roles:[xn.ADMIN]}]},{label:"System",items:[{to:"/settings",icon:nD,label:"Settings",roles:[xn.ADMIN,xn.USER]}]}];function lX(){var y;const{user:e,logout:t}=Ka(),r=Aa(),[n,s]=Y.useState(!1),[a,i]=Y.useState(!1),[o,c]=Y.useState({Overview:!0,Analysis:!0,Workspace:!0,Administrative:!0,System:!1}),f=Lr(),h=(e==null?void 0:e.role)===xn.ADMIN,m={admin:"Administrator",user:"Consultant"};Y.useEffect(()=>{document.body.style.overflow=n?"hidden":"unset"},[n]);const x=w=>{h&&c(E=>({...E,[w]:!E[w]}))};Y.useEffect(()=>{const w=r.pathname;x4.forEach(E=>{E.items.some(_=>w.startsWith(_.to))&&c(_=>({..._,[E.label]:!0}))})},[r.pathname]);const g=()=>i(!0),v=async()=>{await t(),i(!1),s(!1)};return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"md:hidden sticky top-0 left-0 right-0 h-16 flex items-center justify-between px-4 z-40",children:u.jsx("button",{onClick:()=>s(!0),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:u.jsx(wG,{className:"w-6 h-6 text-slate-600"})})}),u.jsx("div",{className:`fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-40 transition-opacity duration-300 md:hidden ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>s(!1)}),u.jsxs("aside",{className:`
          fixed md:sticky top-0 inset-y-0 left-0 z-50
          w-72 md:w-64 bg-[#f8fafc] border-r border-slate-200
          flex flex-col h-screen
          transform transition-transform duration-300 ease-in-out
          ${n?"translate-x-0":"-translate-x-full"}
          md:translate-x-0
        `,children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[u.jsxs("div",{onClick:()=>{f("/dashboard"),s(!1)},className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("img",{src:"logo.png",alt:"Logo",className:"w-8 h-8 object-contain"}),u.jsx("span",{className:"text-2xl font-bold text-[#1e293b] tracking-tight",children:"Winvale"})]}),u.jsx("button",{onClick:()=>s(!1),className:"md:hidden p-2 hover:bg-slate-200/50 rounded-lg transition-colors",children:u.jsx(fr,{className:"w-5 h-5 text-slate-500"})})]}),u.jsx("nav",{className:"flex-1 overflow-y-auto custom-scrollbar py-4",children:x4.map(w=>{const E=w.items.filter(_=>e&&_.roles.includes(e.role));if(E.length===0)return null;const N=!h||o[w.label];return u.jsxs("div",{className:"mb-4",children:[u.jsxs("button",{disabled:!h,onClick:()=>x(w.label),className:`w-full flex items-center justify-between px-6 mb-1 text-[10px] font-bold uppercase tracking-widest transition-colors ${h?"hover:text-slate-900 cursor-pointer text-slate-400":"text-slate-400"}`,children:[u.jsx("span",{children:w.label}),h&&(N?u.jsx(ZE,{size:12}):u.jsx(gr,{size:12}))]}),u.jsx("div",{className:`space-y-0.5 overflow-hidden transition-all duration-300 ${N?"max-h-125 opacity-100":"max-h-0 opacity-0"}`,children:E.map(_=>u.jsx(XO,{to:_.to,onClick:()=>s(!1),className:({isActive:S})=>`group flex items-center gap-3.5 px-6 py-2 transition-all duration-200 relative ${S?"text-[#24578f] font-semibold bg-[#e0e4eb]":"text-slate-500 hover:text-slate-900 hover:bg-slate-100/50"}`,children:({isActive:S})=>u.jsxs(u.Fragment,{children:[S&&u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#24578f] rounded-r-full"}),u.jsx(_.icon,{className:`w-5 h-5 ${S?"text-[#24578f]":"text-slate-400 group-hover:text-slate-600"}`,strokeWidth:S?2.5:2}),u.jsx("span",{children:_.label})]})},_.to))})]},w.label)})}),u.jsxs("div",{className:"p-4 bg-slate-50/50 border-t border-slate-200",children:[u.jsxs(wl,{to:"/settings",className:"flex items-center gap-3 p-2.5 rounded-xl bg-white border border-slate-200 shadow-sm mb-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-[#c3d7e7] to-[#a3c1da] flex items-center justify-center shrink-0",children:u.jsx("span",{className:"text-sm font-bold text-[#1e293b]",children:((y=e==null?void 0:e.name)==null?void 0:y.charAt(0).toUpperCase())||"U"})}),u.jsxs("div",{className:"min-w-0 overflow-hidden",children:[u.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:(e==null?void 0:e.name)||"User"}),u.jsx("p",{className:"text-[11px] text-slate-500 font-medium uppercase tracking-wider",children:m[e==null?void 0:e.role]||"Guest"})]})]}),u.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-3 py-2.5 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all group",children:[u.jsx(gG,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),u.jsx("span",{className:"font-semibold text-sm",children:"Sign out"})]})]})]}),a&&u.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center bg-slate-900/40",children:u.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm shadow-xl mx-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Confirm Signout"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Are you sure you want to sign out?"}),u.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:v,className:"px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600 transition-colors",children:"Sign out"})]})]})})]})}function cX(){return u.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[u.jsx(lX,{}),u.jsx("main",{className:"flex-1 overflow-auto",children:u.jsx(Sg,{})})]})}const uD=Y.createContext(void 0),uX=({children:e})=>{const[t,r]=Y.useState(null);return u.jsx(uD.Provider,{value:{selectedClientId:t,setSelectedClientId:r},children:e||u.jsx(Sg,{})})},e_=()=>{const e=Y.useContext(uD);if(e===void 0)throw new Error("useClient must be used within a ClientProvider");return e},Qf={async getAllProducts(e){return(await vt.get("/products",{params:e})).data},async getProductsByClient(e,t){return(await vt.get(`/products/client/${e}`,{params:t})).data},async exportProducts(e){return(await vt.get("/export/",{params:e?{client_id:e}:{},responseType:"blob"})).data}};function t_(e,t){const[r,n]=Y.useState(e);return Y.useEffect(()=>{const s=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(s)}},[e,t]),r}function dX(){var L;const e=Lr(),{selectedClientId:t}=e_(),r=t,[n,s]=Y.useState([]),[a,i]=Y.useState(null),[o,c]=Y.useState(!0),[f,h]=Y.useState(""),[m,x]=Y.useState(1),[g,v]=Y.useState(0),[y,w]=Y.useState(0),E=t_(f,500),N=50;Y.useEffect(()=>{r?_(m,E):c(!1)},[r,m,E]);const _=async(R,H)=>{if(r)try{c(!0);const O=await Qf.getProductsByClient(r,{page:R,page_size:N,search:H||void 0});s(O.items),v(O.total),w(O.total_pages)}catch(O){gt.error(O.message||"Failed to load products")}finally{c(!1)}},S=(m-1)*N,k=R=>R==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R);return u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 to-slate-100 p-6",children:[u.jsxs("div",{className:"mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium group",children:[u.jsx(Fn,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back"]}),u.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:[((L=n[0])==null?void 0:L.client_name)||(r?"Client":"No Client Selected")," ","Products"]}),u.jsx("p",{className:"text-slate-500",children:r?`Managing ${n.length} catalog items`:"Please select a client from the Clients page"})]})}),u.jsx("div",{className:"mx-auto bg-white p-4 rounded-4xl shadow-sm border border-slate-100 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:u.jsxs("div",{className:"relative flex-1 w-full",children:[u.jsx(Al,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),u.jsx("input",{type:"text",placeholder:"Search by name, manufacturer, or part number...",value:f,onChange:R=>{h(R.target.value),x(1)},className:"w-full pl-14 pr-4 py-3 border border-slate-200 rounded-2xl bg-slate-50/50 focus:ring-2 focus:ring-blue-500/20  outline-none transition-all"})]})})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"Item Name"}),u.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"Type"}),u.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"Manufacturer"}),u.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"MFR Part #"}),u.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"Price"}),u.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"UOM"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:o?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Loading Products..."})]})})}):n.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 text-slate-500",children:[u.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center border border-slate-100",children:u.jsx(d0,{className:"w-8 h-8 text-slate-300"})}),u.jsx("h3",{className:"text-base font-bold text-slate-500",children:"No products found"}),f&&u.jsx("p",{className:"text-xs text-slate-400",children:"Try adjusting your search or filters"})]})})}):n.map(R=>u.jsxs("tr",{className:"hover:bg-blue-50/50 cursor-pointer transition-colors",onClick:()=>i(R),children:[u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"font-semibold text-slate-900",children:R.item_name}),u.jsx("div",{className:"text-xs text-slate-400 truncate max-w-50",children:R.item_description})]}),u.jsx("td",{className:"px-6 py-4",children:R.item_type==="B"?u.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase bg-emerald-100 text-emerald-700",children:"Base"}):u.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase bg-blue-100 text-blue-700",children:"Accessory"})}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:R.manufacturer}),u.jsx("td",{className:"px-6 py-4 text-sm font-mono text-slate-500",children:R.manufacturer_part_number}),u.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:k(R.commercial_list_price)}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:R.uom||"-"})]},R.product_id))})]})}),y>1&&u.jsxs("div",{className:"flex items-center justify-between px-6 py-5 bg-white border-t border-slate-100",children:[u.jsx("div",{className:"hidden sm:block",children:u.jsxs("p",{className:"text-sm text-slate-500",children:["Showing"," ",u.jsx("span",{className:"font-semibold text-slate-900",children:S+1})," ","to"," ",u.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(S+N,g)})," ","of"," ",u.jsx("span",{className:"font-semibold text-slate-900",children:g})," ","products"]})}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{onClick:()=>x(R=>Math.max(1,R-1)),disabled:m===1,className:"inline-flex items-center justify-center w-10 h-10 rounded-xl border border-slate-200 bg-white text-slate-600 transition-all hover:bg-slate-50 hover:border-slate-300 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white active:scale-95",children:u.jsx(Fn,{size:18})}),u.jsx("div",{className:"flex items-center gap-1.5 mx-1",children:Array.from({length:y},(R,H)=>H+1).filter(R=>R===1||R===y||R>=m-1&&R<=m+1).map((R,H,O)=>u.jsxs(qe.Fragment,{children:[H>0&&O[H-1]!==R-1&&u.jsx("span",{className:"px-2 text-slate-400 font-medium",children:"..."}),u.jsx("button",{onClick:()=>x(R),className:`inline-flex items-center justify-center min-w-10 h-10 px-3 rounded-xl text-sm font-bold transition-all active:scale-95 ${R===m?"bg-[#3399cc] text-white shadow-blue-200 ":"bg-transparent text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:R})]},R))}),u.jsx("button",{onClick:()=>x(R=>Math.min(y,R+1)),disabled:m===y,className:"inline-flex items-center justify-center w-10 h-10 rounded-xl border border-slate-200 bg-white text-slate-600 transition-all hover:bg-slate-50 hover:border-slate-300 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white active:scale-95",children:u.jsx(gr,{size:18})})]})]})]})]}),a&&u.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[u.jsx("div",{className:"absolute inset-0 bg-slate-900/40 transition-opacity",onClick:()=>i(null)}),u.jsxs("div",{className:"relative w-full max-w-lg bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[u.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-start justify-between bg-white sticky top-0 z-10",children:[u.jsxs("div",{className:"pr-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${a.item_type==="A"?"bg-blue-100 text-blue-700":"bg-emerald-100 text-emerald-700"}`,children:a.item_type==="A"?"Accessory":"Base Product"}),a.hazmat&&u.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-[10px] font-bold uppercase",children:"Hazmat"})]}),u.jsx("h2",{className:"text-xl font-bold text-slate-900 leading-tight",children:a.item_name}),u.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium italic",children:a.item_description})]}),u.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-900",children:u.jsx(fr,{size:24})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 scrollbar-thin",children:[a.photo_path&&u.jsx("div",{className:"w-full h-48 bg-slate-50 rounded-2xl border border-slate-100 overflow-hidden flex items-center justify-center",children:u.jsx("img",{src:a.photo_path,alt:a.item_name,className:"h-full w-full object-contain p-4",onError:R=>R.currentTarget.style.display="none"})}),u.jsxs(Af,{title:"Core Identifiers",children:[u.jsx(pn,{label:"Client",value:a.client_name}),u.jsx(pn,{label:"Client Part #",value:a.client_part_number}),u.jsx(pn,{label:"Mfr Part #",value:a.manufacturer_part_number}),u.jsx(pn,{label:"Manufacturer",value:a.manufacturer})]}),u.jsxs(Af,{title:"Physical Specifications",children:[u.jsx(pn,{label:"Dimensions (L x W x H)",value:a.length?`${a.length} x ${a.width} x ${a.height} ${a.physical_uom||""}`:null}),u.jsx(pn,{label:"Weight",value:a.weight_lbs?`${a.weight_lbs} lbs`:null}),u.jsx(pn,{label:"Warranty",value:a.warranty_period}),u.jsx(pn,{label:"Quantity per Pack",value:`${a.quantity_per_pack||1} ${a.quantity_unit_uom||""}`})]}),u.jsxs(Af,{title:"Pricing & Classification",children:[u.jsx(pn,{label:"Commercial List Price",value:k(a.commercial_list_price)}),u.jsx(pn,{label:"UOM",value:a.uom}),u.jsx(pn,{label:"SIN",value:a.sin}),u.jsx(pn,{label:"NSN",value:a.nsn}),u.jsx(pn,{label:"UPC",value:a.upc}),u.jsx(pn,{label:"UNSPSC",value:a.unspsc})]}),u.jsxs(Af,{title:"Compliance & Environment",children:[u.jsx(pn,{label:"Country of Origin",value:a.country_of_origin}),u.jsx(pn,{label:"Recycled Content",value:a.recycled_content_percent?`${a.recycled_content_percent}%`:"0%"}),u.jsx(pn,{label:"Hazmat Status",value:a.hazmat?"Yes":"No"}),u.jsx(pn,{label:"Product Info Code",value:a.product_info_code})]}),u.jsx(Af,{title:"Resources & Links",children:u.jsxs("div",{className:"col-span-2 flex flex-col gap-3",children:[a.product_url&&u.jsxs("a",{href:a.product_url,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-3 text-slate-700 hover:text-[#3399cc] font-semibold text-sm bg-slate-50 p-4 rounded-xl border border-slate-100 transition-all hover:border-[#3399cc]/30",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(tD,{size:16})," Product Page"]}),u.jsx(gr,{size:14,className:"text-slate-400"})]}),a.url_508&&u.jsxs("a",{target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-3 text-slate-700 hover:text-[#3399cc] font-semibold text-sm bg-slate-50 p-4 rounded-xl border border-slate-100 transition-all hover:border-[#3399cc]/30",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(El,{size:16,className:"text-emerald-500"})," 508 Compliance Link"]}),u.jsx(gr,{size:14,className:"text-slate-400"})]})]})}),u.jsx("div",{className:"pt-6 border-t border-slate-100",children:u.jsxs("div",{className:"flex justify-between text-[10px] font-medium text-slate-400 uppercase tracking-tighter",children:[u.jsxs("span",{children:["Created:"," ",a.created_time?new Date(a.created_time).toLocaleDateString("en-US"):"N/A"]}),u.jsxs("span",{children:["Last Updated:"," ",a.updated_time?new Date(a.updated_time).toLocaleDateString("en-US"):"N/A"]})]})})]})]})]})]})}function Af({title:e,children:t}){return u.jsxs("div",{children:[u.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-5",children:e}),u.jsx("div",{className:"grid grid-cols-2 gap-y-8 gap-x-4",children:t})]})}function pn({label:e,value:t}){return u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 tracking-wide",children:e}),u.jsx("p",{className:"text-sm font-bold text-slate-800",children:t??""})]})}const fX="inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-[11px] font-bold border",k2={pending:{slug:"pending",label:"Pending",styles:"bg-orange-50 text-orange-600 border-orange-100",icon:Tc},active:{slug:"active",label:"Active",styles:"bg-[#DCFCE7] text-[#15803D] border-[#BBF7D0]",icon:kW},inactive:{slug:"inactive",label:"Inactive",styles:"bg-[#E5E7EB] text-[#374151] border-[#D1D5DB]",icon:CW},approved:{slug:"approved",label:"Approved",styles:"bg-emerald-50 text-emerald-600 border-emerald-100",icon:cs},rejected:{slug:"rejected",label:"Rejected",styles:"bg-rose-50 text-rose-600 border-rose-100",icon:Tg}},r_=e=>{if(!e)return"unknown";const t=e.toLowerCase();return t in k2?t:"unknown"},Ws=({status:e})=>{const t=r_(e),r=t!=="unknown"?k2[t]:null,n=t!=="unknown"?k2[t].styles:"bg-slate-100 text-slate-700 border-slate-200",s=r==null?void 0:r.icon,a=(r==null?void 0:r.label)??"Unknown";return u.jsxs("span",{className:`${fX} ${n}`,children:[s&&u.jsx(s,{className:"w-3 h-3"}),a]})},mo=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,details:a=[],warning:i,confirmText:o="Confirm",cancelText:c="Cancel",isSubmitting:f=!1,variant:h="emerald"})=>{if(!e)return null;const m={emerald:"bg-emerald-500 hover:bg-emerald-600",rose:"bg-rose-500 hover:bg-rose-600",amber:"bg-amber-500 hover:bg-amber-600",blue:"bg-[#3399cc] hover:bg-[#2980b9]"},x={rose:"bg-rose-50 border-rose-100 text-rose-700",amber:"bg-amber-50 border-amber-100 text-amber-700",emerald:"bg-emerald-50 border-emerald-100 text-emerald-700"},g={rose:"text-rose-500",amber:"text-amber-500",emerald:"text-emerald-500"};return u.jsx("div",{className:"fixed inset-0 bg-slate-900/40 flex items-center justify-center z-50 p-4 h-full",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden relative",children:[u.jsx("button",{onClick:t,disabled:f,className:`absolute top-6 right-6 transition-colors ${f?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-slate-600"}`,children:u.jsx(fr,{className:"w-5 h-5"})}),u.jsxs("div",{className:"p-8",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:n}),u.jsx("div",{className:"text-slate-500 mb-6",children:s}),a.length>0&&u.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 mb-6 space-y-2 text-left",children:a.map((v,y)=>u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("span",{className:"text-sm text-slate-500 shrink-0",children:[v.label,":"]}),u.jsx("span",{className:"text-sm font-semibold text-slate-700 truncate text-right",children:v.value})]},y))}),i&&u.jsxs("div",{className:`flex items-start gap-3 border rounded-2xl p-4 mb-6 text-left ${x[i.type]}`,children:[u.jsx(aD,{className:`w-5 h-5 shrink-0 mt-0.5 ${g[i.type]}`}),u.jsx("p",{className:"text-xs font-medium leading-relaxed",children:i.message})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:t,disabled:f,className:"flex-1 px-6 py-3 bg-white border border-slate-200 text-slate-700 rounded-xl font-bold text-sm hover:bg-slate-50 transition-all disabled:opacity-50",children:c}),u.jsxs("button",{disabled:f,onClick:r,className:`flex-1 px-6 py-3 rounded-xl font-bold text-sm text-white transition-all shadow-sm flex items-center justify-center gap-2 ${m[h]} disabled:opacity-70`,children:[f&&u.jsx(Lt,{className:"w-4 h-4 animate-spin"}),o]})]})]})]})})},kf=({icon:e,value:t})=>t?u.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[u.jsx(e,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"text-sm",children:t})]}):null,dD=({client:e,onClose:t,onEdit:r})=>{if(!e)return null;const n=()=>{r(e),t()};return u.jsxs("div",{className:"fixed inset-0 bg-slate-900/40  z-50 flex items-center justify-center p-4 h-full",children:[u.jsx("div",{className:"absolute inset-0",onClick:t}),u.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"relative bg-linear-to-br p-8",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-3 rounded-full hover:bg-white/20 text-slate-700 transition-colors",children:u.jsx(fr,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"w-20 h-20 rounded-2xl bg-[#38A1DB] shadow-lg flex items-center justify-center text-white font-black text-2xl border-4 border-white/20 overflow-hidden",children:e.logoUrl?u.jsx("img",{src:e.logoUrl,alt:e.name,className:"w-full h-full object-contain p-1 bg-white"}):e.name.split(" ").map(s=>s[0]).slice(0,2).join("").toUpperCase()}),u.jsxs("div",{children:[u.jsx("p",{className:"text-blue-400 text-sm font-medium uppercase tracking-widest mb-1",children:"Client Profile"}),u.jsx("h2",{className:"text-3xl font-bold text-slate-700 tracking-tight",children:e.name})]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-slate-100",children:[u.jsx(Ts,{className:"w-5 h-5 text-[#38A1DB]"}),u.jsx("h3",{className:"font-bold text-slate-800 uppercase text-sm tracking-wider",children:"Company Details"})]}),u.jsxs("div",{className:"bg-slate-50/50 rounded-xl p-5 border border-slate-100 space-y-4",children:[u.jsx(kf,{icon:pl,value:e.email}),u.jsx(kf,{icon:Ch,value:e.phone}),u.jsx(kf,{icon:io,value:e.address})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-slate-100",children:[u.jsx(oo,{className:"w-5 h-5 text-[#38A1DB]"}),u.jsx("h3",{className:"font-bold text-slate-800 uppercase text-sm tracking-wider",children:"Primary Contact"})]}),u.jsx("div",{className:"bg-blue-50/30 rounded-xl p-5 border border-blue-100/50",children:e.contact?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-bold text-[#38A1DB] uppercase tracking-tighter",children:"Full Name"}),u.jsx("p",{className:"text-slate-900 font-bold text-lg leading-none mt-1",children:e.contact.name||""})]}),u.jsxs("div",{className:"pt-2 space-y-3 border-t border-blue-100/50",children:[u.jsx(kf,{icon:pl,value:e.contact.email}),u.jsx(kf,{icon:Ch,value:e.contact.phone})]})]}):u.jsx("div",{className:"text-center py-6",children:u.jsx("p",{className:"text-slate-400 italic text-sm",children:"No primary contact assigned"})})})]})]})}),u.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 rounded-b-3xl flex justify-between border-t border-slate-100",children:[u.jsx("button",{onClick:t,className:"px-6 py-3 rounded-2xl font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-100 transition-all active:scale-95",children:"Close"}),u.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 rounded-2xl bg-linear-to-br from-[#38A1DB] to-[#2D8BBF] text-white font-bold shadow-lg hover:shadow-xl transition-all active:scale-95",children:[u.jsx(Td,{className:"w-4 h-4"}),"Edit Client"]})]})]})]})},hX=({currentStep:e,steps:t})=>u.jsx("div",{className:"flex items-center justify-center gap-4 p-4  border-slate-100 shrink-0",children:t.map((r,n)=>{const s=n+1,a=e>=s,i=e>s;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${a?"bg-[#38A1DB] text-white":"bg-slate-200 text-slate-400"}`,children:i?u.jsx(cs,{className:"w-6 h-6"}):s}),u.jsx("span",{className:`font-semibold ${a?"text-[#38A1DB]":"text-slate-400"}`,children:r})]}),n<t.length-1&&u.jsx("div",{className:`w-16 h-1 rounded-full ${i?"bg-[#38A1DB]":"bg-slate-200"}`})]},s)})}),n_=({formData:e,errors:t,onChange:r,onClearError:n})=>{const s=qe.useRef(null),a=c=>{var h;const f=(h=c.target.files)==null?void 0:h[0];if(f){r("logoFile",f);const m=new FileReader;m.onloadend=()=>{r("logoUrl",m.result)},m.readAsDataURL(f)}},i=c=>{c.stopPropagation(),r("logoFile",null),r("logoUrl",""),s.current&&(s.current.value="")},o=c=>`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors focus:outline-none border-slate-200 focus:border-[#38A1DB]"
    }`;return u.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[u.jsxs("div",{className:"md:col-span-2 flex items-center gap-6 p-5 bg-slate-50 border border-slate-200 rounded-2xl mb-2",children:[u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:`w-24 h-24 rounded-2xl border-2 border-white shadow-md overflow-hidden bg-white flex items-center justify-center transition-all ${e.logoUrl?"border-solid":"border-dashed border-slate-300"}`,children:e.logoUrl?u.jsx("img",{src:e.logoUrl,alt:"Logo Preview",className:"w-full h-full object-contain p-1"}):u.jsx(Ts,{className:"w-10 h-10 text-slate-300"})}),u.jsx("button",{type:"button",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl text-white",children:u.jsx(_l,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-bold text-slate-800",children:"Company Logo"}),u.jsx("p",{className:"text-xs text-slate-500 mt-1 mb-3",children:"PNG, JPG or SVG (max 2MB)"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},className:"px-4 py-2 bg-white border border-slate-200 text-slate-700 text-xs font-bold rounded-lg hover:bg-slate-50 hover:border-[#38A1DB] transition-all flex items-center gap-2 shadow-sm",children:[u.jsx(rG,{className:"w-3.5 h-3.5 text-[#38A1DB]"}),e.logoUrl?"Change Logo":"Upload Logo"]}),e.logoUrl&&u.jsxs("button",{type:"button",onClick:i,className:"px-3 py-2 text-red-500 hover:bg-red-50 rounded-lg text-xs font-bold transition-colors flex items-center gap-1",children:[u.jsx(fr,{className:"w-3.5 h-3.5"}),"Remove"]})]})]}),u.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:a,className:"hidden"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Company Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",className:o(),value:e.company_name,onChange:c=>{r("company_name",c.target.value),n("company_name")}}),t.company_name&&u.jsx("p",{className:"mt-1 text-xs text-red-600 font-medium",children:t.company_name})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Company Email ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"email",className:o(),value:e.company_email,onChange:c=>{r("company_email",c.target.value),n("company_email")}}),t.company_email&&u.jsx("p",{className:"mt-1 text-xs text-red-600 font-medium",children:t.company_email})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Company Phone ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",className:o(),value:e.company_phone_no,onChange:c=>{r("company_phone_no",c.target.value),n("company_phone_no")}}),t.company_phone_no&&u.jsx("p",{className:"mt-1 text-xs text-red-600 font-medium",children:t.company_phone_no})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Company Address ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",className:o(),value:e.company_address,onChange:c=>{r("company_address",c.target.value),n("company_address")}}),t.company_address&&u.jsx("p",{className:"mt-1 text-xs text-red-600 font-medium",children:t.company_address})]}),u.jsxs("div",{className:"grid grid-cols-3 md:col-span-2 gap-4",children:[u.jsxs("div",{className:"col-span-1",children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["City",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",className:o(),value:e.company_city,onChange:c=>r("company_city",c.target.value)}),t.company_city&&u.jsx("p",{className:"mt-1 text-xs text-red-600 font-medium",children:t.company_city})]}),u.jsxs("div",{className:"col-span-1",children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["State",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",className:o(),value:e.company_state,onChange:c=>r("company_state",c.target.value)}),t.company_state&&u.jsx("p",{className:"mt-1 text-xs text-red-600 font-medium",children:t.company_state})]}),u.jsxs("div",{className:"col-span-1",children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["ZIP",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",className:o(),value:e.company_zip,onChange:c=>r("company_zip",c.target.value)}),t.company_zip&&u.jsx("p",{className:"mt-1 text-xs text-red-600 font-medium",children:t.company_zip})]})]})]})},s_=({formData:e,onChange:t,errors:r,onClearError:n})=>{const s=a=>`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors focus:outline-none border-slate-200 focus:border-[#38A1DB]"
    }`;return u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Negotiator Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",className:s(),value:e.contact_officer_name,onChange:a=>{t("contact_officer_name",a.target.value),n("contact_officer_name")},"aria-invalid":!!r.contact_officer_name}),r.contact_officer_name&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_name})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Email ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"email",className:s(),value:e.contact_officer_email,onChange:a=>{t("contact_officer_email",a.target.value),n("contact_officer_email")},"aria-invalid":!!r.contact_officer_email}),r.contact_officer_email&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_email})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Phone ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",className:s(),value:e.contact_officer_phone_no,onChange:a=>{t("contact_officer_phone_no",a.target.value),n("contact_officer_phone_no")},"aria-invalid":!!r.contact_officer_phone_no}),r.contact_officer_phone_no&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_phone_no})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Address"}),u.jsx("input",{type:"text",className:s(),value:e.contact_officer_address||"",onChange:a=>{t("contact_officer_address",a.target.value),n("contact_officer_address")}}),r.contact_officer_address&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_address})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"City"}),u.jsx("input",{type:"text",className:s(),value:e.contact_officer_city||"",onChange:a=>{t("contact_officer_city",a.target.value),n("contact_officer_city")}}),r.contact_officer_city&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_city})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"State"}),u.jsx("input",{type:"text",className:s(),value:e.contact_officer_state||"",onChange:a=>{t("contact_officer_state",a.target.value),n("contact_officer_state")}}),r.contact_officer_state&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_state})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"ZIP"}),u.jsx("input",{type:"text",className:s(),value:e.contact_officer_zip||"",onChange:a=>{t("contact_officer_zip",a.target.value),n("contact_officer_zip")}}),r.contact_officer_zip&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_zip})]})]})},pX=["Company Info","Primary Contact"],R2=({isOpen:e,title:t,subtitle:r,formData:n,errors:s,backendError:a,currentStep:i,isSubmitting:o,onClose:c,onSubmit:f,onNext:h,onBack:m,onChange:x,onClearError:g,onClearBackendError:v,submitButtonText:y="Create Client Profile"})=>{if(!e)return null;const w=E=>{E.preventDefault(),f(E)};return u.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-none z-50 flex items-center justify-center p-4 h-full",children:u.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsx("div",{className:"bg-linear-to-br bg-slate-50 py-4 px-8 shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:t}),u.jsx("p",{className:"text-slate-500 text-sm opacity-80",children:r})]}),u.jsx("button",{type:"button",onClick:c,className:"p-2 hover:bg-white/20 rounded-full transition-colors",disabled:o,children:u.jsx(fr,{className:"w-6 h-6 text-slate-700"})})]})}),u.jsx(hX,{currentStep:i,steps:pX}),a&&u.jsx("div",{className:"mx-8 mt-4 p-4 bg-red-50 border-l-4 border-red-500 ",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"ml-3 flex-1",children:u.jsx("p",{className:"text-sm font-medium text-red-800",children:a})}),v&&u.jsx("button",{type:"button",onClick:v,className:"ml-3 shrink-0 text-red-400 hover:text-red-600 transition-colors",children:u.jsx(fr,{className:"h-5 w-5"})})]})}),u.jsxs("form",{onSubmit:w,className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"py-4 px-8 space-y-6",children:[i===1&&u.jsx(n_,{formData:n,errors:s,onChange:x,onClearError:g}),i===2&&u.jsx(s_,{formData:n,onChange:x,errors:s,onClearError:g})]}),u.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 flex justify-between border-t border-slate-100 shrink-0",children:[u.jsx("button",{type:"button",onClick:i===1?c:m,className:"btn-secondary",disabled:o,children:i===1?"Cancel":"Back"}),i===1?u.jsx("button",{type:"button",onClick:h,className:"btn-primary",children:"Next"}):u.jsx("button",{type:"submit",disabled:o,className:"btn-primary",children:o?"Processing...":y})]})]})]})})},ol=(e,t)=>{const r={},n=p0(e.company_name,!0);n&&(r.company_name=n);const s=Cd(e.company_email);s&&(r.company_email=s);const a=kg(e.company_phone_no,"Company Phone");a&&(r.company_phone_no=a);const i=il(e.company_address,"Company Address")||vn(e.company_address,50,"Address");i&&(r.company_address=i);const o=il(e.company_city,"City")||vn(e.company_city,50,"City");o&&(r.company_city=o);const c=il(e.company_state,"State")||vn(e.company_state,50,"State");c&&(r.company_state=c);const f=il(e.company_zip,"ZIP"),h=Rg(e.company_zip);return(f||h)&&(r.company_zip=f||h||""),t(r),Object.keys(r).length===0},Ah=e=>{const t={},r=p0(e.contact_officer_name,!1);r&&(t.contact_officer_name=r);const n=Cd(e.contact_officer_email);n&&(t.contact_officer_email=n==="Email is required"?"Email address is required":n);const s=kg(e.contact_officer_phone_no,"Phone number");s&&(t.contact_officer_phone_no=s);const a=vn(e.contact_officer_address,50,"Address");a&&(t.contact_officer_address=a);const i=vn(e.contact_officer_city,50,"City");i&&(t.contact_officer_city=i);const o=vn(e.contact_officer_state,50,"State");o&&(t.contact_officer_state=o);const c=Rg(e.contact_officer_zip);return c&&(t.contact_officer_zip=c),{isValid:Object.keys(t).length===0,errors:t}},eh=e=>{var r,n,s,a;const t=e.contact_officer_name||e.contact_officer_email||e.contact_officer_phone_no||e.contact_officer_address;return{id:e.client_id,name:e.company_name,contract:e.contract_number||"",status:r_(e.status),lastModification:((r=e.updated_time||e.created_time)==null?void 0:r.split("T")[0])??"",contact:t?{name:((n=e.contact_officer_name)==null?void 0:n.trim())||null,email:((s=e.contact_officer_email)==null?void 0:s.trim())||null,phone:((a=e.contact_officer_phone_no)==null?void 0:a.trim())||null,address:[e.contact_officer_address,e.contact_officer_city,e.contact_officer_state,e.contact_officer_zip].filter(Boolean).join(", ")||null}:null,email:e.company_email,phone:e.company_phone_no,address:[e.company_address,e.company_city,e.company_state,e.company_zip].filter(Boolean).join(", "),logoUrl:e.company_logo_url}},kh=()=>({company_name:"",company_email:"",company_phone_no:"",company_address:"",company_city:"",company_state:"",company_zip:"",contact_officer_name:"",contact_officer_email:"",contact_officer_phone_no:"",contact_officer_address:"",contact_officer_city:"",contact_officer_state:"",contact_officer_zip:"",status:"pending",logoUrl:"",logoFile:null}),fD=({client:e,onView:t,onEdit:r,onApprove:n,onReject:s})=>{const[a,i]=Y.useState(!1),o=Y.useRef(null);Y.useEffect(()=>{const h=m=>{o.current&&!o.current.contains(m.target)&&i(!1)};return a&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[a]);const c=!["approved","rejected"].includes(e.status),f=e.status==="approved";return u.jsxs("div",{className:"relative",ref:o,children:[u.jsx("button",{onClick:h=>{h.stopPropagation(),i(!a)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:u.jsx(vi,{className:"w-5 h-5 text-slate-600"})}),a&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-slate-200 py-2 z-10",children:[u.jsxs("button",{onClick:h=>{h.stopPropagation(),t(),i(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-slate-700 hover:bg-slate-50 flex items-center gap-2 transition-colors",children:[u.jsx(gi,{className:"w-4 h-4"}),"View Details"]}),u.jsxs("button",{onClick:h=>{h.stopPropagation(),r(),i(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-slate-700 hover:bg-slate-50 flex items-center gap-2 transition-colors",children:[u.jsx(Td,{className:"w-4 h-4"}),"Edit Client"]}),u.jsx("div",{className:"border-t border-slate-100 my-2"}),c?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:h=>{h.stopPropagation(),n(),i(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-emerald-600 hover:bg-emerald-50 flex items-center gap-2 transition-colors",children:[u.jsx(El,{className:"w-4 h-4"}),"Approve"]}),u.jsxs("button",{onClick:h=>{h.stopPropagation(),s(),i(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-rose-600 hover:bg-rose-50 flex items-center gap-2 transition-colors",children:[u.jsx(fr,{className:"w-4 h-4"}),"Reject"]})]}):u.jsx("button",{onClick:h=>{h.stopPropagation(),f?s():n(),i(!1)},className:`w-full px-4 py-2 text-left text-sm font-medium flex items-center gap-2 transition-colors ${f?"text-red-600 hover:bg-rose-50":"text-emerald-600 hover:bg-emerald-50"}`,children:f?u.jsxs(u.Fragment,{children:[u.jsx(fr,{className:"w-4 h-4"}),"Reject"]}):u.jsxs(u.Fragment,{children:[u.jsx(El,{className:"w-4 h-4"}),"Approve"]})})]})]})},mX=({client:e,onView:t,onEdit:r,onApprove:n,onReject:s})=>u.jsxs("div",{onClick:t,className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-5 hover:shadow-md transition-all cursor-pointer",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center shrink-0",children:u.jsx(Ts,{className:"w-6 h-6 text-blue-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-slate-800 text-base truncate",children:e.company_name}),u.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.company_email})]})]}),u.jsx("div",{onClick:a=>a.stopPropagation(),children:u.jsx(fD,{client:e,onView:t,onEdit:r,onApprove:n,onReject:s})})]}),u.jsxs("div",{className:"space-y-2.5 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(oo,{className:"w-4 h-4 text-slate-400 shrink-0"}),u.jsx("span",{className:"truncate",children:e.contact_officer_name||"N/A"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(io,{className:"w-4 h-4 text-slate-400 shrink-0"}),u.jsxs("span",{className:"truncate",children:[e.company_city,", ",e.company_state]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(xi,{className:"w-4 h-4 text-slate-400 shrink-0"}),u.jsx("span",{children:new Date(e.created_time).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]})]}),u.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100",children:u.jsx(Ws,{status:e.status})})]}),xX=()=>{var B,Ee,q;const[e,t]=Y.useState([]),[r,n]=Y.useState(!0),[s,a]=Y.useState(""),[i,o]=Y.useState("pending"),[c,f]=Y.useState({isOpen:!1,client:null,action:"approve"}),[h,m]=Y.useState(null),[x,g]=Y.useState(!1),[v,y]=Y.useState(!1),[w,E]=Y.useState(null),[N,_]=Y.useState({}),[S,k]=Y.useState(1),[L,R]=Y.useState(!1),[H,O]=Y.useState(""),[Z,ae]=Y.useState(1),P=8,X=async()=>{try{n(!0);const C=await vt.get("/clients");t(Array.isArray(C.data)?C.data:[])}catch{gt.error("Failed to load clients")}finally{n(!1)}};Y.useEffect(()=>{X()},[]),Y.useEffect(()=>{ae(1)},[i,s]);const M=(C,j="operation")=>{const U=C.message||`Failed to ${j}. Please try again.`;C.status===409&&k(1),O(U),gt.error(U)},ie=(C,j)=>{f({isOpen:!0,client:C,action:j})},J=()=>{f({isOpen:!1,client:null,action:"approve"})},ee=async()=>{if(!c.client)return;const{client_id:C}=c.client,{action:j}=c;try{await vt.patch(`/clients/${C}/approve`,null,{params:{action:j}}),gt.success(`Client ${j==="approve"?"approved":"rejected"} successfully`),await X(),J()}catch(U){M(U,`${j} client`)}},xe=C=>{const j=eh(C);m(j),g(!0)},oe=C=>{var j,U,ue,ye,he,ke,De,Pe,We,et,tt;E({id:C.id,company_name:C.name,company_email:C.email,company_phone_no:C.phone,company_address:C.address.split(", ")[0]||"",company_city:C.address.split(", ")[1]||"",company_state:C.address.split(", ")[2]||"",company_zip:C.address.split(", ")[3]||"",contact_officer_name:((j=C.contact)==null?void 0:j.name)||"",contact_officer_email:((U=C.contact)==null?void 0:U.email)||"",contact_officer_phone_no:((ue=C.contact)==null?void 0:ue.phone)||"",contact_officer_address:((he=(ye=C.contact)==null?void 0:ye.address)==null?void 0:he.split(", ")[0])||"",contact_officer_city:((De=(ke=C.contact)==null?void 0:ke.address)==null?void 0:De.split(", ")[1])||"",contact_officer_state:((We=(Pe=C.contact)==null?void 0:Pe.address)==null?void 0:We.split(", ")[2])||"",contact_officer_zip:((tt=(et=C.contact)==null?void 0:et.address)==null?void 0:tt.split(", ")[3])||"",status:C.status}),y(!0),k(1),_({}),O("")},we=C=>{C.preventDefault(),w&&ol(w,_)&&k(2)},G=async C=>{if(C.preventDefault(),!w)return;if(!ol(w,_)){k(1);return}const U=Ah(w);if(!U.isValid){_(ue=>({...ue,...U.errors})),k(2);return}R(!0);try{await vt.put(`/clients/${w.id}`,w),gt.success("Client updated successfully"),await X(),y(!1)}catch(ue){M(ue,"update client")}finally{R(!1)}},D=C=>{xe(C)},W=e.filter(C=>!["approved","rejected"].includes(C.status)),K=e.filter(C=>C.status==="approved"),re=e.filter(C=>C.status==="rejected"),I=(()=>{let C=[];return i==="pending"?C=W:i==="approved"?C=K:i==="rejected"?C=re:C=e,C.filter(j=>{var U,ue;return((U=j.company_name)==null?void 0:U.toLowerCase().includes(s.toLowerCase()))||((ue=j.contact_officer_name)==null?void 0:ue.toLowerCase().includes(s.toLowerCase()))})})(),F=I.length,ne=(Z-1)*P,te=I.slice(ne,ne+P),Q=Math.ceil(F/P),z=()=>{switch(i){case"all":return"All Clients";case"pending":return"Pending Client Requests";case"approved":return"Approved Clients";case"rejected":return"Rejected Clients";default:return"Clients"}},be=()=>{switch(i){case"all":return"Complete list of all client profiles";case"pending":return"Client Profiles awaiting approval";case"approved":return"Approved Client Profiles";case"rejected":return"Client Profiles that are registration";default:return""}};return u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-4 sm:p-6 lg:p-10 space-y-6 sm:space-y-8 lg:space-y-10",children:[u.jsx(mo,{isOpen:c.isOpen,onClose:J,onConfirm:ee,title:`Confirm ${c.action==="approve"?"Approval":"Rejection"}`,message:u.jsxs(u.Fragment,{children:["Are you sure you want to ",c.action," ",u.jsx("span",{className:"font-bold text-slate-700",children:(B=c.client)==null?void 0:B.company_name}),"?"]}),details:[{label:"Company",value:((Ee=c.client)==null?void 0:Ee.company_name)||""},{label:"Email",value:((q=c.client)==null?void 0:q.company_email)||""}],variant:c.action==="approve"?"emerald":"rose",confirmText:c.action==="approve"?"Approve":"Reject",isSubmitting:r}),u.jsx(dD,{client:h,onClose:()=>{g(!1),m(null)},onEdit:oe}),w&&u.jsx(R2,{isOpen:v,title:"Edit Client",subtitle:"Update client information",formData:w,errors:N,backendError:H,currentStep:S,isSubmitting:L,onClose:()=>y(!1),onSubmit:G,onNext:we,onBack:()=>k(1),onChange:(C,j)=>{E({...w,[C]:j}),N[C]&&_({...N,[C]:""})},onClearError:C=>_({...N,[C]:""}),onClearBackendError:()=>O(""),submitButtonText:"Update Client"}),u.jsxs("div",{className:"mx-auto",children:[u.jsx("h1",{className:"text-3xl  font-extrabold tracking-tight text-slate-800",children:"Client Management"}),u.jsx("p",{className:"text-slate-500 font-medium mt-1 ",children:"Manage client registrations, approvals, and accounts."})]}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[{label:"Total Clients",count:e.length,icon:Ts,color:"blue"},{label:"Pending Requests",count:W.length,icon:Tc,color:"orange"},{label:"Approved Clients",count:K.length,icon:cs,color:"emerald"},{label:"Rejected",count:re.length,icon:Tg,color:"rose"}].map(C=>u.jsxs("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-2xl sm:rounded-3xl shadow-sm flex items-center gap-3 sm:gap-5 border border-slate-100",children:[u.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 bg-${C.color}-50 rounded-full flex items-center justify-center shrink-0`,children:u.jsx(C.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-${C.color}-600`})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold uppercase tracking-widest text-slate-400 truncate",children:C.label}),u.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:C.count})]})]},C.label))}),u.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-sm border border-slate-100 ",children:[u.jsx("div",{className:"border-b border-slate-100 px-4 sm:px-6 lg:px-8 pt-4 sm:pt-6 overflow-x-auto",children:u.jsx("div",{className:"flex gap-1 sm:gap-2 min-w-max ",children:[{id:"all",label:"All Clients",count:e.length,color:"blue"},{id:"pending",label:"Pending",count:W.length,color:"orange"},{id:"approved",label:"Approved",count:K.length,color:"emerald"},{id:"rejected",label:"Rejected",count:re.length,color:"rose"}].map(C=>u.jsxs("button",{onClick:()=>o(C.id),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-t-xl font-bold text-xs sm:text-sm transition-all whitespace-nowrap ${i===C.id?`bg-${C.color}-50 text-${C.color}-600 border-b-2 border-${C.color}-600`:"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[C.label," (",C.count,")"]},C.id))})}),u.jsxs("div",{className:"p-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:z()}),u.jsx("p",{className:"text-slate-500 text-sm",children:be()})]}),u.jsxs("div",{className:"relative w-full md:w-80",children:[u.jsx(Al,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Search by company or contact...",className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20  transition-all",value:s,onChange:C=>a(C.target.value)})]})]}),u.jsx("div",{className:"lg:hidden px-4 sm:px-6 pb-4 sm:pb-6 space-y-3 sm:space-y-4",children:r?u.jsxs("div",{className:"py-16 flex flex-col items-center justify-center gap-3",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading clients..."})]}):te.length===0?u.jsx("div",{className:"py-16 text-center text-slate-400 text-sm",children:"No clients found."}):te.map(C=>u.jsx(mX,{client:C,onView:()=>xe(C),onEdit:()=>oe(eh(C)),onApprove:()=>ie(C,"approve"),onReject:()=>ie(C,"reject")},C.client_id))}),u.jsx("div",{className:"hidden lg:block  px-6 pb-6 ",children:u.jsxs("table",{className:"w-full border-collapse bg-white rounded-2xl shadow-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Company"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Contact Officer"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Location"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Status"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Created Date"}),u.jsx("th",{className:"text-right px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:r?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-slate-400 text-sm",children:"Loading clients..."})]})})}):te.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-slate-400",children:"No clients found."})}):te.map(C=>u.jsxs("tr",{onClick:()=>D(C),className:"group hover:bg-slate-50/30 transition-colors cursor-pointer",children:[u.jsx("td",{className:"px-4 py-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:u.jsx(Ts,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-sm text-slate-800",children:C.company_name}),u.jsx("p",{className:"text-xs text-slate-400",children:C.company_email})]})]})}),u.jsx("td",{className:"px-4 py-5",children:u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:C.contact_officer_name||"N/A"})}),u.jsx("td",{className:"px-4 py-5",children:u.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-1",children:[u.jsx(io,{className:"w-3 h-3 text-slate-400"}),C.company_city,", ",C.company_state]})}),u.jsx("td",{className:"px-4 py-5",children:u.jsx(Ws,{status:C.status})}),u.jsx("td",{className:"px-4 py-5",children:u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 font-medium",children:[u.jsx(xi,{className:"w-4 h-4"}),new Date(C.created_time).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})]})}),u.jsx("td",{className:"px-4 py-5",children:u.jsx("div",{className:"flex items-center justify-end",children:u.jsx(fD,{client:C,onView:()=>xe(C),onEdit:()=>oe(eh(C)),onApprove:()=>ie(C,"approve"),onReject:()=>ie(C,"reject")})})})]},C.client_id))})]})}),F>P&&u.jsxs("div",{className:"px-6 py-5 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:ne+1})," ","to"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:Math.min(ne+P,F)})," ","of"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:F})," ","users"]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{disabled:Z===1,onClick:()=>ae(Z-1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all mr-2",children:u.jsx(Fn,{size:18})}),u.jsx("div",{className:"flex items-center gap-1",children:(()=>{const C=[];for(let U=1;U<=Q;U++)U===1||U===Q||U>=Z-1&&U<=Z+1?C.push(U):C[C.length-1]!=="..."&&C.push("...");return C.map((U,ue)=>u.jsx(qe.Fragment,{children:U==="..."?u.jsx("span",{className:"px-2 text-slate-400 font-medium",children:"..."}):u.jsx("button",{onClick:()=>ae(Number(U)),className:`min-w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all
                            ${Z===U?"bg-[#3399cc] text-white shadow-md shadow-[#3399cc]/30":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:U})},ue))})()}),u.jsx("button",{disabled:Z===Q,onClick:()=>ae(Z+1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all ml-2",children:u.jsx(gr,{size:18})})]})]})]})]})},zf={admin:"Administrator",user:"Consultant"},hD=({user:e,onApprove:t,onReject:r,onChangeRole:n})=>{const[s,a]=Y.useState(!1),i=Y.useRef(null);Y.useEffect(()=>{const f=h=>{i.current&&!i.current.contains(h.target)&&a(!1)};return s&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[s]);const o=!e.is_active&&!e.is_deleted,c=e.is_active&&!e.is_deleted;return u.jsxs("div",{className:"relative",ref:i,children:[u.jsx("button",{onClick:f=>{f.stopPropagation(),a(!s)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:u.jsx(vi,{className:"w-5 h-5 text-slate-600"})}),s&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-slate-200 py-2 z-10",children:[o&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:f=>{f.stopPropagation(),t(),a(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-emerald-600 hover:bg-emerald-50 flex items-center gap-2 transition-colors",children:[u.jsx(ax,{className:"w-4 h-4"}),"Approve"]}),u.jsxs("button",{onClick:f=>{f.stopPropagation(),r(),a(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-rose-600 hover:bg-rose-50 flex items-center gap-2 transition-colors",children:[u.jsx(c4,{className:"w-4 h-4"}),"Reject"]})]}),c&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:f=>{f.stopPropagation(),n(),a(!1)},className:"w-full px-4 py-2 text-left text-sm  text-slate-700 font-medium  hover:bg-slate-50 flex items-center gap-2 transition-colors",children:[u.jsx(PG,{className:"w-4 h-4 text-[#3399cc]"}),"Change Role"]}),u.jsx("div",{className:"border-t border-slate-100 my-2"}),u.jsxs("button",{onClick:f=>{f.stopPropagation(),r(),a(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-rose-600 hover:bg-rose-50 flex items-center gap-2 transition-colors",children:[u.jsx(c4,{className:"w-4 h-4"}),"Reject"]})]}),e.is_deleted&&u.jsxs("button",{onClick:f=>{f.stopPropagation(),t(),a(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-emerald-600 hover:bg-emerald-50 flex items-center gap-2 transition-colors",children:[u.jsx(ax,{className:"w-4 h-4"}),"Approve"]})]})]})},gX=({user:e,onApprove:t,onReject:r,onChangeRole:n,getRoleStyle:s})=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-5 hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-500 font-bold text-sm uppercase shrink-0",children:e.name.charAt(0)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-slate-800 text-base truncate",children:e.name}),u.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.email})]})]}),u.jsx("div",{onClick:a=>a.stopPropagation(),children:u.jsx(hD,{user:e,onApprove:t,onReject:r,onChangeRole:n})})]}),u.jsxs("div",{className:"space-y-2.5 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(Ch,{className:"w-4 h-4 text-slate-400 shrink-0"}),u.jsx("span",{className:"truncate",children:e.phone_no||"No Phone"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(QE,{className:"w-4 h-4 text-slate-400 shrink-0"}),u.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[11px] font-bold border capitalize ${s(e.role)}`,children:zf[e.role]||"User"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(xi,{className:"w-4 h-4 text-slate-400 shrink-0"}),u.jsx("span",{children:new Date(e.created_time).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]})]}),u.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100",children:u.jsx(Ws,{status:e.is_deleted?"rejected":e.is_active?"approved":"pending"})})]});function yX(){var G,D,W,K,re,se;const[e,t]=Y.useState([]),[r,n]=Y.useState(!0),[s,a]=Y.useState(!1),[i,o]=Y.useState(""),[c,f]=Y.useState("pending"),[h,m]=Y.useState({isOpen:!1,user:null,action:"approve"}),[x,g]=Y.useState({isOpen:!1,user:null}),[v,y]=Y.useState(1),w=8,E=async()=>{try{n(!0);const F=(await vt.get("/users/all")).data;t(Array.isArray(F)?F:[F])}catch{gt.error("Failed to load users. Please try again.")}finally{n(!1)}};Y.useEffect(()=>{E()},[]),Y.useEffect(()=>{y(1)},[c,i]);const N=e.filter(I=>!I.is_active&&!I.is_deleted),_=e.filter(I=>I.is_active&&!I.is_deleted),S=e.filter(I=>I.is_deleted),k=(I,F)=>{m({isOpen:!0,user:I,action:F})},L=()=>{m({isOpen:!1,user:null,action:"approve"})},R=I=>{g({isOpen:!0,user:I})},H=()=>{g({isOpen:!1,user:null})},O=async(I,F)=>{try{a(!0),await vt.patch(`/users/${I}/approve`,null,{params:{action:F}}),t(ne=>ne.map(te=>te.user_id===I?{...te,is_active:F==="approve",is_deleted:F==="reject"}:te)),gt.success(`User account ${F==="approve"?"approved":"rejected"} successfully`),L()}catch(ne){console.error(ne),gt.error(`Failed to ${F} user`)}finally{a(!1)}},Z=()=>{h.user&&O(h.user.user_id,h.action)},ae=async()=>{if(x.user)try{a(!0),await vt.put(`/users/change_role/${x.user.user_id}`),await E(),gt.success("User role changed successfully"),H()}catch(I){console.error(I),gt.error(I.message||"Failed to change user role")}finally{a(!1)}},X=(()=>{let I=[];switch(c){case"all":I=e;break;case"pending":I=N;break;case"approved":I=_;break;case"rejected":I=S;break;default:I=e}return I.filter(F=>F.name.toLowerCase().includes(i.toLowerCase())||F.email.toLowerCase().includes(i.toLowerCase()))})(),M=X.length,ie=(v-1)*w,J=X.slice(ie,ie+w),ee=Math.ceil(M/w),xe=I=>{switch(zf[I]||"default"){case"Administrator":return"bg-purple-50 text-purple-600 border-purple-100";case"Consultant":return"bg-orange-50 text-orange-600 border-orange-100";default:return"bg-slate-50 text-slate-600 border-slate-100"}},oe=()=>{switch(c){case"all":return"All Users";case"pending":return"Pending User Requests";case"approved":return"Approved Users";case"rejected":return"Rejected Users";default:return"Users"}},we=()=>{switch(c){case"all":return"Complete list of all users in the system";case"pending":return"Users awaiting account activation";case"approved":return"Users with active accounts";case"rejected":return"Users whose accounts were rejected";default:return""}};return u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-4 sm:p-6 lg:p-10 space-y-6 sm:space-y-8 lg:space-y-10",children:[u.jsx(mo,{isOpen:h.isOpen,onClose:L,onConfirm:Z,title:`Confirm ${h.action==="approve"?"Approval":"Rejection"}`,message:u.jsxs(u.Fragment,{children:["Are you sure you want to ",h.action," ",u.jsx("span",{className:"font-bold text-slate-700",children:(G=h.user)==null?void 0:G.name}),"?"]}),details:[{label:"Email",value:((D=h.user)==null?void 0:D.email)||""},{label:"Role",value:zf[(W=h.user)==null?void 0:W.role]||"User"}],warning:h.action==="reject"?{message:"This action will reject the user's account. They won't be able to access the system.",type:"rose"}:void 0,variant:h.action==="approve"?"emerald":"rose",confirmText:h.action==="approve"?"Approve":"Reject",isSubmitting:s}),u.jsx(mo,{isOpen:x.isOpen,onClose:H,onConfirm:ae,title:"Change User Role",message:u.jsxs(u.Fragment,{children:["Are you sure you want to change the role of"," ",u.jsx("span",{className:"font-bold text-slate-700",children:(K=x.user)==null?void 0:K.name}),"?"]}),details:[{label:"Current Role",value:zf[(re=x.user)==null?void 0:re.role]||"User"},{label:"New Role",value:((se=x.user)==null?void 0:se.role)==="admin"?"Consultant":"Administrator"}],warning:{message:"This will change the user's permissions and access level in the system.",type:"amber"},variant:"blue",confirmText:"Change Role",isSubmitting:s}),u.jsxs("div",{className:"mx-auto",children:[u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"User Management"}),u.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Manage user accounts, approvals, and permissions."})]}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[{label:"Total Users",count:e.length,icon:hK,color:"blue"},{label:"Pending Approvals",count:N.length,icon:Tc,color:"orange"},{label:"Approved",count:_.length,icon:cs,color:"emerald"},{label:"Rejected",count:S.length,icon:Tg,color:"rose"}].map(I=>u.jsxs("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-2xl sm:rounded-3xl shadow-sm flex items-center gap-3 sm:gap-5 border border-slate-100",children:[u.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 bg-${I.color}-50 rounded-full flex items-center justify-center shrink-0`,children:u.jsx(I.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-${I.color}-600`})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold uppercase tracking-widest text-slate-400 truncate",children:I.label}),u.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:I.count})]})]},I.label))}),u.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-sm border border-slate-100 ",children:[u.jsx("div",{className:"border-b border-slate-100 px-4 sm:px-6 lg:px-8 pt-4 sm:pt-6 overflow-x-auto",children:u.jsx("div",{className:"flex gap-1 sm:gap-2 min-w-max",children:[{id:"all",label:"All Users",count:e.length,color:"blue"},{id:"pending",label:"Pending",count:N.length,color:"orange"},{id:"approved",label:"Approved",count:_.length,color:"emerald"},{id:"rejected",label:"Rejected",count:S.length,color:"rose"}].map(I=>u.jsxs("button",{onClick:()=>f(I.id),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-t-xl font-bold text-xs sm:text-sm transition-all whitespace-nowrap ${c===I.id?`bg-${I.color}-50 text-${I.color}-600 border-b-2 border-${I.color}-600`:"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[I.label," (",I.count,")"]},I.id))})}),u.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900",children:oe()}),u.jsx("p",{className:"text-slate-500 text-sm",children:we()})]}),u.jsxs("div",{className:"relative w-full md:w-80",children:[u.jsx(Al,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-all",value:i,onChange:I=>o(I.target.value)})]})]}),u.jsx("div",{className:"lg:hidden px-4 sm:px-6 pb-4 sm:pb-6 space-y-3 sm:space-y-4",children:r?u.jsxs("div",{className:"py-16 flex flex-col items-center justify-center gap-3",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading users..."})]}):J.length===0?u.jsx("div",{className:"py-16 text-center text-slate-400 text-sm",children:"No users found."}):J.map(I=>u.jsx(gX,{user:I,onApprove:()=>k(I,"approve"),onReject:()=>k(I,"reject"),onChangeRole:()=>R(I),getRoleStyle:xe},I.user_id))}),u.jsx("div",{className:"hidden lg:block  px-6 pb-6",children:u.jsxs("table",{className:"w-full border-collapse bg-white rounded-2xl shadow-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Role"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Phone"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Registered Date"}),u.jsx("th",{className:"text-right px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:r?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-slate-400 text-sm",children:"Loading users..."})]})})}):J.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-slate-400",children:"No users found."})}):J.map(I=>u.jsxs("tr",{className:"group hover:bg-slate-50/30 transition-colors",children:[u.jsx("td",{className:"px-4 py-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center text-blue-500 font-bold text-xs uppercase",children:I.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-sm text-slate-800",children:I.name}),u.jsx("p",{className:"text-xs text-slate-400 flex items-center gap-1",children:I.email})]})]})}),u.jsx("td",{className:"px-4 py-5",children:u.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[11px] font-bold border capitalize ${xe(I.role)}`,children:[u.jsx(QE,{className:"w-3 h-3"}),zf[I.role]||"User"]})}),u.jsx("td",{className:"px-4 py-5",children:u.jsx("p",{className:"text-sm font-semibold text-slate-600",children:I.phone_no||"No Phone"})}),u.jsx("td",{className:"px-4 py-5",children:u.jsx(Ws,{status:I.is_deleted?"rejected":I.is_active?"approved":"pending"})}),u.jsx("td",{className:"px-4 py-5",children:u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 font-medium",children:[u.jsx(xi,{className:"w-4 h-4"}),new Date(I.created_time).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})]})}),u.jsx("td",{className:"px-4 py-5",children:u.jsx("div",{className:"flex items-center justify-end",children:u.jsx(hD,{user:I,onApprove:()=>k(I,"approve"),onReject:()=>k(I,"reject"),onChangeRole:()=>R(I)})})})]},I.user_id))})]})}),M>w&&u.jsxs("div",{className:"px-6 py-5 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:ie+1})," ","to"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:Math.min(ie+w,M)})," ","of"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:M})," ","users"]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{disabled:v===1,onClick:()=>y(v-1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all mr-2",children:u.jsx(Fn,{size:18})}),u.jsx("div",{className:"flex items-center gap-1",children:(()=>{const I=[];for(let ne=1;ne<=ee;ne++)ne===1||ne===ee||ne>=v-1&&ne<=v+1?I.push(ne):I[I.length-1]!=="..."&&I.push("...");return I.map((ne,te)=>u.jsx(qe.Fragment,{children:ne==="..."?u.jsx("span",{className:"px-2 text-slate-400 font-medium",children:"..."}):u.jsx("button",{onClick:()=>y(Number(ne)),className:`min-w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all
                            ${v===ne?"bg-[#3399cc] text-white shadow-md shadow-[#3399cc]/30":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:ne})},te))})()}),u.jsx("button",{disabled:v===ee,onClick:()=>y(v+1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all ml-2",children:u.jsx(gr,{size:18})})]})]})]})]})}const vX=new Set(["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"]),bX=/\.(xlsx|xls)$/i;function pD({onFileDrop:e,onInvalidFile:t}){const[r,n]=Y.useState(!1),s=c=>c.type&&vX.has(c.type)?!0:bX.test(c.name),a=Y.useCallback(c=>{c.preventDefault(),c.stopPropagation(),n(!0)},[]),i=Y.useCallback(c=>{c.preventDefault(),c.stopPropagation(),!c.currentTarget.contains(c.relatedTarget)&&n(!1)},[]),o=Y.useCallback(c=>{var h;c.preventDefault(),c.stopPropagation(),n(!1);const f=(h=c.dataTransfer.files)==null?void 0:h[0];if(f){if(!s(f)){t==null||t("Invalid file type. Please drop an Excel (.xlsx or .xls) file.");return}e(f)}},[e,t]);return{isDragging:r,handleDragOver:a,handleDragLeave:i,handleDrop:o}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var mD=1252,wX=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],a_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},i_=function(e){wX.indexOf(e)!=-1&&(mD=a_[0]=e)};function EX(){i_(1252)}var za=function(e){i_(e)};function xD(){za(1200),EX()}function g4(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function _X(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function gD(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Hf=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?_X(e.slice(2)):t==254&&r==255?gD(e.slice(2)):t==65279?e.slice(1):e},Zp=function(t){return String.fromCharCode(t)},y4=function(t){return String.fromCharCode(t)},Rh,ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function v4(e){for(var t="",r=0,n=0,s=0,a=0,i=0,o=0,c=0,f=0;f<e.length;)r=e.charCodeAt(f++),a=r>>2,n=e.charCodeAt(f++),i=(r&3)<<4|n>>4,s=e.charCodeAt(f++),o=(n&15)<<2|s>>6,c=s&63,isNaN(n)?o=c=64:isNaN(s)&&(c=64),t+=ll.charAt(a)+ll.charAt(i)+ll.charAt(o)+ll.charAt(c);return t}function Gs(e){var t="",r=0,n=0,s=0,a=0,i=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)a=ll.indexOf(e.charAt(f++)),i=ll.indexOf(e.charAt(f++)),r=a<<2|i>>4,t+=String.fromCharCode(r),o=ll.indexOf(e.charAt(f++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=ll.indexOf(e.charAt(f++)),s=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Pt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Pc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Sl(e){return Pt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function b4(e){return Pt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var La=function(t){return Pt?Pc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Lc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function o_(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return o_(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var rl=Pt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Pc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function SX(e){for(var t=[],r=0,n=e.length+250,s=Sl(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)s[r++]=i;else if(i<2048)s[r++]=192|i>>6&31,s[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++a)&1023;s[r++]=240|i>>8&7,s[r++]=128|i>>2&63,s[r++]=128|o>>6&15|(i&3)<<4,s[r++]=128|o&63}else s[r++]=224|i>>12&15,s[r++]=128|i>>6&63,s[r++]=128|i&63;r>n&&(t.push(s.slice(0,r)),r=0,s=Sl(65535),n=65530)}return t.push(s.slice(0,r)),rl(t)}var ls=/\u0000/g,qf=/[\u0001-\u0006]/g;function Bu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ha(e,t){var r=""+e;return r.length>=t?r:kr("0",t-r.length)+r}function l_(e,t){var r=""+e;return r.length>=t?r:kr(" ",t-r.length)+r}function ix(e,t){var r=""+e;return r.length>=t?r:r+kr(" ",t-r.length)}function NX(e,t){var r=""+Math.round(e);return r.length>=t?r:kr("0",t-r.length)+r}function TX(e,t){var r=""+e;return r.length>=t?r:kr("0",t-r.length)+r}var w4=Math.pow(2,32);function Cu(e,t){if(e>w4||e<-w4)return NX(e,t);var r=Math.round(e);return TX(r,t)}function ox(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var E4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ov=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function CX(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Nt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},_4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},AX={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function lx(e,t,r){for(var n=e<0?-1:1,s=e*n,a=0,i=1,o=0,c=1,f=0,h=0,m=Math.floor(s);f<t&&(m=Math.floor(s),o=m*i+a,h=m*f+c,!(s-m<5e-8));)s=1/(s-m),a=i,i=o,c=f,f=h;if(h>t&&(f>t?(h=c,o=a):(h=f,o=i)),!r)return[0,n*o,h];var x=Math.floor(n*o/h);return[x,n*o-x*h,h]}function ic(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),a=0,i=[],o={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=IX(c,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=a,o}var yD=new Date(1899,11,31,0,0,0),kX=yD.getTime(),RX=new Date(1900,2,1,0,0,0);function vD(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=RX&&(r+=1440*60*1e3),(r-(kX+(e.getTimezoneOffset()-yD.getTimezoneOffset())*6e4))/(1440*60*1e3)}function c_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function jX(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function OX(e){var t=e<0?12:11,r=c_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function DX(e){var t=c_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function jh(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=OX(e):t===10?r=e.toFixed(10).substr(0,12):r=DX(e),c_(jX(r.toUpperCase()))}function Ac(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):jh(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Na(14,vD(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function IX(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function MX(e,t,r,n){var s="",a=0,i=0,o=r.y,c,f=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,f=2;break;default:c=o%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,f=t.length;break;case 3:return Ov[r.m-1][1];case 5:return Ov[r.m-1][0];default:return Ov[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,f=t.length;break;case 3:return E4[r.q][0];default:return E4[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ha(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,a=Math.round(i*(r.S+r.u)),a>=60*i&&(a=0),t==="s"?a===0?"0":""+a/i:(s=Ha(a,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:c=o,f=1;break}var h=f>0?Ha(c,f):"";return h}function cl(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var bD=/%/g;function FX(e,t,r){var n=t.replace(bD,""),s=t.length-n.length;return lo(e,n,r*Math.pow(10,2*s))+kr("%",s)}function PX(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return lo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function wD(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+wD(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(s+a)%s)+"."+h.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var ED=/# (\?+)( ?)\/( ?)(\d+)/;function LX(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),a=Math.floor(s/n),i=s-a*n,o=n;return r+(a===0?"":""+a)+" "+(i===0?kr(" ",e[1].length+1+e[4].length):l_(i,e[1].length)+e[2]+"/"+e[3]+Ha(o,e[4].length))}function BX(e,t,r){return r+(t===0?"":""+t)+kr(" ",e[1].length+2+e[4].length)}var _D=/^#*0*\.([0#]+)/,SD=/\).*[0#]/,ND=/\(###\) ###\\?-####/;function rs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function S4(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function N4(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function UX(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function zX(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ha(e,t,r){if(e.charCodeAt(0)===40&&!t.match(SD)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ha("n",n,r):"("+ha("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return PX(e,t,r);if(t.indexOf("%")!==-1)return FX(e,t,r);if(t.indexOf("E")!==-1)return wD(t,r);if(t.charCodeAt(0)===36)return"$"+ha(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,o,c=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Cu(c,t.length);if(t.match(/^[#?]+$/))return s=Cu(r,0),s==="0"&&(s=""),s.length>t.length?s:rs(t.substr(0,t.length-s.length))+s;if(a=t.match(ED))return LX(a,c,f);if(t.match(/^#+0+$/))return f+Cu(c,t.length-t.indexOf("0"));if(a=t.match(_D))return s=S4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+rs(a[1])).replace(/\.$/,"."+rs(a[1])).replace(/\.(\d*)$/,function(v,y){return"."+y+kr("0",rs(a[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+S4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+cl(Cu(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ha(e,t,-r):cl(""+(Math.floor(r)+UX(r,a[1].length)))+"."+Ha(N4(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return ha(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Bu(ha(e,t.replace(/[\\-]/g,""),r)),i=0,Bu(Bu(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<s.length?s.charAt(i++):v==="0"?"0":""}));if(t.match(ND))return s=ha(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=lx(c,Math.pow(10,i)-1,!1),s=""+f,h=lo("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+a[2]+"/"+a[3],h=ix(o[2],i),h.length<a[4].length&&(h=rs(a[4].substr(a[4].length-h.length))+h),s+=h,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=lx(c,Math.pow(10,i)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?l_(o[1],i)+a[2]+"/"+a[3]+ix(o[2],i):kr(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=Cu(r,0),t.length<=s.length?s:rs(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var m=t.indexOf(".")-i,x=t.length-s.length-m;return rs(t.substr(0,m)+s+t.substr(t.length-x))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=N4(r,a[1].length),r<0?"-"+ha(e,t,-r):cl(zX(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Ha(0,3-v.length):"")+v})+"."+Ha(i,a[1].length);switch(t){case"###,##0.00":return ha(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=cl(Cu(c,0));return g!=="0"?f+g:"";case"###,###.00":return ha(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ha(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function HX(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return lo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function qX(e,t,r){var n=t.replace(bD,""),s=t.length-n.length;return lo(e,n,r*Math.pow(10,2*s))+kr("%",s)}function TD(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+TD(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(s+a)%s)+"."+h.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ci(e,t,r){if(e.charCodeAt(0)===40&&!t.match(SD)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ci("n",n,r):"("+ci("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return HX(e,t,r);if(t.indexOf("%")!==-1)return qX(e,t,r);if(t.indexOf("E")!==-1)return TD(t,r);if(t.charCodeAt(0)===36)return"$"+ci(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,o,c=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Ha(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:rs(t.substr(0,t.length-s.length))+s;if(a=t.match(ED))return BX(a,c,f);if(t.match(/^#+0+$/))return f+Ha(c,t.length-t.indexOf("0"));if(a=t.match(_D))return s=(""+r).replace(/^([^\.]+)$/,"$1."+rs(a[1])).replace(/\.$/,"."+rs(a[1])),s=s.replace(/\.(\d*)$/,function(v,y){return"."+y+kr("0",rs(a[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+cl(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ci(e,t,-r):cl(""+r)+"."+kr("0",a[1].length);if(a=t.match(/^#,#*,#0/))return ci(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Bu(ci(e,t.replace(/[\\-]/g,""),r)),i=0,Bu(Bu(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<s.length?s.charAt(i++):v==="0"?"0":""}));if(t.match(ND))return s=ci(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=lx(c,Math.pow(10,i)-1,!1),s=""+f,h=lo("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+a[2]+"/"+a[3],h=ix(o[2],i),h.length<a[4].length&&(h=rs(a[4].substr(a[4].length-h.length))+h),s+=h,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=lx(c,Math.pow(10,i)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?l_(o[1],i)+a[2]+"/"+a[3]+ix(o[2],i):kr(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:rs(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var m=t.indexOf(".")-i,x=t.length-s.length-m;return rs(t.substr(0,m)+s+t.substr(t.length-x))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ci(e,t,-r):cl(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Ha(0,3-v.length):"")+v})+"."+Ha(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=cl(""+c);return g!=="0"?f+g:"";default:if(t.match(/\.[0#?]*$/))return ci(e,t.slice(0,t.lastIndexOf(".")),r)+rs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function lo(e,t,r){return(r|0)===r?ci(e,t,r):ha(e,t,r)}function VX(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var CD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ad(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ox(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(CD))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function $X(e,t,r,n){for(var s=[],a="",i=0,o="",c="t",f,h,m,x="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!ox(e,i))throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(m=e.charCodeAt(++i))!==34&&i<e.length;)a+=String.fromCharCode(m);s[s.length]={t:"t",v:a},++i;break;case"\\":var g=e.charAt(++i),v=g==="("||g===")"?g:"t";s[s.length]={t:v,v:g},++i;break;case"_":s[s.length]={t:"t",v:" "},i+=2;break;case"@":s[s.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(f==null&&(f=ic(t,r,e.charAt(i+1)==="2"),f==null))return"";s[s.length]={t:"X",v:e.substr(i,2)},c=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=ic(t,r),f==null))return"";for(a=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),s[s.length]={t:o,v:a},c=o;break;case"A":case"a":case"":var y={t:o,v:o};if(f==null&&(f=ic(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(f!=null&&(y.v=f.H>=12?"P":"A"),y.t="T",x="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(f!=null&&(y.v=f.H>=12?"PM":"AM"),y.t="T",i+=5,x="h"):e.substr(i,5).toUpperCase()==="/"?(f!=null&&(y.v=f.H>=12?"":""),y.t="T",i+=5,x="h"):(y.t="t",++i),f==null&&y.t==="T")return"";s[s.length]=y,c=o;break;case"[":for(a=o;e.charAt(i++)!=="]"&&i<e.length;)a+=e.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(CD)){if(f==null&&(f=ic(t,r),f==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ad(e)||(s[s.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=o;++i<e.length&&(o=e.charAt(i))==="0";)a+=o;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)a+=o;s[s.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++i)===o;)a+=o;s[s.length]={t:o,v:a},c=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":s[s.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)a+=e.charAt(i);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:o,v:o},++i;break;case"$":s[s.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"t",v:o},++i;break}var w=0,E=0,N;for(i=s.length-1,c="t";i>=0;--i)switch(s[i].t){case"h":case"H":s[i].t=x,c="h",w<1&&(w=1);break;case"s":(N=s[i].v.match(/\.0+$/))&&(E=Math.max(E,N[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":c=s[i].t;break;case"m":c==="s"&&(s[i].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&s[i].v.match(/[Hh]/)&&(w=1),w<2&&s[i].v.match(/[Mm]/)&&(w=2),w<3&&s[i].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var _="",S;for(i=0;i<s.length;++i)switch(s[i].t){case"t":case"T":case" ":case"D":break;case"X":s[i].v="",s[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[i].v=MX(s[i].t.charCodeAt(0),s[i].v,f,E),s[i].t="t";break;case"n":case"?":for(S=i+1;s[S]!=null&&((o=s[S].t)==="?"||o==="D"||(o===" "||o==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[i].v+=s[S].v,s[S]={v:"",t:";"},++S;_+=s[i].v,i=S-1;break;case"G":s[i].t="t",s[i].v=Ac(t,r);break}var k="",L,R;if(_.length>0){_.charCodeAt(0)==40?(L=t<0&&_.charCodeAt(0)===45?-t:t,R=lo("n",_,L)):(L=t<0&&n>1?-t:t,R=lo("n",_,L),L<0&&s[0]&&s[0].t=="t"&&(R=R.substr(1),s[0].v="-"+s[0].v)),S=R.length-1;var H=s.length;for(i=0;i<s.length;++i)if(s[i]!=null&&s[i].t!="t"&&s[i].v.indexOf(".")>-1){H=i;break}var O=s.length;if(H===s.length&&R.indexOf("E")===-1){for(i=s.length-1;i>=0;--i)s[i]==null||"n?".indexOf(s[i].t)===-1||(S>=s[i].v.length-1?(S-=s[i].v.length,s[i].v=R.substr(S+1,s[i].v.length)):S<0?s[i].v="":(s[i].v=R.substr(0,S+1),S=-1),s[i].t="t",O=i);S>=0&&O<s.length&&(s[O].v=R.substr(0,S+1)+s[O].v)}else if(H!==s.length&&R.indexOf("E")===-1){for(S=R.indexOf(".")-1,i=H;i>=0;--i)if(!(s[i]==null||"n?".indexOf(s[i].t)===-1)){for(h=s[i].v.indexOf(".")>-1&&i===H?s[i].v.indexOf(".")-1:s[i].v.length-1,k=s[i].v.substr(h+1);h>=0;--h)S>=0&&(s[i].v.charAt(h)==="0"||s[i].v.charAt(h)==="#")&&(k=R.charAt(S--)+k);s[i].v=k,s[i].t="t",O=i}for(S>=0&&O<s.length&&(s[O].v=R.substr(0,S+1)+s[O].v),S=R.indexOf(".")+1,i=H;i<s.length;++i)if(!(s[i]==null||"n?(".indexOf(s[i].t)===-1&&i!==H)){for(h=s[i].v.indexOf(".")>-1&&i===H?s[i].v.indexOf(".")+1:0,k=s[i].v.substr(0,h);h<s[i].v.length;++h)S<R.length&&(k+=R.charAt(S++));s[i].v=k,s[i].t="t",O=i}}}for(i=0;i<s.length;++i)s[i]!=null&&"n?".indexOf(s[i].t)>-1&&(L=n>1&&t<0&&i>0&&s[i-1].v==="-"?-t:t,s[i].v=lo(s[i].t,s[i].v,L),s[i].t="t");var Z="";for(i=0;i!==s.length;++i)s[i]!=null&&(Z+=s[i].v);return Z}var T4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function C4(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function WX(e,t){var r=VX(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(T4),o=r[1].match(T4);return C4(t,i)?[n,r[0]]:C4(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,a]}function Na(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Nt)[e],n==null&&(n=r.table&&r.table[_4[e]]||Nt[_4[e]]),n==null&&(n=AX[e]||"General");break}if(ox(n,0))return Ac(t,r);t instanceof Date&&(t=vD(t,r.date1904));var s=WX(n,t);if(ox(s[1]))return Ac(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return $X(s[1],t,r,s[0])}function mc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Nt[r]==null){t<0&&(t=r);continue}if(Nt[r]==e){t=r;break}}t<0&&(t=391)}return Nt[t]=e,t}function AD(){Nt=CX()}var GX={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},kD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function KX(e){var t=typeof e=="number"?Nt[e]:e;return t=t.replace(kD,"(\\d+)"),new RegExp("^"+t+"$")}function XX(e,t,r){var n=-1,s=-1,a=-1,i=-1,o=-1,c=-1;(t.match(kD)||[]).forEach(function(m,x){var g=parseInt(r[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=g;break;case"d":a=g;break;case"h":i=g;break;case"s":c=g;break;case"m":i>=0?o=g:s=g;break}}),c>=0&&o==-1&&s>=0&&(o=s,s=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&o==-1&&c==-1?f:n==-1&&s==-1&&a==-1?h:f+"T"+h}var YX=(function(){var e={};e.version="1.2.0";function t(){for(var R=0,H=new Array(256),O=0;O!=256;++O)R=O,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,H[O]=R;return typeof Int32Array<"u"?new Int32Array(H):H}var r=t();function n(R){var H=0,O=0,Z=0,ae=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Z=0;Z!=256;++Z)ae[Z]=R[Z];for(Z=0;Z!=256;++Z)for(O=R[Z],H=256+Z;H<4096;H+=256)O=ae[H]=O>>>8^R[O&255];var P=[];for(Z=1;Z!=16;++Z)P[Z-1]=typeof Int32Array<"u"?ae.subarray(Z*256,Z*256+256):ae.slice(Z*256,Z*256+256);return P}var s=n(r),a=s[0],i=s[1],o=s[2],c=s[3],f=s[4],h=s[5],m=s[6],x=s[7],g=s[8],v=s[9],y=s[10],w=s[11],E=s[12],N=s[13],_=s[14];function S(R,H){for(var O=H^-1,Z=0,ae=R.length;Z<ae;)O=O>>>8^r[(O^R.charCodeAt(Z++))&255];return~O}function k(R,H){for(var O=H^-1,Z=R.length-15,ae=0;ae<Z;)O=_[R[ae++]^O&255]^N[R[ae++]^O>>8&255]^E[R[ae++]^O>>16&255]^w[R[ae++]^O>>>24]^y[R[ae++]]^v[R[ae++]]^g[R[ae++]]^x[R[ae++]]^m[R[ae++]]^h[R[ae++]]^f[R[ae++]]^c[R[ae++]]^o[R[ae++]]^i[R[ae++]]^a[R[ae++]]^r[R[ae++]];for(Z+=15;ae<Z;)O=O>>>8^r[(O^R[ae++])&255];return~O}function L(R,H){for(var O=H^-1,Z=0,ae=R.length,P=0,X=0;Z<ae;)P=R.charCodeAt(Z++),P<128?O=O>>>8^r[(O^P)&255]:P<2048?(O=O>>>8^r[(O^(192|P>>6&31))&255],O=O>>>8^r[(O^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,X=R.charCodeAt(Z++)&1023,O=O>>>8^r[(O^(240|P>>8&7))&255],O=O>>>8^r[(O^(128|P>>2&63))&255],O=O>>>8^r[(O^(128|X>>6&15|(P&3)<<4))&255],O=O>>>8^r[(O^(128|X&63))&255]):(O=O>>>8^r[(O^(224|P>>12&15))&255],O=O>>>8^r[(O^(128|P>>6&63))&255],O=O>>>8^r[(O^(128|P&63))&255]);return~O}return e.table=r,e.bstr=S,e.buf=k,e.str=L,e})(),Bt=(function(){var t={};t.version="1.2.1";function r(le,me){for(var de=le.split("/"),fe=me.split("/"),pe=0,ge=0,Ce=Math.min(de.length,fe.length);pe<Ce;++pe){if(ge=de[pe].length-fe[pe].length)return ge;if(de[pe]!=fe[pe])return de[pe]<fe[pe]?-1:1}return de.length-fe.length}function n(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:n(le.slice(0,-1));var me=le.lastIndexOf("/");return me===-1?le:le.slice(0,me+1)}function s(le){if(le.charAt(le.length-1)=="/")return s(le.slice(0,-1));var me=le.lastIndexOf("/");return me===-1?le:le.slice(me+1)}function a(le,me){typeof me=="string"&&(me=new Date(me));var de=me.getHours();de=de<<6|me.getMinutes(),de=de<<5|me.getSeconds()>>>1,le.write_shift(2,de);var fe=me.getFullYear()-1980;fe=fe<<4|me.getMonth()+1,fe=fe<<5|me.getDate(),le.write_shift(2,fe)}function i(le){var me=le.read_shift(2)&65535,de=le.read_shift(2)&65535,fe=new Date,pe=de&31;de>>>=5;var ge=de&15;de>>>=4,fe.setMilliseconds(0),fe.setFullYear(de+1980),fe.setMonth(ge-1),fe.setDate(pe);var Ce=me&31;me>>>=5;var Ue=me&63;return me>>>=6,fe.setHours(me),fe.setMinutes(Ue),fe.setSeconds(Ce<<1),fe}function o(le){kn(le,0);for(var me={},de=0;le.l<=le.length-4;){var fe=le.read_shift(2),pe=le.read_shift(2),ge=le.l+pe,Ce={};switch(fe){case 21589:de=le.read_shift(1),de&1&&(Ce.mtime=le.read_shift(4)),pe>5&&(de&2&&(Ce.atime=le.read_shift(4)),de&4&&(Ce.ctime=le.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break}le.l=ge,me[fe]=Ce}return me}var c;function f(){return c||(c={})}function h(le,me){if(le[0]==80&&le[1]==75)return Ra(le,me);if((le[0]|32)==109&&(le[1]|32)==105)return hr(le,me);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var de=3,fe=512,pe=0,ge=0,Ce=0,Ue=0,Ae=0,Re=[],Oe=le.slice(0,512);kn(Oe,0);var Ge=m(Oe);switch(de=Ge[0],de){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(Ge[1]==0)return Ra(le,me);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}fe!==512&&(Oe=le.slice(0,fe),kn(Oe,28));var Ye=le.slice(0,fe);x(Oe,de);var Qe=Oe.read_shift(4,"i");if(de===3&&Qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Qe);Oe.l+=4,Ce=Oe.read_shift(4,"i"),Oe.l+=4,Oe.chk("00100000","Mini Stream Cutoff Size: "),Ue=Oe.read_shift(4,"i"),pe=Oe.read_shift(4,"i"),Ae=Oe.read_shift(4,"i"),ge=Oe.read_shift(4,"i");for(var Ke=-1,Je=0;Je<109&&(Ke=Oe.read_shift(4,"i"),!(Ke<0));++Je)Re[Je]=Ke;var at=g(le,fe);w(Ae,ge,at,fe,Re);var lr=N(at,Ce,Re,fe);lr[Ce].name="!Directory",pe>0&&Ue!==X&&(lr[Ue].name="!MiniFAT"),lr[Re[0]].name="!FAT",lr.fat_addrs=Re,lr.ssz=fe;var cr={},yr=[],Qs=[],Ml=[];_(Ce,lr,at,yr,pe,cr,Qs,Ue),v(Qs,Ml,yr),yr.shift();var So={FileIndex:Qs,FullPaths:Ml};return me&&me.raw&&(So.raw={header:Ye,sectors:at}),So}function m(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(M,"Header Signature: "),le.l+=16;var me=le.read_shift(2,"u");return[le.read_shift(2,"u"),me]}function x(le,me){var de=9;switch(le.l+=2,de=le.read_shift(2)){case 9:if(me!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(me!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function g(le,me){for(var de=Math.ceil(le.length/me)-1,fe=[],pe=1;pe<de;++pe)fe[pe-1]=le.slice(pe*me,(pe+1)*me);return fe[de-1]=le.slice(de*me),fe}function v(le,me,de){for(var fe=0,pe=0,ge=0,Ce=0,Ue=0,Ae=de.length,Re=[],Oe=[];fe<Ae;++fe)Re[fe]=Oe[fe]=fe,me[fe]=de[fe];for(;Ue<Oe.length;++Ue)fe=Oe[Ue],pe=le[fe].L,ge=le[fe].R,Ce=le[fe].C,Re[fe]===fe&&(pe!==-1&&Re[pe]!==pe&&(Re[fe]=Re[pe]),ge!==-1&&Re[ge]!==ge&&(Re[fe]=Re[ge])),Ce!==-1&&(Re[Ce]=fe),pe!==-1&&fe!=Re[fe]&&(Re[pe]=Re[fe],Oe.lastIndexOf(pe)<Ue&&Oe.push(pe)),ge!==-1&&fe!=Re[fe]&&(Re[ge]=Re[fe],Oe.lastIndexOf(ge)<Ue&&Oe.push(ge));for(fe=1;fe<Ae;++fe)Re[fe]===fe&&(ge!==-1&&Re[ge]!==ge?Re[fe]=Re[ge]:pe!==-1&&Re[pe]!==pe&&(Re[fe]=Re[pe]));for(fe=1;fe<Ae;++fe)if(le[fe].type!==0){if(Ue=fe,Ue!=Re[Ue])do Ue=Re[Ue],me[fe]=me[Ue]+"/"+me[fe];while(Ue!==0&&Re[Ue]!==-1&&Ue!=Re[Ue]);Re[fe]=-1}for(me[0]+="/",fe=1;fe<Ae;++fe)le[fe].type!==2&&(me[fe]+="/")}function y(le,me,de){for(var fe=le.start,pe=le.size,ge=[],Ce=fe;de&&pe>0&&Ce>=0;)ge.push(me.slice(Ce*P,Ce*P+P)),pe-=P,Ce=rc(de,Ce*4);return ge.length===0?an(0):rl(ge).slice(0,le.size)}function w(le,me,de,fe,pe){var ge=X;if(le===X){if(me!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Ce=de[le],Ue=(fe>>>2)-1;if(!Ce)return;for(var Ae=0;Ae<Ue&&(ge=rc(Ce,Ae*4))!==X;++Ae)pe.push(ge);w(rc(Ce,fe-4),me-1,de,fe,pe)}}function E(le,me,de,fe,pe){var ge=[],Ce=[];pe||(pe=[]);var Ue=fe-1,Ae=0,Re=0;for(Ae=me;Ae>=0;){pe[Ae]=!0,ge[ge.length]=Ae,Ce.push(le[Ae]);var Oe=de[Math.floor(Ae*4/fe)];if(Re=Ae*4&Ue,fe<4+Re)throw new Error("FAT boundary crossed: "+Ae+" 4 "+fe);if(!le[Oe])break;Ae=rc(le[Oe],Re)}return{nodes:ge,data:P4([Ce])}}function N(le,me,de,fe){var pe=le.length,ge=[],Ce=[],Ue=[],Ae=[],Re=fe-1,Oe=0,Ge=0,Ye=0,Qe=0;for(Oe=0;Oe<pe;++Oe)if(Ue=[],Ye=Oe+me,Ye>=pe&&(Ye-=pe),!Ce[Ye]){Ae=[];var Ke=[];for(Ge=Ye;Ge>=0;){Ke[Ge]=!0,Ce[Ge]=!0,Ue[Ue.length]=Ge,Ae.push(le[Ge]);var Je=de[Math.floor(Ge*4/fe)];if(Qe=Ge*4&Re,fe<4+Qe)throw new Error("FAT boundary crossed: "+Ge+" 4 "+fe);if(!le[Je]||(Ge=rc(le[Je],Qe),Ke[Ge]))break}ge[Ye]={nodes:Ue,data:P4([Ae])}}return ge}function _(le,me,de,fe,pe,ge,Ce,Ue){for(var Ae=0,Re=fe.length?2:0,Oe=me[le].data,Ge=0,Ye=0,Qe;Ge<Oe.length;Ge+=128){var Ke=Oe.slice(Ge,Ge+128);kn(Ke,64),Ye=Ke.read_shift(2),Qe=p_(Ke,0,Ye-Re),fe.push(Qe);var Je={name:Qe,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},at=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);at!==0&&(Je.ct=S(Ke,Ke.l-8));var lr=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);lr!==0&&(Je.mt=S(Ke,Ke.l-8)),Je.start=Ke.read_shift(4,"i"),Je.size=Ke.read_shift(4,"i"),Je.size<0&&Je.start<0&&(Je.size=Je.type=0,Je.start=X,Je.name=""),Je.type===5?(Ae=Je.start,pe>0&&Ae!==X&&(me[Ae].name="!StreamData")):Je.size>=4096?(Je.storage="fat",me[Je.start]===void 0&&(me[Je.start]=E(de,Je.start,me.fat_addrs,me.ssz)),me[Je.start].name=Je.name,Je.content=me[Je.start].data.slice(0,Je.size)):(Je.storage="minifat",Je.size<0?Je.size=0:Ae!==X&&Je.start!==X&&me[Ae]&&(Je.content=y(Je,me[Ae].data,(me[Ue]||{}).data))),Je.content&&kn(Je.content,0),ge[Qe]=Je,Ce.push(Je)}}function S(le,me){return new Date((zs(le,me+4)/1e7*Math.pow(2,32)+zs(le,me)/1e7-11644473600)*1e3)}function k(le,me){return f(),h(c.readFileSync(le),me)}function L(le,me){var de=me&&me.type;switch(de||Pt&&Buffer.isBuffer(le)&&(de="buffer"),de||"base64"){case"file":return k(le,me);case"base64":return h(La(Gs(le)),me);case"binary":return h(La(le),me)}return h(le,me)}function R(le,me){var de=me||{},fe=de.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=fe+"/",le.FileIndex[0]={name:fe,type:5}),de.CLSID&&(le.FileIndex[0].clsid=de.CLSID),H(le)}function H(le){var me="Sh33tJ5";if(!Bt.find(le,"/"+me)){var de=an(4);de[0]=55,de[1]=de[3]=50,de[2]=54,le.FileIndex.push({name:me,type:2,content:de,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+me),O(le)}}function O(le,me){R(le);for(var de=!1,fe=!1,pe=le.FullPaths.length-1;pe>=0;--pe){var ge=le.FileIndex[pe];switch(ge.type){case 0:fe?de=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(ge.R*ge.L*ge.C)&&(de=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!me)){var Ce=new Date(1987,1,19),Ue=0,Ae=Object.create?Object.create(null):{},Re=[];for(pe=0;pe<le.FullPaths.length;++pe)Ae[le.FullPaths[pe]]=!0,le.FileIndex[pe].type!==0&&Re.push([le.FullPaths[pe],le.FileIndex[pe]]);for(pe=0;pe<Re.length;++pe){var Oe=n(Re[pe][0]);fe=Ae[Oe],fe||(Re.push([Oe,{name:s(Oe).replace("/",""),type:1,clsid:J,ct:Ce,mt:Ce,content:null}]),Ae[Oe]=!0)}for(Re.sort(function(Qe,Ke){return r(Qe[0],Ke[0])}),le.FullPaths=[],le.FileIndex=[],pe=0;pe<Re.length;++pe)le.FullPaths[pe]=Re[pe][0],le.FileIndex[pe]=Re[pe][1];for(pe=0;pe<Re.length;++pe){var Ge=le.FileIndex[pe],Ye=le.FullPaths[pe];if(Ge.name=s(Ye).replace("/",""),Ge.L=Ge.R=Ge.C=-(Ge.color=1),Ge.size=Ge.content?Ge.content.length:0,Ge.start=0,Ge.clsid=Ge.clsid||J,pe===0)Ge.C=Re.length>1?1:-1,Ge.size=0,Ge.type=5;else if(Ye.slice(-1)=="/"){for(Ue=pe+1;Ue<Re.length&&n(le.FullPaths[Ue])!=Ye;++Ue);for(Ge.C=Ue>=Re.length?-1:Ue,Ue=pe+1;Ue<Re.length&&n(le.FullPaths[Ue])!=n(Ye);++Ue);Ge.R=Ue>=Re.length?-1:Ue,Ge.type=1}else n(le.FullPaths[pe+1]||"")==n(Ye)&&(Ge.R=pe+1),Ge.type=2}}}function Z(le,me){var de=me||{};if(de.fileType=="mad")return Pn(le,de);switch(O(le),de.fileType){case"zip":return Qn(le,de)}var fe=(function(Qe){for(var Ke=0,Je=0,at=0;at<Qe.FileIndex.length;++at){var lr=Qe.FileIndex[at];if(lr.content){var cr=lr.content.length;cr>0&&(cr<4096?Ke+=cr+63>>6:Je+=cr+511>>9)}}for(var yr=Qe.FullPaths.length+3>>2,Qs=Ke+7>>3,Ml=Ke+127>>7,So=Qs+Je+yr+Ml,Za=So+127>>7,Dd=Za<=109?0:Math.ceil((Za-109)/127);So+Za+Dd+127>>7>Za;)Dd=++Za<=109?0:Math.ceil((Za-109)/127);var ps=[1,Dd,Za,Ml,yr,Je,Ke,0];return Qe.FileIndex[0].size=Ke<<6,ps[7]=(Qe.FileIndex[0].start=ps[0]+ps[1]+ps[2]+ps[3]+ps[4]+ps[5])+(ps[6]+7>>3),ps})(le),pe=an(fe[7]<<9),ge=0,Ce=0;{for(ge=0;ge<8;++ge)pe.write_shift(1,ie[ge]);for(ge=0;ge<8;++ge)pe.write_shift(2,0);for(pe.write_shift(2,62),pe.write_shift(2,3),pe.write_shift(2,65534),pe.write_shift(2,9),pe.write_shift(2,6),ge=0;ge<3;++ge)pe.write_shift(2,0);for(pe.write_shift(4,0),pe.write_shift(4,fe[2]),pe.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),pe.write_shift(4,0),pe.write_shift(4,4096),pe.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:X),pe.write_shift(4,fe[3]),pe.write_shift(-4,fe[1]?fe[0]-1:X),pe.write_shift(4,fe[1]),ge=0;ge<109;++ge)pe.write_shift(-4,ge<fe[2]?fe[1]+ge:-1)}if(fe[1])for(Ce=0;Ce<fe[1];++Ce){for(;ge<236+Ce*127;++ge)pe.write_shift(-4,ge<fe[2]?fe[1]+ge:-1);pe.write_shift(-4,Ce===fe[1]-1?X:Ce+1)}var Ue=function(Qe){for(Ce+=Qe;ge<Ce-1;++ge)pe.write_shift(-4,ge+1);Qe&&(++ge,pe.write_shift(-4,X))};for(Ce=ge=0,Ce+=fe[1];ge<Ce;++ge)pe.write_shift(-4,ee.DIFSECT);for(Ce+=fe[2];ge<Ce;++ge)pe.write_shift(-4,ee.FATSECT);Ue(fe[3]),Ue(fe[4]);for(var Ae=0,Re=0,Oe=le.FileIndex[0];Ae<le.FileIndex.length;++Ae)Oe=le.FileIndex[Ae],Oe.content&&(Re=Oe.content.length,!(Re<4096)&&(Oe.start=Ce,Ue(Re+511>>9)));for(Ue(fe[6]+7>>3);pe.l&511;)pe.write_shift(-4,ee.ENDOFCHAIN);for(Ce=ge=0,Ae=0;Ae<le.FileIndex.length;++Ae)Oe=le.FileIndex[Ae],Oe.content&&(Re=Oe.content.length,!(!Re||Re>=4096)&&(Oe.start=Ce,Ue(Re+63>>6)));for(;pe.l&511;)pe.write_shift(-4,ee.ENDOFCHAIN);for(ge=0;ge<fe[4]<<2;++ge){var Ge=le.FullPaths[ge];if(!Ge||Ge.length===0){for(Ae=0;Ae<17;++Ae)pe.write_shift(4,0);for(Ae=0;Ae<3;++Ae)pe.write_shift(4,-1);for(Ae=0;Ae<12;++Ae)pe.write_shift(4,0);continue}Oe=le.FileIndex[ge],ge===0&&(Oe.start=Oe.size?Oe.start-1:X);var Ye=ge===0&&de.root||Oe.name;if(Re=2*(Ye.length+1),pe.write_shift(64,Ye,"utf16le"),pe.write_shift(2,Re),pe.write_shift(1,Oe.type),pe.write_shift(1,Oe.color),pe.write_shift(-4,Oe.L),pe.write_shift(-4,Oe.R),pe.write_shift(-4,Oe.C),Oe.clsid)pe.write_shift(16,Oe.clsid,"hex");else for(Ae=0;Ae<4;++Ae)pe.write_shift(4,0);pe.write_shift(4,Oe.state||0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,Oe.start),pe.write_shift(4,Oe.size),pe.write_shift(4,0)}for(ge=1;ge<le.FileIndex.length;++ge)if(Oe=le.FileIndex[ge],Oe.size>=4096)if(pe.l=Oe.start+1<<9,Pt&&Buffer.isBuffer(Oe.content))Oe.content.copy(pe,pe.l,0,Oe.size),pe.l+=Oe.size+511&-512;else{for(Ae=0;Ae<Oe.size;++Ae)pe.write_shift(1,Oe.content[Ae]);for(;Ae&511;++Ae)pe.write_shift(1,0)}for(ge=1;ge<le.FileIndex.length;++ge)if(Oe=le.FileIndex[ge],Oe.size>0&&Oe.size<4096)if(Pt&&Buffer.isBuffer(Oe.content))Oe.content.copy(pe,pe.l,0,Oe.size),pe.l+=Oe.size+63&-64;else{for(Ae=0;Ae<Oe.size;++Ae)pe.write_shift(1,Oe.content[Ae]);for(;Ae&63;++Ae)pe.write_shift(1,0)}if(Pt)pe.l=pe.length;else for(;pe.l<pe.length;)pe.write_shift(1,0);return pe}function ae(le,me){var de=le.FullPaths.map(function(Ae){return Ae.toUpperCase()}),fe=de.map(function(Ae){var Re=Ae.split("/");return Re[Re.length-(Ae.slice(-1)=="/"?2:1)]}),pe=!1;me.charCodeAt(0)===47?(pe=!0,me=de[0].slice(0,-1)+me):pe=me.indexOf("/")!==-1;var ge=me.toUpperCase(),Ce=pe===!0?de.indexOf(ge):fe.indexOf(ge);if(Ce!==-1)return le.FileIndex[Ce];var Ue=!ge.match(qf);for(ge=ge.replace(ls,""),Ue&&(ge=ge.replace(qf,"!")),Ce=0;Ce<de.length;++Ce)if((Ue?de[Ce].replace(qf,"!"):de[Ce]).replace(ls,"")==ge||(Ue?fe[Ce].replace(qf,"!"):fe[Ce]).replace(ls,"")==ge)return le.FileIndex[Ce];return null}var P=64,X=-2,M="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:X,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function xe(le,me,de){f();var fe=Z(le,de);c.writeFileSync(me,fe)}function oe(le){for(var me=new Array(le.length),de=0;de<le.length;++de)me[de]=String.fromCharCode(le[de]);return me.join("")}function we(le,me){var de=Z(le,me);switch(me&&me.type||"buffer"){case"file":return f(),c.writeFileSync(me.filename,de),de;case"binary":return typeof de=="string"?de:oe(de);case"base64":return v4(typeof de=="string"?de:oe(de));case"buffer":if(Pt)return Buffer.isBuffer(de)?de:Pc(de);case"array":return typeof de=="string"?La(de):de}return de}var G;function D(le){try{var me=le.InflateRaw,de=new me;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)G=le;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function W(le,me){if(!G)return Ya(le,me);var de=G.InflateRaw,fe=new de,pe=fe._processChunk(le.slice(le.l),fe._finishFlushFlag);return le.l+=fe.bytesRead,pe}function K(le){return G?G.deflateRawSync(le):lt(le)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],I=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function F(le){var me=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(me>>16|me>>8|me)&255}for(var ne=typeof Uint8Array<"u",te=ne?new Uint8Array(256):[],Q=0;Q<256;++Q)te[Q]=F(Q);function z(le,me){var de=te[le&255];return me<=8?de>>>8-me:(de=de<<8|te[le>>8&255],me<=16?de>>>16-me:(de=de<<8|te[le>>16&255],de>>>24-me))}function be(le,me){var de=me&7,fe=me>>>3;return(le[fe]|(de<=6?0:le[fe+1]<<8))>>>de&3}function B(le,me){var de=me&7,fe=me>>>3;return(le[fe]|(de<=5?0:le[fe+1]<<8))>>>de&7}function Ee(le,me){var de=me&7,fe=me>>>3;return(le[fe]|(de<=4?0:le[fe+1]<<8))>>>de&15}function q(le,me){var de=me&7,fe=me>>>3;return(le[fe]|(de<=3?0:le[fe+1]<<8))>>>de&31}function C(le,me){var de=me&7,fe=me>>>3;return(le[fe]|(de<=1?0:le[fe+1]<<8))>>>de&127}function j(le,me,de){var fe=me&7,pe=me>>>3,ge=(1<<de)-1,Ce=le[pe]>>>fe;return de<8-fe||(Ce|=le[pe+1]<<8-fe,de<16-fe)||(Ce|=le[pe+2]<<16-fe,de<24-fe)||(Ce|=le[pe+3]<<24-fe),Ce&ge}function U(le,me,de){var fe=me&7,pe=me>>>3;return fe<=5?le[pe]|=(de&7)<<fe:(le[pe]|=de<<fe&255,le[pe+1]=(de&7)>>8-fe),me+3}function ue(le,me,de){var fe=me&7,pe=me>>>3;return de=(de&1)<<fe,le[pe]|=de,me+1}function ye(le,me,de){var fe=me&7,pe=me>>>3;return de<<=fe,le[pe]|=de&255,de>>>=8,le[pe+1]=de,me+8}function he(le,me,de){var fe=me&7,pe=me>>>3;return de<<=fe,le[pe]|=de&255,de>>>=8,le[pe+1]=de&255,le[pe+2]=de>>>8,me+16}function ke(le,me){var de=le.length,fe=2*de>me?2*de:me+5,pe=0;if(de>=me)return le;if(Pt){var ge=b4(fe);if(le.copy)le.copy(ge);else for(;pe<le.length;++pe)ge[pe]=le[pe];return ge}else if(ne){var Ce=new Uint8Array(fe);if(Ce.set)Ce.set(le);else for(;pe<de;++pe)Ce[pe]=le[pe];return Ce}return le.length=fe,le}function De(le){for(var me=new Array(le),de=0;de<le;++de)me[de]=0;return me}function Pe(le,me,de){var fe=1,pe=0,ge=0,Ce=0,Ue=0,Ae=le.length,Re=ne?new Uint16Array(32):De(32);for(ge=0;ge<32;++ge)Re[ge]=0;for(ge=Ae;ge<de;++ge)le[ge]=0;Ae=le.length;var Oe=ne?new Uint16Array(Ae):De(Ae);for(ge=0;ge<Ae;++ge)Re[pe=le[ge]]++,fe<pe&&(fe=pe),Oe[ge]=0;for(Re[0]=0,ge=1;ge<=fe;++ge)Re[ge+16]=Ue=Ue+Re[ge-1]<<1;for(ge=0;ge<Ae;++ge)Ue=le[ge],Ue!=0&&(Oe[ge]=Re[Ue+16]++);var Ge=0;for(ge=0;ge<Ae;++ge)if(Ge=le[ge],Ge!=0)for(Ue=z(Oe[ge],fe)>>fe-Ge,Ce=(1<<fe+4-Ge)-1;Ce>=0;--Ce)me[Ue|Ce<<Ge]=Ge&15|ge<<4;return fe}var We=ne?new Uint16Array(512):De(512),et=ne?new Uint16Array(32):De(32);if(!ne){for(var tt=0;tt<512;++tt)We[tt]=0;for(tt=0;tt<32;++tt)et[tt]=0}(function(){for(var le=[],me=0;me<32;me++)le.push(5);Pe(le,et,32);var de=[];for(me=0;me<=143;me++)de.push(8);for(;me<=255;me++)de.push(9);for(;me<=279;me++)de.push(7);for(;me<=287;me++)de.push(8);Pe(de,We,288)})();var Ht=(function(){for(var me=ne?new Uint8Array(32768):[],de=0,fe=0;de<I.length-1;++de)for(;fe<I[de+1];++fe)me[fe]=de;for(;fe<32768;++fe)me[fe]=29;var pe=ne?new Uint8Array(259):[];for(de=0,fe=0;de<se.length-1;++de)for(;fe<se[de+1];++fe)pe[fe]=de;function ge(Ue,Ae){for(var Re=0;Re<Ue.length;){var Oe=Math.min(65535,Ue.length-Re),Ge=Re+Oe==Ue.length;for(Ae.write_shift(1,+Ge),Ae.write_shift(2,Oe),Ae.write_shift(2,~Oe&65535);Oe-- >0;)Ae[Ae.l++]=Ue[Re++]}return Ae.l}function Ce(Ue,Ae){for(var Re=0,Oe=0,Ge=ne?new Uint16Array(32768):[];Oe<Ue.length;){var Ye=Math.min(65535,Ue.length-Oe);if(Ye<10){for(Re=U(Ae,Re,+(Oe+Ye==Ue.length)),Re&7&&(Re+=8-(Re&7)),Ae.l=Re/8|0,Ae.write_shift(2,Ye),Ae.write_shift(2,~Ye&65535);Ye-- >0;)Ae[Ae.l++]=Ue[Oe++];Re=Ae.l*8;continue}Re=U(Ae,Re,+(Oe+Ye==Ue.length)+2);for(var Qe=0;Ye-- >0;){var Ke=Ue[Oe];Qe=(Qe<<5^Ke)&32767;var Je=-1,at=0;if((Je=Ge[Qe])&&(Je|=Oe&-32768,Je>Oe&&(Je-=32768),Je<Oe))for(;Ue[Je+at]==Ue[Oe+at]&&at<250;)++at;if(at>2){Ke=pe[at],Ke<=22?Re=ye(Ae,Re,te[Ke+1]>>1)-1:(ye(Ae,Re,3),Re+=5,ye(Ae,Re,te[Ke-23]>>5),Re+=3);var lr=Ke<8?0:Ke-4>>2;lr>0&&(he(Ae,Re,at-se[Ke]),Re+=lr),Ke=me[Oe-Je],Re=ye(Ae,Re,te[Ke]>>3),Re-=3;var cr=Ke<4?0:Ke-2>>1;cr>0&&(he(Ae,Re,Oe-Je-I[Ke]),Re+=cr);for(var yr=0;yr<at;++yr)Ge[Qe]=Oe&32767,Qe=(Qe<<5^Ue[Oe])&32767,++Oe;Ye-=at-1}else Ke<=143?Ke=Ke+48:Re=ue(Ae,Re,1),Re=ye(Ae,Re,te[Ke]),Ge[Qe]=Oe&32767,++Oe}Re=ye(Ae,Re,0)-1}return Ae.l=(Re+7)/8|0,Ae.l}return function(Ae,Re){return Ae.length<8?ge(Ae,Re):Ce(Ae,Re)}})();function lt(le){var me=an(50+Math.floor(le.length*1.1)),de=Ht(le,me);return me.slice(0,de)}var jt=ne?new Uint16Array(32768):De(32768),sr=ne?new Uint16Array(32768):De(32768),ht=ne?new Uint16Array(128):De(128),Jt=1,un=1;function Zt(le,me){var de=q(le,me)+257;me+=5;var fe=q(le,me)+1;me+=5;var pe=Ee(le,me)+4;me+=4;for(var ge=0,Ce=ne?new Uint8Array(19):De(19),Ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ae=1,Re=ne?new Uint8Array(8):De(8),Oe=ne?new Uint8Array(8):De(8),Ge=Ce.length,Ye=0;Ye<pe;++Ye)Ce[re[Ye]]=ge=B(le,me),Ae<ge&&(Ae=ge),Re[ge]++,me+=3;var Qe=0;for(Re[0]=0,Ye=1;Ye<=Ae;++Ye)Oe[Ye]=Qe=Qe+Re[Ye-1]<<1;for(Ye=0;Ye<Ge;++Ye)(Qe=Ce[Ye])!=0&&(Ue[Ye]=Oe[Qe]++);var Ke=0;for(Ye=0;Ye<Ge;++Ye)if(Ke=Ce[Ye],Ke!=0){Qe=te[Ue[Ye]]>>8-Ke;for(var Je=(1<<7-Ke)-1;Je>=0;--Je)ht[Qe|Je<<Ke]=Ke&7|Ye<<3}var at=[];for(Ae=1;at.length<de+fe;)switch(Qe=ht[C(le,me)],me+=Qe&7,Qe>>>=3){case 16:for(ge=3+be(le,me),me+=2,Qe=at[at.length-1];ge-- >0;)at.push(Qe);break;case 17:for(ge=3+B(le,me),me+=3;ge-- >0;)at.push(0);break;case 18:for(ge=11+C(le,me),me+=7;ge-- >0;)at.push(0);break;default:at.push(Qe),Ae<Qe&&(Ae=Qe);break}var lr=at.slice(0,de),cr=at.slice(de);for(Ye=de;Ye<286;++Ye)lr[Ye]=0;for(Ye=fe;Ye<30;++Ye)cr[Ye]=0;return Jt=Pe(lr,jt,286),un=Pe(cr,sr,30),me}function Eo(le,me){if(le[0]==3&&!(le[1]&3))return[Sl(me),2];for(var de=0,fe=0,pe=b4(me||1<<18),ge=0,Ce=pe.length>>>0,Ue=0,Ae=0;(fe&1)==0;){if(fe=B(le,de),de+=3,fe>>>1)fe>>1==1?(Ue=9,Ae=5):(de=Zt(le,de),Ue=Jt,Ae=un);else{de&7&&(de+=8-(de&7));var Re=le[de>>>3]|le[(de>>>3)+1]<<8;if(de+=32,Re>0)for(!me&&Ce<ge+Re&&(pe=ke(pe,ge+Re),Ce=pe.length);Re-- >0;)pe[ge++]=le[de>>>3],de+=8;continue}for(;;){!me&&Ce<ge+32767&&(pe=ke(pe,ge+32767),Ce=pe.length);var Oe=j(le,de,Ue),Ge=fe>>>1==1?We[Oe]:jt[Oe];if(de+=Ge&15,Ge>>>=4,(Ge>>>8&255)===0)pe[ge++]=Ge;else{if(Ge==256)break;Ge-=257;var Ye=Ge<8?0:Ge-4>>2;Ye>5&&(Ye=0);var Qe=ge+se[Ge];Ye>0&&(Qe+=j(le,de,Ye),de+=Ye),Oe=j(le,de,Ae),Ge=fe>>>1==1?et[Oe]:sr[Oe],de+=Ge&15,Ge>>>=4;var Ke=Ge<4?0:Ge-2>>1,Je=I[Ge];for(Ke>0&&(Je+=j(le,de,Ke),de+=Ke),!me&&Ce<Qe&&(pe=ke(pe,Qe+100),Ce=pe.length);ge<Qe;)pe[ge]=pe[ge-Je],++ge}}}return me?[pe,de+7>>>3]:[pe.slice(0,ge),de+7>>>3]}function Ya(le,me){var de=le.slice(le.l||0),fe=Eo(de,me);return le.l+=fe[1],fe[0]}function Zn(le,me){if(le)typeof console<"u"&&console.error(me);else throw new Error(me)}function Ra(le,me){var de=le;kn(de,0);var fe=[],pe=[],ge={FileIndex:fe,FullPaths:pe};R(ge,{root:me.root});for(var Ce=de.length-4;(de[Ce]!=80||de[Ce+1]!=75||de[Ce+2]!=5||de[Ce+3]!=6)&&Ce>=0;)--Ce;de.l=Ce+4,de.l+=4;var Ue=de.read_shift(2);de.l+=6;var Ae=de.read_shift(4);for(de.l=Ae,Ce=0;Ce<Ue;++Ce){de.l+=20;var Re=de.read_shift(4),Oe=de.read_shift(4),Ge=de.read_shift(2),Ye=de.read_shift(2),Qe=de.read_shift(2);de.l+=8;var Ke=de.read_shift(4),Je=o(de.slice(de.l+Ge,de.l+Ge+Ye));de.l+=Ge+Ye+Qe;var at=de.l;de.l=Ke+4,ja(de,Re,Oe,ge,Je),de.l=at}return ge}function ja(le,me,de,fe,pe){le.l+=2;var ge=le.read_shift(2),Ce=le.read_shift(2),Ue=i(le);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var Ae=le.read_shift(4),Re=le.read_shift(4),Oe=le.read_shift(4),Ge=le.read_shift(2),Ye=le.read_shift(2),Qe="",Ke=0;Ke<Ge;++Ke)Qe+=String.fromCharCode(le[le.l++]);if(Ye){var Je=o(le.slice(le.l,le.l+Ye));(Je[21589]||{}).mt&&(Ue=Je[21589].mt),((pe||{})[21589]||{}).mt&&(Ue=pe[21589].mt)}le.l+=Ye;var at=le.slice(le.l,le.l+Re);switch(Ce){case 8:at=W(le,Oe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var lr=!1;ge&8&&(Ae=le.read_shift(4),Ae==134695760&&(Ae=le.read_shift(4),lr=!0),Re=le.read_shift(4),Oe=le.read_shift(4)),Re!=me&&Zn(lr,"Bad compressed size: "+me+" != "+Re),Oe!=de&&Zn(lr,"Bad uncompressed size: "+de+" != "+Oe),fn(fe,Qe,at,{unsafe:!0,mt:Ue})}function Qn(le,me){var de=me||{},fe=[],pe=[],ge=an(1),Ce=de.compression?8:0,Ue=0,Ae=0,Re=0,Oe=0,Ge=0,Ye=le.FullPaths[0],Qe=Ye,Ke=le.FileIndex[0],Je=[],at=0;for(Ae=1;Ae<le.FullPaths.length;++Ae)if(Qe=le.FullPaths[Ae].slice(Ye.length),Ke=le.FileIndex[Ae],!(!Ke.size||!Ke.content||Qe=="Sh33tJ5")){var lr=Oe,cr=an(Qe.length);for(Re=0;Re<Qe.length;++Re)cr.write_shift(1,Qe.charCodeAt(Re)&127);cr=cr.slice(0,cr.l),Je[Ge]=YX.buf(Ke.content,0);var yr=Ke.content;Ce==8&&(yr=K(yr)),ge=an(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,Ue),ge.write_shift(2,Ce),Ke.mt?a(ge,Ke.mt):ge.write_shift(4,0),ge.write_shift(-4,Je[Ge]),ge.write_shift(4,yr.length),ge.write_shift(4,Ke.content.length),ge.write_shift(2,cr.length),ge.write_shift(2,0),Oe+=ge.length,fe.push(ge),Oe+=cr.length,fe.push(cr),Oe+=yr.length,fe.push(yr),ge=an(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,Ue),ge.write_shift(2,Ce),ge.write_shift(4,0),ge.write_shift(-4,Je[Ge]),ge.write_shift(4,yr.length),ge.write_shift(4,Ke.content.length),ge.write_shift(2,cr.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,lr),at+=ge.l,pe.push(ge),at+=cr.length,pe.push(cr),++Ge}return ge=an(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,Ge),ge.write_shift(2,Ge),ge.write_shift(4,at),ge.write_shift(4,Oe),ge.write_shift(2,0),rl([rl(fe),rl(pe),ge])}var Hr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pt(le,me){if(le.ctype)return le.ctype;var de=le.name||"",fe=de.match(/\.([^\.]+)$/);return fe&&Hr[fe[1]]||me&&(fe=(de=me).match(/[\.\\]([^\.\\])+$/),fe&&Hr[fe[1]])?Hr[fe[1]]:"application/octet-stream"}function or(le){for(var me=v4(le),de=[],fe=0;fe<me.length;fe+=76)de.push(me.slice(fe,fe+76));return de.join(`\r
`)+`\r
`}function qr(le){var me=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Re){var Oe=Re.charCodeAt(0).toString(16).toUpperCase();return"="+(Oe.length==1?"0"+Oe:Oe)});me=me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),me.charAt(0)==`
`&&(me="=0D"+me.slice(1)),me=me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],fe=me.split(`\r
`),pe=0;pe<fe.length;++pe){var ge=fe[pe];if(ge.length==0){de.push("");continue}for(var Ce=0;Ce<ge.length;){var Ue=76,Ae=ge.slice(Ce,Ce+Ue);Ae.charAt(Ue-1)=="="?Ue--:Ae.charAt(Ue-2)=="="?Ue-=2:Ae.charAt(Ue-3)=="="&&(Ue-=3),Ae=ge.slice(Ce,Ce+Ue),Ce+=Ue,Ce<ge.length&&(Ae+="="),de.push(Ae)}}return de.join(`\r
`)}function dn(le){for(var me=[],de=0;de<le.length;++de){for(var fe=le[de];de<=le.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+le[++de];me.push(fe)}for(var pe=0;pe<me.length;++pe)me[pe]=me[pe].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return La(me.join(`\r
`))}function Ja(le,me,de){for(var fe="",pe="",ge="",Ce,Ue=0;Ue<10;++Ue){var Ae=me[Ue];if(!Ae||Ae.match(/^\s*$/))break;var Re=Ae.match(/^(.*?):\s*([^\s].*)$/);if(Re)switch(Re[1].toLowerCase()){case"content-location":fe=Re[2].trim();break;case"content-type":ge=Re[2].trim();break;case"content-transfer-encoding":pe=Re[2].trim();break}}switch(++Ue,pe.toLowerCase()){case"base64":Ce=La(Gs(me.slice(Ue).join("")));break;case"quoted-printable":Ce=dn(me.slice(Ue));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pe)}var Oe=fn(le,fe.slice(de.length),Ce,{unsafe:!0});ge&&(Oe.ctype=ge)}function hr(le,me){if(oe(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=me&&me.root||"",fe=(Pt&&Buffer.isBuffer(le)?le.toString("binary"):oe(le)).split(`\r
`),pe=0,ge="";for(pe=0;pe<fe.length;++pe)if(ge=fe[pe],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),de||(de=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),ge.slice(0,de.length)!=de););var Ce=(fe[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var Ue="--"+(Ce[1]||""),Ae=[],Re=[],Oe={FileIndex:Ae,FullPaths:Re};R(Oe);var Ge,Ye=0;for(pe=0;pe<fe.length;++pe){var Qe=fe[pe];Qe!==Ue&&Qe!==Ue+"--"||(Ye++&&Ja(Oe,fe.slice(Ge,pe),de),Ge=pe)}return Oe}function Pn(le,me){var de=me||{},fe=de.boundary||"SheetJS";fe="------="+fe;for(var pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],ge=le.FullPaths[0],Ce=ge,Ue=le.FileIndex[0],Ae=1;Ae<le.FullPaths.length;++Ae)if(Ce=le.FullPaths[Ae].slice(ge.length),Ue=le.FileIndex[Ae],!(!Ue.size||!Ue.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(at){return"_x"+at.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(at){return"_u"+at.charCodeAt(0).toString(16)+"_"});for(var Re=Ue.content,Oe=Pt&&Buffer.isBuffer(Re)?Re.toString("binary"):oe(Re),Ge=0,Ye=Math.min(1024,Oe.length),Qe=0,Ke=0;Ke<=Ye;++Ke)(Qe=Oe.charCodeAt(Ke))>=32&&Qe<128&&++Ge;var Je=Ge>=Ye*4/5;pe.push(fe),pe.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Ce),pe.push("Content-Transfer-Encoding: "+(Je?"quoted-printable":"base64")),pe.push("Content-Type: "+pt(Ue,Ce)),pe.push(""),pe.push(Je?qr(Oe):or(Oe))}return pe.push(fe+`--\r
`),pe.join(`\r
`)}function Ti(le){var me={};return R(me,le),me}function fn(le,me,de,fe){var pe=fe&&fe.unsafe;pe||R(le);var ge=!pe&&Bt.find(le,me);if(!ge){var Ce=le.FullPaths[0];me.slice(0,Ce.length)==Ce?Ce=me:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+me).replace("//","/")),ge={name:s(me),type:2},le.FileIndex.push(ge),le.FullPaths.push(Ce),pe||Bt.utils.cfb_gc(le)}return ge.content=de,ge.size=de?de.length:0,fe&&(fe.CLSID&&(ge.clsid=fe.CLSID),fe.mt&&(ge.mt=fe.mt),fe.ct&&(ge.ct=fe.ct)),ge}function Ln(le,me){R(le);var de=Bt.find(le,me);if(de){for(var fe=0;fe<le.FileIndex.length;++fe)if(le.FileIndex[fe]==de)return le.FileIndex.splice(fe,1),le.FullPaths.splice(fe,1),!0}return!1}function _o(le,me,de){R(le);var fe=Bt.find(le,me);if(fe){for(var pe=0;pe<le.FileIndex.length;++pe)if(le.FileIndex[pe]==fe)return le.FileIndex[pe].name=s(de),le.FullPaths[pe]=de,!0}return!1}function js(le){O(le,!0)}return t.find=ae,t.read=L,t.parse=h,t.write=we,t.writeFile=xe,t.utils={cfb_new:Ti,cfb_add:fn,cfb_del:Ln,cfb_mov:_o,cfb_gc:js,ReadShift:th,CheckField:JD,prep_blob:kn,bconcat:rl,use_zlib:D,_deflateRaw:lt,_inflateRaw:Ya,consts:ee},t})();function JX(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function bi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function u_(e){for(var t=[],r=bi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var cx=new Date(1899,11,30,0,0,0);function us(e,t){var r=e.getTime(),n=cx.getTime()+(e.getTimezoneOffset()-cx.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var RD=new Date,ZX=cx.getTime()+(RD.getTimezoneOffset()-cx.getTimezoneOffset())*6e4,A4=RD.getTimezoneOffset();function jg(e){var t=new Date;return t.setTime(e*24*60*60*1e3+ZX),t.getTimezoneOffset()!==A4&&t.setTime(t.getTime()+(t.getTimezoneOffset()-A4)*6e4),t}function QX(e){var t=0,r=0,n=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=s.length;++a)if(s[a]){switch(r=1,a>3&&(n=!0),s[a].slice(s[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[a].slice(s[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(s[a],10)}return t}var k4=new Date("2017-02-19T19:06:09.000Z"),jD=isNaN(k4.getFullYear())?new Date("2/19/17"):k4,eY=jD.getFullYear()==2017;function bn(e,t){var r=new Date(e);if(eY)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(jD.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function kc(e,t){if(Pt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return $f(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return $f(gD(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return $f(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return $f(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function In(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=In(e[r]));return t}function kr(e,t){for(var r="";r.length<t;)r+=e;return r}function Va(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var tY=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ju(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&tY.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var rY=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,s){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),i=[a[0]],o=1;o<a.length;++o)i.push(s),i.push(a[o]);return i}})();function OD(e){return e?e.content&&e.type?kc(e.content,!0):e.data?Hf(e.data):e.asNodeBuffer&&Pt?Hf(e.asNodeBuffer().toString("binary")):e.asBinary?Hf(e.asBinary()):e._data&&e._data.getContent?Hf(kc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function DD(e){if(!e)return null;if(e.data)return g4(e.data);if(e.asNodeBuffer&&Pt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?g4(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function nY(e){return e&&e.name.slice(-4)===".bin"?DD(e):OD(e)}function ma(e,t){for(var r=e.FullPaths||bi(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var i=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||s==i)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function d_(e,t){var r=ma(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Jr(e,t,r){if(!r)return nY(d_(e,t));if(!t)return null;try{return Jr(e,t)}catch{return null}}function Hs(e,t,r){if(!r)return OD(d_(e,t));if(!t)return null;try{return Hs(e,t)}catch{return null}}function sY(e,t,r){return DD(d_(e,t))}function R4(e){for(var t=e.FullPaths||bi(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function aY(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Pt?n=Pc(r):n=SX(r),Bt.utils.cfb_add(e,t,n)}Bt.utils.cfb_add(e,t,r)}else e.file(t,r)}function ID(e,t){switch(t.type){case"base64":return Bt.read(e,{type:"base64"});case"binary":return Bt.read(e,{type:"binary"});case"buffer":case"array":return Bt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Vf(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var s=n.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var MD=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,iY=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,j4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,oY=/<[^>]*>/g,Yn=MD.match(j4)?j4:oY,lY=/<\w*:/,cY=/<(\/?)\w+:/;function mt(e,t,r){for(var n={},s=0,a=0;s!==e.length&&!((a=e.charCodeAt(s))===32||a===10||a===13);++s);if(t||(n[0]=e.slice(0,s)),s===e.length)return n;var i=e.match(iY),o=0,c="",f=0,h="",m="",x=1;if(i)for(f=0;f!=i.length;++f){for(m=i[f],a=0;a!=m.length&&m.charCodeAt(a)!==61;++a);for(h=m.slice(0,a).trim();m.charCodeAt(a+1)==32;)++a;for(x=(s=m.charCodeAt(a+1))==34||s==39?1:0,c=m.slice(a+1+x,m.length-x),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=c,n[h.toLowerCase()]=c;else{var g=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[g]&&h.slice(o-3,o)=="ext")continue;n[g]=c,n[g.toLowerCase()]=c}}return n}function _i(e){return e.replace(cY,"<$1")}var FD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},uY=u_(FD),zt=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var s=n+"",a=s.indexOf("<![CDATA[");if(a==-1)return s.replace(e,function(o,c){return FD[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var i=s.indexOf("]]>");return r(s.slice(0,a))+s.slice(a+9,i)+r(s.slice(i+3))}})(),dY=/[&<>'"]/g,fY=/[\u0000-\u001f]/g;function f_(e){var t=e+"";return t.replace(dY,function(r){return uY[r]}).replace(/\n/g,"<br/>").replace(fY,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var O4=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function br(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Dv(e){for(var t="",r=0,n=0,s=0,a=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=s&63,t+=String.fromCharCode(i);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(s&63)<<12|(a&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function D4(e){var t=Sl(2*e.length),r,n,s=1,a=0,i=0,o;for(n=0;n<e.length;n+=s)s=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),s=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[a++]=i&255,t[a++]=i>>>8,i=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function I4(e){return Pc(e,"binary").toString("utf8")}var Qp="foo bar baz",dr=Pt&&(I4(Qp)==Dv(Qp)&&I4||D4(Qp)==Dv(Qp)&&D4)||Dv,$f=Pt?function(e){return Pc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Oh=(function(){var e={};return function(r,n){var s=r+"|"+(n||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),PD=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}})(),hY=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),pY=/<\/?(?:vt:)?variant>/g,mY=/<(?:vt:)([^>]*)>([\s\S]*)</;function M4(e,t){var r=mt(e),n=e.match(hY(r.baseType))||[],s=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return s}return n.forEach(function(a){var i=a.replace(pY,"").match(mY);i&&s.push({v:dr(i[2]),t:i[1]})}),s}var xY=/(^\s|\s$|\n)/;function gY(e){return bi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function yY(e,t,r){return"<"+e+(r!=null?gY(r):"")+(t!=null?(t.match(xY)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function h_(e){if(Pt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return dr(Lc(o_(e)));throw new Error("Bad input format: expected Buffer or string")}var Dh=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,vY={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},bY=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function wY(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,a=5;a>=0;--a)s=s*256+e[t+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function EY(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,a=0,i=n?-t:t;isFinite(i)?i==0?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(s&15)<<4|a&15,e[r+7]=s>>4|n}var F4=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,a=e[0][n].length;s<a;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},P4=Pt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Pc(t)})):F4(e)}:F4,L4=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(to(e,s)));return n.join("").replace(ls,"")},p_=Pt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ls,""):L4(e,t,r)}:L4,B4=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},LD=Pt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):B4(e,t,r)}:B4,U4=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(Ou(e,s)));return n.join("")},m0=Pt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):U4(t,r,n)}:U4,BD=function(e,t){var r=zs(e,t);return r>0?m0(e,t+4,t+4+r-1):""},UD=BD,zD=function(e,t){var r=zs(e,t);return r>0?m0(e,t+4,t+4+r-1):""},HD=zD,qD=function(e,t){var r=2*zs(e,t);return r>0?m0(e,t+4,t+4+r-1):""},VD=qD,$D=function(t,r){var n=zs(t,r);return n>0?p_(t,r+4,r+4+n):""},WD=$D,GD=function(e,t){var r=zs(e,t);return r>0?m0(e,t+4,t+4+r):""},KD=GD,XD=function(e,t){return wY(e,t)},ux=XD,YD=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Pt&&(UD=function(t,r){if(!Buffer.isBuffer(t))return BD(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},HD=function(t,r){if(!Buffer.isBuffer(t))return zD(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},VD=function(t,r){if(!Buffer.isBuffer(t))return qD(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},WD=function(t,r){if(!Buffer.isBuffer(t))return $D(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},KD=function(t,r){if(!Buffer.isBuffer(t))return GD(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},ux=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):XD(t,r)},YD=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Ou=function(e,t){return e[t]},to=function(e,t){return e[t+1]*256+e[t]},_Y=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},zs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},rc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},SY=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function th(e,t){var r="",n,s,a=[],i,o,c,f;switch(t){case"dbcs":if(f=this.l,Pt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(to(this,f)),f+=2;e*=2;break;case"utf8":r=m0(this,this.l,this.l+e);break;case"utf16le":e*=2,r=p_(this,this.l,this.l+e);break;case"wstr":return th.call(this,e,"dbcs");case"lpstr-ansi":r=UD(this,this.l),e=4+zs(this,this.l);break;case"lpstr-cp":r=HD(this,this.l),e=4+zs(this,this.l);break;case"lpwstr":r=VD(this,this.l),e=4+2*zs(this,this.l);break;case"lpp4":e=4+zs(this,this.l),r=WD(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+zs(this,this.l),r=KD(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Ou(this,this.l+e++))!==0;)a.push(Zp(i));r=a.join("");break;case"_wstr":for(e=0,r="";(i=to(this,this.l+e))!==0;)a.push(Zp(i)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",f=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return i=Ou(this,f),this.l=f+1,o=th.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Zp(to(this,f))),f+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return i=Ou(this,f),this.l=f+1,o=th.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Zp(Ou(this,f))),f+=1}r=a.join("");break;default:switch(e){case 1:return n=Ou(this,this.l),this.l++,n;case 2:return n=(t==="i"?_Y:to)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?rc:SY)(this,this.l),this.l+=4,n):(s=zs(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=ux(this,this.l):s=ux([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=LD(this,this.l,e);break}}return this.l+=e,r}var NY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},TY=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},CY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function AY(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)CY(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var i=t.charCodeAt(s);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,NY(this,t,this.l);break;case 8:if(n=8,r==="f"){EY(this,t,this.l);break}case 16:break;case-4:n=4,TY(this,t,this.l);break}return this.l+=n,this}function JD(e,t){var r=LD(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function kn(e,t){e.l=t,e.read_shift=th,e.chk=JD,e.write_shift=AY}function Kn(e,t){e.l+=t}function an(e){var t=Sl(e);return kn(t,0),t}function vo(e,t,r){if(e){var n,s,a;kn(e,e.l||0);for(var i=e.length,o=0,c=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var f=xx[o]||xx[65535];for(n=e.read_shift(1),a=n&127,s=1;s<4&&n&128;++s)a+=((n=e.read_shift(1))&127)<<7*s;c=e.l+a;var h=f.f&&f.f(e,a,r);if(e.l=c,t(h,f,o))return}}}function j2(){var e=[],t=Pt?256:2048,r=function(f){var h=an(f);return kn(h,0),h},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(f){return n&&f<n.length-n.l?n:(s(),n=r(Math.max(f+1,t)))},i=function(){return s(),rl(e)},o=function(f){s(),n=f,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:i,_bufs:e}}function rh(e,t,r){var n=In(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function z4(e,t,r){var n=In(e);return n.s=rh(n.s,t.s,r),n.e=rh(n.e,t.s,r),n}function nh(e,t){if(e.cRel&&e.c<0)for(e=In(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=In(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=wt(e);return!e.cRel&&e.cRel!=null&&(r=jY(r)),!e.rRel&&e.rRel!=null&&(r=kY(r)),r}function Iv(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+on(e.s.c)+":"+(e.e.cRel?"":"$")+on(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Mn(e.s.r)+":"+(e.e.rRel?"":"$")+Mn(e.e.r):nh(e.s,t.biff)+":"+nh(e.e,t.biff)}function m_(e){return parseInt(RY(e),10)-1}function Mn(e){return""+(e+1)}function kY(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function RY(e){return e.replace(/\$(\d+)$/,"$1")}function x_(e){for(var t=OY(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function on(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function jY(e){return e.replace(/^([A-Z])/,"$$$1")}function OY(e){return e.replace(/^\$([A-Z])/,"$1")}function DY(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ss(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function wt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function kd(e){var t=e.indexOf(":");return t==-1?{s:ss(e),e:ss(e)}:{s:ss(e.slice(0,t)),e:ss(e.slice(t+1))}}function Ut(e,t){return typeof t>"u"||typeof t=="number"?Ut(e.s,e.e):(typeof e!="string"&&(e=wt(e)),typeof t!="string"&&(t=wt(t)),e==t?e:e+":"+t)}function Or(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=e.length;for(r=0;n<a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===a||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function H4(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Na(e.z,r?us(t):t)}catch{}try{return e.w=Na((e.XF||{}).numFmtId||(r?14:0),r?us(t):t)}catch{return""+t}}function xo(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?zc[e.v]||e.v:t==null?H4(e,e.v):H4(e,t))}function kl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function ZD(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,a=e||(s?[]:{}),i=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ss(n.origin):n.origin;i=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=Or(a["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),i==-1&&(f.e.r=i=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[m].length;++x)if(!(typeof t[m][x]>"u")){var g={v:t[m][x]},v=i+m,y=o+x;if(f.s.r>v&&(f.s.r=v),f.s.c>y&&(f.s.c=y),f.e.r<v&&(f.e.r=v),f.e.c<y&&(f.e.c=y),t[m][x]&&typeof t[m][x]=="object"&&!Array.isArray(t[m][x])&&!(t[m][x]instanceof Date))g=t[m][x];else if(Array.isArray(g.v)&&(g.f=t[m][x][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||Nt[14],n.cellDates?(g.t="d",g.w=Na(g.z,us(g.v))):(g.t="n",g.v=us(g.v),g.w=Na(g.z,g.v))):g.t="s";if(s)a[v]||(a[v]=[]),a[v][y]&&a[v][y].z&&(g.z=a[v][y].z),a[v][y]=g;else{var w=wt({c:y,r:v});a[w]&&a[w].z&&(g.z=a[w].z),a[w]=g}}}return f.s.c<1e7&&(a["!ref"]=Ut(f)),a}function Rd(e,t){return ZD(null,e,t)}function IY(e){return e.read_shift(4,"i")}function Wn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function MY(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function g_(e,t){var r=e.l,n=e.read_shift(1),s=Wn(e),a=[],i={t:s,h:s};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)a.push(MY(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var FY=g_;function ka(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Bc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var PY=Wn;function y_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var LY=Wn,O2=y_;function v_(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?ux([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):rc(t,0)>>2;return r?s/100:s}function QD(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Uc=QD;function Vn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function BY(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var f=xc[s];f&&(t.rgb=Mh(f));break;case 2:t.rgb=Mh([i,o,c]);break;case 3:t.theme=s;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function UY(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function e8(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function zY(e){return e8(e,1)}function HY(e){return e8(e,2)}var b_=2,Es=3,em=11,q4=12,dx=19,tm=64,qY=65,VY=71,$Y=4108,WY=4126,gn=80,t8=81,GY=[gn,t8],KY={1:{n:"CodePage",t:b_},2:{n:"Category",t:gn},3:{n:"PresentationFormat",t:gn},4:{n:"ByteCount",t:Es},5:{n:"LineCount",t:Es},6:{n:"ParagraphCount",t:Es},7:{n:"SlideCount",t:Es},8:{n:"NoteCount",t:Es},9:{n:"HiddenCount",t:Es},10:{n:"MultimediaClipCount",t:Es},11:{n:"ScaleCrop",t:em},12:{n:"HeadingPairs",t:$Y},13:{n:"TitlesOfParts",t:WY},14:{n:"Manager",t:gn},15:{n:"Company",t:gn},16:{n:"LinksUpToDate",t:em},17:{n:"CharacterCount",t:Es},19:{n:"SharedDoc",t:em},22:{n:"HyperlinksChanged",t:em},23:{n:"AppVersion",t:Es,p:"version"},24:{n:"DigSig",t:qY},26:{n:"ContentType",t:gn},27:{n:"ContentStatus",t:gn},28:{n:"Language",t:gn},29:{n:"Version",t:gn},255:{},2147483648:{n:"Locale",t:dx},2147483651:{n:"Behavior",t:dx},1919054434:{}},XY={1:{n:"CodePage",t:b_},2:{n:"Title",t:gn},3:{n:"Subject",t:gn},4:{n:"Author",t:gn},5:{n:"Keywords",t:gn},6:{n:"Comments",t:gn},7:{n:"Template",t:gn},8:{n:"LastAuthor",t:gn},9:{n:"RevNumber",t:gn},10:{n:"EditTime",t:tm},11:{n:"LastPrinted",t:tm},12:{n:"CreatedDate",t:tm},13:{n:"ModifiedDate",t:tm},14:{n:"PageCount",t:Es},15:{n:"WordCount",t:Es},16:{n:"CharCount",t:Es},17:{n:"Thumbnail",t:VY},18:{n:"Application",t:gn},19:{n:"DocSecurity",t:Es},255:{},2147483648:{n:"Locale",t:dx},2147483651:{n:"Behavior",t:dx},1919054434:{}},V4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},YY=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function JY(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var ZY=JY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),xc=In(ZY),zc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},r8={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},$4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function QY(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function eJ(e){var t=QY();if(!e||!e.match)return t;var r={};if((e.match(Yn)||[]).forEach(function(n){var s=mt(n);switch(s[0].replace(lY,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":t[$4[s.ContentType]]!==void 0&&t[$4[s.ContentType]].push(s.PartName);break}}),t.xmlns!==vY.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Pu={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function D2(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function sh(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Yn)||[]).forEach(function(s){var a=mt(s);if(a[0]==="<Relationship"){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:Vf(a.Target,t);r[o]=i,n[a.Id]=i}}),r["!id"]=n,r}var tJ="application/vnd.oasis.opendocument.spreadsheet";function rJ(e,t){for(var r=h_(e),n,s;n=Dh.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(s=mt(n[0],!1),s.path=="/"&&s.type!==tJ)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var ah=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],nJ=(function(){for(var e=new Array(ah.length),t=0;t<ah.length;++t){var r=ah[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function n8(e){var t={};e=dr(e);for(var r=0;r<ah.length;++r){var n=ah[r],s=e.match(nJ[r]);s!=null&&s.length>0&&(t[n[1]]=zt(s[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=bn(t[n[1]]))}return t}var sJ=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function s8(e,t,r,n){var s=[];if(typeof e=="string")s=M4(e,n);else for(var a=0;a<e.length;++a)s=s.concat(e[a].map(function(h){return{v:h}}));var i=typeof t=="string"?M4(t,n).map(function(h){return h.v}):t,o=0,c=0;if(i.length>0)for(var f=0;f!==s.length;f+=2){switch(c=+s[f+1].v,s[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(o,o+c);break}o+=c}}function aJ(e,t,r){var n={};return t||(t={}),e=dr(e),sJ.forEach(function(s){var a=(e.match(Oh(s[0]))||[])[1];switch(s[2]){case"string":a&&(t[s[1]]=zt(a));break;case"bool":t[s[1]]=a==="true";break;case"raw":var i=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));i&&i.length>0&&(n[s[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&s8(n.HeadingPairs,n.TitlesOfParts,t,r),t}var iJ=/<[^>]+>[^<]*/g;function oJ(e,t){var r={},n="",s=e.match(iJ);if(s)for(var a=0;a!=s.length;++a){var i=s[a],o=mt(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=zt(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),f=c[0].slice(4),h=c[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=zt(h);break;case"bool":r[n]=br(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=bn(h);break;case"cy":case"error":r[n]=zt(h);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,f,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var lJ={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Mv;function cJ(e,t,r){Mv||(Mv=u_(lJ)),t=Mv[t]||t,e[t]=r}function w_(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function a8(e,t,r){var n=e.l,s=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return s}function i8(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function o8(e,t,r){return t===31?i8(e):a8(e,t,r)}function I2(e,t,r){return o8(e,t,r===!1?0:4)}function uJ(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return o8(e,t,0)}function dJ(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var s=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ls,""),e.l-s&2&&(e.l+=2)}return r}function fJ(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ls,"");return r}function hJ(e){var t=e.l,r=fx(e,t8);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=fx(e,Es);return[r,n]}function pJ(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(hJ(e));return r}function W4(e,t){for(var r=e.read_shift(4),n={},s=0;s!=r;++s){var a=e.read_shift(4),i=e.read_shift(4);n[a]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(ls,"").replace(qf,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function l8(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function mJ(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function fx(e,t,r){var n=e.read_shift(2),s,a=r||{};if(e.l+=2,t!==q4&&n!==t&&GY.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===q4?n:t){case 2:return s=e.read_shift(2,"i"),a.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return a8(e,n,4).replace(ls,"");case 31:return i8(e);case 64:return w_(e);case 65:return l8(e);case 71:return mJ(e);case 80:return I2(e,n,!a.raw).replace(ls,"");case 81:return uJ(e,n).replace(ls,"");case 4108:return pJ(e);case 4126:case 4127:return n==4127?dJ(e):fJ(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function G4(e,t){var r=e.l,n=e.read_shift(4),s=e.read_shift(4),a=[],i=0,o=0,c=-1,f={};for(i=0;i!=s;++i){var h=e.read_shift(4),m=e.read_shift(4);a[i]=[h,m+r]}a.sort(function(N,_){return N[1]-_[1]});var x={};for(i=0;i!=s;++i){if(e.l!==a[i][1]){var g=!0;if(i>0&&t)switch(t[a[i-1][0]].t){case 2:e.l+2===a[i][1]&&(e.l+=2,g=!1);break;case 80:e.l<=a[i][1]&&(e.l=a[i][1],g=!1);break;case 4108:e.l<=a[i][1]&&(e.l=a[i][1],g=!1);break}if((!t||i==0)&&e.l<=a[i][1]&&(g=!1,e.l=a[i][1]),g)throw new Error("Read Error: Expected address "+a[i][1]+" at "+e.l+" :"+i)}if(t){var v=t[a[i][0]];if(x[v.n]=fx(e,v.t,{raw:!0}),v.p==="version"&&(x[v.n]=String(x[v.n]>>16)+"."+("0000"+String(x[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(x[v.n]){case 0:x[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:za(o=x[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[v.n])}}else if(a[i][0]===1){if(o=x.CodePage=fx(e,b_),za(o),c!==-1){var y=e.l;e.l=a[c][1],f=W4(e,o),e.l=y}}else if(a[i][0]===0){if(o===0){c=i,e.l=a[i+1][1];continue}f=W4(e,o)}else{var w=f[a[i][0]],E;switch(e[e.l]){case 65:e.l+=4,E=l8(e);break;case 30:e.l+=4,E=I2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,E=I2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,E=e.read_shift(4,"i");break;case 19:e.l+=4,E=e.read_shift(4);break;case 5:e.l+=4,E=e.read_shift(8,"f");break;case 11:e.l+=4,E=Mr(e,4);break;case 64:e.l+=4,E=bn(w_(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[w]=E}}return e.l=r+n,x}function K4(e,t,r){var n=e.content;if(!n)return{};kn(n,0);var s,a,i,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),h=n.read_shift(16);if(h!==Bt.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(a=n.read_shift(16),o=n.read_shift(4),s===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);s===2&&(i=n.read_shift(16),c=n.read_shift(4));var m=G4(n,t),x={SystemIdentifier:f};for(var g in m)x[g]=m[g];if(x.FMTID=a,s===1)return x;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var v;try{v=G4(n,null)}catch{}for(g in v)x[g]=v[g];return x.FMTID=[a,i],x}function Ko(e,t){return e.read_shift(t),null}function xJ(e,t,r){for(var n=[],s=e.l+t;e.l<s;)n.push(r(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return n}function Mr(e,t){return e.read_shift(t)===1}function Zr(e){return e.read_shift(2,"u")}function c8(e,t){return xJ(e,t,Zr)}function gJ(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function x0(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var i=n?e.read_shift(n,s):"";return i}function yJ(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,s=r&8,a=1+(r&1),i=0,o,c={};s&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var f=a==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,f);return s&&(e.l+=4*i),n&&(e.l+=o),c.t=h,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Rc(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function g0(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Rc(e,n,r)}function Hc(e,t,r){if(r.biff>5)return g0(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function vJ(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function bJ(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var s=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ls,"");return n&&(e.l+=24),s}function wJ(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(a>>1,"utf16le").replace(ls,"");return r+i}function EJ(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return bJ(e);case"0303000000000000c000000000000046":return wJ(e);default:throw new Error("Unsupported Moniker "+r)}}function rm(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ls,""):"";return r}function _J(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=e.read_shift(2);e.l+=2;var a,i,o,c,f="",h,m;s&16&&(a=rm(e,r-e.l)),s&128&&(i=rm(e,r-e.l)),(s&257)===257&&(o=rm(e,r-e.l)),(s&257)===1&&(c=EJ(e,r-e.l)),s&8&&(f=rm(e,r-e.l)),s&32&&(h=e.read_shift(16)),s&64&&(m=w_(e)),e.l=r;var x=i||o||c||"";x&&f&&(x+="#"+f),x||(x="#"+f),s&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var g={Target:x};return h&&(g.guid=h),m&&(g.time=m),a&&(g.Tooltip=a),g}function u8(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),s=e.read_shift(1);return[t,r,n,s]}function d8(e,t){var r=u8(e);return r[3]=0,r}function Si(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function SJ(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function NJ(e,t,r){return t===0?"":Hc(e,t,r)}function TJ(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),a=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[s,a,i]}function f8(e){var t=e.read_shift(2),r=v_(e);return[t,r]}function CJ(e,t,r){e.l+=4,t-=4;var n=e.l+t,s=x0(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,s}function Og(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function h8(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),s=e.read_shift(1);return{s:{c:n,r:t},e:{c:s,r}}}var AJ=h8;function p8(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function kJ(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function RJ(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Un(e){e.l+=2,e.l+=e.read_shift(2)}var jJ={0:Un,4:Un,5:Un,6:Un,7:RJ,8:Un,9:Un,10:Un,11:Un,12:Un,13:kJ,14:Un,15:Un,16:Un,17:Un,18:Un,19:Un,20:Un,21:p8};function OJ(e,t){for(var r=e.l+t,n=[];e.l<r;){var s=e.read_shift(2);e.l-=2;try{n.push(jJ[s](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function nm(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function DJ(e,t){return t===0||e.read_shift(2),1200}function IJ(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,s=Hc(e,0,r);return e.read_shift(t+n-e.l),s}function MJ(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function FJ(e,t,r){var n=e.read_shift(4),s=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var i=x0(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:s,dt:a,name:i}}function PJ(e,t){for(var r=e.l+t,n=e.read_shift(4),s=e.read_shift(4),a=[],i=0;i!=s&&e.l<r;++i)a.push(yJ(e));return a.Count=n,a.Unique=s,a}function LJ(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function BJ(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function UJ(e){var t=SJ(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function zJ(e){return e.read_shift(2),e.read_shift(4)}function X4(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var s=e.read_shift(2);r&&r.biff==2&&(n=1-(s>>15),s&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,s]}function HJ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[n,s],Flags:a,CurTab:i,FirstTab:o,Selected:c,TabRatio:f}}function qJ(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function VJ(){}function $J(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=x0(e,0,r),n}function WJ(e){var t=Si(e);return t.isst=e.read_shift(4),t}function GJ(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,s=Si(e);r.biff==2&&e.l++;var a=g0(e,n-e.l,r);return s.val=a,s}function KJ(e,t,r){var n=e.read_shift(2),s=Hc(e,0,r);return[n,s]}var XJ=Hc;function Y4(e,t,r){var n=e.l+t,s=r.biff==8||!r.biff?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:a,c:o},e:{r:i,c}}}function YJ(e){var t=e.read_shift(2),r=e.read_shift(2),n=f8(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function JJ(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),a=[];e.l<r;)a.push(f8(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(a.length!=i-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:i,rkrec:a}}function ZJ(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(a.length!=i-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:i,ixfe:a}}function QJ(e,t,r,n){var s={},a=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return s.patternType=YY[o>>26],n.cellStyles&&(s.alc=a&7,s.fWrap=a>>3&1,s.alcV=a>>4&7,s.fJustLast=a>>7&1,s.trot=a>>8&255,s.cIndent=a>>16&15,s.fShrinkToFit=a>>20&1,s.iReadOrder=a>>22&2,s.fAtrNum=a>>26&1,s.fAtrFnt=a>>27&1,s.fAtrAlc=a>>28&1,s.fAtrBdr=a>>29&1,s.fAtrPat=a>>30&1,s.fAtrProt=a>>31&1,s.dgLeft=i&15,s.dgRight=i>>4&15,s.dgTop=i>>8&15,s.dgBottom=i>>12&15,s.icvLeft=i>>16&127,s.icvRight=i>>23&127,s.grbitDiag=i>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function eZ(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=QJ(e,t,n.fStyle,r),n}function tZ(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function J4(e,t,r){var n=Si(e);(r.biff==2||t==9)&&++e.l;var s=gJ(e);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function rZ(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Si(e),s=Vn(e);return n.val=s,n}var Z4=NJ;function nZ(e,t,r){var n=e.l+t,s=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,s];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var i=Rc(e,a),o=[];n>e.l;)o.push(g0(e));return[a,s,i,o]}function Q4(e,t,r){var n=e.read_shift(2),s,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(s=CJ(e,t-2,r)),a.body=s||e.read_shift(t-2),typeof s=="string"&&(a.Name=s),a}var sZ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function e3(e,t,r){var n=e.l+t,s=e.read_shift(2),a=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=Rc(e,i,r);s&32&&(f=sZ[f.charCodeAt(0)]);var h=n-e.l;r&&r.biff==2&&--h;var m=n==e.l||o===0||!(h>0)?[]:Bte(e,h,r,o);return{chKey:a,Name:f,itab:c,rgce:m}}function m8(e,t,r){if(r.biff<8)return aZ(e,t,r);for(var n=[],s=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(TJ(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function aZ(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=x0(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function iZ(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),s=e.read_shift(2),a=Rc(e,n,r),i=Rc(e,s,r);return[a,i]}function oZ(e,t,r){var n=h8(e);e.l++;var s=e.read_shift(1);return t-=8,[Ute(e,t,r),s,n]}function t3(e,t,r){var n=AJ(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Pte(e,t,r)]}function lZ(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function cZ(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=Hc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:s},o,i,a]}}function uZ(e,t,r){return cZ(e,t,r)}function dZ(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Og(e));return r}function fZ(e,t,r){if(r&&r.biff<8)return pZ(e,t,r);var n=p8(e),s=OJ(e,t-22,n[1]);return{cmo:n,ft:s}}var hZ={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=r,{fmt:n}}};function pZ(e,t,r){e.l+=4;var n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((hZ[n]||Kn)(e,t,r)),{cmo:[s,n,a],ft:i}}function mZ(e,t,r){var n=e.l,s="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:i=vJ(e,6,r);var o=e.read_shift(2);e.read_shift(2),Zr(e,2);var c=e.read_shift(2);e.l+=c;for(var f=1;f<e.lens.length-1;++f){if(e.l-n!=e.lens[f])throw new Error("TxO: bad continue record");var h=e[e.l],m=Rc(e,e.lens[f+1]-e.lens[f]-1);if(s+=m,s.length>=(h?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return e.l=n+t,{t:s}}catch{return e.l=n+t,{t:s}}}function xZ(e,t){var r=Og(e);e.l+=16;var n=_J(e,t-24);return[r,n]}function gZ(e,t){e.read_shift(2);var r=Og(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ls,""),[r,n]}function yZ(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=V4[r]||r,r=e.read_shift(2),t[1]=V4[r]||r,t}function vZ(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(d8(e));return r}function bZ(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(d8(e));return r}function wZ(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function x8(e,t,r){if(!r.cellStyles)return Kn(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var f={s,e:a,w:i,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(f.level=c>>8&7),f}function EZ(e,t){var r={};return t<32||(e.l+=16,r.header=Vn(e),r.footer=Vn(e),e.l+=2),r}function _Z(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var s=e.read_shift(1);return e.l+=3,s&16&&(n.area=!0),n}var SZ=Si,NZ=c8,TZ=g0;function CZ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,s}function AZ(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Si(e);++e.l;var s=Hc(e,t-7,r);return n.t="str",n.val=s,n}function kZ(e){var t=Si(e);++e.l;var r=Vn(e);return t.t="n",t.val=r,t}function RZ(e){var t=Si(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function jZ(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function OZ(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function DZ(e,t,r){var n=e.l+t,s=Si(e),a=e.read_shift(2),i=Rc(e,a,r);return e.l=n,s.t="str",s.val=i,s}var IZ=[2,3,48,49,131,139,140,245],r3=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=u_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var f=[],h=Sl(1);switch(c.type){case"base64":h=La(Gs(o));break;case"binary":h=La(o);break;case"buffer":case"array":h=o;break}kn(h,0);var m=h.read_shift(1),x=!!(m&136),g=!1,v=!1;switch(m){case 2:break;case 3:break;case 48:g=!0,x=!0;break;case 49:g=!0,x=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var y=0,w=521;m==2&&(y=h.read_shift(2)),h.l+=3,m!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),m!=2&&(w=h.read_shift(2));var E=h.read_shift(2),N=c.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(N=e[h[h.l]]),h.l+=1,h.l+=2),v&&(h.l+=36);for(var _=[],S={},k=Math.min(h.length,m==2?521:w-10-(g?264:0)),L=v?32:11;h.l<k&&h[h.l]!=13;)switch(S={},S.name=Rh.utils.decode(N,h.slice(h.l,h.l+L)).replace(/[\u0000\r\n].*$/g,""),h.l+=L,S.type=String.fromCharCode(h.read_shift(1)),m!=2&&!v&&(S.offset=h.read_shift(4)),S.len=h.read_shift(1),m==2&&(S.offset=h.read_shift(2)),S.dec=h.read_shift(1),S.name.length&&_.push(S),m!=2&&(h.l+=v?13:14),S.type){case"B":(!g||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var R=0,H=0;for(f[0]=[],H=0;H!=_.length;++H)f[0][H]=_[H].name;for(;y-- >0;){if(h[h.l]===42){h.l+=E;continue}for(++h.l,f[++R]=[],H=0,H=0;H!=_.length;++H){var O=h.slice(h.l,h.l+_[H].len);h.l+=_[H].len,kn(O,0);var Z=Rh.utils.decode(N,O);switch(_[H].type){case"C":Z.trim().length&&(f[R][H]=Z.replace(/\s+$/,""));break;case"D":Z.length===8?f[R][H]=new Date(+Z.slice(0,4),+Z.slice(4,6)-1,+Z.slice(6,8)):f[R][H]=Z;break;case"F":f[R][H]=parseFloat(Z.trim());break;case"+":case"I":f[R][H]=v?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(Z.trim().toUpperCase()){case"Y":case"T":f[R][H]=!0;break;case"N":case"F":f[R][H]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Z+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[R][H]="##MEMO##"+(v?parseInt(Z.trim(),10):O.read_shift(4));break;case"N":Z=Z.replace(/\u0000/g,"").trim(),Z&&Z!="."&&(f[R][H]=+Z||0);break;case"@":f[R][H]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":f[R][H]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":f[R][H]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[R][H]=-O.read_shift(-8,"f");break;case"B":if(g&&_[H].len==8){f[R][H]=O.read_shift(8,"f");break}case"G":case"P":O.l+=_[H].len;break;case"0":if(_[H].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[H].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=_,f}function n(o,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var h=Rd(r(o,f),f);return h["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,h}function s(o,c){try{return kl(n(o,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,c){var f=c||{};if(+f.codepage>=0&&za(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=j2(),m=U2(o,{header:1,raw:!0,cellDates:!0}),x=m[0],g=m.slice(1),v=o["!cols"]||[],y=0,w=0,E=0,N=1;for(y=0;y<x.length;++y){if(((v[y]||{}).DBF||{}).name){x[y]=v[y].DBF.name,++E;continue}if(x[y]!=null){if(++E,typeof x[y]=="number"&&(x[y]=x[y].toString(10)),typeof x[y]!="string")throw new Error("DBF Invalid column name "+x[y]+" |"+typeof x[y]+"|");if(x.indexOf(x[y])!==y){for(w=0;w<1024;++w)if(x.indexOf(x[y]+"_"+w)==-1){x[y]+="_"+w;break}}}}var _=Or(o["!ref"]),S=[],k=[],L=[];for(y=0;y<=_.e.c-_.s.c;++y){var R="",H="",O=0,Z=[];for(w=0;w<g.length;++w)g[w][y]!=null&&Z.push(g[w][y]);if(Z.length==0||x[y]==null){S[y]="?";continue}for(w=0;w<Z.length;++w){switch(typeof Z[w]){case"number":H="B";break;case"string":H="C";break;case"boolean":H="L";break;case"object":H=Z[w]instanceof Date?"D":"C";break;default:H="C"}O=Math.max(O,String(Z[w]).length),R=R&&R!=H?"C":H}O>250&&(O=250),H=((v[y]||{}).DBF||{}).type,H=="C"&&v[y].DBF.len>O&&(O=v[y].DBF.len),R=="B"&&H=="N"&&(R="N",L[y]=v[y].DBF.dec,O=v[y].DBF.len),k[y]=R=="C"||H=="N"?O:a[R]||0,N+=k[y],S[y]=R}var ae=h.next(32);for(ae.write_shift(4,318902576),ae.write_shift(4,g.length),ae.write_shift(2,296+32*E),ae.write_shift(2,N),y=0;y<4;++y)ae.write_shift(4,0);for(ae.write_shift(4,0|(+t[mD]||3)<<8),y=0,w=0;y<x.length;++y)if(x[y]!=null){var P=h.next(32),X=(x[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,X,"sbcs"),P.write_shift(1,S[y]=="?"?"C":S[y],"sbcs"),P.write_shift(4,w),P.write_shift(1,k[y]||a[S[y]]||0),P.write_shift(1,L[y]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),w+=k[y]||a[S[y]]||0}var M=h.next(264);for(M.write_shift(4,13),y=0;y<65;++y)M.write_shift(4,0);for(y=0;y<g.length;++y){var ie=h.next(N);for(ie.write_shift(1,0),w=0;w<x.length;++w)if(x[w]!=null)switch(S[w]){case"L":ie.write_shift(1,g[y][w]==null?63:g[y][w]?84:70);break;case"B":ie.write_shift(8,g[y][w]||0,"f");break;case"N":var J="0";for(typeof g[y][w]=="number"&&(J=g[y][w].toFixed(L[w]||0)),E=0;E<k[w]-J.length;++E)ie.write_shift(1,32);ie.write_shift(1,J,"sbcs");break;case"D":g[y][w]?(ie.write_shift(4,("0000"+g[y][w].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(g[y][w].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+g[y][w].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(g[y][w]!=null?g[y][w]:"").slice(0,k[w]);for(ie.write_shift(1,ee,"sbcs"),E=0;E<k[w]-ee.length;++E)ie.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:n,from_sheet:i}})(),MZ=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+bi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,g){var v=e[g];return typeof v=="number"?y4(v):v},n=function(x,g,v){var y=g.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return y==59?x:y4(y)};e["|"]=254;function s(x,g){switch(g.type){case"base64":return a(Gs(x),g);case"binary":return a(x,g);case"buffer":return a(Pt&&Buffer.isBuffer(x)?x.toString("binary"):Lc(x),g);case"array":return a(kc(x),g)}throw new Error("Unrecognized type "+g.type)}function a(x,g){var v=x.split(/[\n\r]+/),y=-1,w=-1,E=0,N=0,_=[],S=[],k=null,L={},R=[],H=[],O=[],Z=0,ae;for(+g.codepage>=0&&za(+g.codepage);E!==v.length;++E){Z=0;var P=v[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),X=P.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),M=X[0],ie;if(P.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":X[1].charAt(0)=="P"&&S.push(P.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,ee=!1,xe=!1,oe=!1,we=-1,G=-1;for(N=1;N<X.length;++N)switch(X[N].charAt(0)){case"A":break;case"X":w=parseInt(X[N].slice(1))-1,ee=!0;break;case"Y":for(y=parseInt(X[N].slice(1))-1,ee||(w=0),ae=_.length;ae<=y;++ae)_[ae]=[];break;case"K":ie=X[N].slice(1),ie.charAt(0)==='"'?ie=ie.slice(1,ie.length-1):ie==="TRUE"?ie=!0:ie==="FALSE"?ie=!1:isNaN(Va(ie))?isNaN(Ju(ie).getDate())||(ie=bn(ie)):(ie=Va(ie),k!==null&&Ad(k)&&(ie=jg(ie))),J=!0;break;case"E":oe=!0;var D=Uu(X[N].slice(1),{r:y,c:w});_[y][w]=[_[y][w],D];break;case"S":xe=!0,_[y][w]=[_[y][w],"S5S"];break;case"G":break;case"R":we=parseInt(X[N].slice(1))-1;break;case"C":G=parseInt(X[N].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+P)}if(J&&(_[y][w]&&_[y][w].length==2?_[y][w][0]=ie:_[y][w]=ie,k=null),xe){if(oe)throw new Error("SYLK shared formula cannot have own formula");var W=we>-1&&_[we][G];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");_[y][w][1]=T8(W[1],{r:y-we,c:w-G})}break;case"F":var K=0;for(N=1;N<X.length;++N)switch(X[N].charAt(0)){case"X":w=parseInt(X[N].slice(1))-1,++K;break;case"Y":for(y=parseInt(X[N].slice(1))-1,ae=_.length;ae<=y;++ae)_[ae]=[];break;case"M":Z=parseInt(X[N].slice(1))/20;break;case"F":break;case"G":break;case"P":k=S[parseInt(X[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=X[N].slice(1).split(" "),ae=parseInt(O[0],10);ae<=parseInt(O[1],10);++ae)Z=parseInt(O[2],10),H[ae-1]=Z===0?{hidden:!0}:{wch:Z},Zu(H[ae-1]);break;case"C":w=parseInt(X[N].slice(1))-1,H[w]||(H[w]={});break;case"R":y=parseInt(X[N].slice(1))-1,R[y]||(R[y]={}),Z>0?(R[y].hpt=Z,R[y].hpx=Fh(Z)):Z===0&&(R[y].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+P)}K<1&&(k=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+P)}}return R.length>0&&(L["!rows"]=R),H.length>0&&(L["!cols"]=H),g&&g.sheetRows&&(_=_.slice(0,g.sheetRows)),[_,L]}function i(x,g){var v=s(x,g),y=v[0],w=v[1],E=Rd(y,g);return bi(w).forEach(function(N){E[N]=w[N]}),E}function o(x,g){return kl(i(x,g),g)}function c(x,g,v,y){var w="C;Y"+(v+1)+";X"+(y+1)+";K";switch(x.t){case"n":w+=x.v||0,x.f&&!x.F&&(w+=";E"+wee(x.f,{r:v,c:y}));break;case"b":w+=x.v?"TRUE":"FALSE";break;case"e":w+=x.w||x.v;break;case"d":w+='"'+(x.w||x.v)+'"';break;case"s":w+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(x,g){g.forEach(function(v,y){var w="F;W"+(y+1)+" "+(y+1)+" ";v.hidden?w+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=px(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=mx(v.wpx)),typeof v.wch=="number"&&(w+=Math.round(v.wch))),w.charAt(w.length-1)!=" "&&x.push(w)})}function h(x,g){g.forEach(function(v,y){var w="F;";v.hidden?w+="M0;":v.hpt?w+="M"+20*v.hpt+";":v.hpx&&(w+="M"+20*_8(v.hpx)+";"),w.length>2&&x.push(w+"R"+(y+1))})}function m(x,g){var v=["ID;PWXL;N;E"],y=[],w=Or(x["!ref"]),E,N=Array.isArray(x),_=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),x["!cols"]&&f(v,x["!cols"]),x["!rows"]&&h(v,x["!rows"]),v.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var S=w.s.r;S<=w.e.r;++S)for(var k=w.s.c;k<=w.e.c;++k){var L=wt({r:S,c:k});E=N?(x[S]||[])[k]:x[L],!(!E||E.v==null&&(!E.f||E.F))&&y.push(c(E,x,S,k))}return v.join(_)+_+y.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:i,from_sheet:m}})(),FZ=(function(){function e(a,i){switch(i.type){case"base64":return t(Gs(a),i);case"binary":return t(a,i);case"buffer":return t(Pt&&Buffer.isBuffer(a)?a.toString("binary"):Lc(a),i);case"array":return t(kc(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){for(var o=a.split(`
`),c=-1,f=-1,h=0,m=[];h!==o.length;++h){if(o[h].trim()==="BOT"){m[++c]=[],f=0;continue}if(!(c<0)){var x=o[h].trim().split(","),g=x[0],v=x[1];++h;for(var y=o[h]||"";(y.match(/["]/g)||[]).length&1&&h<o.length-1;)y+=`
`+o[++h];switch(y=y.trim(),+g){case-1:if(y==="BOT"){m[++c]=[],f=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?m[c][f]=!0:y==="FALSE"?m[c][f]=!1:isNaN(Va(v))?isNaN(Ju(v).getDate())?m[c][f]=v:m[c][f]=bn(v):m[c][f]=Va(v),++f;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),m[c][f++]=y!==""?y:null;break}if(y==="EOD")break}}return i&&i.sheetRows&&(m=m.slice(0,i.sheetRows)),m}function r(a,i){return Rd(e(a,i),i)}function n(a,i){return kl(r(a,i),i)}var s=(function(){var a=function(c,f,h,m,x){c.push(f),c.push(h+","+m),c.push('"'+x.replace(/"/g,'""')+'"')},i=function(c,f,h,m){c.push(f+","+h),c.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var f=[],h=Or(c["!ref"]),m,x=Array.isArray(c);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,h.e.r-h.s.r+1,""),a(f,"TUPLES",0,h.e.c-h.s.c+1,""),a(f,"DATA",0,0,"");for(var g=h.s.r;g<=h.e.r;++g){i(f,-1,0,"BOT");for(var v=h.s.c;v<=h.e.c;++v){var y=wt({r:g,c:v});if(m=x?(c[g]||[])[v]:c[y],!m){i(f,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?i(f,1,0,"="+m.f):i(f,1,0,""):i(f,0,w,"V");break;case"b":i(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":i(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Na(m.z||Nt[14],us(bn(m.v)))),i(f,0,m.w,"V");break;default:i(f,1,0,"")}}}i(f,-1,0,"EOD");var E=`\r
`,N=f.join(E);return N}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),PZ=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,x){for(var g=m.split(`
`),v=-1,y=-1,w=0,E=[];w!==g.length;++w){var N=g[w].trim().split(":");if(N[0]==="cell"){var _=ss(N[1]);if(E.length<=_.r)for(v=E.length;v<=_.r;++v)E[v]||(E[v]=[]);switch(v=_.r,y=_.c,N[2]){case"t":E[v][y]=e(N[3]);break;case"v":E[v][y]=+N[3];break;case"vtf":var S=N[N.length-1];case"vtc":switch(N[3]){case"nl":E[v][y]=!!+N[4];break;default:E[v][y]=+N[4];break}N[2]=="vtf"&&(E[v][y]=[E[v][y],S])}}}return x&&x.sheetRows&&(E=E.slice(0,x.sheetRows)),E}function n(m,x){return Rd(r(m,x),x)}function s(m,x){return kl(n(m,x),x)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var x=[],g=[],v,y="",w=kd(m["!ref"]),E=Array.isArray(m),N=w.s.r;N<=w.e.r;++N)for(var _=w.s.c;_<=w.e.c;++_)if(y=wt({r:N,c:_}),v=E?(m[N]||[])[_]:m[y],!(!v||v.v==null||v.t==="z")){switch(g=["cell",y,"t"],v.t){case"s":case"str":g.push(t(v.v));break;case"n":v.f?(g[2]="vtf",g[3]="n",g[4]=v.v,g[5]=t(v.f)):(g[2]="v",g[3]=v.v);break;case"b":g[2]="vt"+(v.f?"f":"c"),g[3]="nl",g[4]=v.v?"1":"0",g[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var S=us(bn(v.v));g[2]="vtc",g[3]="nd",g[4]=""+S,g[5]=v.w||Na(v.z||Nt[14],S);break;case"e":continue}x.push(g.join(":"))}return x.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function h(m){return[a,i,o,i,f(m),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:h}})(),Ih=(function(){function e(h,m,x,g,v){v.raw?m[x][g]=h:h===""||(h==="TRUE"?m[x][g]=!0:h==="FALSE"?m[x][g]=!1:isNaN(Va(h))?isNaN(Ju(h).getDate())?m[x][g]=h:m[x][g]=bn(h):m[x][g]=Va(h))}function t(h,m){var x=m||{},g=[];if(!h||h.length===0)return g;for(var v=h.split(/[\r\n]/),y=v.length-1;y>=0&&v[y].length===0;)--y;for(var w=10,E=0,N=0;N<=y;++N)E=v[N].indexOf(" "),E==-1?E=v[N].length:E++,w=Math.max(w,E);for(N=0;N<=y;++N){g[N]=[];var _=0;for(e(v[N].slice(0,w).trim(),g,N,_,x),_=1;_<=(v[N].length-w)/10+1;++_)e(v[N].slice(w+(_-1)*10,w+_*10).trim(),g,N,_,x)}return x.sheetRows&&(g=g.slice(0,x.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(h){for(var m={},x=!1,g=0,v=0;g<h.length;++g)(v=h.charCodeAt(g))==34?x=!x:!x&&v in r&&(m[v]=(m[v]||0)+1);v=[];for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&v.push([m[g],g]);if(!v.length){m=n;for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&v.push([m[g],g])}return v.sort(function(y,w){return y[0]-w[0]||n[y[1]]-n[w[1]]}),r[v.pop()[1]]||44}function a(h,m){var x=m||{},g="",v=x.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(g=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(g=h.charAt(4),h=h.slice(6)):g=s(h.slice(0,1024)):x&&x.FS?g=x.FS:g=s(h.slice(0,1024));var w=0,E=0,N=0,_=0,S=0,k=g.charCodeAt(0),L=!1,R=0,H=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var O=x.dateNF!=null?KX(x.dateNF):null;function Z(){var ae=h.slice(_,S),P={};if(ae.charAt(0)=='"'&&ae.charAt(ae.length-1)=='"'&&(ae=ae.slice(1,-1).replace(/""/g,'"')),ae.length===0)P.t="z";else if(x.raw)P.t="s",P.v=ae;else if(ae.trim().length===0)P.t="s",P.v=ae;else if(ae.charCodeAt(0)==61)ae.charCodeAt(1)==34&&ae.charCodeAt(ae.length-1)==34?(P.t="s",P.v=ae.slice(2,-1).replace(/""/g,'"')):_ee(ae)?(P.t="n",P.f=ae.slice(1)):(P.t="s",P.v=ae);else if(ae=="TRUE")P.t="b",P.v=!0;else if(ae=="FALSE")P.t="b",P.v=!1;else if(!isNaN(N=Va(ae)))P.t="n",x.cellText!==!1&&(P.w=ae),P.v=N;else if(!isNaN(Ju(ae).getDate())||O&&ae.match(O)){P.z=x.dateNF||Nt[14];var X=0;O&&ae.match(O)&&(ae=XX(ae,x.dateNF,ae.match(O)||[]),X=1),x.cellDates?(P.t="d",P.v=bn(ae,X)):(P.t="n",P.v=us(bn(ae,X))),x.cellText!==!1&&(P.w=Na(P.z,P.v instanceof Date?us(P.v):P.v)),x.cellNF||delete P.z}else P.t="s",P.v=ae;if(P.t=="z"||(x.dense?(v[w]||(v[w]=[]),v[w][E]=P):v[wt({c:E,r:w})]=P),_=S+1,H=h.charCodeAt(_),y.e.c<E&&(y.e.c=E),y.e.r<w&&(y.e.r=w),R==k)++E;else if(E=0,++w,x.sheetRows&&x.sheetRows<=w)return!0}e:for(;S<h.length;++S)switch(R=h.charCodeAt(S)){case 34:H===34&&(L=!L);break;case k:case 10:case 13:if(!L&&Z())break e;break}return S-_>0&&Z(),v["!ref"]=Ut(y),v}function i(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,m):Rd(t(h,m),m)}function o(h,m){var x="",g=m.type=="string"?[0,0,0,0]:k_(h,m);switch(m.type){case"base64":x=Gs(h);break;case"binary":x=h;break;case"buffer":m.codepage==65001?x=h.toString("utf8"):m.codepage&&typeof Rh<"u"||(x=Pt&&Buffer.isBuffer(h)?h.toString("binary"):Lc(h));break;case"array":x=kc(h);break;case"string":x=h;break;default:throw new Error("Unrecognized type "+m.type)}return g[0]==239&&g[1]==187&&g[2]==191?x=dr(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=dr(x):m.type=="binary"&&typeof Rh<"u",x.slice(0,19)=="socialcalc:version:"?PZ.to_sheet(m.type=="string"?x:dr(x),m):i(x,m)}function c(h,m){return kl(o(h,m),m)}function f(h){for(var m=[],x=Or(h["!ref"]),g,v=Array.isArray(h),y=x.s.r;y<=x.e.r;++y){for(var w=[],E=x.s.c;E<=x.e.c;++E){var N=wt({r:y,c:E});if(g=v?(h[y]||[])[E]:h[N],!g||g.v==null){w.push("          ");continue}for(var _=(g.w||(xo(g),g.w)||"").slice(0,10);_.length<10;)_+=" ";w.push(_+(E===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:f}})();function LZ(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var s=MZ.to_workbook(e,r);return r.WTF=n,s}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return Ih.to_workbook(e,t)}}var ih=(function(){function e(D,W,K){if(D){kn(D,D.l||0);for(var re=K.Enum||we;D.l<D.length;){var se=D.read_shift(2),I=re[se]||re[65535],F=D.read_shift(2),ne=D.l+F,te=I.f&&I.f(D,F,K);if(D.l=ne,W(te,I,se))return}}}function t(D,W){switch(W.type){case"base64":return r(La(Gs(D)),W);case"binary":return r(La(D),W);case"buffer":case"array":return r(D,W)}throw"Unsupported type "+W.type}function r(D,W){if(!D)return D;var K=W||{},re=K.dense?[]:{},se="Sheet1",I="",F=0,ne={},te=[],Q=[],z={s:{r:0,c:0},e:{r:0,c:0}},be=K.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)K.Enum=we,e(D,function(C,j,U){switch(U){case 0:K.vers=C,C>=4096&&(K.qpro=!0);break;case 6:z=C;break;case 204:C&&(I=C);break;case 222:I=C;break;case 15:case 51:K.qpro||(C[1].v=C[1].v.slice(1));case 13:case 14:case 16:U==14&&(C[2]&112)==112&&(C[2]&15)>1&&(C[2]&15)<15&&(C[1].z=K.dateNF||Nt[14],K.cellDates&&(C[1].t="d",C[1].v=jg(C[1].v))),K.qpro&&C[3]>F&&(re["!ref"]=Ut(z),ne[se]=re,te.push(se),re=K.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},F=C[3],se=I||"Sheet"+(F+1),I="");var ue=K.dense?(re[C[0].r]||[])[C[0].c]:re[wt(C[0])];if(ue){ue.t=C[1].t,ue.v=C[1].v,C[1].z!=null&&(ue.z=C[1].z),C[1].f!=null&&(ue.f=C[1].f);break}K.dense?(re[C[0].r]||(re[C[0].r]=[]),re[C[0].r][C[0].c]=C[1]):re[wt(C[0])]=C[1];break}},K);else if(D[2]==26||D[2]==14)K.Enum=G,D[2]==14&&(K.qpro=!0,D.l=0),e(D,function(C,j,U){switch(U){case 204:se=C;break;case 22:C[1].v=C[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(C[3]>F&&(re["!ref"]=Ut(z),ne[se]=re,te.push(se),re=K.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},F=C[3],se="Sheet"+(F+1)),be>0&&C[0].r>=be)break;K.dense?(re[C[0].r]||(re[C[0].r]=[]),re[C[0].r][C[0].c]=C[1]):re[wt(C[0])]=C[1],z.e.c<C[0].c&&(z.e.c=C[0].c),z.e.r<C[0].r&&(z.e.r=C[0].r);break;case 27:C[14e3]&&(Q[C[14e3][0]]=C[14e3][1]);break;case 1537:Q[C[0]]=C[1],C[0]==F&&(se=C[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(re["!ref"]=Ut(z),ne[I||se]=re,te.push(I||se),!Q.length)return{SheetNames:te,Sheets:ne};for(var B={},Ee=[],q=0;q<Q.length;++q)ne[te[q]]?(Ee.push(Q[q]||te[q]),B[Q[q]]=ne[Q[q]]||ne[te[q]]):(Ee.push(Q[q]),B[Q[q]]={"!ref":"A1"});return{SheetNames:Ee,Sheets:B}}function n(D,W){var K=W||{};if(+K.codepage>=0&&za(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var re=j2(),se=Or(D["!ref"]),I=Array.isArray(D),F=[];Fa(re,0,a(1030)),Fa(re,6,c(se));for(var ne=Math.min(se.e.r,8191),te=se.s.r;te<=ne;++te)for(var Q=Mn(te),z=se.s.c;z<=se.e.c;++z){te===se.s.r&&(F[z]=on(z));var be=F[z]+Q,B=I?(D[te]||[])[z]:D[be];if(!(!B||B.t=="z"))if(B.t=="n")(B.v|0)==B.v&&B.v>=-32768&&B.v<=32767?Fa(re,13,g(te,z,B.v)):Fa(re,14,y(te,z,B.v));else{var Ee=xo(B);Fa(re,15,m(te,z,Ee.slice(0,239)))}}return Fa(re,1),re.end()}function s(D,W){var K=W||{};if(+K.codepage>=0&&za(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var re=j2();Fa(re,0,i(D));for(var se=0,I=0;se<D.SheetNames.length;++se)(D.Sheets[D.SheetNames[se]]||{})["!ref"]&&Fa(re,27,oe(D.SheetNames[se],I++));var F=0;for(se=0;se<D.SheetNames.length;++se){var ne=D.Sheets[D.SheetNames[se]];if(!(!ne||!ne["!ref"])){for(var te=Or(ne["!ref"]),Q=Array.isArray(ne),z=[],be=Math.min(te.e.r,8191),B=te.s.r;B<=be;++B)for(var Ee=Mn(B),q=te.s.c;q<=te.e.c;++q){B===te.s.r&&(z[q]=on(q));var C=z[q]+Ee,j=Q?(ne[B]||[])[q]:ne[C];if(!(!j||j.t=="z"))if(j.t=="n")Fa(re,23,Z(B,q,F,j.v));else{var U=xo(j);Fa(re,22,R(B,q,F,U.slice(0,239)))}}++F}}return Fa(re,1),re.end()}function a(D){var W=an(2);return W.write_shift(2,D),W}function i(D){var W=an(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var K=0,re=0,se=0,I=0;I<D.SheetNames.length;++I){var F=D.SheetNames[I],ne=D.Sheets[F];if(!(!ne||!ne["!ref"])){++se;var te=kd(ne["!ref"]);K<te.e.r&&(K=te.e.r),re<te.e.c&&(re=te.e.c)}}return K>8191&&(K=8191),W.write_shift(2,K),W.write_shift(1,se),W.write_shift(1,re),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(D,W,K){var re={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&K.qpro?(re.s.c=D.read_shift(1),D.l++,re.s.r=D.read_shift(2),re.e.c=D.read_shift(1),D.l++,re.e.r=D.read_shift(2),re):(re.s.c=D.read_shift(2),re.s.r=D.read_shift(2),W==12&&K.qpro&&(D.l+=2),re.e.c=D.read_shift(2),re.e.r=D.read_shift(2),W==12&&K.qpro&&(D.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function c(D){var W=an(8);return W.write_shift(2,D.s.c),W.write_shift(2,D.s.r),W.write_shift(2,D.e.c),W.write_shift(2,D.e.r),W}function f(D,W,K){var re=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(re[0].c=D.read_shift(1),re[3]=D.read_shift(1),re[0].r=D.read_shift(2),D.l+=2):(re[2]=D.read_shift(1),re[0].c=D.read_shift(2),re[0].r=D.read_shift(2)),re}function h(D,W,K){var re=D.l+W,se=f(D,W,K);if(se[1].t="s",K.vers==20768){D.l++;var I=D.read_shift(1);return se[1].v=D.read_shift(I,"utf8"),se}return K.qpro&&D.l++,se[1].v=D.read_shift(re-D.l,"cstr"),se}function m(D,W,K){var re=an(7+K.length);re.write_shift(1,255),re.write_shift(2,W),re.write_shift(2,D),re.write_shift(1,39);for(var se=0;se<re.length;++se){var I=K.charCodeAt(se);re.write_shift(1,I>=128?95:I)}return re.write_shift(1,0),re}function x(D,W,K){var re=f(D,W,K);return re[1].v=D.read_shift(2,"i"),re}function g(D,W,K){var re=an(7);return re.write_shift(1,255),re.write_shift(2,W),re.write_shift(2,D),re.write_shift(2,K,"i"),re}function v(D,W,K){var re=f(D,W,K);return re[1].v=D.read_shift(8,"f"),re}function y(D,W,K){var re=an(13);return re.write_shift(1,255),re.write_shift(2,W),re.write_shift(2,D),re.write_shift(8,K,"f"),re}function w(D,W,K){var re=D.l+W,se=f(D,W,K);if(se[1].v=D.read_shift(8,"f"),K.qpro)D.l=re;else{var I=D.read_shift(2);S(D.slice(D.l,D.l+I),se),D.l+=I}return se}function E(D,W,K){var re=W&32768;return W&=-32769,W=(re?D:0)+(W>=8192?W-16384:W),(re?"":"$")+(K?on(W):Mn(W))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(D,W){kn(D,0);for(var K=[],re=0,se="",I="",F="",ne="";D.l<D.length;){var te=D[D.l++];switch(te){case 0:K.push(D.read_shift(8,"f"));break;case 1:I=E(W[0].c,D.read_shift(2),!0),se=E(W[0].r,D.read_shift(2),!1),K.push(I+se);break;case 2:{var Q=E(W[0].c,D.read_shift(2),!0),z=E(W[0].r,D.read_shift(2),!1);I=E(W[0].c,D.read_shift(2),!0),se=E(W[0].r,D.read_shift(2),!1),K.push(Q+z+":"+I+se)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(D.read_shift(2));break;case 6:{for(var be="";te=D[D.l++];)be+=String.fromCharCode(te);K.push('"'+be.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ne=K.pop(),F=K.pop(),K.push(["AND","OR"][te-20]+"("+F+","+ne+")");break;default:if(te<32&&_[te])ne=K.pop(),F=K.pop(),K.push(F+_[te]+ne);else if(N[te]){if(re=N[te][1],re==69&&(re=D[D.l++]),re>K.length){console.error("WK1 bad formula parse 0x"+te.toString(16)+":|"+K.join("|")+"|");return}var B=K.slice(-re);K.length-=re,K.push(N[te][0]+"("+B.join(",")+")")}else return te<=7?console.error("WK1 invalid opcode "+te.toString(16)):te<=24?console.error("WK1 unsupported op "+te.toString(16)):te<=30?console.error("WK1 invalid opcode "+te.toString(16)):te<=115?console.error("WK1 unsupported function opcode "+te.toString(16)):console.error("WK1 unrecognized opcode "+te.toString(16))}}K.length==1?W[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function k(D){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=D.read_shift(2),W[3]=D[D.l++],W[0].c=D[D.l++],W}function L(D,W){var K=k(D);return K[1].t="s",K[1].v=D.read_shift(W-4,"cstr"),K}function R(D,W,K,re){var se=an(6+re.length);se.write_shift(2,D),se.write_shift(1,K),se.write_shift(1,W),se.write_shift(1,39);for(var I=0;I<re.length;++I){var F=re.charCodeAt(I);se.write_shift(1,F>=128?95:F)}return se.write_shift(1,0),se}function H(D,W){var K=k(D);K[1].v=D.read_shift(2);var re=K[1].v>>1;if(K[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return K[1].v=re,K}function O(D,W){var K=k(D),re=D.read_shift(4),se=D.read_shift(4),I=D.read_shift(2);if(I==65535)return re===0&&se===3221225472?(K[1].t="e",K[1].v=15):re===0&&se===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var F=I&32768;return I=(I&32767)-16446,K[1].v=(1-F*2)*(se*Math.pow(2,I+32)+re*Math.pow(2,I)),K}function Z(D,W,K,re){var se=an(14);if(se.write_shift(2,D),se.write_shift(1,K),se.write_shift(1,W),re==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var I=0,F=0,ne=0,te=0;return re<0&&(I=1,re=-re),F=Math.log2(re)|0,re/=Math.pow(2,F-31),te=re>>>0,(te&2147483648)==0&&(re/=2,++F,te=re>>>0),re-=te,te|=2147483648,te>>>=0,re*=Math.pow(2,32),ne=re>>>0,se.write_shift(4,ne),se.write_shift(4,te),F+=16383+(I?32768:0),se.write_shift(2,F),se}function ae(D,W){var K=O(D);return D.l+=W-14,K}function P(D,W){var K=k(D),re=D.read_shift(4);return K[1].v=re>>6,K}function X(D,W){var K=k(D),re=D.read_shift(8,"f");return K[1].v=re,K}function M(D,W){var K=X(D);return D.l+=W-10,K}function ie(D,W){return D[D.l+W-1]==0?D.read_shift(W,"cstr"):""}function J(D,W){var K=D[D.l++];K>W-1&&(K=W-1);for(var re="";re.length<K;)re+=String.fromCharCode(D[D.l++]);return re}function ee(D,W,K){if(!(!K.qpro||W<21)){var re=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var se=D.read_shift(W-21,"cstr");return[re,se]}}function xe(D,W){for(var K={},re=D.l+W;D.l<re;){var se=D.read_shift(2);if(se==14e3){for(K[se]=[0,""],K[se][0]=D.read_shift(2);D[D.l];)K[se][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return K}function oe(D,W){var K=an(5+D.length);K.write_shift(2,14e3),K.write_shift(2,W);for(var re=0;re<D.length;++re){var se=D.charCodeAt(re);K[K.l++]=se>127?95:se}return K[K.l++]=0,K}var we={0:{n:"BOF",f:Zr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},G={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:L},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:H},25:{n:"FORMULA19",f:ae},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:xe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:X},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}})();function BZ(e){var t={},r=e.match(Yn),n=0,s=!1;if(r)for(;n!=r.length;++n){var a=mt(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=a_[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+a[0])}}return t}var UZ=(function(){var e=Oh("t"),t=Oh("rPr");function r(a){var i=a.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:zt(i[1])},c=a.match(t);return c&&(o.s=BZ(c[1])),o}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(s).map(r).filter(function(o){return o.v})}})(),zZ=(function(){var t=/(\r\n|\n)/g;function r(s,a,i){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),s.b&&(a.push("<b>"),i.push("</b>")),s.i&&(a.push("<i>"),i.push("</i>")),s.strike&&(a.push("<s>"),i.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),s}function n(s){var a=[[],s.v,[]];return s.v?(s.s&&r(s.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),HZ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,qZ=/<(?:\w+:)?r>/,VZ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function E_(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=zt(dr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=dr(e),r&&(n.h=f_(n.t))):e.match(qZ)&&(n.r=dr(e),n.t=zt(dr((e.replace(VZ,"").match(HZ)||[]).join("").replace(Yn,""))),r&&(n.h=zZ(UZ(n.r)))),n):{t:""}}var $Z=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,WZ=/<(?:\w+:)?(?:si|sstItem)>/g,GZ=/<\/(?:\w+:)?(?:si|sstItem)>/;function KZ(e,t){var r=[],n="";if(!e)return r;var s=e.match($Z);if(s){n=s[2].replace(WZ,"").split(GZ);for(var a=0;a!=n.length;++a){var i=E_(n[a].trim(),t);i!=null&&(r[r.length]=i)}s=mt(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}function XZ(e){return[e.read_shift(4),e.read_shift(4)]}function YZ(e,t){var r=[],n=!1;return vo(e,function(a,i,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function g8(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function co(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function JZ(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=co(e,4),t.U=co(e,4),t.W=co(e,4),t}function ZZ(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},s=e.read_shift(4),a=[];s-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function QZ(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(ZZ(e));return t}function eQ(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function tQ(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=co(e,4),t.U=co(e,4),t.W=co(e,4),t}function rQ(e){var t=tQ(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function y8(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function v8(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function nQ(e){var t=co(e);switch(t.Minor){case 2:return[t.Minor,sQ(e)];case 3:return[t.Minor,aQ()];case 4:return[t.Minor,iQ(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function sQ(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=y8(e,r),s=v8(e,e.length-e.l);return{t:"Std",h:n,v:s}}function aQ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function iQ(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Yn,function(a){var i=mt(a);switch(_i(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function oQ(e,t){var r={},n=r.EncryptionVersionInfo=co(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var s=e.read_shift(4);return t-=4,r.EncryptionHeader=y8(e,s),t-=s,r.EncryptionVerifier=v8(e,t),r}function lQ(e){var t={},r=t.EncryptionVersionInfo=co(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function cQ(e){var t=0,r,n=g8(e),s=n.length+1,a,i,o,c,f;for(r=Sl(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)i=r[a],o=(t&16384)===0?0:1,c=t<<1&32767,f=o|c,t=f^i;return t^52811}var b8=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},s=function(i,o){return n(i^o)},a=function(i){for(var o=t[i.length-1],c=104,f=i.length-1;f>=0;--f)for(var h=i[f],m=0;m!=7;++m)h&64&&(o^=r[c]),h*=2,--c;return o};return function(i){for(var o=g8(i),c=a(o),f=o.length,h=Sl(16),m=0;m!=16;++m)h[m]=0;var x,g,v;for((f&1)===1&&(x=c>>8,h[f]=s(e[0],x),--f,x=c&255,g=o[o.length-1],h[f]=s(g,x));f>0;)--f,x=c>>8,h[f]=s(o[f],x),--f,x=c&255,h[f]=s(o[f],x);for(f=15,v=15-o.length;v>0;)x=c>>8,h[f]=s(e[v],x),--f,--v,x=c&255,h[f]=s(o[f],x),--f,--v;return h}})(),uQ=function(e,t,r,n,s){s||(s=t),n||(n=b8(e));var a,i;for(a=0;a!=t.length;++a)i=t[a],i^=n[r],i=(i>>5|i<<3)&255,s[a]=i,++r;return[s,r,n]},dQ=function(e){var t=0,r=b8(e);return function(n){var s=uQ("",n,t,r);return t=s[1],s[0]}};function fQ(e,t,r,n){var s={key:Zr(e),verificationBytes:Zr(e)};return r.password&&(s.verifier=cQ(r.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=dQ(r.password)),s}function hQ(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=lQ(e):n.Data=oQ(e,t),n}function pQ(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?hQ(e,t-2,n):fQ(e,r.biff>=8?t:t-2,r,n),n}var mQ=(function(){function e(s,a){switch(a.type){case"base64":return t(Gs(s),a);case"binary":return t(s,a);case"buffer":return t(Pt&&Buffer.isBuffer(s)?s.toString("binary"):Lc(s),a);case"array":return t(kc(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){var i=a||{},o=i.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,m){Array.isArray(o)&&(o[m]=[]);for(var x=/\\\w+\b/g,g=0,v,y=-1;v=x.exec(h);){switch(v[0]){case"\\cell":var w=h.slice(g,x.lastIndex-v[0].length);if(w[0]==" "&&(w=w.slice(1)),++y,w.length){var E={v:w,t:"s"};Array.isArray(o)?o[m][y]=E:o[wt({r:m,c:y})]=E}break}g=x.lastIndex}y>f.e.c&&(f.e.c=y)}),o["!ref"]=Ut(f),o}function r(s,a){return kl(e(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],i=Or(s["!ref"]),o,c=Array.isArray(s),f=i.s.r;f<=i.e.r;++f){a.push("\\trowd\\trautofit1");for(var h=i.s.c;h<=i.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=i.s.c;h<=i.e.c;++h){var m=wt({r:f,c:h});o=c?(s[f]||[])[h]:s[m],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(xo(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function xQ(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Mh(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function gQ(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.max(t,r,n),a=Math.min(t,r,n),i=s-a;if(i===0)return[0,0,t];var o=0,c=0,f=s+a;switch(c=i/(f>1?2-f:f),s){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,c,f/2]}function yQ(e){var t=e[0],r=e[1],n=e[2],s=r*2*(n<.5?n:1-n),a=n-s/2,i=[a,a,a],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=s*o,i[0]+=s,i[1]+=c;break;case 1:c=s*(2-o),i[0]+=c,i[1]+=s;break;case 2:c=s*(o-2),i[1]+=s,i[2]+=c;break;case 3:c=s*(4-o),i[1]+=c,i[2]+=s;break;case 4:c=s*(o-4),i[2]+=s,i[0]+=c;break;case 5:c=s*(6-o),i[2]+=c,i[0]+=s;break}for(var f=0;f!=3;++f)i[f]=Math.round(i[f]*255);return i}function hx(e,t){if(t===0)return e;var r=gQ(xQ(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Mh(yQ(r))}var w8=6,vQ=15,bQ=1,ns=w8;function px(e){return Math.floor((e+Math.round(128/ns)/256)*ns)}function mx(e){return Math.floor((e-5)/ns*100+.5)/100}function M2(e){return Math.round((e*ns+5)/ns*256)/256}function Fv(e){return M2(mx(px(e)))}function __(e){var t=Math.abs(e-Fv(e)),r=ns;if(t>.005)for(ns=bQ;ns<vQ;++ns)Math.abs(e-Fv(e))<=t&&(t=Math.abs(e-Fv(e)),r=ns);ns=r}function Zu(e){e.width?(e.wpx=px(e.width),e.wch=mx(e.wpx),e.MDW=ns):e.wpx?(e.wch=mx(e.wpx),e.width=M2(e.wch),e.MDW=ns):typeof e.wch=="number"&&(e.width=M2(e.wch),e.wpx=px(e.width),e.MDW=ns),e.customWidth&&delete e.customWidth}var wQ=96,E8=wQ;function _8(e){return e*96/E8}function Fh(e){return e*E8/96}var EQ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function _Q(e,t,r,n){t.Borders=[];var s={},a=!1;(e[0].match(Yn)||[]).forEach(function(i){var o=mt(i);switch(_i(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=br(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=br(o.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function SQ(e,t,r,n){t.Fills=[];var s={},a=!1;(e[0].match(Yn)||[]).forEach(function(i){var o=mt(i);switch(_i(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function NQ(e,t,r,n){t.Fonts=[];var s={},a=!1;(e[0].match(Yn)||[]).forEach(function(i){var o=mt(i);switch(_i(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=dr(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?br(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?br(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?br(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?br(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?br(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?br(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?br(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=a_[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=br(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var c=xc[s.color.index];s.color.index==81&&(c=xc[1]),c||(c=xc[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=hx(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function TQ(e,t,r){t.NumberFmt=[];for(var n=bi(Nt),s=0;s<n.length;++s)t.NumberFmt[n[s]]=Nt[n[s]];var a=e[0].match(Yn);if(a)for(s=0;s<a.length;++s){var i=mt(a[s]);switch(_i(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=zt(dr(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}mc(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var sm=["numFmtId","fillId","fontId","borderId","xfId"],am=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function CQ(e,t,r){t.CellXf=[];var n,s=!1;(e[0].match(Yn)||[]).forEach(function(a){var i=mt(a),o=0;switch(_i(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<sm.length;++o)n[sm[o]]&&(n[sm[o]]=parseInt(n[sm[o]],10));for(o=0;o<am.length;++o)n[am[o]]&&(n[am[o]]=br(n[am[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=br(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var AQ=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,f){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&TQ(m,h,f),(m=o.match(s))&&NQ(m,h,c,f),(m=o.match(n))&&SQ(m,h,c,f),(m=o.match(a))&&_Q(m,h,c,f),(m=o.match(r))&&CQ(m,h,f),h}})();function kQ(e,t){var r=e.read_shift(2),n=Wn(e);return[r,n]}function RQ(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=UY(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=BY(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Wn(e),n}var jQ=Kn;function OQ(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}var DQ=Kn;function IQ(e,t,r){var n={};n.NumberFmt=[];for(var s in Nt)n.NumberFmt[s]=Nt[s];n.CellXf=[],n.Fonts=[];var a=[],i=!1;return vo(e,function(c,f,h){switch(h){case 44:n.NumberFmt[c[0]]=c[1],mc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=hx(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:a.push(h),i=!0;break;case 38:a.pop(),i=!1;break;default:if(f.T>0)a.push(h);else if(f.T<0)a.pop();else if(!i||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}var MQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function FQ(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Yn)||[]).forEach(function(s){var a=mt(s);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[MQ.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function PQ(){}function LQ(){}var BQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,UQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,zQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function HQ(e,t,r){t.themeElements={};var n;[["clrScheme",BQ,FQ],["fontScheme",UQ,PQ],["fmtScheme",zQ,LQ]].forEach(function(s){if(!(n=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,t,r)})}var qQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function S8(e,t){(!e||e.length===0)&&(e=VQ());var r,n={};if(!(r=e.match(qQ)))throw new Error("themeElements not found in theme");return HQ(r[0],n,t),n.raw=e,n}function VQ(e,t){var r=[MD];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function $Q(e,t,r){var n=e.l+t,s=e.read_shift(4);if(s!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var i;try{i=ID(a,{type:"array"})}catch{return}var o=Hs(i,"theme/theme/theme1.xml",!0);if(o)return S8(o,r)}}function WQ(e){return e.read_shift(4)}function GQ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=KQ(e,4);break;case 2:t.xclrValue=u8(e);break;case 3:t.xclrValue=WQ(e);break;case 4:e.l+=4;break}return e.l+=8,t}function KQ(e,t){return Kn(e,t)}function XQ(e,t){return Kn(e,t)}function YQ(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=GQ(e);break;case 6:n[1]=XQ(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function JQ(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),a=[];s-- >0;)a.push(YQ(e,r-e.l));return{ixfe:n,ext:a}}function ZQ(e,t){t.forEach(function(r){r[0]})}function QQ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Wn(e)}}function eee(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function tee(e){return e.l+=4,e.read_shift(4)!=0}function ree(e,t,r){var n={Types:[],Cell:[],Value:[]},s=r||{},a=[],i=!1,o=2;return vo(e,function(c,f,h){switch(h){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(m){o==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):o==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:a.push(h),i=!0;break;case 36:a.pop(),i=!1;break;default:if(!f.T){if(!i||s.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function nee(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var s=!1,a=2,i;return e.replace(Yn,function(o){var c=mt(o);switch(_i(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==c.name&&(i=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):a==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function see(e){var t=[];if(!e)return t;var r=1;return(e.match(Yn)||[]).forEach(function(n){var s=mt(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,t.push(s);break}}),t}function aee(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=wt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function iee(e,t,r){var n=[];return vo(e,function(a,i,o){switch(o){case 63:n.push(a);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function oee(e,t,r,n){if(!e)return e;var s=n||{},a=!1;vo(e,function(o,c,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!c.T){if(!a||s.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},s)}function lee(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function n3(e,t,r,n){var s=Array.isArray(e),a;t.forEach(function(i){var o=ss(i.ref);if(s?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[i.ref],!a){a={t:"z"},s?e[o.r][o.c]=a:e[i.ref]=a;var c=Or(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var f=Ut(c);f!==e["!ref"]&&(e["!ref"]=f)}a.c||(a.c=[]);var h={a:i.author,t:i.t,r:i.r,T:r};i.h&&(h.h=i.h);for(var m=a.c.length-1;m>=0;--m){if(!r&&a.c[m].T)return;r&&!a.c[m].T&&a.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(h.a==n[m].id){h.a=n[m].name||h.a;break}}a.c.push(h)})}function cee(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=mt(o[0]),f={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=ss(c.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!m&&!!m[1]&&E_(m[1])||{r:"",t:"",h:""};f.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),f.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=x.h),n.push(f)}}}}),n}function uee(e,t){var r=[],n=!1,s={},a=0;return e.replace(Yn,function(o,c){var f=mt(o);switch(_i(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":a=c+o.length;break;case"</text>":s.t=e.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),r}function dee(e,t){var r=[],n=!1;return e.replace(Yn,function(a){var i=mt(a);switch(_i(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return a}),r}function fee(e){var t={};t.iauthor=e.read_shift(4);var r=Uc(e);return t.rfx=r.s,t.ref=wt(r.s),e.l+=16,t}var hee=Wn;function pee(e,t){var r=[],n=[],s={},a=!1;return vo(e,function(o,c,f){switch(f){case 632:n.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}var mee="application/vnd.ms-office.vbaProject";function xee(e){var t=Bt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Bt.utils.cfb_add(t,s,e.FileIndex[n].content)}}),Bt.write(t)}function gee(){return{"!type":"dialog"}}function yee(){return{"!type":"dialog"}}function vee(){return{"!type":"macro"}}function bee(){return{"!type":"macro"}}var Uu=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,a,i){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,h=i.length>0?parseInt(i,10)|0:0;return o?h+=t.c:--h,c?f+=t.r:--f,s+(o?"":"$")+on(h)+(c?"":"$")+Mn(f)}return function(s,a){return t=a,s.replace(e,r)}})(),N8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,wee=(function(){return function(t,r){return t.replace(N8,function(n,s,a,i,o,c){var f=x_(i)-(a?0:r.c),h=m_(c)-(o?0:r.r),m=h==0?"":o?h+1:"["+h+"]",x=f==0?"":a?f+1:"["+f+"]";return s+"R"+m+"C"+x})}})();function T8(e,t){return e.replace(N8,function(r,n,s,a,i,o){return n+(s=="$"?s+a:on(x_(a)+t.c))+(i=="$"?i+o:Mn(m_(o)+t.r))})}function Eee(e,t,r){var n=kd(t),s=n.s,a=ss(r),i={r:a.r-s.r,c:a.c-s.c};return T8(e,i)}function _ee(e){return e.length!=1}function s3(e){return e.replace(/_xlfn\./g,"")}function Kr(e){e.l+=1}function Nl(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function C8(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return A8(e);r.biff==12&&(n=4)}var s=e.read_shift(n),a=e.read_shift(n),i=Nl(e),o=Nl(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function A8(e){var t=Nl(e),r=Nl(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function See(e,t,r){if(r.biff<8)return A8(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),a=Nl(e),i=Nl(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}function k8(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Nee(e);var n=e.read_shift(r&&r.biff==12?4:2),s=Nl(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Nee(e){var t=Nl(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Tee(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Cee(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Aee(e);var s=e.read_shift(n>=12?4:2),a=e.read_shift(2),i=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;s>524287;)s-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:i,rRel:o}}function Aee(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function kee(e,t,r){var n=(e[e.l++]&96)>>5,s=C8(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Ree(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var i=C8(e,a,r);return[n,s,i]}function jee(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Oee(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,s]}function Dee(e,t,r){var n=(e[e.l++]&96)>>5,s=See(e,t-1,r);return[n,s]}function Iee(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function a3(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Mee(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Fee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Pee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Lee(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Bee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function R8(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Uee(e){return e.read_shift(2),R8(e)}function zee(e){return e.read_shift(2),R8(e)}function Hee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=k8(e,0,r);return[n,s]}function qee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=Cee(e,0,r);return[n,s]}function Vee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=k8(e,0,r);return[n,s,a]}function $ee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[Wte[s],D8[s],n]}function Wee(e,t,r){var n=e[e.l++],s=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Gee(e);return[s,(a[0]===0?D8:$te)[a[1]]]}function Gee(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Kee(e,t,r){e.l+=r&&r.biff==2?3:4}function Xee(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Yee(e){return e.l++,zc[e.read_shift(1)]}function Jee(e){return e.l++,e.read_shift(2)}function Zee(e){return e.l++,e.read_shift(1)!==0}function Qee(e){return e.l++,Vn(e)}function ete(e,t,r){return e.l++,x0(e,t-1,r)}function tte(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Mr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=zc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Vn(e);break;case 2:r[1]=Hc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function rte(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?Uc:Og)(e));return s}function nte(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,i=[];a!=n&&(i[a]=[]);++a)for(var o=0;o!=s;++o)i[a][o]=tte(e,r.biff);return i}function ste(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function ate(e,t,r){if(r.biff==5)return ite(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),a=e.read_shift(4);return[n,s,a]}function ite(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function ote(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function lte(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function cte(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function ute(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,s]}var dte=Kn,fte=Kn,hte=Kn;function y0(e,t,r){return e.l+=2,[Tee(e)]}function S_(e){return e.l+=6,[]}var pte=y0,mte=S_,xte=S_,gte=y0;function j8(e){return e.l+=2,[Zr(e),e.read_shift(2)&1]}var yte=y0,vte=j8,bte=S_,wte=y0,Ete=y0,_te=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ste(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),a=e.read_shift(2),i=_te[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:s,C:a}}function Nte(e){return e.l+=2,[e.read_shift(4)]}function Tte(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Cte(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Ate(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function kte(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Rte(e){return e.l+=4,[0,0]}var i3={1:{n:"PtgExp",f:Xee},2:{n:"PtgTbl",f:hte},3:{n:"PtgAdd",f:Kr},4:{n:"PtgSub",f:Kr},5:{n:"PtgMul",f:Kr},6:{n:"PtgDiv",f:Kr},7:{n:"PtgPower",f:Kr},8:{n:"PtgConcat",f:Kr},9:{n:"PtgLt",f:Kr},10:{n:"PtgLe",f:Kr},11:{n:"PtgEq",f:Kr},12:{n:"PtgGe",f:Kr},13:{n:"PtgGt",f:Kr},14:{n:"PtgNe",f:Kr},15:{n:"PtgIsect",f:Kr},16:{n:"PtgUnion",f:Kr},17:{n:"PtgRange",f:Kr},18:{n:"PtgUplus",f:Kr},19:{n:"PtgUminus",f:Kr},20:{n:"PtgPercent",f:Kr},21:{n:"PtgParen",f:Kr},22:{n:"PtgMissArg",f:Kr},23:{n:"PtgStr",f:ete},26:{n:"PtgSheet",f:Tte},27:{n:"PtgEndSheet",f:Cte},28:{n:"PtgErr",f:Yee},29:{n:"PtgBool",f:Zee},30:{n:"PtgInt",f:Jee},31:{n:"PtgNum",f:Qee},32:{n:"PtgArray",f:Iee},33:{n:"PtgFunc",f:$ee},34:{n:"PtgFuncVar",f:Wee},35:{n:"PtgName",f:ste},36:{n:"PtgRef",f:Hee},37:{n:"PtgArea",f:kee},38:{n:"PtgMemArea",f:ote},39:{n:"PtgMemErr",f:dte},40:{n:"PtgMemNoMem",f:fte},41:{n:"PtgMemFunc",f:lte},42:{n:"PtgRefErr",f:cte},43:{n:"PtgAreaErr",f:jee},44:{n:"PtgRefN",f:qee},45:{n:"PtgAreaN",f:Dee},46:{n:"PtgMemAreaN",f:Ate},47:{n:"PtgMemNoMemN",f:kte},57:{n:"PtgNameX",f:ate},58:{n:"PtgRef3d",f:Vee},59:{n:"PtgArea3d",f:Ree},60:{n:"PtgRefErr3d",f:ute},61:{n:"PtgAreaErr3d",f:Oee},255:{}},jte={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ote={1:{n:"PtgElfLel",f:j8},2:{n:"PtgElfRw",f:wte},3:{n:"PtgElfCol",f:pte},6:{n:"PtgElfRwV",f:Ete},7:{n:"PtgElfColV",f:gte},10:{n:"PtgElfRadical",f:yte},11:{n:"PtgElfRadicalS",f:bte},13:{n:"PtgElfColS",f:mte},15:{n:"PtgElfColSV",f:xte},16:{n:"PtgElfRadicalLel",f:vte},25:{n:"PtgList",f:Ste},29:{n:"PtgSxName",f:Nte},255:{}},Dte={0:{n:"PtgAttrNoop",f:Rte},1:{n:"PtgAttrSemi",f:Bee},2:{n:"PtgAttrIf",f:Pee},4:{n:"PtgAttrChoose",f:Mee},8:{n:"PtgAttrGoto",f:Fee},16:{n:"PtgAttrSum",f:Kee},32:{n:"PtgAttrBaxcel",f:a3},33:{n:"PtgAttrBaxcel",f:a3},64:{n:"PtgAttrSpace",f:Uee},65:{n:"PtgAttrSpaceSemi",f:zee},128:{n:"PtgAttrIfError",f:Lee},255:{}};function v0(e,t,r,n){if(n.biff<8)return Kn(e,t);for(var s=e.l+t,a=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=nte(e,0,n),a.push(r[i][1]);break;case"PtgMemArea":r[i][2]=rte(e,r[i][1],n),a.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),a.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=s-e.l,t!==0&&a.push(Kn(e,t)),a}function b0(e,t,r){for(var n=e.l+t,s,a,i=[];n!=e.l;)t=n-e.l,a=e[e.l],s=i3[a]||i3[jte[a]],(a===24||a===25)&&(s=(a===24?Ote:Dte)[e[e.l+1]]),!s||!s.f?Kn(e,t):i.push([s.n,s.f(e,t,r)]);return i}function Ite(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],a=0;a<n.length;++a){var i=n[a];if(i)switch(i[0]){case 2:s.push('"'+i[1].replace(/"/g,'""')+'"');break;default:s.push(i[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var Mte={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Fte(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function O8(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function o3(e,t,r){var n=O8(e,t,r);return n=="#REF"?n:Fte(n,r)}function Hn(e,t,r,n,s){var a=s&&s.biff||8,i={s:{c:0,r:0}},o=[],c,f,h,m=0,x=0,g,v="";if(!e[0]||!e[0][0])return"";for(var y=-1,w="",E=0,N=e[0].length;E<N;++E){var _=e[0][E];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),f=o.pop(),y>=0){switch(e[0][y][1][0]){case 0:w=kr(" ",e[0][y][1][1]);break;case 1:w=kr("\r",e[0][y][1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}f=f+w,y=-1}o.push(f+Mte[_[0]]+c);break;case"PtgIsect":c=o.pop(),f=o.pop(),o.push(f+" "+c);break;case"PtgUnion":c=o.pop(),f=o.pop(),o.push(f+","+c);break;case"PtgRange":c=o.pop(),f=o.pop(),o.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=rh(_[1][1],i,s),o.push(nh(h,a));break;case"PtgRefN":h=r?rh(_[1][1],r,s):_[1][1],o.push(nh(h,a));break;case"PtgRef3d":m=_[1][1],h=rh(_[1][2],i,s),v=o3(n,m,s),o.push(v+"!"+nh(h,a));break;case"PtgFunc":case"PtgFuncVar":var S=_[1][0],k=_[1][1];S||(S=0),S&=127;var L=S==0?[]:o.slice(-S);o.length-=S,k==="User"&&(k=L.shift()),o.push(k+"("+L.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":g=z4(_[1][1],r?{s:r}:i,s),o.push(Iv(g,s));break;case"PtgArea":g=z4(_[1][1],i,s),o.push(Iv(g,s));break;case"PtgArea3d":m=_[1][1],g=_[1][2],v=o3(n,m,s),o.push(v+"!"+Iv(g,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=_[1][2];var R=(n.names||[])[x-1]||(n[0]||[])[x],H=R?R.Name:"SH33TJSNAME"+String(x);H&&H.slice(0,6)=="_xlfn."&&!s.xlfn&&(H=H.slice(6)),o.push(H);break;case"PtgNameX":var O=_[1][1];x=_[1][2];var Z;if(s.biff<=5)O<0&&(O=-O),n[O]&&(Z=n[O][x]);else{var ae="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][x]&&n[O][x].itab>0&&(ae=n.SheetNames[n[O][x].itab-1]+"!"):ae=n.SheetNames[x-1]+"!"),n[O]&&n[O][x])ae+=n[O][x].Name;else if(n[0]&&n[0][x])ae+=n[0][x].Name;else{var P=(O8(n,O,s)||"").split(";;");P[x-1]?ae=P[x-1]:ae+="SH33TJSERRX"}o.push(ae);break}Z||(Z={Name:"SH33TJSERRY"}),o.push(Z.Name);break;case"PtgParen":var X="(",M=")";if(y>=0){switch(w="",e[0][y][1][0]){case 2:X=kr(" ",e[0][y][1][1])+X;break;case 3:X=kr("\r",e[0][y][1][1])+X;break;case 4:M=kr(" ",e[0][y][1][1])+M;break;case 5:M=kr("\r",e[0][y][1][1])+M;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}o.push(X+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:_[1][1],r:_[1][0]};var ie={c:r.c,r:r.r};if(n.sharedf[wt(h)]){var J=n.sharedf[wt(h)];o.push(Hn(J,i,ie,n,s))}else{var ee=!1;for(c=0;c!=n.arrayf.length;++c)if(f=n.arrayf[c],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){o.push(Hn(f[1],i,ie,n,s)),ee=!0;break}ee||o.push(_[1])}break;case"PtgArray":o.push("{"+Ite(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var xe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&xe.indexOf(e[0][E][0])==-1){_=e[0][y];var oe=!0;switch(_[1][0]){case 4:oe=!1;case 0:w=kr(" ",_[1][1]);break;case 5:oe=!1;case 1:w=kr("\r",_[1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((oe?w:"")+o.pop()+(oe?"":w)),y=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function Pte(e,t,r){var n=e.l+t,s=r.biff==2?1:2,a,i=e.read_shift(s);if(i==65535)return[[],Kn(e,t-2)];var o=b0(e,i,r);return t!==i+s&&(a=v0(e,t-i-s,o,r)),e.l=n,[o,a]}function Lte(e,t,r){var n=e.l+t,s=r.biff==2?1:2,a,i=e.read_shift(s);if(i==65535)return[[],Kn(e,t-2)];var o=b0(e,i,r);return t!==i+s&&(a=v0(e,t-i-s,o,r)),e.l=n,[o,a]}function Bte(e,t,r,n){var s=e.l+t,a=b0(e,n,r),i;return s!==e.l&&(i=v0(e,s-e.l,a,r)),[a,i]}function Ute(e,t,r){var n=e.l+t,s,a=e.read_shift(2),i=b0(e,a,r);return a==65535?[[],Kn(e,t-2)]:(t!==a+2&&(s=v0(e,n-a-2,i,r)),[i,s])}function zte(e){var t;if(to(e,e.l+6)!==65535)return[Vn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Pv(e,t,r){var n=e.l+t,s=Si(e);r.biff==2&&++e.l;var a=zte(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Lte(e,n-e.l,r);return{cell:s,val:a[0],formula:o,shared:i>>3&1,tt:a[1]}}function Dg(e,t,r){var n=e.read_shift(4),s=b0(e,n,r),a=e.read_shift(4),i=a>0?v0(e,a,s,r):null;return[s,i]}var Hte=Dg,Ig=Dg,qte=Dg,Vte=Dg,$te={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},D8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Wte={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function l3(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Lv(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var oh={},zu={};function lh(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function I8(e,t,r,n,s,a){try{n.cellNF&&(e.z=Nt[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=bn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Nt[t]==null&&mc(GX[t]||"General",t),e.t==="e")e.w=e.w||zc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=jh(e.v);else if(e.t==="d"){var i=us(e.v);(i|0)===i?e.w=i.toString(10):e.w=jh(i)}else{if(e.v===void 0)return"";e.w=Ac(e.v,zu)}else e.t==="d"?e.w=Na(t,us(e.v),zu):e.w=Na(t,e.v,zu)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=hx(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=hx(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function Gte(e,t){var r=Or(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Ut(r))}var Kte=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Xte=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Yte=/<(?:\w:)?hyperlink [^>]*>/mg,Jte=/"(\w*:\w*)"/,Zte=/<(?:\w:)?col\b[^>]*[\/]?>/g,Qte=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,ere=/<(?:\w:)?pageMargins[^>]*\/>/g,M8=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,tre=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,rre=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function nre(e,t,r,n,s,a,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",m=e.match(Xte);m?(f=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):f=h=e;var x=f.match(M8);x?N_(x[0],o,s,r):(x=f.match(tre))&&sre(x[0],x[1]||"",o,s,r);var g=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var v=f.slice(g,g+50).match(Jte);v&&Gte(o,v[1])}var y=f.match(rre);y&&y[1]&&ure(y[1],s);var w=[];if(t.cellStyles){var E=f.match(Zte);E&&ore(w,E)}m&&dre(m[1],o,t,c,a,i);var N=h.match(Qte);N&&(o["!autofilter"]=lre(N[0]));var _=[],S=h.match(Kte);if(S)for(g=0;g!=S.length;++g)_[g]=Or(S[g].slice(S[g].indexOf('"')+1));var k=h.match(Yte);k&&are(o,k,n);var L=h.match(ere);if(L&&(o["!margins"]=ire(mt(L[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Ut(c)),t.sheetRows>0&&o["!ref"]){var R=Or(o["!ref"]);t.sheetRows<=+R.e.r&&(R.e.r=t.sheetRows-1,R.e.r>c.e.r&&(R.e.r=c.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>c.e.c&&(R.e.c=c.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Ut(R))}return w.length>0&&(o["!cols"]=w),_.length>0&&(o["!merges"]=_),o}function N_(e,t,r,n){var s=mt(e);r.Sheets[n]||(r.Sheets[n]={}),s.codeName&&(r.Sheets[n].CodeName=zt(dr(s.codeName)))}function sre(e,t,r,n,s){N_(e.slice(0,e.indexOf(">")),r,n,s)}function are(e,t,r){for(var n=Array.isArray(e),s=0;s!=t.length;++s){var a=mt(dr(t[s]),!0);if(!a.ref)return;var i=((r||{})["!id"]||[])[a.id];i?(a.Target=i.Target,a.location&&(a.Target+="#"+zt(a.location))):(a.Target="#"+zt(a.location),i={Target:a.Target,TargetMode:"Internal"}),a.Rel=i,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Or(a.ref),c=o.s.r;c<=o.e.r;++c)for(var f=o.s.c;f<=o.e.c;++f){var h=wt({c:f,r:c});n?(e[c]||(e[c]=[]),e[c][f]||(e[c][f]={t:"z",v:void 0}),e[c][f].l=a):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=a)}}}function ire(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function ore(e,t){for(var r=!1,n=0;n!=t.length;++n){var s=mt(t[n],!0);s.hidden&&(s.hidden=br(s.hidden));var a=parseInt(s.min,10)-1,i=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,__(s.width)),Zu(s);a<=i;)e[a++]=In(s)}}function lre(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var cre=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ure(e,t){t.Views||(t.Views=[{}]),(e.match(cre)||[]).forEach(function(r,n){var s=mt(r);t.Views[n]||(t.Views[n]={}),+s.zoomScale&&(t.Views[n].zoom=+s.zoomScale),br(s.rightToLeft)&&(t.Views[n].RTL=!0)})}var dre=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,a=Oh("v"),i=Oh("f");return function(c,f,h,m,x,g){for(var v=0,y="",w=[],E=[],N=0,_=0,S=0,k="",L,R,H=0,O=0,Z,ae,P=0,X=0,M=Array.isArray(g.CellXf),ie,J=[],ee=[],xe=Array.isArray(f),oe=[],we={},G=!1,D=!!h.sheetStubs,W=c.split(t),K=0,re=W.length;K!=re;++K){y=W[K].trim();var se=y.length;if(se!==0){var I=0;e:for(v=0;v<se;++v)switch(y[v]){case">":if(y[v-1]!="/"){++v;break e}if(h&&h.cellStyles){if(R=mt(y.slice(I,v),!0),H=R.r!=null?parseInt(R.r,10):H+1,O=-1,h.sheetRows&&h.sheetRows<H)continue;we={},G=!1,R.ht&&(G=!0,we.hpt=parseFloat(R.ht),we.hpx=Fh(we.hpt)),R.hidden=="1"&&(G=!0,we.hidden=!0),R.outlineLevel!=null&&(G=!0,we.level=+R.outlineLevel),G&&(oe[H-1]=we)}break;case"<":I=v;break}if(I>=v)break;if(R=mt(y.slice(I,v),!0),H=R.r!=null?parseInt(R.r,10):H+1,O=-1,!(h.sheetRows&&h.sheetRows<H)){m.s.r>H-1&&(m.s.r=H-1),m.e.r<H-1&&(m.e.r=H-1),h&&h.cellStyles&&(we={},G=!1,R.ht&&(G=!0,we.hpt=parseFloat(R.ht),we.hpx=Fh(we.hpt)),R.hidden=="1"&&(G=!0,we.hidden=!0),R.outlineLevel!=null&&(G=!0,we.level=+R.outlineLevel),G&&(oe[H-1]=we)),w=y.slice(v).split(e);for(var F=0;F!=w.length&&w[F].trim().charAt(0)=="<";++F);for(w=w.slice(F),v=0;v!=w.length;++v)if(y=w[v].trim(),y.length!==0){if(E=y.match(r),N=v,_=0,S=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,E!=null&&E.length===2){for(N=0,k=E[1],_=0;_!=k.length&&!((S=k.charCodeAt(_)-64)<1||S>26);++_)N=26*N+S;--N,O=N}else++O;for(_=0;_!=y.length&&y.charCodeAt(_)!==62;++_);if(++_,R=mt(y.slice(0,_),!0),R.r||(R.r=wt({r:H-1,c:O})),k=y.slice(_),L={t:""},(E=k.match(a))!=null&&E[1]!==""&&(L.v=zt(E[1])),h.cellFormula){if((E=k.match(i))!=null&&E[1]!==""){if(L.f=zt(dr(E[1])).replace(/\r\n/g,`
`),h.xlfn||(L.f=s3(L.f)),E[0].indexOf('t="array"')>-1)L.F=(k.match(s)||[])[1],L.F.indexOf(":")>-1&&J.push([Or(L.F),L.F]);else if(E[0].indexOf('t="shared"')>-1){ae=mt(E[0]);var ne=zt(dr(E[1]));h.xlfn||(ne=s3(ne)),ee[parseInt(ae.si,10)]=[ae,ne,R.r]}}else(E=k.match(/<f[^>]*\/>/))&&(ae=mt(E[0]),ee[ae.si]&&(L.f=Eee(ee[ae.si][1],ee[ae.si][2],R.r)));var te=ss(R.r);for(_=0;_<J.length;++_)te.r>=J[_][0].s.r&&te.r<=J[_][0].e.r&&te.c>=J[_][0].s.c&&te.c<=J[_][0].e.c&&(L.F=J[_][1])}if(R.t==null&&L.v===void 0)if(L.f||L.F)L.v=0,L.t="n";else if(D)L.t="z";else continue;else L.t=R.t||"n";switch(m.s.c>O&&(m.s.c=O),m.e.c<O&&(m.e.c=O),L.t){case"n":if(L.v==""||L.v==null){if(!D)continue;L.t="z"}else L.v=parseFloat(L.v);break;case"s":if(typeof L.v>"u"){if(!D)continue;L.t="z"}else Z=oh[parseInt(L.v,10)],L.v=Z.t,L.r=Z.r,h.cellHTML&&(L.h=Z.h);break;case"str":L.t="s",L.v=L.v!=null?dr(L.v):"",h.cellHTML&&(L.h=f_(L.v));break;case"inlineStr":E=k.match(n),L.t="s",E!=null&&(Z=E_(E[1]))?(L.v=Z.t,h.cellHTML&&(L.h=Z.h)):L.v="";break;case"b":L.v=br(L.v);break;case"d":h.cellDates?L.v=bn(L.v,1):(L.v=us(bn(L.v,1)),L.t="n");break;case"e":(!h||h.cellText!==!1)&&(L.w=L.v),L.v=r8[L.v];break}if(P=X=0,ie=null,M&&R.s!==void 0&&(ie=g.CellXf[R.s],ie!=null&&(ie.numFmtId!=null&&(P=ie.numFmtId),h.cellStyles&&ie.fillId!=null&&(X=ie.fillId))),I8(L,P,X,h,x,g),h.cellDates&&M&&L.t=="n"&&Ad(Nt[P])&&(L.t="d",L.v=jg(L.v)),R.cm&&h.xlmeta){var Q=(h.xlmeta.Cell||[])[+R.cm-1];Q&&Q.type=="XLDAPR"&&(L.D=!0)}if(xe){var z=ss(R.r);f[z.r]||(f[z.r]=[]),f[z.r][z.c]=L}else f[R.r]=L}}}}oe.length>0&&(f["!rows"]=oe)}})();function fre(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}var hre=Uc;function pre(){}function mre(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=PY(e),r}function xre(e){var t=ka(e);return[t]}function gre(e){var t=Bc(e);return[t]}function yre(e){var t=ka(e),r=e.read_shift(1);return[t,r,"b"]}function vre(e){var t=Bc(e),r=e.read_shift(1);return[t,r,"b"]}function bre(e){var t=ka(e),r=e.read_shift(1);return[t,r,"e"]}function wre(e){var t=Bc(e),r=e.read_shift(1);return[t,r,"e"]}function Ere(e){var t=ka(e),r=e.read_shift(4);return[t,r,"s"]}function _re(e){var t=Bc(e),r=e.read_shift(4);return[t,r,"s"]}function Sre(e){var t=ka(e),r=Vn(e);return[t,r,"n"]}function F8(e){var t=Bc(e),r=Vn(e);return[t,r,"n"]}function Nre(e){var t=ka(e),r=v_(e);return[t,r,"n"]}function Tre(e){var t=Bc(e),r=v_(e);return[t,r,"n"]}function Cre(e){var t=ka(e),r=g_(e);return[t,r,"is"]}function Are(e){var t=ka(e),r=Wn(e);return[t,r,"str"]}function kre(e){var t=Bc(e),r=Wn(e);return[t,r,"str"]}function Rre(e,t,r){var n=e.l+t,s=ka(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"b"];if(r.cellFormula){e.l+=2;var o=Ig(e,n-e.l,r);i[3]=Hn(o,null,s,r.supbooks,r)}else e.l=n;return i}function jre(e,t,r){var n=e.l+t,s=ka(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"e"];if(r.cellFormula){e.l+=2;var o=Ig(e,n-e.l,r);i[3]=Hn(o,null,s,r.supbooks,r)}else e.l=n;return i}function Ore(e,t,r){var n=e.l+t,s=ka(e);s.r=r["!row"];var a=Vn(e),i=[s,a,"n"];if(r.cellFormula){e.l+=2;var o=Ig(e,n-e.l,r);i[3]=Hn(o,null,s,r.supbooks,r)}else e.l=n;return i}function Dre(e,t,r){var n=e.l+t,s=ka(e);s.r=r["!row"];var a=Wn(e),i=[s,a,"str"];if(r.cellFormula){e.l+=2;var o=Ig(e,n-e.l,r);i[3]=Hn(o,null,s,r.supbooks,r)}else e.l=n;return i}var Ire=Uc;function Mre(e,t){var r=e.l+t,n=Uc(e),s=y_(e),a=Wn(e),i=Wn(e),o=Wn(e);e.l=r;var c={rfx:n,relId:s,loc:a,display:o};return i&&(c.Tooltip=i),c}function Fre(){}function Pre(e,t,r){var n=e.l+t,s=QD(e),a=e.read_shift(1),i=[s];if(i[2]=a,r.cellFormula){var o=Hte(e,n-e.l,r);i[1]=o}else e.l=n;return i}function Lre(e,t,r){var n=e.l+t,s=Uc(e),a=[s];if(r.cellFormula){var i=Vte(e,n-e.l,r);a[1]=i,e.l=n}else e.l=n;return a}var Bre=["left","right","top","bottom","header","footer"];function Ure(e){var t={};return Bre.forEach(function(r){t[r]=Vn(e)}),t}function zre(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Hre(){}function qre(){}function Vre(e,t,r,n,s,a,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,x=!1,g,v,y,w,E,N,_,S,k,L=[];o.biff=12,o["!row"]=0;var R=0,H=!1,O=[],Z={},ae=o.supbooks||s.supbooks||[[]];if(ae.sharedf=Z,ae.arrayf=O,ae.SheetNames=s.SheetNames||s.Sheets.map(function(xe){return xe.name}),!o.supbooks&&(o.supbooks=ae,s.Names))for(var P=0;P<s.Names.length;++P)ae[0][P+1]=s.Names[P];var X=[],M=[],ie=!1;xx[16]={n:"BrtShortReal",f:F8};var J;if(vo(e,function(oe,we,G){if(!x)switch(G){case 148:f=oe;break;case 0:g=oe,o.sheetRows&&o.sheetRows<=g.r&&(x=!0),S=Mn(w=g.r),o["!row"]=g.r,(oe.hidden||oe.hpt||oe.level!=null)&&(oe.hpt&&(oe.hpx=Fh(oe.hpt)),M[oe.r]=oe);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:oe[2]},oe[2]){case"n":v.v=oe[1];break;case"s":_=oh[oe[1]],v.v=_.t,v.r=_.r;break;case"b":v.v=!!oe[1];break;case"e":v.v=oe[1],o.cellText!==!1&&(v.w=zc[v.v]);break;case"str":v.t="s",v.v=oe[1];break;case"is":v.t="s",v.v=oe[1].t;break}if((y=i.CellXf[oe[0].iStyleRef])&&I8(v,y.numFmtId,null,o,a,i),E=oe[0].c==-1?E+1:oe[0].c,o.dense?(c[w]||(c[w]=[]),c[w][E]=v):c[on(E)+S]=v,o.cellFormula){for(H=!1,R=0;R<O.length;++R){var D=O[R];g.r>=D[0].s.r&&g.r<=D[0].e.r&&E>=D[0].s.c&&E<=D[0].e.c&&(v.F=Ut(D[0]),H=!0)}!H&&oe.length>3&&(v.f=oe[3])}if(h.s.r>g.r&&(h.s.r=g.r),h.s.c>E&&(h.s.c=E),h.e.r<g.r&&(h.e.r=g.r),h.e.c<E&&(h.e.c=E),o.cellDates&&y&&v.t=="n"&&Ad(Nt[y.numFmtId])){var W=ic(v.v);W&&(v.t="d",v.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}J&&(J.type=="XLDAPR"&&(v.D=!0),J=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;v={t:"z",v:void 0},E=oe[0].c==-1?E+1:oe[0].c,o.dense?(c[w]||(c[w]=[]),c[w][E]=v):c[on(E)+S]=v,h.s.r>g.r&&(h.s.r=g.r),h.s.c>E&&(h.s.c=E),h.e.r<g.r&&(h.e.r=g.r),h.e.c<E&&(h.e.c=E),J&&(J.type=="XLDAPR"&&(v.D=!0),J=void 0);break;case 176:L.push(oe);break;case 49:J=((o.xlmeta||{}).Cell||[])[oe-1];break;case 494:var K=n["!id"][oe.relId];for(K?(oe.Target=K.Target,oe.loc&&(oe.Target+="#"+oe.loc),oe.Rel=K):oe.relId==""&&(oe.Target="#"+oe.loc),w=oe.rfx.s.r;w<=oe.rfx.e.r;++w)for(E=oe.rfx.s.c;E<=oe.rfx.e.c;++E)o.dense?(c[w]||(c[w]=[]),c[w][E]||(c[w][E]={t:"z",v:void 0}),c[w][E].l=oe):(N=wt({c:E,r:w}),c[N]||(c[N]={t:"z",v:void 0}),c[N].l=oe);break;case 426:if(!o.cellFormula)break;O.push(oe),k=o.dense?c[w][E]:c[on(E)+S],k.f=Hn(oe[1],h,{r:g.r,c:E},ae,o),k.F=Ut(oe[0]);break;case 427:if(!o.cellFormula)break;Z[wt(oe[0].s)]=oe[1],k=o.dense?c[w][E]:c[on(E)+S],k.f=Hn(oe[1],h,{r:g.r,c:E},ae,o);break;case 60:if(!o.cellStyles)break;for(;oe.e>=oe.s;)X[oe.e--]={width:oe.w/256,hidden:!!(oe.flags&1),level:oe.level},ie||(ie=!0,__(oe.w/256)),Zu(X[oe.e+1]);break;case 161:c["!autofilter"]={ref:Ut(oe)};break;case 476:c["!margins"]=oe;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),oe.name&&(s.Sheets[r].CodeName=oe.name),(oe.above||oe.left)&&(c["!outline"]={above:oe.above,left:oe.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),oe.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!we.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+G.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(c["!ref"]=Ut(f||h)),o.sheetRows&&c["!ref"]){var ee=Or(c["!ref"]);o.sheetRows<=+ee.e.r&&(ee.e.r=o.sheetRows-1,ee.e.r>h.e.r&&(ee.e.r=h.e.r),ee.e.r<ee.s.r&&(ee.s.r=ee.e.r),ee.e.c>h.e.c&&(ee.e.c=h.e.c),ee.e.c<ee.s.c&&(ee.s.c=ee.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Ut(ee))}return L.length>0&&(c["!merges"]=L),X.length>0&&(c["!cols"]=X),M.length>0&&(c["!rows"]=M),c}function $re(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var i=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var s=zt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,s,n]}function Wre(e,t,r,n,s,a){var i=a||{"!type":"chart"};if(!e)return a;var o=0,c=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var x=$re(m);h.s.r=h.s.c=0,h.e.c=o,f=on(o),x[0].forEach(function(g,v){i[f+Mn(v)]={t:"n",v:g,z:x[1]},c=v}),h.e.r<c&&(h.e.r=c),++o}),o>0&&(i["!ref"]=Ut(h)),i}function Gre(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(M8);return o&&N_(o[0],a,s,r),(i=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=i[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function Kre(e,t){e.l+=10;var r=Wn(e);return{name:r}}function Xre(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i=!1;return vo(e,function(c,f,h){switch(h){case 550:a["!rel"]=c;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),c.name&&(s.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var P8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Yre=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Jre=[],Zre=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function c3(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],s=0;s!=t.length;++s){var a=t[s];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=br(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function u3(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=br(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function L8(e){u3(e.WBProps,P8),u3(e.CalcPr,Zre),c3(e.WBView,Yre),c3(e.Sheets,Jre),zu.date1904=br(e.WBProps.date1904)}var Qre="][*?/\\".split("");function ene(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Qre.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var tne=/<\w+:workbook/;function rne(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",a={},i=0;if(e.replace(Yn,function(c,f){var h=mt(c);switch(_i(h[0])){case"<?xml":break;case"<workbook":c.match(tne)&&(s="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=h[s];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":P8.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=br(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=dr(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=zt(dr(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=dr(h.name),h.comment&&(a.Comment=h.comment),h.localSheetId&&(a.Sheet=+h.localSheetId),br(h.hidden||"0")&&(a.Hidden=!0),i=f+c.length;break;case"</definedName>":a.Ref=zt(dr(e.slice(i,f))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),bY.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return L8(r),r}function nne(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=O2(e),r.name=Wn(e),r}function sne(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Wn(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function ane(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function ine(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),a=LY(e),i=qte(e,0,r),o=y_(e);e.l=n;var c={Name:a,Ptg:i};return s<268435455&&(c.Sheet=s),o&&(c.Comment=o),c}function one(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;t||(t={}),t.biff=12;var a=[],i=[[]];return i.SheetNames=[],i.XTI=[],xx[16]={n:"BrtFRTArchID$",f:ane},vo(e,function(c,f,h){switch(h){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Hn(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([h,c]):i[0]=[h,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(h),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!f.T){if(!s||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),L8(r),r.Names=a,r.supbooks=i,r}function lne(e,t,r){return t.slice(-4)===".bin"?one(e,r):rne(e,r)}function cne(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?Vre(e,n,r,s,a,i,o):nre(e,n,r,s,a,i,o)}function une(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?Xre(e,n,r,s,a):Gre(e,n,r,s,a)}function dne(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?vee():bee()}function fne(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?gee():yee()}function hne(e,t,r,n){return t.slice(-4)===".bin"?IQ(e,r,n):AQ(e,r,n)}function pne(e,t,r){return S8(e,r)}function mne(e,t,r){return t.slice(-4)===".bin"?YZ(e,r):KZ(e,r)}function xne(e,t,r){return t.slice(-4)===".bin"?pee(e,r):cee(e,r)}function gne(e,t,r){return t.slice(-4)===".bin"?iee(e):see(e)}function yne(e,t,r,n){return r.slice(-4)===".bin"?oee(e,t,r,n):void 0}function vne(e,t,r){return t.slice(-4)===".bin"?ree(e,t,r):nee(e,t,r)}var B8=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,U8=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ma(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var s=e.match(B8),a,i,o,c;if(s)for(c=0;c!=s.length;++c)a=s[c].match(U8),(i=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),n[o]=a[2].slice(1,a[2].length-1));return n}function bne(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(B8),s,a,i,o;if(n)for(o=0;o!=n.length;++o)s=n[o].match(U8),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?i="xmlns"+s[1].slice(6):i=s[1].slice(a+1),r[i]=s[2].slice(1,s[2].length-1));return r}var ch;function wne(e,t){var r=ch[e]||zt(e);return r==="General"?Ac(t):Na(r,t)}function Ene(e,t,r,n){var s=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=br(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=bn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[zt(t)]=s}function _ne(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||zc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=jh(e.v):e.w=Ac(e.v):e.w=wne(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=ch[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Ad(n)){var s=ic(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(a){if(r.WTF)throw a}}}function Sne(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=EQ[n.Pattern]||n.Pattern)}e[t.ID]=t}function Nne(e,t,r,n,s,a,i,o,c,f){var h="General",m=n.StyleID,x={};f=f||{};var g=[],v=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&i&&(m=i.StyleID);a[m]!==void 0&&(a[m].nf&&(h=a[m].nf),a[m].Interior&&g.push(a[m].Interior),!!a[m].Parent);)m=a[m].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=br(e);break;case"String":n.t="s",n.r=O4(zt(e)),n.v=e.indexOf("<")>-1?zt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(bn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=zt(e):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=r8[e],f.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=O4(t||e));break}if(_ne(n,h,f),f.cellFormula!==!1)if(n.Formula){var y=zt(n.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),n.f=Uu(y,s),delete n.Formula,n.ArrayRange=="RC"?n.F=Uu("RC:RC",s):n.ArrayRange&&(n.F=Uu(n.ArrayRange,s),c.push([Or(n.F),n.F]))}else for(v=0;v<c.length;++v)s.r>=c[v][0].s.r&&s.r<=c[v][0].e.r&&s.c>=c[v][0].s.c&&s.c<=c[v][0].e.c&&(n.F=c[v][1]);f.cellStyles&&(g.forEach(function(w){!x.patternType&&w.patternType&&(x.patternType=w.patternType)}),n.s=x),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Tne(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Bv(e,t){var r=t||{};AD();var n=Hf(h_(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=dr(n));var s=n.slice(0,1024).toLowerCase(),a=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var i=In(r);return i.type="string",Ih.to_workbook(n,i)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(j){s.indexOf("<"+j)>=0&&(a=!0)}),a)return Mne(n,r);ch={"General Number":"General","General Date":Nt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Nt[15],"Short Date":Nt[14],"Long Time":Nt[19],"Medium Time":Nt[18],"Short Time":Nt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Nt[2],Standard:Nt[4],Percent:Nt[10],Scientific:Nt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],f,h={},m=[],x=r.dense?[]:{},g="",v={},y={},w=Ma('<Data ss:Type="String">'),E=0,N=0,_=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},L={},R="",H=0,O=[],Z={},ae={},P=0,X=[],M=[],ie={},J=[],ee,xe=!1,oe=[],we=[],G={},D=0,W=0,K={Sheets:[],WBProps:{date1904:!1}},re={};Dh.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var se="";o=Dh.exec(n);)switch(o[3]=(se=o[3]).toLowerCase()){case"data":if(se=="data"){if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Nne(n.slice(E,o.index),R,w,c[c.length-1][0]=="comment"?ie:v,{c:N,r:_},k,J[N],y,oe,r):(R="",w=Ma(o[0]),E=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(v.c=M),(!r.sheetRows||r.sheetRows>_)&&v.v!==void 0&&(r.dense?(x[_]||(x[_]=[]),x[_][N]=v):x[on(N)+Mn(_)]=v),v.HRef&&(v.l={Target:zt(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(D=N+(parseInt(v.MergeAcross,10)|0),W=_+(parseInt(v.MergeDown,10)|0),O.push({s:{c:N,r:_},e:{c:D,r:W}})),!r.sheetStubs)v.MergeAcross?N=D+1:++N;else if(v.MergeAcross||v.MergeDown){for(var I=N;I<=D;++I)for(var F=_;F<=W;++F)(I>N||F>_)&&(r.dense?(x[F]||(x[F]=[]),x[F][I]={t:"z"}):x[on(I)+Mn(F)]={t:"z"});N=D+1}else++N;else v=bne(o[0]),v.Index&&(N=+v.Index-1),N<S.s.c&&(S.s.c=N),N>S.e.c&&(S.e.c=N),o[0].slice(-2)==="/>"&&++N,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<S.s.r&&(S.s.r=_),_>S.e.r&&(S.e.r=_),o[0].slice(-2)==="/>"&&(y=Ma(o[0]),y.Index&&(_=+y.Index-1)),N=0,++_):(y=Ma(o[0]),y.Index&&(_=+y.Index-1),G={},(y.AutoFitHeight=="0"||y.Height)&&(G.hpx=parseInt(y.Height,10),G.hpt=_8(G.hpx),we[_]=G),y.Hidden=="1"&&(G.hidden=!0,we[_]=G));break;case"worksheet":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));m.push(g),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(x["!ref"]=Ut(S),r.sheetRows&&r.sheetRows<=S.e.r&&(x["!fullref"]=x["!ref"],S.e.r=r.sheetRows-1,x["!ref"]=Ut(S))),O.length&&(x["!merges"]=O),J.length>0&&(x["!cols"]=J),we.length>0&&(x["!rows"]=we),h[g]=x}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=N=0,c.push([o[3],!1]),f=Ma(o[0]),g=zt(f.Name),x=r.dense?[]:{},O=[],oe=[],we=[],re={name:g,Hidden:0},K.Sheets.push(re);break;case"table":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),J=[],xe=!1}break;case"style":o[1]==="/"?Sne(k,L,r):L=Ma(o[0]);break;case"numberformat":L.nf=zt(Ma(o[0]).Format||"General"),ch[L.nf]&&(L.nf=ch[L.nf]);for(var ne=0;ne!=392&&Nt[ne]!=L.nf;++ne);if(ne==392){for(ne=57;ne!=392;++ne)if(Nt[ne]==null){mc(L.nf,ne);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ee=Ma(o[0]),ee.Hidden&&(ee.hidden=!0,delete ee.Hidden),ee.Width&&(ee.wpx=parseInt(ee.Width,10)),!xe&&ee.wpx>10){xe=!0,ns=w8;for(var te=0;te<J.length;++te)J[te]&&Zu(J[te])}xe&&Zu(ee),J[ee.Index-1||J.length]=ee;for(var Q=0;Q<+ee.Span;++Q)J[J.length]=In(ee);break;case"namedrange":if(o[1]==="/")break;K.Names||(K.Names=[]);var z=mt(o[0]),be={Name:z.Name,Ref:Uu(z.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(be.Sheet=K.Sheets.length-1),K.Names.push(be);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?R+=n.slice(H,o.index):H=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;L.Interior=Ma(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?cJ(Z,se,n.slice(P,o.index)):P=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));Tne(ie),M.push(ie)}else c.push([o[3],!1]),f=Ma(o[0]),ie={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var B=Ma(o[0]);x["!autofilter"]={ref:Uu(B.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return x3(n,r);var Ee=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ee=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ee=!1}break;case"excelworkbook":switch(o[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ee=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ee=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(P,o.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else P=o.index+o[0].length;break;case"header":x["!margins"]||lh(x["!margins"]={},"xlml"),isNaN(+mt(o[0]).Margin)||(x["!margins"].header=+mt(o[0]).Margin);break;case"footer":x["!margins"]||lh(x["!margins"]={},"xlml"),isNaN(+mt(o[0]).Margin)||(x["!margins"].footer=+mt(o[0]).Margin);break;case"pagemargins":var q=mt(o[0]);x["!margins"]||lh(x["!margins"]={},"xlml"),isNaN(+q.Top)||(x["!margins"].top=+q.Top),isNaN(+q.Left)||(x["!margins"].left=+q.Left),isNaN(+q.Right)||(x["!margins"].right=+q.Right),isNaN(+q.Bottom)||(x["!margins"].bottom=+q.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ee=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ee=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ee=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ee=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ee=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ee=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ee=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ee=!1}break;case"smarttags":break;default:Ee=!1;break}if(Ee||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Ene(ae,se,X,n.slice(P,o.index)):(X=o,P=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var C={};return!r.bookSheets&&!r.bookProps&&(C.Sheets=h),C.SheetNames=m,C.Workbook=K,C.SSF=In(Nt),C.Props=Z,C.Custprops=ae,C}function F2(e,t){switch(A_(t=t||{}),t.type||"base64"){case"base64":return Bv(Gs(e),t);case"binary":case"buffer":case"file":return Bv(e,t);case"array":return Bv(Lc(e),t)}}function Cne(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=zY(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=HY(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Ane=[60,1084,2066,2165,2175];function kne(e,t,r,n,s){var a=n,i=[],o=r.slice(r.l,r.l+a);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}i.push(o),r.l+=a;for(var c=to(r,r.l),f=P2[c],h=0;f!=null&&Ane.indexOf(c)>-1;)a=to(r,r.l+2),h=r.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),o=r.slice(h,r.l+4+a),i.push(o),r.l+=4+a,f=P2[c=to(r,r.l)];var m=rl(i);kn(m,0);var x=0;m.lens=[];for(var g=0;g<i.length;++g)m.lens.push(x),x+=i[g].length;if(m.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+n;return t.f(m,m.length,s)}function oi(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Nt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||zc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=jh(e.v):e.w=Ac(e.v):e.w=Na(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&Ad(Nt[n]||String(n))){var s=ic(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function im(e,t,r){return{v:e,ixfe:t,t:r}}function Rne(e,t){var r={opts:{}},n={},s=t.dense?[]:{},a={},i={},o=null,c=[],f="",h={},m,x="",g,v,y,w,E={},N=[],_,S,k=[],L=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},H={},O=function(lt){return lt<8?xc[lt]:lt<64&&L[lt-8]||xc[lt]},Z=function(lt,jt,sr){var ht=jt.XF.data;if(!(!ht||!ht.patternType||!sr||!sr.cellStyles)){jt.s={},jt.s.patternType=ht.patternType;var Jt;(Jt=Mh(O(ht.icvFore)))&&(jt.s.fgColor={rgb:Jt}),(Jt=Mh(O(ht.icvBack)))&&(jt.s.bgColor={rgb:Jt})}},ae=function(lt,jt,sr){if(!(G>1)&&!(sr.sheetRows&&lt.r>=sr.sheetRows)){if(sr.cellStyles&&jt.XF&&jt.XF.data&&Z(lt,jt,sr),delete jt.ixfe,delete jt.XF,m=lt,x=wt(lt),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),lt.r<i.s.r&&(i.s.r=lt.r),lt.c<i.s.c&&(i.s.c=lt.c),lt.r+1>i.e.r&&(i.e.r=lt.r+1),lt.c+1>i.e.c&&(i.e.c=lt.c+1),sr.cellFormula&&jt.f){for(var ht=0;ht<N.length;++ht)if(!(N[ht][0].s.c>lt.c||N[ht][0].s.r>lt.r)&&!(N[ht][0].e.c<lt.c||N[ht][0].e.r<lt.r)){jt.F=Ut(N[ht][0]),(N[ht][0].s.c!=lt.c||N[ht][0].s.r!=lt.r)&&delete jt.f,jt.f&&(jt.f=""+Hn(N[ht][1],i,lt,oe,P));break}}sr.dense?(s[lt.r]||(s[lt.r]=[]),s[lt.r][lt.c]=jt):s[x]=jt}},P={enc:!1,sbcch:0,snames:[],sharedf:E,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var X,M=[],ie=[],J=[],ee=[],xe=!1,oe=[];oe.SheetNames=P.snames,oe.sharedf=P.sharedf,oe.arrayf=P.arrayf,oe.names=[],oe.XTI=[];var we=0,G=0,D=0,W=[],K=[],re;P.codepage=1200,za(1200);for(var se=!1;e.l<e.length-1;){var I=e.l,F=e.read_shift(2);if(F===0&&we===10)break;var ne=e.l===e.length?0:e.read_shift(2),te=P2[F];if(te&&te.f){if(t.bookSheets&&we===133&&F!==133)break;if(we=F,te.r===2||te.r==12){var Q=e.read_shift(2);if(ne-=2,!P.enc&&Q!==F&&((Q&255)<<8|Q>>8)!==F)throw new Error("rt mismatch: "+Q+"!="+F);te.r==12&&(e.l+=10,ne-=10)}var z={};if(F===10?z=te.f(e,ne,P):z=kne(F,te,e,ne,P),G==0&&[9,521,1033,2057].indexOf(we)===-1)continue;switch(F){case 34:r.opts.Date1904=R.WBProps.date1904=z;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(P.enc||(e.l=0),P.enc=z,!t.password)throw new Error("File is password-protected");if(z.valid==null)throw new Error("Encryption scheme unsupported");if(!z.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=z;break;case 66:var be=Number(z);switch(be){case 21010:be=1200;break;case 32768:be=1e4;break;case 32769:be=1252;break}za(P.codepage=be),se=!0;break;case 317:P.rrtabid=z;break;case 25:P.winlocked=z;break;case 439:r.opts.RefreshAll=z;break;case 12:r.opts.CalcCount=z;break;case 16:r.opts.CalcDelta=z;break;case 17:r.opts.CalcIter=z;break;case 13:r.opts.CalcMode=z;break;case 14:r.opts.CalcPrecision=z;break;case 95:r.opts.CalcSaveRecalc=z;break;case 15:P.CalcRefMode=z;break;case 2211:r.opts.FullCalc=z;break;case 129:z.fDialog&&(s["!type"]="dialog"),z.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),z.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:k.push(z);break;case 430:oe.push([z]),oe[oe.length-1].XTI=[];break;case 35:case 547:oe[oe.length-1].push(z);break;case 24:case 536:re={Name:z.Name,Ref:Hn(z.rgce,i,null,oe,P)},z.itab>0&&(re.Sheet=z.itab-1),oe.names.push(re),oe[0]||(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].push(z),z.Name=="_xlnm._FilterDatabase"&&z.itab>0&&z.rgce&&z.rgce[0]&&z.rgce[0][0]&&z.rgce[0][0][0]=="PtgArea3d"&&(K[z.itab-1]={ref:Ut(z.rgce[0][0][1][2])});break;case 22:P.ExternCount=z;break;case 23:oe.length==0&&(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].XTI=oe[oe.length-1].XTI.concat(z),oe.XTI=oe.XTI.concat(z);break;case 2196:if(P.biff<8)break;re!=null&&(re.Comment=z[1]);break;case 18:s["!protect"]=z;break;case 19:z!==0&&P.WTF&&console.error("Password verifier: "+z);break;case 133:a[z.pos]=z,P.snames.push(z.name);break;case 10:{if(--G)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,s["!ref"]=Ut(i),t.sheetRows&&t.sheetRows<=i.e.r){var B=i.e.r;i.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Ut(i),i.e.r=B}i.e.r++,i.e.c++}M.length>0&&(s["!merges"]=M),ie.length>0&&(s["!objects"]=ie),J.length>0&&(s["!cols"]=J),ee.length>0&&(s["!rows"]=ee),R.Sheets.push(H)}f===""?h=s:n[f]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[F]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[z.BIFFVer]||8),P.biffguess=z.BIFFVer==0,z.BIFFVer==0&&z.dt==4096&&(P.biff=5,se=!0,za(P.codepage=28591)),P.biff==8&&z.BIFFVer==0&&z.dt==16&&(P.biff=2),G++)break;if(s=t.dense?[]:{},P.biff<8&&!se&&(se=!0,za(P.codepage=t.codepage||1252)),P.biff<5||z.BIFFVer==0&&z.dt==4096){f===""&&(f="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Ee={pos:e.l-ne,name:f};a[Ee.pos]=Ee,P.snames.push(f)}else f=(a[I]||{name:""}).name;z.dt==32&&(s["!type"]="chart"),z.dt==64&&(s["!type"]="macro"),M=[],ie=[],P.arrayf=N=[],J=[],ee=[],xe=!1,H={Hidden:(a[I]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[z.r]||[])[z.c]:s[wt({c:z.c,r:z.r})])&&++z.c,_={ixfe:z.ixfe,XF:k[z.ixfe]||{},v:z.val,t:"n"},D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 5:case 517:_={ixfe:z.ixfe,XF:k[z.ixfe],v:z.val,t:z.t},D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 638:_={ixfe:z.ixfe,XF:k[z.ixfe],v:z.rknum,t:"n"},D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 189:for(var q=z.c;q<=z.C;++q){var C=z.rkrec[q-z.c][0];_={ixfe:C,XF:k[C],v:z.rkrec[q-z.c][1],t:"n"},D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae({c:q,r:z.r},_,t)}break;case 6:case 518:case 1030:{if(z.val=="String"){o=z;break}if(_=im(z.val,z.cell.ixfe,z.tt),_.XF=k[_.ixfe],t.cellFormula){var j=z.formula;if(j&&j[0]&&j[0][0]&&j[0][0][0]=="PtgExp"){var U=j[0][0][1][0],ue=j[0][0][1][1],ye=wt({r:U,c:ue});E[ye]?_.f=""+Hn(z.formula,i,z.cell,oe,P):_.F=((t.dense?(s[U]||[])[ue]:s[ye])||{}).F}else _.f=""+Hn(z.formula,i,z.cell,oe,P)}D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae(z.cell,_,t),o=z}break;case 7:case 519:if(o)o.val=z,_=im(z,o.cell.ixfe,"s"),_.XF=k[_.ixfe],t.cellFormula&&(_.f=""+Hn(o.formula,i,o.cell,oe,P)),D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae(o.cell,_,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(z);var he=wt(z[0].s);if(g=t.dense?(s[z[0].s.r]||[])[z[0].s.c]:s[he],t.cellFormula&&g){if(!o||!he||!g)break;g.f=""+Hn(z[1],i,z[0],oe,P),g.F=Ut(z[0])}}break;case 1212:{if(!t.cellFormula)break;if(x){if(!o)break;E[wt(o.cell)]=z[0],g=t.dense?(s[o.cell.r]||[])[o.cell.c]:s[wt(o.cell)],(g||{}).f=""+Hn(z[0],i,m,oe,P)}}break;case 253:_=im(c[z.isst].t,z.ixfe,"s"),c[z.isst].h&&(_.h=c[z.isst].h),_.XF=k[_.ixfe],D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:z.ixfe,XF:k[z.ixfe],t:"z"},D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t));break;case 190:if(t.sheetStubs)for(var ke=z.c;ke<=z.C;++ke){var De=z.ixfe[ke-z.c];_={ixfe:De,XF:k[De],t:"z"},D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae({c:ke,r:z.r},_,t)}break;case 214:case 516:case 4:_=im(z.val,z.ixfe,"s"),_.XF=k[_.ixfe],D>0&&(_.z=W[_.ixfe>>8&63]),oi(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 0:case 512:G===1&&(i=z);break;case 252:c=z;break;case 1054:if(P.biff==4){W[D++]=z[1];for(var Pe=0;Pe<D+163&&Nt[Pe]!=z[1];++Pe);Pe>=163&&mc(z[1],D+163)}else mc(z[1],z[0]);break;case 30:{W[D++]=z;for(var We=0;We<D+163&&Nt[We]!=z;++We);We>=163&&mc(z,D+163)}break;case 229:M=M.concat(z);break;case 93:ie[z.cmo[0]]=P.lastobj=z;break;case 438:P.lastobj.TxO=z;break;case 127:P.lastobj.ImData=z;break;case 440:for(w=z[0].s.r;w<=z[0].e.r;++w)for(y=z[0].s.c;y<=z[0].e.c;++y)g=t.dense?(s[w]||[])[y]:s[wt({c:y,r:w})],g&&(g.l=z[1]);break;case 2048:for(w=z[0].s.r;w<=z[0].e.r;++w)for(y=z[0].s.c;y<=z[0].e.c;++y)g=t.dense?(s[w]||[])[y]:s[wt({c:y,r:w})],g&&g.l&&(g.l.Tooltip=z[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;g=t.dense?(s[z[0].r]||[])[z[0].c]:s[wt(z[0])];var et=ie[z[2]];g||(t.dense?(s[z[0].r]||(s[z[0].r]=[]),g=s[z[0].r][z[0].c]={t:"z"}):g=s[wt(z[0])]={t:"z"},i.e.r=Math.max(i.e.r,z[0].r),i.s.r=Math.min(i.s.r,z[0].r),i.e.c=Math.max(i.e.c,z[0].c),i.s.c=Math.min(i.s.c,z[0].c)),g.c||(g.c=[]),v={a:z[1],t:et.TxO.t},g.c.push(v)}break;case 2173:ZQ(k[z.ixfe],z.ext);break;case 125:{if(!P.cellStyles)break;for(;z.e>=z.s;)J[z.e--]={width:z.w/256,level:z.level||0,hidden:!!(z.flags&1)},xe||(xe=!0,__(z.w/256)),Zu(J[z.e+1])}break;case 520:{var tt={};z.level!=null&&(ee[z.r]=tt,tt.level=z.level),z.hidden&&(ee[z.r]=tt,tt.hidden=!0),z.hpt&&(ee[z.r]=tt,tt.hpt=z.hpt,tt.hpx=Fh(z.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||lh(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[F]]=z;break;case 161:s["!margins"]||lh(s["!margins"]={}),s["!margins"].header=z.header,s["!margins"].footer=z.footer;break;case 574:z.RTL&&(R.Views[0].RTL=!0);break;case 146:L=z;break;case 2198:X=z;break;case 140:S=z;break;case 442:f?H.CodeName=z||H.name:R.WBProps.CodeName=z||"ThisWorkbook";break}}else te||console.error("Missing Info for XLS Record 0x"+F.toString(16)),e.l+=ne}return r.SheetNames=bi(a).sort(function(Ht,lt){return Number(Ht)-Number(lt)}).map(function(Ht){return a[Ht].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&K.forEach(function(Ht,lt){r.Sheets[r.SheetNames[lt]]["!autofilter"]=Ht}),r.Strings=c,r.SSF=In(Nt),P.enc&&(r.Encryption=P.enc),X&&(r.Themes=X),r.Metadata={},S!==void 0&&(r.Metadata.Country=S),oe.names.length>0&&(R.Names=oe.names),r.Workbook=R,r}var d3={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function jne(e,t,r){var n=Bt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=K4(n,KY,d3.DSI);for(var a in s)t[a]=s[a]}catch(f){if(r.WTF)throw f}var i=Bt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=K4(i,XY,d3.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(s8(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function z8(e,t){t||(t={}),A_(t),xD(),t.codepage&&i_(t.codepage);var r,n;if(e.FullPaths){if(Bt.find(e,"/encryption"))throw new Error("File is password-protected");r=Bt.find(e,"!CompObj"),n=Bt.find(e,"/Workbook")||Bt.find(e,"/Book")}else{switch(t.type){case"base64":e=La(Gs(e));break;case"binary":e=La(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}kn(e,0),n={content:e}}var s,a;if(r&&Cne(r),t.bookProps&&!t.bookSheets)s={};else{var i=Pt?"buffer":"array";if(n&&n.content)s=Rne(n.content,t);else if((a=Bt.find(e,"PerfectOffice_MAIN"))&&a.content)s=ih.to_workbook(a.content,(t.type=i,t));else if((a=Bt.find(e,"NativeContent_MAIN"))&&a.content)s=ih.to_workbook(a.content,(t.type=i,t));else throw(a=Bt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Bt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=xee(e))}var o={};return e.FullPaths&&jne(e,o,t),s.Props=s.Custprops=o,t.bookFiles&&(s.cfb=e),s}var xx={0:{f:fre},1:{f:xre},2:{f:Nre},3:{f:bre},4:{f:yre},5:{f:Sre},6:{f:Are},7:{f:Ere},8:{f:Dre},9:{f:Ore},10:{f:Rre},11:{f:jre},12:{f:gre},13:{f:Tre},14:{f:wre},15:{f:vre},16:{f:F8},17:{f:kre},18:{f:_re},19:{f:g_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ine},40:{},42:{},43:{f:RQ},44:{f:kQ},45:{f:jQ},46:{f:DQ},47:{f:OQ},48:{},49:{f:IY},50:{},51:{f:eee},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:x8},62:{f:Cre},63:{f:aee},64:{f:Hre},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Kn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:zre},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:mre},148:{f:hre,p:16},151:{f:Fre},152:{},153:{f:sne},154:{},155:{},156:{f:nne},157:{},158:{},159:{T:1,f:XZ},160:{T:-1},161:{T:1,f:Uc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ire},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:QQ},336:{T:-1},337:{f:tee,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:O2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:m8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Pre},427:{f:Lre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ure},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:pre},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Mre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:O2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:hee},633:{T:1},634:{T:-1},635:{T:1,f:fee},636:{T:-1},637:{f:FY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Kre},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:qre},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},P2={6:{f:Pv},10:{f:Ko},12:{f:Zr},13:{f:Zr},14:{f:Mr},15:{f:Mr},16:{f:Vn},17:{f:Mr},18:{f:Mr},19:{f:Zr},20:{f:Z4},21:{f:Z4},23:{f:m8},24:{f:e3},25:{f:Mr},26:{},27:{},28:{f:uZ},29:{},34:{f:Mr},35:{f:Q4},38:{f:Vn},39:{f:Vn},40:{f:Vn},41:{f:Vn},42:{f:Mr},43:{f:Mr},47:{f:pQ},49:{f:$J},51:{f:Zr},60:{},61:{f:HJ},64:{f:Mr},65:{f:VJ},66:{f:Zr},77:{},80:{},81:{},82:{},85:{f:Zr},89:{},90:{},91:{},92:{f:IJ},93:{f:fZ},94:{},95:{f:Mr},96:{},97:{},99:{f:Mr},125:{f:x8},128:{f:tZ},129:{f:MJ},130:{f:Zr},131:{f:Mr},132:{f:Mr},133:{f:FJ},134:{},140:{f:yZ},141:{f:Zr},144:{},146:{f:bZ},151:{},152:{},153:{},154:{},155:{},156:{f:Zr},157:{},158:{},160:{f:NZ},161:{f:EZ},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:JJ},190:{f:ZJ},193:{f:Ko},197:{},198:{},199:{},200:{},201:{},202:{f:Mr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Zr},220:{},221:{f:Mr},222:{},224:{f:eZ},225:{f:DJ},226:{f:Ko},227:{},229:{f:dZ},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:PJ},253:{f:WJ},255:{f:LJ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:c8},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Mr},353:{f:Ko},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:nZ},431:{f:Mr},432:{},433:{},434:{},437:{},438:{f:mZ},439:{f:Mr},440:{f:xZ},441:{},442:{f:g0},443:{},444:{f:Zr},445:{},446:{},448:{f:Ko},449:{f:zJ,r:2},450:{f:Ko},512:{f:Y4},513:{f:SZ},515:{f:rZ},516:{f:GJ},517:{f:J4},519:{f:TZ},520:{f:BJ},523:{},545:{f:t3},549:{f:X4},566:{},574:{f:qJ},638:{f:YJ},659:{},1048:{},1054:{f:KJ},1084:{},1212:{f:oZ},2048:{f:gZ},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:nm},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ko},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:wZ,r:12},2173:{f:JQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Mr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:iZ,r:12},2197:{},2198:{f:$Q,r:12},2199:{},2200:{},2201:{},2202:{f:lZ,r:12},2203:{f:Ko},2204:{},2205:{},2206:{},2207:{},2211:{f:UJ},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Zr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:_Z},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:vZ},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Y4},1:{},2:{f:RZ},3:{f:kZ},4:{f:AZ},5:{f:J4},7:{f:jZ},8:{},9:{f:nm},11:{},22:{f:Zr},30:{f:XJ},31:{},32:{},33:{f:t3},36:{},37:{f:X4},50:{f:OZ},62:{},52:{},67:{},68:{f:Zr},69:{},86:{},126:{},127:{f:CZ},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:DZ},223:{},234:{},354:{},421:{},518:{f:Pv},521:{f:nm},536:{f:e3},547:{f:Q4},561:{},579:{},1030:{f:Pv},1033:{f:nm},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Fa(e,t,r,n){var s=t;if(!isNaN(s)){var a=(r||[]).length||0,i=e.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&YD(r)&&e.push(r)}}function f3(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),i=s.index,o=a&&a.index||e.length,c=rY(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,m=0,x=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(i=0;i<c.length;++i){var y=c[i].trim(),w=y.slice(0,3).toLowerCase();if(w=="<tr"){if(++f,r.sheetRows&&r.sheetRows<=f){--f;break}h=0;continue}if(!(w!="<td"&&w!="<th")){var E=y.split(/<\/t[dh]>/i);for(o=0;o<E.length;++o){var N=E[o].trim();if(N.match(/<t[dh]/i)){for(var _=N,S=0;_.charAt(0)=="<"&&(S=_.indexOf(">"))>-1;)_=_.slice(S+1);for(var k=0;k<v.length;++k){var L=v[k];L.s.c==h&&L.s.r<f&&f<=L.e.r&&(h=L.e.c+1,k=-1)}var R=mt(N.slice(0,N.indexOf(">")));x=R.colspan?+R.colspan:1,((m=+R.rowspan)>1||x>1)&&v.push({s:{r:f,c:h},e:{r:f+(m||1)-1,c:h+x-1}});var H=R.t||R["data-t"]||"";if(!_.length){h+=x;continue}if(_=PD(_),g.s.r>f&&(g.s.r=f),g.e.r<f&&(g.e.r=f),g.s.c>h&&(g.s.c=h),g.e.c<h&&(g.e.c=h),!_.length){h+=x;continue}var O={t:"s",v:_};r.raw||!_.trim().length||H=="s"||(_==="TRUE"?O={t:"b",v:!0}:_==="FALSE"?O={t:"b",v:!1}:isNaN(Va(_))?isNaN(Ju(_).getDate())||(O={t:"d",v:bn(_)},r.cellDates||(O={t:"n",v:us(O.v)}),O.z=r.dateNF||Nt[14]):O={t:"n",v:Va(_)}),r.dense?(n[f]||(n[f]=[]),n[f][h]=O):n[wt({r:f,c:h})]=O,h+=x}}}}return n["!ref"]=Ut(g),v.length&&(n["!merges"]=v),n}function One(e,t,r,n){for(var s=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,c=0,f=0;f<s.length;++f)if(!(s[f].s.r>r||s[f].s.c>i)&&!(s[f].e.r<r||s[f].e.c<i)){if(s[f].s.r<r||s[f].s.c<i){o=-1;break}o=s[f].e.r-s[f].s.r+1,c=s[f].e.c-s[f].s.c+1;break}if(!(o<0)){var h=wt({r,c:i}),m=n.dense?(e[r]||[])[i]:e[h],x=m&&m.v!=null&&(m.h||f_(m.w||(xo(m),m.w)||""))||"",g={};o>1&&(g.rowspan=o),c>1&&(g.colspan=c),n.editable?x='<span contenteditable="true">'+x+"</span>":m&&(g["data-t"]=m&&m.t||"z",m.v!=null&&(g["data-v"]=m.v),m.z!=null&&(g["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),g.id=(n.id||"sjs")+"-"+h,a.push(yY("td",x,g))}}var v="<tr>";return v+a.join("")+"</tr>"}var Dne='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Ine="</body></html>";function Mne(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return kl(f3(r[0],t),t);var n=R_();return r.forEach(function(s,a){j_(n,f3(s,t),"Sheet"+(a+1))}),n}function Fne(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Pne(e,t){var r=t||{},n=r.header!=null?r.header:Dne,s=r.footer!=null?r.footer:Ine,a=[n],i=kd(e["!ref"]);r.dense=Array.isArray(e),a.push(Fne(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)a.push(One(e,i,o,r));return a.push("</table>"+s),a.join("")}function H8(e,t,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var i=typeof n.origin=="string"?ss(n.origin):n.origin;s=i.r,a=i.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:s,c:a}};if(e["!ref"]){var h=kd(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),s==-1&&(f.e.r=s=h.e.r+1)}var m=[],x=0,g=e["!rows"]||(e["!rows"]=[]),v=0,y=0,w=0,E=0,N=0,_=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&y<c;++v){var S=o[v];if(h3(S)){if(n.display)continue;g[y]={hidden:!0}}var k=S.children;for(w=E=0;w<k.length;++w){var L=k[w];if(!(n.display&&h3(L))){var R=L.hasAttribute("data-v")?L.getAttribute("data-v"):L.hasAttribute("v")?L.getAttribute("v"):PD(L.innerHTML),H=L.getAttribute("data-z")||L.getAttribute("z");for(x=0;x<m.length;++x){var O=m[x];O.s.c==E+a&&O.s.r<y+s&&y+s<=O.e.r&&(E=O.e.c+1-a,x=-1)}_=+L.getAttribute("colspan")||1,((N=+L.getAttribute("rowspan")||1)>1||_>1)&&m.push({s:{r:y+s,c:E+a},e:{r:y+s+(N||1)-1,c:E+a+(_||1)-1}});var Z={t:"s",v:R},ae=L.getAttribute("data-t")||L.getAttribute("t")||"";R!=null&&(R.length==0?Z.t=ae||"z":n.raw||R.trim().length==0||ae=="s"||(R==="TRUE"?Z={t:"b",v:!0}:R==="FALSE"?Z={t:"b",v:!1}:isNaN(Va(R))?isNaN(Ju(R).getDate())||(Z={t:"d",v:bn(R)},n.cellDates||(Z={t:"n",v:us(Z.v)}),Z.z=n.dateNF||Nt[14]):Z={t:"n",v:Va(R)})),Z.z===void 0&&H!=null&&(Z.z=H);var P="",X=L.getElementsByTagName("A");if(X&&X.length)for(var M=0;M<X.length&&!(X[M].hasAttribute("href")&&(P=X[M].getAttribute("href"),P.charAt(0)!="#"));++M);P&&P.charAt(0)!="#"&&(Z.l={Target:P}),n.dense?(e[y+s]||(e[y+s]=[]),e[y+s][E+a]=Z):e[wt({c:E+a,r:y+s})]=Z,f.e.c<E+a&&(f.e.c=E+a),E+=_}}++y}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,y-1+s),e["!ref"]=Ut(f),y>=c&&(e["!fullref"]=Ut((f.e.r=o.length-v+y-1+s,f))),e}function q8(e,t){var r=t||{},n=r.dense?[]:{};return H8(n,e,t)}function Lne(e,t){return kl(q8(e,t),t)}function h3(e){var t="",r=Bne(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Bne(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Une(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=zt(t.replace(/<[^>]*>/g,""));return[r]}var p3={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function V8(e,t){var r=t||{},n=h_(e),s=[],a,i,o={name:""},c="",f=0,h,m,x={},g=[],v=r.dense?[]:{},y,w,E={value:""},N="",_=0,S=[],k=-1,L=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},H=0,O={},Z=[],ae={},P=0,X=0,M=[],ie=1,J=1,ee=[],xe={Names:[]},oe={},we=["",""],G=[],D={},W="",K=0,re=!1,se=!1,I=0;for(Dh.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=Dh.exec(n);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?v["!ref"]=Ut(R):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=R.e.r&&(v["!fullref"]=v["!ref"],R.e.r=r.sheetRows-1,v["!ref"]=Ut(R)),Z.length&&(v["!merges"]=Z),M.length&&(v["!rows"]=M),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),g.push(h.name),x[h.name]=v,se=!1):y[0].charAt(y[0].length-2)!=="/"&&(h=mt(y[0],!1),k=L=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,v=r.dense?[]:{},Z=[],M=[],se=!0);break;case"table-row-group":y[1]==="/"?--H:++H;break;case"table-row":case"":if(y[1]==="/"){k+=ie,ie=1;break}if(m=mt(y[0],!1),m.?k=m.-1:k==-1&&(k=0),ie=+m["number-rows-repeated"]||1,ie<10)for(I=0;I<ie;++I)H>0&&(M[k+I]={level:H});L=-1;break;case"covered-table-cell":y[1]!=="/"&&++L,r.sheetStubs&&(r.dense?(v[k]||(v[k]=[]),v[k][L]={t:"z"}):v[wt({r:k,c:L})]={t:"z"}),N="",S=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++L,E=mt(y[0],!1),J=parseInt(E["number-columns-repeated"]||"1",10),w={t:"z",v:null},E.formula&&r.cellFormula!=!1&&(w.f=l3(zt(E.formula))),(E.||E["value-type"])=="string"&&(w.t="s",w.v=zt(E["string-value"]||""),r.dense?(v[k]||(v[k]=[]),v[k][L]=w):v[wt({r:k,c:L})]=w),L+=J-1;else if(y[1]!=="/"){++L,N="",_=0,S=[],J=1;var F=ie?k+ie-1:k;if(L>R.e.c&&(R.e.c=L),L<R.s.c&&(R.s.c=L),k<R.s.r&&(R.s.r=k),F>R.e.r&&(R.e.r=F),E=mt(y[0],!1),G=[],D={},w={t:E.||E["value-type"],v:null},r.cellFormula)if(E.formula&&(E.formula=zt(E.formula)),E["number-matrix-columns-spanned"]&&E["number-matrix-rows-spanned"]&&(P=parseInt(E["number-matrix-rows-spanned"],10)||0,X=parseInt(E["number-matrix-columns-spanned"],10)||0,ae={s:{r:k,c:L},e:{r:k+P-1,c:L+X-1}},w.F=Ut(ae),ee.push([ae,w.F])),E.formula)w.f=l3(E.formula);else for(I=0;I<ee.length;++I)k>=ee[I][0].s.r&&k<=ee[I][0].e.r&&L>=ee[I][0].s.c&&L<=ee[I][0].e.c&&(w.F=ee[I][1]);switch((E["number-columns-spanned"]||E["number-rows-spanned"])&&(P=parseInt(E["number-rows-spanned"],10)||0,X=parseInt(E["number-columns-spanned"],10)||0,ae={s:{r:k,c:L},e:{r:k+P-1,c:L+X-1}},Z.push(ae)),E["number-columns-repeated"]&&(J=parseInt(E["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=br(E["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(E.value);break;case"percentage":w.t="n",w.v=parseFloat(E.value);break;case"currency":w.t="n",w.v=parseFloat(E.value);break;case"date":w.t="d",w.v=bn(E["date-value"]),r.cellDates||(w.t="n",w.v=us(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=QX(E["time-value"])/86400,r.cellDates&&(w.t="d",w.v=jg(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(E.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",E["string-value"]!=null&&(N=zt(E["string-value"]),S=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(re=!1,w.t==="s"&&(w.v=N||"",S.length&&(w.R=S),re=_==0),oe.Target&&(w.l=oe),G.length>0&&(w.c=G,G=[]),N&&r.cellText!==!1&&(w.w=N),re&&(w.t="z",delete w.v),(!re||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var ne=0;ne<ie;++ne){if(J=parseInt(E["number-columns-repeated"]||"1",10),r.dense)for(v[k+ne]||(v[k+ne]=[]),v[k+ne][L]=ne==0?w:In(w);--J>0;)v[k+ne][L+J]=In(w);else for(v[wt({r:k+ne,c:L})]=w;--J>0;)v[wt({r:k+ne,c:L+J})]=In(w);R.e.c<=L&&(R.e.c=L)}J=parseInt(E["number-columns-repeated"]||"1",10),L+=J-1,J=0,w={},N="",S=[]}oe={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((a=s.pop())[0]!==y[3])throw"Bad state: "+a}else y[0].charAt(y[0].length-2)!=="/"&&s.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((a=s.pop())[0]!==y[3])throw"Bad state: "+a;D.t=N,S.length&&(D.R=S),D.a=W,G.push(D)}else y[0].charAt(y[0].length-2)!=="/"&&s.push([y[3],!1]);W="",K=0,N="",_=0,S=[];break;case"creator":y[1]==="/"?W=n.slice(K,y.index):K=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((a=s.pop())[0]!==y[3])throw"Bad state: "+a}else y[0].charAt(y[0].length-2)!=="/"&&s.push([y[3],!1]);N="",_=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(O[o.name]=c,(a=s.pop())[0]!==y[3])throw"Bad state: "+a}else y[0].charAt(y[0].length-2)!=="/"&&(c="",o=mt(y[0],!1),s.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":i=mt(y[0],!1),c+=p3[y[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":i=mt(y[0],!1),c+=p3[y[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(f,y.index);break}else f=y.index+y[0].length;break;case"named-range":i=mt(y[0],!1),we=Lv(i["cell-range-address"]);var te={Name:i.name,Ref:we[0]+"!"+we[1]};se&&(te.Sheet=g.length),xe.Names.push(te);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(y[1]==="/"&&(!E||!E["string-value"])){var Q=Une(n.slice(_,y.index));N=(N.length>0?N+`
`:"")+Q[0]}else mt(y[0],!1),_=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{we=Lv(mt(y[0])["target-range-address"]),x[we[0]]["!autofilter"]={ref:we[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(oe=mt(y[0],!1),!oe.href)break;oe.Target=zt(oe.href),delete oe.href,oe.Target.charAt(0)=="#"&&oe.Target.indexOf(".")>-1?(we=Lv(oe.Target.slice(1)),oe.Target="#"+we[0]+"!"+we[1]):oe.Target.match(/^\.\.[\\\/]/)&&(oe.Target=oe.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(y)}}var z={Sheets:x,SheetNames:g,Workbook:xe};return r.bookSheets&&delete z.Sheets,z}function m3(e,t){t=t||{},ma(e,"META-INF/manifest.xml")&&rJ(Jr(e,"META-INF/manifest.xml"),t);var r=Hs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=V8(dr(r),t);return ma(e,"meta.xml")&&(n.Props=n8(Jr(e,"meta.xml"))),n}function x3(e,t){return V8(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function T_(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function L2(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):dr(Lc(e))}function B2(e){var t=e.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function g3(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function zne(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,s=t+13;s>=t;--s)n=n*256+e[s];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Ph(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ln(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function $n(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=Ph(e,r),a=s&7;s=Math.floor(s/8);var i=0,o;if(s==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=Ph(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var f={data:o,type:a};t[s]==null?t[s]=[f]:t[s].push(f)}return t}function C_(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Hne(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=Ph(e,n),a=$n(e.slice(n[0],n[0]+s));n[0]+=s;var i={id:ln(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=$n(o.data),f=ln(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=a[3])!=null&&t[0]&&(i.merge=ln(a[3][0].data)>>>0>0),r.push(i)}return r}function qne(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Ph(t,r),s=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}s.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,f=0;if(a==1?(f=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[B2(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(s.push(s[0].slice(-c)),f-=c;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-c,-c+f))}}var h=B2(s);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Vne(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(qne(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return B2(t)}function $ne(e,t,r,n){var s=T_(e),a=s.getUint32(4,!0),i=(n>1?12:8)+g3(a&(n>1?3470:398))*4,o=-1,c=-1,f=NaN,h=new Date(2001,0,1);a&512&&(o=s.getUint32(i,!0),i+=4),i+=g3(a&(n>1?12288:4096))*4,a&16&&(c=s.getUint32(i,!0),i+=4),a&32&&(f=s.getFloat64(i,!0),i+=8),a&64&&(h.setTime(h.getTime()+s.getFloat64(i,!0)*1e3),i+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:f};break;case 3:m={t:"s",v:t[c]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(c>-1)m={t:"s",v:t[c]};else if(!isNaN(f))m={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function Wne(e,t,r){var n=T_(e),s=n.getUint32(8,!0),a=12,i=-1,o=-1,c=NaN,f=NaN,h=new Date(2001,0,1);s&1&&(c=zne(e,a),a+=16),s&2&&(f=n.getFloat64(a,!0),a+=8),s&4&&(h.setTime(h.getTime()+n.getFloat64(a,!0)*1e3),a+=8),s&8&&(o=n.getUint32(a,!0),a+=4),s&16&&(i=n.getUint32(a,!0),a+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:c};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(i>-1)m={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return m}function Gne(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return $ne(e,t,r,e[0]);case 5:return Wne(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ml(e){var t=$n(e);return Ph(t[1][0].data)}function y3(e,t){var r=$n(t.data),n=ln(r[1][0].data),s=r[3],a=[];return(s||[]).forEach(function(i){var o=$n(i.data),c=ln(o[1][0].data)>>>0;switch(n){case 1:a[c]=L2(o[3][0].data);break;case 8:{var f=e[ml(o[9][0].data)][0],h=$n(f.data),m=e[ml(h[1][0].data)][0],x=ln(m.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var g=$n(m.data);a[c]=g[3].map(function(v){return L2(v.data)}).join("")}break}}),a}function Kne(e,t){var r,n,s,a,i,o,c,f,h,m,x,g,v,y,w=$n(e),E=ln(w[1][0].data)>>>0,N=ln(w[2][0].data)>>>0,_=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&ln(w[8][0].data)>0||!1,S,k;if((a=(s=w[7])==null?void 0:s[0])!=null&&a.data&&t!=0)S=(o=(i=w[7])==null?void 0:i[0])==null?void 0:o.data,k=(f=(c=w[6])==null?void 0:c[0])==null?void 0:f.data;else if((m=(h=w[4])==null?void 0:h[0])!=null&&m.data&&t!=1)S=(g=(x=w[4])==null?void 0:x[0])==null?void 0:g.data,k=(y=(v=w[3])==null?void 0:v[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var L=_?4:1,R=T_(S),H=[],O=0;O<S.length/2;++O){var Z=R.getUint16(O*2,!0);Z<65535&&H.push([O,Z])}if(H.length!=N)throw"Expected ".concat(N," cells, found ").concat(H.length);var ae=[];for(O=0;O<H.length-1;++O)ae[H[O][0]]=k.subarray(H[O][1]*L,H[O+1][1]*L);return H.length>=1&&(ae[H[H.length-1][0]]=k.subarray(H[H.length-1][1]*L)),{R:E,cells:ae}}function Xne(e,t){var r,n=$n(t.data),s=(r=n==null?void 0:n[7])!=null&&r[0]?ln(n[7][0].data)>>>0>0?1:0:-1,a=C_(n[5],function(i){return Kne(i,s)});return{nrows:ln(n[4][0].data)>>>0,data:a.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(c,f){if(i[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));i[o.R][f]=c}),i},[])}}function Yne(e,t,r){var n,s=$n(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(ln(s[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(a.e.c=(ln(s[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=Ut(a);var i=$n(s[4][0].data),o=y3(e,e[ml(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?y3(e,e[ml(i[17][0].data)][0]):[],f=$n(i[3][0].data),h=0;f[1].forEach(function(m){var x=$n(m.data),g=e[ml(x[2][0].data)][0],v=ln(g.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var y=Xne(e,g);y.data.forEach(function(w,E){w.forEach(function(N,_){var S=wt({r:h+E,c:_}),k=Gne(N,o,c);k&&(r[S]=k)})}),h+=y.nrows})}function Jne(e,t){var r=$n(t.data),n={"!ref":"A1"},s=e[ml(r[2][0].data)],a=ln(s[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Yne(e,s[0],n),n}function Zne(e,t){var r,n=$n(t.data),s={name:(r=n[1])!=null&&r[0]?L2(n[1][0].data):"",sheets:[]},a=C_(n[2],ml);return a.forEach(function(i){e[i].forEach(function(o){var c=ln(o.meta[1][0].data);c==6e3&&s.sheets.push(Jne(e,o))})}),s}function Qne(e,t){var r=R_(),n=$n(t.data),s=C_(n[1],ml);if(s.forEach(function(a){e[a].forEach(function(i){var o=ln(i.meta[1][0].data);if(o==2){var c=Zne(e,i);c.sheets.forEach(function(f,h){j_(r,f,h==0?c.name:c.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Uv(e){var t,r,n,s,a={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var f;try{f=Vne(c.content)}catch(m){return console.log("?? "+c.content.length+" "+(m.message||m))}var h;try{h=Hne(f)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){a[m.id]=m.messages,i.push(m.id)})}}),!i.length)throw new Error("File has no messages");var o=((s=(n=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&ln(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||i.forEach(function(c){a[c].forEach(function(f){var h=ln(f.meta[1][0].data)>>>0;if(h==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Qne(a,o)}function ese(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function A_(e){ese([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function tse(e){return Pu.WS.indexOf(e)>-1?"sheet":e==Pu.CS?"chart":e==Pu.DS?"dialog":e==Pu.MS?"macro":e&&e.length?e:"sheet"}function rse(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,tse(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function nse(e,t,r,n,s,a,i,o,c,f,h,m){try{a[n]=sh(Hs(e,r,!0),t);var x=Jr(e,t),g;switch(o){case"sheet":g=cne(x,t,s,c,a[n],f,h,m);break;case"chart":if(g=une(x,t,s,c,a[n],f,h,m),!g||!g["!drawel"])break;var v=Vf(g["!drawel"].Target,t),y=D2(v),w=lee(Hs(e,v,!0),sh(Hs(e,y,!0),v)),E=Vf(w,v),N=D2(E);g=Wre(Hs(e,E,!0),E,c,sh(Hs(e,N,!0),E),f,g);break;case"macro":g=dne(x,t,s,c,a[n],f,h,m);break;case"dialog":g=fne(x,t,s,c,a[n],f,h,m);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=g;var _=[];a&&a[n]&&bi(a[n]).forEach(function(S){var k="";if(a[n][S].Type==Pu.CMNT){k=Vf(a[n][S].Target,t);var L=xne(Jr(e,k,!0),k,c);if(!L||!L.length)return;n3(g,L,!1)}a[n][S].Type==Pu.TCMNT&&(k=Vf(a[n][S].Target,t),_=_.concat(uee(Jr(e,k,!0),c)))}),_&&_.length&&n3(g,_,!0,c.people||[])}catch(S){if(c.WTF)throw S}}function ua(e){return e.charAt(0)=="/"?e.slice(1):e}function sse(e,t){if(AD(),t=t||{},A_(t),ma(e,"META-INF/manifest.xml")||ma(e,"objectdata.xml"))return m3(e,t);if(ma(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Uv<"u"){if(e.FileIndex)return Uv(e);var r=Bt.utils.cfb_new();return R4(e).forEach(function(M){aY(r,M,sY(e,M))}),Uv(r)}throw new Error("Unsupported NUMBERS file")}if(!ma(e,"[Content_Types].xml"))throw ma(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ma(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=R4(e),s=eJ(Hs(e,"[Content_Types].xml")),a=!1,i,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",Jr(e,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!Jr(e,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),a=!0}s.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},f={};if(!t.bookSheets&&!t.bookProps){if(oh=[],s.sst)try{oh=mne(Jr(e,ua(s.sst)),s.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&s.themes.length&&(c=pne(Hs(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(f=hne(Jr(e,ua(s.style)),s.style,c,t))}s.links.map(function(M){try{var ie=sh(Hs(e,D2(ua(M))),M);return yne(Jr(e,ua(M)),ie,M,t)}catch{}});var h=lne(Jr(e,ua(s.workbooks[0])),s.workbooks[0],t),m={},x="";s.coreprops.length&&(x=Jr(e,ua(s.coreprops[0]),!0),x&&(m=n8(x)),s.extprops.length!==0&&(x=Jr(e,ua(s.extprops[0]),!0),x&&aJ(x,m,t)));var g={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(x=Hs(e,ua(s.custprops[0]),!0),x&&(g=oJ(x,t)));var v={};if((t.bookSheets||t.bookProps)&&(h.Sheets?i=h.Sheets.map(function(ie){return ie.name}):m.Worksheets&&m.SheetNames.length>0&&(i=m.SheetNames),t.bookProps&&(v.Props=m,v.Custprops=g),t.bookSheets&&typeof i<"u"&&(v.SheetNames=i),t.bookSheets?v.SheetNames:t.bookProps))return v;i={};var y={};t.bookDeps&&s.calcchain&&(y=gne(Jr(e,ua(s.calcchain)),s.calcchain));var w=0,E={},N,_;{var S=h.Sheets;m.Worksheets=S.length,m.SheetNames=[];for(var k=0;k!=S.length;++k)m.SheetNames[k]=S[k].name}var L=a?"bin":"xml",R=s.workbooks[0].lastIndexOf("/"),H=(s.workbooks[0].slice(0,R+1)+"_rels/"+s.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");ma(e,H)||(H="xl/_rels/workbook."+L+".rels");var O=sh(Hs(e,H,!0),H.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=vne(Jr(e,ua(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=dee(Jr(e,ua(s.people[0])),t)),O&&(O=rse(O,h.Sheets));var Z=Jr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=m.Worksheets;++w){var ae="sheet";if(O&&O[w]?(N="xl/"+O[w][1].replace(/[\/]?xl\//,""),ma(e,N)||(N=O[w][1]),ma(e,N)||(N=H.replace(/_rels\/.*$/,"")+O[w][1]),ae=O[w][2]):(N="xl/worksheets/sheet"+(w+1-Z)+"."+L,N=N.replace(/sheet0\./,"sheet.")),_=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(m.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,X=0;X!=t.sheets.length;++X)typeof t.sheets[X]=="number"&&t.sheets[X]==w&&(P=1),typeof t.sheets[X]=="string"&&t.sheets[X].toLowerCase()==m.SheetNames[w].toLowerCase()&&(P=1);if(!P)continue e}}nse(e,N,_,m.SheetNames[w],w,E,i,ae,t,h,c,f)}return v={Directory:s,Workbook:h,Props:m,Custprops:g,Deps:y,Sheets:i,SheetNames:m.SheetNames,Strings:oh,Styles:f,Themes:c,SSF:In(Nt)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(M,ie){M=M.replace(/^Root Entry[\/]/,""),v.keys.push(M),v.files[M]=e.FileIndex[ie]}))),t&&t.bookVBA&&(s.vba.length>0?v.vbaraw=Jr(e,ua(s.vba[0]),!0):s.defaults&&s.defaults.bin===mee&&(v.vbaraw=Jr(e,"xl/vbaProject.bin",!0))),v}function ase(e,t){var r=t||{},n="Workbook",s=Bt.find(e,n);try{if(n="/!DataSpaces/Version",s=Bt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(JZ(s.content),n="/!DataSpaces/DataSpaceMap",s=Bt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=QZ(s.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Bt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=eQ(s.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Bt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);rQ(s.content)}catch{}if(n="/EncryptionInfo",s=Bt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=nQ(s.content);if(n="/EncryptedPackage",s=Bt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function k_(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Gs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function ise(e,t){return Bt.find(e,"EncryptedPackage")?ase(e,t):z8(e,t)}function ose(e,t){var r,n=e,s=t||{};return s.type||(s.type=Pt&&Buffer.isBuffer(e)?"buffer":"base64"),r=ID(n,s),sse(r,s)}function $8(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return F2(e.slice(r),t);default:break e}return Ih.to_workbook(e,t)}function lse(e,t){var r="",n=k_(e,t);switch(t.type){case"base64":r=Gs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=kc(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=dr(r)),t.type="binary",$8(r,t)}function cse(e,t){var r=e;return t.type=="base64"&&(r=Gs(r)),r=Rh.utils.decode(1200,r.slice(2),"str"),t.type="binary",$8(r,t)}function use(e){return e.match(/[^\x00-\x7F]/)?$f(e):e}function zv(e,t,r,n){return n?(r.type="string",Ih.to_workbook(e,r)):Ih.to_workbook(t,r)}function gx(e,t){xD();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return gx(new Uint8Array(e),(r=In(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,s=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),zu={},r.dateNF&&(zu.dateNF=r.dateNF),r.type||(r.type=Pt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Pt?"buffer":"binary",n=JX(e),typeof Uint8Array<"u"&&!Pt&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=use(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=In(r),r.type="array",gx(o_(n),r)}switch((s=k_(n,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return ise(Bt.read(n,r),r);break;case 9:if(s[1]<=8)return z8(n,r);break;case 60:return F2(n,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return LZ(n,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return FZ.to_workbook(n,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?ose(n,r):zv(e,n,r,a);case 239:return s[3]===60?F2(n,r):zv(e,n,r,a);case 255:if(s[1]===254)return cse(n,r);if(s[1]===0&&s[2]===2&&s[3]===0)return ih.to_workbook(n,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return ih.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return r3.to_workbook(n,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return mQ.to_workbook(n,r);break;case 10:case 13:case 32:return lse(n,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return IZ.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?r3.to_workbook(n,r):zv(e,n,r,a)}function dse(e,t,r,n,s,a,i,o){var c=Mn(r),f=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,x=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!i||e[r])for(var g=t.s.c;g<=t.e.c;++g){var v=i?e[r][g]:e[n[g]+c];if(v===void 0||v.t===void 0){if(f===void 0)continue;a[g]!=null&&(x[a[g]]=f);continue}var y=v.v;switch(v.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[g]!=null){if(y==null)if(v.t=="e"&&y===null)x[a[g]]=null;else if(f!==void 0)x[a[g]]=f;else if(h&&y===null)x[a[g]]=null;else continue;else x[a[g]]=h&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?y:xo(v,y,o);y!=null&&(m=!1)}}return{row:x,isempty:m}}function U2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],i=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":c=Or(h);break;case"number":c=Or(e["!ref"]),c.s.r=h;break;default:c=h}n>0&&(s=0);var m=Mn(c.s.r),x=[],g=[],v=0,y=0,w=Array.isArray(e),E=c.s.r,N=0,_={};w&&!e[E]&&(e[E]=[]);var S=f.skipHidden&&e["!cols"]||[],k=f.skipHidden&&e["!rows"]||[];for(N=c.s.c;N<=c.e.c;++N)if(!(S[N]||{}).hidden)switch(x[N]=on(N),r=w?e[E][N]:e[x[N]+m],n){case 1:a[N]=N-c.s.c;break;case 2:a[N]=x[N];break;case 3:a[N]=f.header[N-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=xo(r,null,f),y=_[i]||0,!y)_[i]=1;else{do o=i+"_"+y++;while(_[o]);_[i]=y,_[o]=1}a[N]=o}for(E=c.s.r+s;E<=c.e.r;++E)if(!(k[E]||{}).hidden){var L=dse(e,c,E,x,n,a,w,f);(L.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(g[v++]=L.row)}return g.length=v,g}var v3=/"/g;function fse(e,t,r,n,s,a,i,o){for(var c=!0,f=[],h="",m=Mn(r),x=t.s.c;x<=t.e.c;++x)if(n[x]){var g=o.dense?(e[r]||[])[x]:e[n[x]+m];if(g==null)h="";else if(g.v!=null){c=!1,h=""+(o.rawNumbers&&g.t=="n"?g.v:xo(g,null,o));for(var v=0,y=0;v!==h.length;++v)if((y=h.charCodeAt(v))===s||y===a||y===34||o.forceQuotes){h='"'+h.replace(v3,'""')+'"';break}h=="ID"&&(h='"ID"')}else g.f!=null&&!g.F?(c=!1,h="="+g.f,h.indexOf(",")>=0&&(h='"'+h.replace(v3,'""')+'"')):h="";f.push(h)}return o.blankrows===!1&&c?null:f.join(i)}function W8(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=Or(e["!ref"]),a=n.FS!==void 0?n.FS:",",i=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),h="",m=[];n.dense=Array.isArray(e);for(var x=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],v=s.s.c;v<=s.e.c;++v)(x[v]||{}).hidden||(m[v]=on(v));for(var y=0,w=s.s.r;w<=s.e.r;++w)(g[w]||{}).hidden||(h=fse(e,s,w,m,i,c,a,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((y++?o:"")+h)));return delete n.dense,r.join("")}function hse(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=W8(e,t);return r}function pse(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=Or(e["!ref"]),a="",i=[],o,c=[],f=Array.isArray(e);for(o=s.s.c;o<=s.e.c;++o)i[o]=on(o);for(var h=s.s.r;h<=s.e.r;++h)for(a=Mn(h),o=s.s.c;o<=s.e.c;++o)if(t=i[o]+a,r=f?(e[h]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function G8(e,t,r){var n=r||{},s=+!n.skipHeader,a=e||{},i=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ss(n.origin):n.origin;i=c.r,o=c.c}var f,h={s:{c:0,r:0},e:{c:o,r:i+t.length-1+s}};if(a["!ref"]){var m=Or(a["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),i==-1&&(i=m.e.r+1,h.e.r=i+t.length-1+s)}else i==-1&&(i=0,h.e.r=t.length-1+s);var x=n.header||[],g=0;t.forEach(function(y,w){bi(y).forEach(function(E){(g=x.indexOf(E))==-1&&(x[g=x.length]=E);var N=y[E],_="z",S="",k=wt({c:o+g,r:i+w+s});f=Lh(a,k),N&&typeof N=="object"&&!(N instanceof Date)?a[k]=N:(typeof N=="number"?_="n":typeof N=="boolean"?_="b":typeof N=="string"?_="s":N instanceof Date?(_="d",n.cellDates||(_="n",N=us(N)),S=n.dateNF||Nt[14]):N===null&&n.nullError&&(_="e",N=0),f?(f.t=_,f.v=N,delete f.w,delete f.R,S&&(f.z=S)):a[k]=f={t:_,v:N},S&&(f.z=S))})}),h.e.c=Math.max(h.e.c,o+x.length-1);var v=Mn(i);if(s)for(g=0;g<x.length;++g)a[on(g+o)+v]={t:"s",v:x[g]};return a["!ref"]=Ut(h),a}function mse(e,t){return G8(null,e,t)}function Lh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ss(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Lh(e,wt(t)):Lh(e,wt({r:t,c:r||0}))}function xse(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function R_(){return{SheetNames:[],Sheets:{}}}function j_(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=i+s)!=-1;++s);}if(ene(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function gse(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=xse(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function yse(e,t){return e.z=t,e}function K8(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function vse(e,t,r){return K8(e,"#"+t,r)}function bse(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function wse(e,t,r,n){for(var s=typeof t!="string"?t:Or(t),a=typeof t=="string"?t:Ut(t),i=s.s.r;i<=s.e.r;++i)for(var o=s.s.c;o<=s.e.c;++o){var c=Lh(e,i,o);c.t="n",c.F=a,delete c.v,i==s.s.r&&o==s.s.c&&(c.f=r,n&&(c.D=!0))}return e}var X8={encode_col:on,encode_row:Mn,encode_cell:wt,encode_range:Ut,decode_col:x_,decode_row:m_,split_cell:DY,decode_cell:ss,decode_range:kd,format_cell:xo,sheet_add_aoa:ZD,sheet_add_json:G8,sheet_add_dom:H8,aoa_to_sheet:Rd,json_to_sheet:mse,table_to_sheet:q8,table_to_book:Lne,sheet_to_csv:W8,sheet_to_txt:hse,sheet_to_json:U2,sheet_to_html:Pne,sheet_to_formulae:pse,sheet_to_row_object_array:U2,sheet_get_cell:Lh,book_new:R_,book_append_sheet:j_,book_set_sheet_visibility:gse,cell_set_number_format:yse,cell_set_hyperlink:K8,cell_set_internal_link:vse,cell_add_comment:bse,sheet_set_array_formula:wse,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Mg=({clients:e,selectedClient:t,onClientSelect:r,placeholder:n="Choose an approved client...",disabled:s=!1,className:a="",allowAll:i=!1,allLabel:o="All Clients",compact:c=!1})=>{const[f,h]=Y.useState(!1),[m,x]=Y.useState(""),g=Y.useRef(null);Y.useEffect(()=>{const N=_=>{g.current&&!g.current.contains(_.target)&&h(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const v=e.find(N=>N.client_id===t),y=i&&t===0,w=()=>{s||(h(!f),f||x(""))},E=e.filter(N=>N.company_name.toLowerCase().includes(m.toLowerCase()));return u.jsxs("div",{className:`relative group/select ${a}`,ref:g,children:[u.jsxs("div",{onClick:w,className:`w-full pl-4 pr-3.25 ${c?"py-3":"py-4"} text-slate-500 bg-slate-50/50 border ${c?"rounded-xl":"rounded-2xl"} outline-none font-medium flex items-center justify-between transition-all ${s?"opacity-60 cursor-not-allowed bg-slate-50":"cursor-pointer"} ${f?"border-[#3399cc] ring-4 ring-[#3399cc]/10 shadow-lg shadow-[#3399cc]/5":"border-slate-200 hover:border-slate-300"}`,children:[u.jsxs("div",{className:"flex items-center text-sm gap-3 w-full overflow-hidden",children:[u.jsx(Ts,{className:`w-5 h-5 shrink-0 transition-colors ${f?"text-[#3399cc]":"text-slate-400"}`,size:18}),u.jsx("span",{className:"block truncate text-slate-500",children:y?o:v?`${v.company_name} (${v.contract_number||"No Contract"})`:n})]}),u.jsx(ZE,{className:`w-4.25 h-4 shrink-0 text-slate-400 transition-transform duration-200 ${f?"rotate-180 text-[#3399cc]":""}`})]}),f&&u.jsxs("div",{className:"absolute top-full left-0 w-full mt-2 bg-white border border-slate-100 rounded-2xl shadow-xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200 origin-top",children:[u.jsx("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50",children:u.jsxs("div",{className:"relative",children:[u.jsx(Al,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),u.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search by company name...",value:m,onChange:N=>x(N.target.value),className:"w-full pl-9 pr-3 py-2 text-sm border border-slate-200 rounded-xl outline-none focus:border-[#3399cc] bg-white transition-colors",onClick:N=>N.stopPropagation()})]})}),u.jsxs("div",{className:"max-h-60 overflow-y-auto py-2 custom-scrollbar",children:[i&&u.jsxs("div",{onClick:()=>{r(0),h(!1)},className:`px-4 py-3 mx-2 rounded-xl cursor-pointer transition-colors text-sm font-medium flex items-center justify-between
                    ${t===0?"bg-slate-100 text-[#3399cc]":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}`,children:[u.jsx("span",{className:"font-semibold",children:o}),t===0&&u.jsx(El,{size:16,className:"text-[#3399cc] shrink-0 ml-2"})]}),E.length===0?u.jsxs("div",{className:"px-4 py-8 text-slate-400 text-sm text-center italic",children:['No clients found matching "',m,'"']}):E.map(N=>u.jsxs("div",{onClick:()=>{r(N.client_id),h(!1)},className:`px-4 py-3 mx-2 rounded-xl cursor-pointer transition-colors text-sm font-medium group flex items-center justify-between
                    ${t===N.client_id?"bg-slate-100 text-[#3399cc]":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                  `,children:[u.jsxs("div",{className:"flex flex-col overflow-hidden",children:[u.jsx("span",{className:"font-semibold uppercase truncate",children:N.company_name}),N.contract_number&&u.jsxs("span",{className:`text-xs mt-1 transition-colors truncate ${t===N.client_id?"text-[#3399cc]/70":"text-slate-400 group-hover:text-slate-500"}`,children:["Contract: ",N.contract_number]})]}),t===N.client_id&&u.jsx(El,{size:16,className:"text-[#3399cc] shrink-0 ml-2"})]},N.client_id))]})]})]})},Ese=()=>{var P,X;const e=Lr(),[t,r]=Y.useState([]),[n,s]=Y.useState(0),[a,i]=Y.useState(null),[o,c]=Y.useState(!1),[f,h]=Y.useState(!0),[m,x]=Y.useState(null),[g,v]=Y.useState(null),[y,w]=Y.useState(!1);Y.useEffect(()=>{E()},[]);const E=async()=>{try{h(!0);const M=await vt.get("clients/approved");r(M.data)}catch{gt.error("Failed to load approved clients")}finally{h(!1)}},N=async M=>{i(M),x(null),await H(M)},_=async M=>{var J;const ie=((J=M.target.files)==null?void 0:J[0])??null;if(!ie){i(null),v(null);return}await N(ie)},{isDragging:S,handleDragOver:k,handleDragLeave:L,handleDrop:R}=pD({onFileDrop:N,onInvalidFile:M=>x(M)}),H=async M=>{try{const ie=await M.arrayBuffer(),J=new Uint8Array(ie),ee=gx(J,{type:"array"}),xe=ee.SheetNames.find(G=>G.trim().toUpperCase()==="PRODUCTS");if(!xe){v(null),x("No 'PRODUCTS' tab found in the uploaded file.");return}const oe=ee.Sheets[xe],we=X8.sheet_to_json(oe);v(we.slice(0,10))}catch(ie){console.error("Preview failed:",ie),v(null)}},O=()=>{if(n===0){x("Please select a client to associate with these products");return}if(!a){x("Please select a file to upload");return}x(null),w(!0)},Z=async()=>{if(n===0){x("Please select a client to associate with these products");return}if(!a){x("Please select a file to upload");return}c(!0),x(null);const M=new FormData;M.append("file",a);try{await vt.post(`/upload/${n}`,M,{headers:{"Content-Type":"multipart/form-data"}}),gt.success("Upload received! Your product catalog is being processed in the background."),i(null),v(null)}catch(ie){gt.error((ie==null?void 0:ie.message)??"Upload failed")}finally{c(!1),w(!1)}},ae=()=>!g||g.length===0?[]:Object.keys(g[0]);return u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 to-slate-100 p-6 md:p-10",children:[u.jsx(mo,{isOpen:y,onClose:()=>w(!1),onConfirm:Z,title:"Confirm GSA Product Upload",message:u.jsxs(u.Fragment,{children:["Are you sure you want to upload the product catalog for"," ",u.jsx("span",{className:"font-bold text-slate-800",children:(P=t.find(M=>M.client_id===n))==null?void 0:P.company_name}),"?"]}),details:[{label:"Client",value:((X=t.find(M=>M.client_id===n))==null?void 0:X.company_name)||""},{label:"File",value:(a==null?void 0:a.name)||""},{label:"Size",value:`${(((a==null?void 0:a.size)||0)/1024).toFixed(1)} KB`}],warning:{message:"This action will update the product catalog for the selected client. Existing products may be updated or replaced.",type:"amber"},confirmText:"Yes, Upload Catalog",cancelText:"Cancel",isSubmitting:o,variant:"emerald"}),u.jsxs("div",{className:" mx-auto",children:[u.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium group",children:[u.jsx(Fn,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back"]}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Upload GSA Products Catalog"}),u.jsx("p",{className:"text-slate-500 mt-1",children:"Update your product catalog by uploading an Excel spreadsheet."})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[u.jsxs("div",{className:"bg-white rounded-4xl shadow-sm border border-slate-200 p-8 md:p-10 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 p-8 pointer-events-none opacity-5",children:u.jsx(C2,{size:120})}),u.jsxs("div",{className:"space-y-8 relative",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"w-6 h-6 rounded-full bg-[#3399cc] text-white flex items-center justify-center text-xs font-bold",children:"1"}),u.jsx("label",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider",children:"Select Client"})]}),f?u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl",children:[u.jsx(Lt,{className:"w-5 h-5 animate-spin text-[#24578f]"}),u.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Fetching approved clients..."})]}):u.jsx(Mg,{clients:t,selectedClient:n,onClientSelect:s})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"w-6 h-6 rounded-full bg-[#3399cc] text-white flex items-center justify-center text-xs font-bold",children:"2"}),u.jsx("label",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider",children:"Upload Spreadsheet"})]}),a?u.jsxs("div",{className:"flex items-center justify-between p-6 bg-blue-50 border border-blue-100 rounded-2xl",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-[#3399cc] rounded-xl flex items-center justify-center text-white",children:u.jsx(C2,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-slate-900 truncate max-w-50 md:max-w-xs",children:a.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:[(a.size/1024).toFixed(1)," KB  Ready to upload"]})]})]}),u.jsx("button",{onClick:()=>{i(null),v(null)},className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-red-500 transition-all",children:u.jsx(fr,{size:20})})]}):u.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-56 border-2 border-dashed rounded-4xl cursor-pointer transition-all ${S?"border-[#3399cc] bg-blue-50/60 scale-[1.01]":"border-slate-200 bg-slate-50/50 hover:border-[#3399cc] hover:bg-blue-50/30"}`,onDragOver:k,onDragLeave:L,onDrop:R,children:[u.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center",children:[u.jsx("div",{className:`w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mb-4 transition-transform ${S?"scale-110":"group-hover:scale-110"}`,children:u.jsx(_l,{className:`w-8 h-8 ${S?"text-[#2b82ad]":"text-[#3399cc]"}`})}),u.jsx("p",{className:"text-base font-bold text-slate-700 mb-1",children:S?"Drop your file here":"Drag & drop or click to browse"}),u.jsx("p",{className:"text-sm text-slate-400",children:"Excel (.xlsx or .xls) files only"})]}),u.jsx("input",{id:"file-input",type:"file",accept:".xlsx,.xls",onChange:_,className:"hidden"})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx("button",{onClick:O,disabled:o||!a||n===0||!(g!=null&&g.length),className:"w-full bg-[#3399cc] text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-3 transition-all hover:bg-[#2b82ad] disabled:opacity-40 disabled:grayscale shadow-lg shadow-blue-200 hover:shadow-xl active:scale-[0.98]",children:o?u.jsxs(u.Fragment,{children:[u.jsx(Lt,{className:"w-5 h-5 animate-spin"})," Processing Upload..."]}):u.jsxs(u.Fragment,{children:[u.jsx(_l,{size:20})," Start Product Import"," ",u.jsx(Nh,{size:18})]})})}),m&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[u.jsx(Fc,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-sm text-red-700 font-medium",children:m})]})]})]}),g&&g.length>0&&u.jsxs("div",{className:"bg-white rounded-4xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[u.jsx("h2",{className:"text-sm font-black text-slate-400 uppercase tracking-[0.2em]",children:"Data Preview (First 10 Rows)"}),u.jsx("span",{className:"text-[10px] font-bold bg-slate-200 text-slate-600 px-2 py-0.5 rounded uppercase",children:"Read Only"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsx("tr",{className:"bg-white",children:ae().map(M=>u.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-wider border-b border-slate-100",children:M},M))})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:g.map((M,ie)=>u.jsx("tr",{className:"hover:bg-slate-50/50 transition-colors",children:ae().map(J=>u.jsx("td",{className:"px-6 py-4 text-xs font-semibold text-slate-600 whitespace-nowrap",children:M[J]!=null?String(M[J]):""},J))},ie))})]})})]})]})]})]})},Y8={async getAllClients(){return(await vt.get("/clients")).data},async getApprovedClients(){return(await vt.get("/clients/approved")).data}};function _se({onUploadClick:e,onExportClick:t,isExporting:r=!1,totalCount:n}){return u.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center md:justify-between gap-6 mb-12 mx-auto",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Products"}),u.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Catalog management and inventory overview"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-[#3399cc] text-white px-6 py-2.5 rounded-xl font-semibold hover:bg-[#2b82ad] transition-all shadow-md hover:shadow-lg active:scale-95",children:[u.jsx(_l,{size:18}),"Upload GSA"]}),t&&u.jsxs("button",{onClick:t,disabled:r,className:"flex items-center justify-center gap-2 bg-white text-slate-700 border border-slate-200 px-6 py-2.5 rounded-xl font-semibold hover:bg-slate-50 transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(nx,{size:18}),"Export"]})]})]})}function Sse({searchTerm:e,onSearchChange:t,clients:r,selectedClient:n,onClientSelect:s,isLoading:a=!1}){const i=o=>{if(o===0)s(null);else{const c=r.find(f=>f.client_id===o);s(c??null)}};return u.jsxs("div",{className:"mx-auto bg-white p-4 rounded-4xl shadow-sm border border-slate-100 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:[u.jsxs("div",{className:"relative flex-1 w-full",children:[u.jsx(Al,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),u.jsx("input",{type:"text",placeholder:"Search by name, manufacturer, or part number...",value:e,onChange:o=>t(o.target.value),className:"w-full pl-14 pr-6 py-3.5 rounded-2xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20  bg-slate-50/50 text-slate-700 placeholder:text-slate-400 transition-all font-medium"})]}),u.jsx("div",{className:"w-full lg:w-80",children:a?u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 border border-slate-200 rounded-2xl",children:[u.jsx(Lt,{className:"w-5 h-5 animate-spin text-[#24578f]"}),u.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Fetching approved clients..."})]}):u.jsx(Mg,{clients:r,selectedClient:(n==null?void 0:n.client_id)??0,onClientSelect:i,allowAll:!0,allLabel:"All Clients",placeholder:"Filter by client..."})})]})}const J8=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"-";function Nse({product:e,onClick:t}){return u.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors cursor-pointer group",onClick:t,children:[u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm font-bold text-slate-800 group-hover:text-[#3399cc] transition-colors",children:e.item_name}),e.item_description&&u.jsx("div",{className:"text-xs text-slate-500 mt-1 truncate max-w-62.5 font-medium",children:e.item_description})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-extrabold uppercase tracking-wider ${e.item_type==="A"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:e.item_type==="A"?"Accessory":"Base"})}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 font-semibold",children:e.client_name}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:e.manufacturer}),u.jsx("td",{className:"px-6 py-4 text-sm font-mono text-slate-600 font-medium",children:e.manufacturer_part_number}),u.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:J8(e.commercial_list_price)}),u.jsx("td",{className:"px-6 py-4 text-sm font-mono text-slate-600",children:e.uom})]})}function Tse({currentPage:e,totalPages:t,itemsPerPage:r,startIndex:n,totalItems:s,onPageChange:a}){const i=()=>{const o=[];if(t<=5)for(let f=1;f<=t;f++)o.push(f);else e<=3?o.push(1,2,3,4,"...",t):e>=t-2?o.push(1,"...",t-3,t-2,t-1,t):o.push(1,"...",e-1,e,e+1,"...",t);return o};return u.jsxs("div",{className:"px-6 py-5 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:n+1})," ","to"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:Math.min(n+r,s)})," ","of ",u.jsx("span",{className:"text-slate-900 font-semibold",children:s})," ","products"]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{disabled:e===1,onClick:()=>a(e-1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all mr-2",children:u.jsx(Fn,{size:18})}),u.jsx("div",{className:"flex items-center gap-1",children:i().map((o,c)=>u.jsx(qe.Fragment,{children:o==="..."?u.jsx("span",{className:"px-2 text-slate-400 font-medium",children:"..."}):u.jsx("button",{onClick:()=>a(Number(o)),className:`min-w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all
                  ${e===o?"bg-[#3399cc] text-white shadow-md shadow-[#3399cc]/30":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:o})},c))}),u.jsx("button",{disabled:e===t,onClick:()=>a(e+1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all ml-2",children:u.jsx(gr,{size:18})})]})]})}function Cse({products:e,totalItems:t,loading:r,selectedClient:n,currentPage:s,totalPages:a,itemsPerPage:i,startIndex:o,onProductClick:c,onPageChange:f}){return u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden relative transition-all",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:[u.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Item Description"}),u.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Type"}),u.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Client"}),u.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Manufacturer"}),u.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"MFR Part #"}),u.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Price"}),u.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"UOM"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:r?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-32",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading Products..."})]})})}):e.length>0?e.map(h=>u.jsx(Nse,{product:h,onClick:()=>c(h)},h.product_id)):u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-20",children:u.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center mb-4 border border-slate-100",children:u.jsx(d0,{className:"w-8 h-8 text-slate-300"})}),u.jsx("h3",{className:"text-base font-bold text-slate-500",children:n?"No products found for this client":"No products found"})]})})})})]})}),t>i&&u.jsx(Tse,{currentPage:s,totalPages:a,itemsPerPage:i,startIndex:o,totalItems:t,onPageChange:f})]})}function Ase({product:e,onClose:t}){return u.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[u.jsx("div",{className:"absolute inset-0 bg-slate-900/40 transition-opacity",onClick:t}),u.jsxs("div",{className:"relative w-full max-w-lg bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[u.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-start justify-between bg-white sticky top-0 z-10",children:[u.jsxs("div",{className:"pr-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${e.item_type==="A"?"bg-blue-100 text-blue-700":"bg-emerald-100 text-emerald-700"}`,children:e.item_type==="A"?"Accessory":"Base Product"}),e.hazmat&&u.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-[10px] font-bold uppercase",children:"Hazmat"})]}),u.jsx("h2",{className:"text-xl font-bold text-slate-900 leading-tight",children:e.item_name}),u.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium italic",children:e.item_description})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-900",children:u.jsx(fr,{size:24})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 scrollbar-thin",children:[e.photo_path&&u.jsx("div",{className:"w-full h-48 bg-slate-50 rounded-2xl border border-slate-100 overflow-hidden flex items-center justify-center",children:u.jsx("img",{src:e.photo_path,alt:e.item_name,className:"h-full w-full object-contain p-4",onError:r=>r.currentTarget.style.display="none"})}),u.jsxs(Rf,{title:"Core Identifiers",children:[u.jsx(mn,{label:"Client",value:e.client_name}),u.jsx(mn,{label:"Client Part #",value:e.client_part_number}),u.jsx(mn,{label:"Mfr Part #",value:e.manufacturer_part_number}),u.jsx(mn,{label:"Manufacturer",value:e.manufacturer})]}),u.jsxs(Rf,{title:"Physical Specifications",children:[u.jsx(mn,{label:"Dimensions (L x W x H)",value:e.length?`${e.length} x ${e.width} x ${e.height} ${e.physical_uom||""}`:null}),u.jsx(mn,{label:"Weight",value:e.weight_lbs?`${e.weight_lbs} lbs`:null}),u.jsx(mn,{label:"Warranty",value:e.warranty_period}),u.jsx(mn,{label:"Quantity per Pack",value:`${e.quantity_per_pack||1} ${e.quantity_unit_uom||""}`})]}),u.jsxs(Rf,{title:"Pricing & Classification",children:[u.jsx(mn,{label:"Commercial List Price",value:J8(e.commercial_list_price)}),u.jsx(mn,{label:"UOM",value:e.uom}),u.jsx(mn,{label:"SIN",value:e.sin}),u.jsx(mn,{label:"NSN",value:e.nsn}),u.jsx(mn,{label:"UPC",value:e.upc}),u.jsx(mn,{label:"UNSPSC",value:e.unspsc})]}),u.jsxs(Rf,{title:"Compliance & Environment",children:[u.jsx(mn,{label:"Country of Origin",value:e.country_of_origin}),u.jsx(mn,{label:"Recycled Content",value:e.recycled_content_percent?`${e.recycled_content_percent}%`:"0%"}),u.jsx(mn,{label:"Hazmat Status",value:e.hazmat?"Yes":"No"}),u.jsx(mn,{label:"Product Info Code",value:e.product_info_code})]}),u.jsx(Rf,{title:"Resources & Links",children:u.jsxs("div",{className:"col-span-2 flex flex-col gap-3",children:[e.product_url&&u.jsxs("a",{href:e.product_url,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-3 text-slate-700 hover:text-[#3399cc] font-semibold text-sm bg-slate-50 p-4 rounded-xl border border-slate-100 transition-all hover:border-[#3399cc]/30",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(tD,{size:16})," Product Page"]}),u.jsx(gr,{size:14,className:"text-slate-400"})]}),e.url_508&&u.jsxs("a",{target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-3 text-slate-700 hover:text-[#3399cc] font-semibold text-sm bg-slate-50 p-4 rounded-xl border border-slate-100 transition-all hover:border-[#3399cc]/30",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(El,{size:16,className:"text-emerald-500"})," 508 Compliance Link"]}),u.jsx(gr,{size:14,className:"text-slate-400"})]})]})}),u.jsx("div",{className:"pt-6 border-t border-slate-100",children:u.jsxs("div",{className:"flex justify-between text-[10px] font-medium text-slate-400 uppercase tracking-tighter",children:[u.jsxs("span",{children:["Created:"," ",e.created_time?new Date(e.created_time).toLocaleDateString("en-US"):"N/A"]}),u.jsxs("span",{children:["Last Updated:"," ",e.updated_time?new Date(e.updated_time).toLocaleDateString("en-US"):"N/A"]})]})})]})]})]})}function Rf({title:e,children:t}){return u.jsxs("div",{children:[u.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-5",children:e}),u.jsx("div",{className:"grid grid-cols-2 gap-y-8 gap-x-4",children:t})]})}function mn({label:e,value:t}){return u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 tracking-wide",children:e}),u.jsx("p",{className:"text-sm font-bold text-slate-800",children:t??""})]})}function kse(){const e=Lr(),[t,r]=Y.useState([]),[n,s]=Y.useState([]),[a,i]=Y.useState(null),[o,c]=Y.useState(!0),[f,h]=Y.useState(!0),[m,x]=Y.useState(""),g=t_(m,500),[v,y]=Y.useState(1),[w,E]=Y.useState(null),[N,_]=Y.useState(!1),[S,k]=Y.useState(!1),[L,R]=Y.useState(0),[H,O]=Y.useState(0),[Z,ae]=Y.useState(0),P=50,X=async(oe,we,G)=>{try{c(!0);const D=await Qf.getAllProducts({page:oe,page_size:P,search:we||void 0,client_id:G});r(D.items),R(D.total),O(D.total_pages)}catch(D){(D==null?void 0:D.status)===404?(r([]),R(0)):gt.error((D==null?void 0:D.message)||"Failed to load products.")}finally{c(!1)}},M=async oe=>{try{const we=await Qf.getAllProducts({page:1,page_size:1,client_id:oe});ae(we.total)}catch(we){console.error("Failed to fetch exportable count:",we),ae(0)}};Y.useEffect(()=>{(async()=>{try{h(!0);const we=await Y8.getApprovedClients();s(we)}catch(we){gt.error((we==null?void 0:we.message)||"Failed to load clients.")}finally{h(!1)}})()},[]),Y.useEffect(()=>{X(v,g,w==null?void 0:w.client_id)},[v,g,w]),Y.useEffect(()=>{M(w==null?void 0:w.client_id)},[w]);const ie=oe=>{E(oe),y(1)},J=oe=>{x(oe),y(1)},ee=(v-1)*P,xe=async()=>{try{_(!0);const oe=await Qf.exportProducts(w==null?void 0:w.client_id),we=window.URL.createObjectURL(oe),G=document.createElement("a");G.href=we;const D=new Date().toISOString().split("T")[0];w?G.download=`${w.company_name}_products_${D}.xlsx`:G.download=`all_products_${D}.xlsx`,document.body.appendChild(G),G.click(),window.URL.revokeObjectURL(we),document.body.removeChild(G),gt.success("Export completed successfully."),k(!1)}catch(oe){gt.error((oe==null?void 0:oe.message)||"Failed to export products.")}finally{_(!1)}};return u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-6 lg:p-10 space-y-10",children:[u.jsxs("div",{className:"mx-auto",children:[u.jsx(_se,{onUploadClick:()=>e("/gsa-products/upload"),onExportClick:()=>k(!0),isExporting:N,totalCount:L}),u.jsx(Sse,{searchTerm:m,onSearchChange:J,clients:n,selectedClient:w,onClientSelect:ie,isLoading:f}),u.jsx(Cse,{products:t,totalItems:L,loading:o,selectedClient:w,currentPage:v,totalPages:H,itemsPerPage:P,startIndex:ee,onProductClick:i,onPageChange:y})]}),a&&u.jsx(Ase,{product:a,onClose:()=>i(null)}),u.jsx(mo,{isOpen:S,onClose:()=>k(!1),onConfirm:xe,title:"Export GSA Products",message:w?u.jsxs(u.Fragment,{children:["Export all products for ",u.jsx("span",{className:"font-bold text-slate-800",children:w.company_name})," to Excel?"]}):"Export all products across all clients to Excel?",details:[{label:"Client",value:(w==null?void 0:w.company_name)??"All Clients"},{label:"Total Products",value:Z.toLocaleString()}],confirmText:"Yes, Export",cancelText:"Cancel",isSubmitting:N,variant:"blue"})]})}const uh=async e=>(await vt.get("/jobs",{params:e})).data,Z8=async(e,t)=>(await vt.get(`/jobs/${e}`,{params:t})).data,Rse=async e=>(await vt.post(`/jobs/${e}/status?action=approve`)).data,jse=async e=>(await vt.post(`/jobs/${e}/status?action=reject`)).data,Q8=async e=>(await vt.get("/export/price-modifications",{params:e,responseType:"blob"})).data,eI=(e,t)=>{const r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)},tI=Y.createContext(void 0),Ose=({children:e})=>{const[t,r]=Y.useState(null);return u.jsx(tI.Provider,{value:{selectedJobId:t,setSelectedJobId:r},children:e||u.jsx(Sg,{})})},Fg=()=>{const e=Y.useContext(tI);if(e===void 0)throw new Error("useAnalysis must be used within an AnalysisProvider");return e},b3=e=>e?new Date(e).toLocaleTimeString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"",O_=e=>{const t={additions:0,deletions:0,priceIncreases:0,priceDecreases:0,descriptionChanges:0};return e&&(t.additions=e.NEW_PRODUCT||0,t.deletions=e.REMOVED_PRODUCT||0,t.priceIncreases=e.PRICE_INCREASE||0,t.priceDecreases=e.PRICE_DECREASE||0,t.descriptionChanges=e.DESCRIPTION_CHANGE||0),t},Dse=({steps:e,currentStep:t})=>u.jsx("div",{className:"flex items-center gap-2 p-2 rounded-2xl bg-white shadow-sm overflow-x-auto",children:e.map(r=>u.jsxs("div",{className:"flex items-center shrink-0",children:[u.jsxs("div",{className:`h-10 px-4 flex items-center gap-3 rounded-3xl transition-all ${t===r.id?"bg-[#3399cc] text-white shadow-lg":"text-slate-400"}`,children:[u.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border ${t===r.id?"border-white/30":"border-slate-200"}`,children:t>r.id?u.jsx(El,{className:"w-3 h-3"}):r.id}),u.jsx("p",{className:"text-xs font-bold uppercase tracking-widest hidden sm:block",children:r.title})]}),r.id<4&&u.jsx("div",{className:"w-4 h-px bg-slate-200 mx-1"})]},r.id))}),Ise=({clients:e,selectedClient:t,onClientSelect:r,onContinue:n,error:s,isLoading:a=!1})=>u.jsxs("div",{className:"group bg-white/80 backdrop-blur-md rounded-3xl border border-slate-200 shadow-2xl shadow-slate-200/60 overflow-visible z-10 relative",children:[u.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/30",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[u.jsx("div",{className:"p-2.5 bg-cyan-50 rounded-xl shadow-sm ring-1 ring-cyan-100",children:u.jsx(Ts,{className:"w-5 h-5 text-[#3399cc]"})}),u.jsx("h3",{className:"text-xl font-semibold text-slate-800 tracking-tight",children:"Select Client"})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Choose the client for analysis"})]}),u.jsxs("div",{className:"p-8 space-y-8 relative",children:[a?u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 border border-slate-200 rounded-2xl",children:[u.jsx(Lt,{className:"w-5 h-5 animate-spin text-[#24578f]"}),u.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Fetching approved clients..."})]}):u.jsx(Mg,{clients:e,selectedClient:t,onClientSelect:r}),s&&u.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl flex items-center gap-2 animate-in fade-in slide-in-from-top-1",children:[u.jsx(Fc,{className:"w-5 h-5 shrink-0"}),u.jsx("span",{className:"text-sm font-medium",children:s})]}),u.jsx("div",{className:"flex justify-end pt-2",children:u.jsxs("button",{onClick:n,disabled:!t,className:"btn-primary",children:["Continue ",u.jsx(gr,{className:"w-4 h-4 ml-1"})]})})]})]}),Mse=({file:e,uploadedFileName:t,previewData:r,totalRows:n,isParsingFile:s,error:a,onFileChange:i,onFileDrop:o,onInvalidFile:c,onBack:f,onContinue:h,onClearFile:m})=>{const{isDragging:x,handleDragOver:g,handleDragLeave:v,handleDrop:y}=pD({onFileDrop:o,onInvalidFile:c});return u.jsxs("div",{className:"group bg-white/80 backdrop-blur-md rounded-3xl border border-slate-200 shadow-2xl shadow-slate-200/60 overflow-hidden",children:[u.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/30",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"p-2.5 bg-cyan-50 rounded-xl shadow-sm ring-1 ring-cyan-100",children:u.jsx(C2,{className:"w-5 h-5 text-[#3399cc]"})}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Upload Commercial Pricelist"})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Upload the updated commercial pricelist (Excel format)"})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx("input",{id:"file-upload-input",type:"file",className:"hidden",accept:".xlsx,.xls",onChange:i}),u.jsx("div",{className:`border-2 border-dashed rounded-xl p-12 text-center transition-all cursor-pointer ${e?"border-emerald-500 bg-emerald-50":x?"border-[#3399cc] bg-cyan-50/70 scale-[1.01]":"border-slate-300 hover:border-[#3399cc] hover:bg-cyan-50/50"}`,onClick:i,onDragOver:g,onDragLeave:v,onDrop:y,children:e?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"w-16 h-16 mx-auto rounded-xl bg-emerald-100 flex items-center justify-center",children:u.jsx(El,{className:"w-8 h-8 text-emerald-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-900",children:t}),u.jsx("p",{className:"text-sm text-slate-500",children:"Click to replace"})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:`w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto transition-transform ${x?"scale-110":""}`,children:u.jsx(_l,{className:`w-8 h-8 ${x?"text-[#2b82ad]":"text-[#3399cc]"}`})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-900",children:x?"Drop your file here":"Drag & drop or click to browse"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Excel (.xlsx or .xls) files only"})]})]})}),s&&u.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4 flex items-center gap-3",children:[u.jsx(Lt,{className:"w-5 h-5 animate-spin text-[#24578f] shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs font-bold text-slate-600 mb-1.5",children:"Parsing file, please wait"}),u.jsx("div",{className:"w-full h-1.5 bg-slate-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-[#3399cc] rounded-full animate-[progress_1.2s_ease-in-out_infinite]",style:{width:"60%"}})})]})]}),!s&&r&&r.length>0&&u.jsxs("div",{className:"mt-6 border border-slate-200 rounded-xl overflow-hidden",children:[u.jsxs("div",{className:"bg-slate-50 px-4 py-2 border-b border-slate-200 flex justify-between items-center",children:[u.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:["Data Preview (10 of ",n," rows)"]}),u.jsx("button",{onClick:m,className:"text-slate-400 hover:text-red-500",children:u.jsx(fr,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"max-h-105 overflow-auto",children:u.jsxs("table",{className:"w-full text-[11px] text-left border-collapse",children:[u.jsx("thead",{className:"sticky top-0 z-10",children:u.jsx("tr",{className:"bg-slate-100 border-b border-slate-200",children:Object.keys(r[0]).map(w=>u.jsx("th",{className:"px-4 py-2 font-bold text-slate-700 whitespace-nowrap",children:w},w))})}),u.jsx("tbody",{children:r.slice(0,10).map((w,E)=>u.jsx("tr",{className:"bg-white hover:bg-slate-50 border-b border-slate-50 transition-colors",children:Object.values(w).map((N,_)=>u.jsx("td",{className:"px-4 py-2 text-slate-600 whitespace-nowrap",children:String(N)},_))},E))})]})})]}),a&&u.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl flex items-center gap-2",children:[u.jsx(Fc,{className:"w-5 h-5"})," ",a]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("button",{onClick:f,className:"btn-secondary",children:[u.jsx(Fn,{className:"w-4 h-4"})," Back"]}),u.jsxs("button",{onClick:h,disabled:!e||s||!r,className:"btn-primary",children:["Continue ",u.jsx(gr,{className:"w-4 h-4"})]})]})]})]})},Fse=({activeClient:e,uploadedFileName:t,totalRows:r,isAnalyzing:n,error:s,onBack:a,onRunAnalysis:i})=>u.jsxs("div",{className:"group bg-white/80 backdrop-blur-md rounded-3xl border border-slate-200 shadow-2xl shadow-slate-200/60 overflow-hidden",children:[u.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/30",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"p-2.5 bg-cyan-50 rounded-xl shadow-sm ring-1 ring-cyan-100",children:u.jsx(XG,{className:"w-5 h-5 text-[#3399cc]"})}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Run Analysis"})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Compare uploaded data with GSA contract data"})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full mb-10",children:[u.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:u.jsx(Ts,{className:"w-5 h-5 text-[#3399cc]"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Client Name"}),u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(e==null?void 0:e.company_name)||"N/A"})]})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:u.jsx(sx,{className:"w-5 h-5 text-emerald-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Contract Number"}),u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(e==null?void 0:e.contract_number)||"No Contract"})]})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:u.jsx(On,{className:"w-5 h-5 text-indigo-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"File Name"}),u.jsx("p",{className:"text-sm font-semibold text-slate-700 max-w-70",children:t})]})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:u.jsx(KW,{className:"w-5 h-5 text-orange-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Total Rows"}),u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:r.toLocaleString()})]})]})]}),s&&u.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl flex items-center gap-2",children:[u.jsx(Fc,{className:"w-5 h-5"})," ",s]}),u.jsxs("div",{className:"flex justify-between pt-4",children:[u.jsxs("button",{onClick:a,disabled:n,className:"btn-secondary",children:[u.jsx(Fn,{className:"w-4 h-4"})," Back"]}),u.jsx("button",{onClick:i,disabled:n,className:"btn-primary",children:n?u.jsxs(u.Fragment,{children:[u.jsx(Lt,{className:"w-5 h-5 animate-spin"})," Analyzing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(IG,{className:"w-4 h-4 fill-current"})," Run Analysis"]})})]})]})]}),Pse=({label:e,value:t,icon:r,variant:n="blue"})=>{const a={emerald:{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-100",iconBg:"bg-emerald-100/50"},red:{bg:"bg-red-50",text:"text-red-600",border:"border-red-100",iconBg:"bg-red-100/50"},amber:{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-100",iconBg:"bg-amber-100/50"},cyan:{bg:"bg-cyan-50",text:"text-[#3399cc]",border:"border-cyan-100",iconBg:"bg-cyan-100/50"},blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-100",iconBg:"bg-blue-100/50"}}[n];return u.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm h-full hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl ${a.iconBg} flex items-center justify-center ${a.text}`,children:qe.cloneElement(r,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-slate-900 tabular-nums leading-none",children:t.toLocaleString()}),u.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mt-1.5",children:e})]})]})})},rI=({actions:e,actionSummary:t,totalActions:r,totalPages:n,currentPage:s,activeTab:a,onTabChange:i,onPageChange:o,onExport:c,isLoading:f=!1,isExporting:h=!1})=>{const[m,x]=Y.useState(!1),g=7,v=S=>{const k=[];if(S<=7){for(let H=1;H<=S;H++)k.push(H);return k}k.push(1),s>4&&k.push("...");const L=Math.max(2,s-1),R=Math.min(S-1,s+1);for(let H=L;H<=R;H++)k.push(H);return s<S-3&&k.push("..."),k.push(S),k},y=[{id:"NEW_PRODUCT",label:"Additions",icon:Nd,variant:"emerald",count:t.NEW_PRODUCT||0},{id:"REMOVED_PRODUCT",label:"Deletions",icon:rD,variant:"red",count:t.REMOVED_PRODUCT||0},{id:"PRICE_INCREASE",label:"Increases",icon:h0,variant:"amber",count:t.PRICE_INCREASE||0},{id:"PRICE_DECREASE",label:"Decreases",icon:f0,variant:"cyan",count:t.PRICE_DECREASE||0},{id:"DESCRIPTION_CHANGE",label:"Descriptions",icon:Sd,variant:"blue",count:t.DESCRIPTION_CHANGE||0}],w=a==="DESCRIPTION_CHANGE",E=a==="PRICE_INCREASE"||a==="PRICE_DECREASE",N=a==="NEW_PRODUCT"||a==="REMOVED_PRODUCT",_=(s-1)*g;return u.jsxs("div",{className:"space-y-6",children:[u.jsx(mo,{isOpen:m,onClose:()=>x(!1),onConfirm:async()=>{await c(),x(!1)},title:"Export Analysis Results",message:"This will download all modification categories as an Excel file.",confirmText:"Yes, Export",cancelText:"Cancel",isSubmitting:h,variant:"blue"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:y.map(S=>u.jsx(Pse,{label:S.label,value:S.count,icon:u.jsx(S.icon,{className:"w-4 h-4"}),variant:S.variant},S.id))}),u.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 flex items-center justify-between gap-4",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Analysis Results"}),u.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-50 text-slate-700 text-sm font-bold border border-slate-200 hover:bg-slate-100 transition-all",children:[u.jsx(nx,{size:16})," Export All"]})]}),u.jsx("div",{className:"px-6 pt-4",children:u.jsx("div",{className:"bg-slate-100/80 p-1 rounded-2xl flex items-center w-full ",children:y.map(S=>u.jsxs("button",{onClick:()=>i(S.id),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-sm font-bold transition-all
                       ${a===S.id?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[u.jsx(S.icon,{size:14,className:a===S.id?`text-${S.variant}-600`:""}),S.label]},S.id))})}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"border border-slate-100 rounded-xl overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm table-fixed",children:[u.jsx("thead",{className:"bg-slate-50/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Part Number"}),u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Product Name"}),w&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Old Description"}),u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"New Description"})]}),E&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Old List Price"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"New List Price"})]}),N&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Description"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"List Price"})]})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:f?u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"px-6 py-16 text-center",children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading analysis results..."})]})})}):e.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"p-10 text-center text-slate-400 italic",children:"No modifications found for this category."})}):e.map((S,k)=>u.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[u.jsx("td",{className:"p-3 font-mono text-xs text-slate-500",children:S.manufacturer_part_number||"N/A"}),u.jsx("td",{className:"p-3 font-medium text-slate-900",children:S.product_name||"Unknown Product"}),w&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"p-3 text-xs text-slate-400 truncate max-w-60",children:S.old_description||"-"}),u.jsx("td",{className:"p-3 text-xs text-slate-700",children:S.new_description||"-"})]}),E&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"p-3 text-right text-slate-400 tabular-nums",children:S.old_price?`$${Number(S.old_price).toLocaleString()}`:"-"}),u.jsx("td",{className:"p-3 text-right font-bold text-slate-900 tabular-nums",children:S.new_price?`$${Number(S.new_price).toLocaleString()}`:"-"})]}),N&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"p-3 text-xs text-slate-700 truncate max-w-60",children:S.new_description||S.old_description||"-"}),u.jsx("td",{className:"p-3 text-right font-bold text-slate-900 tabular-nums",children:S.new_price??S.old_price?`$${Number(S.new_price??S.old_price).toLocaleString()}`:"-"})]})]},k))})]})})}),r>g&&u.jsxs("div",{className:"px-6 py-5 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:_+1})," ","to"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:Math.min(_+g,r)})," ","of"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:r})," ","results"]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{disabled:s===1,onClick:()=>o(s-1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all mr-2",children:u.jsx(Fn,{size:18})}),u.jsx("div",{className:"flex items-center gap-1",children:v(n).map((S,k)=>S==="..."?u.jsx("span",{className:"min-w-9 h-9 flex items-center justify-center text-slate-400 font-bold",children:""},k):u.jsx("button",{onClick:()=>o(S),className:`min-w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all
      ${s===S?"bg-[#3399cc] text-white shadow-md shadow-[#3399cc]/30":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:S},k))}),u.jsx("button",{disabled:s===n,onClick:()=>o(s+1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all ml-2",children:u.jsx(gr,{size:18})})]})]})]})]})},Lse=({actions:e,actionSummary:t,totalActions:r,totalPages:n,currentPage:s,activeTab:a,onTabChange:i,onPageChange:o,onExport:c,onReset:f,onGenerateDocuments:h,isLoading:m=!1})=>u.jsxs("div",{className:"space-y-6",children:[u.jsx(rI,{actions:e,actionSummary:t,totalActions:r,totalPages:n,currentPage:s,activeTab:a,onTabChange:i,onPageChange:o,onExport:c,isLoading:m}),u.jsxs("div",{className:"flex justify-between items-center pt-4",children:[u.jsx("button",{onClick:f,className:"btn-secondary",children:"Start New Analysis"}),u.jsxs("button",{onClick:h,className:"btn-primary",children:["Generate Documents ",u.jsx(Nh,{className:"w-4 h-4"})]})]})]}),Bse=[{id:1,title:"Select Client",description:"Choose a client"},{id:2,title:"Upload Pricelist",description:"Upload Excel file"},{id:3,title:"Run Analysis",description:"Process data"},{id:4,title:"Review Results",description:"Review and export"}];function Use(){const e=Lr(),{setSelectedJobId:t}=Fg(),[r,n]=Y.useState(1),[s,a]=Y.useState(null),[i,o]=Y.useState(!1),[c,f]=Y.useState([]),[h,m]=Y.useState(!0),[x,g]=Y.useState(null),[v,y]=Y.useState(null),[w,E]=Y.useState(""),[N,_]=Y.useState(null),[S,k]=Y.useState(null),[L,R]=Y.useState(null),[H,O]=Y.useState(0),[Z,ae]=Y.useState(!1),[P,X]=Y.useState(!1);Y.useEffect(()=>{oe()},[]);const[M,ie]=Y.useState("NEW_PRODUCT"),[J,ee]=Y.useState(1),xe=7;Y.useEffect(()=>{r===4&&(N!=null&&N.job_id)&&we(N.job_id)},[r,M,J,N==null?void 0:N.job_id]);const oe=async()=>{try{m(!0);const F=await vt.get("/clients/approved");f(F.data)}catch(F){console.error("Failed to fetch clients:",F)}finally{m(!1)}},we=async F=>{try{ae(!0);const ne=await Z8(F,{page:J,page_size:xe,action_type:M}),te={...ne,summary:O_(ne.action_summary)};k(te)}catch(ne){console.error("Failed to fetch job details:",ne),gt.error("Failed to load analysis results")}finally{ae(!1)}},G=async F=>{var Q,z;if(F.type==="click"){(Q=document.getElementById("file-upload-input"))==null||Q.click();return}const te=((z=F.target.files)==null?void 0:z[0])??null;te&&await W(te)},D=async F=>{await W(F)},W=async F=>{if(!F.name.match(/\.(xlsx|xls)$/i)){g("Invalid format. Please select an Excel (.xlsx or .xls) file");return}y(F),E(F.name),g(null),R(null),X(!0);try{const ne=await F.arrayBuffer(),te=new Uint8Array(ne),Q=gx(te,{type:"array"}),z=Q.Sheets[Q.SheetNames[0]],be=X8.sheet_to_json(z,{defval:""});if(be.length===0){g("The uploaded Excel file contains no data rows."),y(null),R(null),O(0);return}O(be.length),R(be)}finally{X(!1)}},K=async()=>{if(!v||!s){g("Missing file or client selection");return}o(!0),g(null);const F=new FormData;F.append("file",v);try{const ne=await vt.post(`/cpl/${s}`,F,{headers:{"Content-Type":"multipart/form-data"}});_(ne.data),t(ne.data.job_id),n(4),o(!1)}catch(ne){o(!1),gt.error((ne==null?void 0:ne.message)??"Analysis failed. Please try again.")}},re=()=>{n(1),a(null),y(null),E(""),_(null),t(null),k(null),R(null),O(0),g(null),ie("NEW_PRODUCT"),ee(1)},se=c.find(F=>F.client_id===s),I=()=>{switch(r){case 1:return u.jsx(Ise,{clients:c,selectedClient:s??0,onClientSelect:F=>{a(F),g(null)},onContinue:()=>{if(!se){g("Please select a client.");return}if(!se.has_products){g("Please complete uploading initial GSA products for selected client before running Price List Analysis.");return}g(null),n(2)},error:x,isLoading:h});case 2:return u.jsx(Mse,{file:v,uploadedFileName:w,previewData:L,totalRows:H,isParsingFile:P,error:x,onFileChange:G,onFileDrop:D,onInvalidFile:F=>g(F),onBack:()=>{n(1),y(null),R(null),g(null)},onContinue:()=>{n(3),g(null)},onClearFile:()=>{y(null),R(null)}});case 3:return u.jsx(Fse,{activeClient:se,uploadedFileName:w,totalRows:H,isAnalyzing:i,error:x,onBack:()=>{n(2),_(null),g(null)},onRunAnalysis:K});case 4:return u.jsx(Lse,{actions:(S==null?void 0:S.modifications_actions)||[],actionSummary:(S==null?void 0:S.action_summary)||{},totalActions:(S==null?void 0:S.total_actions)||0,totalPages:(S==null?void 0:S.total_pages)||0,currentPage:J,activeTab:M,onTabChange:F=>{ie(F),ee(1)},onPageChange:F=>ee(F),isLoading:Z,onExport:async()=>{try{const F=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-"),ne=(se==null?void 0:se.company_name.replace(/\s+/g,"-"))||"Client",te=(se==null?void 0:se.contract_number)||"NoContract",Q=`${ne}_${te}_modifications_${F}.xlsx`,z=await Q8({client_id:s,job_id:N==null?void 0:N.job_id});eI(z,Q),gt.success("Analysis export complete")}catch(F){console.error("Export failed:",F),gt.error("Failed to export analysis")}},onReset:re,onGenerateDocuments:()=>e(`/documents?job_id=${N==null?void 0:N.job_id}`)});default:return null}};return u.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-6 lg:p-10 space-y-10",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Price List Analysis"}),u.jsx("p",{className:"text-slate-500 font-medium",children:"Compare commercial pricelists with GSA contract data"})]}),u.jsx(Dse,{steps:Bse,currentStep:r}),u.jsx("div",{className:"w-full",children:I()})]})}const Hm=[{id:"add-product",name:"Additions",description:"Request to add new products to an existing GSA contract",icon:"Plus",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_additions",label:"SIN",type:"text",behavior:"editable",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"solicitationNumber",label:"Solicitation Number",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"refresh",label:"Refresh Number",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"coo",label:"Country of Origin",type:"text",behavior:"manual",section:"Request Details"},{id:"basicDiscount",label:"GSA Basic Discount",type:"text",behavior:"manual",section:"Request Details"},{id:"numberOfProductsAdded",label:"Number of Products Added",type:"number",behavior:"readonly",section:"Request Details"},{id:"quantityVolumeDiscount",label:"Quantity / Volume Discount",type:"text",behavior:"readonly",section:"Request Details"},{id:"otherDiscounts",label:"Other Discounts / Concessions",type:"text",behavior:"readonly",section:"Request Details"},{id:"additionRationale",label:"Addition Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"deliveryAroNormal",label:"Delivery ARO  Normal",type:"text",behavior:"readonly",section:"Logistics & Compliance"},{id:"deliveryAroExpedited",label:"Delivery ARO  Expedited",type:"text",behavior:"readonly",section:"Logistics & Compliance"},{id:"fobTerms",label:"FOB Terms",type:"text",behavior:"readonly",section:"Logistics & Compliance"},{id:"energyStarCompliance",label:"Energy Star Compliance",type:"select",behavior:"readonly",section:"Logistics & Compliance",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"na",label:"Not Applicable"}]}]},{id:"delete-product",name:"Deletions",description:"Request to remove products from an existing GSA contract",icon:"Trash2",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_deletions",label:"SIN",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"numberOfProductsDeleted",label:"Number of Products Deleted",type:"number",behavior:"readonly",section:"Request Details"},{id:"deletionRationale",label:"Deletional Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]}]},{id:"price-increase",name:"Price Increase",description:"Economic Price Adjustment for price increases based on index changes",icon:"TrendingUp",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_price_increase",label:"SIN",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"priceIncreased",label:"Number of Products Price Increased",type:"number",behavior:"readonly",section:"Request Details"},{id:"requestedIncrease",label:"Requested Increase (%)",type:"percentage",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"increaseRationale",label:"Increase Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"backgroundInfo",label:"Background Information",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]}]},{id:"price-decrease",name:"Price Decrease",description:"Economic Price Adjustment for price decreases based on index changes",icon:"TrendingDown",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_price_decrease",label:"SIN",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"priceDecreased",label:"Number of Products Price Decreased",type:"number",behavior:"readonly",section:"Request Details"},{id:"requestedDecrease",label:"Requested Decrease (%)",type:"percentage",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"decreaseRationale",label:"Decrease Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]}]},{id:"description-change",name:"Description Changes",description:"Request to modify product descriptions without price changes",icon:"FileEdit",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_description_change",label:"SIN",type:"text",behavior:"editable",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"descriptionChanged",label:"Number of Products Changed",type:"number",behavior:"readonly",section:"Request Details"},{id:"modificationRationale",label:"Description Change Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]}]}],zse=e=>Hm.find(t=>t.id===e),Hse=async e=>(await vt.get(`/generate/${e}`)).data,qse=e=>{const t=e.client||{},r=e.client_contract||{},n=e.modification_summary||{},s=r.discounts||{},a=r.delivery||{},i=r.address||{},o=r.other||{};return{companyName:t.company_name,contractNumber:r.contract_number,contractorName:r.contract_officer_name,contractorAddress:i.contract_officer_address,contractorCity:i.contract_officer_city,contractorState:i.contract_officer_state,contractorZip:i.contract_officer_zip,gsaOfficeAddressLine:i.contract_officer_address,gsaOfficeCity:i.contract_officer_city,gsaOfficeState:i.contract_officer_state,gsaOfficeZip:i.contract_officer_zip,gsaOfficeCityStateZip:`${i.contract_officer_city||""}, ${i.contract_officer_state||""}, ${i.contract_officer_zip||""}`.trim(),deliveryAroNormal:a.normal_delivery_time,deliveryAroExpedited:a.expedited_delivery_time,fobTerms:o.fob_term,coo:r.origin_country,basicDiscount:s.gsa_proposed_discount,quantityVolumeDiscount:s.q_v_discount,otherDiscounts:o.additional_concessions,energyStarCompliance:(()=>{var f;const c=(f=o.energy_star_compliance)==null?void 0:f.toLowerCase();return c==="yes"?"yes":c==="no"?"no":c==="applicable"||c==="not applicable"||c==="n/a"?"na":""})(),numberOfProductsAdded:n.products_added,numberOfProductsDeleted:n.products_deleted,descriptionChanged:n.description_changed,numberOfItemsChanged:n.description_changed,priceIncreased:n.price_increased,priceDecreased:n.price_decreased,requestedIncrease:n.price_increased>0?"":void 0,requestedDecrease:n.price_decreased>0?"":void 0}},nI=Y.createContext(void 0),Vse=({children:e})=>{const{user:t}=Ka(),[r,n]=Y.useState("select-type"),[s,a]=Y.useState(null),[i,o]=Y.useState(null),[c,f]=Y.useState({}),[h,m]=Y.useState([]),[x,g]=Y.useState([]),[v,y]=Y.useState(null),[w,E]=Y.useState(null),[N,_]=Y.useState(null),S=Y.useCallback(async(Z,ae)=>{const P=zse(Z);if(P){o(P),a(Z);try{let X={},M=null;ae&&(ae===N&&w?M=w:(n("load-config"),M=await Hse(ae),E(M),_(ae))),M&&(X=qse(M),y(M.modification_summary)),t&&(X.consultantName=t.name,X.consultantEmail=t.email,X.consultantPhone=t.phone_no);const ie={};P.fields.forEach(J=>{X[J.id]!==void 0?ie[J.id]=X[J.id]:J.defaultValue!==void 0&&(ie[J.id]=J.defaultValue)}),f(J=>{const ee={...J};return Object.keys(ie).forEach(xe=>{(xe.toLowerCase().includes("numberof")||xe.toLowerCase().includes("priceincreased")||xe.toLowerCase().includes("pricedecreased")||xe.toLowerCase().includes("descriptionchanged")||J[xe]===void 0||J[xe]==="")&&(ee[xe]=ie[xe])}),ee})}catch(X){console.error("Prefill failed:",X)}}},[t,N,w,n]),k=Y.useCallback((Z,ae)=>{f(P=>({...P,[Z]:ae})),m(P=>P.filter(X=>X.fieldId!==Z))},[]),L=Y.useCallback(()=>{if(!i)return!1;const Z=[];return i.fields.forEach(ae=>{var ee;const P=c[ae.id],X=typeof P=="string"?P.trim():P,M=ae.label;if(((ee=ae.validation)==null?void 0:ee.some(xe=>xe.type==="required"))&&!X&&X!==0&&(typeof X!="string"||X.trim()==="")){Z.push({fieldId:ae.id,message:`${M} is required`});return}if(!X&&X!==0)return;let J=null;if(ae.type==="email")J=Cd(String(X));else if(ae.id.toLowerCase().includes("phone")||ae.id.toLowerCase().includes("phoneno"))J=kg(String(X),M);else if(ae.id.toLowerCase().includes("name")&&!ae.id.toLowerCase().includes("company"))J=p0(String(X));else if(ae.id.toLowerCase().includes("zip")||ae.id.toLowerCase().includes("postal"))J=Rg(String(X));else if(ae.type==="number"||ae.type==="percentage"){const xe=Number(X);isNaN(xe)?J=`${M} must be a valid number`:xe<0&&(J=`${M} must be a positive number`)}J&&Z.push({fieldId:ae.id,message:J})}),m(Z),Z.length===0},[i,c]),R=Y.useCallback(()=>{n("select-type"),a(null),o(null),f({}),m([]),y(null),E(null),_(null)},[]),H=Y.useCallback(()=>{const Z=`DOC-${Date.now().toString(36).toUpperCase()}`,ae=x.filter(P=>P.documentType===s).length;return{id:Z,documentType:(i==null?void 0:i.name)||"",version:`v1.${ae}`,generatedBy:(t==null?void 0:t.name)||"Unknown User",generatedAt:new Date().toISOString(),data:{...c}}},[i,x,c,s,t]),O=Y.useCallback(Z=>{g(ae=>[Z,...ae])},[]);return u.jsx(nI.Provider,{value:{currentStep:r,setCurrentStep:n,selectedDocumentType:s,setSelectedDocumentType:a,documentConfig:i,formData:c,setFormData:f,updateField:k,validationErrors:h,setValidationErrors:m,validateForm:L,documentHistory:x,addToHistory:O,loadDocumentConfig:S,resetWorkflow:R,generateDocument:H,analysisSummary:v},children:e})},D_=()=>{const e=Y.useContext(nI);if(!e)throw new Error("useDocument must be used within a DocumentProvider");return e},$se={"add-product":{primary:"#059669",bg:"bg-emerald-50",border:"border-emerald-200",hoverBorder:"hover:border-emerald-500/40",iconBg:"bg-emerald-100",iconColor:"#059669",dotBg:"bg-emerald-600",chevron:"text-emerald-600"},"delete-product":{primary:"#DC2626",bg:"bg-red-50/50",border:"border-red-200",hoverBorder:"hover:border-red-500/40",iconBg:"bg-red-100",iconColor:"#DC2626",dotBg:"bg-red-500",chevron:"text-red-500"},"price-increase":{primary:"#d97706",bg:"bg-amber-50/50",border:"border-amber-200",hoverBorder:"hover:border-amber-500/40",iconBg:"bg-amber-100",iconColor:"#d97706",dotBg:"bg-amber-600",chevron:"text-amber-600"},"price-decrease":{primary:"#0891B2",bg:"bg-cyan-50/50",border:"border-cyan-200",hoverBorder:"hover:border-cyan-500/40",iconBg:"bg-cyan-100",iconColor:"#0891B2",dotBg:"bg-cyan-600",chevron:"text-cyan-600"},"description-change":{primary:"#2563EB",bg:"bg-blue-50/50",border:"border-blue-200",hoverBorder:"hover:border-blue-500/40",iconBg:"bg-blue-100",iconColor:"#2563EB",dotBg:"bg-blue-600",chevron:"text-blue-600"}},Wse={Plus:Nd,Trash2:ZG,TrendingUp:h0,TrendingDown:f0,FileEdit:Sd},Gse=({config:e,isSelected:t,onSelect:r,count:n,variant:s="grid"})=>{const a=Wse[e.icon]||Sd,i=$se[e.id];return s==="horizontal"?u.jsxs("div",{onClick:r,className:`
          group cursor-pointer transition-all duration-300
          px-6 py-4 rounded-2xl relative overflow-hidden flex items-center gap-4 shrink-0
          ${t?`bg-white shadow-md border ${i.border} scale-[1.02]`:`bg-white backdrop-blur-sm shadow-sm  border-slate-200 hover:shadow-md ${i.hoverBorder} hover:scale-[1.01]`}
        `,children:[u.jsx("div",{className:`
            w-10 h-10 rounded-xl flex items-center justify-center shrink-0
            transition-all duration-300
            ${t?`${i.iconBg} shadow-lg shadow-black/10`:`bg-slate-100 group-hover:${i.bg}`}
          `,children:u.jsx(a,{className:`w-5 h-5 transition-all duration-300 ${t?"scale-110":"group-hover:scale-110"}`,style:{color:i.iconColor}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-sm text-slate-900 tracking-tight truncate",children:e.name}),n!==void 0&&u.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5 animate-in fade-in slide-in-from-left-1 duration-500",children:[n," ",n===1?"modification":"modifications"]})]}),t&&u.jsx("div",{className:`absolute top-2 right-2 w-1.5 h-1.5 rounded-full ${i.dotBg} animate-pulse`})]}):u.jsxs("div",{onClick:r,className:`
        group cursor-pointer transition-all duration-300
        p-8 rounded-3xl relative overflow-hidden
        ${t?`bg-white shadow-xl border-2 ${i.border} scale-[1.02]`:`bg-white/80 backdrop-blur-sm shadow-sm border border-slate-200 hover:shadow-lg ${i.hoverBorder} hover:scale-[1.01]`}
      `,children:[t&&u.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{background:`linear-gradient(135deg, ${i.primary} 0%, transparent 100%)`}}),u.jsxs("div",{className:"flex items-start gap-6 relative z-10",children:[u.jsx("div",{className:`
            w-14 h-14 rounded-2xl flex items-center justify-center shrink-0
            transition-all duration-300
            ${t?"shadow-lg shadow-black/10":`bg-slate-50 border border-slate-200 group-hover:${i.bg} group-hover:border-black/5`}
          `,style:t?{backgroundColor:i.iconColor}:{},children:u.jsx(a,{className:`w-6 h-6 transition-all duration-300 ${t?"scale-110":"group-hover:scale-110"}`,style:{color:"#ffffff"},strokeWidth:2.5})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-lg text-slate-900 tracking-tight",children:e.name}),n!==void 0&&u.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${i.bg} ${i.chevron} border ${i.border} animate-in zoom-in duration-500`,children:n})]}),u.jsx(gr,{className:`w-5 h-5 transition-all duration-300 shrink-0 ${t?`${i.chevron} translate-x-1`:`text-slate-300 group-hover:${i.chevron} group-hover:translate-x-1`}`})]}),u.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed",children:e.description})]})]}),t&&u.jsx("div",{className:`absolute top-4 right-4 w-2 h-2 rounded-full ${i.dotBg} animate-pulse`})]})};function Kse(){var N;const{documentConfig:e,formData:t,updateField:r,validateForm:n,setCurrentStep:s,validationErrors:a}=D_(),i=Lr(),[o,c]=Y.useState(""),f={muted:"#627383",border:"#d9e0e8",secondaryBg:"#f8fafc"},h=`
    w-full mt-2 px-4 py-3 rounded-xl border transition-all text-sm font-medium
    focus:outline-none focus:ring-4 focus:ring-[#24548f]/5 focus:border-[#24548f]
    placeholder:text-slate-400
  `,m=`
    w-full mt-2 px-4 py-3 rounded-xl border bg-[#f8fafc] text-[#627383] 
    cursor-not-allowed border-[#d9e0e8] font-medium text-sm
  `,x=Y.useMemo(()=>e!=null&&e.fields?e.fields.reduce((_,S)=>{const k=S.section||"General Information";return _[k]||(_[k]=[]),_[k].push(S),_},{}):{},[e]),g=Y.useMemo(()=>Object.keys(x),[x]);Y.useEffect(()=>{g.length!==0&&(g.includes(o)||c(g[0]))},[g,o]);const v=()=>{n()&&s("preview")},y=_=>{var k;const S=((k=x[_])==null?void 0:k.map(L=>L.id))||[];return a.some(L=>S.includes(L.fieldId))};if(!e)return u.jsx("div",{className:"min-h-100 flex items-center justify-center text-slate-500 font-bold",children:"Please select a document type first."});const w=_=>{switch(_){case"number":case"email":case"password":case"date":return _;default:return"text"}},E=g.indexOf(o);return u.jsxs("div",{className:"animate-fade-in  mx-auto",children:[u.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-slate-200",children:g.map(_=>{const S=o===_,k=y(_);return u.jsxs("button",{onClick:()=>c(_),className:`px-6 py-4 text-xs font-bold uppercase tracking-widest transition-all border-b-2 relative ${S?"border-[#24548f] text-[#24548f]":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[_,k&&u.jsxs("span",{className:"absolute top-3 right-2 flex h-2 w-2",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]})]},_)})}),u.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden min-h-100 animate-slide-up",children:u.jsx("div",{className:"p-8 flex flex-wrap -mx-4 gap-y-6",children:(N=x[o])==null?void 0:N.map(_=>{var R,H,O;const S=_.behavior==="readonly",k=a.some(Z=>Z.fieldId===_.id),L=_.width||(_.type==="textarea"?"w-full":"w-full md:w-1/2");return u.jsxs("div",{className:`${L} px-4`,children:[u.jsxs("label",{className:"text-sm font-black ml-1",style:{color:f.muted},children:[_.label," ",((R=_.validation)==null?void 0:R.some(Z=>Z.type==="required"))&&u.jsx("span",{className:"text-red-500 mr-1",children:"*"})]}),_.type==="textarea"?u.jsx("textarea",{value:t[_.id]||"",onChange:Z=>r(_.id,Z.target.value),disabled:S,placeholder:_.placeholder,className:`${S?m:h} min-h-30 resize-none`,style:{borderColor:f.border,backgroundColor:S?f.secondaryBg:"white"}}):_.type==="select"?u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:t[_.id]||"",onChange:Z=>r(_.id,Z.target.value),disabled:S,className:`${S?m:h} appearance-none pr-8`,style:{borderColor:f.border,backgroundColor:S?f.secondaryBg:"white"},children:[u.jsxs("option",{value:"",disabled:!0,children:["Select ",_.label]}),(H=_.options)==null?void 0:H.map(Z=>u.jsx("option",{value:Z.value,children:Z.label},Z.value))]}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:u.jsx(gr,{className:"w-4 h-4 text-gray-400 rotate-90"})})]}):u.jsx("input",{type:w(_.type),value:t[_.id]||"",onChange:Z=>r(_.id,Z.target.value),disabled:S,placeholder:_.placeholder,className:S?m:h,style:{borderColor:f.border,backgroundColor:S?f.secondaryBg:"white"}}),k&&u.jsx("div",{className:"flex items-center gap-1 mt-1.5 ml-1 text-red-600",children:u.jsx("p",{className:"text-xs",children:((O=a.find(Z=>Z.fieldId===_.id))==null?void 0:O.message)||"This field is required"})})]},_.id)})})}),u.jsxs("div",{className:"mt-8 flex items-center justify-between pb-10",children:[E===0?u.jsxs("button",{onClick:()=>i(-1),className:"btn-secondary",children:[u.jsx(Fn,{className:"w-4 h-4"}),"Back"]}):u.jsxs("button",{onClick:()=>E>0?c(g[E-1]):s("select-type"),className:"btn-secondary",children:[u.jsx(Fn,{className:"w-4 h-4"}),"Previous Section"]}),E===g.length-1?u.jsxs("button",{onClick:v,className:"btn-primary",children:["Review & Continue",u.jsx(gr,{className:"w-4 h-4",strokeWidth:3})]}):u.jsxs("button",{onClick:()=>c(g[E+1]),className:"btn-primary",children:["Next Section",u.jsx(gr,{className:"w-4 h-4"})]})]})]})}const Xse=e=>{switch(e){case"addition":case"add-product":case"add-product-modification":return"addition";case"deletion":case"delete-product":return"deletion";case"price-increase":return"price-increase";case"price-decrease":return"price-decrease";case"description-change":return"description-change";default:return console.error("No template mapped for documentId:",e),null}},Yse=({data:e})=>u.jsxs("div",{className:"relative text-[14px] leading-[1.6] text-foreground px-12 py-10",style:{fontFamily:"'Times New Roman', Times, serif"},children:[u.jsx("div",{className:"absolute top-6 right-8",children:u.jsx("img",{src:"logo.png",alt:"Winvale",className:"h-10 w-10"})}),u.jsx("p",{className:"mb-6",children:e.submissionDate}),u.jsxs("p",{className:"mb-6",children:["Attn: ",e.contractorName," (",e.contractNumber,") ",u.jsx("br",{}),"General Services Administration ",u.jsx("br",{}),e.gsaOfficeAddressLine," ",u.jsx("br",{}),e.gsaOfficeCityStateZip]}),u.jsx("div",{className:"mb-6",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Re:"})," ",u.jsx("strong",{children:e.companyName}),u.jsx("br",{}),u.jsxs("strong",{children:["Add Product Modification to GSA Contract"," ",u.jsx("strong",{children:e.contractNumber})]})]})}),u.jsxs("p",{className:"mb-4",children:["Dear ",e.salutation," ",e.contractorName]}),u.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of an Add Product Modification to GSA Schedule Contract"," ",u.jsx("strong",{children:e.contractNumber}),"."," ",u.jsx("strong",{children:e.companyName})," would like to add"," ",u.jsx("strong",{children:e.numberOfProductsAdded})," products under SIN(s)"," ",u.jsx("strong",{children:e.sin_additions}),". We would like to add these products because ",u.jsx("strong",{children:e.additionRationale}),"."]}),u.jsxs("ul",{className:"list-disc ml-6 mb-4 space-y-1",children:[u.jsxs("li",{children:["We certify that these products are TAA Compliant in accordance with 52.225-6 TRADE AGREEMENTS CERTIFICATE (MAY 2014). The Country of Origin for the added products is"," ",u.jsx("strong",{children:e!=null&&e.coo&&e.coo.trim()!==""&&e.coo!=="undefined"?e.coo:""}),"."]}),u.jsxs("li",{children:["GSA Basic Discount: ",u.jsx("strong",{children:e.basicDiscount})," %"]}),u.jsxs("li",{children:["Number of products added:"," ",u.jsx("strong",{children:e.numberOfProductsAdded||"0"})]}),u.jsxs("li",{children:["Quantity / Volume Discount:"," ",u.jsx("strong",{children:e.quantityVolumeDiscount||"None"})]}),u.jsxs("li",{children:["Other Discounts / Concessions:"," ",u.jsx("strong",{children:e.otherDiscounts||""})]}),u.jsxs("li",{children:["Delivery After Receipt of Order (ARO):",u.jsxs("ul",{className:"list-disc ml-6",children:[u.jsxs("li",{children:["Normal: ",u.jsx("strong",{children:e.deliveryAroNormal})]}),u.jsxs("li",{children:["Expedited: ",u.jsx("strong",{children:e.deliveryAroExpedited})]})]})]}),u.jsxs("li",{children:["FOB Terms: ",u.jsx("strong",{children:e.fobTerms})]}),u.jsx("li",{children:"There have been (no) changes to our Commercial Sales Practices."}),u.jsxs("li",{children:["Energy Star Compliance:"," ",e.energyStarCompliance==="yes"?u.jsx("strong",{children:"Yes"}):e.energyStarCompliance==="no"?u.jsx("strong",{children:"No"}):e.energyStarCompliance==="na"?u.jsx("strong",{children:"Not Applicable"}):""]}),u.jsxs("li",{children:["This modification is submitted under Solicitation",u.jsx("strong",{children:` ${e.solicitationNumber}`})," Refresh"," ",u.jsx("strong",{children:e.refresh}),"."]}),u.jsx("li",{children:"The items being added are not identical/substantially similar to previously deleted items that had a lower Schedule price."}),u.jsx("li",{children:"No hazardous materials will be delivered under this contract."}),u.jsx("li",{children:"Place of Performance per FAR 52.215-6 (see current Solicitation)."}),u.jsx("li",{children:"If applicable : State whether EPA method and mechanism are the same as currently awarded product(s) and/or SIN(s) or propose EPA method and mechanism"})]}),u.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete and accurate. All other terms and conditions remain the same."}),u.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",u.jsx("strong",{children:e.consultantName})," at The Winvale Group at"," ",u.jsx("strong",{children:e.consultantPhone})," or"," ",u.jsx("strong",{children:e.consultantEmail}),"."]}),u.jsx("p",{className:"mb-4",children:"Sincerely,"}),u.jsx("div",{children:u.jsxs("p",{children:["_________________________________",u.jsx("br",{}),e.negotiatorName||"AUTHORIZED NEGOTIATOR NAME",u.jsx("br",{}),e.negotiatorTitle||"[Title]","  Authorized to sign on behalf of"," ",e.companyName||"COMPANY NAME"]})})]}),Jse=({data:e})=>u.jsxs("div",{className:"relative text-[14px] leading-[1.6] text-foreground px-12 py-10",style:{fontFamily:"'Times New Roman', Times, serif"},children:[u.jsx("div",{className:"absolute top-6 right-8",children:u.jsx("img",{src:"logo.png",alt:"Winvale",className:"h-10 w-35 object-contain"})}),u.jsx("p",{className:"mb-6",children:e.submissionDate||"DATE"}),u.jsxs("p",{className:"mb-6",children:["Attn: ",e.contractorName," (",e.contractNumber,") ",u.jsx("br",{}),"General Services Administration ",u.jsx("br",{}),e.gsaOfficeAddressLine," ",u.jsx("br",{}),e.gsaOfficeCityStateZip]}),u.jsx("div",{className:"mb-6",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Re:"})," ",u.jsx("strong",{children:e.companyName}),u.jsx("br",{}),u.jsxs("strong",{children:["Deletion Modification to GSA Contract"," ",u.jsx("strong",{children:e.contractNumber})]})]})}),u.jsxs("p",{className:"mb-4",children:["Dear ",e.salutation," ",e.contractorName]}),u.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of a Deletion Modification to GSA Schedule Contract"," ",u.jsx("strong",{children:e.contractNumber}),". The modification consists of the deletion of ",u.jsx("strong",{children:e.numberOfProductsDeleted})," item(s) listed under SIN ",u.jsx("strong",{children:e.sin_deletions}),". These products are being removed because ",u.jsx("strong",{children:e.deletionRationale}),"."]}),u.jsxs("p",{className:"mb-0",children:[e.companyName," states the following:"]}),u.jsx("ol",{className:"ml-10 space-y-1 list-outside",style:{listStyleType:"lower-alpha"},children:u.jsx("li",{children:"The items being deleted will not be added at a later date with a higher price without justification for such higher price."})}),u.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete and accurate. All other terms and conditions remain the same."}),u.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",u.jsx("strong",{children:e.consultantName})," of The Winvale Group at"," ",u.jsx("strong",{children:e.consultantPhone})," or"," ",u.jsx("strong",{children:e.consultantEmail}),"."]}),u.jsx("p",{className:"mb-4",children:"Sincerely,"}),u.jsx("div",{children:u.jsxs("p",{children:["_________________________________",u.jsx("br",{}),e.negotiatorName||"AUTHORIZED NEGOTIATOR NAME",u.jsx("br",{}),e.negotiatorTitle||"[Title]","  Authorized to sign on behalf of"," ",e.companyName||"COMPANY NAME"]})})]}),Zse=({data:e})=>u.jsxs("div",{className:"relative text-[13px] leading-[1.6] text-foreground px-8 py-6",children:[u.jsx("div",{className:"absolute top-6 right-8",children:u.jsx("img",{src:"logo.png",alt:"Winvale",className:"h-10 w-35 object-contain"})}),u.jsx("p",{className:"mb-4",children:e.submissionDate}),u.jsxs("p",{className:"mb-4",children:["Attn: ",e.contractorName," (",e.contractNumber,") ",u.jsx("br",{}),"General Services Administration ",u.jsx("br",{}),e.gsaOfficeAddressLine," ",u.jsx("br",{}),e.gsaOfficeCityStateZip]}),u.jsx("div",{className:"mb-4",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Re:"})," ",u.jsx("strong",{children:e.companyName}),u.jsx("br",{}),u.jsxs("strong",{children:["Product Descriptive Change Modification to GSA Contract"," ",u.jsx("strong",{children:e.contractNumber})]})]})}),u.jsxs("p",{className:"mb-3",children:["Dear ",e.salutation," ",e.contractorName]}),u.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of a product descriptive modification to GSA Schedule Contract"," ",u.jsx("strong",{children:e.contractNumber})," under SIN"," ",u.jsx("strong",{children:e.sin_description_change}),". The modification consists of descriptive changes for ",u.jsx("strong",{children:e.descriptionChanged})," ","item(s) due to ",u.jsx("strong",{children:e.modificationRationale}),". These revisions will not result in any changes to the GSA price."]}),u.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete and accurate. All other terms and conditions remain the same."}),u.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",u.jsx("strong",{children:e.consultantName})," at"," ",u.jsx("strong",{children:e.consultantPhone})," or"," ",u.jsx("strong",{children:e.consultantEmail}),"."]}),u.jsx("p",{className:"mb-4",children:"Respectfully,"}),u.jsx("div",{children:u.jsxs("p",{children:["_________________________________",u.jsx("br",{}),e.negotiatorName||"AUTHORIZED NEGOTIATOR NAME",u.jsx("br",{}),e.negotiatorTitle||"[Title]","  Authorized to sign on behalf of"," ",e.companyName||"COMPANY NAME"]})})]}),Qse=({data:e})=>u.jsxs("div",{className:"relative text-[14px] leading-[1.6] text-foreground px-12 py-10",style:{fontFamily:"'Times New Roman', Times, serif"},children:[u.jsx("div",{className:"absolute top-6 right-8",children:u.jsx("img",{src:"logo.png",alt:"Winvale",className:"h-10 w-35 object-contain"})}),u.jsx("p",{className:"mb-6",children:e.submissionDate}),u.jsxs("p",{className:"mb-6",children:["Attn: ",e.contractorName," (",e.contractNumber,") ",u.jsx("br",{}),"General Services Administration ",u.jsx("br",{}),e.gsaOfficeAddressLine," ",u.jsx("br",{}),e.gsaOfficeCityStateZip]}),u.jsx("div",{className:"mb-6",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Re:"})," ",u.jsx("strong",{children:e.companyName}),u.jsx("br",{}),u.jsxs("strong",{children:["EPA Modification Based on a Commercial Price List to GSA Contract"," ",u.jsx("strong",{children:e.contractNumber})]})]})}),u.jsxs("p",{className:"mb-4",children:["Dear ",e.salutation," ",e.contractorName]}),u.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of an Economic Price Adjustment (EPA) increase based on a Commercial Price List to GSA Schedule Contract ",u.jsx("strong",{children:e.contractNumber})," under SIN"," ",u.jsx("strong",{children:e.sin_price_increase}),". This request is in accordance with EPA Clause GSAM 538.270-4(a)(3). The modification consists of a price increase of"," ",u.jsxs("strong",{children:[e.requestedIncrease||e.priceIncreasePercent,"%"]})," ","for ",u.jsx("strong",{children:e.priceIncreased})," item(s) due to"," ",u.jsx("strong",{children:e.increaseRationale}),"."]}),u.jsxs("ul",{className:"list-[lower-alpha] ml-10 mb-4 space-y-2",children:[u.jsx("li",{children:e.backgroundInfo||"[Background information regarding your current prices, the applicable wage determination price levels (if applicable), and the increases necessary for your company.]"}),u.jsx("li",{children:e.justification||"[Justification for increase. If the EPA requested exceeds the allowable Ceiling Limit, provide specific justification and attach supporting documentation to the modification.] "}),u.jsxs("li",{children:[e.companyName," acknowledges that the proposed price increase will not become effective until the Contracting Officer executes the completed modification."]}),u.jsx("li",{children:"All prices offered to GSA include the current Industrial Funding Fee (IFF)."}),u.jsx("li",{children:e.cspStatement||"For non-TDR only: Statement that Commercial Sales Practices (CSP) Information in accordance with GSAR 552.238-81 PRICE REDUCTIONS (see most current Solicitation for clause/deviation effective date) previously submitted with the initial award (or contract modification) or CSP-1 has not changed, if applicable. If CSP has changed, provide updated CSP-1 in eMod."}),u.jsx("li",{children:e.confirmStatement||"This request conforms to the agreed upon EPA method."})]}),u.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete and accurate. All other terms and conditions remain the same."}),u.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",u.jsx("strong",{children:e.consultantName})," at The Winvale Group at"," ",u.jsx("strong",{children:e.consultantPhone})," or"," ",u.jsx("strong",{children:e.consultantEmail}),"."]}),u.jsx("p",{className:"mb-4",children:"Respectfully,"}),u.jsx("div",{children:u.jsxs("p",{children:["_________________________________",u.jsx("br",{}),e.negotiatorName||"AUTHORIZED NEGOTIATOR NAME",u.jsx("br",{}),e.negotiatorTitle||"[Title]","  Authorized to sign on behalf of"," ",e.companyName||"COMPANY NAME"]})})]}),eae=({data:e})=>u.jsxs("div",{className:"relative text-[14px] leading-[1.6] text-foreground px-12 py-10",style:{fontFamily:"'Times New Roman', Times, serif"},children:[u.jsx("div",{className:"absolute top-6 right-8",children:u.jsx("img",{src:"logo.png",alt:"Winvale",className:"h-10 w-35 object-contain"})}),u.jsx("p",{className:"mb-6",children:e.submissionDate}),u.jsxs("p",{className:"mb-6",children:["Attn: ",e.contractorName," (",e.contractNumber,") ",u.jsx("br",{}),"General Services Administration ",u.jsx("br",{}),e.gsaOfficeAddressLine," ",u.jsx("br",{}),e.gsaOfficeCityStateZip]}),u.jsx("div",{className:"mb-6",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Re:"})," ",u.jsx("strong",{children:e.companyName}),u.jsx("br",{}),u.jsxs("strong",{children:["Price Reduction Modification Based on a Commercial Price List to GSA Contract ",e.contractNumber]})]})}),u.jsxs("p",{className:"mb-4",children:["Dear ",e.salutation," ",e.contractorName,","]}),u.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of a price reduction modification based on a Commercial Price List to GSA Schedule Contract ",u.jsx("strong",{children:e.contractNumber})," under SIN"," ",u.jsx("strong",{children:e.sin_price_decrease}),". This request is in accordance with EPA Clause GSAM 538.270-4(a)(3). The modification consists of a price decrease of"," ",u.jsxs("strong",{children:[e.requestedDecrease||e.priceDecreasePercent,"%"]})," ","for ",u.jsx("strong",{children:e.priceDecreased})," item(s) due to"," ",u.jsx("strong",{children:e.decreaseRationale}),"."]}),u.jsxs("ul",{className:"list-disc ml-10 mb-4 space-y-2",children:[u.jsxs("li",{children:[e.companyName," acknowledges that this proposed price decrease will go into effect immediately, as of the date of submission."]}),u.jsx("li",{children:"All prices offered to GSA include the current IFF."}),u.jsx("li",{children:e.cspStatement||"For non-TDR contracts only: Commercial Sales Practices (CSP) information previously submitted in accordance with GSAR 552.238-81 Price Reductions remains accurate and unchanged. If CSP information has changed, an updated CSP-1 has been provided within eMod."})]}),u.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete, and accurate. All other terms and conditions remain the same."}),u.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",u.jsx("strong",{children:e.consultantName})," at The Winvale Group at"," ",u.jsx("strong",{children:e.consultantPhone})," or"," ",u.jsx("strong",{children:e.consultantEmail}),"."]}),u.jsx("p",{className:"mb-4",children:"Respectfully ,"}),u.jsx("div",{children:u.jsxs("p",{children:["_________________________________",u.jsx("br",{}),e.negotiatorName||"AUTHORIZED NEGOTIATOR NAME",u.jsx("br",{}),e.negotiatorTitle||"[Title]","  Authorized to sign on behalf of"," ",e.companyName||"COMPANY NAME"]})})]}),tae=({documentId:e,data:t})=>{const r=Xse(e);return u.jsx("div",{id:"document-export-root",className:"bg-white text-black w-full",children:(()=>{switch(r){case"addition":return u.jsx(Yse,{data:t});case"deletion":return u.jsx(Jse,{data:t});case"description-change":return u.jsx(Zse,{data:t});case"price-increase":return u.jsx(Qse,{data:t});case"price-decrease":return u.jsx(eae,{data:t});default:return null}})()})};var Hv={exports:{}},qv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3;function rae(){if(w3)return qv;w3=1;var e=Yh();function t(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,a=e.useLayoutEffect,i=e.useDebugValue;function o(m,x){var g=x(),v=n({inst:{value:g,getSnapshot:x}}),y=v[0].inst,w=v[1];return a(function(){y.value=g,y.getSnapshot=x,c(y)&&w({inst:y})},[m,g,x]),s(function(){return c(y)&&w({inst:y}),m(function(){c(y)&&w({inst:y})})},[m]),i(g),g}function c(m){var x=m.getSnapshot;m=m.value;try{var g=x();return!r(m,g)}catch{return!0}}function f(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return qv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,qv}var E3;function sI(){return E3||(E3=1,Hv.exports=rae()),Hv.exports}var aI=sI();function An(e){this.content=e}An.prototype={constructor:An,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var n=r&&r!=e?this.remove(r):this,s=n.find(e),a=n.content.slice();return s==-1?a.push(r||e,t):(a[s+1]=t,r&&(a[s]=r)),new An(a)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new An(r)},addToStart:function(e,t){return new An([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new An(r)},addBefore:function(e,t,r){var n=this.remove(t),s=n.content.slice(),a=n.find(e);return s.splice(a==-1?s.length:a,0,t,r),new An(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=An.from(e),e.size?new An(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=An.from(e),e.size?new An(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=An.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}};An.from=function(e){if(e instanceof An)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new An(t)};function iI(e,t,r){for(let n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:r;let s=e.child(n),a=t.child(n);if(s==a){r+=s.nodeSize;continue}if(!s.sameMarkup(a))return r;if(s.isText&&s.text!=a.text){for(let i=0;s.text[i]==a.text[i];i++)r++;return r}if(s.content.size||a.content.size){let i=iI(s.content,a.content,r+1);if(i!=null)return i}r+=s.nodeSize}}function oI(e,t,r,n){for(let s=e.childCount,a=t.childCount;;){if(s==0||a==0)return s==a?null:{a:r,b:n};let i=e.child(--s),o=t.child(--a),c=i.nodeSize;if(i==o){r-=c,n-=c;continue}if(!i.sameMarkup(o))return{a:r,b:n};if(i.isText&&i.text!=o.text){let f=0,h=Math.min(i.text.length,o.text.length);for(;f<h&&i.text[i.text.length-f-1]==o.text[o.text.length-f-1];)f++,r--,n--;return{a:r,b:n}}if(i.content.size||o.content.size){let f=oI(i.content,o.content,r-1,n-1);if(f)return f}r-=c,n-=c}}class $e{constructor(t,r){if(this.content=t,this.size=r||0,r==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,r,n,s=0,a){for(let i=0,o=0;o<r;i++){let c=this.content[i],f=o+c.nodeSize;if(f>t&&n(c,s+o,a||null,i)!==!1&&c.content.size){let h=o+1;c.nodesBetween(Math.max(0,t-h),Math.min(c.content.size,r-h),n,s+h)}o=f}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,n,s){let a="",i=!0;return this.nodesBetween(t,r,(o,c)=>{let f=o.isText?o.text.slice(Math.max(t,c)-c,r-c):o.isLeaf?s?typeof s=="function"?s(o):s:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&f||o.isTextblock)&&n&&(i?i=!1:a+=n),a+=f},0),a}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,n=t.firstChild,s=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),a=1);a<t.content.length;a++)s.push(t.content[a]);return new $e(s,this.size+t.size)}cut(t,r=this.size){if(t==0&&r==this.size)return this;let n=[],s=0;if(r>t)for(let a=0,i=0;i<r;a++){let o=this.content[a],c=i+o.nodeSize;c>t&&((i<t||c>r)&&(o.isText?o=o.cut(Math.max(0,t-i),Math.min(o.text.length,r-i)):o=o.cut(Math.max(0,t-i-1),Math.min(o.content.size,r-i-1))),n.push(o),s+=o.nodeSize),i=c}return new $e(n,s)}cutByIndex(t,r){return t==r?$e.empty:t==0&&r==this.content.length?this:new $e(this.content.slice(t,r))}replaceChild(t,r){let n=this.content[t];if(n==r)return this;let s=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return s[t]=r,new $e(s,a)}addToStart(t){return new $e([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new $e(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];t(s,n,r),n+=s.nodeSize}}findDiffStart(t,r=0){return iI(this,t,r)}findDiffEnd(t,r=this.size,n=t.size){return oI(this,t,r,n)}findIndex(t){if(t==0)return om(0,t);if(t==this.size)return om(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let s=this.child(r),a=n+s.nodeSize;if(a>=t)return a==t?om(r+1,a):om(r,n);n=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return $e.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new $e(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return $e.empty;let r,n=0;for(let s=0;s<t.length;s++){let a=t[s];n+=a.nodeSize,s&&a.isText&&t[s-1].sameMarkup(a)?(r||(r=t.slice(0,s)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new $e(r||t,n)}static from(t){if(!t)return $e.empty;if(t instanceof $e)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new $e([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$e.empty=new $e([],0);const Vv={index:0,offset:0};function om(e,t){return Vv.index=e,Vv.offset=t,Vv}function yx(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!yx(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!yx(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let ir=class z2{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(this.eq(a))return t;if(this.type.excludes(a.type))r||(r=t.slice(0,s));else{if(a.type.excludes(this.type))return t;!n&&a.type.rank>this.type.rank&&(r||(r=t.slice(0,s)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=t.slice()),n||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&yx(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(r[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return z2.none;if(t instanceof z2)return[t];let r=t.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};ir.none=[];class vx extends Error{}class rt{constructor(t,r,n){this.content=t,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let n=cI(this.content,t+this.openStart,r);return n&&new rt(n,this.openStart,this.openEnd)}removeBetween(t,r){return new rt(lI(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return rt.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new rt($e.fromJSON(t,r.content),n,s)}static maxOpen(t,r=!0){let n=0,s=0;for(let a=t.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=t.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)s++;return new rt(t,n,s)}}rt.empty=new rt($e.empty,0,0);function lI(e,t,r){let{index:n,offset:s}=e.findIndex(t),a=e.maybeChild(n),{index:i,offset:o}=e.findIndex(r);if(s==t||a.isText){if(o!=r&&!e.child(i).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(n!=i)throw new RangeError("Removing non-flat range");return e.replaceChild(n,a.copy(lI(a.content,t-s-1,r-s-1)))}function cI(e,t,r,n){let{index:s,offset:a}=e.findIndex(t),i=e.maybeChild(s);if(a==t||i.isText)return n&&!n.canReplace(s,s,r)?null:e.cut(0,t).append(r).append(e.cut(t));let o=cI(i.content,t-a-1,r,i);return o&&e.replaceChild(s,i.copy(o))}function nae(e,t,r){if(r.openStart>e.depth)throw new vx("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new vx("Inconsistent open depths");return uI(e,t,r,0)}function uI(e,t,r,n){let s=e.index(n),a=e.node(n);if(s==t.index(n)&&n<e.depth-r.openStart){let i=uI(e,t,r,n+1);return a.copy(a.content.replaceChild(s,i))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==n&&t.depth==n){let i=e.parent,o=i.content;return yc(i,o.cut(0,e.parentOffset).append(r.content).append(o.cut(t.parentOffset)))}else{let{start:i,end:o}=sae(r,e);return yc(a,fI(e,i,o,t,n))}else return yc(a,bx(e,t,n))}function dI(e,t){if(!t.type.compatibleContent(e.type))throw new vx("Cannot join "+t.type.name+" onto "+e.type.name)}function H2(e,t,r){let n=e.node(r);return dI(n,t.node(r)),n}function gc(e,t){let r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function dh(e,t,r,n){let s=(t||e).node(r),a=0,i=t?t.index(r):s.childCount;e&&(a=e.index(r),e.depth>r?a++:e.textOffset&&(gc(e.nodeAfter,n),a++));for(let o=a;o<i;o++)gc(s.child(o),n);t&&t.depth==r&&t.textOffset&&gc(t.nodeBefore,n)}function yc(e,t){return e.type.checkContent(t),e.copy(t)}function fI(e,t,r,n,s){let a=e.depth>s&&H2(e,t,s+1),i=n.depth>s&&H2(r,n,s+1),o=[];return dh(null,e,s,o),a&&i&&t.index(s)==r.index(s)?(dI(a,i),gc(yc(a,fI(e,t,r,n,s+1)),o)):(a&&gc(yc(a,bx(e,t,s+1)),o),dh(t,r,s,o),i&&gc(yc(i,bx(r,n,s+1)),o)),dh(n,null,s,o),new $e(o)}function bx(e,t,r){let n=[];if(dh(null,e,r,n),e.depth>r){let s=H2(e,t,r+1);gc(yc(s,bx(e,t,r+1)),n)}return dh(t,null,r,n),new $e(n)}function sae(e,t){let r=t.depth-e.openStart,s=t.node(r).copy(e.content);for(let a=r-1;a>=0;a--)s=t.node(a).copy($e.from(s));return{start:s.resolveNoCache(e.openStart+r),end:s.resolveNoCache(s.content.size-e.openEnd-r)}}class Bh{constructor(t,r,n){this.pos=t,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=t.child(r);return n?t.child(r).cut(n):s}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):t==0?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let a=0;a<t;a++)s+=n.child(a).nodeSize;return s}marks(){let t=this.parent,r=this.index();if(t.content.size==0)return ir.none;if(this.textOffset)return t.child(r).marks;let n=t.maybeChild(r-1),s=t.maybeChild(r);if(!n){let o=n;n=s,s=o}let a=n.marks;for(var i=0;i<a.length;i++)a[i].type.spec.inclusive===!1&&(!s||!a[i].isInSet(s.marks))&&(a=a[i--].removeFromSet(a));return a}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=t.parent.maybeChild(t.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!s||!n[a].isInSet(s.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!r||r(this.node(n))))return new wx(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,a=r;for(let i=t;;){let{index:o,offset:c}=i.content.findIndex(a),f=a-c;if(n.push(i,o,s+c),!f||(i=i.child(o),i.isText))break;a=f-1,s+=c+1}return new Bh(r,n,a)}static resolveCached(t,r){let n=_3.get(t);if(n)for(let a=0;a<n.elts.length;a++){let i=n.elts[a];if(i.pos==r)return i}else _3.set(t,n=new aae);let s=n.elts[n.i]=Bh.resolve(t,r);return n.i=(n.i+1)%iae,s}}class aae{constructor(){this.elts=[],this.i=0}}const iae=12,_3=new WeakMap;class wx{constructor(t,r,n){this.$from=t,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const oae=Object.create(null);class $a{constructor(t,r,n,s=ir.none){this.type=t,this.attrs=r,this.marks=s,this.content=n||$e.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,n,s=0){this.content.nodesBetween(t,r,n,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,n,s){return this.content.textBetween(t,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,n){return this.type==t&&yx(this.attrs,r||t.defaultAttrs||oae)&&ir.sameSet(this.marks,n||ir.none)}copy(t=null){return t==this.content?this:new $a(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new $a(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,n=!1){if(t==r)return rt.empty;let s=this.resolve(t),a=this.resolve(r),i=n?0:s.sharedDepth(r),o=s.start(i),f=s.node(i).content.cut(s.pos-o,a.pos-o);return new rt(f,s.depth-i,a.depth-i)}replace(t,r,n){return nae(this.resolve(t),this.resolve(r),n)}nodeAt(t){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(t);if(r=r.maybeChild(n),!r)return null;if(s==t||r.isText)return r;t-=s+1}}childAfter(t){let{index:r,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(t){return Bh.resolveCached(this,t)}resolveNoCache(t){return Bh.resolve(this,t)}rangeHasMark(t,r,n){let s=!1;return r>t&&this.nodesBetween(t,r,a=>(n.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),hI(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,n=$e.empty,s=0,a=n.childCount){let i=this.contentMatchAt(t).matchFragment(n,s,a),o=i&&i.matchFragment(this.content,r);if(!o||!o.validEnd)return!1;for(let c=s;c<a;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(t,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(t).matchType(n),i=a&&a.matchFragment(this.content,r);return i?i.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=ir.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!ir.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,n)}let s=$e.fromJSON(t,r.content),a=t.nodeType(r.type).create(r.attrs,s,n);return a.type.checkAttrs(a.attrs),a}}$a.prototype.text=void 0;class Ex extends $a{constructor(t,r,n,s){if(super(t,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):hI(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Ex(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Ex(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return t==0&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function hI(e,t){for(let r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}class jc{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let n=new lae(t,r);if(n.next==null)return jc.empty;let s=pI(n);n.next&&n.err("Unexpected trailing text");let a=mae(pae(s));return xae(a,n),a}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,n=t.childCount){let s=this;for(let a=r;s&&a<n;a++)s=s.matchType(t.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let n=0;n<t.next.length;n++)if(this.next[r].type==t.next[n].type)return!0;return!1}fillBefore(t,r=!1,n=0){let s=[this];function a(i,o){let c=i.matchFragment(t,n);if(c&&(!r||c.validEnd))return $e.from(o.map(f=>f.createAndFill()));for(let f=0;f<i.next.length;f++){let{type:h,next:m}=i.next[f];if(!(h.isText||h.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let x=a(m,o.concat(h));if(x)return x}}return null}return a(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),a=s.match;if(a.matchType(t)){let i=[];for(let o=s;o.type;o=o.via)i.push(o.type);return i.reverse()}for(let i=0;i<a.next.length;i++){let{type:o,next:c}=a.next[i];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in r)&&(!s.type||c.validEnd)&&(n.push({match:o.contentMatch,type:o,via:s}),r[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function r(n){t.push(n);for(let s=0;s<n.next.length;s++)t.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),t.map((n,s)=>{let a=s+(n.validEnd?"*":" ")+" ";for(let i=0;i<n.next.length;i++)a+=(i?", ":"")+n.next[i].type.name+"->"+t.indexOf(n.next[i].next);return a}).join(`
`)}}jc.empty=new jc(!0);class lae{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function pI(e){let t=[];do t.push(cae(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function cae(e){let t=[];do t.push(uae(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function uae(e){let t=hae(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=dae(e,t);else break;return t}function S3(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function dae(e,t){let r=S3(e),n=r;return e.eat(",")&&(e.next!="}"?n=S3(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:t}}function fae(e,t){let r=e.nodeTypes,n=r[t];if(n)return[n];let s=[];for(let a in r){let i=r[a];i.isInGroup(t)&&s.push(i)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function hae(e){if(e.eat("(")){let t=pI(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=fae(e,e.next).map(r=>(e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function pae(e){let t=[[]];return s(a(e,0),r()),t;function r(){return t.push([])-1}function n(i,o,c){let f={term:c,to:o};return t[i].push(f),f}function s(i,o){i.forEach(c=>c.to=o)}function a(i,o){if(i.type=="choice")return i.exprs.reduce((c,f)=>c.concat(a(f,o)),[]);if(i.type=="seq")for(let c=0;;c++){let f=a(i.exprs[c],o);if(c==i.exprs.length-1)return f;s(f,o=r())}else if(i.type=="star"){let c=r();return n(o,c),s(a(i.expr,c),c),[n(c)]}else if(i.type=="plus"){let c=r();return s(a(i.expr,o),c),s(a(i.expr,c),c),[n(c)]}else{if(i.type=="opt")return[n(o)].concat(a(i.expr,o));if(i.type=="range"){let c=o;for(let f=0;f<i.min;f++){let h=r();s(a(i.expr,c),h),c=h}if(i.max==-1)s(a(i.expr,c),c);else for(let f=i.min;f<i.max;f++){let h=r();n(c,h),s(a(i.expr,c),h),c=h}return[n(c)]}else{if(i.type=="name")return[n(o,void 0,i.value)];throw new Error("Unknown expr type")}}}}function mI(e,t){return t-e}function N3(e,t){let r=[];return n(t),r.sort(mI);function n(s){let a=e[s];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(s);for(let i=0;i<a.length;i++){let{term:o,to:c}=a[i];!o&&r.indexOf(c)==-1&&n(c)}}}function mae(e){let t=Object.create(null);return r(N3(e,0));function r(n){let s=[];n.forEach(i=>{e[i].forEach(({term:o,to:c})=>{if(!o)return;let f;for(let h=0;h<s.length;h++)s[h][0]==o&&(f=s[h][1]);N3(e,c).forEach(h=>{f||s.push([o,f=[]]),f.indexOf(h)==-1&&f.push(h)})})});let a=t[n.join(",")]=new jc(n.indexOf(e.length-1)>-1);for(let i=0;i<s.length;i++){let o=s[i][1].sort(mI);a.next.push({type:s[i][0],next:t[o.join(",")]||r(o)})}return a}}function xae(e,t){for(let r=0,n=[e];r<n.length;r++){let s=n[r],a=!s.validEnd,i=[];for(let o=0;o<s.next.length;o++){let{type:c,next:f}=s.next[o];i.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),n.indexOf(f)==-1&&n.push(f)}a&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function xI(e){let t=Object.create(null);for(let r in e){let n=e[r];if(!n.hasDefault)return null;t[r]=n.default}return t}function gI(e,t){let r=Object.create(null);for(let n in e){let s=t&&t[n];if(s===void 0){let a=e[n];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function yI(e,t,r,n){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in e){let a=e[s];a.validate&&a.validate(t[s])}}function vI(e,t){let r=Object.create(null);if(t)for(let n in t)r[n]=new yae(e,n,t[n]);return r}let T3=class bI{constructor(t,r,n){this.name=t,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=vI(t,n.attrs),this.defaultAttrs=xI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==jc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:gI(this.attrs,t)}create(t=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $a(this,this.computeAttrs(t),$e.from(r),ir.setFrom(n))}createChecked(t=null,r,n){return r=$e.from(r),this.checkContent(r),new $a(this,this.computeAttrs(t),r,ir.setFrom(n))}createAndFill(t=null,r,n){if(t=this.computeAttrs(t),r=$e.from(r),r.size){let i=this.contentMatch.fillBefore(r);if(!i)return null;r=i.append(r)}let s=this.contentMatch.matchFragment(r),a=s&&s.fillBefore($e.empty,!0);return a?new $a(this,t,r.append(a),ir.setFrom(n)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){yI(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let r;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?r&&r.push(t[n]):r||(r=t.slice(0,n));return r?r.length?r:ir.none:t}static compile(t,r){let n=Object.create(null);t.forEach((a,i)=>n[a]=new bI(a,r,i));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function gae(e,t,r){let n=r.split("|");return s=>{let a=s===null?"null":typeof s;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${e}, got ${a}`)}}class yae{constructor(t,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?gae(t,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Pg{constructor(t,r,n,s){this.name=t,this.rank=r,this.schema=n,this.spec=s,this.attrs=vI(t,s.attrs),this.excluded=null;let a=xI(this.attrs);this.instance=a?new ir(this,a):null}create(t=null){return!t&&this.instance?this.instance:new ir(this,gI(this.attrs,t))}static compile(t,r){let n=Object.create(null),s=0;return t.forEach((a,i)=>n[a]=new Pg(a,s++,r,i)),n}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}checkAttrs(t){yI(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class wI{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in t)r[s]=t[s];r.nodes=An.from(t.nodes),r.marks=An.from(t.marks||{}),this.nodes=T3.compile(this.spec.nodes,this),this.marks=Pg.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],i=a.spec.content||"",o=a.spec.marks;if(a.contentMatch=n[i]||(n[i]=jc.parse(i,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=o=="_"?null:o?C3(this,o.split(" ")):o==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],i=a.spec.excludes;a.excluded=i==null?[a]:i==""?[]:C3(this,i.split(" "))}this.nodeFromJSON=s=>$a.fromJSON(this,s),this.markFromJSON=s=>ir.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,n,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof T3){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(r,n,s)}text(t,r){let n=this.nodes.text;return new Ex(n,n.defaultAttrs,t,ir.setFrom(r))}mark(t,r){return typeof t=="string"&&(t=this.marks[t]),t.create(r)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}function C3(e,t){let r=[];for(let n=0;n<t.length;n++){let s=t[n],a=e.marks[s],i=a;if(a)r.push(a);else for(let o in e.marks){let c=e.marks[o];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&r.push(i=c)}if(!i)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return r}function vae(e){return e.tag!=null}function bae(e){return e.style!=null}class xl{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(vae(s))this.tags.push(s);else if(bae(s)){let a=/[^=]*/.exec(s.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=t.nodes[s.node];return a.contentMatch.matchType(a)})}parse(t,r={}){let n=new k3(this,r,!1);return n.addAll(t,ir.none,r.from,r.to),n.finish()}parseSlice(t,r={}){let n=new k3(this,r,!0);return n.addAll(t,ir.none,r.from,r.to),rt.maxOpen(n.finish())}matchTag(t,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(_ae(t,a.tag)&&(a.namespace===void 0||t.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let i=a.getAttrs(t);if(i===!1)continue;a.attrs=i||void 0}return a}}}matchStyle(t,r,n,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let i=this.styles[a],o=i.style;if(!(o.indexOf(t)!=0||i.context&&!n.matchesContext(i.context)||o.length>t.length&&(o.charCodeAt(t.length)!=61||o.slice(t.length+1)!=r))){if(i.getAttrs){let c=i.getAttrs(r);if(c===!1)continue;i.attrs=c||void 0}return i}}}static schemaRules(t){let r=[];function n(s){let a=s.priority==null?50:s.priority,i=0;for(;i<r.length;i++){let o=r[i];if((o.priority==null?50:o.priority)<a)break}r.splice(i,0,s)}for(let s in t.marks){let a=t.marks[s].spec.parseDOM;a&&a.forEach(i=>{n(i=R3(i)),i.mark||i.ignore||i.clearMark||(i.mark=s)})}for(let s in t.nodes){let a=t.nodes[s].spec.parseDOM;a&&a.forEach(i=>{n(i=R3(i)),i.node||i.ignore||i.mark||(i.node=s)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new xl(t,xl.schemaRules(t)))}}const EI={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},wae={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},_I={ol:!0,ul:!0},Uh=1,q2=2,fh=4;function A3(e,t,r){return t!=null?(t?Uh:0)|(t==="full"?q2:0):e&&e.whitespace=="pre"?Uh|q2:r&~fh}class lm{constructor(t,r,n,s,a,i){this.type=t,this.attrs=r,this.marks=n,this.solid=s,this.options=i,this.content=[],this.activeMarks=ir.none,this.match=a||(i&fh?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore($e.from(t));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(t.type))?(this.match=n,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Uh)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let r=$e.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore($e.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!EI.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class k3{constructor(t,r,n){this.parser=t,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=r.topNode,a,i=A3(null,r.preserveWhitespace,0)|(n?fh:0);s?a=new lm(s.type,s.attrs,ir.none,!0,r.topMatch||s.type.contentMatch,i):n?a=new lm(null,null,ir.none,!0,null,i):a=new lm(t.schema.topNodeType,null,ir.none,!0,null,i),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,r){t.nodeType==3?this.addTextNode(t,r):t.nodeType==1&&this.addElement(t,r)}addTextNode(t,r){let n=t.nodeValue,s=this.top,a=s.options&q2?"full":this.localPreserveWS||(s.options&Uh)>0,{schema:i}=this.parser;if(a==="full"||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(a)if(a==="full")n=n.replace(/\r\n?/g,`
`);else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let o=n.split(/\r?\n|\r/);for(let c=0;c<o.length;c++)c&&this.insertNode(i.linebreakReplacement.create(),r,!0),o[c]&&this.insertNode(i.text(o[c]),r,!/\S/.test(o[c]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],c=t.previousSibling;(!o||c&&c.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),r,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,r,n){let s=this.localPreserveWS,a=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let i=t.nodeName.toLowerCase(),o;_I.hasOwnProperty(i)&&this.parser.normalizeLists&&Eae(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,n));e:if(c?c.ignore:wae.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let f,h=this.needsBlock;if(EI.hasOwnProperty(i))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),f=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,r);break e}let m=c&&c.skip?r:this.readStyles(t,r);m&&this.addAll(t,m),f&&this.sync(a),this.needsBlock=h}else{let f=this.readStyles(t,r);f&&this.addElementByRule(t,c,f,c.consuming===!1?o:void 0)}this.localPreserveWS=s}leafFallback(t,r){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),r)}ignoreFallback(t,r){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(t,r){let n=t.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],i=n.getPropertyValue(a);if(i)for(let o=void 0;;){let c=this.parser.matchStyle(a,i,this,o);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(f=>!c.clearMark(f)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)o=c;else break}}return r}addElementByRule(t,r,n,s){let a,i;if(r.node)if(i=this.parser.schema.nodes[r.node],i.isLeaf)this.insertNode(i.create(r.attrs),n,t.nodeName=="BR")||this.leafFallback(t,n);else{let c=this.enter(i,r.attrs||null,n,r.preserveWhitespace);c&&(a=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let o=this.top;if(i&&i.isLeaf)this.findInside(t);else if(s)this.addElement(t,n,s);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=t;typeof r.contentElement=="string"?c=t.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(t):r.contentElement&&(c=r.contentElement),this.findAround(t,c,!0),this.addAll(c,n),this.findAround(t,c,!1)}a&&this.sync(o)&&this.open--}addAll(t,r,n,s){let a=n||0;for(let i=n?t.childNodes[n]:t.firstChild,o=s==null?null:t.childNodes[s];i!=o;i=i.nextSibling,++a)this.findAtPoint(t,a),this.addDOM(i,r);this.findAtPoint(t,a)}findPlace(t,r,n){let s,a;for(let i=this.open,o=0;i>=0;i--){let c=this.nodes[i],f=c.findWrapping(t);if(f&&(!s||s.length>f.length+o)&&(s=f,a=c,!f.length))break;if(c.solid){if(n)break;o+=2}}if(!s)return null;this.sync(a);for(let i=0;i<s.length;i++)r=this.enterInner(s[i],null,r,!1);return r}insertNode(t,r,n){if(t.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(r=this.enterInner(a,null,r))}let s=this.findPlace(t,r,n);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(t.type));let i=ir.none;for(let o of s.concat(t.marks))(a.type?a.type.allowsMarkType(o.type):j3(o.type,t.type))&&(i=o.addToSet(i));return a.content.push(t.mark(i)),!0}return!1}enter(t,r,n,s){let a=this.findPlace(t.create(r),n,!1);return a&&(a=this.enterInner(t,r,n,!0,s)),a}enterInner(t,r,n,s=!1,a){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(t);let o=A3(t,a,i.options);i.options&fh&&i.content.length==0&&(o|=fh);let c=ir.none;return n=n.filter(f=>(i.type?i.type.allowsMarkType(f.type):j3(f.type,t))?(c=f.addToSet(c),!1):!0),this.nodes.push(new lm(t,r,c,s,null,o)),this.open++,n}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let r=this.open;r>=0;r--){if(this.nodes[r]==t)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Uh)}return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)t+=n[s].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,n){if(t!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(s?0:1),i=(o,c)=>{for(;o>=0;o--){let f=r[o];if(f==""){if(o==r.length-1||o==0)continue;for(;c>=a;c--)if(i(o-1,c))return!0;return!1}else{let h=c>0||c==0&&s?this.nodes[c].type:n&&c>=a?n.node(c-a).type:null;if(!h||h.name!=f&&!h.isInGroup(f))return!1;c--}}return!0};return i(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let n=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function Eae(e){for(let t=e.firstChild,r=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&_I.hasOwnProperty(n)&&r?(r.appendChild(t),t=r):n=="li"?r=t:n&&(r=null)}}function _ae(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function R3(e){let t={};for(let r in e)t[r]=e[r];return t}function j3(e,t){let r=t.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(e))continue;let a=[],i=o=>{a.push(o);for(let c=0;c<o.edgeCount;c++){let{type:f,next:h}=o.edge(c);if(f==t||a.indexOf(h)<0&&i(h))return!0}};if(i(s.contentMatch))return!0}}class qc{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},n){n||(n=$v(r).createDocumentFragment());let s=n,a=[];return t.forEach(i=>{if(a.length||i.marks.length){let o=0,c=0;for(;o<a.length&&c<i.marks.length;){let f=i.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(a[o][0])||f.type.spec.spanning===!1)break;o++,c++}for(;o<a.length;)s=a.pop()[1];for(;c<i.marks.length;){let f=i.marks[c++],h=this.serializeMark(f,i.isInline,r);h&&(a.push([f,s]),s.appendChild(h.dom),s=h.contentDOM||h.dom)}}s.appendChild(this.serializeNodeInner(i,r))}),n}serializeNodeInner(t,r){let{dom:n,contentDOM:s}=qm($v(r),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,s)}return n}serializeNode(t,r={}){let n=this.serializeNodeInner(t,r);for(let s=t.marks.length-1;s>=0;s--){let a=this.serializeMark(t.marks[s],t.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(t,r,n={}){let s=this.marks[t.type.name];return s&&qm($v(n),s(t,r),null,t.attrs)}static renderSpec(t,r,n=null,s){return qm(t,r,n,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new qc(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=O3(t.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(t){return O3(t.marks)}}function O3(e){let t={};for(let r in e){let n=e[r].spec.toDOM;n&&(t[r]=n)}return t}function $v(e){return e.document||window.document}const D3=new WeakMap;function Sae(e){let t=D3.get(e);return t===void 0&&D3.set(e,t=Nae(e)),t}function Nae(e){let t=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(e),t}function qm(e,t,r,n){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=Sae(n))&&a.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=s.indexOf(" ");i>0&&(r=s.slice(0,i),s=s.slice(i+1));let o,c=r?e.createElementNS(r,s):e.createElement(s),f=t[1],h=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){h=2;for(let m in f)if(f[m]!=null){let x=m.indexOf(" ");x>0?c.setAttributeNS(m.slice(0,x),m.slice(x+1),f[m]):m=="style"&&c.style?c.style.cssText=f[m]:c.setAttribute(m,f[m])}}for(let m=h;m<t.length;m++){let x=t[m];if(x===0){if(m<t.length-1||m>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:v}=qm(e,x,r,n);if(c.appendChild(g),v){if(o)throw new RangeError("Multiple content holes");o=v}}}return{dom:c,contentDOM:o}}const SI=65535,NI=Math.pow(2,16);function Tae(e,t){return e+t*NI}function I3(e){return e&SI}function Cae(e){return(e-(e&SI))/NI}const TI=1,CI=2,Vm=4,AI=8;class V2{constructor(t,r,n){this.pos=t,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&AI)>0}get deletedBefore(){return(this.delInfo&(TI|Vm))>0}get deletedAfter(){return(this.delInfo&(CI|Vm))>0}get deletedAcross(){return(this.delInfo&Vm)>0}}class qs{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&qs.empty)return qs.empty}recover(t){let r=0,n=I3(t);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+Cae(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,n){let s=0,a=this.inverted?2:1,i=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?s:0);if(c>t)break;let f=this.ranges[o+a],h=this.ranges[o+i],m=c+f;if(t<=m){let x=f?t==c?-1:t==m?1:r:r,g=c+s+(x<0?0:h);if(n)return g;let v=t==(r<0?c:m)?null:Tae(o/3,t-c),y=t==c?CI:t==m?TI:Vm;return(r<0?t!=c:t!=m)&&(y|=AI),new V2(g,y,v)}s+=h-f}return n?t+s:new V2(t+s,0,null)}touches(t,r){let n=0,s=I3(r),a=this.inverted?2:1,i=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?n:0);if(c>t)break;let f=this.ranges[o+a],h=c+f;if(t<=h&&o==s*3)return!0;n+=this.ranges[o+i]-f}return!1}forEach(t){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let i=this.ranges[s],o=i-(this.inverted?a:0),c=i+(this.inverted?0:a),f=this.ranges[s+r],h=this.ranges[s+n];t(o,o+f,c,c+h),a+=h-f}}invert(){return new qs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?qs.empty:new qs(t<0?[0,-t,0]:[0,0,t])}}qs.empty=new qs([]);class zh{constructor(t,r,n=0,s=t?t.length:0){this.mirror=r,this.from=n,this.to=s,this._maps=t||[],this.ownData=!(t||r)}get maps(){return this._maps}slice(t=0,r=this.maps.length){return new zh(this._maps,this.mirror,t,r)}appendMap(t,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(t){for(let r=0,n=this._maps.length;r<t._maps.length;r++){let s=t.getMirror(r);this.appendMap(t._maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(t){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,n=this._maps.length+t._maps.length;r>=0;r--){let s=t.getMirror(r);this.appendMap(t._maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let t=new zh;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,n){let s=0;for(let a=this.from;a<this.to;a++){let i=this._maps[a],o=i.mapResult(t,r);if(o.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,t=this._maps[c].recover(o.recover);continue}}s|=o.delInfo,t=o.pos}return n?t:new V2(t,s,null)}}const Wv=Object.create(null);class Jn{getMap(){return qs.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Wv[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in Wv)throw new RangeError("Duplicate use of step JSON ID "+t);return Wv[t]=r,r.prototype.jsonID=t,r}}class Qr{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new Qr(t,null)}static fail(t){return new Qr(null,t)}static fromReplace(t,r,n,s){try{return Qr.ok(t.replace(r,n,s))}catch(a){if(a instanceof vx)return Qr.fail(a.message);throw a}}}function I_(e,t,r){let n=[];for(let s=0;s<e.childCount;s++){let a=e.child(s);a.content.size&&(a=a.copy(I_(a.content,t,a))),a.isInline&&(a=t(a,r,s)),n.push(a)}return $e.fromArray(n)}class ul extends Jn{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=t.resolve(this.from),s=n.node(n.sharedDepth(this.to)),a=new rt(I_(r.content,(i,o)=>!i.isAtom||!o.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),s),r.openStart,r.openEnd);return Qr.fromReplace(t,this.from,this.to,a)}invert(){return new qa(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new ul(r.pos,n.pos,this.mark)}merge(t){return t instanceof ul&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ul(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ul(r.from,r.to,t.markFromJSON(r.mark))}}Jn.jsonID("addMark",ul);class qa extends Jn{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=new rt(I_(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),r.openStart,r.openEnd);return Qr.fromReplace(t,this.from,this.to,n)}invert(){return new ul(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new qa(r.pos,n.pos,this.mark)}merge(t){return t instanceof qa&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new qa(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qa(r.from,r.to,t.markFromJSON(r.mark))}}Jn.jsonID("removeMark",qa);class dl extends Jn{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Qr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Qr.fromReplace(t,this.pos,this.pos+1,new rt($e.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new dl(this.pos,r.marks[s]);return new dl(this.pos,this.mark)}}return new Oc(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new dl(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new dl(r.pos,t.markFromJSON(r.mark))}}Jn.jsonID("addNodeMark",dl);class Oc extends Jn{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Qr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Qr.fromReplace(t,this.pos,this.pos+1,new rt($e.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new dl(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Oc(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Oc(r.pos,t.markFromJSON(r.mark))}}Jn.jsonID("removeNodeMark",Oc);class yn extends Jn{constructor(t,r,n,s=!1){super(),this.from=t,this.to=r,this.slice=n,this.structure=s}apply(t){return this.structure&&$2(t,this.from,this.to)?Qr.fail("Structure replace would overwrite content"):Qr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new qs([this.from,this.to-this.from,this.slice.size])}invert(t){return new yn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new yn(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof yn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let r=this.slice.size+t.slice.size==0?rt.empty:new rt(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new yn(this.from,this.to+(t.to-t.from),r,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let r=this.slice.size+t.slice.size==0?rt.empty:new rt(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new yn(t.from,this.to,r,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new yn(r.from,r.to,rt.fromJSON(t,r.slice),!!r.structure)}}Jn.jsonID("replace",yn);class wn extends Jn{constructor(t,r,n,s,a,i,o=!1){super(),this.from=t,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=a,this.insert=i,this.structure=o}apply(t){if(this.structure&&($2(t,this.from,this.gapFrom)||$2(t,this.gapTo,this.to)))return Qr.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Qr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Qr.fromReplace(t,this.from,this.to,n):Qr.fail("Content does not fit in gap")}getMap(){return new qs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new wn(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:t.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||a>n.pos?null:new wn(r.pos,n.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new wn(r.from,r.to,r.gapFrom,r.gapTo,rt.fromJSON(t,r.slice),r.insert,!!r.structure)}}Jn.jsonID("replaceAround",wn);function $2(e,t,r){let n=e.resolve(t),s=r-t,a=n.depth;for(;s>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,s--;if(s>0){let i=n.node(a).maybeChild(n.indexAfter(a));for(;s>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,s--}}return!1}function Aae(e,t,r,n){let s=[],a=[],i,o;e.doc.nodesBetween(t,r,(c,f,h)=>{if(!c.isInline)return;let m=c.marks;if(!n.isInSet(m)&&h.type.allowsMarkType(n.type)){let x=Math.max(f,t),g=Math.min(f+c.nodeSize,r),v=n.addToSet(m);for(let y=0;y<m.length;y++)m[y].isInSet(v)||(i&&i.to==x&&i.mark.eq(m[y])?i.to=g:s.push(i=new qa(x,g,m[y])));o&&o.to==x?o.to=g:a.push(o=new ul(x,g,n))}}),s.forEach(c=>e.step(c)),a.forEach(c=>e.step(c))}function kae(e,t,r,n){let s=[],a=0;e.doc.nodesBetween(t,r,(i,o)=>{if(!i.isInline)return;a++;let c=null;if(n instanceof Pg){let f=i.marks,h;for(;h=n.isInSet(f);)(c||(c=[])).push(h),f=h.removeFromSet(f)}else n?n.isInSet(i.marks)&&(c=[n]):c=i.marks;if(c&&c.length){let f=Math.min(o+i.nodeSize,r);for(let h=0;h<c.length;h++){let m=c[h],x;for(let g=0;g<s.length;g++){let v=s[g];v.step==a-1&&m.eq(s[g].style)&&(x=v)}x?(x.to=f,x.step=a):s.push({style:m,from:Math.max(o,t),to:f,step:a})}}}),s.forEach(i=>e.step(new qa(i.from,i.to,i.style)))}function M_(e,t,r,n=r.contentMatch,s=!0){let a=e.doc.nodeAt(t),i=[],o=t+1;for(let c=0;c<a.childCount;c++){let f=a.child(c),h=o+f.nodeSize,m=n.matchType(f.type);if(!m)i.push(new yn(o,h,rt.empty));else{n=m;for(let x=0;x<f.marks.length;x++)r.allowsMarkType(f.marks[x].type)||e.step(new qa(o,h,f.marks[x]));if(s&&f.isText&&r.whitespace!="pre"){let x,g=/\r?\n|\r/g,v;for(;x=g.exec(f.text);)v||(v=new rt($e.from(r.schema.text(" ",r.allowedMarks(f.marks))),0,0)),i.push(new yn(o+x.index,o+x.index+x[0].length,v))}}o=h}if(!n.validEnd){let c=n.fillBefore($e.empty,!0);e.replace(o,o,new rt(c,0,0))}for(let c=i.length-1;c>=0;c--)e.step(i[c])}function Rae(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function jd(e){let r=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,s=0,a=0;;--n){let i=e.$from.node(n),o=e.$from.index(n)+s,c=e.$to.indexAfter(n)-a;if(n<e.depth&&i.canReplace(o,c,r))return n;if(n==0||i.type.spec.isolating||!Rae(i,o,c))break;o&&(s=1),c<i.childCount&&(a=1)}return null}function jae(e,t,r){let{$from:n,$to:s,depth:a}=t,i=n.before(a+1),o=s.after(a+1),c=i,f=o,h=$e.empty,m=0;for(let v=a,y=!1;v>r;v--)y||n.index(v)>0?(y=!0,h=$e.from(n.node(v).copy(h)),m++):c--;let x=$e.empty,g=0;for(let v=a,y=!1;v>r;v--)y||s.after(v+1)<s.end(v)?(y=!0,x=$e.from(s.node(v).copy(x)),g++):f++;e.step(new wn(c,f,i,o,new rt(h.append(x),m,g),h.size-m,!0))}function F_(e,t,r=null,n=e){let s=Oae(e,t),a=s&&Dae(n,t);return a?s.map(M3).concat({type:t,attrs:r}).concat(a.map(M3)):null}function M3(e){return{type:e,attrs:null}}function Oae(e,t){let{parent:r,startIndex:n,endIndex:s}=e,a=r.contentMatchAt(n).findWrapping(t);if(!a)return null;let i=a.length?a[0]:t;return r.canReplaceWith(n,s,i)?a:null}function Dae(e,t){let{parent:r,startIndex:n,endIndex:s}=e,a=r.child(n),i=t.contentMatch.findWrapping(a.type);if(!i)return null;let c=(i.length?i[i.length-1]:t).contentMatch;for(let f=n;c&&f<s;f++)c=c.matchType(r.child(f).type);return!c||!c.validEnd?null:i}function Iae(e,t,r){let n=$e.empty;for(let i=r.length-1;i>=0;i--){if(n.size){let o=r[i].type.contentMatch.matchFragment(n);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=$e.from(r[i].type.create(r[i].attrs,n))}let s=t.start,a=t.end;e.step(new wn(s,a,s,a,new rt(n,0,0),r.length,!0))}function Mae(e,t,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,r,(i,o)=>{let c=typeof s=="function"?s(i):s;if(i.isTextblock&&!i.hasMarkup(n,c)&&Fae(e.doc,e.mapping.slice(a).map(o),n)){let f=null;if(n.schema.linebreakReplacement){let g=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);g&&!v?f=!1:!g&&v&&(f=!0)}f===!1&&RI(e,i,o,a),M_(e,e.mapping.slice(a).map(o,1),n,void 0,f===null);let h=e.mapping.slice(a),m=h.map(o,1),x=h.map(o+i.nodeSize,1);return e.step(new wn(m,x,m+1,x-1,new rt($e.from(n.create(c,null,i.marks)),0,0),1,!0)),f===!0&&kI(e,i,o,a),!1}})}function kI(e,t,r,n){t.forEach((s,a)=>{if(s.isText){let i,o=/\r?\n|\r/g;for(;i=o.exec(s.text);){let c=e.mapping.slice(n).map(r+1+a+i.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function RI(e,t,r,n){t.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let i=e.mapping.slice(n).map(r+1+a);e.replaceWith(i,i+1,t.type.schema.text(`
`))}})}function Fae(e,t,r){let n=e.resolve(t),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function Pae(e,t,r,n,s){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let i=r.create(n,null,s||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,i);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);e.step(new wn(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new rt($e.from(i),0,0),1,!0))}function uo(e,t,r=1,n){let s=e.resolve(t),a=s.depth-r,i=n&&n[n.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!i.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,h=r-2;f>a;f--,h--){let m=s.node(f),x=s.index(f);if(m.type.spec.isolating)return!1;let g=m.content.cutByIndex(x,m.childCount),v=n&&n[h+1];v&&(g=g.replaceChild(0,v.type.create(v.attrs)));let y=n&&n[h]||m;if(!m.canReplace(x+1,m.childCount)||!y.type.validContent(g))return!1}let o=s.indexAfter(a),c=n&&n[0];return s.node(a).canReplaceWith(o,o,c?c.type:s.node(a+1).type)}function Lae(e,t,r=1,n){let s=e.doc.resolve(t),a=$e.empty,i=$e.empty;for(let o=s.depth,c=s.depth-r,f=r-1;o>c;o--,f--){a=$e.from(s.node(o).copy(a));let h=n&&n[f];i=$e.from(h?h.type.create(h.attrs,i):s.node(o).copy(i))}e.step(new yn(t,t,new rt(a.append(i),r,r),!0))}function Rl(e,t){let r=e.resolve(t),n=r.index();return jI(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function Bae(e,t){t.content.size||e.type.compatibleContent(t.type);let r=e.contentMatchAt(e.childCount),{linebreakReplacement:n}=e.type.schema;for(let s=0;s<t.childCount;s++){let a=t.child(s),i=a.type==n?e.type.schema.nodes.text:a.type;if(r=r.matchType(i),!r||!e.type.allowsMarks(a.marks))return!1}return r.validEnd}function jI(e,t){return!!(e&&t&&!e.isLeaf&&Bae(e,t))}function Lg(e,t,r=-1){let n=e.resolve(t);for(let s=n.depth;;s--){let a,i,o=n.index(s);if(s==n.depth?(a=n.nodeBefore,i=n.nodeAfter):r>0?(a=n.node(s+1),o++,i=n.node(s).maybeChild(o)):(a=n.node(s).maybeChild(o-1),i=n.node(s+1)),a&&!a.isTextblock&&jI(a,i)&&n.node(s).canReplace(o,o+1))return t;if(s==0)break;t=r<0?n.before(s):n.after(s)}}function Uae(e,t,r){let n=null,{linebreakReplacement:s}=e.doc.type.schema,a=e.doc.resolve(t-r),i=a.node().type;if(s&&i.inlineContent){let h=i.whitespace=="pre",m=!!i.contentMatch.matchType(s);h&&!m?n=!1:!h&&m&&(n=!0)}let o=e.steps.length;if(n===!1){let h=e.doc.resolve(t+r);RI(e,h.node(),h.before(),o)}i.inlineContent&&M_(e,t+r-1,i,a.node().contentMatchAt(a.index()),n==null);let c=e.mapping.slice(o),f=c.map(t-r);if(e.step(new yn(f,c.map(t+r,-1),rt.empty,!0)),n===!0){let h=e.doc.resolve(f);kI(e,h.node(),h.before(),e.steps.length)}return e}function zae(e,t,r){let n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),r))return t;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let a=n.index(s);if(n.node(s).canReplaceWith(a,a,r))return n.before(s+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let a=n.indexAfter(s);if(n.node(s).canReplaceWith(a,a,r))return n.after(s+1);if(a<n.node(s).childCount)return null}return null}function OI(e,t,r){let n=e.resolve(t);if(!r.content.size)return t;let s=r.content;for(let a=0;a<r.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let i=n.depth;i>=0;i--){let o=i==n.depth?0:n.pos<=(n.start(i+1)+n.end(i+1))/2?-1:1,c=n.index(i)+(o>0?1:0),f=n.node(i),h=!1;if(a==1)h=f.canReplace(c,c,s);else{let m=f.contentMatchAt(c).findWrapping(s.firstChild.type);h=m&&f.canReplaceWith(c,c,m[0])}if(h)return o==0?n.pos:o<0?n.before(i+1):n.after(i+1)}return null}function Bg(e,t,r=t,n=rt.empty){if(t==r&&!n.size)return null;let s=e.resolve(t),a=e.resolve(r);return DI(s,a,n)?new yn(t,r,n):new Hae(s,a,n).fit()}function DI(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}class Hae{constructor(t,r,n){this.$from=t,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=$e.empty;for(let s=0;s<=t.depth;s++){let a=t.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=$e.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(t<0?this.$to:n.doc.resolve(t));if(!s)return null;let a=this.placed,i=n.depth,o=s.depth;for(;i&&o&&a.childCount==1;)a=a.firstChild.content,i--,o--;let c=new rt(a,i,o);return t>-1?new wn(n.pos,t,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new yn(n.pos,s.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<t;n++){let a=r.firstChild;if(r.childCount>1&&(s=0),a.type.spec.isolating&&s<=n){t=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?t:this.unplaced.openStart;n>=0;n--){let s,a=null;n?(a=Gv(this.unplaced.content,n-1).firstChild,s=a.content):s=this.unplaced.content;let i=s.firstChild;for(let o=this.depth;o>=0;o--){let{type:c,match:f}=this.frontier[o],h,m=null;if(r==1&&(i?f.matchType(i.type)||(m=f.fillBefore($e.from(i),!1)):a&&c.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:o,parent:a,inject:m};if(r==2&&i&&(h=f.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:o,parent:a,wrap:h};if(a&&f.matchType(a.type))break}}}openMore(){let{content:t,openStart:r,openEnd:n}=this.unplaced,s=Gv(t,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new rt(t,r+1,Math.max(n,s.size+r>=t.size-n?r+1:0)),!0)}dropNode(){let{content:t,openStart:r,openEnd:n}=this.unplaced,s=Gv(t,r);if(s.childCount<=1&&r>0){let a=t.size-r<=r+s.size;this.unplaced=new rt(Wf(t,r-1,1),r-1,a?r-1:n)}else this.unplaced=new rt(Wf(t,r,1),r,n)}placeNodes({sliceDepth:t,frontierDepth:r,parent:n,inject:s,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let y=0;y<a.length;y++)this.openFrontierNode(a[y]);let i=this.unplaced,o=n?n.content:i.content,c=i.openStart-t,f=0,h=[],{match:m,type:x}=this.frontier[r];if(s){for(let y=0;y<s.childCount;y++)h.push(s.child(y));m=m.matchFragment(s)}let g=o.size+t-(i.content.size-i.openEnd);for(;f<o.childCount;){let y=o.child(f),w=m.matchType(y.type);if(!w)break;f++,(f>1||c==0||y.content.size)&&(m=w,h.push(II(y.mark(x.allowedMarks(y.marks)),f==1?c:0,f==o.childCount?g:-1)))}let v=f==o.childCount;v||(g=-1),this.placed=Gf(this.placed,r,$e.from(h)),this.frontier[r].match=m,v&&g<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,w=o;y<g;y++){let E=w.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),w=E.content}this.unplaced=v?t==0?rt.empty:new rt(Wf(i.content,t-1,1),t-1,g<0?i.openEnd:t-1):new rt(Wf(i.content,t,f),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],r;if(!t.type.isTextblock||!Kv(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],a=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),i=Kv(t,r,s,n,a);if(i){for(let o=r-1;o>=0;o--){let{match:c,type:f}=this.frontier[o],h=Kv(t,o,f,c,!0);if(!h||h.childCount)continue e}return{depth:r,fit:i,move:a?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Gf(this.placed,r.depth,r.fit)),t=r.move;for(let n=r.depth+1;n<=t.depth;n++){let s=t.node(n),a=s.type.contentMatch.fillBefore(s.content,!0,t.index(n));this.openFrontierNode(s.type,s.attrs,a)}return t}openFrontierNode(t,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Gf(this.placed,this.depth,$e.from(t.create(r,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore($e.empty,!0);r.childCount&&(this.placed=Gf(this.placed,this.frontier.length,r))}}function Wf(e,t,r){return t==0?e.cutByIndex(r,e.childCount):e.replaceChild(0,e.firstChild.copy(Wf(e.firstChild.content,t-1,r)))}function Gf(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(Gf(e.lastChild.content,t-1,r)))}function Gv(e,t){for(let r=0;r<t;r++)e=e.firstChild.content;return e}function II(e,t,r){if(t<=0)return e;let n=e.content;return t>1&&(n=n.replaceChild(0,II(n.firstChild,t-1,n.childCount==1?r-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore($e.empty,!0)))),e.copy(n)}function Kv(e,t,r,n,s){let a=e.node(t),i=s?e.indexAfter(t):e.index(t);if(i==a.childCount&&!r.compatibleContent(a.type))return null;let o=n.fillBefore(a.content,!0,i);return o&&!qae(r,a.content,i)?o:null}function qae(e,t,r){for(let n=r;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function Vae(e){return e.spec.defining||e.spec.definingForContent}function $ae(e,t,r,n){if(!n.size)return e.deleteRange(t,r);let s=e.doc.resolve(t),a=e.doc.resolve(r);if(DI(s,a,n))return e.step(new yn(t,r,n));let i=FI(s,a);i[i.length-1]==0&&i.pop();let o=-(s.depth+1);i.unshift(o);for(let x=s.depth,g=s.pos-1;x>0;x--,g--){let v=s.node(x).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;i.indexOf(x)>-1?o=x:s.before(x)==g&&i.splice(1,0,-x)}let c=i.indexOf(o),f=[],h=n.openStart;for(let x=n.content,g=0;;g++){let v=x.firstChild;if(f.push(v),g==n.openStart)break;x=v.content}for(let x=h-1;x>=0;x--){let g=f[x],v=Vae(g.type);if(v&&!g.sameMarkup(s.node(Math.abs(o)-1)))h=x;else if(v||!g.type.isTextblock)break}for(let x=n.openStart;x>=0;x--){let g=(x+h+1)%(n.openStart+1),v=f[g];if(v)for(let y=0;y<i.length;y++){let w=i[(y+c)%i.length],E=!0;w<0&&(E=!1,w=-w);let N=s.node(w-1),_=s.index(w-1);if(N.canReplaceWith(_,_,v.type,v.marks))return e.replace(s.before(w),E?a.after(w):r,new rt(MI(n.content,0,n.openStart,g),g,n.openEnd))}}let m=e.steps.length;for(let x=i.length-1;x>=0&&(e.replace(t,r,n),!(e.steps.length>m));x--){let g=i[x];g<0||(t=s.before(g),r=a.after(g))}}function MI(e,t,r,n,s){if(t<r){let a=e.firstChild;e=e.replaceChild(0,a.copy(MI(a.content,t+1,r,n,a)))}if(t>n){let a=s.contentMatchAt(0),i=a.fillBefore(e).append(e);e=i.append(a.matchFragment(i).fillBefore($e.empty,!0))}return e}function Wae(e,t,r,n){if(!n.isInline&&t==r&&e.doc.resolve(t).parent.content.size){let s=zae(e.doc,t,n.type);s!=null&&(t=r=s)}e.replaceRange(t,r,new rt($e.from(n),0,0))}function Gae(e,t,r){let n=e.doc.resolve(t),s=e.doc.resolve(r),a=FI(n,s);for(let i=0;i<a.length;i++){let o=a[i],c=i==a.length-1;if(c&&o==0||n.node(o).type.contentMatch.validEnd)return e.delete(n.start(o),s.end(o));if(o>0&&(c||n.node(o-1).canReplace(n.index(o-1),s.indexAfter(o-1))))return e.delete(n.before(o),s.after(o))}for(let i=1;i<=n.depth&&i<=s.depth;i++)if(t-n.start(i)==n.depth-i&&r>n.end(i)&&s.end(i)-r!=s.depth-i&&n.start(i-1)==s.start(i-1)&&n.node(i-1).canReplace(n.index(i-1),s.index(i-1)))return e.delete(n.before(i),r);e.delete(t,r)}function FI(e,t){let r=[],n=Math.min(e.depth,t.depth);for(let s=n;s>=0;s--){let a=e.start(s);if(a<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(a==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==a-1)&&r.push(s)}return r}class Hu extends Jn{constructor(t,r,n){super(),this.pos=t,this.attr=r,this.value=n}apply(t){let r=t.nodeAt(this.pos);if(!r)return Qr.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return Qr.fromReplace(t,this.pos,this.pos+1,new rt($e.from(s),0,r.isLeaf?0:1))}getMap(){return qs.empty}invert(t){return new Hu(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Hu(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Hu(r.pos,r.attr,r.value)}}Jn.jsonID("attr",Hu);class Hh extends Jn{constructor(t,r){super(),this.attr=t,this.value=r}apply(t){let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let n=t.type.create(r,t.content,t.marks);return Qr.ok(n)}getMap(){return qs.empty}invert(t){return new Hh(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Hh(r.attr,r.value)}}Jn.jsonID("docAttr",Hh);let Qu=class extends Error{};Qu=function e(t){let r=Error.call(this,t);return r.__proto__=e.prototype,r};Qu.prototype=Object.create(Error.prototype);Qu.prototype.constructor=Qu;Qu.prototype.name="TransformError";class PI{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new zh}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new Qu(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}changedRange(){let t=1e9,r=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let s=this.mapping.maps[n];n&&(t=s.map(t,1),r=s.map(r,-1)),s.forEach((a,i,o,c)=>{t=Math.min(t,o),r=Math.max(r,c)})}return t==1e9?null:{from:t,to:r}}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,n=rt.empty){let s=Bg(this.doc,t,r,n);return s&&this.step(s),this}replaceWith(t,r,n){return this.replace(t,r,new rt($e.from(n),0,0))}delete(t,r){return this.replace(t,r,rt.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,n){return $ae(this,t,r,n),this}replaceRangeWith(t,r,n){return Wae(this,t,r,n),this}deleteRange(t,r){return Gae(this,t,r),this}lift(t,r){return jae(this,t,r),this}join(t,r=1){return Uae(this,t,r),this}wrap(t,r){return Iae(this,t,r),this}setBlockType(t,r=t,n,s=null){return Mae(this,t,r,n,s),this}setNodeMarkup(t,r,n=null,s){return Pae(this,t,r,n,s),this}setNodeAttribute(t,r,n){return this.step(new Hu(t,r,n)),this}setDocAttribute(t,r){return this.step(new Hh(t,r)),this}addNodeMark(t,r){return this.step(new dl(t,r)),this}removeNodeMark(t,r){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(r instanceof ir)r.isInSet(n.marks)&&this.step(new Oc(t,r));else{let s=n.marks,a,i=[];for(;a=r.isInSet(s);)i.push(new Oc(t,a)),s=a.removeFromSet(s);for(let o=i.length-1;o>=0;o--)this.step(i[o])}return this}split(t,r=1,n){return Lae(this,t,r,n),this}addMark(t,r,n){return Aae(this,t,r,n),this}removeMark(t,r,n){return kae(this,t,r,n),this}clearIncompatible(t,r,n){return M_(this,t,r,n),this}}const Xv=Object.create(null);class kt{constructor(t,r,n){this.$anchor=t,this.$head=r,this.ranges=n||[new Kae(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=rt.empty){let n=r.content.lastChild,s=null;for(let o=0;o<r.openEnd;o++)s=n,n=n.lastChild;let a=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:c,$to:f}=i[o],h=t.mapping.slice(a);t.replaceRange(h.map(c.pos),h.map(f.pos),o?rt.empty:r),o==0&&L3(t,a,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,r){let n=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:i,$to:o}=s[a],c=t.mapping.slice(n),f=c.map(i.pos),h=c.map(o.pos);a?t.deleteRange(f,h):(t.replaceRangeWith(f,h,r),L3(t,n,r.isInline?-1:1))}}static findFrom(t,r,n=!1){let s=t.parent.inlineContent?new yt(t):Du(t.node(0),t.parent,t.pos,t.index(),r,n);if(s)return s;for(let a=t.depth-1;a>=0;a--){let i=r<0?Du(t.node(0),t.node(a),t.before(a+1),t.index(a),r,n):Du(t.node(0),t.node(a),t.after(a+1),t.index(a)+1,r,n);if(i)return i}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new $s(t.node(0))}static atStart(t){return Du(t,t,0,0,1)||new $s(t)}static atEnd(t){return Du(t,t,t.content.size,t.childCount,-1)||new $s(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Xv[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in Xv)throw new RangeError("Duplicate use of selection JSON ID "+t);return Xv[t]=r,r.prototype.jsonID=t,r}getBookmark(){return yt.between(this.$anchor,this.$head).getBookmark()}}kt.prototype.visible=!0;class Kae{constructor(t,r){this.$from=t,this.$to=r}}let F3=!1;function P3(e){!F3&&!e.parent.inlineContent&&(F3=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class yt extends kt{constructor(t,r=t){P3(t),P3(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let n=t.resolve(r.map(this.head));if(!n.parent.inlineContent)return kt.near(n);let s=t.resolve(r.map(this.anchor));return new yt(s.parent.inlineContent?s:n,n)}replace(t,r=rt.empty){if(super.replace(t,r),r==rt.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof yt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Ug(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new yt(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,n=r){let s=t.resolve(r);return new this(s,n==r?s:t.resolve(n))}static between(t,r,n){let s=t.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let a=kt.findFrom(r,n,!0)||kt.findFrom(r,-n,!0);if(a)r=a.$head;else return kt.near(r,n)}return t.parent.inlineContent||(s==0?t=r:(t=(kt.findFrom(t,-n,!0)||kt.findFrom(t,n,!0)).$anchor,t.pos<r.pos!=s<0&&(t=r))),new yt(t,r)}}kt.jsonID("text",yt);class Ug{constructor(t,r){this.anchor=t,this.head=r}map(t){return new Ug(t.map(this.anchor),t.map(this.head))}resolve(t){return yt.between(t.resolve(this.anchor),t.resolve(this.head))}}class dt extends kt{constructor(t){let r=t.nodeAfter,n=t.node(0).resolve(t.pos+r.nodeSize);super(t,n),this.node=r}map(t,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),a=t.resolve(s);return n?kt.near(a):new dt(a)}content(){return new rt($e.from(this.node),0,0)}eq(t){return t instanceof dt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new P_(this.anchor)}static fromJSON(t,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new dt(t.resolve(r.anchor))}static create(t,r){return new dt(t.resolve(r))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}dt.prototype.visible=!1;kt.jsonID("node",dt);class P_{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:n}=t.mapResult(this.anchor);return r?new Ug(n,n):new P_(n)}resolve(t){let r=t.resolve(this.anchor),n=r.nodeAfter;return n&&dt.isSelectable(n)?new dt(r):kt.near(r)}}class $s extends kt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=rt.empty){if(r==rt.empty){t.delete(0,t.doc.content.size);let n=kt.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new $s(t)}map(t){return new $s(t)}eq(t){return t instanceof $s}getBookmark(){return Xae}}kt.jsonID("all",$s);const Xae={map(){return this},resolve(e){return new $s(e)}};function Du(e,t,r,n,s,a=!1){if(t.inlineContent)return yt.create(e,r);for(let i=n-(s>0?0:1);s>0?i<t.childCount:i>=0;i+=s){let o=t.child(i);if(o.isAtom){if(!a&&dt.isSelectable(o))return dt.create(e,r-(s<0?o.nodeSize:0))}else{let c=Du(e,o,r+s,s<0?o.childCount:0,s,a);if(c)return c}r+=o.nodeSize*s}return null}function L3(e,t,r){let n=e.steps.length-1;if(n<t)return;let s=e.steps[n];if(!(s instanceof yn||s instanceof wn))return;let a=e.mapping.maps[n],i;a.forEach((o,c,f,h)=>{i==null&&(i=h)}),e.setSelection(kt.near(e.doc.resolve(i),r))}const B3=1,cm=2,U3=4;class Yae extends PI{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|B3)&~cm,this.storedMarks=null,this}get selectionSet(){return(this.updated&B3)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=cm,this}ensureMarks(t){return ir.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&cm)>0}addStep(t,r){super.addStep(t,r),this.updated=this.updated&~cm,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let n=this.selection;return r&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||ir.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,n){let s=this.doc.type.schema;if(r==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(n==null&&(n=r),!t)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let i=this.doc.resolve(r);a=n==r?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(t,a)),!this.selection.empty&&this.selection.to==r+t.length&&this.setSelection(kt.near(this.selection.$to)),this}}setMeta(t,r){return this.meta[typeof t=="string"?t:t.key]=r,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=U3,this}get scrolledIntoView(){return(this.updated&U3)>0}}function z3(e,t){return!t||!e?e:e.bind(t)}class Kf{constructor(t,r,n){this.name=t,this.init=z3(r.init,n),this.apply=z3(r.apply,n)}}const Jae=[new Kf("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Kf("selection",{init(e,t){return e.selection||kt.atStart(t.doc)},apply(e){return e.selection}}),new Kf("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,r,n){return n.selection.$cursor?e.storedMarks:null}}),new Kf("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Yv{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Jae.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Kf(n.key,n.spec.state,n))})}}class Lu{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],n=this.applyInner(t),s=null;for(;;){let a=!1;for(let i=0;i<this.config.plugins.length;i++){let o=this.config.plugins[i];if(o.spec.appendTransaction){let c=s?s[i].n:0,f=s?s[i].state:this,h=c<r.length&&o.spec.appendTransaction.call(o,c?r.slice(c):r,f,n);if(h&&n.filterTransaction(h,i)){if(h.setMeta("appendedTransaction",t),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<i?{state:n,n:r.length}:{state:this,n:0})}r.push(h),n=n.applyInner(h),a=!0}s&&(s[i]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Lu(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let a=n[s];r[a.name]=a.apply(t,this[a.name],this,r)}return r}get tr(){return new Yae(this)}static create(t){let r=new Yv(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new Lu(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(t,n);return n}reconfigure(t){let r=new Yv(this.schema,t.plugins),n=r.fields,s=new Lu(r);for(let a=0;a<n.length;a++){let i=n[a].name;s[i]=this.hasOwnProperty(i)?this[i]:n[a].init(t,s)}return s}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[n],a=s.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(s,this[s.key]))}return r}static fromJSON(t,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new Yv(t.schema,t.plugins),a=new Lu(s);return s.fields.forEach(i=>{if(i.name=="doc")a.doc=$a.fromJSON(t.schema,r.doc);else if(i.name=="selection")a.selection=kt.fromJSON(a.doc,r.selection);else if(i.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let o in n){let c=n[o],f=c.spec.state;if(c.key==i.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(r,o)){a[i.name]=f.fromJSON.call(c,t,r[o],a);return}}a[i.name]=i.init(t,a)}}),a}}function LI(e,t,r){for(let n in e){let s=e[n];s instanceof Function?s=s.bind(t):n=="handleDOMEvents"&&(s=LI(s,t,{})),r[n]=s}return r}class _r{constructor(t){this.spec=t,this.props={},t.props&&LI(t.props,this,this.props),this.key=t.key?t.key.key:BI("plugin")}getState(t){return t[this.key]}}const Jv=Object.create(null);function BI(e){return e in Jv?e+"$"+ ++Jv[e]:(Jv[e]=0,e+"$")}class cn{constructor(t="key"){this.key=BI(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const L_=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function UI(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("backward",e):r.parentOffset>0)?null:r}const zI=(e,t,r)=>{let n=UI(e,r);if(!n)return!1;let s=B_(n);if(!s){let i=n.blockRange(),o=i&&jd(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)}let a=s.nodeBefore;if(YI(e,s,t,-1))return!0;if(n.parent.content.size==0&&(ed(a,"end")||dt.isSelectable(a)))for(let i=n.depth;;i--){let o=Bg(e.doc,n.before(i),n.after(i),rt.empty);if(o&&o.slice.size<o.to-o.from){if(t){let c=e.tr.step(o);c.setSelection(ed(a,"end")?kt.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):dt.create(c.doc,s.pos-a.nodeSize)),t(c.scrollIntoView())}return!0}if(i==1||n.node(i-1).childCount>1)break}return a.isAtom&&s.depth==n.depth-1?(t&&t(e.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},Zae=(e,t,r)=>{let n=UI(e,r);if(!n)return!1;let s=B_(n);return s?HI(e,s,t):!1},Qae=(e,t,r)=>{let n=VI(e,r);if(!n)return!1;let s=U_(n);return s?HI(e,s,t):!1};function HI(e,t,r){let n=t.nodeBefore,s=n,a=t.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let h=s.lastChild;if(!h)return!1;s=h}let i=t.nodeAfter,o=i,c=t.pos+1;for(;!o.isTextblock;c++){if(o.type.spec.isolating)return!1;let h=o.firstChild;if(!h)return!1;o=h}let f=Bg(e.doc,a,c,rt.empty);if(!f||f.from!=a||f instanceof yn&&f.slice.size>=c-a)return!1;if(r){let h=e.tr.step(f);h.setSelection(yt.create(h.doc,a)),r(h.scrollIntoView())}return!0}function ed(e,t,r=!1){for(let n=e;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const qI=(e,t,r)=>{let{$head:n,empty:s}=e.selection,a=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):n.parentOffset>0)return!1;a=B_(n)}let i=a&&a.nodeBefore;return!i||!dt.isSelectable(i)?!1:(t&&t(e.tr.setSelection(dt.create(e.doc,a.pos-i.nodeSize)).scrollIntoView()),!0)};function B_(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function VI(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)?null:r}const $I=(e,t,r)=>{let n=VI(e,r);if(!n)return!1;let s=U_(n);if(!s)return!1;let a=s.nodeAfter;if(YI(e,s,t,1))return!0;if(n.parent.content.size==0&&(ed(a,"start")||dt.isSelectable(a))){let i=Bg(e.doc,n.before(),n.after(),rt.empty);if(i&&i.slice.size<i.to-i.from){if(t){let o=e.tr.step(i);o.setSelection(ed(a,"start")?kt.findFrom(o.doc.resolve(o.mapping.map(s.pos)),1):dt.create(o.doc,o.mapping.map(s.pos))),t(o.scrollIntoView())}return!0}}return a.isAtom&&s.depth==n.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},WI=(e,t,r)=>{let{$head:n,empty:s}=e.selection,a=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)return!1;a=U_(n)}let i=a&&a.nodeAfter;return!i||!dt.isSelectable(i)?!1:(t&&t(e.tr.setSelection(dt.create(e.doc,a.pos)).scrollIntoView()),!0)};function U_(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}const eie=(e,t)=>{let r=e.selection,n=r instanceof dt,s;if(n){if(r.node.isTextblock||!Rl(e.doc,r.from))return!1;s=r.from}else if(s=Lg(e.doc,r.from,-1),s==null)return!1;if(t){let a=e.tr.join(s);n&&a.setSelection(dt.create(a.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),t(a.scrollIntoView())}return!0},tie=(e,t)=>{let r=e.selection,n;if(r instanceof dt){if(r.node.isTextblock||!Rl(e.doc,r.to))return!1;n=r.to}else if(n=Lg(e.doc,r.to,1),n==null)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},rie=(e,t)=>{let{$from:r,$to:n}=e.selection,s=r.blockRange(n),a=s&&jd(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)},GI=(e,t)=>{let{$head:r,$anchor:n}=e.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function z_(e){for(let t=0;t<e.edgeCount;t++){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const nie=(e,t)=>{let{$head:r,$anchor:n}=e.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),a=r.indexAfter(-1),i=z_(s.contentMatchAt(a));if(!i||!s.canReplaceWith(a,a,i))return!1;if(t){let o=r.after(),c=e.tr.replaceWith(o,o,i.createAndFill());c.setSelection(kt.near(c.doc.resolve(o),1)),t(c.scrollIntoView())}return!0},KI=(e,t)=>{let r=e.selection,{$from:n,$to:s}=r;if(r instanceof $s||n.parent.inlineContent||s.parent.inlineContent)return!1;let a=z_(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){let i=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,o=e.tr.insert(i,a.createAndFill());o.setSelection(yt.create(o.doc,i+1)),t(o.scrollIntoView())}return!0},XI=(e,t)=>{let{$cursor:r}=e.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(uo(e.doc,a))return t&&t(e.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),s=n&&jd(n);return s==null?!1:(t&&t(e.tr.lift(n,s).scrollIntoView()),!0)};function sie(e){return(t,r)=>{let{$from:n,$to:s}=t.selection;if(t.selection instanceof dt&&t.selection.node.isBlock)return!n.parentOffset||!uo(t.doc,n.pos)?!1:(r&&r(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],i,o,c=!1,f=!1;for(let g=n.depth;;g--)if(n.node(g).isBlock){c=n.end(g)==n.pos+(n.depth-g),f=n.start(g)==n.pos-(n.depth-g),o=z_(n.node(g-1).contentMatchAt(n.indexAfter(g-1))),a.unshift(c&&o?{type:o}:null),i=g;break}else{if(g==1)return!1;a.unshift(null)}let h=t.tr;(t.selection instanceof yt||t.selection instanceof $s)&&h.deleteSelection();let m=h.mapping.map(n.pos),x=uo(h.doc,m,a.length,a);if(x||(a[0]=o?{type:o}:null,x=uo(h.doc,m,a.length,a)),!x)return!1;if(h.split(m,a.length,a),!c&&f&&n.node(i).type!=o){let g=h.mapping.map(n.before(i)),v=h.doc.resolve(g);o&&n.node(i-1).canReplaceWith(v.index(),v.index()+1,o)&&h.setNodeMarkup(h.mapping.map(n.before(i)),o)}return r&&r(h.scrollIntoView()),!0}}const aie=sie(),iie=(e,t)=>{let{$from:r,to:n}=e.selection,s,a=r.sharedDepth(n);return a==0?!1:(s=r.before(a),t&&t(e.tr.setSelection(dt.create(e.doc,s))),!0)};function oie(e,t,r){let n=t.nodeBefore,s=t.nodeAfter,a=t.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&t.parent.canReplace(a-1,a)?(r&&r(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(a,a+1)||!(s.isTextblock||Rl(e.doc,t.pos))?!1:(r&&r(e.tr.join(t.pos).scrollIntoView()),!0)}function YI(e,t,r,n){let s=t.nodeBefore,a=t.nodeAfter,i,o,c=s.type.spec.isolating||a.type.spec.isolating;if(!c&&oie(e,t,r))return!0;let f=!c&&t.parent.canReplace(t.index(),t.index()+1);if(f&&(i=(o=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&o.matchType(i[0]||a.type).validEnd){if(r){let g=t.pos+a.nodeSize,v=$e.empty;for(let E=i.length-1;E>=0;E--)v=$e.from(i[E].create(null,v));v=$e.from(s.copy(v));let y=e.tr.step(new wn(t.pos-1,g,t.pos,g,new rt(v,1,0),i.length,!0)),w=y.doc.resolve(g+2*i.length);w.nodeAfter&&w.nodeAfter.type==s.type&&Rl(y.doc,w.pos)&&y.join(w.pos),r(y.scrollIntoView())}return!0}let h=a.type.spec.isolating||n>0&&c?null:kt.findFrom(t,1),m=h&&h.$from.blockRange(h.$to),x=m&&jd(m);if(x!=null&&x>=t.depth)return r&&r(e.tr.lift(m,x).scrollIntoView()),!0;if(f&&ed(a,"start",!0)&&ed(s,"end")){let g=s,v=[];for(;v.push(g),!g.isTextblock;)g=g.lastChild;let y=a,w=1;for(;!y.isTextblock;y=y.firstChild)w++;if(g.canReplace(g.childCount,g.childCount,y.content)){if(r){let E=$e.empty;for(let _=v.length-1;_>=0;_--)E=$e.from(v[_].copy(E));let N=e.tr.step(new wn(t.pos-v.length,t.pos+a.nodeSize,t.pos+w,t.pos+a.nodeSize-w,new rt(E,v.length,0),0,!0));r(N.scrollIntoView())}return!0}}return!1}function JI(e){return function(t,r){let n=t.selection,s=e<0?n.$from:n.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(r&&r(t.tr.setSelection(yt.create(t.doc,e<0?s.start(a):s.end(a)))),!0):!1}}const lie=JI(-1),cie=JI(1);function uie(e,t=null){return function(r,n){let{$from:s,$to:a}=r.selection,i=s.blockRange(a),o=i&&F_(i,e,t);return o?(n&&n(r.tr.wrap(i,o).scrollIntoView()),!0):!1}}function H3(e,t=null){return function(r,n){let s=!1;for(let a=0;a<r.selection.ranges.length&&!s;a++){let{$from:{pos:i},$to:{pos:o}}=r.selection.ranges[a];r.doc.nodesBetween(i,o,(c,f)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)s=!0;else{let h=r.doc.resolve(f),m=h.index();s=h.parent.canReplaceWith(m,m+1,e)}})}if(!s)return!1;if(n){let a=r.tr;for(let i=0;i<r.selection.ranges.length;i++){let{$from:{pos:o},$to:{pos:c}}=r.selection.ranges[i];a.setBlockType(o,c,e,t)}n(a.scrollIntoView())}return!0}}function H_(...e){return function(t,r,n){for(let s=0;s<e.length;s++)if(e[s](t,r,n))return!0;return!1}}H_(L_,zI,qI);H_(L_,$I,WI);H_(GI,KI,XI,aie);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function die(e,t=null){return function(r,n){let{$from:s,$to:a}=r.selection,i=s.blockRange(a);if(!i)return!1;let o=n?r.tr:null;return fie(o,i,e,t)?(n&&n(o.scrollIntoView()),!0):!1}}function fie(e,t,r,n=null){let s=!1,a=t,i=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(r)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let c=i.resolve(t.start-2);a=new wx(c,c,t.depth),t.endIndex<t.parent.childCount&&(t=new wx(t.$from,i.resolve(t.$to.end(t.depth)),t.depth)),s=!0}let o=F_(a,r,n,t);return o?(e&&hie(e,t,o,s,r),!0):!1}function hie(e,t,r,n,s){let a=$e.empty;for(let h=r.length-1;h>=0;h--)a=$e.from(r[h].type.create(r[h].attrs,a));e.step(new wn(t.start-(n?2:0),t.end,t.start,t.end,new rt(a,0,0),r.length,!0));let i=0;for(let h=0;h<r.length;h++)r[h].type==s&&(i=h+1);let o=r.length-i,c=t.start+r.length-(n?2:0),f=t.parent;for(let h=t.startIndex,m=t.endIndex,x=!0;h<m;h++,x=!1)!x&&uo(e.doc,c,o)&&(e.split(c,o),c+=2*o),c+=f.child(h).nodeSize;return e}function pie(e){return function(t,r){let{$from:n,$to:s}=t.selection,a=n.blockRange(s,i=>i.childCount>0&&i.firstChild.type==e);return a?r?n.node(a.depth-1).type==e?mie(t,r,e,a):xie(t,r,a):!0:!1}}function mie(e,t,r,n){let s=e.tr,a=n.end,i=n.$to.end(n.depth);a<i&&(s.step(new wn(a-1,i,a,i,new rt($e.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new wx(s.doc.resolve(n.$from.pos),s.doc.resolve(i),n.depth));const o=jd(n);if(o==null)return!1;s.lift(n,o);let c=s.doc.resolve(s.mapping.map(a,-1)-1);return Rl(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),t(s.scrollIntoView()),!0}function xie(e,t,r){let n=e.tr,s=r.parent;for(let g=r.end,v=r.endIndex-1,y=r.startIndex;v>y;v--)g-=s.child(v).nodeSize,n.delete(g-1,g+1);let a=n.doc.resolve(r.start),i=a.nodeAfter;if(n.mapping.map(r.end)!=r.start+a.nodeAfter.nodeSize)return!1;let o=r.startIndex==0,c=r.endIndex==s.childCount,f=a.node(-1),h=a.index(-1);if(!f.canReplace(h+(o?0:1),h+1,i.content.append(c?$e.empty:$e.from(s))))return!1;let m=a.pos,x=m+i.nodeSize;return n.step(new wn(m-(o?1:0),x+(c?1:0),m+1,x-1,new rt((o?$e.empty:$e.from(s.copy($e.empty))).append(c?$e.empty:$e.from(s.copy($e.empty))),o?0:1,c?0:1),o?0:1)),t(n.scrollIntoView()),!0}function gie(e){return function(t,r){let{$from:n,$to:s}=t.selection,a=n.blockRange(s,f=>f.childCount>0&&f.firstChild.type==e);if(!a)return!1;let i=a.startIndex;if(i==0)return!1;let o=a.parent,c=o.child(i-1);if(c.type!=e)return!1;if(r){let f=c.lastChild&&c.lastChild.type==o.type,h=$e.from(f?e.create():null),m=new rt($e.from(e.create(null,$e.from(o.type.create(null,h)))),f?3:1,0),x=a.start,g=a.end;r(t.tr.step(new wn(x-(f?3:1),g,x,g,m,1,!0)).scrollIntoView())}return!0}}const Rn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},td=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let W2=null;const Zi=function(e,t,r){let n=W2||(W2=document.createRange());return n.setEnd(e,r??e.nodeValue.length),n.setStart(e,t||0),n},yie=function(){W2=null},Dc=function(e,t,r,n){return r&&(q3(e,t,r,n,-1)||q3(e,t,r,n,1))},vie=/^(img|br|input|textarea|hr)$/i;function q3(e,t,r,n,s){for(var a;;){if(e==r&&t==n)return!0;if(t==(s<0?0:va(e))){let i=e.parentNode;if(!i||i.nodeType!=1||w0(e)||vie.test(e.nodeName)||e.contentEditable=="false")return!1;t=Rn(e)+(s<0?0:1),e=i}else if(e.nodeType==1){let i=e.childNodes[t+(s<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((a=i.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)t+=s;else return!1;else e=i,t=s<0?va(e):0}else return!1}}function va(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function bie(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=va(e)}else if(e.parentNode&&!w0(e))t=Rn(e),e=e.parentNode;else return null}}function wie(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!w0(e))t=Rn(e)+1,e=e.parentNode;else return null}}function Eie(e,t,r){for(let n=t==0,s=t==va(e);n||s;){if(e==r)return!0;let a=Rn(e);if(e=e.parentNode,!e)return!1;n=n&&a==0,s=s&&a==va(e)}}function w0(e){let t;for(let r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const zg=function(e){return e.focusNode&&Dc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function nc(e,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function _ie(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Sie(e,t,r){if(e.caretPositionFromPoint)try{let n=e.caretPositionFromPoint(t,r);if(n)return{node:n.offsetNode,offset:Math.min(va(n.offsetNode),n.offset)}}catch{}if(e.caretRangeFromPoint){let n=e.caretRangeFromPoint(t,r);if(n)return{node:n.startContainer,offset:Math.min(va(n.startContainer),n.startOffset)}}}const wi=typeof navigator<"u"?navigator:null,V3=typeof document<"u"?document:null,jl=wi&&wi.userAgent||"",G2=/Edge\/(\d+)/.exec(jl),ZI=/MSIE \d/.exec(jl),K2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jl),Cs=!!(ZI||K2||G2),gl=ZI?document.documentMode:K2?+K2[1]:G2?+G2[1]:0,wa=!Cs&&/gecko\/(\d+)/i.test(jl);wa&&+(/Firefox\/(\d+)/.exec(jl)||[0,0])[1];const X2=!Cs&&/Chrome\/(\d+)/.exec(jl),Dn=!!X2,QI=X2?+X2[1]:0,Xn=!Cs&&!!wi&&/Apple Computer/.test(wi.vendor),rd=Xn&&(/Mobile\/\w+/.test(jl)||!!wi&&wi.maxTouchPoints>2),ya=rd||(wi?/Mac/.test(wi.platform):!1),eM=wi?/Win/.test(wi.platform):!1,ro=/Android \d/.test(jl),E0=!!V3&&"webkitFontSmoothing"in V3.documentElement.style,Nie=E0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Tie(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function $i(e,t){return typeof e=="number"?e:e[t]}function Cie(e){let t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*n}}function $3(e,t,r){let n=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let i=r||e.dom;i;){if(i.nodeType!=1){i=td(i);continue}let o=i,c=o==a.body,f=c?Tie(a):Cie(o),h=0,m=0;if(t.top<f.top+$i(n,"top")?m=-(f.top-t.top+$i(s,"top")):t.bottom>f.bottom-$i(n,"bottom")&&(m=t.bottom-t.top>f.bottom-f.top?t.top+$i(s,"top")-f.top:t.bottom-f.bottom+$i(s,"bottom")),t.left<f.left+$i(n,"left")?h=-(f.left-t.left+$i(s,"left")):t.right>f.right-$i(n,"right")&&(h=t.right-f.right+$i(s,"right")),h||m)if(c)a.defaultView.scrollBy(h,m);else{let g=o.scrollLeft,v=o.scrollTop;m&&(o.scrollTop+=m),h&&(o.scrollLeft+=h);let y=o.scrollLeft-g,w=o.scrollTop-v;t={left:t.left-y,top:t.top-w,right:t.right-y,bottom:t.bottom-w}}let x=c?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(x))break;i=x=="absolute"?i.offsetParent:td(i)}}function Aie(e){let t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),n,s;for(let a=(t.left+t.right)/2,i=r+1;i<Math.min(innerHeight,t.bottom);i+=5){let o=e.root.elementFromPoint(a,i);if(!o||o==e.dom||!e.dom.contains(o))continue;let c=o.getBoundingClientRect();if(c.top>=r-20){n=o,s=c.top;break}}return{refDOM:n,refTop:s,stack:tM(e.dom)}}function tM(e){let t=[],r=e.ownerDocument;for(let n=e;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),e!=r);n=td(n));return t}function kie({refDOM:e,refTop:t,stack:r}){let n=e?e.getBoundingClientRect().top:0;rM(r,n==0?0:n-t)}function rM(e,t){for(let r=0;r<e.length;r++){let{dom:n,top:s,left:a}=e[r];n.scrollTop!=s+t&&(n.scrollTop=s+t),n.scrollLeft!=a&&(n.scrollLeft=a)}}let Au=null;function Rie(e){if(e.setActive)return e.setActive();if(Au)return e.focus(Au);let t=tM(e);e.focus(Au==null?{get preventScroll(){return Au={preventScroll:!0},!0}}:void 0),Au||(Au=!1,rM(t,0))}function nM(e,t){let r,n=2e8,s,a=0,i=t.top,o=t.top,c,f;for(let h=e.firstChild,m=0;h;h=h.nextSibling,m++){let x;if(h.nodeType==1)x=h.getClientRects();else if(h.nodeType==3)x=Zi(h).getClientRects();else continue;for(let g=0;g<x.length;g++){let v=x[g];if(v.top<=i&&v.bottom>=o){i=Math.max(v.bottom,i),o=Math.min(v.top,o);let y=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(y<n){r=h,n=y,s=y&&r.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,h.nodeType==1&&y&&(a=m+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!c&&v.left<=t.left&&v.right>=t.left&&(c=h,f={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!r&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(a=m+1)}}return!r&&c&&(r=c,s=f,n=0),r&&r.nodeType==3?jie(r,s):!r||n&&r.nodeType==1?{node:e,offset:a}:nM(r,s)}function jie(e,t){let r=e.nodeValue.length,n=document.createRange(),s;for(let a=0;a<r;a++){n.setEnd(e,a+1),n.setStart(e,a);let i=Jo(n,1);if(i.top!=i.bottom&&q_(t,i)){s={node:e,offset:a+(t.left>=(i.left+i.right)/2?1:0)};break}}return n.detach(),s||{node:e,offset:0}}function q_(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Oie(e,t){let r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function Die(e,t,r){let{node:n,offset:s}=nM(t,r),a=-1;if(n.nodeType==1&&!n.firstChild){let i=n.getBoundingClientRect();a=i.left!=i.right&&r.left>(i.left+i.right)/2?1:-1}return e.docView.posFromDOM(n,s,a)}function Iie(e,t,r,n){let s=-1;for(let a=t,i=!1;a!=e.dom;){let o=e.docView.nearestDesc(a,!0),c;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((c=o.dom.getBoundingClientRect()).width||c.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!i&&c.left>n.left||c.top>n.top?s=o.posBefore:(!i&&c.right<n.left||c.bottom<n.top)&&(s=o.posAfter),i=!0),!o.contentDOM&&s<0&&!o.node.isText))return(o.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?o.posBefore:o.posAfter;a=o.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,r,-1)}function sM(e,t,r){let n=e.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-r.top)/(r.bottom-r.top))-2)),a=s;;){let i=e.childNodes[a];if(i.nodeType==1){let o=i.getClientRects();for(let c=0;c<o.length;c++){let f=o[c];if(q_(t,f))return sM(i,t,f)}}if((a=(a+1)%n)==s)break}return e}function Mie(e,t){let r=e.dom.ownerDocument,n,s=0,a=Sie(r,t.left,t.top);a&&({node:n,offset:s}=a);let i=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top),o;if(!i||!e.dom.contains(i.nodeType!=1?i.parentNode:i)){let f=e.dom.getBoundingClientRect();if(!q_(t,f)||(i=sM(e.dom,t,f),!i))return null}if(Xn)for(let f=i;n&&f;f=td(f))f.draggable&&(n=void 0);if(i=Oie(i,t),n){if(wa&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let h=n.childNodes[s],m;h.nodeName=="IMG"&&(m=h.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&s++}let f;E0&&s&&n.nodeType==1&&(f=n.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=t.top&&s--,n==e.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(o=Iie(e,n,s,t))}o==null&&(o=Die(e,i,t));let c=e.docView.nearestDesc(i,!0);return{pos:o,inside:c?c.posAtStart-c.border:-1}}function W3(e){return e.top<e.bottom||e.left<e.right}function Jo(e,t){let r=e.getClientRects();if(r.length){let n=r[t<0?0:r.length-1];if(W3(n))return n}return Array.prototype.find.call(r,W3)||e.getBoundingClientRect()}const Fie=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function aM(e,t,r){let{node:n,offset:s,atom:a}=e.docView.domFromPos(t,r<0?-1:1),i=E0||wa;if(n.nodeType==3)if(i&&(Fie.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let c=Jo(Zi(n,s,s),r);if(wa&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let f=Jo(Zi(n,s-1,s-1),-1);if(f.top==c.top){let h=Jo(Zi(n,s,s+1),-1);if(h.top!=c.top)return jf(h,h.left<f.left)}}return c}else{let c=s,f=s,h=r<0?1:-1;return r<0&&!s?(f++,h=-1):r>=0&&s==n.nodeValue.length?(c--,h=1):r<0?c--:f++,jf(Jo(Zi(n,c,f),h),h<0)}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(a==null&&s&&(r<0||s==va(n))){let c=n.childNodes[s-1];if(c.nodeType==1)return Zv(c.getBoundingClientRect(),!1)}if(a==null&&s<va(n)){let c=n.childNodes[s];if(c.nodeType==1)return Zv(c.getBoundingClientRect(),!0)}return Zv(n.getBoundingClientRect(),r>=0)}if(a==null&&s&&(r<0||s==va(n))){let c=n.childNodes[s-1],f=c.nodeType==3?Zi(c,va(c)-(i?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return jf(Jo(f,1),!1)}if(a==null&&s<va(n)){let c=n.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?Zi(c,0,i?0:1):c.nodeType==1?c:null:null;if(f)return jf(Jo(f,-1),!0)}return jf(Jo(n.nodeType==3?Zi(n):n,-r),r>=0)}function jf(e,t){if(e.width==0)return e;let r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function Zv(e,t){if(e.height==0)return e;let r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function iM(e,t,r){let n=e.state,s=e.root.activeElement;n!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return r()}finally{n!=t&&e.updateState(n),s!=e.dom&&s&&s.focus()}}function Pie(e,t,r){let n=t.selection,s=r=="up"?n.$from:n.$to;return iM(e,t,()=>{let{node:a}=e.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let o=e.docView.nearestDesc(a,!0);if(!o)break;if(o.node.isBlock){a=o.contentDOM||o.dom;break}a=o.dom.parentNode}let i=aM(e,s.pos,1);for(let o=a.firstChild;o;o=o.nextSibling){let c;if(o.nodeType==1)c=o.getClientRects();else if(o.nodeType==3)c=Zi(o,0,o.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let h=c[f];if(h.bottom>h.top+1&&(r=="up"?i.top-h.top>(h.bottom-i.top)*2:h.bottom-i.bottom>(i.bottom-h.top)*2))return!1}}return!0})}const Lie=/[\u0590-\u08ac]/;function Bie(e,t,r){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,a=!s,i=s==n.parent.content.size,o=e.domSelection();return o?!Lie.test(n.parent.textContent)||!o.modify?r=="left"||r=="backward"?a:i:iM(e,t,()=>{let{focusNode:c,focusOffset:f,anchorNode:h,anchorOffset:m}=e.domSelectionRange(),x=o.caretBidiLevel;o.modify("move",r,"character");let g=n.depth?e.docView.domAfterPos(n.before()):e.dom,{focusNode:v,focusOffset:y}=e.domSelectionRange(),w=v&&!g.contains(v.nodeType==1?v:v.parentNode)||c==v&&f==y;try{o.collapse(h,m),c&&(c!=h||f!=m)&&o.extend&&o.extend(c,f)}catch{}return x!=null&&(o.caretBidiLevel=x),w}):n.pos==n.start()||n.pos==n.end()}let G3=null,K3=null,X3=!1;function Uie(e,t,r){return G3==t&&K3==r?X3:(G3=t,K3=r,X3=r=="up"||r=="down"?Pie(e,t,r):Bie(e,t,r))}const Ea=0,Y3=1,oc=2,Ei=3;class _0{constructor(t,r,n,s){this.parent=t,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=Ea,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==t)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let a,i;if(t==this.contentDOM)a=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.previousSibling}for(;a&&!((i=a.pmViewDesc)&&i.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(i)+i.size:this.posAtStart}else{let a,i;if(t==this.contentDOM)a=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((i=a.pmViewDesc)&&i.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(i):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=r>Rn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=t;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&r==t.childNodes.length)for(let a=t;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let n=!0,s=t;s;s=s.parentNode){let a=this.getDesc(s),i;if(a&&(!r||a.node))if(n&&(i=a.nodeDOM)&&!(i.nodeType==1?i.contains(t.nodeType==1?t:t.parentNode):i==t))n=!1;else return a}}getDesc(t){let r=t.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(t,r,n){for(let s=t;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(t,r,n)}return-1}descAt(t){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],a=n+s.size;if(n==t&&a!=n){for(;!s.border&&s.children.length;)for(let i=0;i<s.children.length;i++){let o=s.children[i];if(o.size){s=o;break}}return s}if(t<a)return s.descAt(t-n-s.border);n=a}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,s=0;for(let a=0;n<this.children.length;n++){let i=this.children[n],o=a+i.size;if(o>t||i instanceof lM){s=t-a;break}a=o}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof oM&&a.side>=0;n--);if(r<=0){let a,i=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,i=!1);return a&&r&&i&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?Rn(a.dom)+1:0}}else{let a,i=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,i=!1);return a&&i&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?Rn(a.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let i=n,o=0;;o++){let c=this.children[o],f=i+c.size;if(s==-1&&t<=f){let h=i+c.border;if(t>=h&&r<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,r,h);t=i;for(let m=o;m>0;m--){let x=this.children[m-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){s=Rn(x.dom)+1;break}t-=x.size}s==-1&&(s=0)}if(s>-1&&(f>r||o==this.children.length-1)){r=f;for(let h=o+1;h<this.children.length;h++){let m=this.children[h];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){a=Rn(m.dom);break}r+=m.size}a==-1&&(a=this.contentDOM.childNodes.length);break}i=f}return{node:this.contentDOM,from:t,to:r,fromOffset:s,toOffset:a}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:n}=this.domFromPos(t,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n]}setSelection(t,r,n,s=!1){let a=Math.min(t,r),i=Math.max(t,r);for(let g=0,v=0;g<this.children.length;g++){let y=this.children[g],w=v+y.size;if(a>v&&i<w)return y.setSelection(t-v-y.border,r-v-y.border,n,s);v=w}let o=this.domFromPos(t,t?-1:1),c=r==t?o:this.domFromPos(r,r?-1:1),f=n.root.getSelection(),h=n.domSelectionRange(),m=!1;if((wa||Xn)&&t==r){let{node:g,offset:v}=o;if(g.nodeType==3){if(m=!!(v&&g.nodeValue[v-1]==`
`),m&&v==g.nodeValue.length)for(let y=g,w;y;y=y.parentNode){if(w=y.nextSibling){w.nodeName=="BR"&&(o=c={node:w.parentNode,offset:Rn(w)+1});break}let E=y.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let y=g.childNodes[v-1];m=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(wa&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let g=h.focusNode.childNodes[h.focusOffset];g&&g.contentEditable=="false"&&(s=!0)}if(!(s||m&&Xn)&&Dc(o.node,o.offset,h.anchorNode,h.anchorOffset)&&Dc(c.node,c.offset,h.focusNode,h.focusOffset))return;let x=!1;if((f.extend||t==r)&&!(m&&wa)){f.collapse(o.node,o.offset);try{t!=r&&f.extend(c.node,c.offset),x=!0}catch{}}if(!x){if(t>r){let v=o;o=c,c=v}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(o.node,o.offset),f.removeAllRanges(),f.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let n=0,s=0;s<this.children.length;s++){let a=this.children[s],i=n+a.size;if(n==i?t<=i&&r>=n:t<i&&r>n){let o=n+a.border,c=i-a.border;if(t>=o&&r<=c){this.dirty=t==n||r==i?oc:Y3,t==o&&r==c&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Ei:a.markDirty(t-o,r-o);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?oc:Ei}n=i}this.dirty=oc}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let n=t==1?oc:Y3;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class oM extends _0{constructor(t,r,n,s){let a,i=r.type.toDOM;if(typeof i=="function"&&(i=i(n,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(i.nodeType!=1){let o=document.createElement("span");o.appendChild(i),i=o}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(t,[],i,null),this.widget=r,this.widget=r,a=this}matchesWidget(t){return this.dirty==Ea&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return r?r(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class zie extends _0{constructor(t,r,n,s){super(t,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Ic extends _0{constructor(t,r,n,s,a){super(t,[],n,s),this.mark=r,this.spec=a}static create(t,r,n,s){let a=s.nodeViews[r.type.name],i=a&&a(r,s,n);return(!i||!i.dom)&&(i=qc.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Ic(t,r,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&Ei||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ei&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),this.dirty!=Ea){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Ea}}slice(t,r,n){let s=Ic.create(this.parent,this.mark,!0,n),a=this.children,i=this.size;r<i&&(a=J2(a,r,i,n)),t>0&&(a=J2(a,0,t,n));for(let o=0;o<a.length;o++)a[o].parent=s;return s.children=a,s}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class yl extends _0{constructor(t,r,n,s,a,i,o,c,f){super(t,[],a,i),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=o}static create(t,r,n,s,a,i){let o=a.nodeViews[r.type.name],c,f=o&&o(r,a,()=>{if(!c)return i;if(c.parent)return c.parent.posBeforeChild(c)},n,s),h=f&&f.dom,m=f&&f.contentDOM;if(r.isText){if(!h)h=document.createTextNode(r.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:m}=qc.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),r.type.spec.draggable&&(h.draggable=!0));let x=h;return h=dM(h,n,r),f?c=new Hie(t,r,n,s,h,m||null,x,f,a,i+1):r.isText?new Hg(t,r,n,s,h,x,a):new yl(t,r,n,s,h,m||null,x,a,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>$e.empty)}return t}matchesNode(t,r,n){return this.dirty==Ea&&t.eq(this.node)&&_x(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let n=this.node.inlineContent,s=r,a=t.composing?this.localCompositionInfo(t,r):null,i=a&&a.pos>-1?a:null,o=a&&a.pos<0,c=new Vie(this,i&&i.node,t);Gie(this.node,this.innerDeco,(f,h,m)=>{f.spec.marks?c.syncToMarks(f.spec.marks,n,t,h):f.type.side>=0&&!m&&c.syncToMarks(h==this.node.childCount?ir.none:this.node.child(h).marks,n,t,h),c.placeWidget(f,t,s)},(f,h,m,x)=>{c.syncToMarks(f.marks,n,t,x);let g;c.findNodeMatch(f,h,m,x)||o&&t.state.selection.from>s&&t.state.selection.to<s+f.nodeSize&&(g=c.findIndexWithChild(a.node))>-1&&c.updateNodeAt(f,h,m,g,t)||c.updateNextNode(f,h,m,t,x,s)||c.addNode(f,h,m,t,s),s+=f.nodeSize}),c.syncToMarks([],n,t,0),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==oc)&&(i&&this.protectLocalComposition(t,i),cM(this.contentDOM,this.children,t),rd&&Kie(this.dom))}localCompositionInfo(t,r){let{from:n,to:s}=t.state.selection;if(!(t.state.selection instanceof yt)||n<r||s>r+this.node.content.size)return null;let a=t.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let i=a.nodeValue,o=Xie(this.node.content,i,n-r,s-r);return o<0?null:{node:a,pos:o,text:i}}else return{node:a,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let i=new zie(this,a,r,s);t.input.compositionNodes.push(i),this.children=J2(this.children,n,n+s.length,t,i)}update(t,r,n,s){return this.dirty==Ei||!t.sameMarkup(this.node)?!1:(this.updateInner(t,r,n,s),!0)}updateInner(t,r,n,s){this.updateOuterDeco(r),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Ea}updateOuterDeco(t){if(_x(t,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=uM(this.dom,this.nodeDOM,Y2(this.outerDeco,this.node,r),Y2(t,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function J3(e,t,r,n,s){dM(n,t,e);let a=new yl(void 0,e,t,r,n,n,n,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class Hg extends yl{constructor(t,r,n,s,a,i,o){super(t,r,n,s,a,null,i,o,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,n,s){return this.dirty==Ei||this.dirty!=Ea&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Ea||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=Ea,!0)}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,n){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,r,n){let s=this.node.cut(t,r),a=document.createTextNode(s.text);return new Hg(this.parent,s,this.outerDeco,this.innerDeco,a,a,n)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(t==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Ei)}get domAtom(){return!1}isText(t){return this.node.text==t}}class lM extends _0{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Ea&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Hie extends yl{constructor(t,r,n,s,a,i,o,c,f,h){super(t,r,n,s,a,i,o,f,h),this.spec=c}update(t,r,n,s){if(this.dirty==Ei)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let a=this.spec.update(t,r,n);return a&&this.updateInner(t,r,n,s),a}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,n,s){this.spec.setSelection?this.spec.setSelection(t,r,n.root):super.setSelection(t,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function cM(e,t,r){let n=e.firstChild,s=!1;for(let a=0;a<t.length;a++){let i=t[a],o=i.dom;if(o.parentNode==e){for(;o!=n;)n=Z3(n),s=!0;n=n.nextSibling}else s=!0,e.insertBefore(o,n);if(i instanceof Ic){let c=n?n.previousSibling:e.lastChild;cM(i.contentDOM,i.children,r),n=c?c.nextSibling:e.firstChild}}for(;n;)n=Z3(n),s=!0;s&&r.trackWrites==e&&(r.trackWrites=null)}const hh=function(e){e&&(this.nodeName=e)};hh.prototype=Object.create(null);const lc=[new hh];function Y2(e,t,r){if(e.length==0)return lc;let n=r?lc[0]:new hh,s=[n];for(let a=0;a<e.length;a++){let i=e[a].type.attrs;if(i){i.nodeName&&s.push(n=new hh(i.nodeName));for(let o in i){let c=i[o];c!=null&&(r&&s.length==1&&s.push(n=new hh(t.isInline?"span":"div")),o=="class"?n.class=(n.class?n.class+" ":"")+c:o=="style"?n.style=(n.style?n.style+";":"")+c:o!="nodeName"&&(n[o]=c))}}}return s}function uM(e,t,r,n){if(r==lc&&n==lc)return t;let s=t;for(let a=0;a<n.length;a++){let i=n[a],o=r[a];if(a){let c;o&&o.nodeName==i.nodeName&&s!=e&&(c=s.parentNode)&&c.nodeName.toLowerCase()==i.nodeName||(c=document.createElement(i.nodeName),c.pmIsDeco=!0,c.appendChild(s),o=lc[0]),s=c}qie(s,o||lc[0],i)}return s}function qie(e,t,r){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&e.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=t[n]&&e.setAttribute(n,r[n]);if(t.class!=r.class){let n=t.class?t.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)s.indexOf(n[a])==-1&&e.classList.remove(n[a]);for(let a=0;a<s.length;a++)n.indexOf(s[a])==-1&&e.classList.add(s[a]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(t.style);)e.style.removeProperty(s[1])}r.style&&(e.style.cssText+=r.style)}}function dM(e,t,r){return uM(e,e,lc,Y2(t,r,e.nodeType!=1))}function _x(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function Z3(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Vie{constructor(t,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=$ie(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let n=t;n<r;n++)this.top.children[n].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,n,s){let a=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;a<o&&(a==i-1?this.top:this.stack[a+1<<1]).matchesMark(t[a])&&t[a].type.spec.spanning!==!1;)a++;for(;a<i;)this.destroyRest(),this.top.dirty=Ea,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let c=-1,f=this.top.children.length;s<this.preMatch.index&&(f=Math.min(this.index+3,f));for(let h=this.index;h<f;h++){let m=this.top.children[h];if(m.matchesMark(t[i])&&!this.isLocked(m.dom)){c=h;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let h=Ic.create(this.top,t[i],r,n);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,i++}}findNodeMatch(t,r,n,s){let a=-1,i;if(s>=this.preMatch.index&&(i=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&i.matchesNode(t,r,n))a=this.top.children.indexOf(i,this.index);else for(let o=this.index,c=Math.min(this.top.children.length,o+5);o<c;o++){let f=this.top.children[o];if(f.matchesNode(t,r,n)&&!this.preMatch.matched.has(f)){a=o;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(t,r,n,s,a){let i=this.top.children[s];return i.dirty==Ei&&i.dom==i.contentDOM&&(i.dirty=oc),i.update(t,r,n,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}t=r}}updateNextNode(t,r,n,s,a,i){for(let o=this.index;o<this.top.children.length;o++){let c=this.top.children[o];if(c instanceof yl){let f=this.preMatch.matched.get(c);if(f!=null&&f!=a)return!1;let h=c.dom,m,x=this.isLocked(h)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=Ei&&_x(r,c.outerDeco));if(!x&&c.update(t,r,n,s))return this.destroyBetween(this.index,o),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!x&&(m=this.recreateWrapper(c,t,r,n,s,i)))return this.destroyBetween(this.index,o),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=oc,m.updateChildren(s,i+1),m.dirty=Ea),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,n,s,a,i){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content)||!_x(n,t.outerDeco)||!s.eq(t.innerDeco))return null;let o=yl.create(this.top,r,n,s,a,i);if(o.contentDOM){o.children=t.children,t.children=[];for(let c of o.children)c.parent=o}return t.destroy(),o}addNode(t,r,n,s,a){let i=yl.create(this.top,t,r,n,s,a);i.contentDOM&&i.updateChildren(s,a+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(t,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new oM(this.top,t,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof Ic;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof Hg)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Xn||Dn)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new lM(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function $ie(e,t){let r=t,n=r.children.length,s=e.childCount,a=new Map,i=[];e:for(;s>0;){let o;for(;;)if(n){let f=r.children[n-1];if(f instanceof Ic)r=f,n=f.children.length;else{o=f,n--;break}}else{if(r==t)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=o.node;if(c){if(c!=e.child(s-1))break;--s,a.set(o,s),i.push(o)}}return{index:s,matched:a,matches:i.reverse()}}function Wie(e,t){return e.type.side-t.type.side}function Gie(e,t,r,n){let s=t.locals(e),a=0;if(s.length==0){for(let f=0;f<e.childCount;f++){let h=e.child(f);n(h,s,t.forChild(a,h),f),a+=h.nodeSize}return}let i=0,o=[],c=null;for(let f=0;;){let h,m;for(;i<s.length&&s[i].to==a;){let w=s[i++];w.widget&&(h?(m||(m=[h])).push(w):h=w)}if(h)if(m){m.sort(Wie);for(let w=0;w<m.length;w++)r(m[w],f,!!c)}else r(h,f,!!c);let x,g;if(c)g=-1,x=c,c=null;else if(f<e.childCount)g=f,x=e.child(f++);else break;for(let w=0;w<o.length;w++)o[w].to<=a&&o.splice(w--,1);for(;i<s.length&&s[i].from<=a&&s[i].to>a;)o.push(s[i++]);let v=a+x.nodeSize;if(x.isText){let w=v;i<s.length&&s[i].from<w&&(w=s[i].from);for(let E=0;E<o.length;E++)o[E].to<w&&(w=o[E].to);w<v&&(c=x.cut(w-a),x=x.cut(0,w-a),v=w,g=-1)}else for(;i<s.length&&s[i].to<v;)i++;let y=x.isInline&&!x.isLeaf?o.filter(w=>!w.inline):o.slice();n(x,y,t.forChild(a,x),g),a=v}}function Kie(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Xie(e,t,r,n){for(let s=0,a=0;s<e.childCount&&a<=n;){let i=e.child(s++),o=a;if(a+=i.nodeSize,!i.isText)continue;let c=i.text;for(;s<e.childCount;){let f=e.child(s++);if(a+=f.nodeSize,!f.isText)break;c+=f.text}if(a>=r){if(a>=n&&c.slice(n-t.length-o,n-o)==t)return n-t.length;let f=o<n?c.lastIndexOf(t,n-o-1):-1;if(f>=0&&f+t.length+o>=r)return o+f;if(r==n&&c.length>=n+t.length-o&&c.slice(n-o,n-o+t.length)==t)return n}}return-1}function J2(e,t,r,n,s){let a=[];for(let i=0,o=0;i<e.length;i++){let c=e[i],f=o,h=o+=c.size;f>=r||h<=t?a.push(c):(f<t&&a.push(c.slice(0,t-f,n)),s&&(a.push(s),s=void 0),h>r&&a.push(c.slice(r-f,c.size,n)))}return a}function V_(e,t=null){let r=e.domSelectionRange(),n=e.state.doc;if(!r.focusNode)return null;let s=e.docView.nearestDesc(r.focusNode),a=s&&s.size==0,i=e.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(i<0)return null;let o=n.resolve(i),c,f;if(zg(r)){for(c=i;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&dt.isSelectable(m)&&s.parent&&!(m.isInline&&Eie(r.focusNode,r.focusOffset,s.dom))){let x=s.posBefore;f=new dt(i==x?o:n.resolve(x))}}else{if(r instanceof e.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=i,x=i;for(let g=0;g<r.rangeCount;g++){let v=r.getRangeAt(g);m=Math.min(m,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),x=Math.max(x,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(m<0)return null;[c,i]=x==e.state.selection.anchor?[x,m]:[m,x],o=n.resolve(i)}else c=e.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let h=n.resolve(c);if(!f){let m=t=="pointer"||e.state.selection.head<o.pos&&!a?1:-1;f=$_(e,h,o,m)}return f}function fM(e){return e.editable?e.hasFocus():pM(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function fo(e,t=!1){let r=e.state.selection;if(hM(e,r),!!fM(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Dn){let n=e.domSelectionRange(),s=e.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&Dc(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Jie(e);else{let{anchor:n,head:s}=r,a,i;Q3&&!(r instanceof yt)&&(r.$from.parent.inlineContent||(a=e5(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(i=e5(e,r.to))),e.docView.setSelection(n,s,e,t),Q3&&(a&&t5(a),i&&t5(i)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Yie(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Q3=Xn||Dn&&QI<63;function e5(e,t){let{node:r,offset:n}=e.docView.domFromPos(t,0),s=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(Xn&&s&&s.contentEditable=="false")return Qv(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return Qv(s);if(a)return Qv(a)}}function Qv(e){return e.contentEditable="true",Xn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function t5(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Yie(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let r=e.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!fM(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Jie(e){let t=e.domSelection();if(!t)return;let r=e.cursorWrapper.dom,n=r.nodeName=="IMG";n?t.collapse(r.parentNode,Rn(r)+1):t.collapse(r,0),!n&&!e.state.selection.visible&&Cs&&gl<=11&&(r.disabled=!0,r.disabled=!1)}function hM(e,t){if(t instanceof dt){let r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(r5(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else r5(e)}function r5(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function $_(e,t,r,n){return e.someProp("createSelectionBetween",s=>s(e,t,r))||yt.between(t,r,n)}function n5(e){return e.editable&&!e.hasFocus()?!1:pM(e)}function pM(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Zie(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.domSelectionRange();return Dc(t.node,t.offset,r.anchorNode,r.anchorOffset)}function Z2(e,t){let{$anchor:r,$head:n}=e.selection,s=t>0?r.max(n):r.min(n),a=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return a&&kt.findFrom(a,t)}function Zo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function s5(e,t,r){let n=e.state.selection;if(n instanceof yt)if(r.indexOf("s")>-1){let{$head:s}=n,a=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let i=e.state.doc.resolve(s.pos+a.nodeSize*(t<0?-1:1));return Zo(e,new yt(n.$anchor,i))}else if(n.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=Z2(e.state,t);return s&&s instanceof dt?Zo(e,s):!1}else if(!(ya&&r.indexOf("m")>-1)){let s=n.$head,a=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,i;if(!a||a.isText)return!1;let o=t<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(i=e.docView.descAt(o))&&!i.contentDOM?dt.isSelectable(a)?Zo(e,new dt(t<0?e.state.doc.resolve(s.pos-a.nodeSize):s)):E0?Zo(e,new yt(e.state.doc.resolve(t<0?o:o+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof dt&&n.node.isInline)return Zo(e,new yt(t>0?n.$to:n.$from));{let s=Z2(e.state,t);return s?Zo(e,s):!1}}}function Sx(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function ph(e,t){let r=e.pmViewDesc;return r&&r.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function ku(e,t){return t<0?Qie(e):eoe(e)}function Qie(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let s,a,i=!1;for(wa&&r.nodeType==1&&n<Sx(r)&&ph(r.childNodes[n],-1)&&(i=!0);;)if(n>0){if(r.nodeType!=1)break;{let o=r.childNodes[n-1];if(ph(o,-1))s=r,a=--n;else if(o.nodeType==3)r=o,n=r.nodeValue.length;else break}}else{if(mM(r))break;{let o=r.previousSibling;for(;o&&ph(o,-1);)s=r.parentNode,a=Rn(o),o=o.previousSibling;if(o)r=o,n=Sx(r);else{if(r=r.parentNode,r==e.dom)break;n=0}}}i?Q2(e,r,n):s&&Q2(e,s,a)}function eoe(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let s=Sx(r),a,i;for(;;)if(n<s){if(r.nodeType!=1)break;let o=r.childNodes[n];if(ph(o,1))a=r,i=++n;else break}else{if(mM(r))break;{let o=r.nextSibling;for(;o&&ph(o,1);)a=o.parentNode,i=Rn(o)+1,o=o.nextSibling;if(o)r=o,n=0,s=Sx(r);else{if(r=r.parentNode,r==e.dom)break;n=s=0}}}a&&Q2(e,a,i)}function mM(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function toe(e,t){for(;e&&t==e.childNodes.length&&!w0(e);)t=Rn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let r=e.childNodes[t];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=0}}function roe(e,t){for(;e&&!t&&!w0(e);)t=Rn(e),e=e.parentNode;for(;e&&t;){let r=e.childNodes[t-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=e.childNodes.length}}function Q2(e,t,r){if(t.nodeType!=3){let a,i;(i=toe(t,r))?(t=i,r=0):(a=roe(t,r))&&(t=a,r=a.nodeValue.length)}let n=e.domSelection();if(!n)return;if(zg(n)){let a=document.createRange();a.setEnd(t,r),a.setStart(t,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(t,r);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&fo(e)},50)}function a5(e,t){let r=e.state.doc.resolve(t);if(!(Dn||eM)&&r.parent.inlineContent){let s=e.coordsAtPos(t);if(t>r.start()){let a=e.coordsAtPos(t-1),i=(a.top+a.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(t<r.end()){let a=e.coordsAtPos(t+1),i=(a.top+a.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function i5(e,t,r){let n=e.state.selection;if(n instanceof yt&&!n.empty||r.indexOf("s")>-1||ya&&r.indexOf("m")>-1)return!1;let{$from:s,$to:a}=n;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let i=Z2(e.state,t);if(i&&i instanceof dt)return Zo(e,i)}if(!s.parent.inlineContent){let i=t<0?s:a,o=n instanceof $s?kt.near(i,t):kt.findFrom(i,t);return o?Zo(e,o):!1}return!1}function o5(e,t){if(!(e.state.selection instanceof yt))return!0;let{$head:r,$anchor:n,empty:s}=e.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let i=e.state.tr;return t<0?i.delete(r.pos-a.nodeSize,r.pos):i.delete(r.pos,r.pos+a.nodeSize),e.dispatch(i),!0}return!1}function l5(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function noe(e){if(!Xn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(t&&t.nodeType==1&&r==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;l5(e,n,"true"),setTimeout(()=>l5(e,n,"false"),20)}return!1}function soe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function aoe(e,t){let r=t.keyCode,n=soe(t);if(r==8||ya&&r==72&&n=="c")return o5(e,-1)||ku(e,-1);if(r==46&&!t.shiftKey||ya&&r==68&&n=="c")return o5(e,1)||ku(e,1);if(r==13||r==27)return!0;if(r==37||ya&&r==66&&n=="c"){let s=r==37?a5(e,e.state.selection.from)=="ltr"?-1:1:-1;return s5(e,s,n)||ku(e,s)}else if(r==39||ya&&r==70&&n=="c"){let s=r==39?a5(e,e.state.selection.from)=="ltr"?1:-1:1;return s5(e,s,n)||ku(e,s)}else{if(r==38||ya&&r==80&&n=="c")return i5(e,-1,n)||ku(e,-1);if(r==40||ya&&r==78&&n=="c")return noe(e)||i5(e,1,n)||ku(e,1);if(n==(ya?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function W_(e,t){e.someProp("transformCopied",g=>{t=g(t,e)});let r=[],{content:n,openStart:s,openEnd:a}=t;for(;s>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,a--;let g=n.firstChild;r.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),n=g.content}let i=e.someProp("clipboardSerializer")||qc.fromSchema(e.state.schema),o=wM(),c=o.createElement("div");c.appendChild(i.serializeFragment(n,{document:o}));let f=c.firstChild,h,m=0;for(;f&&f.nodeType==1&&(h=bM[f.nodeName.toLowerCase()]);){for(let g=h.length-1;g>=0;g--){let v=o.createElement(h[g]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),m++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${a}${m?` -${m}`:""} ${JSON.stringify(r)}`);let x=e.someProp("clipboardTextSerializer",g=>g(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:c,text:x,slice:t}}function xM(e,t,r,n,s){let a=s.parent.type.spec.code,i,o;if(!r&&!t)return null;let c=!!t&&(n||a||!r);if(c){if(e.someProp("transformPastedText",x=>{t=x(t,a||n,e)}),a)return o=new rt($e.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",x=>{o=x(o,e,!0)}),o;let m=e.someProp("clipboardTextParser",x=>x(t,s,n,e));if(m)o=m;else{let x=s.marks(),{schema:g}=e.state,v=qc.fromSchema(g);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(y=>{let w=i.appendChild(document.createElement("p"));y&&w.appendChild(v.serializeNode(g.text(y,x)))})}}else e.someProp("transformPastedHTML",m=>{r=m(r,e)}),i=coe(r),E0&&uoe(i);let f=i&&i.querySelector("[data-pm-slice]"),h=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let m=+h[3];m>0;m--){let x=i.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;i=x}if(o||(o=(e.someProp("clipboardParser")||e.someProp("domParser")||xl.fromSchema(e.state.schema)).parseSlice(i,{preserveWhitespace:!!(c||h),context:s,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!ioe.test(x.parentNode.nodeName)?{ignore:!0}:null}})),h)o=doe(c5(o,+h[1],+h[2]),h[4]);else if(o=rt.maxOpen(ooe(o.content,s),!0),o.openStart||o.openEnd){let m=0,x=0;for(let g=o.content.firstChild;m<o.openStart&&!g.type.spec.isolating;m++,g=g.firstChild);for(let g=o.content.lastChild;x<o.openEnd&&!g.type.spec.isolating;x++,g=g.lastChild);o=c5(o,m,x)}return e.someProp("transformPasted",m=>{o=m(o,e,c)}),o}const ioe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ooe(e,t){if(e.childCount<2)return e;for(let r=t.depth;r>=0;r--){let s=t.node(r).contentMatchAt(t.index(r)),a,i=[];if(e.forEach(o=>{if(!i)return;let c=s.findWrapping(o.type),f;if(!c)return i=null;if(f=i.length&&a.length&&yM(c,a,o,i[i.length-1],0))i[i.length-1]=f;else{i.length&&(i[i.length-1]=vM(i[i.length-1],a.length));let h=gM(o,c);i.push(h),s=s.matchType(h.type),a=c}}),i)return $e.from(i)}return e}function gM(e,t,r=0){for(let n=t.length-1;n>=r;n--)e=t[n].create(null,$e.from(e));return e}function yM(e,t,r,n,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let a=yM(e,t,r,n.lastChild,s+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(s==e.length-1?r.type:e[s+1]))return n.copy(n.content.append($e.from(gM(r,e,s+1))))}}function vM(e,t){if(t==0)return e;let r=e.content.replaceChild(e.childCount-1,vM(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore($e.empty,!0);return e.copy(r.append(n))}function eE(e,t,r,n,s,a){let i=t<0?e.firstChild:e.lastChild,o=i.content;return e.childCount>1&&(a=0),s<n-1&&(o=eE(o,t,r,n,s+1,a)),s>=r&&(o=t<0?i.contentMatchAt(0).fillBefore(o,a<=s).append(o):o.append(i.contentMatchAt(i.childCount).fillBefore($e.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,i.copy(o))}function c5(e,t,r){return t<e.openStart&&(e=new rt(eE(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new rt(eE(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}const bM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let u5=null;function wM(){return u5||(u5=document.implementation.createHTMLDocument("title"))}let eb=null;function loe(e){let t=window.trustedTypes;return t?(eb||(eb=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),eb.createHTML(e)):e}function coe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let r=wM().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),s;if((s=n&&bM[n[1].toLowerCase()])&&(e=s.map(a=>"<"+a+">").join("")+e+s.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=loe(e),s)for(let a=0;a<s.length;a++)r=r.querySelector(s[a])||r;return r}function uoe(e){let t=e.querySelectorAll(Dn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let n=t[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function doe(e,t){if(!e.size)return e;let r=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}let{content:s,openStart:a,openEnd:i}=e;for(let o=n.length-2;o>=0;o-=2){let c=r.nodes[n[o]];if(!c||c.hasRequiredAttrs())break;s=$e.from(c.create(n[o+1],s)),a++,i++}return new rt(s,a,i)}const ds={},fs={},foe={touchstart:!0,touchmove:!0};class hoe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function poe(e){for(let t in ds){let r=ds[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=n=>{xoe(e,n)&&!G_(e,n)&&(e.editable||!(n.type in fs))&&r(e,n)},foe[t]?{passive:!0}:void 0)}Xn&&e.dom.addEventListener("input",()=>null),tE(e)}function fl(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function moe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function tE(e){e.someProp("handleDOMEvents",t=>{for(let r in t)e.input.eventHandlers[r]||e.dom.addEventListener(r,e.input.eventHandlers[r]=n=>G_(e,n))})}function G_(e,t){return e.someProp("handleDOMEvents",r=>{let n=r[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function xoe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function goe(e,t){!G_(e,t)&&ds[t.type]&&(e.editable||!(t.type in fs))&&ds[t.type](e,t)}fs.keydown=(e,t)=>{let r=t;if(e.input.shiftKey=r.keyCode==16||r.shiftKey,!_M(e,r)&&(e.input.lastKeyCode=r.keyCode,e.input.lastKeyCodeTime=Date.now(),!(ro&&Dn&&r.keyCode==13)))if(r.keyCode!=229&&e.domObserver.forceFlush(),rd&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();e.input.lastIOSEnter=n,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==n&&(e.someProp("handleKeyDown",s=>s(e,nc(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",n=>n(e,r))||aoe(e,r)?r.preventDefault():fl(e,"key")};fs.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};fs.keypress=(e,t)=>{let r=t;if(_M(e,r)||!r.charCode||r.ctrlKey&&!r.altKey||ya&&r.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,r))){r.preventDefault();return}let n=e.state.selection;if(!(n instanceof yt)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode),a=()=>e.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",i=>i(e,n.$from.pos,n.$to.pos,s,a))&&e.dispatch(a()),r.preventDefault()}};function qg(e){return{left:e.clientX,top:e.clientY}}function yoe(e,t){let r=t.x-e.clientX,n=t.y-e.clientY;return r*r+n*n<100}function K_(e,t,r,n,s){if(n==-1)return!1;let a=e.state.doc.resolve(n);for(let i=a.depth+1;i>0;i--)if(e.someProp(t,o=>i>a.depth?o(e,r,a.nodeAfter,a.before(i),s,!0):o(e,r,a.node(i),a.before(i),s,!1)))return!0;return!1}function qu(e,t,r){if(e.focused||e.focus(),e.state.selection.eq(t))return;let n=e.state.tr.setSelection(t);n.setMeta("pointer",!0),e.dispatch(n)}function voe(e,t){if(t==-1)return!1;let r=e.state.doc.resolve(t),n=r.nodeAfter;return n&&n.isAtom&&dt.isSelectable(n)?(qu(e,new dt(r)),!0):!1}function boe(e,t){if(t==-1)return!1;let r=e.state.selection,n,s;r instanceof dt&&(n=r.node);let a=e.state.doc.resolve(t);for(let i=a.depth+1;i>0;i--){let o=i>a.depth?a.nodeAfter:a.node(i);if(dt.isSelectable(o)){n&&r.$from.depth>0&&i>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?s=a.before(r.$from.depth):s=a.before(i);break}}return s!=null?(qu(e,dt.create(e.state.doc,s)),!0):!1}function woe(e,t,r,n,s){return K_(e,"handleClickOn",t,r,n)||e.someProp("handleClick",a=>a(e,t,n))||(s?boe(e,r):voe(e,r))}function Eoe(e,t,r,n){return K_(e,"handleDoubleClickOn",t,r,n)||e.someProp("handleDoubleClick",s=>s(e,t,n))}function _oe(e,t,r,n){return K_(e,"handleTripleClickOn",t,r,n)||e.someProp("handleTripleClick",s=>s(e,t,n))||Soe(e,r,n)}function Soe(e,t,r){if(r.button!=0)return!1;let n=e.state.doc;if(t==-1)return n.inlineContent?(qu(e,yt.create(n,0,n.content.size)),!0):!1;let s=n.resolve(t);for(let a=s.depth+1;a>0;a--){let i=a>s.depth?s.nodeAfter:s.node(a),o=s.before(a);if(i.inlineContent)qu(e,yt.create(n,o+1,o+1+i.content.size));else if(dt.isSelectable(i))qu(e,dt.create(n,o));else continue;return!0}}function X_(e){return Nx(e)}const EM=ya?"metaKey":"ctrlKey";ds.mousedown=(e,t)=>{let r=t;e.input.shiftKey=r.shiftKey;let n=X_(e),s=Date.now(),a="singleClick";s-e.input.lastClick.time<500&&yoe(r,e.input.lastClick)&&!r[EM]&&e.input.lastClick.button==r.button&&(e.input.lastClick.type=="singleClick"?a="doubleClick":e.input.lastClick.type=="doubleClick"&&(a="tripleClick")),e.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:a,button:r.button};let i=e.posAtCoords(qg(r));i&&(a=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Noe(e,i,r,!!n)):(a=="doubleClick"?Eoe:_oe)(e,i.pos,i.inside,r)?r.preventDefault():fl(e,"pointer"))};class Noe{constructor(t,r,n,s){this.view=t,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[EM],this.allowDefault=n.shiftKey;let a,i;if(r.inside>-1)a=t.state.doc.nodeAt(r.inside),i=r.inside;else{let h=t.state.doc.resolve(r.pos);a=h.parent,i=h.depth?h.before():0}const o=s?null:n.target,c=o?t.docView.nearestDesc(o,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:f}=t.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||f instanceof dt&&f.from<=i&&f.to>i)&&(this.mightDrag={node:a,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&wa&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),fl(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(qg(t))),this.updateAllowDefault(t),this.allowDefault||!r?fl(this.view,"pointer"):woe(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Xn&&this.mightDrag&&!this.mightDrag.node.isAtom||Dn&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(qu(this.view,kt.near(this.view.state.doc.resolve(r.pos))),t.preventDefault()):fl(this.view,"pointer")}move(t){this.updateAllowDefault(t),fl(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}ds.touchstart=e=>{e.input.lastTouch=Date.now(),X_(e),fl(e,"pointer")};ds.touchmove=e=>{e.input.lastTouch=Date.now(),fl(e,"pointer")};ds.contextmenu=e=>X_(e);function _M(e,t){return e.composing?!0:Xn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const Toe=ro?5e3:-1;fs.compositionstart=fs.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,r=t.selection.$to;if(t.selection instanceof yt&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||Dn&&eM&&Coe(e)))e.markCursor=e.state.storedMarks||r.marks(),Nx(e,!0),e.markCursor=null;else if(Nx(e,!t.selection.empty),wa&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=e.domSelectionRange();for(let s=n.focusNode,a=n.focusOffset;s&&s.nodeType==1&&a!=0;){let i=a<0?s.lastChild:s.childNodes[a-1];if(!i)break;if(i.nodeType==3){let o=e.domSelection();o&&o.collapse(i,i.nodeValue.length);break}else s=i,a=-1}}e.input.composing=!0}SM(e,Toe)};function Coe(e){let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(!t||t.nodeType!=1||r>=t.childNodes.length)return!1;let n=t.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}fs.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.badSafariComposition?e.domObserver.forceFlush():e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,SM(e,20))};function SM(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Nx(e),t))}function NM(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=koe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Aoe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let r=bie(t.focusNode,t.focusOffset),n=wie(t.focusNode,t.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,a=e.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!s||!s.isText(n.nodeValue))return n;if(e.input.compositionNode==n){let i=r.pmViewDesc;if(!(!i||!i.isText(r.nodeValue)))return n}}return r||n}function koe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Nx(e,t=!1){if(!(ro&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),NM(e),t||e.docView&&e.docView.dirty){let r=V_(e),n=e.state.selection;return r&&!r.eq(n)?e.dispatch(e.state.tr.setSelection(r)):(e.markCursor||t)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function Roe(e,t){if(!e.dom.parentNode)return;let r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}const qh=Cs&&gl<15||rd&&Nie<604;ds.copy=fs.cut=(e,t)=>{let r=t,n=e.state.selection,s=r.type=="cut";if(n.empty)return;let a=qh?null:r.clipboardData,i=n.content(),{dom:o,text:c}=W_(e,i);a?(r.preventDefault(),a.clearData(),a.setData("text/html",o.innerHTML),a.setData("text/plain",c)):Roe(e,o),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function joe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Ooe(e,t){if(!e.dom.parentNode)return;let r=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Vh(e,n.value,null,s,t):Vh(e,n.textContent,n.innerHTML,s,t)},50)}function Vh(e,t,r,n,s){let a=xM(e,t,r,n,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,s,a||rt.empty)))return!0;if(!a)return!1;let i=joe(a),o=i?e.state.tr.replaceSelectionWith(i,n):e.state.tr.replaceSelection(a);return e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function TM(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let r=e.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}fs.paste=(e,t)=>{let r=t;if(e.composing&&!ro)return;let n=qh?null:r.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;n&&Vh(e,TM(n),n.getData("text/html"),s,r)?r.preventDefault():Ooe(e,r)};class CM{constructor(t,r,n){this.slice=t,this.move=r,this.node=n}}const Doe=ya?"altKey":"ctrlKey";function AM(e,t){let r=e.someProp("dragCopies",n=>!n(t));return r??!t[Doe]}ds.dragstart=(e,t)=>{let r=t,n=e.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=e.state.selection,a=s.empty?null:e.posAtCoords(qg(r)),i;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof dt?s.to-1:s.to))){if(n&&n.mightDrag)i=dt.create(e.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=e.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(i=dt.create(e.state.doc,m.posBefore))}}let o=(i||e.state.selection).content(),{dom:c,text:f,slice:h}=W_(e,o);(!r.dataTransfer.files.length||!Dn||QI>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(qh?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",qh||r.dataTransfer.setData("text/plain",f),e.dragging=new CM(h,AM(e,r),i)};ds.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};fs.dragover=fs.dragenter=(e,t)=>t.preventDefault();fs.drop=(e,t)=>{try{Ioe(e,t,e.dragging)}finally{e.dragging=null}};function Ioe(e,t,r){if(!t.dataTransfer)return;let n=e.posAtCoords(qg(t));if(!n)return;let s=e.state.doc.resolve(n.pos),a=r&&r.slice;a?e.someProp("transformPasted",g=>{a=g(a,e,!1)}):a=xM(e,TM(t.dataTransfer),qh?null:t.dataTransfer.getData("text/html"),!1,s);let i=!!(r&&AM(e,t));if(e.someProp("handleDrop",g=>g(e,t,a||rt.empty,i))){t.preventDefault();return}if(!a)return;t.preventDefault();let o=a?OI(e.state.doc,s.pos,a):s.pos;o==null&&(o=s.pos);let c=e.state.tr;if(i){let{node:g}=r;g?g.replace(c):c.deleteSelection()}let f=c.mapping.map(o),h=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,m=c.doc;if(h?c.replaceRangeWith(f,f,a.content.firstChild):c.replaceRange(f,f,a),c.doc.eq(m))return;let x=c.doc.resolve(f);if(h&&dt.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new dt(x));else{let g=c.mapping.map(o);c.mapping.maps[c.mapping.maps.length-1].forEach((v,y,w,E)=>g=E),c.setSelection($_(e,x,c.doc.resolve(g)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}ds.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&fo(e)},20))};ds.blur=(e,t)=>{let r=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),r.relatedTarget&&e.dom.contains(r.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};ds.beforeinput=(e,t)=>{if(Dn&&ro&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",a=>a(e,nc(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in fs)ds[e]=fs[e];function $h(e,t){if(e==t)return!0;for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}class Tx{constructor(t,r){this.toDOM=t,this.spec=r||vc,this.side=this.spec.side||0}map(t,r,n,s){let{pos:a,deleted:i}=t.mapResult(r.from+s,this.side<0?-1:1);return i?null:new as(a-n,a-n,this)}valid(){return!0}eq(t){return this==t||t instanceof Tx&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&$h(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class vl{constructor(t,r){this.attrs=t,this.spec=r||vc}map(t,r,n,s){let a=t.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,i=t.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return a>=i?null:new as(a,i,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof vl&&$h(this.attrs,t.attrs)&&$h(this.spec,t.spec)}static is(t){return t.type instanceof vl}destroy(){}}class Y_{constructor(t,r){this.attrs=t,this.spec=r||vc}map(t,r,n,s){let a=t.mapResult(r.from+s,1);if(a.deleted)return null;let i=t.mapResult(r.to+s,-1);return i.deleted||i.pos<=a.pos?null:new as(a.pos-n,i.pos-n,this)}valid(t,r){let{index:n,offset:s}=t.content.findIndex(r.from),a;return s==r.from&&!(a=t.child(n)).isText&&s+a.nodeSize==r.to}eq(t){return this==t||t instanceof Y_&&$h(this.attrs,t.attrs)&&$h(this.spec,t.spec)}destroy(){}}class as{constructor(t,r,n){this.from=t,this.to=r,this.type=n}copy(t,r){return new as(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,n){return this.type.map(t,this,r,n)}static widget(t,r,n){return new as(t,t,new Tx(r,n))}static inline(t,r,n,s){return new as(t,r,new vl(n,s))}static node(t,r,n,s){return new as(t,r,new Y_(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof vl}get widget(){return this.type instanceof Tx}}const Iu=[],vc={};class Er{constructor(t,r){this.local=t.length?t:Iu,this.children=r.length?r:Iu}static create(t,r){return r.length?Cx(r,t,0,vc):zn}find(t,r,n){let s=[];return this.findInner(t??0,r??1e9,s,0,n),s}findInner(t,r,n,s,a){for(let i=0;i<this.local.length;i++){let o=this.local[i];o.from<=r&&o.to>=t&&(!a||a(o.spec))&&n.push(o.copy(o.from+s,o.to+s))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<r&&this.children[i+1]>t){let o=this.children[i]+1;this.children[i+2].findInner(t-o,r-o,n,s+o,a)}}map(t,r,n){return this==zn||t.maps.length==0?this:this.mapInner(t,r,0,0,n||vc)}mapInner(t,r,n,s,a){let i;for(let o=0;o<this.local.length;o++){let c=this.local[o].map(t,n,s);c&&c.type.valid(r,c)?(i||(i=[])).push(c):a.onRemove&&a.onRemove(this.local[o].spec)}return this.children.length?Moe(this.children,i||[],t,r,n,s,a):i?new Er(i.sort(bc),Iu):zn}add(t,r){return r.length?this==zn?Er.create(t,r):this.addInner(t,r,0):this}addInner(t,r,n){let s,a=0;t.forEach((o,c)=>{let f=c+n,h;if(h=RM(r,o,f)){for(s||(s=this.children.slice());a<s.length&&s[a]<c;)a+=3;s[a]==c?s[a+2]=s[a+2].addInner(o,h,f+1):s.splice(a,0,c,c+o.nodeSize,Cx(h,o,f+1,vc)),a+=3}});let i=kM(a?jM(r):r,-n);for(let o=0;o<i.length;o++)i[o].type.valid(t,i[o])||i.splice(o--,1);return new Er(i.length?this.local.concat(i).sort(bc):this.local,s||this.children)}remove(t){return t.length==0||this==zn?this:this.removeInner(t,0)}removeInner(t,r){let n=this.children,s=this.local;for(let a=0;a<n.length;a+=3){let i,o=n[a]+r,c=n[a+1]+r;for(let h=0,m;h<t.length;h++)(m=t[h])&&m.from>o&&m.to<c&&(t[h]=null,(i||(i=[])).push(m));if(!i)continue;n==this.children&&(n=this.children.slice());let f=n[a+2].removeInner(i,o+1);f!=zn?n[a+2]=f:(n.splice(a,3),a-=3)}if(s.length){for(let a=0,i;a<t.length;a++)if(i=t[a])for(let o=0;o<s.length;o++)s[o].eq(i,r)&&(s==this.local&&(s=this.local.slice()),s.splice(o--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new Er(s,n):zn}forChild(t,r){if(this==zn)return this;if(r.isLeaf)return Er.empty;let n,s;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}let a=t+1,i=a+r.content.size;for(let o=0;o<this.local.length;o++){let c=this.local[o];if(c.from<i&&c.to>a&&c.type instanceof vl){let f=Math.max(a,c.from)-a,h=Math.min(i,c.to)-a;f<h&&(s||(s=[])).push(c.copy(f,h))}}if(s){let o=new Er(s.sort(bc),Iu);return n?new nl([o,n]):o}return n||zn}eq(t){if(this==t)return!0;if(!(t instanceof Er)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return J_(this.localsInner(t))}localsInner(t){if(this==zn)return Iu;if(t.inlineContent||!this.local.some(vl.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof vl||r.push(this.local[n]);return r}forEachSet(t){t(this)}}Er.empty=new Er([],[]);Er.removeOverlap=J_;const zn=Er.empty;class nl{constructor(t){this.members=t}map(t,r){const n=this.members.map(s=>s.map(t,r,vc));return nl.from(n)}forChild(t,r){if(r.isLeaf)return Er.empty;let n=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(t,r);a!=zn&&(a instanceof nl?n=n.concat(a.members):n.push(a))}return nl.from(n)}eq(t){if(!(t instanceof nl)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,n=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(t);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let i=0;i<a.length;i++)r.push(a[i])}}return r?J_(n?r:r.sort(bc)):Iu}static from(t){switch(t.length){case 0:return zn;case 1:return t[0];default:return new nl(t.every(r=>r instanceof Er)?t:t.reduce((r,n)=>r.concat(n instanceof Er?n:n.members),[]))}}forEachSet(t){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(t)}}function Moe(e,t,r,n,s,a,i){let o=e.slice();for(let f=0,h=a;f<r.maps.length;f++){let m=0;r.maps[f].forEach((x,g,v,y)=>{let w=y-v-(g-x);for(let E=0;E<o.length;E+=3){let N=o[E+1];if(N<0||x>N+h-m)continue;let _=o[E]+h-m;g>=_?o[E+1]=x<=_?-2:-1:x>=h&&w&&(o[E]+=w,o[E+1]+=w)}m+=w}),h=r.maps[f].map(h,-1)}let c=!1;for(let f=0;f<o.length;f+=3)if(o[f+1]<0){if(o[f+1]==-2){c=!0,o[f+1]=-1;continue}let h=r.map(e[f]+a),m=h-s;if(m<0||m>=n.content.size){c=!0;continue}let x=r.map(e[f+1]+a,-1),g=x-s,{index:v,offset:y}=n.content.findIndex(m),w=n.maybeChild(v);if(w&&y==m&&y+w.nodeSize==g){let E=o[f+2].mapInner(r,w,h+1,e[f]+a+1,i);E!=zn?(o[f]=m,o[f+1]=g,o[f+2]=E):(o[f+1]=-2,c=!0)}else c=!0}if(c){let f=Foe(o,e,t,r,s,a,i),h=Cx(f,n,0,i);t=h.local;for(let m=0;m<o.length;m+=3)o[m+1]<0&&(o.splice(m,3),m-=3);for(let m=0,x=0;m<h.children.length;m+=3){let g=h.children[m];for(;x<o.length&&o[x]<g;)x+=3;o.splice(x,0,h.children[m],h.children[m+1],h.children[m+2])}}return new Er(t.sort(bc),o)}function kM(e,t){if(!t||!e.length)return e;let r=[];for(let n=0;n<e.length;n++){let s=e[n];r.push(new as(s.from+t,s.to+t,s.type))}return r}function Foe(e,t,r,n,s,a,i){function o(c,f){for(let h=0;h<c.local.length;h++){let m=c.local[h].map(n,s,f);m?r.push(m):i.onRemove&&i.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)o(c.children[h+2],c.children[h]+f+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&o(e[c+2],t[c]+a+1);return r}function RM(e,t,r){if(t.isLeaf)return null;let n=r+t.nodeSize,s=null;for(let a=0,i;a<e.length;a++)(i=e[a])&&i.from>r&&i.to<n&&((s||(s=[])).push(i),e[a]=null);return s}function jM(e){let t=[];for(let r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function Cx(e,t,r,n){let s=[],a=!1;t.forEach((o,c)=>{let f=RM(e,o,c+r);if(f){a=!0;let h=Cx(f,o,r+c+1,n);h!=zn&&s.push(c,c+o.nodeSize,h)}});let i=kM(a?jM(e):e,-r).sort(bc);for(let o=0;o<i.length;o++)i[o].type.valid(t,i[o])||(n.onRemove&&n.onRemove(i[o].spec),i.splice(o--,1));return i.length||s.length?new Er(i,s):zn}function bc(e,t){return e.from-t.from||e.to-t.to}function J_(e){let t=e;for(let r=0;r<t.length-1;r++){let n=t[r];if(n.from!=n.to)for(let s=r+1;s<t.length;s++){let a=t[s];if(a.from==n.from){a.to!=n.to&&(t==e&&(t=e.slice()),t[s]=a.copy(a.from,n.to),d5(t,s+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(t==e&&(t=e.slice()),t[r]=n.copy(n.from,a.from),d5(t,s,n.copy(a.from,n.to)));break}}}return t}function d5(e,t,r){for(;t<e.length&&bc(r,e[t])>0;)t++;e.splice(t,0,r)}function tb(e){let t=[];return e.someProp("decorations",r=>{let n=r(e.state);n&&n!=zn&&t.push(n)}),e.cursorWrapper&&t.push(Er.create(e.state.doc,[e.cursorWrapper.deco])),nl.from(t)}const Poe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Loe=Cs&&gl<=11;class Boe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Uoe{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Boe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Cs&&gl<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():Xn&&t.composing&&n.some(s=>s.type=="childList"&&s.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),Loe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Poe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(n5(this.view)){if(this.suppressingSelectionUpdates)return fo(this.view);if(Cs&&gl<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Dc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let r=new Set,n;for(let a=t.focusNode;a;a=td(a))r.add(a);for(let a=t.anchorNode;a;a=td(a))if(r.has(a)){n=a;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&n5(t)&&!this.ignoreSelectionChange(n),a=-1,i=-1,o=!1,c=[];if(t.editable)for(let h=0;h<r.length;h++){let m=this.registerMutation(r[h],c);m&&(a=a<0?m.from:Math.min(m.from,a),i=i<0?m.to:Math.max(m.to,i),m.typeOver&&(o=!0))}if(c.some(h=>h.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let h of c)if(h.nodeName=="BR"&&h.parentNode){let m=h.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&h.parentNode.removeChild(h)}}else if(wa&&c.length){let h=c.filter(m=>m.nodeName=="BR");if(h.length==2){let[m,x]=h;m.parentNode&&m.parentNode.parentNode==x.parentNode?x.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let x of h){let g=x.parentNode;g&&g.nodeName=="LI"&&(!m||qoe(t,m)!=g)&&x.remove()}}}let f=null;a<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&zg(n)&&(f=V_(t))&&f.eq(kt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,fo(t),this.currentSelection.set(n),t.scrollToSelection()):(a>-1||s)&&(a>-1&&(t.docView.markDirty(a,i),zoe(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,Voe(t,c)),this.handleDOMChange(a,i,o,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||fo(t),this.currentSelection.set(n))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let h=0;h<t.addedNodes.length;h++){let m=t.addedNodes[h];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let s=t.previousSibling,a=t.nextSibling;if(Cs&&gl<=11&&t.addedNodes.length)for(let h=0;h<t.addedNodes.length;h++){let{previousSibling:m,nextSibling:x}=t.addedNodes[h];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(s=m),(!x||Array.prototype.indexOf.call(t.addedNodes,x)<0)&&(a=x)}let i=s&&s.parentNode==t.target?Rn(s)+1:0,o=n.localPosFromDOM(t.target,i,-1),c=a&&a.parentNode==t.target?Rn(a):t.target.childNodes.length,f=n.localPosFromDOM(t.target,c,1);return{from:o,to:f}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let f5=new WeakMap,h5=!1;function zoe(e){if(!f5.has(e)&&(f5.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=wa,h5)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),h5=!0}}function p5(e,t){let r=t.startContainer,n=t.startOffset,s=t.endContainer,a=t.endOffset,i=e.domAtPos(e.state.selection.anchor);return Dc(i.node,i.offset,s,a)&&([r,n,s,a]=[s,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:a}}function Hoe(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return p5(e,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0),r?p5(e,r):null}function qoe(e,t){for(let r=t.parentNode;r&&r!=e.dom;r=r.parentNode){let n=e.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function Voe(e,t){var r;let{focusNode:n,focusOffset:s}=e.domSelectionRange();for(let a of t)if(((r=a.parentNode)===null||r===void 0?void 0:r.nodeName)=="TR"){let i=a.nextSibling;for(;i&&i.nodeName!="TD"&&i.nodeName!="TH";)i=i.nextSibling;if(i){let o=i;for(;;){let c=o.firstChild;if(!c||c.nodeType!=1||c.contentEditable=="false"||/^(BR|IMG)$/.test(c.nodeName))break;o=c}o.insertBefore(a,o.firstChild),n==a&&e.domSelection().collapse(a,s)}else a.parentNode.removeChild(a)}}function $oe(e,t,r){let{node:n,fromOffset:s,toOffset:a,from:i,to:o}=e.docView.parseRange(t,r),c=e.domSelectionRange(),f,h=c.anchorNode;if(h&&e.dom.contains(h.nodeType==1?h:h.parentNode)&&(f=[{node:h,offset:c.anchorOffset}],zg(c)||f.push({node:c.focusNode,offset:c.focusOffset})),Dn&&e.input.lastKeyCode===8)for(let w=a;w>s;w--){let E=n.childNodes[w-1],N=E.pmViewDesc;if(E.nodeName=="BR"&&!N){a=w;break}if(!N||N.size)break}let m=e.state.doc,x=e.someProp("domParser")||xl.fromSchema(e.state.schema),g=m.resolve(i),v=null,y=x.parse(n,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:s,to:a,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Woe,context:g});if(f&&f[0].pos!=null){let w=f[0].pos,E=f[1]&&f[1].pos;E==null&&(E=w),v={anchor:w+i,head:E+i}}return{doc:y,sel:v,from:i,to:o}}function Woe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Xn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||Xn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Goe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Koe(e,t,r,n,s){let a=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let R=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,H=V_(e,R);if(H&&!e.state.selection.eq(H)){if(Dn&&ro&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",Z=>Z(e,nc(13,"Enter"))))return;let O=e.state.tr.setSelection(H);R=="pointer"?O.setMeta("pointer",!0):R=="key"&&O.scrollIntoView(),a&&O.setMeta("composition",a),e.dispatch(O)}return}let i=e.state.doc.resolve(t),o=i.sharedDepth(r);t=i.before(o+1),r=e.state.doc.resolve(r).after(o+1);let c=e.state.selection,f=$oe(e,t,r),h=e.state.doc,m=h.slice(f.from,f.to),x,g;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(x=e.state.selection.to,g="end"):(x=e.state.selection.from,g="start"),e.input.lastKeyCode=null;let v=Joe(m.content,f.doc.content,f.from,x,g);if(v&&e.input.domChangeCount++,(rd&&e.input.lastIOSEnter>Date.now()-225||ro)&&s.some(R=>R.nodeType==1&&!Goe.test(R.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",R=>R(e,nc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(n&&c instanceof yt&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){let R=m5(e,e.state.doc,f.sel);if(R&&!R.eq(e.state.selection)){let H=e.state.tr.setSelection(R);a&&H.setMeta("composition",a),e.dispatch(H)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof yt&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=f.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=f.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),Cs&&gl<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>f.from&&f.doc.textBetween(v.start-f.from-1,v.start-f.from+1)==" "&&(v.start--,v.endA--,v.endB--);let y=f.doc.resolveNoCache(v.start-f.from),w=f.doc.resolveNoCache(v.endB-f.from),E=h.resolve(v.start),N=y.sameParent(w)&&y.parent.inlineContent&&E.end()>=v.endA;if((rd&&e.input.lastIOSEnter>Date.now()-225&&(!N||s.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!N&&y.pos<f.doc.content.size&&(!y.sameParent(w)||!y.parent.inlineContent)&&y.pos<w.pos&&!/\S/.test(f.doc.textBetween(y.pos,w.pos,"","")))&&e.someProp("handleKeyDown",R=>R(e,nc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&Yoe(h,v.start,v.endA,y,w)&&e.someProp("handleKeyDown",R=>R(e,nc(8,"Backspace")))){ro&&Dn&&e.domObserver.suppressSelectionUpdates();return}Dn&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),ro&&!N&&y.start()!=w.start()&&w.parentOffset==0&&y.depth==w.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==v.endA&&(v.endB-=2,w=f.doc.resolveNoCache(v.endB-f.from),setTimeout(()=>{e.someProp("handleKeyDown",function(R){return R(e,nc(13,"Enter"))})},20));let _=v.start,S=v.endA,k=R=>{let H=R||e.state.tr.replace(_,S,f.doc.slice(v.start-f.from,v.endB-f.from));if(f.sel){let O=m5(e,H.doc,f.sel);O&&!(Dn&&e.composing&&O.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(O.head==_||O.head==H.mapping.map(S)-1)||Cs&&O.empty&&O.head==_)&&H.setSelection(O)}return a&&H.setMeta("composition",a),H.scrollIntoView()},L;if(N)if(y.pos==w.pos){Cs&&gl<=11&&y.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>fo(e),20));let R=k(e.state.tr.delete(_,S)),H=h.resolve(v.start).marksAcross(h.resolve(v.endA));H&&R.ensureMarks(H),e.dispatch(R)}else if(v.endA==v.endB&&(L=Xoe(y.parent.content.cut(y.parentOffset,w.parentOffset),E.parent.content.cut(E.parentOffset,v.endA-E.start())))){let R=k(e.state.tr);L.type=="add"?R.addMark(_,S,L.mark):R.removeMark(_,S,L.mark),e.dispatch(R)}else if(y.parent.child(y.index()).isText&&y.index()==w.index()-(w.textOffset?0:1)){let R=y.parent.textBetween(y.parentOffset,w.parentOffset),H=()=>k(e.state.tr.insertText(R,_,S));e.someProp("handleTextInput",O=>O(e,_,S,R,H))||e.dispatch(H())}else e.dispatch(k());else e.dispatch(k())}function m5(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:$_(e,t.resolve(r.anchor),t.resolve(r.head))}function Xoe(e,t){let r=e.firstChild.marks,n=t.firstChild.marks,s=r,a=n,i,o,c;for(let h=0;h<n.length;h++)s=n[h].removeFromSet(s);for(let h=0;h<r.length;h++)a=r[h].removeFromSet(a);if(s.length==1&&a.length==0)o=s[0],i="add",c=h=>h.mark(o.addToSet(h.marks));else if(s.length==0&&a.length==1)o=a[0],i="remove",c=h=>h.mark(o.removeFromSet(h.marks));else return null;let f=[];for(let h=0;h<t.childCount;h++)f.push(c(t.child(h)));if($e.from(f).eq(e))return{mark:o,type:i}}function Yoe(e,t,r,n,s){if(r-t<=s.pos-n.pos||rb(n,!0,!1)<s.pos)return!1;let a=e.resolve(t);if(!n.parent.isTextblock){let o=a.nodeAfter;return o!=null&&r==t+o.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let i=e.resolve(rb(a,!0,!0));return!i.parent.isTextblock||i.pos>r||rb(i,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(i.parent.content)}function rb(e,t,r){let n=e.depth,s=t?e.end():e.pos;for(;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,s++,t=!1;if(r){let a=e.node(n).maybeChild(e.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function Joe(e,t,r,n,s){let a=e.findDiffStart(t,r);if(a==null)return null;let{a:i,b:o}=e.findDiffEnd(t,r+e.size,r+t.size);if(s=="end"){let c=Math.max(0,a-Math.min(i,o));n-=i+c-a}if(i<a&&e.size<t.size){let c=n<=a&&n>=i?a-n:0;a-=c,a&&a<t.size&&x5(t.textBetween(a-1,a+1))&&(a+=c?1:-1),o=a+(o-i),i=a}else if(o<a){let c=n<=a&&n>=o?a-n:0;a-=c,a&&a<e.size&&x5(e.textBetween(a-1,a+1))&&(a+=c?1:-1),i=a+(i-o),o=a}return{start:a,endA:i,endB:o}}function x5(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),r=e.charCodeAt(1);return t>=56320&&t<=57343&&r>=55296&&r<=56319}class OM{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new hoe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(w5),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=v5(this),y5(this),this.nodeViews=b5(this),this.docView=J3(this.state.doc,g5(this),tb(this),this.dom,this),this.domObserver=new Uoe(this,(n,s,a,i)=>Koe(this,n,s,a,i)),this.domObserver.start(),poe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&tE(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(w5),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in t)r[n]=t[n];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){var n;let s=this.state,a=!1,i=!1;t.storedMarks&&this.composing&&(NM(this),i=!0),this.state=t;let o=s.plugins!=t.plugins||this._props.plugins!=r.plugins;if(o||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let g=b5(this);Qoe(g,this.nodeViews)&&(this.nodeViews=g,a=!0)}(o||r.handleDOMEvents!=this._props.handleDOMEvents)&&tE(this),this.editable=v5(this),y5(this);let c=tb(this),f=g5(this),h=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=a||!this.docView.matchesNode(t.doc,f,c);(m||!t.selection.eq(s.selection))&&(i=!0);let x=h=="preserve"&&i&&this.dom.style.overflowAnchor==null&&Aie(this);if(i){this.domObserver.stop();let g=m&&(Cs||Dn)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&Zoe(s.selection,t.selection);if(m){let v=Dn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Aoe(this)),(a||!this.docView.update(t.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=J3(t.doc,f,c,this.dom,this)),v&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Zie(this))?fo(this,g):(hM(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():x&&kie(x)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof dt){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&$3(this,r.getBoundingClientRect(),t)}else $3(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,t)}}updateDraggedNode(t,r){let n=t.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(s=a)}this.dragging=new CM(t.slice,t.move,s<0?void 0:dt.create(this.state.doc,s))}someProp(t,r){let n=this._props&&this._props[t],s;if(n!=null&&(s=r?r(n):n))return s;for(let i=0;i<this.directPlugins.length;i++){let o=this.directPlugins[i].props[t];if(o!=null&&(s=r?r(o):o))return s}let a=this.state.plugins;if(a)for(let i=0;i<a.length;i++){let o=a[i].props[t];if(o!=null&&(s=r?r(o):o))return s}}hasFocus(){if(Cs){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Rie(this.dom),fo(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Mie(this,t)}coordsAtPos(t,r=1){return aM(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,n=-1){let s=this.docView.posFromDOM(t,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,r){return Uie(this,r||this.state,t)}pasteHTML(t,r){return Vh(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return Vh(this,t,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(t){return W_(this,t)}destroy(){this.docView&&(moe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,yie())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return goe(this,t)}domSelectionRange(){let t=this.domSelection();return t?Xn&&this.root.nodeType===11&&_ie(this.dom.ownerDocument)==this.dom&&Hoe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}OM.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function g5(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(e.state)),r)for(let n in r)n=="class"?t.class+=" "+r[n]:n=="style"?t.style=(t.style?t.style+";":"")+r[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(r[n]))}),t.translate||(t.translate="no"),[as.node(0,e.state.doc.content.size,t)]}function y5(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:as.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function v5(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Zoe(e,t){let r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function b5(e){let t=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=n[s])}return e.someProp("nodeViews",r),e.someProp("markViews",r),t}function Qoe(e,t){let r=0,n=0;for(let s in e){if(e[s]!=t[s])return!0;r++}for(let s in t)n++;return r!=n}function w5(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Tl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ax={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ele=typeof navigator<"u"&&/Mac/.test(navigator.platform),tle=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var jn=0;jn<10;jn++)Tl[48+jn]=Tl[96+jn]=String(jn);for(var jn=1;jn<=24;jn++)Tl[jn+111]="F"+jn;for(var jn=65;jn<=90;jn++)Tl[jn]=String.fromCharCode(jn+32),Ax[jn]=String.fromCharCode(jn);for(var nb in Tl)Ax.hasOwnProperty(nb)||(Ax[nb]=Tl[nb]);function rle(e){var t=ele&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||tle&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?Ax:Tl)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const nle=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),sle=typeof navigator<"u"&&/Win/.test(navigator.platform);function ale(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");let n,s,a,i;for(let o=0;o<t.length-1;o++){let c=t[o];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))nle?i=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),i&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function ile(e){let t=Object.create(null);for(let r in e)t[ale(r)]=e[r];return t}function sb(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function ole(e){return new _r({props:{handleKeyDown:DM(e)}})}function DM(e){let t=ile(e);return function(r,n){let s=rle(n),a,i=t[sb(s,n)];if(i&&i(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let o=t[sb(s,n,!1)];if(o&&o(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(sle&&n.ctrlKey&&n.altKey)&&(a=Tl[n.keyCode])&&a!=s){let o=t[sb(a,n)];if(o&&o(r.state,r.dispatch,r))return!0}}return!1}}var lle=Object.defineProperty,Z_=(e,t)=>{for(var r in t)lle(e,r,{get:t[r],enumerable:!0})};function Vg(e){const{state:t,transaction:r}=e;let{selection:n}=r,{doc:s}=r,{storedMarks:a}=r;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return a},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,a=r.storedMarks,r}}}var $g=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:n}=t,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([i,o])=>[i,(...f)=>{const h=o(...f)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:n,state:s}=this,{view:a}=n,i=[],o=!!e,c=e||s.tr,f=()=>(!o&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(r).map(([m,x])=>[m,(...v)=>{const y=this.buildProps(c,t),w=x(...v)(y);return i.push(w),h}])),run:f};return h}createCan(e){const{rawCommands:t,state:r}=this,n=!1,s=e||r.tr,a=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(t).map(([o,c])=>[o,(...f)=>c(...f)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(e,t=!0){const{rawCommands:r,editor:n,state:s}=this,{view:a}=n,i={tr:e,editor:n,view:a,state:Vg({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([o,c])=>[o,(...f)=>c(...f)(i)]))}};return i}},IM={};Z_(IM,{blur:()=>cle,clearContent:()=>ule,clearNodes:()=>dle,command:()=>fle,createParagraphNear:()=>hle,cut:()=>ple,deleteCurrentNode:()=>mle,deleteNode:()=>xle,deleteRange:()=>gle,deleteSelection:()=>yle,enter:()=>vle,exitCode:()=>ble,extendMarkRange:()=>wle,first:()=>Ele,focus:()=>Sle,forEach:()=>Nle,insertContent:()=>Tle,insertContentAt:()=>kle,joinBackward:()=>Ole,joinDown:()=>jle,joinForward:()=>Dle,joinItemBackward:()=>Ile,joinItemForward:()=>Mle,joinTextblockBackward:()=>Fle,joinTextblockForward:()=>Ple,joinUp:()=>Rle,keyboardShortcut:()=>Ble,lift:()=>Ule,liftEmptyBlock:()=>zle,liftListItem:()=>Hle,newlineInCode:()=>qle,resetAttributes:()=>Vle,scrollIntoView:()=>$le,selectAll:()=>Wle,selectNodeBackward:()=>Gle,selectNodeForward:()=>Kle,selectParentNode:()=>Xle,selectTextblockEnd:()=>Yle,selectTextblockStart:()=>Jle,setContent:()=>Zle,setMark:()=>yce,setMeta:()=>vce,setNode:()=>bce,setNodeSelection:()=>wce,setTextDirection:()=>Ece,setTextSelection:()=>_ce,sinkListItem:()=>Sce,splitBlock:()=>Nce,splitListItem:()=>Tce,toggleList:()=>Cce,toggleMark:()=>Ace,toggleNode:()=>kce,toggleWrap:()=>Rce,undoInputRule:()=>jce,unsetAllMarks:()=>Oce,unsetMark:()=>Dce,unsetTextDirection:()=>Ice,updateAttributes:()=>Mce,wrapIn:()=>Fce,wrapInList:()=>Pce});var cle=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),ule=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),dle=()=>({state:e,tr:t,dispatch:r})=>{const{selection:n}=t,{ranges:s}=n;return r&&s.forEach(({$from:a,$to:i})=>{e.doc.nodesBetween(a.pos,i.pos,(o,c)=>{if(o.type.isText)return;const{doc:f,mapping:h}=t,m=f.resolve(h.map(c)),x=f.resolve(h.map(c+o.nodeSize)),g=m.blockRange(x);if(!g)return;const v=jd(g);if(o.type.isTextblock){const{defaultType:y}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(g.start,y)}(v||v===0)&&t.lift(g,v)})}),!0},fle=e=>t=>e(t),hle=()=>({state:e,dispatch:t})=>KI(e,t),ple=(e,t)=>({editor:r,tr:n})=>{const{state:s}=r,a=s.doc.slice(e.from,e.to);n.deleteRange(e.from,e.to);const i=n.mapping.map(t);return n.insert(i,a.content),n.setSelection(new yt(n.doc.resolve(Math.max(i-1,0)))),!0},mle=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,n=r.$anchor.node();if(n.content.size>0)return!1;const s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===n.type){if(t){const o=s.before(a),c=s.after(a);e.delete(o,c).scrollIntoView()}return!0}return!1};function en(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var xle=e=>({tr:t,state:r,dispatch:n})=>{const s=en(e,r.schema),a=t.selection.$anchor;for(let i=a.depth;i>0;i-=1)if(a.node(i).type===s){if(n){const c=a.before(i),f=a.after(i);t.delete(c,f).scrollIntoView()}return!0}return!1},gle=e=>({tr:t,dispatch:r})=>{const{from:n,to:s}=e;return r&&t.delete(n,s),!0},yle=()=>({state:e,dispatch:t})=>L_(e,t),vle=()=>({commands:e})=>e.keyboardShortcut("Enter"),ble=()=>({state:e,dispatch:t})=>nie(e,t);function Q_(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function kx(e,t,r={strict:!0}){const n=Object.keys(t);return n.length?n.every(s=>r.strict?t[s]===e[s]:Q_(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function MM(e,t,r={}){return e.find(n=>n.type===t&&kx(Object.fromEntries(Object.keys(r).map(s=>[s,n.attrs[s]])),r))}function E5(e,t,r={}){return!!MM(e,t,r)}function eS(e,t,r){var n;if(!e||!t)return;let s=e.parent.childAfter(e.parentOffset);if((!s.node||!s.node.marks.some(h=>h.type===t))&&(s=e.parent.childBefore(e.parentOffset)),!s.node||!s.node.marks.some(h=>h.type===t)||(r=r||((n=s.node.marks[0])==null?void 0:n.attrs),!MM([...s.node.marks],t,r)))return;let i=s.index,o=e.start()+s.offset,c=i+1,f=o+s.node.nodeSize;for(;i>0&&E5([...e.parent.child(i-1).marks],t,r);)i-=1,o-=e.parent.child(i).nodeSize;for(;c<e.parent.childCount&&E5([...e.parent.child(c).marks],t,r);)f+=e.parent.child(c).nodeSize,c+=1;return{from:o,to:f}}function bo(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var wle=(e,t={})=>({tr:r,state:n,dispatch:s})=>{const a=bo(e,n.schema),{doc:i,selection:o}=r,{$from:c,from:f,to:h}=o;if(s){const m=eS(c,a,t);if(m&&m.from<=f&&m.to>=h){const x=yt.create(i,m.from,m.to);r.setSelection(x)}}return!0},Ele=e=>t=>{const r=typeof e=="function"?e(t):e;for(let n=0;n<r.length;n+=1)if(r[n](t))return!0;return!1};function FM(e){return e instanceof yt}function cc(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function PM(e,t=null){if(!t)return null;const r=kt.atStart(e),n=kt.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return n;const s=r.from,a=n.to;return t==="all"?yt.create(e,cc(0,s,a),cc(e.content.size,s,a)):yt.create(e,cc(t,s,a),cc(t,s,a))}function _5(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Rx(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function _le(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var Sle=(e=null,t={})=>({editor:r,view:n,tr:s,dispatch:a})=>{t={scrollIntoView:!0,...t};const i=()=>{(Rx()||_5())&&n.dom.focus(),_le()&&!Rx()&&!_5()&&n.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),t!=null&&t.scrollIntoView&&r.commands.scrollIntoView())})};try{if(n.hasFocus()&&e===null||e===!1)return!0}catch{return!1}if(a&&e===null&&!FM(r.state.selection))return i(),!0;const o=PM(s.doc,e)||r.state.selection,c=r.state.selection.eq(o);return a&&(c||s.setSelection(o),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),i()),!0},Nle=(e,t)=>r=>e.every((n,s)=>t(n,{...r,index:s})),Tle=(e,t)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},e,t),LM=e=>{const t=e.childNodes;for(let r=t.length-1;r>=0;r-=1){const n=t[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?e.removeChild(n):n.nodeType===1&&LM(n)}return e};function um(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,r=new window.DOMParser().parseFromString(t,"text/html").body;return LM(r)}function Wh(e,t,r){if(e instanceof $a||e instanceof $e)return e;r={slice:!0,parseOptions:{},...r};const n=typeof e=="object"&&e!==null,s=typeof e=="string";if(n)try{if(Array.isArray(e)&&e.length>0)return $e.fromArray(e.map(o=>t.nodeFromJSON(o)));const i=t.nodeFromJSON(e);return r.errorOnInvalidContent&&i.check(),i}catch(a){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",a),Wh("",t,r)}if(s){if(r.errorOnInvalidContent){let i=!1,o="";const c=new wI({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(i=!0,o=typeof f=="string"?f:f.outerHTML,null)}]}})});if(r.slice?xl.fromSchema(c).parseSlice(um(e),r.parseOptions):xl.fromSchema(c).parse(um(e),r.parseOptions),r.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const a=xl.fromSchema(t);return r.slice?a.parseSlice(um(e),r.parseOptions).content:a.parse(um(e),r.parseOptions)}return Wh("",t,r)}function Cle(e,t,r){const n=e.steps.length-1;if(n<t)return;const s=e.steps[n];if(!(s instanceof yn||s instanceof wn))return;const a=e.mapping.maps[n];let i=0;a.forEach((o,c,f,h)=>{i===0&&(i=h)}),e.setSelection(kt.near(e.doc.resolve(i),r))}var Ale=e=>!("type"in e),kle=(e,t,r)=>({tr:n,dispatch:s,editor:a})=>{var i;if(s){r={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let o;const c=w=>{a.emit("contentError",{editor:a,error:w,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{Wh(t,a.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(w){c(w)}try{o=Wh(t,a.schema,{parseOptions:f,errorOnInvalidContent:(i=r.errorOnInvalidContent)!=null?i:a.options.enableContentCheck})}catch(w){return c(w),!1}let{from:h,to:m}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},x=!0,g=!0;if((Ale(o)?o:[o]).forEach(w=>{w.check(),x=x?w.isText&&w.marks.length===0:!1,g=g?w.isBlock:!1}),h===m&&g){const{parent:w}=n.doc.resolve(h);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(h-=1,m+=1)}let y;if(x){if(Array.isArray(t))y=t.map(w=>w.text||"").join("");else if(t instanceof $e){let w="";t.forEach(E=>{E.text&&(w+=E.text)}),y=w}else typeof t=="object"&&t&&t.text?y=t.text:y=t;n.insertText(y,h,m)}else{y=o;const w=n.doc.resolve(h),E=w.node(),N=w.parentOffset===0,_=E.isText||E.isTextblock,S=E.content.size>0;N&&_&&S&&(h=Math.max(0,h-1)),n.replaceWith(h,m,y)}r.updateSelection&&Cle(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:h,text:y}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:h,text:y})}return!0},Rle=()=>({state:e,dispatch:t})=>eie(e,t),jle=()=>({state:e,dispatch:t})=>tie(e,t),Ole=()=>({state:e,dispatch:t})=>zI(e,t),Dle=()=>({state:e,dispatch:t})=>$I(e,t),Ile=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Lg(e.doc,e.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},Mle=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Lg(e.doc,e.selection.$from.pos,1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},Fle=()=>({state:e,dispatch:t})=>Zae(e,t),Ple=()=>({state:e,dispatch:t})=>Qae(e,t);function BM(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Lle(e){const t=e.split(/-(?!$)/);let r=t[t.length-1];r==="Space"&&(r=" ");let n,s,a,i;for(let o=0;o<t.length-1;o+=1){const c=t[o];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))Rx()||BM()?i=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),i&&(r=`Meta-${r}`),a&&(r=`Shift-${r}`),r}var Ble=e=>({editor:t,view:r,tr:n,dispatch:s})=>{const a=Lle(e).split(/-(?!$)/),i=a.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),o=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{r.someProp("handleKeyDown",f=>f(r,o))});return c==null||c.steps.forEach(f=>{const h=f.map(n.mapping);h&&s&&n.maybeStep(h)}),!0};function Cl(e,t,r={}){const{from:n,to:s,empty:a}=e.selection,i=t?en(t,e.schema):null,o=[];e.doc.nodesBetween(n,s,(m,x)=>{if(m.isText)return;const g=Math.max(n,x),v=Math.min(s,x+m.nodeSize);o.push({node:m,from:g,to:v})});const c=s-n,f=o.filter(m=>i?i.name===m.node.type.name:!0).filter(m=>kx(m.node.attrs,r,{strict:!1}));return a?!!f.length:f.reduce((m,x)=>m+x.to-x.from,0)>=c}var Ule=(e,t={})=>({state:r,dispatch:n})=>{const s=en(e,r.schema);return Cl(r,s,t)?rie(r,n):!1},zle=()=>({state:e,dispatch:t})=>XI(e,t),Hle=e=>({state:t,dispatch:r})=>{const n=en(e,t.schema);return pie(n)(t,r)},qle=()=>({state:e,dispatch:t})=>GI(e,t);function Wg(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function S5(e,t){const r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,s)=>(r.includes(s)||(n[s]=e[s]),n),{})}var Vle=(e,t)=>({tr:r,state:n,dispatch:s})=>{let a=null,i=null;const o=Wg(typeof e=="string"?e:e.name,n.schema);if(!o)return!1;o==="node"&&(a=en(e,n.schema)),o==="mark"&&(i=bo(e,n.schema));let c=!1;return r.selection.ranges.forEach(f=>{n.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,m)=>{a&&a===h.type&&(c=!0,s&&r.setNodeMarkup(m,void 0,S5(h.attrs,t))),i&&h.marks.length&&h.marks.forEach(x=>{i===x.type&&(c=!0,s&&r.addMark(m,m+h.nodeSize,i.create(S5(x.attrs,t))))})})}),c},$le=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Wle=()=>({tr:e,dispatch:t})=>{if(t){const r=new $s(e.doc);e.setSelection(r)}return!0},Gle=()=>({state:e,dispatch:t})=>qI(e,t),Kle=()=>({state:e,dispatch:t})=>WI(e,t),Xle=()=>({state:e,dispatch:t})=>iie(e,t),Yle=()=>({state:e,dispatch:t})=>cie(e,t),Jle=()=>({state:e,dispatch:t})=>lie(e,t);function rE(e,t,r={},n={}){return Wh(e,t,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var Zle=(e,{errorOnInvalidContent:t,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:s,tr:a,dispatch:i,commands:o})=>{const{doc:c}=a;if(n.preserveWhitespace!=="full"){const f=rE(e,s.schema,n,{errorOnInvalidContent:t??s.options.enableContentCheck});return i&&a.replaceWith(0,c.content.size,f).setMeta("preventUpdate",!r),!0}return i&&a.setMeta("preventUpdate",!r),o.insertContentAt({from:0,to:c.content.size},e,{parseOptions:n,errorOnInvalidContent:t??s.options.enableContentCheck})};function UM(e,t){const r=bo(t,e.schema),{from:n,to:s,empty:a}=e.selection,i=[];a?(e.storedMarks&&i.push(...e.storedMarks),i.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,s,c=>{i.push(...c.marks)});const o=i.find(c=>c.type.name===r.name);return o?{...o.attrs}:{}}function zM(e,t){const r=new PI(e);return t.forEach(n=>{n.steps.forEach(s=>{r.step(s)})}),r}function Qle(e){for(let t=0;t<e.edgeCount;t+=1){const{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function ece(e,t,r){const n=[];return e.nodesBetween(t.from,t.to,(s,a)=>{r(s)&&n.push({node:s,pos:a})}),n}function tce(e,t){for(let r=e.depth;r>0;r-=1){const n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}}function Gg(e){return t=>tce(t.$from,e)}function ct(e,t,r){return e.config[t]===void 0&&e.parent?ct(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind({...r,parent:e.parent?ct(e.parent,t,r):null}):e.config[t]}function tS(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},n=ct(t,"addExtensions",r);return n?[t,...tS(n())]:t}).flat(10)}function rS(e,t){const r=qc.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function HM(e){return typeof e=="function"}function Xt(e,t=void 0,...r){return HM(e)?t?e.bind(t)(...r):e(...r):e}function rce(e={}){return Object.keys(e).length===0&&e.constructor===Object}function nd(e){const t=e.filter(s=>s.type==="extension"),r=e.filter(s=>s.type==="node"),n=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:n}}function qM(e){const t=[],{nodeExtensions:r,markExtensions:n}=nd(e),s=[...r,...n],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(i=>{const o={name:i.name,options:i.options,storage:i.storage,extensions:s},c=ct(i,"addGlobalAttributes",o);if(!c)return;c().forEach(h=>{h.types.forEach(m=>{Object.entries(h.attributes).forEach(([x,g])=>{t.push({type:m,name:x,attribute:{...a,...g}})})})})}),s.forEach(i=>{const o={name:i.name,options:i.options,storage:i.storage},c=ct(i,"addAttributes",o);if(!c)return;const f=c();Object.entries(f).forEach(([h,m])=>{const x={...a,...m};typeof(x==null?void 0:x.default)=="function"&&(x.default=x.default()),x!=null&&x.isRequired&&(x==null?void 0:x.default)===void 0&&delete x.default,t.push({type:i.name,name:h,attribute:x})})}),t}function tn(...e){return e.filter(t=>!!t).reduce((t,r)=>{const n={...t};return Object.entries(r).forEach(([s,a])=>{if(!n[s]){n[s]=a;return}if(s==="class"){const o=a?String(a).split(" "):[],c=n[s]?n[s].split(" "):[],f=o.filter(h=>!c.includes(h));n[s]=[...c,...f].join(" ")}else if(s==="style"){const o=a?a.split(";").map(h=>h.trim()).filter(Boolean):[],c=n[s]?n[s].split(";").map(h=>h.trim()).filter(Boolean):[],f=new Map;c.forEach(h=>{const[m,x]=h.split(":").map(g=>g.trim());f.set(m,x)}),o.forEach(h=>{const[m,x]=h.split(":").map(g=>g.trim());f.set(m,x)}),n[s]=Array.from(f.entries()).map(([h,m])=>`${h}: ${m}`).join("; ")}else n[s]=a}),n},{})}function Gh(e,t){return t.filter(r=>r.type===e.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,n)=>tn(r,n),{})}function nce(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function N5(e,t){return"style"in e?e:{...e,getAttrs:r=>{const n=e.getAttrs?e.getAttrs(r):e.attrs;if(n===!1)return!1;const s=t.reduce((a,i)=>{const o=i.attribute.parseHTML?i.attribute.parseHTML(r):nce(r.getAttribute(i.name));return o==null?a:{...a,[i.name]:o}},{});return{...n,...s}}}}function T5(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&rce(r)?!1:r!=null))}function C5(e){var t,r;const n={};return!((t=e==null?void 0:e.attribute)!=null&&t.isRequired)&&"default"in((e==null?void 0:e.attribute)||{})&&(n.default=e.attribute.default),((r=e==null?void 0:e.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=e.attribute.validate),[e.name,n]}function sce(e,t){var r;const n=qM(e),{nodeExtensions:s,markExtensions:a}=nd(e),i=(r=s.find(f=>ct(f,"topNode")))==null?void 0:r.name,o=Object.fromEntries(s.map(f=>{const h=n.filter(E=>E.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:t},x=e.reduce((E,N)=>{const _=ct(N,"extendNodeSchema",m);return{...E,..._?_(f):{}}},{}),g=T5({...x,content:Xt(ct(f,"content",m)),marks:Xt(ct(f,"marks",m)),group:Xt(ct(f,"group",m)),inline:Xt(ct(f,"inline",m)),atom:Xt(ct(f,"atom",m)),selectable:Xt(ct(f,"selectable",m)),draggable:Xt(ct(f,"draggable",m)),code:Xt(ct(f,"code",m)),whitespace:Xt(ct(f,"whitespace",m)),linebreakReplacement:Xt(ct(f,"linebreakReplacement",m)),defining:Xt(ct(f,"defining",m)),isolating:Xt(ct(f,"isolating",m)),attrs:Object.fromEntries(h.map(C5))}),v=Xt(ct(f,"parseHTML",m));v&&(g.parseDOM=v.map(E=>N5(E,h)));const y=ct(f,"renderHTML",m);y&&(g.toDOM=E=>y({node:E,HTMLAttributes:Gh(E,h)}));const w=ct(f,"renderText",m);return w&&(g.toText=w),[f.name,g]})),c=Object.fromEntries(a.map(f=>{const h=n.filter(w=>w.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:t},x=e.reduce((w,E)=>{const N=ct(E,"extendMarkSchema",m);return{...w,...N?N(f):{}}},{}),g=T5({...x,inclusive:Xt(ct(f,"inclusive",m)),excludes:Xt(ct(f,"excludes",m)),group:Xt(ct(f,"group",m)),spanning:Xt(ct(f,"spanning",m)),code:Xt(ct(f,"code",m)),attrs:Object.fromEntries(h.map(C5))}),v=Xt(ct(f,"parseHTML",m));v&&(g.parseDOM=v.map(w=>N5(w,h)));const y=ct(f,"renderHTML",m);return y&&(g.toDOM=w=>y({mark:w,HTMLAttributes:Gh(w,h)})),[f.name,g]}));return new wI({topNode:i,nodes:o,marks:c})}function ace(e){const t=e.filter((r,n)=>e.indexOf(r)!==n);return Array.from(new Set(t))}function jx(e){return e.sort((r,n)=>{const s=ct(r,"priority")||100,a=ct(n,"priority")||100;return s>a?-1:s<a?1:0})}function VM(e){const t=jx(tS(e)),r=ace(t.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),t}function $M(e,t,r){const{from:n,to:s}=t,{blockSeparator:a=`

`,textSerializers:i={}}=r||{};let o="";return e.nodesBetween(n,s,(c,f,h,m)=>{var x;c.isBlock&&f>n&&(o+=a);const g=i==null?void 0:i[c.type.name];if(g)return h&&(o+=g({node:c,pos:f,parent:h,index:m,range:t})),!1;c.isText&&(o+=(x=c==null?void 0:c.text)==null?void 0:x.slice(Math.max(n,f)-f,s-f))}),o}function ice(e,t){const r={from:0,to:e.content.size};return $M(e,r,t)}function WM(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}function oce(e,t){const r=en(t,e.schema),{from:n,to:s}=e.selection,a=[];e.doc.nodesBetween(n,s,o=>{a.push(o)});const i=a.reverse().find(o=>o.type.name===r.name);return i?{...i.attrs}:{}}function GM(e,t){const r=Wg(typeof t=="string"?t:t.name,e.schema);return r==="node"?oce(e,t):r==="mark"?UM(e,t):{}}function lce(e,t=JSON.stringify){const r={};return e.filter(n=>{const s=t(n);return Object.prototype.hasOwnProperty.call(r,s)?!1:r[s]=!0})}function cce(e){const t=lce(e);return t.length===1?t:t.filter((r,n)=>!t.filter((a,i)=>i!==n).some(a=>r.oldRange.from>=a.oldRange.from&&r.oldRange.to<=a.oldRange.to&&r.newRange.from>=a.newRange.from&&r.newRange.to<=a.newRange.to))}function KM(e){const{mapping:t,steps:r}=e,n=[];return t.maps.forEach((s,a)=>{const i=[];if(s.ranges.length)s.forEach((o,c)=>{i.push({from:o,to:c})});else{const{from:o,to:c}=r[a];if(o===void 0||c===void 0)return;i.push({from:o,to:c})}i.forEach(({from:o,to:c})=>{const f=t.slice(a).map(o,-1),h=t.slice(a).map(c),m=t.invert().map(f,-1),x=t.invert().map(h);n.push({oldRange:{from:m,to:x},newRange:{from:f,to:h}})})}),cce(n)}function nS(e,t,r){const n=[];return e===t?r.resolve(e).marks().forEach(s=>{const a=r.resolve(e),i=eS(a,s.type);i&&n.push({mark:s,...i})}):r.nodesBetween(e,t,(s,a)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(i=>({from:a,to:a+s.nodeSize,mark:i})))}),n}var uce=(e,t,r,n=20)=>{const s=e.doc.resolve(r);let a=n,i=null;for(;a>0&&i===null;){const o=s.node(a);(o==null?void 0:o.type.name)===t?i=o:a-=1}return[i,a]};function dm(e,t){return t.nodes[e]||t.marks[e]||null}function $m(e,t,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=e.find(a=>a.type===t&&a.name===n);return s?s.attribute.keepOnSplit:!1}))}var dce=(e,t=500)=>{let r="";const n=e.parentOffset;return e.parent.nodesBetween(Math.max(0,n-t),n,(s,a,i,o)=>{var c,f;const h=((f=(c=s.type.spec).toText)==null?void 0:f.call(c,{node:s,pos:a,parent:i,index:o}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?h:h.slice(0,Math.max(0,n-a))}),r};function nE(e,t,r={}){const{empty:n,ranges:s}=e.selection,a=t?bo(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>a?a.name===m.type.name:!0).find(m=>kx(m.attrs,r,{strict:!1}));let i=0;const o=[];if(s.forEach(({$from:m,$to:x})=>{const g=m.pos,v=x.pos;e.doc.nodesBetween(g,v,(y,w)=>{if(!y.isText&&!y.marks.length)return;const E=Math.max(g,w),N=Math.min(v,w+y.nodeSize),_=N-E;i+=_,o.push(...y.marks.map(S=>({mark:S,from:E,to:N})))})}),i===0)return!1;const c=o.filter(m=>a?a.name===m.mark.type.name:!0).filter(m=>kx(m.mark.attrs,r,{strict:!1})).reduce((m,x)=>m+x.to-x.from,0),f=o.filter(m=>a?m.mark.type!==a&&m.mark.type.excludes(a):!0).reduce((m,x)=>m+x.to-x.from,0);return(c>0?c+f:c)>=i}function fce(e,t,r={}){if(!t)return Cl(e,null,r)||nE(e,null,r);const n=Wg(t,e.schema);return n==="node"?Cl(e,t,r):n==="mark"?nE(e,t,r):!1}var hce=(e,t)=>{const{$from:r,$to:n,$anchor:s}=e.selection;if(t){const a=Gg(o=>o.type.name===t)(e.selection);if(!a)return!1;const i=e.doc.resolve(a.pos+1);return s.pos+1===i.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},pce=e=>{const{$from:t,$to:r}=e.selection;return!(t.parentOffset>0||t.pos!==r.pos)};function A5(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function k5(e,t){const{nodeExtensions:r}=nd(t),n=r.find(i=>i.name===e);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},a=Xt(ct(n,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function Kg(e,{checkChildren:t=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((n=e.text)!=null?n:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let s=!0;return e.content.forEach(a=>{s!==!1&&(Kg(a,{ignoreWhitespace:r,checkChildren:t})||(s=!1))}),s}return!1}function XM(e){return e instanceof dt}var YM=class JM{constructor(t){this.position=t}static fromJSON(t){return new JM(t.position)}toJSON(){return{position:this.position}}};function mce(e,t){const r=t.mapping.mapResult(e.position);return{position:new YM(r.pos),mapResult:r}}function xce(e){return new YM(e)}function gce(e,t,r){var n;const{selection:s}=t;let a=null;if(FM(s)&&(a=s.$cursor),a){const o=(n=e.storedMarks)!=null?n:a.marks();return a.parent.type.allowsMarkType(r)&&(!!r.isInSet(o)||!o.some(f=>f.type.excludes(r)))}const{ranges:i}=s;return i.some(({$from:o,$to:c})=>{let f=o.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(r):!1;return e.doc.nodesBetween(o.pos,c.pos,(h,m,x)=>{if(f)return!1;if(h.isInline){const g=!x||x.type.allowsMarkType(r),v=!!r.isInSet(h.marks)||!h.marks.some(y=>y.type.excludes(r));f=g&&v}return!f}),f})}var yce=(e,t={})=>({tr:r,state:n,dispatch:s})=>{const{selection:a}=r,{empty:i,ranges:o}=a,c=bo(e,n.schema);if(s)if(i){const f=UM(n,c);r.addStoredMark(c.create({...f,...t}))}else o.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;n.doc.nodesBetween(h,m,(x,g)=>{const v=Math.max(g,h),y=Math.min(g+x.nodeSize,m);x.marks.find(E=>E.type===c)?x.marks.forEach(E=>{c===E.type&&r.addMark(v,y,c.create({...E.attrs,...t}))}):r.addMark(v,y,c.create(t))})});return gce(n,r,c)},vce=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0),bce=(e,t={})=>({state:r,dispatch:n,chain:s})=>{const a=en(e,r.schema);let i;return r.selection.$anchor.sameParent(r.selection.$head)&&(i=r.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:o})=>H3(a,{...i,...t})(r)?!0:o.clearNodes()).command(({state:o})=>H3(a,{...i,...t})(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},wce=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,s=cc(e,0,n.content.size),a=dt.create(n,s);t.setSelection(a)}return!0},Ece=(e,t)=>({tr:r,state:n,dispatch:s})=>{const{selection:a}=n;let i,o;return typeof t=="number"?(i=t,o=t):t&&"from"in t&&"to"in t?(i=t.from,o=t.to):(i=a.from,o=a.to),s&&r.doc.nodesBetween(i,o,(c,f)=>{c.isText||r.setNodeMarkup(f,void 0,{...c.attrs,dir:e})}),!0},_ce=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,{from:s,to:a}=typeof e=="number"?{from:e,to:e}:e,i=yt.atStart(n).from,o=yt.atEnd(n).to,c=cc(s,i,o),f=cc(a,i,o),h=yt.create(n,c,f);t.setSelection(h)}return!0},Sce=e=>({state:t,dispatch:r})=>{const n=en(e,t.schema);return gie(n)(t,r)};function R5(e,t){const r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){const n=r.filter(s=>t==null?void 0:t.includes(s.type.name));e.tr.ensureMarks(n)}}var Nce=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:n,editor:s})=>{const{selection:a,doc:i}=t,{$from:o,$to:c}=a,f=s.extensionManager.attributes,h=$m(f,o.node().type.name,o.node().attrs);if(a instanceof dt&&a.node.isBlock)return!o.parentOffset||!uo(i,o.pos)?!1:(n&&(e&&R5(r,s.extensionManager.splittableMarks),t.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,x=o.depth===0?void 0:Qle(o.node(-1).contentMatchAt(o.indexAfter(-1)));let g=m&&x?[{type:x,attrs:h}]:void 0,v=uo(t.doc,t.mapping.map(o.pos),1,g);if(!g&&!v&&uo(t.doc,t.mapping.map(o.pos),1,x?[{type:x}]:void 0)&&(v=!0,g=x?[{type:x,attrs:h}]:void 0),n){if(v&&(a instanceof yt&&t.deleteSelection(),t.split(t.mapping.map(o.pos),1,g),x&&!m&&!o.parentOffset&&o.parent.type!==x)){const y=t.mapping.map(o.before()),w=t.doc.resolve(y);o.node(-1).canReplaceWith(w.index(),w.index()+1,x)&&t.setNodeMarkup(t.mapping.map(o.before()),x)}e&&R5(r,s.extensionManager.splittableMarks),t.scrollIntoView()}return v},Tce=(e,t={})=>({tr:r,state:n,dispatch:s,editor:a})=>{var i;const o=en(e,n.schema),{$from:c,$to:f}=n.selection,h=n.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(f))return!1;const m=c.node(-1);if(m.type!==o)return!1;const x=a.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==o||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let E=$e.empty;const N=c.index(-1)?1:c.index(-2)?2:3;for(let H=c.depth-N;H>=c.depth-3;H-=1)E=$e.from(c.node(H).copy(E));const _=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,S={...$m(x,c.node().type.name,c.node().attrs),...t},k=((i=o.contentMatch.defaultType)==null?void 0:i.createAndFill(S))||void 0;E=E.append($e.from(o.createAndFill(null,k)||void 0));const L=c.before(c.depth-(N-1));r.replace(L,c.after(-_),new rt(E,4-N,0));let R=-1;r.doc.nodesBetween(L,r.doc.content.size,(H,O)=>{if(R>-1)return!1;H.isTextblock&&H.content.size===0&&(R=O+1)}),R>-1&&r.setSelection(yt.near(r.doc.resolve(R))),r.scrollIntoView()}return!0}const g=f.pos===c.end()?m.contentMatchAt(0).defaultType:null,v={...$m(x,m.type.name,m.attrs),...t},y={...$m(x,c.node().type.name,c.node().attrs),...t};r.delete(c.pos,f.pos);const w=g?[{type:o,attrs:v},{type:g,attrs:y}]:[{type:o,attrs:v}];if(!uo(r.doc,c.pos,2))return!1;if(s){const{selection:E,storedMarks:N}=n,{splittableMarks:_}=a.extensionManager,S=N||E.$to.parentOffset&&E.$from.marks();if(r.split(c.pos,2,w).scrollIntoView(),!S||!s)return!0;const k=S.filter(L=>_.includes(L.type.name));r.ensureMarks(k)}return!0},ab=(e,t)=>{const r=Gg(i=>i.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=e.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Rl(e.doc,r.pos)&&e.join(r.pos),!0},ib=(e,t)=>{const r=Gg(i=>i.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=e.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Rl(e.doc,n)&&e.join(n),!0},Cce=(e,t,r,n={})=>({editor:s,tr:a,state:i,dispatch:o,chain:c,commands:f,can:h})=>{const{extensions:m,splittableMarks:x}=s.extensionManager,g=en(e,i.schema),v=en(t,i.schema),{selection:y,storedMarks:w}=i,{$from:E,$to:N}=y,_=E.blockRange(N),S=w||y.$to.parentOffset&&y.$from.marks();if(!_)return!1;const k=Gg(L=>k5(L.type.name,m))(y);if(_.depth>=1&&k&&_.depth-k.depth<=1){if(k.node.type===g)return f.liftListItem(v);if(k5(k.node.type.name,m)&&g.validContent(k.node.content)&&o)return c().command(()=>(a.setNodeMarkup(k.pos,g),!0)).command(()=>ab(a,g)).command(()=>ib(a,g)).run()}return!r||!S||!o?c().command(()=>h().wrapInList(g,n)?!0:f.clearNodes()).wrapInList(g,n).command(()=>ab(a,g)).command(()=>ib(a,g)).run():c().command(()=>{const L=h().wrapInList(g,n),R=S.filter(H=>x.includes(H.type.name));return a.ensureMarks(R),L?!0:f.clearNodes()}).wrapInList(g,n).command(()=>ab(a,g)).command(()=>ib(a,g)).run()},Ace=(e,t={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:a=!1}=r,i=bo(e,n.schema);return nE(n,i,t)?s.unsetMark(i,{extendEmptyMarkRange:a}):s.setMark(i,t)},kce=(e,t,r={})=>({state:n,commands:s})=>{const a=en(e,n.schema),i=en(t,n.schema),o=Cl(n,a,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),o?s.setNode(i,c):s.setNode(a,{...c,...r})},Rce=(e,t={})=>({state:r,commands:n})=>{const s=en(e,r.schema);return Cl(r,s,t)?n.lift(s):n.wrapIn(s,t)},jce=()=>({state:e,dispatch:t})=>{const r=e.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let a;if(s.spec.isInputRules&&(a=s.getState(e))){if(t){const i=e.tr,o=a.transform;for(let c=o.steps.length-1;c>=0;c-=1)i.step(o.steps[c].invert(o.docs[c]));if(a.text){const c=i.doc.resolve(a.from).marks();i.replaceWith(a.from,a.to,e.schema.text(a.text,c))}else i.delete(a.from,a.to)}return!0}}return!1},Oce=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,{empty:n,ranges:s}=r;return n||t&&s.forEach(a=>{e.removeMark(a.$from.pos,a.$to.pos)}),!0},Dce=(e,t={})=>({tr:r,state:n,dispatch:s})=>{var a;const{extendEmptyMarkRange:i=!1}=t,{selection:o}=r,c=bo(e,n.schema),{$from:f,empty:h,ranges:m}=o;if(!s)return!0;if(h&&i){let{from:x,to:g}=o;const v=(a=f.marks().find(w=>w.type===c))==null?void 0:a.attrs,y=eS(f,c,v);y&&(x=y.from,g=y.to),r.removeMark(x,g,c)}else m.forEach(x=>{r.removeMark(x.$from.pos,x.$to.pos,c)});return r.removeStoredMark(c),!0},Ice=e=>({tr:t,state:r,dispatch:n})=>{const{selection:s}=r;let a,i;return typeof e=="number"?(a=e,i=e):e&&"from"in e&&"to"in e?(a=e.from,i=e.to):(a=s.from,i=s.to),n&&t.doc.nodesBetween(a,i,(o,c)=>{if(o.isText)return;const f={...o.attrs};delete f.dir,t.setNodeMarkup(c,void 0,f)}),!0},Mce=(e,t={})=>({tr:r,state:n,dispatch:s})=>{let a=null,i=null;const o=Wg(typeof e=="string"?e:e.name,n.schema);if(!o)return!1;o==="node"&&(a=en(e,n.schema)),o==="mark"&&(i=bo(e,n.schema));let c=!1;return r.selection.ranges.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;let x,g,v,y;r.selection.empty?n.doc.nodesBetween(h,m,(w,E)=>{a&&a===w.type&&(c=!0,v=Math.max(E,h),y=Math.min(E+w.nodeSize,m),x=E,g=w)}):n.doc.nodesBetween(h,m,(w,E)=>{E<h&&a&&a===w.type&&(c=!0,v=Math.max(E,h),y=Math.min(E+w.nodeSize,m),x=E,g=w),E>=h&&E<=m&&(a&&a===w.type&&(c=!0,s&&r.setNodeMarkup(E,void 0,{...w.attrs,...t})),i&&w.marks.length&&w.marks.forEach(N=>{if(i===N.type&&(c=!0,s)){const _=Math.max(E,h),S=Math.min(E+w.nodeSize,m);r.addMark(_,S,i.create({...N.attrs,...t}))}}))}),g&&(x!==void 0&&s&&r.setNodeMarkup(x,void 0,{...g.attrs,...t}),i&&g.marks.length&&g.marks.forEach(w=>{i===w.type&&s&&r.addMark(v,y,i.create({...w.attrs,...t}))}))}),c},Fce=(e,t={})=>({state:r,dispatch:n})=>{const s=en(e,r.schema);return uie(s,t)(r,n)},Pce=(e,t={})=>({state:r,dispatch:n})=>{const s=en(e,r.schema);return die(s,t)(r,n)},Lce=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(n=>n.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(n=>n!==t):delete this.callbacks[e]),this}once(e,t){const r=(...n)=>{this.off(e,r),t.apply(this,n)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},Xg=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},Bce=(e,t)=>{if(Q_(t))return t.exec(e);const r=t(e);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=e,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function fm(e){var t;const{editor:r,from:n,to:s,text:a,rules:i,plugin:o}=e,{view:c}=r;if(c.composing)return!1;const f=c.state.doc.resolve(n);if(f.parent.type.spec.code||(t=f.nodeBefore||f.nodeAfter)!=null&&t.marks.find(x=>x.type.spec.code))return!1;let h=!1;const m=dce(f)+a;return i.forEach(x=>{if(h)return;const g=Bce(m,x.find);if(!g)return;const v=c.state.tr,y=Vg({state:c.state,transaction:v}),w={from:n-(g[0].length-a.length),to:s},{commands:E,chain:N,can:_}=new $g({editor:r,state:y});x.handler({state:y,range:w,match:g,commands:E,chain:N,can:_})===null||!v.steps.length||(x.undoable&&v.setMeta(o,{transform:v,from:n,to:s,text:a}),c.dispatch(v),h=!0)}),h}function Uce(e){const{editor:t,rules:r}=e,n=new _r({state:{init(){return null},apply(s,a,i){const o=s.getMeta(n);if(o)return o;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:h}=c;typeof h=="string"?h=h:h=rS($e.from(h),i.schema);const{from:m}=c,x=m+h.length;fm({editor:t,from:m,to:x,text:h,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,i,o){return fm({editor:t,from:a,to:i,text:o,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&fm({editor:t,from:a.pos,to:a.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:i}=s.state.selection;return i?fm({editor:t,from:i.pos,to:i.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function zce(e){return Object.prototype.toString.call(e).slice(8,-1)}function hm(e){return zce(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function ZM(e,t){const r={...e};return hm(e)&&hm(t)&&Object.keys(t).forEach(n=>{hm(t[n])&&hm(e[n])?r[n]=ZM(e[n],t[n]):r[n]=t[n]}),r}var sS=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Xt(ct(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Xt(ct(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ZM(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Vc=class QM extends sS{constructor(){super(...arguments),this.type="mark"}static create(t={}){const r=typeof t=="function"?t():t;return new QM(r)}static handleExit({editor:t,mark:r}){const{tr:n}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const i=s.marks();if(!!!i.find(f=>(f==null?void 0:f.type.name)===r.name))return!1;const c=i.find(f=>(f==null?void 0:f.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",s.pos),t.view.dispatch(n),!0}return!1}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Hce(e){return typeof e=="number"}var qce=class{constructor(e){this.find=e.find,this.handler=e.handler}},Vce=(e,t,r)=>{if(Q_(t))return[...e.matchAll(t)];const n=t(e,r);return n?n.map(s=>{const a=[s.text];return a.index=s.index,a.input=e,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function $ce(e){const{editor:t,state:r,from:n,to:s,rule:a,pasteEvent:i,dropEvent:o}=e,{commands:c,chain:f,can:h}=new $g({editor:t,state:r}),m=[];return r.doc.nodesBetween(n,s,(g,v)=>{var y,w,E,N,_;if((w=(y=g.type)==null?void 0:y.spec)!=null&&w.code||!(g.isText||g.isTextblock||g.isInline))return;const S=(_=(N=(E=g.content)==null?void 0:E.size)!=null?N:g.nodeSize)!=null?_:0,k=Math.max(n,v),L=Math.min(s,v+S);if(k>=L)return;const R=g.isText?g.text||"":g.textBetween(k-v,L-v,void 0,"");Vce(R,a.find,i).forEach(O=>{if(O.index===void 0)return;const Z=k+O.index+1,ae=Z+O[0].length,P={from:r.tr.mapping.map(Z),to:r.tr.mapping.map(ae)},X=a.handler({state:r,range:P,match:O,commands:c,chain:f,can:h,pasteEvent:i,dropEvent:o});m.push(X)})}),m.every(g=>g!==null)}var pm=null,Wce=e=>{var t;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=r.clipboardData)==null||t.setData("text/html",e),r};function Gce(e){const{editor:t,rules:r}=e;let n=null,s=!1,a=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const c=({state:h,from:m,to:x,rule:g,pasteEvt:v})=>{const y=h.tr,w=Vg({state:h,transaction:y});if(!(!$ce({editor:t,state:w,from:Math.max(m-1,0),to:x.b-1,rule:g,pasteEvent:v,dropEvent:o})||!y.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return r.map(h=>new _r({view(m){const x=v=>{var y;n=(y=m.dom.parentElement)!=null&&y.contains(v.target)?m.dom.parentElement:null,n&&(pm=t)},g=()=>{pm&&(pm=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(m,x)=>{if(a=n===m.dom.parentElement,o=x,!a){const g=pm;g!=null&&g.isEditable&&setTimeout(()=>{const v=g.state.selection;v&&g.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(m,x)=>{var g;const v=(g=x.clipboardData)==null?void 0:g.getData("text/html");return i=x,s=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(m,x,g)=>{const v=m[0],y=v.getMeta("uiEvent")==="paste"&&!s,w=v.getMeta("uiEvent")==="drop"&&!a,E=v.getMeta("applyPasteRules"),N=!!E;if(!y&&!w&&!N)return;if(N){let{text:k}=E;typeof k=="string"?k=k:k=rS($e.from(k),g.schema);const{from:L}=E,R=L+k.length,H=Wce(k);return c({rule:h,state:g,from:L,to:{b:R},pasteEvt:H})}const _=x.doc.content.findDiffStart(g.doc.content),S=x.doc.content.findDiffEnd(g.doc.content);if(!(!Hce(_)||!S||_===S.b))return c({rule:h,state:g,from:_,to:S,pasteEvt:i})}}))}var Yg=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=VM(e),this.schema=sce(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:dm(t.name,this.schema)},n=ct(t,"addCommands",r);return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this;return jx([...this.extensions].reverse()).flatMap(n=>{const s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:dm(n.name,this.schema)},a=[],i=ct(n,"addKeyboardShortcuts",s);let o={};if(n.type==="mark"&&ct(n,"exitable",s)&&(o.ArrowRight=()=>Vc.handleExit({editor:e,mark:n})),i){const x=Object.fromEntries(Object.entries(i()).map(([g,v])=>[g,()=>v({editor:e})]));o={...o,...x}}const c=ole(o);a.push(c);const f=ct(n,"addInputRules",s);if(A5(n,e.options.enableInputRules)&&f){const x=f();if(x&&x.length){const g=Uce({editor:e,rules:x}),v=Array.isArray(g)?g:[g];a.push(...v)}}const h=ct(n,"addPasteRules",s);if(A5(n,e.options.enablePasteRules)&&h){const x=h();if(x&&x.length){const g=Gce({editor:e,rules:x});a.push(...g)}}const m=ct(n,"addProseMirrorPlugins",s);if(m){const x=m();a.push(...x)}return a})}get attributes(){return qM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=nd(this.extensions);return Object.fromEntries(t.filter(r=>!!ct(r,"addNodeView")).map(r=>{const n=this.attributes.filter(c=>c.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:en(r.name,this.schema)},a=ct(r,"addNodeView",s);if(!a)return[];const i=a();if(!i)return[];const o=(c,f,h,m,x)=>{const g=Gh(c,n);return i({node:c,view:f,getPos:h,decorations:m,innerDecorations:x,editor:e,extension:r,HTMLAttributes:g})};return[r.name,o]}))}dispatchTransaction(e){const{editor:t}=this;return jx([...this.extensions].reverse()).reduceRight((n,s)=>{const a={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:dm(s.name,this.schema)},i=ct(s,"dispatchTransaction",a);return i?o=>{i.call(a,{transaction:o,next:n})}:n},e)}get markViews(){const{editor:e}=this,{markExtensions:t}=nd(this.extensions);return Object.fromEntries(t.filter(r=>!!ct(r,"addMarkView")).map(r=>{const n=this.attributes.filter(o=>o.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:bo(r.name,this.schema)},a=ct(r,"addMarkView",s);if(!a)return[];const i=(o,c,f)=>{const h=Gh(o,n);return a()({mark:o,view:c,inline:f,editor:e,extension:r,HTMLAttributes:h,updateAttributes:m=>{oue(o,e,m)}})};return[r.name,i]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var r;const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:dm(t.name,this.schema)};t.type==="mark"&&((r=Xt(ct(t,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(t.name);const s=ct(t,"onBeforeCreate",n),a=ct(t,"onCreate",n),i=ct(t,"onUpdate",n),o=ct(t,"onSelectionUpdate",n),c=ct(t,"onTransaction",n),f=ct(t,"onFocus",n),h=ct(t,"onBlur",n),m=ct(t,"onDestroy",n);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),i&&this.editor.on("update",i),o&&this.editor.on("selectionUpdate",o),c&&this.editor.on("transaction",c),f&&this.editor.on("focus",f),h&&this.editor.on("blur",h),m&&this.editor.on("destroy",m)})}};Yg.resolve=VM;Yg.sort=jx;Yg.flatten=tS;var Kce={};Z_(Kce,{ClipboardTextSerializer:()=>tF,Commands:()=>rF,Delete:()=>nF,Drop:()=>sF,Editable:()=>aF,FocusEvents:()=>oF,Keymap:()=>lF,Paste:()=>cF,Tabindex:()=>uF,TextDirection:()=>dF,focusEventsPluginKey:()=>iF});var Br=class eF extends sS{constructor(){super(...arguments),this.type="extension"}static create(t={}){const r=typeof t=="function"?t():t;return new eF(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}},tF=Br.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new _r({key:new cn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:r}=e,{doc:n,selection:s}=t,{ranges:a}=s,i=Math.min(...a.map(h=>h.$from.pos)),o=Math.max(...a.map(h=>h.$to.pos)),c=WM(r);return $M(n,{from:i,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),rF=Br.create({name:"commands",addCommands(){return{...IM}}}),nF=Br.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var r,n,s;const a=()=>{var i,o,c,f;if((f=(c=(o=(i=this.editor.options.coreExtensionOptions)==null?void 0:i.delete)==null?void 0:o.filterTransaction)==null?void 0:c.call(o,e))!=null?f:e.getMeta("y-sync$"))return;const h=zM(e.before,[e,...t]);KM(h).forEach(g=>{h.mapping.mapResult(g.oldRange.from).deletedAfter&&h.mapping.mapResult(g.oldRange.to).deletedBefore&&h.before.nodesBetween(g.oldRange.from,g.oldRange.to,(v,y)=>{const w=y+v.nodeSize-2,E=g.oldRange.from<=y&&w<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:y,to:w,newFrom:h.mapping.map(y),newTo:h.mapping.map(w),deletedRange:g.oldRange,newRange:g.newRange,partial:!E,editor:this.editor,transaction:e,combinedTransform:h})})});const x=h.mapping;h.steps.forEach((g,v)=>{var y,w;if(g instanceof qa){const E=x.slice(v).map(g.from,-1),N=x.slice(v).map(g.to),_=x.invert().map(E,-1),S=x.invert().map(N),k=(y=h.doc.nodeAt(E-1))==null?void 0:y.marks.some(R=>R.eq(g.mark)),L=(w=h.doc.nodeAt(N))==null?void 0:w.marks.some(R=>R.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:_,to:S},newRange:{from:E,to:N},partial:!!(L||k),editor:this.editor,transaction:e,combinedTransform:h})}})};(s=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||s?setTimeout(a,0):a()}}),sF=Br.create({name:"drop",addProseMirrorPlugins(){return[new _r({key:new cn("tiptapDrop"),props:{handleDrop:(e,t,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:r,moved:n})}}})]}}),aF=Br.create({name:"editable",addProseMirrorPlugins(){return[new _r({key:new cn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),iF=new cn("focusEvents"),oF=Br.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new _r({key:iF,props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;const n=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,r)=>{e.isFocused=!1;const n=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),lF=Br.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:o})=>{const{selection:c,doc:f}=o,{empty:h,$anchor:m}=c,{pos:x,parent:g}=m,v=m.parent.isTextblock&&x>0?o.doc.resolve(x-1):m,y=v.parent.type.spec.isolating,w=m.pos-m.parentOffset,E=y&&v.parent.childCount===1?w===m.pos:kt.atStart(f).from===x;return!h||!g.type.isTextblock||g.textContent.length||!E||E&&m.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},a={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Rx()||BM()?a:s},addProseMirrorPlugins(){return[new _r({key:new cn("clearDocument"),appendTransaction:(e,t,r)=>{if(e.some(y=>y.getMeta("composition")))return;const n=e.some(y=>y.docChanged)&&!t.doc.eq(r.doc),s=e.some(y=>y.getMeta("preventClearDocument"));if(!n||s)return;const{empty:a,from:i,to:o}=t.selection,c=kt.atStart(t.doc).from,f=kt.atEnd(t.doc).to;if(a||!(i===c&&o===f)||!Kg(r.doc))return;const x=r.tr,g=Vg({state:r,transaction:x}),{commands:v}=new $g({editor:this.editor,state:g});if(v.clearNodes(),!!x.steps.length)return x}})]}}),cF=Br.create({name:"paste",addProseMirrorPlugins(){return[new _r({key:new cn("tiptapPaste"),props:{handlePaste:(e,t,r)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:r})}}})]}}),uF=Br.create({name:"tabindex",addProseMirrorPlugins(){return[new _r({key:new cn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),dF=Br.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=nd(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const r=t.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new _r({key:new cn("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),Xce=class Xf{constructor(t,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=r,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(t);return new Xf(r,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Xf(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Xf(t,this.editor)}get children(){const t=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,a=r.isAtom&&!r.isText,i=r.isInline,o=this.pos+n+(a?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(o);if(!s&&!i&&c.depth<=this.depth)return;const f=new Xf(c,this.editor,s,s||i?r:null);s&&(f.actualDepth=this.depth+1),t.push(f)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===t)if(Object.keys(r).length>0){const a=s.node.attrs,i=Object.keys(r);for(let o=0;o<i.length;o+=1){const c=i[o];if(a[c]!==r[c])break}}else n=s;s=s.parent}return n}querySelector(t,r={}){return this.querySelectorAll(t,r,!0)[0]||null}querySelectorAll(t,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(r);return this.children.forEach(i=>{n&&s.length>0||(i.node.type.name===t&&a.every(c=>r[c]===i.node.attrs[c])&&s.push(i),!(n&&s.length>0)&&(s=s.concat(i.querySelectorAll(t,r,n))))}),s}setAttribute(t){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(r)}},Yce=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Jce(e,t,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}var Zce=class extends Lce{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:mce,createMappablePosition:xce},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:a})=>this.options.onDrop(n,s,a)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),this.on("delete",this.options.onDelete);const t=this.createDoc(),r=PM(t,this.options.autofocus);this.editorState=Lu.create({doc:t,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Jce(Yce,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const r=HM(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=r.filter(i=>!i.key.startsWith(a))}),t.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[aF,tF.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),rF,oF,lF,uF,sF,cF,nF,dF.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Yg(n,this)}createCommandManager(){this.commandManager=new $g({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=rE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=rE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:r}=this.options,n=t.dispatchTransaction||this.dispatchTransaction.bind(this),s=r?this.extensionManager.dispatchTransaction(n):n;this.editorView=new OM(e,{...t,attributes:{role:"textbox",...t==null?void 0:t.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(f=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(f)});return}const{state:t,transactions:r}=this.state.applyTransaction(e),n=!this.state.selection.eq(t.selection),s=r.includes(e),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!s)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=r.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),o=i==null?void 0:i.getMeta("focus"),c=i==null?void 0:i.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:i}),c&&this.emit("blur",{editor:this,event:c.event,transaction:i}),!(e.getMeta("preventUpdate")||!r.some(f=>f.docChanged)||a.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return GM(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,n=typeof e=="string"?t:e;return fce(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return rS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return ice(this.state.doc,{blockSeparator:t,textSerializers:{...WM(this.schema),...r}})}get isEmpty(){return Kg(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Xce(t,this)}get $doc(){return this.$pos(0)}};function sd(e){return new Xg({find:e.find,handler:({state:t,range:r,match:n})=>{const s=Xt(e.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:a}=t,i=n[n.length-1],o=n[0];if(i){const c=o.search(/\S/),f=r.from+o.indexOf(i),h=f+i.length;if(nS(r.from,r.to,t.doc).filter(g=>g.mark.type.excluded.find(y=>y===e.type&&y!==g.mark.type)).filter(g=>g.to>f).length)return null;h<r.to&&a.delete(h,r.to),f>r.from&&a.delete(r.from+c,f);const x=r.from+c+i.length;a.addMark(r.from+c,x,e.type.create(s||{})),a.removeStoredMark(e.type)}},undoable:e.undoable})}function Qce(e){return new Xg({find:e.find,handler:({state:t,range:r,match:n})=>{const s=Xt(e.getAttributes,void 0,n)||{},{tr:a}=t,i=r.from;let o=r.to;const c=e.type.create(s);if(n[1]){const f=n[0].lastIndexOf(n[1]);let h=i+f;h>o?h=o:o=h+n[1].length;const m=n[0][n[0].length-1];a.insertText(m,i+n[0].length-1),a.replaceWith(h,o,c)}else if(n[0]){const f=e.type.isInline?i:i-1;a.insert(f,e.type.create(s)).delete(a.mapping.map(i),a.mapping.map(o))}a.scrollIntoView()},undoable:e.undoable})}function sE(e){return new Xg({find:e.find,handler:({state:t,range:r,match:n})=>{const s=t.doc.resolve(r.from),a=Xt(e.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,a)},undoable:e.undoable})}function ad(e){return new Xg({find:e.find,handler:({state:t,range:r,match:n,chain:s})=>{const a=Xt(e.getAttributes,void 0,n)||{},i=t.tr.delete(r.from,r.to),c=i.doc.resolve(r.from).blockRange(),f=c&&F_(c,e.type,a);if(!f)return null;if(i.wrap(c,f),e.keepMarks&&e.editor){const{selection:m,storedMarks:x}=t,{splittableMarks:g}=e.editor.extensionManager,v=x||m.$to.parentOffset&&m.$from.marks();if(v){const y=v.filter(w=>g.includes(w.type.name));i.ensureMarks(y)}}if(e.keepAttributes){const m=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,a).run()}const h=i.doc.resolve(r.from-1).nodeBefore;h&&h.type===e.type&&Rl(i.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(n,h))&&i.join(r.from-1)},undoable:e.undoable})}function eue(e,t){const{selection:r}=e,{$from:n}=r;if(r instanceof dt){const a=n.index();return n.parent.canReplaceWith(a,a+1,t)}let s=n.depth;for(;s>=0;){const a=n.index(s);if(n.node(s).contentMatchAt(a).matchType(t))return!0;s-=1}return!1}var tue={};Z_(tue,{createAtomBlockMarkdownSpec:()=>rue,createBlockMarkdownSpec:()=>nue,createInlineMarkdownSpec:()=>iue,parseAttributes:()=>aS,parseIndentedBlocks:()=>aE,renderNestedMarkdownContent:()=>oS,serializeAttributes:()=>iS});function aS(e){if(!(e!=null&&e.trim()))return{};const t={},r=[],n=e.replace(/["']([^"']*)["']/g,f=>(r.push(f),`__QUOTED_${r.length-1}__`)),s=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const f=s.map(h=>h.trim().slice(1));t.class=f.join(" ")}const a=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(t.id=a[1]);const i=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(i)).forEach(([,f,h])=>{var m;const x=parseInt(((m=h.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),g=r[x];g&&(t[f]=g.slice(1,-1))});const c=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(h=>{h.match(/^[a-zA-Z][\w-]*$/)&&(t[h]=!0)}),t}function iS(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(n=>t.push(`.${n}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?t.push(r):n!==!1&&n!=null&&t.push(`${r}="${String(n)}"`))}),t.join(" ")}function rue(e){const{nodeName:t,name:r,parseAttributes:n=aS,serializeAttributes:s=iS,defaultAttributes:a={},requiredAttributes:i=[],allowedAttributes:o}=e,c=r||t,f=h=>{if(!o)return h;const m={};return o.forEach(x=>{x in h&&(m[x]=h[x])}),m};return{parseMarkdown:(h,m)=>{const x={...a,...h.attributes};return m.createNode(t,x,[])},markdownTokenizer:{name:t,level:"block",start(h){var m;const x=new RegExp(`^:::${c}(?:\\s|$)`,"m"),g=(m=h.match(x))==null?void 0:m.index;return g!==void 0?g:-1},tokenize(h,m,x){const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=h.match(g);if(!v)return;const y=v[1]||"",w=n(y);if(!i.find(N=>!(N in w)))return{type:t,raw:v[0],attributes:w}}},renderMarkdown:h=>{const m=f(h.attrs||{}),x=s(m),g=x?` {${x}}`:"";return`:::${c}${g} :::`}}}function nue(e){const{nodeName:t,name:r,getContent:n,parseAttributes:s=aS,serializeAttributes:a=iS,defaultAttributes:i={},content:o="block",allowedAttributes:c}=e,f=r||t,h=m=>{if(!c)return m;const x={};return c.forEach(g=>{g in m&&(x[g]=m[g])}),x};return{parseMarkdown:(m,x)=>{let g;if(n){const y=n(m);g=typeof y=="string"?[{type:"text",text:y}]:y}else o==="block"?g=x.parseChildren(m.tokens||[]):g=x.parseInline(m.tokens||[]);const v={...i,...m.attributes};return x.createNode(t,v,g)},markdownTokenizer:{name:t,level:"block",start(m){var x;const g=new RegExp(`^:::${f}`,"m"),v=(x=m.match(g))==null?void 0:x.index;return v!==void 0?v:-1},tokenize(m,x,g){var v;const y=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=m.match(y);if(!w)return;const[E,N=""]=w,_=s(N);let S=1;const k=E.length;let L="";const R=/^:::([\w-]*)(\s.*)?/gm,H=m.slice(k);for(R.lastIndex=0;;){const O=R.exec(H);if(O===null)break;const Z=O.index,ae=O[1];if(!((v=O[2])!=null&&v.endsWith(":::"))){if(ae)S+=1;else if(S-=1,S===0){const P=H.slice(0,Z);L=P.trim();const X=m.slice(0,k+Z+O[0].length);let M=[];if(L)if(o==="block")for(M=g.blockTokens(P),M.forEach(ie=>{ie.text&&(!ie.tokens||ie.tokens.length===0)&&(ie.tokens=g.inlineTokens(ie.text))});M.length>0;){const ie=M[M.length-1];if(ie.type==="paragraph"&&(!ie.text||ie.text.trim()===""))M.pop();else break}else M=g.inlineTokens(L);return{type:t,raw:X,attributes:_,content:L,tokens:M}}}}}},renderMarkdown:(m,x)=>{const g=h(m.attrs||{}),v=a(g),y=v?` {${v}}`:"",w=x.renderChildren(m.content||[],`

`);return`:::${f}${y}

${w}

:::`}}}function sue(e){if(!e.trim())return{};const t={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(e);for(;n!==null;){const[,s,a,i]=n;t[s]=a||i,n=r.exec(e)}return t}function aue(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,r])=>`${t}="${r}"`).join(" ")}function iue(e){const{nodeName:t,name:r,getContent:n,parseAttributes:s=sue,serializeAttributes:a=aue,defaultAttributes:i={},selfClosing:o=!1,allowedAttributes:c}=e,f=r||t,h=x=>{if(!c)return x;const g={};return c.forEach(v=>{const y=typeof v=="string"?v:v.name,w=typeof v=="string"?void 0:v.skipIfDefault;if(y in x){const E=x[y];if(w!==void 0&&E===w)return;g[y]=E}}),g},m=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,g)=>{const v={...i,...x.attributes};if(o)return g.createNode(t,v);const y=n?n(x):x.content||"";return y?g.createNode(t,v,[g.createTextNode(y)]):g.createNode(t,v,[])},markdownTokenizer:{name:t,level:"inline",start(x){const g=o?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),v=x.match(g),y=v==null?void 0:v.index;return y!==void 0?y:-1},tokenize(x,g,v){const y=o?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),w=x.match(y);if(!w)return;let E="",N="";if(o){const[,S]=w;N=S}else{const[,S,k]=w;N=S,E=k||""}const _=s(N.trim());return{type:t,raw:w[0],content:E.trim(),attributes:_}}},renderMarkdown:x=>{let g="";n?g=n(x):x.content&&x.content.length>0&&(g=x.content.filter(E=>E.type==="text").map(E=>E.text).join(""));const v=h(x.attrs||{}),y=a(v),w=y?` ${y}`:"";return o?`[${f}${w}]`:`[${f}${w}]${g}[/${f}]`}}}function aE(e,t,r){var n,s,a,i;const o=e.split(`
`),c=[];let f="",h=0;const m=t.baseIndentSize||2;for(;h<o.length;){const x=o[h],g=x.match(t.itemPattern);if(!g){if(c.length>0)break;if(x.trim()===""){h+=1,f=`${f}${x}
`;continue}else return}const v=t.extractItemData(g),{indentLevel:y,mainContent:w}=v;f=`${f}${x}
`;const E=[w];for(h+=1;h<o.length;){const k=o[h];if(k.trim()===""){const R=o.slice(h+1).findIndex(Z=>Z.trim()!=="");if(R===-1)break;if((((s=(n=o[h+1+R].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:s.length)||0)>y){E.push(k),f=`${f}${k}
`,h+=1;continue}else break}if((((i=(a=k.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:i.length)||0)>y)E.push(k),f=`${f}${k}
`,h+=1;else break}let N;const _=E.slice(1);if(_.length>0){const k=_.map(L=>L.slice(y+m)).join(`
`);k.trim()&&(t.customNestedParser?N=t.customNestedParser(k):N=r.blockTokens(k))}const S=t.createToken(v,N);c.push(S)}if(c.length!==0)return{items:c,raw:f}}function oS(e,t,r,n){if(!e||!Array.isArray(e.content))return"";const s=typeof r=="function"?r(n):r,[a,...i]=e.content,o=t.renderChildren([a]),c=[`${s}${o}`];return i&&i.length>0&&i.forEach(f=>{const h=t.renderChildren([f]);if(h){const m=h.split(`
`).map(x=>x?t.indent(x):"").join(`
`);c.push(m)}}),c.join(`
`)}function oue(e,t,r={}){const{state:n}=t,{doc:s,tr:a}=n,i=e;s.descendants((o,c)=>{const f=a.mapping.map(c),h=a.mapping.map(c)+o.nodeSize;let m=null;if(o.marks.forEach(g=>{if(g!==i)return!1;m=g}),!m)return;let x=!1;if(Object.keys(r).forEach(g=>{r[g]!==m.attrs[g]&&(x=!0)}),x){const g=e.type.create({...e.attrs,...r});a.removeMark(f,h,e.type),a.addMark(f,h,g)}}),a.docChanged&&t.view.dispatch(a)}var Zs=class fF extends sS{constructor(){super(...arguments),this.type="node"}static create(t={}){const r=typeof t=="function"?t():t;return new fF(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Mc(e){return new qce({find:e.find,handler:({state:t,range:r,match:n,pasteEvent:s})=>{const a=Xt(e.getAttributes,void 0,n,s);if(a===!1||a===null)return null;const{tr:i}=t,o=n[n.length-1],c=n[0];let f=r.to;if(o){const h=c.search(/\S/),m=r.from+c.indexOf(o),x=m+o.length;if(nS(r.from,r.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>m).length)return null;x<r.to&&i.delete(x,r.to),m>r.from&&i.delete(r.from+h,m),f=r.from+h+o.length,i.addMark(r.from+h,f,e.type.create(a||{})),i.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:lue,getOwnPropertySymbols:cue}=Object,{hasOwnProperty:uue}=Object.prototype;function ob(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function mm(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:a}=s,i=a.get(r),o=a.get(n);if(i&&o)return i===n&&o===r;a.set(r,n),a.set(n,r);const c=e(r,n,s);return a.delete(r),a.delete(n),c}}function due(e){return e!=null?e[Symbol.toStringTag]:void 0}function j5(e){return lue(e).concat(cue(e))}const fue=Object.hasOwn||((e,t)=>uue.call(e,t));function $c(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const hue="__v",pue="__o",mue="_owner",{getOwnPropertyDescriptor:O5,keys:D5}=Object;function xue(e,t){return e.byteLength===t.byteLength&&Ox(new Uint8Array(e),new Uint8Array(t))}function gue(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function yue(e,t){return e.byteLength===t.byteLength&&Ox(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function vue(e,t){return $c(e.getTime(),t.getTime())}function bue(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function wue(e,t){return e===t}function I5(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),a=e.entries();let i,o,c=0;for(;(i=a.next())&&!i.done;){const f=t.entries();let h=!1,m=0;for(;(o=f.next())&&!o.done;){if(s[m]){m++;continue}const x=i.value,g=o.value;if(r.equals(x[0],g[0],c,m,e,t,r)&&r.equals(x[1],g[1],x[0],g[0],e,t,r)){h=s[m]=!0;break}m++}if(!h)return!1;c++}return!0}const Eue=$c;function _ue(e,t,r){const n=D5(e);let s=n.length;if(D5(t).length!==s)return!1;for(;s-- >0;)if(!hF(e,t,r,n[s]))return!1;return!0}function Of(e,t,r){const n=j5(e);let s=n.length;if(j5(t).length!==s)return!1;let a,i,o;for(;s-- >0;)if(a=n[s],!hF(e,t,r,a)||(i=O5(e,a),o=O5(t,a),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable)))return!1;return!0}function Sue(e,t){return $c(e.valueOf(),t.valueOf())}function Nue(e,t){return e.source===t.source&&e.flags===t.flags}function M5(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),a=e.values();let i,o;for(;(i=a.next())&&!i.done;){const c=t.values();let f=!1,h=0;for(;(o=c.next())&&!o.done;){if(!s[h]&&r.equals(i.value,o.value,i.value,o.value,e,t,r)){f=s[h]=!0;break}h++}if(!f)return!1}return!0}function Ox(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Tue(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function hF(e,t,r,n){return(n===mue||n===pue||n===hue)&&(e.$$typeof||t.$$typeof)?!0:fue(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Cue="[object ArrayBuffer]",Aue="[object Arguments]",kue="[object Boolean]",Rue="[object DataView]",jue="[object Date]",Oue="[object Error]",Due="[object Map]",Iue="[object Number]",Mue="[object Object]",Fue="[object RegExp]",Pue="[object Set]",Lue="[object String]",Bue={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Uue="[object URL]",zue=Object.prototype.toString;function Hue({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:a,areMapsEqual:i,areNumbersEqual:o,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:x,areUrlsEqual:g,unknownTagComparators:v}){return function(w,E,N){if(w===E)return!0;if(w==null||E==null)return!1;const _=typeof w;if(_!==typeof E)return!1;if(_!=="object")return _==="number"?o(w,E,N):_==="function"?a(w,E,N):!1;const S=w.constructor;if(S!==E.constructor)return!1;if(S===Object)return c(w,E,N);if(Array.isArray(w))return t(w,E,N);if(S===Date)return n(w,E,N);if(S===RegExp)return h(w,E,N);if(S===Map)return i(w,E,N);if(S===Set)return m(w,E,N);const k=zue.call(w);if(k===jue)return n(w,E,N);if(k===Fue)return h(w,E,N);if(k===Due)return i(w,E,N);if(k===Pue)return m(w,E,N);if(k===Mue)return typeof w.then!="function"&&typeof E.then!="function"&&c(w,E,N);if(k===Uue)return g(w,E,N);if(k===Oue)return s(w,E,N);if(k===Aue)return c(w,E,N);if(Bue[k])return x(w,E,N);if(k===Cue)return e(w,E,N);if(k===Rue)return r(w,E,N);if(k===kue||k===Iue||k===Lue)return f(w,E,N);if(v){let L=v[k];if(!L){const R=due(w);R&&(L=v[R])}if(L)return L(w,E,N)}return!1}}function que({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:xue,areArraysEqual:r?Of:gue,areDataViewsEqual:yue,areDatesEqual:vue,areErrorsEqual:bue,areFunctionsEqual:wue,areMapsEqual:r?ob(I5,Of):I5,areNumbersEqual:Eue,areObjectsEqual:r?Of:_ue,arePrimitiveWrappersEqual:Sue,areRegExpsEqual:Nue,areSetsEqual:r?ob(M5,Of):M5,areTypedArraysEqual:r?ob(Ox,Of):Ox,areUrlsEqual:Tue,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=mm(n.areArraysEqual),a=mm(n.areMapsEqual),i=mm(n.areObjectsEqual),o=mm(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:i,areSetsEqual:o})}return n}function Vue(e){return function(t,r,n,s,a,i,o){return e(t,r,o)}}function $ue({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(o,c){const{cache:f=e?new WeakMap:void 0,meta:h}=r();return t(o,c,{cache:f,equals:n,meta:h,strict:s})};if(e)return function(o,c){return t(o,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const a={cache:void 0,equals:n,meta:void 0,strict:s};return function(o,c){return t(o,c,a)}}const Wue=Ol();Ol({strict:!0});Ol({circular:!0});Ol({circular:!0,strict:!0});Ol({createInternalComparator:()=>$c});Ol({strict:!0,createInternalComparator:()=>$c});Ol({circular:!0,createInternalComparator:()=>$c});Ol({circular:!0,createInternalComparator:()=>$c,strict:!0});function Ol(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,a=que(e),i=Hue(a),o=r?r(i):Vue(i);return $ue({circular:t,comparator:i,createState:n,equals:o,strict:s})}var lb={exports:{}},cb={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F5;function Gue(){if(F5)return cb;F5=1;var e=Yh(),t=sI();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return cb.useSyncExternalStoreWithSelector=function(f,h,m,x,g){var v=a(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=o(function(){function E(L){if(!N){if(N=!0,_=L,L=x(L),g!==void 0&&y.hasValue){var R=y.value;if(g(R,L))return S=R}return S=L}if(R=S,n(_,L))return R;var H=x(L);return g!==void 0&&g(R,H)?(_=L,R):(_=L,S=H)}var N=!1,_,S,k=m===void 0?null:m;return[function(){return E(h())},k===null?void 0:function(){return E(k())}]},[h,m,x,g]);var w=s(f,v[0],v[1]);return i(function(){y.hasValue=!0,y.value=w},[w]),c(w),w},cb}var P5;function Kue(){return P5||(P5=1,lb.exports=Gue()),lb.exports}var Xue=Kue(),Yue=(...e)=>t=>{e.forEach(r=>{typeof r=="function"?r(t):r&&(r.current=t)})},Jue=({contentComponent:e})=>{const t=aI.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return u.jsx(u.Fragment,{children:Object.values(t)})};function Zue(){const e=new Set;let t={};return{subscribe(r){return e.add(r),()=>{e.delete(r)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(r,n){t={...t,[r]:ZO.createPortal(n.reactElement,n.element,r)},e.forEach(s=>s())},removeRenderer(r){const n={...t};delete n[r],t=n,e.forEach(s=>s())}}}var Que=class extends qe.Component{constructor(e){var t;super(e),this.editorContentRef=qe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&((e=t.view.dom)!=null&&e.parentNode)){if(t.contentComponent)return;const r=this.editorContentRef.current;r.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:r}),t.contentComponent=Zue(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.parentNode))return;const r=document.createElement("div");r.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:r})}catch{}}}render(){const{editor:e,innerRef:t,...r}=this.props;return u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:Yue(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&u.jsx(Jue,{contentComponent:e.contentComponent})]})}},ede=Y.forwardRef((e,t)=>{const r=qe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return qe.createElement(Que,{key:r,innerRef:t,...e})}),pF=qe.memo(ede),tde=typeof window<"u"?Y.useLayoutEffect:Y.useEffect,rde=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}};function nde(e){var t;const[r]=Y.useState(()=>new rde(e.editor)),n=Xue.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:Wue);return tde(()=>r.watch(e.editor),[e.editor,r]),Y.useDebugValue(n),n}var sde=!1,iE=typeof window>"u",ade=iE||!!(typeof window<"u"&&window.next),ide=class mF{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?iE||ade?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...n)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)==null?void 0:a.call(s,...n)},onBlur:(...n)=>{var s,a;return(a=(s=this.options.current).onBlur)==null?void 0:a.call(s,...n)},onCreate:(...n)=>{var s,a;return(a=(s=this.options.current).onCreate)==null?void 0:a.call(s,...n)},onDestroy:(...n)=>{var s,a;return(a=(s=this.options.current).onDestroy)==null?void 0:a.call(s,...n)},onFocus:(...n)=>{var s,a;return(a=(s=this.options.current).onFocus)==null?void 0:a.call(s,...n)},onSelectionUpdate:(...n)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)==null?void 0:a.call(s,...n)},onTransaction:(...n)=>{var s,a;return(a=(s=this.options.current).onTransaction)==null?void 0:a.call(s,...n)},onUpdate:(...n)=>{var s,a;return(a=(s=this.options.current).onUpdate)==null?void 0:a.call(s,...n)},onContentError:(...n)=>{var s,a;return(a=(s=this.options.current).onContentError)==null?void 0:a.call(s,...n)},onDrop:(...n)=>{var s,a;return(a=(s=this.options.current).onDrop)==null?void 0:a.call(s,...n)},onPaste:(...n)=>{var s,a;return(a=(s=this.options.current).onPaste)==null?void 0:a.call(s,...n)},onDelete:(...n)=>{var s,a;return(a=(s=this.options.current).onDelete)==null?void 0:a.call(s,...n)}};return new Zce(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,r){return Object.keys(t).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&t.extensions&&r.extensions?t.extensions.length!==r.extensions.length?!1:t.extensions.every((s,a)=>{var i;return s===((i=r.extensions)==null?void 0:i[a])}):t[n]===r[n])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?mF.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((n,s)=>n===t[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function ode(e={},t=[]){const r=Y.useRef(e);r.current=e;const[n]=Y.useState(()=>new ide(r)),s=aI.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return Y.useDebugValue(s),Y.useEffect(n.onRender(t)),nde({editor:s,selector:({transactionNumber:a})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&a===0?0:a+1}),s}var xF=Y.createContext({editor:null});xF.Consumer;var lde=Y.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),cde=()=>Y.useContext(lde);qe.forwardRef((e,t)=>{const{onDragStart:r}=cde(),n=e.as||"div";return u.jsx(n,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...e.style}})});qe.createContext({markViewContentRef:()=>{}});var lS=Y.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});lS.displayName="TiptapContext";var ude=()=>Y.useContext(lS);function gF({editor:e,instance:t,children:r}){const n=e??t;if(!n)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const s=Y.useMemo(()=>({editor:n}),[n]),a=Y.useMemo(()=>({editor:n}),[n]);return u.jsx(xF.Provider,{value:a,children:u.jsx(lS.Provider,{value:s,children:r})})}gF.displayName="Tiptap";function yF({...e}){const{editor:t}=ude();return u.jsx(pF,{editor:t,...e})}yF.displayName="Tiptap.Content";Object.assign(gF,{Content:yF});var Dx=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:r,...n}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,n,r]},dde=/^\s*>\s$/,fde=Zs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return Dx("blockquote",{...tn(this.options.HTMLAttributes,e),children:Dx("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const r=">",n=[];return e.content.forEach(s=>{const o=t.renderChildren([s]).split(`
`).map(c=>c.trim()===""?r:`${r} ${c}`);n.push(o.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ad({find:dde,type:this.type})]}}),hde=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,pde=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,mde=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,xde=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,gde=Vc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return Dx("strong",{...tn(this.options.HTMLAttributes,e),children:Dx("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[sd({find:hde,type:this.type}),sd({find:mde,type:this.type})]},addPasteRules(){return[Mc({find:pde,type:this.type}),Mc({find:xde,type:this.type})]}}),yde=/(^|[^`])`([^`]+)`(?!`)$/,vde=/(^|[^`])`([^`]+)`(?!`)/g,bde=Vc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",tn(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[sd({find:yde,type:this.type})]},addPasteRules(){return[Mc({find:vde,type:this.type})]}}),ub=4,wde=/^```([a-z]+)?[\s\n]$/,Ede=/^~~~([a-z]+)?[\s\n]$/,_de=Zs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:ub,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:r}=this.options;if(!r)return null;const a=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(i=>i.startsWith(r)).map(i=>i.replace(r,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",tn(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var r;return((r=e.raw)==null?void 0:r.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var r;let n="";const s=((r=e.attrs)==null?void 0:r.language)||"";return e.content?n=[`\`\`\`${s}`,t.renderChildren(e.content),"```"].join(`
`):n=`\`\`\`${s}

\`\`\``,n},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,r=t.pos===1;return!e||t.parent.type.name!==this.name?!1:r||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:ub,{state:n}=e,{selection:s}=n,{$from:a,empty:i}=s;if(a.parent.type!==this.type)return!1;const o=" ".repeat(r);return i?e.commands.insertContent(o):e.commands.command(({tr:c})=>{const{from:f,to:h}=s,g=n.doc.textBetween(f,h,`
`,`
`).split(`
`).map(v=>o+v).join(`
`);return c.replaceWith(f,h,n.schema.text(g)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:ub,{state:n}=e,{selection:s}=n,{$from:a,empty:i}=s;return a.parent.type!==this.type?!1:i?e.commands.command(({tr:o})=>{var c;const{pos:f}=a,h=a.start(),m=a.end(),g=n.doc.textBetween(h,m,`
`,`
`).split(`
`);let v=0,y=0;const w=f-h;for(let L=0;L<g.length;L+=1){if(y+g[L].length>=w){v=L;break}y+=g[L].length+1}const N=((c=g[v].match(/^ */))==null?void 0:c[0])||"",_=Math.min(N.length,r);if(_===0)return!0;let S=h;for(let L=0;L<v;L+=1)S+=g[L].length+1;return o.delete(S,S+_),f-S<=_&&o.setSelection(yt.create(o.doc,S)),!0}):e.commands.command(({tr:o})=>{const{from:c,to:f}=s,x=n.doc.textBetween(c,f,`
`,`
`).split(`
`).map(g=>{var v;const y=((v=g.match(/^ */))==null?void 0:v[0])||"",w=Math.min(y.length,r);return g.slice(w)}).join(`
`);return o.replaceWith(c,f,n.schema.text(x)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:r}=t,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const a=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith(`

`);return!a||!i?!1:e.chain().command(({tr:o})=>(o.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:r,doc:n}=t,{$from:s,empty:a}=r;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const o=s.after();return o===void 0?!1:n.nodeAt(o)?e.commands.command(({tr:f})=>(f.setSelection(kt.near(n.resolve(o))),!0)):e.commands.exitCode()}}},addInputRules(){return[sE({find:wde,type:this.type,getAttributes:e=>({language:e[1]})}),sE({find:Ede,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new _r({key:new cn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const r=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,a=s==null?void 0:s.mode;if(!r||!a)return!1;const{tr:i,schema:o}=e.state,c=o.text(r.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:a},c)),i.selection.$from.parent.type!==this.type&&i.setSelection(yt.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),e.dispatch(i),!0}}})]}}),Sde=Zs.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),Nde=Zs.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",tn(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:s,storedMarks:a}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:o}=n.extensionManager,c=a||s.$to.parentOffset&&s.$from.marks();return t().insertContent({type:this.name}).command(({tr:f,dispatch:h})=>{if(h&&c&&i){const m=c.filter(x=>o.includes(x.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Tde=Zs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,tn(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var r;const n=(r=e.attrs)!=null&&r.level?parseInt(e.attrs.level,10):1,s="#".repeat(n);return e.content?`${s} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>sE({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),Cde=Zs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",tn(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!eue(t,t.schema.nodes[this.name]))return!1;const{selection:r}=t,{$to:n}=r,s=e();return XM(r)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:a,tr:i,dispatch:o})=>{if(o){const{$to:c}=i.selection,f=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?i.setSelection(yt.create(i.doc,c.pos+1)):c.nodeAfter.isBlock?i.setSelection(dt.create(i.doc,c.pos)):i.setSelection(yt.create(i.doc,c.pos));else{const h=a.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=h==null?void 0:h.create();m&&(i.insert(f,m),i.setSelection(yt.create(i.doc,f+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Qce({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Ade=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,kde=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Rde=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,jde=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Ode=Vc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",tn(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[sd({find:Ade,type:this.type}),sd({find:Rde,type:this.type})]},addPasteRules(){return[Mc({find:kde,type:this.type}),Mc({find:jde,type:this.type})]}});const Dde="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Ide="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",oE="numeric",lE="ascii",cE="alpha",mh="asciinumeric",Yf="alphanumeric",uE="domain",vF="emoji",Mde="scheme",Fde="slashscheme",db="whitespace";function Pde(e,t){return e in t||(t[e]=[]),t[e]}function uc(e,t,r){t[oE]&&(t[mh]=!0,t[Yf]=!0),t[lE]&&(t[mh]=!0,t[cE]=!0),t[mh]&&(t[Yf]=!0),t[cE]&&(t[Yf]=!0),t[Yf]&&(t[uE]=!0),t[vF]&&(t[uE]=!0);for(const n in t){const s=Pde(n,r);s.indexOf(e)<0&&s.push(e)}}function Lde(e,t){const r={};for(const n in t)t[n].indexOf(e)>=0&&(r[n]=!0);return r}function _s(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}_s.groups={};_s.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let n=0;n<t.jr.length;n++){const s=t.jr[n][0],a=t.jr[n][1];if(a&&s.test(e))return a}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,n){for(let s=0;s<e.length;s++)this.tt(e[s],t,r,n)},tr(e,t,r,n){n=n||_s.groups;let s;return t&&t.j?s=t:(s=new _s(t),r&&n&&uc(t,r,n)),this.jr.push([e,s]),s},ts(e,t,r,n){let s=this;const a=e.length;if(!a)return s;for(let i=0;i<a-1;i++)s=s.tt(e[i]);return s.tt(e[a-1],t,r,n)},tt(e,t,r,n){n=n||_s.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const a=t;let i,o=s.go(e);if(o?(i=new _s,Object.assign(i.j,o.j),i.jr.push.apply(i.jr,o.jr),i.jd=o.jd,i.t=o.t):i=new _s,a){if(n)if(i.t&&typeof i.t=="string"){const c=Object.assign(Lde(i.t,n),r);uc(a,c,n)}else r&&uc(a,r,n);i.t=a}return s.j[e]=i,i}};const Ct=(e,t,r,n,s)=>e.ta(t,r,n,s),Tr=(e,t,r,n,s)=>e.tr(t,r,n,s),L5=(e,t,r,n,s)=>e.ts(t,r,n,s),Xe=(e,t,r,n,s)=>e.tt(t,r,n,s),Yi="WORD",dE="UWORD",bF="ASCIINUMERICAL",wF="ALPHANUMERICAL",Kh="LOCALHOST",fE="TLD",hE="UTLD",Wm="SCHEME",Mu="SLASH_SCHEME",cS="NUM",pE="WS",uS="NL",xh="OPENBRACE",gh="CLOSEBRACE",Ix="OPENBRACKET",Mx="CLOSEBRACKET",Fx="OPENPAREN",Px="CLOSEPAREN",Lx="OPENANGLEBRACKET",Bx="CLOSEANGLEBRACKET",Ux="FULLWIDTHLEFTPAREN",zx="FULLWIDTHRIGHTPAREN",Hx="LEFTCORNERBRACKET",qx="RIGHTCORNERBRACKET",Vx="LEFTWHITECORNERBRACKET",$x="RIGHTWHITECORNERBRACKET",Wx="FULLWIDTHLESSTHAN",Gx="FULLWIDTHGREATERTHAN",Kx="AMPERSAND",Xx="APOSTROPHE",Yx="ASTERISK",Qo="AT",Jx="BACKSLASH",Zx="BACKTICK",Qx="CARET",sl="COLON",dS="COMMA",eg="DOLLAR",ui="DOT",tg="EQUALS",fS="EXCLAMATION",pa="HYPHEN",yh="PERCENT",rg="PIPE",ng="PLUS",sg="POUND",vh="QUERY",hS="QUOTE",EF="FULLWIDTHMIDDLEDOT",pS="SEMI",di="SLASH",bh="TILDE",ag="UNDERSCORE",_F="EMOJI",ig="SYM";var SF=Object.freeze({__proto__:null,ALPHANUMERICAL:wF,AMPERSAND:Kx,APOSTROPHE:Xx,ASCIINUMERICAL:bF,ASTERISK:Yx,AT:Qo,BACKSLASH:Jx,BACKTICK:Zx,CARET:Qx,CLOSEANGLEBRACKET:Bx,CLOSEBRACE:gh,CLOSEBRACKET:Mx,CLOSEPAREN:Px,COLON:sl,COMMA:dS,DOLLAR:eg,DOT:ui,EMOJI:_F,EQUALS:tg,EXCLAMATION:fS,FULLWIDTHGREATERTHAN:Gx,FULLWIDTHLEFTPAREN:Ux,FULLWIDTHLESSTHAN:Wx,FULLWIDTHMIDDLEDOT:EF,FULLWIDTHRIGHTPAREN:zx,HYPHEN:pa,LEFTCORNERBRACKET:Hx,LEFTWHITECORNERBRACKET:Vx,LOCALHOST:Kh,NL:uS,NUM:cS,OPENANGLEBRACKET:Lx,OPENBRACE:xh,OPENBRACKET:Ix,OPENPAREN:Fx,PERCENT:yh,PIPE:rg,PLUS:ng,POUND:sg,QUERY:vh,QUOTE:hS,RIGHTCORNERBRACKET:qx,RIGHTWHITECORNERBRACKET:$x,SCHEME:Wm,SEMI:pS,SLASH:di,SLASH_SCHEME:Mu,SYM:ig,TILDE:bh,TLD:fE,UNDERSCORE:ag,UTLD:hE,UWORD:dE,WORD:Yi,WS:pE});const Wi=/[a-z]/,Df=new RegExp("\\p{L}","u"),fb=new RegExp("\\p{Emoji}","u"),Gi=/\d/,hb=/\s/,B5="\r",pb=`
`,Bde="",Ude="",mb="";let xm=null,gm=null;function zde(e=[]){const t={};_s.groups=t;const r=new _s;xm==null&&(xm=U5(Dde)),gm==null&&(gm=U5(Ide)),Xe(r,"'",Xx),Xe(r,"{",xh),Xe(r,"}",gh),Xe(r,"[",Ix),Xe(r,"]",Mx),Xe(r,"(",Fx),Xe(r,")",Px),Xe(r,"<",Lx),Xe(r,">",Bx),Xe(r,"",Ux),Xe(r,"",zx),Xe(r,"",Hx),Xe(r,"",qx),Xe(r,"",Vx),Xe(r,"",$x),Xe(r,"",Wx),Xe(r,"",Gx),Xe(r,"&",Kx),Xe(r,"*",Yx),Xe(r,"@",Qo),Xe(r,"`",Zx),Xe(r,"^",Qx),Xe(r,":",sl),Xe(r,",",dS),Xe(r,"$",eg),Xe(r,".",ui),Xe(r,"=",tg),Xe(r,"!",fS),Xe(r,"-",pa),Xe(r,"%",yh),Xe(r,"|",rg),Xe(r,"+",ng),Xe(r,"#",sg),Xe(r,"?",vh),Xe(r,'"',hS),Xe(r,"/",di),Xe(r,";",pS),Xe(r,"~",bh),Xe(r,"_",ag),Xe(r,"\\",Jx),Xe(r,"",EF);const n=Tr(r,Gi,cS,{[oE]:!0});Tr(n,Gi,n);const s=Tr(n,Wi,bF,{[mh]:!0}),a=Tr(n,Df,wF,{[Yf]:!0}),i=Tr(r,Wi,Yi,{[lE]:!0});Tr(i,Gi,s),Tr(i,Wi,i),Tr(s,Gi,s),Tr(s,Wi,s);const o=Tr(r,Df,dE,{[cE]:!0});Tr(o,Wi),Tr(o,Gi,a),Tr(o,Df,o),Tr(a,Gi,a),Tr(a,Wi),Tr(a,Df,a);const c=Xe(r,pb,uS,{[db]:!0}),f=Xe(r,B5,pE,{[db]:!0}),h=Tr(r,hb,pE,{[db]:!0});Xe(r,mb,h),Xe(f,pb,c),Xe(f,mb,h),Tr(f,hb,h),Xe(h,B5),Xe(h,pb),Tr(h,hb,h),Xe(h,mb,h);const m=Tr(r,fb,_F,{[vF]:!0});Xe(m,"#"),Tr(m,fb,m),Xe(m,Bde,m);const x=Xe(m,Ude);Xe(x,"#"),Tr(x,fb,m);const g=[[Wi,i],[Gi,s]],v=[[Wi,null],[Df,o],[Gi,a]];for(let y=0;y<xm.length;y++)Xo(r,xm[y],fE,Yi,g);for(let y=0;y<gm.length;y++)Xo(r,gm[y],hE,dE,v);uc(fE,{tld:!0,ascii:!0},t),uc(hE,{utld:!0,alpha:!0},t),Xo(r,"file",Wm,Yi,g),Xo(r,"mailto",Wm,Yi,g),Xo(r,"http",Mu,Yi,g),Xo(r,"https",Mu,Yi,g),Xo(r,"ftp",Mu,Yi,g),Xo(r,"ftps",Mu,Yi,g),uc(Wm,{scheme:!0,ascii:!0},t),uc(Mu,{slashscheme:!0,ascii:!0},t),e=e.sort((y,w)=>y[0]>w[0]?1:-1);for(let y=0;y<e.length;y++){const w=e[y][0],N=e[y][1]?{[Mde]:!0}:{[Fde]:!0};w.indexOf("-")>=0?N[uE]=!0:Wi.test(w)?Gi.test(w)?N[mh]=!0:N[lE]=!0:N[oE]=!0,L5(r,w,w,N)}return L5(r,"localhost",Kh,{ascii:!0}),r.jd=new _s(ig),{start:r,tokens:Object.assign({groups:t},SF)}}function NF(e,t){const r=Hde(t.replace(/[A-Z]/g,o=>o.toLowerCase())),n=r.length,s=[];let a=0,i=0;for(;i<n;){let o=e,c=null,f=0,h=null,m=-1,x=-1;for(;i<n&&(c=o.go(r[i]));)o=c,o.accepts()?(m=0,x=0,h=o):m>=0&&(m+=r[i].length,x++),f+=r[i].length,a+=r[i].length,i++;a-=m,i-=x,f-=m,s.push({t:h.t,v:t.slice(a-f,a),s:a-f,e:a})}return s}function Hde(e){const t=[],r=e.length;let n=0;for(;n<r;){let s=e.charCodeAt(n),a,i=s<55296||s>56319||n+1===r||(a=e.charCodeAt(n+1))<56320||a>57343?e[n]:e.slice(n,n+2);t.push(i),n+=i.length}return t}function Xo(e,t,r,n,s){let a;const i=t.length;for(let o=0;o<i-1;o++){const c=t[o];e.j[c]?a=e.j[c]:(a=new _s(n),a.jr=s.slice(),e.j[c]=a),e=a}return a=new _s(r),a.jr=s.slice(),e.j[t[i-1]]=a,a}function U5(e){const t=[],r=[];let n=0,s="0123456789";for(;n<e.length;){let a=0;for(;s.indexOf(e[n+a])>=0;)a++;if(a>0){t.push(r.join(""));for(let i=parseInt(e.substring(n,n+a),10);i>0;i--)r.pop();n+=a}else r.push(e[n]),n++}return t}const Xh={defaultProtocol:"http",events:null,format:z5,formatHref:z5,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function mS(e,t=null){let r=Object.assign({},Xh);e&&(r=Object.assign(r,e instanceof mS?e.o:e));const n=r.ignoreTags,s=[];for(let a=0;a<n.length;a++)s.push(n[a].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=s}mS.prototype={o:Xh,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const n=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:Xh[e],typeof s=="function"&&n&&(s=s(t,r))):typeof s=="function"&&n&&(s=s(t,r.t,r)),s)},getObj(e,t,r){let n=this.o[e];return typeof n=="function"&&t!=null&&(n=n(t,r.t,r)),n},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function z5(e){return e}function TF(e,t){this.t="token",this.v=e,this.tk=t}TF.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),n=e.get("format",t,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Xh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",r,this),s=e.get("tagName",r,t),a=this.toFormattedString(e),i={},o=e.get("className",r,t),c=e.get("target",r,t),f=e.get("rel",r,t),h=e.getObj("attributes",r,t),m=e.getObj("events",r,t);return i.href=n,o&&(i.class=o),c&&(i.target=c),f&&(i.rel=f),h&&Object.assign(i,h),{tagName:s,attributes:i,content:a,eventListeners:m}}};function Jg(e,t){class r extends TF{constructor(s,a){super(s,a),this.t=e}}for(const n in t)r.prototype[n]=t[n];return r.t=e,r}const H5=Jg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),q5=Jg("text"),qde=Jg("nl"),ym=Jg("url",{isLink:!0,toHref(e=Xh.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Kh&&e[1].t===sl}}),da=e=>new _s(e);function Vde({groups:e}){const t=e.domain.concat([Kx,Yx,Qo,Jx,Zx,Qx,eg,tg,pa,cS,yh,rg,ng,sg,di,ig,bh,ag]),r=[Xx,sl,dS,ui,fS,yh,vh,hS,pS,Lx,Bx,xh,gh,Mx,Ix,Fx,Px,Ux,zx,Hx,qx,Vx,$x,Wx,Gx],n=[Kx,Xx,Yx,Jx,Zx,Qx,eg,tg,pa,xh,gh,yh,rg,ng,sg,vh,di,ig,bh,ag],s=da(),a=Xe(s,bh);Ct(a,n,a),Ct(a,e.domain,a);const i=da(),o=da(),c=da();Ct(s,e.domain,i),Ct(s,e.scheme,o),Ct(s,e.slashscheme,c),Ct(i,n,a),Ct(i,e.domain,i);const f=Xe(i,Qo);Xe(a,Qo,f),Xe(o,Qo,f),Xe(c,Qo,f);const h=Xe(a,ui);Ct(h,n,a),Ct(h,e.domain,a);const m=da();Ct(f,e.domain,m),Ct(m,e.domain,m);const x=Xe(m,ui);Ct(x,e.domain,m);const g=da(H5);Ct(x,e.tld,g),Ct(x,e.utld,g),Xe(f,Kh,g);const v=Xe(m,pa);Xe(v,pa,v),Ct(v,e.domain,m),Ct(g,e.domain,m),Xe(g,ui,x),Xe(g,pa,v);const y=Xe(g,sl);Ct(y,e.numeric,H5);const w=Xe(i,pa),E=Xe(i,ui);Xe(w,pa,w),Ct(w,e.domain,i),Ct(E,n,a),Ct(E,e.domain,i);const N=da(ym);Ct(E,e.tld,N),Ct(E,e.utld,N),Ct(N,e.domain,i),Ct(N,n,a),Xe(N,ui,E),Xe(N,pa,w),Xe(N,Qo,f);const _=Xe(N,sl),S=da(ym);Ct(_,e.numeric,S);const k=da(ym),L=da();Ct(k,t,k),Ct(k,r,L),Ct(L,t,k),Ct(L,r,L),Xe(N,di,k),Xe(S,di,k);const R=Xe(o,sl),H=Xe(c,sl),O=Xe(H,di),Z=Xe(O,di);Ct(o,e.domain,i),Xe(o,ui,E),Xe(o,pa,w),Ct(c,e.domain,i),Xe(c,ui,E),Xe(c,pa,w),Ct(R,e.domain,k),Xe(R,di,k),Xe(R,vh,k),Ct(Z,e.domain,k),Ct(Z,t,k),Xe(Z,di,k);const ae=[[xh,gh],[Ix,Mx],[Fx,Px],[Lx,Bx],[Ux,zx],[Hx,qx],[Vx,$x],[Wx,Gx]];for(let P=0;P<ae.length;P++){const[X,M]=ae[P],ie=Xe(k,X);Xe(L,X,ie),Xe(ie,M,k);const J=da(ym);Ct(ie,t,J);const ee=da();Ct(ie,r),Ct(J,t,J),Ct(J,r,ee),Ct(ee,t,J),Ct(ee,r,ee),Xe(J,M,k),Xe(ee,M,k)}return Xe(s,Kh,N),Xe(s,uS,qde),{start:s,tokens:SF}}function $de(e,t,r){let n=r.length,s=0,a=[],i=[];for(;s<n;){let o=e,c=null,f=null,h=0,m=null,x=-1;for(;s<n&&!(c=o.go(r[s].t));)i.push(r[s++]);for(;s<n&&(f=c||o.go(r[s].t));)c=null,o=f,o.accepts()?(x=0,m=o):x>=0&&x++,s++,h++;if(x<0)s-=h,s<n&&(i.push(r[s]),s++);else{i.length>0&&(a.push(xb(q5,t,i)),i=[]),s-=x,h-=x;const g=m.t,v=r.slice(s-h,s);a.push(xb(g,t,v))}}return i.length>0&&a.push(xb(q5,t,i)),a}function xb(e,t,r){const n=r[0].s,s=r[r.length-1].e,a=t.slice(n,s);return new e(a,r)}const Wde=typeof console<"u"&&console&&console.warn||(()=>{}),Gde="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",xr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Kde(){return _s.groups={},xr.scanner=null,xr.parser=null,xr.tokenQueue=[],xr.pluginQueue=[],xr.customSchemes=[],xr.initialized=!1,xr}function V5(e,t=!1){if(xr.initialized&&Wde(`linkifyjs: already initialized - will not register custom scheme "${e}" ${Gde}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);xr.customSchemes.push([e,t])}function Xde(){xr.scanner=zde(xr.customSchemes);for(let e=0;e<xr.tokenQueue.length;e++)xr.tokenQueue[e][1]({scanner:xr.scanner});xr.parser=Vde(xr.scanner.tokens);for(let e=0;e<xr.pluginQueue.length;e++)xr.pluginQueue[e][1]({scanner:xr.scanner,parser:xr.parser});return xr.initialized=!0,xr}function xS(e){return xr.initialized||Xde(),$de(xr.parser.start,e,NF(xr.scanner.start,e))}xS.scan=NF;function CF(e,t=null,r=null){if(t&&typeof t=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);r=t,t=null}const n=new mS(r),s=xS(e),a=[];for(let i=0;i<s.length;i++){const o=s[i];o.isLink&&(!t||o.t===t)&&n.check(o)&&a.push(o.toFormattedObject(n))}return a}var gS="[\0- -\u2029]",Yde=new RegExp(gS),Jde=new RegExp(`${gS}$`),Zde=new RegExp(gS,"g");function Qde(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function efe(e){return new _r({key:new cn("autolink"),appendTransaction:(t,r,n)=>{const s=t.some(f=>f.docChanged)&&!r.doc.eq(n.doc),a=t.some(f=>f.getMeta("preventAutolink"));if(!s||a)return;const{tr:i}=n,o=zM(r.doc,[...t]);if(KM(o).forEach(({newRange:f})=>{const h=ece(n.doc,f,g=>g.isTextblock);let m,x;if(h.length>1)m=h[0],x=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(h.length){const g=n.doc.textBetween(f.from,f.to," "," ");if(!Jde.test(g))return;m=h[0],x=n.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&x){const g=x.split(Yde).filter(Boolean);if(g.length<=0)return!1;const v=g[g.length-1],y=m.pos+x.lastIndexOf(v);if(!v)return!1;const w=xS(v).map(E=>E.toObject(e.defaultProtocol));if(!Qde(w))return!1;w.filter(E=>E.isLink).map(E=>({...E,from:y+E.start+1,to:y+E.end+1})).filter(E=>n.schema.marks.code?!n.doc.rangeHasMark(E.from,E.to,n.schema.marks.code):!0).filter(E=>e.validate(E.value)).filter(E=>e.shouldAutoLink(E.value)).forEach(E=>{nS(E.from,E.to,n.doc).some(N=>N.mark.type===e.type)||i.addMark(E.from,E.to,e.type.create({href:E.href}))})}}),!!i.steps.length)return i}})}function tfe(e){return new _r({key:new cn("handleClickLink"),props:{handleClick:(t,r,n)=>{var s,a;if(n.button!==0||!t.editable)return!1;let i=null;if(n.target instanceof HTMLAnchorElement)i=n.target;else{const c=n.target;if(!c)return!1;const f=e.editor.view.dom;i=c.closest("a"),i&&!f.contains(i)&&(i=null)}if(!i)return!1;let o=!1;if(e.enableClickSelection&&(o=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){const c=GM(t.state,e.type.name),f=(s=i.href)!=null?s:c.href,h=(a=i.target)!=null?a:c.target;f&&(window.open(f,h),o=!0)}return o}}})}function rfe(e){return new _r({key:new cn("handlePasteLink"),props:{handlePaste:(t,r,n)=>{const{shouldAutoLink:s}=e,{state:a}=t,{selection:i}=a,{empty:o}=i;if(o)return!1;let c="";n.content.forEach(h=>{c+=h.textContent});const f=CF(c,{defaultProtocol:e.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!f||s!==void 0&&!s(f.value)?!1:e.editor.commands.setMark(e.type,{href:f.href})}}})}function Zl(e,t){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&r.push(s)}),!e||e.replace(Zde,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var AF=Vc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){V5(e);return}V5(e.scheme,e.optionalSlashes)})},onDestroy(){Kde()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Zl(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),r=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||r&&!e.includes("@"))return!0;const s=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:r=>!!Zl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Zl(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",tn(this.options.HTMLAttributes,e),0]:["a",tn(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var r,n,s,a;const i=(n=(r=e.attrs)==null?void 0:r.href)!=null?n:"",o=(a=(s=e.attrs)==null?void 0:s.title)!=null?a:"",c=t.renderChildren(e);return o?`[${c}](${i} "${o}")`:`[${c}](${i})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Zl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:r}=e||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Zl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Mc({find:e=>{const t=[];if(e){const{protocols:r,defaultProtocol:n}=this.options,s=CF(e).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:i=>!!Zl(i,r),protocols:r,defaultProtocol:n}));s.length&&s.forEach(a=>{this.options.shouldAutoLink(a.value)&&t.push({text:a.value,data:{href:a.href},index:a.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:r}=this.options;return this.options.autolink&&e.push(efe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!Zl(s,t),protocols:t,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),e.push(tfe({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(rfe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),nfe=AF,sfe=Object.defineProperty,afe=(e,t)=>{for(var r in t)sfe(e,r,{get:t[r],enumerable:!0})},ife="listItem",$5="textStyle",W5=/^\s*([-+*])\s$/,kF=Zs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",tn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ife,this.editor.getAttributes($5)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=ad({find:W5,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ad({find:W5,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes($5),editor:this.editor})),[e]}}),RF=Zs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",tn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let r=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(s=>s.type==="paragraph"))r=t.parseChildren(e.tokens);else{const s=e.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(r=[{type:"paragraph",content:t.parseInline(s.tokens)}],e.tokens.length>1){const i=e.tokens.slice(1),o=t.parseChildren(i);r.push(...o)}}else r=t.parseChildren(e.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(e,t,r)=>oS(e,t,n=>{var s,a;return n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${(((a=(s=n.meta)==null?void 0:s.parentAttrs)==null?void 0:a.start)||1)+n.index}. `:"- "},r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ofe={};afe(ofe,{findListItemPos:()=>S0,getNextListDepth:()=>yS,handleBackspace:()=>mE,handleDelete:()=>xE,hasListBefore:()=>jF,hasListItemAfter:()=>lfe,hasListItemBefore:()=>OF,listItemHasSubList:()=>DF,nextListIsDeeper:()=>IF,nextListIsHigher:()=>MF});var S0=(e,t)=>{const{$from:r}=t.selection,n=en(e,t.schema);let s=null,a=r.depth,i=r.pos,o=null;for(;a>0&&o===null;)s=r.node(a),s.type===n?o=a:(a-=1,i-=1);return o===null?null:{$pos:t.doc.resolve(i),depth:o}},yS=(e,t)=>{const r=S0(e,t);if(!r)return!1;const[,n]=uce(t,e,r.$pos.pos+4);return n},jF=(e,t,r)=>{const{$anchor:n}=e.selection,s=Math.max(0,n.pos-2),a=e.doc.resolve(s).node();return!(!a||!r.includes(a.type.name))},OF=(e,t)=>{var r;const{$anchor:n}=t.selection,s=t.doc.resolve(n.pos-2);return!(s.index()===0||((r=s.nodeBefore)==null?void 0:r.type.name)!==e)},DF=(e,t,r)=>{if(!r)return!1;const n=en(e,t.schema);let s=!1;return r.descendants(a=>{a.type===n&&(s=!0)}),s},mE=(e,t,r)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Cl(e.state,t)&&jF(e.state,t,r)){const{$anchor:o}=e.state.selection,c=e.state.doc.resolve(o.before()-1),f=[];c.node().descendants((x,g)=>{x.type.name===t&&f.push({node:x,pos:g})});const h=f.at(-1);if(!h)return!1;const m=e.state.doc.resolve(c.start()+h.pos+1);return e.chain().cut({from:o.start()-1,to:o.end()+1},m.end()).joinForward().run()}if(!Cl(e.state,t)||!pce(e.state))return!1;const n=S0(t,e.state);if(!n)return!1;const a=e.state.doc.resolve(n.$pos.pos-2).node(n.depth),i=DF(t,e.state,a);return OF(t,e.state)&&!i?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},IF=(e,t)=>{const r=yS(e,t),n=S0(e,t);return!n||!r?!1:r>n.depth},MF=(e,t)=>{const r=yS(e,t),n=S0(e,t);return!n||!r?!1:r<n.depth},xE=(e,t)=>{if(!Cl(e.state,t)||!hce(e.state,t))return!1;const{selection:r}=e.state,{$from:n,$to:s}=r;return!r.empty&&n.sameParent(s)?!1:IF(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():MF(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},lfe=(e,t)=>{var r;const{$anchor:n}=t.selection,s=t.doc.resolve(n.pos-n.parentOffset-2);return!(s.index()===s.parent.childCount-1||((r=s.nodeAfter)==null?void 0:r.type.name)!==e)},FF=Br.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&xE(e,r)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&xE(e,r)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&mE(e,r,n)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&mE(e,r,n)&&(t=!0)}),t}}}}),G5=/^(\s*)(\d+)\.\s+(.*)$/,cfe=/^\s/;function ufe(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r],a=s.match(G5);if(!a)break;const[,i,o,c]=a,f=i.length;let h=c,m=r+1;const x=[s];for(;m<e.length;){const g=e[m];if(g.match(G5))break;if(g.trim()==="")x.push(g),h+=`
`,m+=1;else if(g.match(cfe))x.push(g),h+=`
${g.slice(f+2)}`,m+=1;else break}t.push({indent:f,number:parseInt(o,10),content:h.trim(),raw:x.join(`
`)}),n=m,r=m}return[t,n]}function PF(e,t,r){var n;const s=[];let a=0;for(;a<e.length;){const i=e[a];if(i.indent===t){const o=i.content.split(`
`),c=((n=o[0])==null?void 0:n.trim())||"",f=[];c&&f.push({type:"paragraph",raw:c,tokens:r.inlineTokens(c)});const h=o.slice(1).join(`
`).trim();if(h){const g=r.blockTokens(h);f.push(...g)}let m=a+1;const x=[];for(;m<e.length&&e[m].indent>t;)x.push(e[m]),m+=1;if(x.length>0){const g=Math.min(...x.map(y=>y.indent)),v=PF(x,g,r);f.push({type:"list",ordered:!0,start:x[0].number,items:v,raw:x.map(y=>y.raw).join(`
`)})}s.push({type:"list_item",raw:i.raw,tokens:f}),a=m}else a+=1}return s}function dfe(e,t){return e.map(r=>{if(r.type!=="list_item")return t.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")n.push(...t.parseChildren([s]));else if(s.type==="text"&&s.tokens){const a=t.parseChildren([s]);n.push({type:"paragraph",content:a})}else{const a=t.parseChildren([s]);a.length>0&&n.push(...a)}}),{type:"listItem",content:n}})}var ffe="listItem",K5="textStyle",X5=/^(\d+)\.\s$/,LF=Zs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...r}=e;return t===1?["ol",tn(this.options.HTMLAttributes,r),0]:["ol",tn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const r=e.start||1,n=e.items?dfe(e.items,t):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),r=t==null?void 0:t.index;return r!==void 0?r:-1},tokenize:(e,t,r)=>{var n;const s=e.split(`
`),[a,i]=ufe(s);if(a.length===0)return;const o=PF(a,0,r);return o.length===0?void 0:{type:"list",ordered:!0,start:((n=a[0])==null?void 0:n.number)||1,items:o,raw:s.slice(0,i).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ffe,this.editor.getAttributes(K5)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=ad({find:X5,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ad({find:X5,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(K5)}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1],editor:this.editor})),[e]}}),hfe=/^\s*(\[([( |x])?\])\s$/,pfe=Zs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",tn(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const r=[];if(e.tokens&&e.tokens.length>0?r.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?r.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):r.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const n=t.parseChildren(e.nestedTokens);r.push(...n)}return t.createNode("taskItem",{checked:e.checked||!1},r)},renderMarkdown:(e,t)=>{var r;const s=`- [${(r=e.attrs)!=null&&r.checked?"x":" "}] `;return oS(e,t,s)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:r,editor:n})=>{const s=document.createElement("li"),a=document.createElement("label"),i=document.createElement("span"),o=document.createElement("input"),c=document.createElement("div"),f=m=>{var x,g;o.ariaLabel=((g=(x=this.options.a11y)==null?void 0:x.checkboxLabel)==null?void 0:g.call(x,m,o.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};f(e),a.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",m=>m.preventDefault()),o.addEventListener("change",m=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:x}=m.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const v=r();if(typeof v!="number")return!1;const y=g.doc.nodeAt(v);return g.setNodeMarkup(v,void 0,{...y==null?void 0:y.attrs,checked:x}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,x)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,x])=>{s.setAttribute(m,x)}),s.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,a.append(o,i),s.append(a,c),Object.entries(t).forEach(([m,x])=>{s.setAttribute(m,x)});let h=new Set(Object.keys(t));return{dom:s,contentDOM:c,update:m=>{if(m.type!==this.type)return!1;s.dataset.checked=m.attrs.checked,o.checked=m.attrs.checked,f(m);const x=n.extensionManager.attributes,g=Gh(m,x),v=new Set(Object.keys(g)),y=this.options.HTMLAttributes;return h.forEach(w=>{v.has(w)||(w in y?s.setAttribute(w,y[w]):s.removeAttribute(w))}),Object.entries(g).forEach(([w,E])=>{E==null?w in y?s.setAttribute(w,y[w]):s.removeAttribute(w):s.setAttribute(w,E)}),h=v,!0}}}},addInputRules(){return[ad({find:hfe,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),mfe=Zs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",tn(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const r=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return r!==void 0?r:-1},tokenize(e,t,r){const n=a=>{const i=aE(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,c)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:r.inlineTokens(o.mainContent),nestedTokens:c}),customNestedParser:n},r);return i?[{type:"taskList",raw:i.raw,items:i.items}]:r.blockTokens(a)},s=aE(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,i)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:r.inlineTokens(a.mainContent),nestedTokens:i}),customNestedParser:n},r);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Br.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(kF.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(RF.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(FF.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(LF.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(pfe.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(mfe.configure(this.options.taskList)),e}});var Y5="&nbsp;",xfe="",gfe=Zs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",tn(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const r=e.tokens||[];if(r.length===1&&r[0].type==="image")return t.parseChildren([r[0]]);const n=t.parseInline(r);return n.length===1&&n[0].type==="text"&&(n[0].text===Y5||n[0].text===xfe)?t.createNode("paragraph",void 0,[]):t.createNode("paragraph",void 0,n)},renderMarkdown:(e,t)=>{if(!e)return"";const r=Array.isArray(e.content)?e.content:[];return r.length===0?Y5:t.renderChildren(r)},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),yfe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,vfe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,bfe=Vc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",tn(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[sd({find:yfe,type:this.type})]},addPasteRules(){return[Mc({find:vfe,type:this.type})]}}),wfe=Zs.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),BF=Vc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",tn(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,r){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!s)return;const a=s[2].trim();return{type:"underline",raw:s[0],text:a,tokens:r.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Efe=BF;function _fe(e={}){return new _r({view(t){return new Sfe(t,e)}})}class Sfe{constructor(t,r){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=i=>{this[s](i)};return t.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:t,handler:r})=>this.editorView.dom.removeEventListener(t,r))}update(t,r){this.cursorPos!=null&&r.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),r=!t.parent.inlineContent,n,s=this.editorView.dom,a=s.getBoundingClientRect(),i=a.width/s.offsetWidth,o=a.height/s.offsetHeight;if(r){let m=t.nodeBefore,x=t.nodeAfter;if(m||x){let g=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(g){let v=g.getBoundingClientRect(),y=m?v.bottom:v.top;m&&x&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*o;n={left:v.left,right:v.right,top:y-w,bottom:y+w}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*i;n={left:m.left-x,right:m.left+x,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let f,h;if(!c||c==document.body&&getComputedStyle(c).position=="static")f=-pageXOffset,h=-pageYOffset;else{let m=c.getBoundingClientRect(),x=m.width/c.offsetWidth,g=m.height/c.offsetHeight;f=m.left-c.scrollLeft*x,h=m.top-c.scrollTop*g}this.element.style.left=(n.left-f)/i+"px",this.element.style.top=(n.top-h)/o+"px",this.element.style.width=(n.right-n.left)/i+"px",this.element.style.height=(n.bottom-n.top)/o+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,r,t):s;if(r&&!a){let i=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=OI(this.editorView.state.doc,i,this.editorView.dragging.slice);o!=null&&(i=o)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class Rr extends kt{constructor(t){super(t,t)}map(t,r){let n=t.resolve(r.map(this.head));return Rr.valid(n)?new Rr(n):kt.near(n)}content(){return rt.empty}eq(t){return t instanceof Rr&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Rr(t.resolve(r.pos))}getBookmark(){return new vS(this.anchor)}static valid(t){let r=t.parent;if(r.isTextblock||!Nfe(t)||!Tfe(t))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,r,n=!1){e:for(;;){if(!n&&Rr.valid(t))return t;let s=t.pos,a=null;for(let i=t.depth;;i--){let o=t.node(i);if(r>0?t.indexAfter(i)<o.childCount:t.index(i)>0){a=o.child(r>0?t.indexAfter(i):t.index(i)-1);break}else if(i==0)return null;s+=r;let c=t.doc.resolve(s);if(Rr.valid(c))return c}for(;;){let i=r>0?a.firstChild:a.lastChild;if(!i){if(a.isAtom&&!a.isText&&!dt.isSelectable(a)){t=t.doc.resolve(s+a.nodeSize*r),n=!1;continue e}break}a=i,s+=r;let o=t.doc.resolve(s);if(Rr.valid(o))return o}return null}}}Rr.prototype.visible=!1;Rr.findFrom=Rr.findGapCursorFrom;kt.jsonID("gapcursor",Rr);class vS{constructor(t){this.pos=t}map(t){return new vS(t.map(this.pos))}resolve(t){let r=t.resolve(this.pos);return Rr.valid(r)?new Rr(r):kt.near(r)}}function UF(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function Nfe(e){for(let t=e.depth;t>=0;t--){let r=e.index(t),n=e.node(t);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||UF(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Tfe(e){for(let t=e.depth;t>=0;t--){let r=e.indexAfter(t),n=e.node(t);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||UF(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Cfe(){return new _r({props:{decorations:jfe,createSelectionBetween(e,t,r){return t.pos==r.pos&&Rr.valid(r)?new Rr(r):null},handleClick:kfe,handleKeyDown:Afe,handleDOMEvents:{beforeinput:Rfe}}})}const Afe=DM({ArrowLeft:vm("horiz",-1),ArrowRight:vm("horiz",1),ArrowUp:vm("vert",-1),ArrowDown:vm("vert",1)});function vm(e,t){const r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,s,a){let i=n.selection,o=t>0?i.$to:i.$from,c=i.empty;if(i instanceof yt){if(!a.endOfTextblock(r)||o.depth==0)return!1;c=!1,o=n.doc.resolve(t>0?o.after():o.before())}let f=Rr.findGapCursorFrom(o,t,c);return f?(s&&s(n.tr.setSelection(new Rr(f))),!0):!1}}function kfe(e,t,r){if(!e||!e.editable)return!1;let n=e.state.doc.resolve(t);if(!Rr.valid(n))return!1;let s=e.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&dt.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Rr(n))),!0)}function Rfe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Rr))return!1;let{$from:r}=e.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!n)return!1;let s=$e.empty;for(let i=n.length-1;i>=0;i--)s=$e.from(n[i].createAndFill(null,s));let a=e.state.tr.replace(r.pos,r.pos,new rt(s,0,0));return a.setSelection(yt.near(a.doc.resolve(r.pos+1))),e.dispatch(a),!1}function jfe(e){if(!(e.selection instanceof Rr))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Er.create(e.doc,[as.widget(e.selection.head,t,{key:"gapcursor"})])}var og=200,En=function(){};En.prototype.append=function(t){return t.length?(t=En.from(t),!this.length&&t||t.length<og&&this.leafAppend(t)||this.length<og&&t.leafPrepend(this)||this.appendInner(t)):this};En.prototype.prepend=function(t){return t.length?En.from(t).append(this):this};En.prototype.appendInner=function(t){return new Ofe(this,t)};En.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.length),t>=r?En.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))};En.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};En.prototype.forEach=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(t,r,n,0):this.forEachInvertedInner(t,r,n,0)};En.prototype.map=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(a,i){return s.push(t(a,i))},r,n),s};En.from=function(t){return t instanceof En?t:t&&t.length?new zF(t):En.empty};var zF=(function(e){function t(n){e.call(this),this.values=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new t(this.values.slice(s,a))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,a,i,o){for(var c=a;c<i;c++)if(s(this.values[c],o+c)===!1)return!1},t.prototype.forEachInvertedInner=function(s,a,i,o){for(var c=a-1;c>=i;c--)if(s(this.values[c],o+c)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=og)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=og)return new t(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t})(En);En.empty=new zF([]);var Ofe=(function(e){function t(r,n){e.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,s,a,i){var o=this.left.length;if(s<o&&this.left.forEachInner(n,s,Math.min(a,o),i)===!1||a>o&&this.right.forEachInner(n,Math.max(s-o,0),Math.min(this.length,a)-o,i+o)===!1)return!1},t.prototype.forEachInvertedInner=function(n,s,a,i){var o=this.left.length;if(s>o&&this.right.forEachInvertedInner(n,s-o,Math.max(a,o)-o,i+o)===!1||a<o&&this.left.forEachInvertedInner(n,Math.min(s,o),a,i)===!1)return!1},t.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(n,s):n>=a?this.right.slice(n-a,s-a):this.left.slice(n,a).append(this.right.slice(0,s-a))},t.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new t(s,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t})(En);const Dfe=500;class Ba{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,a;r&&(s=this.remapping(n,this.items.length),a=s.maps.length);let i=t.tr,o,c,f=[],h=[];return this.items.forEach((m,x)=>{if(!m.step){s||(s=this.remapping(n,x+1),a=s.maps.length),a--,h.push(m);return}if(s){h.push(new Yo(m.map));let g=m.step.map(s.slice(a)),v;g&&i.maybeStep(g).doc&&(v=i.mapping.maps[i.mapping.maps.length-1],f.push(new Yo(v,void 0,void 0,f.length+h.length))),a--,v&&s.appendMap(v,a)}else i.maybeStep(m.step);if(m.selection)return o=s?m.selection.map(s.slice(a)):m.selection,c=new Ba(this.items.slice(0,n).append(h.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:i,selection:o}}addTransform(t,r,n,s){let a=[],i=this.eventCount,o=this.items,c=!s&&o.length?o.get(o.length-1):null;for(let h=0;h<t.steps.length;h++){let m=t.steps[h].invert(t.docs[h]),x=new Yo(t.mapping.maps[h],m,r),g;(g=c&&c.merge(x))&&(x=g,h?a.pop():o=o.slice(0,o.length-1)),a.push(x),r&&(i++,r=void 0),s||(c=x)}let f=i-n.depth;return f>Mfe&&(o=Ife(o,f),i-=f),new Ba(o.append(a),i)}remapping(t,r){let n=new zh;return this.items.forEach((s,a)=>{let i=s.mirrorOffset!=null&&a-s.mirrorOffset>=t?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,i)},t,r),n}addMaps(t){return this.eventCount==0?this:new Ba(this.items.append(t.map(r=>new Yo(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),a=t.mapping,i=t.steps.length,o=this.eventCount;this.items.forEach(x=>{x.selection&&o--},s);let c=r;this.items.forEach(x=>{let g=a.getMirror(--c);if(g==null)return;i=Math.min(i,g);let v=a.maps[g];if(x.step){let y=t.steps[g].invert(t.docs[g]),w=x.selection&&x.selection.map(a.slice(c+1,g));w&&o++,n.push(new Yo(v,y,w))}else n.push(new Yo(v))},s);let f=[];for(let x=r;x<i;x++)f.push(new Yo(a.maps[x]));let h=this.items.slice(0,s).append(f).append(n),m=new Ba(h,o);return m.emptyItemCount()>Dfe&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),n=r.maps.length,s=[],a=0;return this.items.forEach((i,o)=>{if(o>=t)s.push(i),i.selection&&a++;else if(i.step){let c=i.step.map(r.slice(n)),f=c&&c.getMap();if(n--,f&&r.appendMap(f,n),c){let h=i.selection&&i.selection.map(r.slice(n));h&&a++;let m=new Yo(f.invert(),c,h),x,g=s.length-1;(x=s.length&&s[g].merge(m))?s[g]=x:s.push(m)}}else i.map&&n--},this.items.length,0),new Ba(En.from(s.reverse()),a)}}Ba.empty=new Ba(En.empty,0);function Ife(e,t){let r;return e.forEach((n,s)=>{if(n.selection&&t--==0)return r=s,!1}),e.slice(r)}let Yo=class HF{constructor(t,r,n,s){this.map=t,this.step=r,this.selection=n,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new HF(r.getMap().invert(),r,this.selection)}}};class el{constructor(t,r,n,s,a){this.done=t,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=a}}const Mfe=20;function Ffe(e,t,r,n){let s=r.getMeta(wc),a;if(s)return s.historyState;r.getMeta(Bfe)&&(e=new el(e.done,e.undone,null,0,-1));let i=r.getMeta("appendedTransaction");if(r.steps.length==0)return e;if(i&&i.getMeta(wc))return i.getMeta(wc).redo?new el(e.done.addTransform(r,void 0,n,Gm(t)),e.undone,J5(r.mapping.maps),e.prevTime,e.prevComposition):new el(e.done,e.undone.addTransform(r,void 0,n,Gm(t)),null,e.prevTime,e.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let o=r.getMeta("composition"),c=e.prevTime==0||!i&&e.prevComposition!=o&&(e.prevTime<(r.time||0)-n.newGroupDelay||!Pfe(r,e.prevRanges)),f=i?gb(e.prevRanges,r.mapping):J5(r.mapping.maps);return new el(e.done.addTransform(r,c?t.selection.getBookmark():void 0,n,Gm(t)),Ba.empty,f,r.time,o??e.prevComposition)}else return(a=r.getMeta("rebased"))?new el(e.done.rebased(r,a),e.undone.rebased(r,a),gb(e.prevRanges,r.mapping),e.prevTime,e.prevComposition):new el(e.done.addMaps(r.mapping.maps),e.undone.addMaps(r.mapping.maps),gb(e.prevRanges,r.mapping),e.prevTime,e.prevComposition)}function Pfe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let r=!1;return e.mapping.maps[0].forEach((n,s)=>{for(let a=0;a<t.length;a+=2)n<=t[a+1]&&s>=t[a]&&(r=!0)}),r}function J5(e){let t=[];for(let r=e.length-1;r>=0&&t.length==0;r--)e[r].forEach((n,s,a,i)=>t.push(a,i));return t}function gb(e,t){if(!e)return null;let r=[];for(let n=0;n<e.length;n+=2){let s=t.map(e[n],1),a=t.map(e[n+1],-1);s<=a&&r.push(s,a)}return r}function Lfe(e,t,r){let n=Gm(t),s=wc.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,n);if(!a)return null;let i=a.selection.resolve(a.transform.doc),o=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),s,n),c=new el(r?o:a.remaining,r?a.remaining:o,null,0,-1);return a.transform.setSelection(i).setMeta(wc,{redo:r,historyState:c})}let yb=!1,Z5=null;function Gm(e){let t=e.plugins;if(Z5!=t){yb=!1,Z5=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){yb=!0;break}}return yb}const wc=new cn("history"),Bfe=new cn("closeHistory");function Ufe(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new _r({key:wc,state:{init(){return new el(Ba.empty,Ba.empty,null,0,-1)},apply(t,r,n){return Ffe(r,n,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,r){let n=r.inputType,s=n=="historyUndo"?VF:n=="historyRedo"?$F:null;return!s||!t.editable?!1:(r.preventDefault(),s(t.state,t.dispatch))}}}})}function qF(e,t){return(r,n)=>{let s=wc.getState(r);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(n){let a=Lfe(s,r,e);a&&n(t?a.scrollIntoView():a)}return!0}}const VF=qF(!1,!0),$F=qF(!0,!0);Br.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const n=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(n)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,r=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let e=!1;return[new _r({key:new cn("characterCount"),appendTransaction:(t,r,n)=>{if(e)return;const s=this.options.limit;if(s==null||s===0){e=!0;return}const a=this.storage.characters({node:n.doc});if(a>s){const i=a-s,o=0,c=i;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const f=n.tr.deleteRange(o,c);return e=!0,f}e=!0},filterTransaction:(t,r)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const s=this.storage.characters({node:r.doc}),a=this.storage.characters({node:t.doc});if(a<=n||s>n&&a>n&&a<=s)return!0;if(s>n&&a>n&&a>s||!t.getMeta("paste"))return!1;const o=t.selection.$head.pos,c=a-n,f=o-c,h=o;return t.deleteRange(f,h),!(this.storage.characters({node:t.doc})>n)}})]}});var zfe=Br.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[_fe(this.options)]}});Br.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new _r({key:new cn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:s}=t,a=[];if(!r||!n)return Er.create(e,[]);let i=0;this.options.mode==="deepest"&&e.descendants((c,f)=>{if(c.isText)return;if(!(s>=f&&s<=f+c.nodeSize-1))return!1;i+=1});let o=0;return e.descendants((c,f)=>{if(c.isText||!(s>=f&&s<=f+c.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&i-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";a.push(as.node(f,f+c.nodeSize,{class:this.options.className}))}),Er.create(e,a)}}})]}});var Hfe=Br.create({name:"gapCursor",addProseMirrorPlugins(){return[Cfe()]},extendNodeSchema(e){var t;const r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Xt(ct(e,"allowGapCursor",r)))!=null?t:null}}}),Q5="placeholder";function qfe(e){return e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}Br.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:Q5,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const e=this.options.dataAttribute?`data-${qfe(this.options.dataAttribute)}`:`data-${Q5}`;return[new _r({key:new cn("placeholder"),props:{decorations:({doc:t,selection:r})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=r,a=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((o,c)=>{const f=s>=c&&s<=c+o.nodeSize,h=!o.isLeaf&&Kg(o);if((f||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];i&&m.push(this.options.emptyEditorClass);const x=as.node(c,c+o.nodeSize,{class:m.join(" "),[e]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:c,hasAnchor:f}):this.options.placeholder});a.push(x)}return this.options.includeChildren}),Er.create(t,a)}}})]}});Br.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new _r({key:new cn("selection"),props:{decorations(r){return r.selection.empty||e.isFocused||!e.isEditable||XM(r.selection)||e.view.dragging?null:Er.create(r.doc,[as.inline(r.selection.from,r.selection.to,{class:t.className})])}}})]}});function eR({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var Vfe=Br.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new cn(this.name),r=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(r).includes(s.name));return[new _r({key:t,appendTransaction:(s,a,i)=>{const{doc:o,tr:c,schema:f}=i,h=t.getState(i),m=o.content.size,x=f.nodes[r];if(h)return c.insert(m,x.create())},state:{init:(s,a)=>{const i=a.tr.doc.lastChild;return!eR({node:i,types:n})},apply:(s,a)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return a;const i=s.doc.lastChild;return!eR({node:i,types:n})}}})]}}),$fe=Br.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>VF(e,t),redo:()=>({state:e,dispatch:t})=>$F(e,t)}},addProseMirrorPlugins(){return[Ufe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Wfe=Br.create({name:"starterKit",addExtensions(){var e,t,r,n;const s=[];return this.options.bold!==!1&&s.push(gde.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(fde.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(kF.configure(this.options.bulletList)),this.options.code!==!1&&s.push(bde.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(_de.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Sde.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(zfe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Hfe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(Nde.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(Tde.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push($fe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(Cde.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(Ode.configure(this.options.italic)),this.options.listItem!==!1&&s.push(RF.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(FF.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&s.push(AF.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&s.push(LF.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(gfe.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(bfe.configure(this.options.strike)),this.options.text!==!1&&s.push(wfe.configure(this.options.text)),this.options.underline!==!1&&s.push(BF.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&s.push(Vfe.configure((n=this.options)==null?void 0:n.trailingNode)),s}}),Gfe=Wfe;const Kfe=({editor:e})=>{if(!e)return null;const t=r=>`
    p-2 rounded-lg transition-all
    ${r?"bg-blue-100 text-blue-600 shadow-inner":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}
  `;return u.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 bg-white border-b border-slate-200 sticky top-0 z-10 transition-shadow duration-300",children:[u.jsx("button",{onClick:()=>e.chain().focus().toggleBold().run(),className:t(e.isActive("bold")),title:"Bold",children:u.jsx(gW,{size:18})}),u.jsx("button",{onClick:()=>e.chain().focus().toggleItalic().run(),className:t(e.isActive("italic")),title:"Italic",children:u.jsx(oG,{size:18})}),u.jsx("button",{onClick:()=>e.chain().focus().toggleUnderline().run(),className:t(e.isActive("underline")),title:"Underline",children:u.jsx(aK,{size:18})}),u.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),u.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:t(e.isActive("heading",{level:1})),title:"Heading 1",children:u.jsx(YW,{size:18})}),u.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:t(e.isActive("heading",{level:2})),title:"Heading 2",children:u.jsx(ZW,{size:18})}),u.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),u.jsx("button",{onClick:()=>e.chain().focus().toggleBulletList().run(),className:t(e.isActive("bulletList")),title:"Bullet List",children:u.jsx(hG,{size:18})}),u.jsx("button",{onClick:()=>e.chain().focus().toggleOrderedList().run(),className:t(e.isActive("orderedList")),title:"Ordered List",children:u.jsx(dG,{size:18})}),u.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),u.jsx("button",{onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().undo(),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 disabled:opacity-30",title:"Undo",children:u.jsx(BG,{size:18})}),u.jsx("button",{onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().redo(),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 disabled:opacity-30",title:"Redo",children:u.jsx(zG,{size:18})})]})},Xfe=({content:e,onChange:t,editable:r=!0})=>{const n=ode({extensions:[Gfe,Efe,nfe.configure({openOnClick:!1})],content:e,editable:r,onUpdate:({editor:s})=>{t(s.getJSON(),s.getHTML())},editorProps:{attributes:{class:"prose prose-slate max-w-none focus:outline-none min-h-[700px] p-16 text-slate-800 leading-normal tiptap-editor",style:"font-family: 'Times New Roman', serif; font-size: 11pt;"}}});return qe.useEffect(()=>{n&&n.setEditable(r)},[n,r]),u.jsxs("div",{className:"w-full overflow-hidden transition-shadow duration-300",children:[u.jsx("style",{children:`
                .tiptap-editor p {
                    margin-top: 0 !important;
                    margin-bottom: 1.25em !important;
                    line-height: 1.6 !important;
                }
                .tiptap-editor ul {
                    list-style-type: disc !important;
                    margin-bottom: 1.25em !important;
                    padding-left: 1.5em !important;
                }
                .tiptap-editor ol {
                    list-style-type: lower-alpha !important;
                    margin-bottom: 1.25em !important;
                    padding-left: 1.5em !important;
                }
                .tiptap-editor li p {
                    margin-bottom: 0.5em !important;
                }
                .tiptap-editor h1 { margin-bottom: 0.5em !important; }
                .tiptap-editor h2 { margin-bottom: 0.5em !important; }
                `}),r&&u.jsx(Kfe,{editor:n}),u.jsx("div",{className:"p-4 bg-white min-h-200 flex justify-center overflow-y-auto",children:u.jsx("div",{className:"bg-white border  border-slate-200 shadow-md w-full max-w-212.5 min-h-275 animate-fade-in ring-1 ring-slate-900/5",children:u.jsx(pF,{editor:n})})})]})};var Yfe=Object.defineProperty,Jfe=Object.defineProperties,Zfe=Object.getOwnPropertyDescriptors,tR=Object.getOwnPropertySymbols,Qfe=Object.prototype.hasOwnProperty,ehe=Object.prototype.propertyIsEnumerable,gE=(e,t,r)=>t in e?Yfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,At=(e,t)=>{for(var r in t||(t={}))Qfe.call(t,r)&&gE(e,r,t[r]);if(tR)for(var r of tR(t))ehe.call(t,r)&&gE(e,r,t[r]);return e},go=(e,t)=>Jfe(e,Zfe(t)),Fe=(e,t,r)=>gE(e,typeof t!="symbol"?t+"":t,r),the=(e,t,r)=>new Promise((n,s)=>{var a=c=>{try{o(r.next(c))}catch(f){s(f)}},i=c=>{try{o(r.throw(c))}catch(f){s(f)}},o=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,i);o((r=r.apply(e,t)).next())});class lg{constructor(t){Fe(this,"rootKey"),this.rootKey=t}}const rhe=Object.seal({});class Le extends lg{constructor(t){super(t),Fe(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const n=this.root.map(s=>s instanceof lg?s.prepForXml(t):s).filter(s=>s!==void 0);return t.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:rhe}}addChildElement(t){return this.root.push(t),this}}class Zg extends Le{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class it extends lg{constructor(t){super("_attr"),Fe(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([n,s])=>{if(s!==void 0){const a=this.xmlKeys&&this.xmlKeys[n]||n;r[a]=s}}),{_attr:r}}}class N0 extends lg{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:s,value:a})=>go(At({},n),{[s]:a}),{})}}}class Ur extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vb={},bm={exports:{}},rR;function wS(){if(rR)return bm.exports;rR=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(k,L,R){return Function.prototype.apply.call(k,L,R)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:r=function(k){return Object.getOwnPropertyNames(k)};function n(S){console&&console.warn&&console.warn(S)}var s=Number.isNaN||function(k){return k!==k};function a(){a.init.call(this)}bm.exports=a,bm.exports.once=E,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");i=S}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||s(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this};function c(S){return S._maxListeners===void 0?a.defaultMaxListeners:S._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(k){for(var L=[],R=1;R<arguments.length;R++)L.push(arguments[R]);var H=k==="error",O=this._events;if(O!==void 0)H=H&&O.error===void 0;else if(!H)return!1;if(H){var Z;if(L.length>0&&(Z=L[0]),Z instanceof Error)throw Z;var ae=new Error("Unhandled error."+(Z?" ("+Z.message+")":""));throw ae.context=Z,ae}var P=O[k];if(P===void 0)return!1;if(typeof P=="function")t(P,this,L);else for(var X=P.length,M=v(P,X),R=0;R<X;++R)t(M[R],this,L);return!0};function f(S,k,L,R){var H,O,Z;if(o(L),O=S._events,O===void 0?(O=S._events=Object.create(null),S._eventsCount=0):(O.newListener!==void 0&&(S.emit("newListener",k,L.listener?L.listener:L),O=S._events),Z=O[k]),Z===void 0)Z=O[k]=L,++S._eventsCount;else if(typeof Z=="function"?Z=O[k]=R?[L,Z]:[Z,L]:R?Z.unshift(L):Z.push(L),H=c(S),H>0&&Z.length>H&&!Z.warned){Z.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=S,ae.type=k,ae.count=Z.length,n(ae)}return S}a.prototype.addListener=function(k,L){return f(this,k,L,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(k,L){return f(this,k,L,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(S,k,L){var R={fired:!1,wrapFn:void 0,target:S,type:k,listener:L},H=h.bind(R);return H.listener=L,R.wrapFn=H,H}a.prototype.once=function(k,L){return o(L),this.on(k,m(this,k,L)),this},a.prototype.prependOnceListener=function(k,L){return o(L),this.prependListener(k,m(this,k,L)),this},a.prototype.removeListener=function(k,L){var R,H,O,Z,ae;if(o(L),H=this._events,H===void 0)return this;if(R=H[k],R===void 0)return this;if(R===L||R.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete H[k],H.removeListener&&this.emit("removeListener",k,R.listener||L));else if(typeof R!="function"){for(O=-1,Z=R.length-1;Z>=0;Z--)if(R[Z]===L||R[Z].listener===L){ae=R[Z].listener,O=Z;break}if(O<0)return this;O===0?R.shift():y(R,O),R.length===1&&(H[k]=R[0]),H.removeListener!==void 0&&this.emit("removeListener",k,ae||L)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(k){var L,R,H;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[k]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[k]),this;if(arguments.length===0){var O=Object.keys(R),Z;for(H=0;H<O.length;++H)Z=O[H],Z!=="removeListener"&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=R[k],typeof L=="function")this.removeListener(k,L);else if(L!==void 0)for(H=L.length-1;H>=0;H--)this.removeListener(k,L[H]);return this};function x(S,k,L){var R=S._events;if(R===void 0)return[];var H=R[k];return H===void 0?[]:typeof H=="function"?L?[H.listener||H]:[H]:L?w(H):v(H,H.length)}a.prototype.listeners=function(k){return x(this,k,!0)},a.prototype.rawListeners=function(k){return x(this,k,!1)},a.listenerCount=function(S,k){return typeof S.listenerCount=="function"?S.listenerCount(k):g.call(S,k)},a.prototype.listenerCount=g;function g(S){var k=this._events;if(k!==void 0){var L=k[S];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function v(S,k){for(var L=new Array(k),R=0;R<k;++R)L[R]=S[R];return L}function y(S,k){for(;k+1<S.length;k++)S[k]=S[k+1];S.pop()}function w(S){for(var k=new Array(S.length),L=0;L<k.length;++L)k[L]=S[L].listener||S[L];return k}function E(S,k){return new Promise(function(L,R){function H(Z){S.removeListener(k,O),R(Z)}function O(){typeof S.removeListener=="function"&&S.removeListener("error",H),L([].slice.call(arguments))}_(S,k,O,{once:!0}),k!=="error"&&N(S,H,{once:!0})})}function N(S,k,L){typeof S.on=="function"&&_(S,"error",k,L)}function _(S,k,L,R){if(typeof S.on=="function")R.once?S.once(k,L):S.on(k,L);else if(typeof S.addEventListener=="function")S.addEventListener(k,function H(O){R.once&&S.removeEventListener(k,H),L(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return bm.exports}var wm={exports:{}},nR;function Dl(){return nR||(nR=1,typeof Object.create=="function"?wm.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:wm.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),wm.exports}function nhe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var WF={exports:{}},zr=WF.exports={},fi,hi;function yE(){throw new Error("setTimeout has not been defined")}function vE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?fi=setTimeout:fi=yE}catch{fi=yE}try{typeof clearTimeout=="function"?hi=clearTimeout:hi=vE}catch{hi=vE}})();function GF(e){if(fi===setTimeout)return setTimeout(e,0);if((fi===yE||!fi)&&setTimeout)return fi=setTimeout,setTimeout(e,0);try{return fi(e,0)}catch{try{return fi.call(null,e,0)}catch{return fi.call(this,e,0)}}}function she(e){if(hi===clearTimeout)return clearTimeout(e);if((hi===vE||!hi)&&clearTimeout)return hi=clearTimeout,clearTimeout(e);try{return hi(e)}catch{try{return hi.call(null,e)}catch{return hi.call(this,e)}}}var no=[],Vu=!1,dc,Km=-1;function ahe(){!Vu||!dc||(Vu=!1,dc.length?no=dc.concat(no):Km=-1,no.length&&KF())}function KF(){if(!Vu){var e=GF(ahe);Vu=!0;for(var t=no.length;t;){for(dc=no,no=[];++Km<t;)dc&&dc[Km].run();Km=-1,t=no.length}dc=null,Vu=!1,she(e)}}zr.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];no.push(new XF(e,t)),no.length===1&&!Vu&&GF(KF)};function XF(e,t){this.fun=e,this.array=t}XF.prototype.run=function(){this.fun.apply(null,this.array)};zr.title="browser";zr.browser=!0;zr.env={};zr.argv=[];zr.version="";zr.versions={};function wo(){}zr.on=wo;zr.addListener=wo;zr.once=wo;zr.off=wo;zr.removeListener=wo;zr.removeAllListeners=wo;zr.emit=wo;zr.prependListener=wo;zr.prependOnceListener=wo;zr.listeners=function(e){return[]};zr.binding=function(e){throw new Error("process.binding is not supported")};zr.cwd=function(){return"/"};zr.chdir=function(e){throw new Error("process.chdir is not supported")};zr.umask=function(){return 0};var ihe=WF.exports;const Rt=nhe(ihe);var bb,sR;function YF(){return sR||(sR=1,bb=wS().EventEmitter),bb}var wb={},If={},aR;function ohe(){if(aR)return If;aR=1,If.byteLength=o,If.toByteArray=f,If.fromByteArray=x;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=n.length;s<a;++s)e[s]=n[s],t[n.charCodeAt(s)]=s;t[45]=62,t[95]=63;function i(g){var v=g.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=g.indexOf("=");y===-1&&(y=v);var w=y===v?0:4-y%4;return[y,w]}function o(g){var v=i(g),y=v[0],w=v[1];return(y+w)*3/4-w}function c(g,v,y){return(v+y)*3/4-y}function f(g){var v,y=i(g),w=y[0],E=y[1],N=new r(c(g,w,E)),_=0,S=E>0?w-4:w,k;for(k=0;k<S;k+=4)v=t[g.charCodeAt(k)]<<18|t[g.charCodeAt(k+1)]<<12|t[g.charCodeAt(k+2)]<<6|t[g.charCodeAt(k+3)],N[_++]=v>>16&255,N[_++]=v>>8&255,N[_++]=v&255;return E===2&&(v=t[g.charCodeAt(k)]<<2|t[g.charCodeAt(k+1)]>>4,N[_++]=v&255),E===1&&(v=t[g.charCodeAt(k)]<<10|t[g.charCodeAt(k+1)]<<4|t[g.charCodeAt(k+2)]>>2,N[_++]=v>>8&255,N[_++]=v&255),N}function h(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function m(g,v,y){for(var w,E=[],N=v;N<y;N+=3)w=(g[N]<<16&16711680)+(g[N+1]<<8&65280)+(g[N+2]&255),E.push(h(w));return E.join("")}function x(g){for(var v,y=g.length,w=y%3,E=[],N=16383,_=0,S=y-w;_<S;_+=N)E.push(m(g,_,_+N>S?S:_+N));return w===1?(v=g[y-1],E.push(e[v>>2]+e[v<<4&63]+"==")):w===2&&(v=(g[y-2]<<8)+g[y-1],E.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),E.join("")}return If}var Em={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var iR;function lhe(){return iR||(iR=1,Em.read=function(e,t,r,n,s){var a,i,o=s*8-n-1,c=(1<<o)-1,f=c>>1,h=-7,m=r?s-1:0,x=r?-1:1,g=e[t+m];for(m+=x,a=g&(1<<-h)-1,g>>=-h,h+=o;h>0;a=a*256+e[t+m],m+=x,h-=8);for(i=a&(1<<-h)-1,a>>=-h,h+=n;h>0;i=i*256+e[t+m],m+=x,h-=8);if(a===0)a=1-f;else{if(a===c)return i?NaN:(g?-1:1)*(1/0);i=i+Math.pow(2,n),a=a-f}return(g?-1:1)*i*Math.pow(2,a-n)},Em.write=function(e,t,r,n,s,a){var i,o,c,f=a*8-s-1,h=(1<<f)-1,m=h>>1,x=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:a-1,v=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=h):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),i+m>=1?t+=x/c:t+=x*Math.pow(2,1-m),t*c>=2&&(i++,c/=2),i+m>=h?(o=0,i=h):i+m>=1?(o=(t*c-1)*Math.pow(2,s),i=i+m):(o=t*Math.pow(2,m-1)*Math.pow(2,s),i=0));s>=8;e[r+g]=o&255,g+=v,o/=256,s-=8);for(i=i<<s|o,f+=s;f>0;e[r+g]=i&255,g+=v,i/=256,f-=8);e[r+g-v]|=y*128}),Em}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var oR;function Qg(){return oR||(oR=1,(function(e){var t=ohe(),r=lhe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;var s=2147483647;e.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var q=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(q,C),q.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(q){if(q>s)throw new RangeError('The value "'+q+'" is invalid for option "size"');var C=new Uint8Array(q);return Object.setPrototypeOf(C,o.prototype),C}function o(q,C,j){if(typeof q=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(q)}return c(q,C,j)}o.poolSize=8192;function c(q,C,j){if(typeof q=="string")return x(q,C);if(ArrayBuffer.isView(q))return v(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(be(q,ArrayBuffer)||q&&be(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(q,SharedArrayBuffer)||q&&be(q.buffer,SharedArrayBuffer)))return y(q,C,j);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=q.valueOf&&q.valueOf();if(U!=null&&U!==q)return o.from(U,C,j);var ue=w(q);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return o.from(q[Symbol.toPrimitive]("string"),C,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}o.from=function(q,C,j){return c(q,C,j)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function h(q,C,j){return f(q),q<=0?i(q):C!==void 0?typeof j=="string"?i(q).fill(C,j):i(q).fill(C):i(q)}o.alloc=function(q,C,j){return h(q,C,j)};function m(q){return f(q),i(q<0?0:E(q)|0)}o.allocUnsafe=function(q){return m(q)},o.allocUnsafeSlow=function(q){return m(q)};function x(q,C){if((typeof C!="string"||C==="")&&(C="utf8"),!o.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var j=_(q,C)|0,U=i(j),ue=U.write(q,C);return ue!==j&&(U=U.slice(0,ue)),U}function g(q){for(var C=q.length<0?0:E(q.length)|0,j=i(C),U=0;U<C;U+=1)j[U]=q[U]&255;return j}function v(q){if(be(q,Uint8Array)){var C=new Uint8Array(q);return y(C.buffer,C.byteOffset,C.byteLength)}return g(q)}function y(q,C,j){if(C<0||q.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<C+(j||0))throw new RangeError('"length" is outside of buffer bounds');var U;return C===void 0&&j===void 0?U=new Uint8Array(q):j===void 0?U=new Uint8Array(q,C):U=new Uint8Array(q,C,j),Object.setPrototypeOf(U,o.prototype),U}function w(q){if(o.isBuffer(q)){var C=E(q.length)|0,j=i(C);return j.length===0||q.copy(j,0,0,C),j}if(q.length!==void 0)return typeof q.length!="number"||B(q.length)?i(0):g(q);if(q.type==="Buffer"&&Array.isArray(q.data))return g(q.data)}function E(q){if(q>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return q|0}function N(q){return+q!=q&&(q=0),o.alloc(+q)}o.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==o.prototype},o.compare=function(C,j){if(be(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),be(j,Uint8Array)&&(j=o.from(j,j.offset,j.byteLength)),!o.isBuffer(C)||!o.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===j)return 0;for(var U=C.length,ue=j.length,ye=0,he=Math.min(U,ue);ye<he;++ye)if(C[ye]!==j[ye]){U=C[ye],ue=j[ye];break}return U<ue?-1:ue<U?1:0},o.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(C,j){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return o.alloc(0);var U;if(j===void 0)for(j=0,U=0;U<C.length;++U)j+=C[U].length;var ue=o.allocUnsafe(j),ye=0;for(U=0;U<C.length;++U){var he=C[U];if(be(he,Uint8Array))ye+he.length>ue.length?o.from(he).copy(ue,ye):Uint8Array.prototype.set.call(ue,he,ye);else if(o.isBuffer(he))he.copy(ue,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=he.length}return ue};function _(q,C){if(o.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||be(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var j=q.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&j===0)return 0;for(var ue=!1;;)switch(C){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return F(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return Q(q).length;default:if(ue)return U?-1:F(q).length;C=(""+C).toLowerCase(),ue=!0}}o.byteLength=_;function S(q,C,j){var U=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,C>>>=0,j<=C))return"";for(q||(q="utf8");;)switch(q){case"hex":return oe(this,C,j);case"utf8":case"utf-8":return M(this,C,j);case"ascii":return ee(this,C,j);case"latin1":case"binary":return xe(this,C,j);case"base64":return X(this,C,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,C,j);default:if(U)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),U=!0}}o.prototype._isBuffer=!0;function k(q,C,j){var U=q[C];q[C]=q[j],q[j]=U}o.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<C;j+=2)k(this,j,j+1);return this},o.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<C;j+=4)k(this,j,j+3),k(this,j+1,j+2);return this},o.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<C;j+=8)k(this,j,j+7),k(this,j+1,j+6),k(this,j+2,j+5),k(this,j+3,j+4);return this},o.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?M(this,0,C):S.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(C){if(!o.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:o.compare(this,C)===0},o.prototype.inspect=function(){var C="",j=e.INSPECT_MAX_BYTES;return C=this.toString("hex",0,j).replace(/(.{2})/g,"$1 ").trim(),this.length>j&&(C+=" ... "),"<Buffer "+C+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(C,j,U,ue,ye){if(be(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),!o.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(j===void 0&&(j=0),U===void 0&&(U=C?C.length:0),ue===void 0&&(ue=0),ye===void 0&&(ye=this.length),j<0||U>C.length||ue<0||ye>this.length)throw new RangeError("out of range index");if(ue>=ye&&j>=U)return 0;if(ue>=ye)return-1;if(j>=U)return 1;if(j>>>=0,U>>>=0,ue>>>=0,ye>>>=0,this===C)return 0;for(var he=ye-ue,ke=U-j,De=Math.min(he,ke),Pe=this.slice(ue,ye),We=C.slice(j,U),et=0;et<De;++et)if(Pe[et]!==We[et]){he=Pe[et],ke=We[et];break}return he<ke?-1:ke<he?1:0};function L(q,C,j,U,ue){if(q.length===0)return-1;if(typeof j=="string"?(U=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,B(j)&&(j=ue?0:q.length-1),j<0&&(j=q.length+j),j>=q.length){if(ue)return-1;j=q.length-1}else if(j<0)if(ue)j=0;else return-1;if(typeof C=="string"&&(C=o.from(C,U)),o.isBuffer(C))return C.length===0?-1:R(q,C,j,U,ue);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(q,C,j):Uint8Array.prototype.lastIndexOf.call(q,C,j):R(q,[C],j,U,ue);throw new TypeError("val must be string, number or Buffer")}function R(q,C,j,U,ue){var ye=1,he=q.length,ke=C.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(q.length<2||C.length<2)return-1;ye=2,he/=2,ke/=2,j/=2}function De(Ht,lt){return ye===1?Ht[lt]:Ht.readUInt16BE(lt*ye)}var Pe;if(ue){var We=-1;for(Pe=j;Pe<he;Pe++)if(De(q,Pe)===De(C,We===-1?0:Pe-We)){if(We===-1&&(We=Pe),Pe-We+1===ke)return We*ye}else We!==-1&&(Pe-=Pe-We),We=-1}else for(j+ke>he&&(j=he-ke),Pe=j;Pe>=0;Pe--){for(var et=!0,tt=0;tt<ke;tt++)if(De(q,Pe+tt)!==De(C,tt)){et=!1;break}if(et)return Pe}return-1}o.prototype.includes=function(C,j,U){return this.indexOf(C,j,U)!==-1},o.prototype.indexOf=function(C,j,U){return L(this,C,j,U,!0)},o.prototype.lastIndexOf=function(C,j,U){return L(this,C,j,U,!1)};function H(q,C,j,U){j=Number(j)||0;var ue=q.length-j;U?(U=Number(U),U>ue&&(U=ue)):U=ue;var ye=C.length;U>ye/2&&(U=ye/2);for(var he=0;he<U;++he){var ke=parseInt(C.substr(he*2,2),16);if(B(ke))return he;q[j+he]=ke}return he}function O(q,C,j,U){return z(F(C,q.length-j),q,j,U)}function Z(q,C,j,U){return z(ne(C),q,j,U)}function ae(q,C,j,U){return z(Q(C),q,j,U)}function P(q,C,j,U){return z(te(C,q.length-j),q,j,U)}o.prototype.write=function(C,j,U,ue){if(j===void 0)ue="utf8",U=this.length,j=0;else if(U===void 0&&typeof j=="string")ue=j,U=this.length,j=0;else if(isFinite(j))j=j>>>0,isFinite(U)?(U=U>>>0,ue===void 0&&(ue="utf8")):(ue=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-j;if((U===void 0||U>ye)&&(U=ye),C.length>0&&(U<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");for(var he=!1;;)switch(ue){case"hex":return H(this,C,j,U);case"utf8":case"utf-8":return O(this,C,j,U);case"ascii":case"latin1":case"binary":return Z(this,C,j,U);case"base64":return ae(this,C,j,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,C,j,U);default:if(he)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),he=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(q,C,j){return C===0&&j===q.length?t.fromByteArray(q):t.fromByteArray(q.slice(C,j))}function M(q,C,j){j=Math.min(q.length,j);for(var U=[],ue=C;ue<j;){var ye=q[ue],he=null,ke=ye>239?4:ye>223?3:ye>191?2:1;if(ue+ke<=j){var De,Pe,We,et;switch(ke){case 1:ye<128&&(he=ye);break;case 2:De=q[ue+1],(De&192)===128&&(et=(ye&31)<<6|De&63,et>127&&(he=et));break;case 3:De=q[ue+1],Pe=q[ue+2],(De&192)===128&&(Pe&192)===128&&(et=(ye&15)<<12|(De&63)<<6|Pe&63,et>2047&&(et<55296||et>57343)&&(he=et));break;case 4:De=q[ue+1],Pe=q[ue+2],We=q[ue+3],(De&192)===128&&(Pe&192)===128&&(We&192)===128&&(et=(ye&15)<<18|(De&63)<<12|(Pe&63)<<6|We&63,et>65535&&et<1114112&&(he=et))}}he===null?(he=65533,ke=1):he>65535&&(he-=65536,U.push(he>>>10&1023|55296),he=56320|he&1023),U.push(he),ue+=ke}return J(U)}var ie=4096;function J(q){var C=q.length;if(C<=ie)return String.fromCharCode.apply(String,q);for(var j="",U=0;U<C;)j+=String.fromCharCode.apply(String,q.slice(U,U+=ie));return j}function ee(q,C,j){var U="";j=Math.min(q.length,j);for(var ue=C;ue<j;++ue)U+=String.fromCharCode(q[ue]&127);return U}function xe(q,C,j){var U="";j=Math.min(q.length,j);for(var ue=C;ue<j;++ue)U+=String.fromCharCode(q[ue]);return U}function oe(q,C,j){var U=q.length;(!C||C<0)&&(C=0),(!j||j<0||j>U)&&(j=U);for(var ue="",ye=C;ye<j;++ye)ue+=Ee[q[ye]];return ue}function we(q,C,j){for(var U=q.slice(C,j),ue="",ye=0;ye<U.length-1;ye+=2)ue+=String.fromCharCode(U[ye]+U[ye+1]*256);return ue}o.prototype.slice=function(C,j){var U=this.length;C=~~C,j=j===void 0?U:~~j,C<0?(C+=U,C<0&&(C=0)):C>U&&(C=U),j<0?(j+=U,j<0&&(j=0)):j>U&&(j=U),j<C&&(j=C);var ue=this.subarray(C,j);return Object.setPrototypeOf(ue,o.prototype),ue};function G(q,C,j){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+C>j)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(C,j,U){C=C>>>0,j=j>>>0,U||G(C,j,this.length);for(var ue=this[C],ye=1,he=0;++he<j&&(ye*=256);)ue+=this[C+he]*ye;return ue},o.prototype.readUintBE=o.prototype.readUIntBE=function(C,j,U){C=C>>>0,j=j>>>0,U||G(C,j,this.length);for(var ue=this[C+--j],ye=1;j>0&&(ye*=256);)ue+=this[C+--j]*ye;return ue},o.prototype.readUint8=o.prototype.readUInt8=function(C,j){return C=C>>>0,j||G(C,1,this.length),this[C]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(C,j){return C=C>>>0,j||G(C,2,this.length),this[C]|this[C+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(C,j){return C=C>>>0,j||G(C,2,this.length),this[C]<<8|this[C+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(C,j){return C=C>>>0,j||G(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(C,j){return C=C>>>0,j||G(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},o.prototype.readIntLE=function(C,j,U){C=C>>>0,j=j>>>0,U||G(C,j,this.length);for(var ue=this[C],ye=1,he=0;++he<j&&(ye*=256);)ue+=this[C+he]*ye;return ye*=128,ue>=ye&&(ue-=Math.pow(2,8*j)),ue},o.prototype.readIntBE=function(C,j,U){C=C>>>0,j=j>>>0,U||G(C,j,this.length);for(var ue=j,ye=1,he=this[C+--ue];ue>0&&(ye*=256);)he+=this[C+--ue]*ye;return ye*=128,he>=ye&&(he-=Math.pow(2,8*j)),he},o.prototype.readInt8=function(C,j){return C=C>>>0,j||G(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},o.prototype.readInt16LE=function(C,j){C=C>>>0,j||G(C,2,this.length);var U=this[C]|this[C+1]<<8;return U&32768?U|4294901760:U},o.prototype.readInt16BE=function(C,j){C=C>>>0,j||G(C,2,this.length);var U=this[C+1]|this[C]<<8;return U&32768?U|4294901760:U},o.prototype.readInt32LE=function(C,j){return C=C>>>0,j||G(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},o.prototype.readInt32BE=function(C,j){return C=C>>>0,j||G(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},o.prototype.readFloatLE=function(C,j){return C=C>>>0,j||G(C,4,this.length),r.read(this,C,!0,23,4)},o.prototype.readFloatBE=function(C,j){return C=C>>>0,j||G(C,4,this.length),r.read(this,C,!1,23,4)},o.prototype.readDoubleLE=function(C,j){return C=C>>>0,j||G(C,8,this.length),r.read(this,C,!0,52,8)},o.prototype.readDoubleBE=function(C,j){return C=C>>>0,j||G(C,8,this.length),r.read(this,C,!1,52,8)};function D(q,C,j,U,ue,ye){if(!o.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>ue||C<ye)throw new RangeError('"value" argument is out of bounds');if(j+U>q.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(C,j,U,ue){if(C=+C,j=j>>>0,U=U>>>0,!ue){var ye=Math.pow(2,8*U)-1;D(this,C,j,U,ye,0)}var he=1,ke=0;for(this[j]=C&255;++ke<U&&(he*=256);)this[j+ke]=C/he&255;return j+U},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(C,j,U,ue){if(C=+C,j=j>>>0,U=U>>>0,!ue){var ye=Math.pow(2,8*U)-1;D(this,C,j,U,ye,0)}var he=U-1,ke=1;for(this[j+he]=C&255;--he>=0&&(ke*=256);)this[j+he]=C/ke&255;return j+U},o.prototype.writeUint8=o.prototype.writeUInt8=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,1,255,0),this[j]=C&255,j+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,2,65535,0),this[j]=C&255,this[j+1]=C>>>8,j+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,2,65535,0),this[j]=C>>>8,this[j+1]=C&255,j+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,4,4294967295,0),this[j+3]=C>>>24,this[j+2]=C>>>16,this[j+1]=C>>>8,this[j]=C&255,j+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,4,4294967295,0),this[j]=C>>>24,this[j+1]=C>>>16,this[j+2]=C>>>8,this[j+3]=C&255,j+4},o.prototype.writeIntLE=function(C,j,U,ue){if(C=+C,j=j>>>0,!ue){var ye=Math.pow(2,8*U-1);D(this,C,j,U,ye-1,-ye)}var he=0,ke=1,De=0;for(this[j]=C&255;++he<U&&(ke*=256);)C<0&&De===0&&this[j+he-1]!==0&&(De=1),this[j+he]=(C/ke>>0)-De&255;return j+U},o.prototype.writeIntBE=function(C,j,U,ue){if(C=+C,j=j>>>0,!ue){var ye=Math.pow(2,8*U-1);D(this,C,j,U,ye-1,-ye)}var he=U-1,ke=1,De=0;for(this[j+he]=C&255;--he>=0&&(ke*=256);)C<0&&De===0&&this[j+he+1]!==0&&(De=1),this[j+he]=(C/ke>>0)-De&255;return j+U},o.prototype.writeInt8=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,1,127,-128),C<0&&(C=255+C+1),this[j]=C&255,j+1},o.prototype.writeInt16LE=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,2,32767,-32768),this[j]=C&255,this[j+1]=C>>>8,j+2},o.prototype.writeInt16BE=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,2,32767,-32768),this[j]=C>>>8,this[j+1]=C&255,j+2},o.prototype.writeInt32LE=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,4,2147483647,-2147483648),this[j]=C&255,this[j+1]=C>>>8,this[j+2]=C>>>16,this[j+3]=C>>>24,j+4},o.prototype.writeInt32BE=function(C,j,U){return C=+C,j=j>>>0,U||D(this,C,j,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[j]=C>>>24,this[j+1]=C>>>16,this[j+2]=C>>>8,this[j+3]=C&255,j+4};function W(q,C,j,U,ue,ye){if(j+U>q.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function K(q,C,j,U,ue){return C=+C,j=j>>>0,ue||W(q,C,j,4),r.write(q,C,j,U,23,4),j+4}o.prototype.writeFloatLE=function(C,j,U){return K(this,C,j,!0,U)},o.prototype.writeFloatBE=function(C,j,U){return K(this,C,j,!1,U)};function re(q,C,j,U,ue){return C=+C,j=j>>>0,ue||W(q,C,j,8),r.write(q,C,j,U,52,8),j+8}o.prototype.writeDoubleLE=function(C,j,U){return re(this,C,j,!0,U)},o.prototype.writeDoubleBE=function(C,j,U){return re(this,C,j,!1,U)},o.prototype.copy=function(C,j,U,ue){if(!o.isBuffer(C))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ue&&ue!==0&&(ue=this.length),j>=C.length&&(j=C.length),j||(j=0),ue>0&&ue<U&&(ue=U),ue===U||C.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),C.length-j<ue-U&&(ue=C.length-j+U);var ye=ue-U;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(j,U,ue):Uint8Array.prototype.set.call(C,this.subarray(U,ue),j),ye},o.prototype.fill=function(C,j,U,ue){if(typeof C=="string"){if(typeof j=="string"?(ue=j,j=0,U=this.length):typeof U=="string"&&(ue=U,U=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!o.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(C.length===1){var ye=C.charCodeAt(0);(ue==="utf8"&&ye<128||ue==="latin1")&&(C=ye)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(j<0||this.length<j||this.length<U)throw new RangeError("Out of range index");if(U<=j)return this;j=j>>>0,U=U===void 0?this.length:U>>>0,C||(C=0);var he;if(typeof C=="number")for(he=j;he<U;++he)this[he]=C;else{var ke=o.isBuffer(C)?C:o.from(C,ue),De=ke.length;if(De===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(he=0;he<U-j;++he)this[he+j]=ke[he%De]}return this};var se=/[^+/0-9A-Za-z-_]/g;function I(q){if(q=q.split("=")[0],q=q.trim().replace(se,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function F(q,C){C=C||1/0;for(var j,U=q.length,ue=null,ye=[],he=0;he<U;++he){if(j=q.charCodeAt(he),j>55295&&j<57344){if(!ue){if(j>56319){(C-=3)>-1&&ye.push(239,191,189);continue}else if(he+1===U){(C-=3)>-1&&ye.push(239,191,189);continue}ue=j;continue}if(j<56320){(C-=3)>-1&&ye.push(239,191,189),ue=j;continue}j=(ue-55296<<10|j-56320)+65536}else ue&&(C-=3)>-1&&ye.push(239,191,189);if(ue=null,j<128){if((C-=1)<0)break;ye.push(j)}else if(j<2048){if((C-=2)<0)break;ye.push(j>>6|192,j&63|128)}else if(j<65536){if((C-=3)<0)break;ye.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((C-=4)<0)break;ye.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return ye}function ne(q){for(var C=[],j=0;j<q.length;++j)C.push(q.charCodeAt(j)&255);return C}function te(q,C){for(var j,U,ue,ye=[],he=0;he<q.length&&!((C-=2)<0);++he)j=q.charCodeAt(he),U=j>>8,ue=j%256,ye.push(ue),ye.push(U);return ye}function Q(q){return t.toByteArray(I(q))}function z(q,C,j,U){for(var ue=0;ue<U&&!(ue+j>=C.length||ue>=q.length);++ue)C[ue+j]=q[ue];return ue}function be(q,C){return q instanceof C||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===C.name}function B(q){return q!==q}var Ee=(function(){for(var q="0123456789abcdef",C=new Array(256),j=0;j<16;++j)for(var U=j*16,ue=0;ue<16;++ue)C[U+ue]=q[j]+q[ue];return C})()})(wb)),wb}var Eb={},_b={},Sb,lR;function JF(){return lR||(lR=1,Sb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;t[r]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==s||o.enumerable!==!0)return!1}return!0}),Sb}var Nb,cR;function ES(){if(cR)return Nb;cR=1;var e=JF();return Nb=function(){return e()&&!!Symbol.toStringTag},Nb}var Tb,uR;function ZF(){return uR||(uR=1,Tb=Object),Tb}var Cb,dR;function che(){return dR||(dR=1,Cb=Error),Cb}var Ab,fR;function uhe(){return fR||(fR=1,Ab=EvalError),Ab}var kb,hR;function dhe(){return hR||(hR=1,kb=RangeError),kb}var Rb,pR;function fhe(){return pR||(pR=1,Rb=ReferenceError),Rb}var jb,mR;function QF(){return mR||(mR=1,jb=SyntaxError),jb}var Ob,xR;function T0(){return xR||(xR=1,Ob=TypeError),Ob}var Db,gR;function hhe(){return gR||(gR=1,Db=URIError),Db}var Ib,yR;function phe(){return yR||(yR=1,Ib=Math.abs),Ib}var Mb,vR;function mhe(){return vR||(vR=1,Mb=Math.floor),Mb}var Fb,bR;function xhe(){return bR||(bR=1,Fb=Math.max),Fb}var Pb,wR;function ghe(){return wR||(wR=1,Pb=Math.min),Pb}var Lb,ER;function yhe(){return ER||(ER=1,Lb=Math.pow),Lb}var Bb,_R;function vhe(){return _R||(_R=1,Bb=Math.round),Bb}var Ub,SR;function bhe(){return SR||(SR=1,Ub=Number.isNaN||function(t){return t!==t}),Ub}var zb,NR;function whe(){if(NR)return zb;NR=1;var e=bhe();return zb=function(r){return e(r)||r===0?r:r<0?-1:1},zb}var Hb,TR;function Ehe(){return TR||(TR=1,Hb=Object.getOwnPropertyDescriptor),Hb}var qb,CR;function C0(){if(CR)return qb;CR=1;var e=Ehe();if(e)try{e([],"length")}catch{e=null}return qb=e,qb}var Vb,AR;function e1(){if(AR)return Vb;AR=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Vb=e,Vb}var $b,kR;function _he(){if(kR)return $b;kR=1;var e=typeof Symbol<"u"&&Symbol,t=JF();return $b=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},$b}var Wb,RR;function eP(){return RR||(RR=1,Wb=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Wb}var Gb,jR;function tP(){if(jR)return Gb;jR=1;var e=ZF();return Gb=e.getPrototypeOf||null,Gb}var Kb,OR;function She(){if(OR)return Kb;OR=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(c,f){for(var h=[],m=0;m<c.length;m+=1)h[m]=c[m];for(var x=0;x<f.length;x+=1)h[x+c.length]=f[x];return h},a=function(c,f){for(var h=[],m=f,x=0;m<c.length;m+=1,x+=1)h[x]=c[m];return h},i=function(o,c){for(var f="",h=0;h<o.length;h+=1)f+=o[h],h+1<o.length&&(f+=c);return f};return Kb=function(c){var f=this;if(typeof f!="function"||t.apply(f)!==n)throw new TypeError(e+f);for(var h=a(arguments,1),m,x=function(){if(this instanceof m){var E=f.apply(this,s(h,arguments));return Object(E)===E?E:this}return f.apply(c,s(h,arguments))},g=r(0,f.length-h.length),v=[],y=0;y<g;y++)v[y]="$"+y;if(m=Function("binder","return function ("+i(v,",")+"){ return binder.apply(this,arguments); }")(x),f.prototype){var w=function(){};w.prototype=f.prototype,m.prototype=new w,w.prototype=null}return m},Kb}var Xb,DR;function A0(){if(DR)return Xb;DR=1;var e=She();return Xb=Function.prototype.bind||e,Xb}var Yb,IR;function _S(){return IR||(IR=1,Yb=Function.prototype.call),Yb}var Jb,MR;function rP(){return MR||(MR=1,Jb=Function.prototype.apply),Jb}var Zb,FR;function Nhe(){return FR||(FR=1,Zb=typeof Reflect<"u"&&Reflect&&Reflect.apply),Zb}var Qb,PR;function The(){if(PR)return Qb;PR=1;var e=A0(),t=rP(),r=_S(),n=Nhe();return Qb=n||e.call(r,t),Qb}var ew,LR;function Che(){if(LR)return ew;LR=1;var e=A0(),t=T0(),r=_S(),n=The();return ew=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return n(e,r,a)},ew}var tw,BR;function Ahe(){if(BR)return tw;BR=1;var e=Che(),t=C0(),r;try{r=[].__proto__===Array.prototype}catch(i){if(!i||typeof i!="object"||!("code"in i)||i.code!=="ERR_PROTO_ACCESS")throw i}var n=!!r&&t&&t(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return tw=n&&typeof n.get=="function"?e([n.get]):typeof a=="function"?(function(o){return a(o==null?o:s(o))}):!1,tw}var rw,UR;function khe(){if(UR)return rw;UR=1;var e=eP(),t=tP(),r=Ahe();return rw=e?function(s){return e(s)}:t?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return t(s)}:r?function(s){return r(s)}:null,rw}var nw,zR;function Rhe(){if(zR)return nw;zR=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=A0();return nw=r.call(e,t),nw}var sw,HR;function SS(){if(HR)return sw;HR=1;var e,t=ZF(),r=che(),n=uhe(),s=dhe(),a=fhe(),i=QF(),o=T0(),c=hhe(),f=phe(),h=mhe(),m=xhe(),x=ghe(),g=yhe(),v=vhe(),y=whe(),w=Function,E=function(ne){try{return w('"use strict"; return ('+ne+").constructor;")()}catch{}},N=C0(),_=e1(),S=function(){throw new o},k=N?(function(){try{return arguments.callee,S}catch{try{return N(arguments,"callee").get}catch{return S}}})():S,L=_he()(),R=khe(),H=tP(),O=eP(),Z=rP(),ae=_S(),P={},X=typeof Uint8Array>"u"||!R?e:R(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":L&&R?R([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&R?R(R([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!L||!R?e:R(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":N,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!L||!R?e:R(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&R?R(""[Symbol.iterator]()):e,"%Symbol%":L?Symbol:e,"%SyntaxError%":i,"%ThrowTypeError%":k,"%TypedArray%":X,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":ae,"%Function.prototype.apply%":Z,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":H,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":m,"%Math.min%":x,"%Math.pow%":g,"%Math.round%":v,"%Math.sign%":y,"%Reflect.getPrototypeOf%":O};if(R)try{null.error}catch(ne){var ie=R(R(ne));M["%Error.prototype%"]=ie}var J=function ne(te){var Q;if(te==="%AsyncFunction%")Q=E("async function () {}");else if(te==="%GeneratorFunction%")Q=E("function* () {}");else if(te==="%AsyncGeneratorFunction%")Q=E("async function* () {}");else if(te==="%AsyncGenerator%"){var z=ne("%AsyncGeneratorFunction%");z&&(Q=z.prototype)}else if(te==="%AsyncIteratorPrototype%"){var be=ne("%AsyncGenerator%");be&&R&&(Q=R(be.prototype))}return M[te]=Q,Q},ee={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=A0(),oe=Rhe(),we=xe.call(ae,Array.prototype.concat),G=xe.call(Z,Array.prototype.splice),D=xe.call(ae,String.prototype.replace),W=xe.call(ae,String.prototype.slice),K=xe.call(ae,RegExp.prototype.exec),re=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,se=/\\(\\)?/g,I=function(te){var Q=W(te,0,1),z=W(te,-1);if(Q==="%"&&z!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(z==="%"&&Q!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var be=[];return D(te,re,function(B,Ee,q,C){be[be.length]=q?D(C,se,"$1"):Ee||B}),be},F=function(te,Q){var z=te,be;if(oe(ee,z)&&(be=ee[z],z="%"+be[0]+"%"),oe(M,z)){var B=M[z];if(B===P&&(B=J(z)),typeof B>"u"&&!Q)throw new o("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:be,name:z,value:B}}throw new i("intrinsic "+te+" does not exist!")};return sw=function(te,Q){if(typeof te!="string"||te.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Q!="boolean")throw new o('"allowMissing" argument must be a boolean');if(K(/^%?[^%]*%?$/,te)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var z=I(te),be=z.length>0?z[0]:"",B=F("%"+be+"%",Q),Ee=B.name,q=B.value,C=!1,j=B.alias;j&&(be=j[0],G(z,we([0,1],j)));for(var U=1,ue=!0;U<z.length;U+=1){var ye=z[U],he=W(ye,0,1),ke=W(ye,-1);if((he==='"'||he==="'"||he==="`"||ke==='"'||ke==="'"||ke==="`")&&he!==ke)throw new i("property names with quotes must have matching quotes");if((ye==="constructor"||!ue)&&(C=!0),be+="."+ye,Ee="%"+be+"%",oe(M,Ee))q=M[Ee];else if(q!=null){if(!(ye in q)){if(!Q)throw new o("base intrinsic for "+te+" exists, but the property is not available.");return}if(N&&U+1>=z.length){var De=N(q,ye);ue=!!De,ue&&"get"in De&&!("originalValue"in De.get)?q=De.get:q=q[ye]}else ue=oe(q,ye),q=q[ye];ue&&!C&&(M[Ee]=q)}}return q},sw}var aw={exports:{}},iw,qR;function jhe(){if(qR)return iw;qR=1;var e=e1(),t=QF(),r=T0(),n=C0();return iw=function(a,i,o){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof i!="string"&&typeof i!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,x=!!n&&n(a,i);if(e)e(a,i,{configurable:h===null&&x?x.configurable:!h,enumerable:c===null&&x?x.enumerable:!c,value:o,writable:f===null&&x?x.writable:!f});else if(m||!c&&!f&&!h)a[i]=o;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},iw}var ow,VR;function Ohe(){if(VR)return ow;VR=1;var e=e1(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},ow=t,ow}var lw,$R;function Dhe(){if($R)return lw;$R=1;var e=SS(),t=jhe(),r=Ohe()(),n=C0(),s=T0(),a=e("%Math.floor%");return lw=function(o,c){if(typeof o!="function")throw new s("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new s("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],h=!0,m=!0;if("length"in o&&n){var x=n(o,"length");x&&!x.configurable&&(h=!1),x&&!x.writable&&(m=!1)}return(h||m||!f)&&(r?t(o,"length",c,!0,!0):t(o,"length",c)),o},lw}var WR;function nP(){return WR||(WR=1,(function(e){var t=A0(),r=SS(),n=Dhe(),s=T0(),a=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||t.call(i,a),c=e1(),f=r("%Math.max%");e.exports=function(x){if(typeof x!="function")throw new s("a function is required");var g=o(t,i,arguments);return n(g,1+f(0,x.length-(arguments.length-1)),!0)};var h=function(){return o(t,a,arguments)};c?c(e.exports,"apply",{value:h}):e.exports.apply=h})(aw)),aw.exports}var cw,GR;function sP(){if(GR)return cw;GR=1;var e=SS(),t=nP(),r=t(e("String.prototype.indexOf"));return cw=function(s,a){var i=e(s,!!a);return typeof i=="function"&&r(s,".prototype.")>-1?t(i):i},cw}var uw,KR;function Ihe(){if(KR)return uw;KR=1;var e=ES()(),t=sP(),r=t("Object.prototype.toString"),n=function(o){return e&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},s=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},a=(function(){return n(arguments)})();return n.isLegacyArguments=s,uw=a?n:s,uw}var dw,XR;function Mhe(){if(XR)return dw;XR=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=ES()(),s=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},i;return dw=function(c){if(typeof c!="function")return!1;if(r.test(t.call(c)))return!0;if(!n){var f=e.call(c);return f==="[object GeneratorFunction]"}if(!s)return!1;if(typeof i>"u"){var h=a();i=h?s(h):!1}return s(c)===i},dw}var fw,YR;function Fhe(){if(YR)return fw;YR=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(N){N!==n&&(t=null)}else t=null;var s=/^\s*class\b/,a=function(_){try{var S=e.call(_);return s.test(S)}catch{return!1}},i=function(_){try{return a(_)?!1:(e.call(_),!0)}catch{return!1}},o=Object.prototype.toString,c="[object Object]",f="[object Function]",h="[object GeneratorFunction]",m="[object HTMLAllCollection]",x="[object HTML document.all class]",g="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,y=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var E=document.all;o.call(E)===o.call(document.all)&&(w=function(_){if((y||!_)&&(typeof _>"u"||typeof _=="object"))try{var S=o.call(_);return(S===m||S===x||S===g||S===c)&&_("")==null}catch{}return!1})}return fw=t?function(_){if(w(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{t(_,null,r)}catch(S){if(S!==n)return!1}return!a(_)&&i(_)}:function(_){if(w(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(v)return i(_);if(a(_))return!1;var S=o.call(_);return S!==f&&S!==h&&!/^\[object HTML/.test(S)?!1:i(_)},fw}var hw,JR;function Phe(){if(JR)return hw;JR=1;var e=Fhe(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(c,f,h){for(var m=0,x=c.length;m<x;m++)r.call(c,m)&&(h==null?f(c[m],m,c):f.call(h,c[m],m,c))},s=function(c,f,h){for(var m=0,x=c.length;m<x;m++)h==null?f(c.charAt(m),m,c):f.call(h,c.charAt(m),m,c)},a=function(c,f,h){for(var m in c)r.call(c,m)&&(h==null?f(c[m],m,c):f.call(h,c[m],m,c))},i=function(c,f,h){if(!e(f))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=h),t.call(c)==="[object Array]"?n(c,f,m):typeof c=="string"?s(c,f,m):a(c,f,m)};return hw=i,hw}var pw,ZR;function Lhe(){return ZR||(ZR=1,pw=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),pw}var mw,QR;function Bhe(){if(QR)return mw;QR=1;var e=Lhe(),t=typeof globalThis>"u"?mi:globalThis;return mw=function(){for(var n=[],s=0;s<e.length;s++)typeof t[e[s]]=="function"&&(n[n.length]=e[s]);return n},mw}var xw,ej;function aP(){if(ej)return xw;ej=1;var e=Phe(),t=Bhe(),r=nP(),n=sP(),s=C0(),a=n("Object.prototype.toString"),i=ES()(),o=typeof globalThis>"u"?mi:globalThis,c=t(),f=n("String.prototype.slice"),h=Object.getPrototypeOf,m=n("Array.prototype.indexOf",!0)||function(w,E){for(var N=0;N<w.length;N+=1)if(w[N]===E)return N;return-1},x={__proto__:null};i&&s&&h?e(c,function(y){var w=new o[y];if(Symbol.toStringTag in w){var E=h(w),N=s(E,Symbol.toStringTag);if(!N){var _=h(E);N=s(_,Symbol.toStringTag)}x["$"+y]=r(N.get)}}):e(c,function(y){var w=new o[y],E=w.slice||w.set;E&&(x["$"+y]=r(E))});var g=function(w){var E=!1;return e(x,function(N,_){if(!E)try{"$"+N(w)===_&&(E=f(_,1))}catch{}}),E},v=function(w){var E=!1;return e(x,function(N,_){if(!E)try{N(w),E=f(_,1)}catch{}}),E};return xw=function(w){if(!w||typeof w!="object")return!1;if(!i){var E=f(a(w),8,-1);return m(c,E)>-1?E:E!=="Object"?!1:v(w)}return s?g(w):null},xw}var gw,tj;function Uhe(){if(tj)return gw;tj=1;var e=aP();return gw=function(r){return!!e(r)},gw}var rj;function zhe(){return rj||(rj=1,(function(e){var t=Ihe(),r=Mhe(),n=aP(),s=Uhe();function a(U){return U.call.bind(U)}var i=typeof BigInt<"u",o=typeof Symbol<"u",c=a(Object.prototype.toString),f=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),m=a(Boolean.prototype.valueOf);if(i)var x=a(BigInt.prototype.valueOf);if(o)var g=a(Symbol.prototype.valueOf);function v(U,ue){if(typeof U!="object")return!1;try{return ue(U),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=s;function y(U){return typeof Promise<"u"&&U instanceof Promise||U!==null&&typeof U=="object"&&typeof U.then=="function"&&typeof U.catch=="function"}e.isPromise=y;function w(U){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(U):s(U)||W(U)}e.isArrayBufferView=w;function E(U){return n(U)==="Uint8Array"}e.isUint8Array=E;function N(U){return n(U)==="Uint8ClampedArray"}e.isUint8ClampedArray=N;function _(U){return n(U)==="Uint16Array"}e.isUint16Array=_;function S(U){return n(U)==="Uint32Array"}e.isUint32Array=S;function k(U){return n(U)==="Int8Array"}e.isInt8Array=k;function L(U){return n(U)==="Int16Array"}e.isInt16Array=L;function R(U){return n(U)==="Int32Array"}e.isInt32Array=R;function H(U){return n(U)==="Float32Array"}e.isFloat32Array=H;function O(U){return n(U)==="Float64Array"}e.isFloat64Array=O;function Z(U){return n(U)==="BigInt64Array"}e.isBigInt64Array=Z;function ae(U){return n(U)==="BigUint64Array"}e.isBigUint64Array=ae;function P(U){return c(U)==="[object Map]"}P.working=typeof Map<"u"&&P(new Map);function X(U){return typeof Map>"u"?!1:P.working?P(U):U instanceof Map}e.isMap=X;function M(U){return c(U)==="[object Set]"}M.working=typeof Set<"u"&&M(new Set);function ie(U){return typeof Set>"u"?!1:M.working?M(U):U instanceof Set}e.isSet=ie;function J(U){return c(U)==="[object WeakMap]"}J.working=typeof WeakMap<"u"&&J(new WeakMap);function ee(U){return typeof WeakMap>"u"?!1:J.working?J(U):U instanceof WeakMap}e.isWeakMap=ee;function xe(U){return c(U)==="[object WeakSet]"}xe.working=typeof WeakSet<"u"&&xe(new WeakSet);function oe(U){return xe(U)}e.isWeakSet=oe;function we(U){return c(U)==="[object ArrayBuffer]"}we.working=typeof ArrayBuffer<"u"&&we(new ArrayBuffer);function G(U){return typeof ArrayBuffer>"u"?!1:we.working?we(U):U instanceof ArrayBuffer}e.isArrayBuffer=G;function D(U){return c(U)==="[object DataView]"}D.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&D(new DataView(new ArrayBuffer(1),0,1));function W(U){return typeof DataView>"u"?!1:D.working?D(U):U instanceof DataView}e.isDataView=W;var K=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(U){return c(U)==="[object SharedArrayBuffer]"}function se(U){return typeof K>"u"?!1:(typeof re.working>"u"&&(re.working=re(new K)),re.working?re(U):U instanceof K)}e.isSharedArrayBuffer=se;function I(U){return c(U)==="[object AsyncFunction]"}e.isAsyncFunction=I;function F(U){return c(U)==="[object Map Iterator]"}e.isMapIterator=F;function ne(U){return c(U)==="[object Set Iterator]"}e.isSetIterator=ne;function te(U){return c(U)==="[object Generator]"}e.isGeneratorObject=te;function Q(U){return c(U)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Q;function z(U){return v(U,f)}e.isNumberObject=z;function be(U){return v(U,h)}e.isStringObject=be;function B(U){return v(U,m)}e.isBooleanObject=B;function Ee(U){return i&&v(U,x)}e.isBigIntObject=Ee;function q(U){return o&&v(U,g)}e.isSymbolObject=q;function C(U){return z(U)||be(U)||B(U)||Ee(U)||q(U)}e.isBoxedPrimitive=C;function j(U){return typeof Uint8Array<"u"&&(G(U)||se(U))}e.isAnyArrayBuffer=j,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(U){Object.defineProperty(e,U,{enumerable:!1,value:function(){throw new Error(U+" is not supported in userland")}})})})(_b)),_b}var yw,nj;function Hhe(){return nj||(nj=1,yw=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),yw}var sj;function iP(){return sj||(sj=1,(function(e){var t=Object.getOwnPropertyDescriptors||function(W){for(var K=Object.keys(W),re={},se=0;se<K.length;se++)re[K[se]]=Object.getOwnPropertyDescriptor(W,K[se]);return re},r=/%[sdj%]/g;e.format=function(D){if(!k(D)){for(var W=[],K=0;K<arguments.length;K++)W.push(i(arguments[K]));return W.join(" ")}for(var K=1,re=arguments,se=re.length,I=String(D).replace(r,function(ne){if(ne==="%%")return"%";if(K>=se)return ne;switch(ne){case"%s":return String(re[K++]);case"%d":return Number(re[K++]);case"%j":try{return JSON.stringify(re[K++])}catch{return"[Circular]"}default:return ne}}),F=re[K];K<se;F=re[++K])N(F)||!O(F)?I+=" "+F:I+=" "+i(F);return I},e.deprecate=function(D,W){if(typeof Rt<"u"&&Rt.noDeprecation===!0)return D;if(typeof Rt>"u")return function(){return e.deprecate(D,W).apply(this,arguments)};var K=!1;function re(){if(!K){if(Rt.throwDeprecation)throw new Error(W);Rt.traceDeprecation?console.trace(W):console.error(W),K=!0}return D.apply(this,arguments)}return re};var n={},s=/^$/;if(Rt.env.NODE_DEBUG){var a=Rt.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}e.debuglog=function(D){if(D=D.toUpperCase(),!n[D])if(s.test(D)){var W=Rt.pid;n[D]=function(){var K=e.format.apply(e,arguments);console.error("%s %d: %s",D,W,K)}}else n[D]=function(){};return n[D]};function i(D,W){var K={seen:[],stylize:c};return arguments.length>=3&&(K.depth=arguments[2]),arguments.length>=4&&(K.colors=arguments[3]),E(W)?K.showHidden=W:W&&e._extend(K,W),R(K.showHidden)&&(K.showHidden=!1),R(K.depth)&&(K.depth=2),R(K.colors)&&(K.colors=!1),R(K.customInspect)&&(K.customInspect=!0),K.colors&&(K.stylize=o),h(K,D,K.depth)}e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(D,W){var K=i.styles[W];return K?"\x1B["+i.colors[K][0]+"m"+D+"\x1B["+i.colors[K][1]+"m":D}function c(D,W){return D}function f(D){var W={};return D.forEach(function(K,re){W[K]=!0}),W}function h(D,W,K){if(D.customInspect&&W&&P(W.inspect)&&W.inspect!==e.inspect&&!(W.constructor&&W.constructor.prototype===W)){var re=W.inspect(K,D);return k(re)||(re=h(D,re,K)),re}var se=m(D,W);if(se)return se;var I=Object.keys(W),F=f(I);if(D.showHidden&&(I=Object.getOwnPropertyNames(W)),ae(W)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return x(W);if(I.length===0){if(P(W)){var ne=W.name?": "+W.name:"";return D.stylize("[Function"+ne+"]","special")}if(H(W))return D.stylize(RegExp.prototype.toString.call(W),"regexp");if(Z(W))return D.stylize(Date.prototype.toString.call(W),"date");if(ae(W))return x(W)}var te="",Q=!1,z=["{","}"];if(w(W)&&(Q=!0,z=["[","]"]),P(W)){var be=W.name?": "+W.name:"";te=" [Function"+be+"]"}if(H(W)&&(te=" "+RegExp.prototype.toString.call(W)),Z(W)&&(te=" "+Date.prototype.toUTCString.call(W)),ae(W)&&(te=" "+x(W)),I.length===0&&(!Q||W.length==0))return z[0]+te+z[1];if(K<0)return H(W)?D.stylize(RegExp.prototype.toString.call(W),"regexp"):D.stylize("[Object]","special");D.seen.push(W);var B;return Q?B=g(D,W,K,F,I):B=I.map(function(Ee){return v(D,W,K,F,Ee,Q)}),D.seen.pop(),y(B,te,z)}function m(D,W){if(R(W))return D.stylize("undefined","undefined");if(k(W)){var K="'"+JSON.stringify(W).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(K,"string")}if(S(W))return D.stylize(""+W,"number");if(E(W))return D.stylize(""+W,"boolean");if(N(W))return D.stylize("null","null")}function x(D){return"["+Error.prototype.toString.call(D)+"]"}function g(D,W,K,re,se){for(var I=[],F=0,ne=W.length;F<ne;++F)xe(W,String(F))?I.push(v(D,W,K,re,String(F),!0)):I.push("");return se.forEach(function(te){te.match(/^\d+$/)||I.push(v(D,W,K,re,te,!0))}),I}function v(D,W,K,re,se,I){var F,ne,te;if(te=Object.getOwnPropertyDescriptor(W,se)||{value:W[se]},te.get?te.set?ne=D.stylize("[Getter/Setter]","special"):ne=D.stylize("[Getter]","special"):te.set&&(ne=D.stylize("[Setter]","special")),xe(re,se)||(F="["+se+"]"),ne||(D.seen.indexOf(te.value)<0?(N(K)?ne=h(D,te.value,null):ne=h(D,te.value,K-1),ne.indexOf(`
`)>-1&&(I?ne=ne.split(`
`).map(function(Q){return"  "+Q}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):ne=D.stylize("[Circular]","special")),R(F)){if(I&&se.match(/^\d+$/))return ne;F=JSON.stringify(""+se),F.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=D.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=D.stylize(F,"string"))}return F+": "+ne}function y(D,W,K){var re=D.reduce(function(se,I){return I.indexOf(`
`)>=0,se+I.replace(/\u001b\[\d\d?m/g,"").length+1},0);return re>60?K[0]+(W===""?"":W+`
 `)+" "+D.join(`,
  `)+" "+K[1]:K[0]+W+" "+D.join(", ")+" "+K[1]}e.types=zhe();function w(D){return Array.isArray(D)}e.isArray=w;function E(D){return typeof D=="boolean"}e.isBoolean=E;function N(D){return D===null}e.isNull=N;function _(D){return D==null}e.isNullOrUndefined=_;function S(D){return typeof D=="number"}e.isNumber=S;function k(D){return typeof D=="string"}e.isString=k;function L(D){return typeof D=="symbol"}e.isSymbol=L;function R(D){return D===void 0}e.isUndefined=R;function H(D){return O(D)&&M(D)==="[object RegExp]"}e.isRegExp=H,e.types.isRegExp=H;function O(D){return typeof D=="object"&&D!==null}e.isObject=O;function Z(D){return O(D)&&M(D)==="[object Date]"}e.isDate=Z,e.types.isDate=Z;function ae(D){return O(D)&&(M(D)==="[object Error]"||D instanceof Error)}e.isError=ae,e.types.isNativeError=ae;function P(D){return typeof D=="function"}e.isFunction=P;function X(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}e.isPrimitive=X,e.isBuffer=Hhe();function M(D){return Object.prototype.toString.call(D)}function ie(D){return D<10?"0"+D.toString(10):D.toString(10)}var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ee(){var D=new Date,W=[ie(D.getHours()),ie(D.getMinutes()),ie(D.getSeconds())].join(":");return[D.getDate(),J[D.getMonth()],W].join(" ")}e.log=function(){console.log("%s - %s",ee(),e.format.apply(e,arguments))},e.inherits=Dl(),e._extend=function(D,W){if(!W||!O(W))return D;for(var K=Object.keys(W),re=K.length;re--;)D[K[re]]=W[K[re]];return D};function xe(D,W){return Object.prototype.hasOwnProperty.call(D,W)}var oe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');if(oe&&W[oe]){var K=W[oe];if(typeof K!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(K,oe,{value:K,enumerable:!1,writable:!1,configurable:!0}),K}function K(){for(var re,se,I=new Promise(function(te,Q){re=te,se=Q}),F=[],ne=0;ne<arguments.length;ne++)F.push(arguments[ne]);F.push(function(te,Q){te?se(te):re(Q)});try{W.apply(this,F)}catch(te){se(te)}return I}return Object.setPrototypeOf(K,Object.getPrototypeOf(W)),oe&&Object.defineProperty(K,oe,{value:K,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(K,t(W))},e.promisify.custom=oe;function we(D,W){if(!D){var K=new Error("Promise was rejected with a falsy value");K.reason=D,D=K}return W(D)}function G(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function W(){for(var K=[],re=0;re<arguments.length;re++)K.push(arguments[re]);var se=K.pop();if(typeof se!="function")throw new TypeError("The last argument must be of type Function");var I=this,F=function(){return se.apply(I,arguments)};D.apply(this,K).then(function(ne){Rt.nextTick(F.bind(null,null,ne))},function(ne){Rt.nextTick(we.bind(null,ne,F))})}return Object.setPrototypeOf(W,Object.getPrototypeOf(D)),Object.defineProperties(W,t(D)),W}e.callbackify=G})(Eb)),Eb}var vw,aj;function qhe(){if(aj)return vw;aj=1;function e(x,g){var v=Object.keys(x);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(x);g&&(y=y.filter(function(w){return Object.getOwnPropertyDescriptor(x,w).enumerable})),v.push.apply(v,y)}return v}function t(x){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?e(Object(v),!0).forEach(function(y){r(x,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(y){Object.defineProperty(x,y,Object.getOwnPropertyDescriptor(v,y))})}return x}function r(x,g,v){return g in x?Object.defineProperty(x,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):x[g]=v,x}function n(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function s(x,g){for(var v=0;v<g.length;v++){var y=g[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(x,y.key,y)}}function a(x,g,v){return g&&s(x.prototype,g),x}var i=Qg(),o=i.Buffer,c=iP(),f=c.inspect,h=f&&f.custom||"inspect";function m(x,g,v){o.prototype.copy.call(x,g,v)}return vw=(function(){function x(){n(this,x),this.head=null,this.tail=null,this.length=0}return a(x,[{key:"push",value:function(v){var y={data:v,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(v){var y={data:v,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var y=this.head,w=""+y.data;y=y.next;)w+=v+y.data;return w}},{key:"concat",value:function(v){if(this.length===0)return o.alloc(0);for(var y=o.allocUnsafe(v>>>0),w=this.head,E=0;w;)m(w.data,y,E),E+=w.data.length,w=w.next;return y}},{key:"consume",value:function(v,y){var w;return v<this.head.data.length?(w=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?w=this.shift():w=y?this._getString(v):this._getBuffer(v),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var y=this.head,w=1,E=y.data;for(v-=E.length;y=y.next;){var N=y.data,_=v>N.length?N.length:v;if(_===N.length?E+=N:E+=N.slice(0,v),v-=_,v===0){_===N.length?(++w,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=N.slice(_));break}++w}return this.length-=w,E}},{key:"_getBuffer",value:function(v){var y=o.allocUnsafe(v),w=this.head,E=1;for(w.data.copy(y),v-=w.data.length;w=w.next;){var N=w.data,_=v>N.length?N.length:v;if(N.copy(y,y.length-v,0,_),v-=_,v===0){_===N.length?(++E,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=N.slice(_));break}++E}return this.length-=E,y}},{key:h,value:function(v,y){return f(this,t({},y,{depth:0,customInspect:!1}))}}]),x})(),vw}var bw,ij;function oP(){if(ij)return bw;ij=1;function e(i,o){var c=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(o?o(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Rt.nextTick(s,this,i)):Rt.nextTick(s,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(m){!o&&m?c._writableState?c._writableState.errorEmitted?Rt.nextTick(r,c):(c._writableState.errorEmitted=!0,Rt.nextTick(t,c,m)):Rt.nextTick(t,c,m):o?(Rt.nextTick(r,c),o(m)):Rt.nextTick(r,c)}),this)}function t(i,o){s(i,o),r(i)}function r(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(i,o){i.emit("error",o)}function a(i,o){var c=i._readableState,f=i._writableState;c&&c.autoDestroy||f&&f.autoDestroy?i.destroy(o):i.emit("error",o)}return bw={destroy:e,undestroy:n,errorOrDestroy:a},bw}var ww={},oj;function Od(){if(oj)return ww;oj=1;function e(o,c){o.prototype=Object.create(c.prototype),o.prototype.constructor=o,o.__proto__=c}var t={};function r(o,c,f){f||(f=Error);function h(x,g,v){return typeof c=="string"?c:c(x,g,v)}var m=(function(x){e(g,x);function g(v,y,w){return x.call(this,h(v,y,w))||this}return g})(f);m.prototype.name=f.name,m.prototype.code=o,t[o]=m}function n(o,c){if(Array.isArray(o)){var f=o.length;return o=o.map(function(h){return String(h)}),f>2?"one of ".concat(c," ").concat(o.slice(0,f-1).join(", "),", or ")+o[f-1]:f===2?"one of ".concat(c," ").concat(o[0]," or ").concat(o[1]):"of ".concat(c," ").concat(o[0])}else return"of ".concat(c," ").concat(String(o))}function s(o,c,f){return o.substr(0,c.length)===c}function a(o,c,f){return(f===void 0||f>o.length)&&(f=o.length),o.substring(f-c.length,f)===c}function i(o,c,f){return typeof f!="number"&&(f=0),f+c.length>o.length?!1:o.indexOf(c,f)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,c){return'The value "'+c+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,c,f){var h;typeof c=="string"&&s(c,"not ")?(h="must not be",c=c.replace(/^not /,"")):h="must be";var m;if(a(o," argument"))m="The ".concat(o," ").concat(h," ").concat(n(c,"type"));else{var x=i(o,".")?"property":"argument";m='The "'.concat(o,'" ').concat(x," ").concat(h," ").concat(n(c,"type"))}return m+=". Received type ".concat(typeof f),m},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ww.codes=t,ww}var Ew,lj;function lP(){if(lj)return Ew;lj=1;var e=Od().codes.ERR_INVALID_OPT_VALUE;function t(n,s,a){return n.highWaterMark!=null?n.highWaterMark:s?n[a]:null}function r(n,s,a,i){var o=t(s,i,a);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var c=i?a:"highWaterMark";throw new e(c,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return Ew={getHighWaterMark:r},Ew}var _w,cj;function Vhe(){if(cj)return _w;cj=1,_w=e;function e(r,n){if(t("noDeprecation"))return r;var s=!1;function a(){if(!s){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),s=!0}return r.apply(this,arguments)}return a}function t(r){try{if(!mi.localStorage)return!1}catch{return!1}var n=mi.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return _w}var Sw,uj;function cP(){if(uj)return Sw;uj=1,Sw=H;function e(se){var I=this;this.next=null,this.entry=null,this.finish=function(){re(I,se)}}var t;H.WritableState=L;var r={deprecate:Vhe()},n=YF(),s=Qg().Buffer,a=mi.Uint8Array||function(){};function i(se){return s.from(se)}function o(se){return s.isBuffer(se)||se instanceof a}var c=oP(),f=lP(),h=f.getHighWaterMark,m=Od().codes,x=m.ERR_INVALID_ARG_TYPE,g=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_MULTIPLE_CALLBACK,y=m.ERR_STREAM_CANNOT_PIPE,w=m.ERR_STREAM_DESTROYED,E=m.ERR_STREAM_NULL_VALUES,N=m.ERR_STREAM_WRITE_AFTER_END,_=m.ERR_UNKNOWN_ENCODING,S=c.errorOrDestroy;Dl()(H,n);function k(){}function L(se,I,F){t=t||id(),se=se||{},typeof F!="boolean"&&(F=I instanceof t),this.objectMode=!!se.objectMode,F&&(this.objectMode=this.objectMode||!!se.writableObjectMode),this.highWaterMark=h(this,se,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=se.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){J(I,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=se.emitClose!==!1,this.autoDestroy=!!se.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}L.prototype.getBuffer=function(){for(var I=this.bufferedRequest,F=[];I;)F.push(I),I=I.next;return F},(function(){try{Object.defineProperty(L.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var R;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(I){return R.call(this,I)?!0:this!==H?!1:I&&I._writableState instanceof L}})):R=function(I){return I instanceof this};function H(se){t=t||id();var I=this instanceof t;if(!I&&!R.call(H,this))return new H(se);this._writableState=new L(se,this,I),this.writable=!0,se&&(typeof se.write=="function"&&(this._write=se.write),typeof se.writev=="function"&&(this._writev=se.writev),typeof se.destroy=="function"&&(this._destroy=se.destroy),typeof se.final=="function"&&(this._final=se.final)),n.call(this)}H.prototype.pipe=function(){S(this,new y)};function O(se,I){var F=new N;S(se,F),Rt.nextTick(I,F)}function Z(se,I,F,ne){var te;return F===null?te=new E:typeof F!="string"&&!I.objectMode&&(te=new x("chunk",["string","Buffer"],F)),te?(S(se,te),Rt.nextTick(ne,te),!1):!0}H.prototype.write=function(se,I,F){var ne=this._writableState,te=!1,Q=!ne.objectMode&&o(se);return Q&&!s.isBuffer(se)&&(se=i(se)),typeof I=="function"&&(F=I,I=null),Q?I="buffer":I||(I=ne.defaultEncoding),typeof F!="function"&&(F=k),ne.ending?O(this,F):(Q||Z(this,ne,se,F))&&(ne.pendingcb++,te=P(this,ne,Q,se,I,F)),te},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var se=this._writableState;se.corked&&(se.corked--,!se.writing&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&oe(this,se))},H.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new _(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ae(se,I,F){return!se.objectMode&&se.decodeStrings!==!1&&typeof I=="string"&&(I=s.from(I,F)),I}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(se,I,F,ne,te,Q){if(!F){var z=ae(I,ne,te);ne!==z&&(F=!0,te="buffer",ne=z)}var be=I.objectMode?1:ne.length;I.length+=be;var B=I.length<I.highWaterMark;if(B||(I.needDrain=!0),I.writing||I.corked){var Ee=I.lastBufferedRequest;I.lastBufferedRequest={chunk:ne,encoding:te,isBuf:F,callback:Q,next:null},Ee?Ee.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else X(se,I,!1,be,ne,te,Q);return B}function X(se,I,F,ne,te,Q,z){I.writelen=ne,I.writecb=z,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new w("write")):F?se._writev(te,I.onwrite):se._write(te,Q,I.onwrite),I.sync=!1}function M(se,I,F,ne,te){--I.pendingcb,F?(Rt.nextTick(te,ne),Rt.nextTick(W,se,I),se._writableState.errorEmitted=!0,S(se,ne)):(te(ne),se._writableState.errorEmitted=!0,S(se,ne),W(se,I))}function ie(se){se.writing=!1,se.writecb=null,se.length-=se.writelen,se.writelen=0}function J(se,I){var F=se._writableState,ne=F.sync,te=F.writecb;if(typeof te!="function")throw new v;if(ie(F),I)M(se,F,ne,I,te);else{var Q=we(F)||se.destroyed;!Q&&!F.corked&&!F.bufferProcessing&&F.bufferedRequest&&oe(se,F),ne?Rt.nextTick(ee,se,F,Q,te):ee(se,F,Q,te)}}function ee(se,I,F,ne){F||xe(se,I),I.pendingcb--,ne(),W(se,I)}function xe(se,I){I.length===0&&I.needDrain&&(I.needDrain=!1,se.emit("drain"))}function oe(se,I){I.bufferProcessing=!0;var F=I.bufferedRequest;if(se._writev&&F&&F.next){var ne=I.bufferedRequestCount,te=new Array(ne),Q=I.corkedRequestsFree;Q.entry=F;for(var z=0,be=!0;F;)te[z]=F,F.isBuf||(be=!1),F=F.next,z+=1;te.allBuffers=be,X(se,I,!0,I.length,te,"",Q.finish),I.pendingcb++,I.lastBufferedRequest=null,Q.next?(I.corkedRequestsFree=Q.next,Q.next=null):I.corkedRequestsFree=new e(I),I.bufferedRequestCount=0}else{for(;F;){var B=F.chunk,Ee=F.encoding,q=F.callback,C=I.objectMode?1:B.length;if(X(se,I,!1,C,B,Ee,q),F=F.next,I.bufferedRequestCount--,I.writing)break}F===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=F,I.bufferProcessing=!1}H.prototype._write=function(se,I,F){F(new g("_write()"))},H.prototype._writev=null,H.prototype.end=function(se,I,F){var ne=this._writableState;return typeof se=="function"?(F=se,se=null,I=null):typeof I=="function"&&(F=I,I=null),se!=null&&this.write(se,I),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||K(this,ne,F),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function we(se){return se.ending&&se.length===0&&se.bufferedRequest===null&&!se.finished&&!se.writing}function G(se,I){se._final(function(F){I.pendingcb--,F&&S(se,F),I.prefinished=!0,se.emit("prefinish"),W(se,I)})}function D(se,I){!I.prefinished&&!I.finalCalled&&(typeof se._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,Rt.nextTick(G,se,I)):(I.prefinished=!0,se.emit("prefinish")))}function W(se,I){var F=we(I);if(F&&(D(se,I),I.pendingcb===0&&(I.finished=!0,se.emit("finish"),I.autoDestroy))){var ne=se._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&se.destroy()}return F}function K(se,I,F){I.ending=!0,W(se,I),F&&(I.finished?Rt.nextTick(F):se.once("finish",F)),I.ended=!0,se.writable=!1}function re(se,I,F){var ne=se.entry;for(se.entry=null;ne;){var te=ne.callback;I.pendingcb--,te(F),ne=ne.next}I.corkedRequestsFree.next=se}return Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),H.prototype.destroy=c.destroy,H.prototype._undestroy=c.undestroy,H.prototype._destroy=function(se,I){I(se)},Sw}var Nw,dj;function id(){if(dj)return Nw;dj=1;var e=Object.keys||function(f){var h=[];for(var m in f)h.push(m);return h};Nw=i;var t=uP(),r=cP();Dl()(i,t);for(var n=e(r.prototype),s=0;s<n.length;s++){var a=n[s];i.prototype[a]||(i.prototype[a]=r.prototype[a])}function i(f){if(!(this instanceof i))return new i(f);t.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Rt.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),Nw}var Tw={},_m={exports:{}},fj;function $he(){return fj||(fj=1,(function(e,t){var r=Qg(),n=r.Buffer;function s(i,o){for(var c in i)o[c]=i[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=a);function a(i,o,c){return n(i,o,c)}s(n,a),a.from=function(i,o,c){if(typeof i=="number")throw new TypeError("Argument must not be a number");return n(i,o,c)},a.alloc=function(i,o,c){if(typeof i!="number")throw new TypeError("Argument must be a number");var f=n(i);return o!==void 0?typeof c=="string"?f.fill(o,c):f.fill(o):f.fill(0),f},a.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return n(i)},a.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(i)}})(_m,_m.exports)),_m.exports}var hj;function bE(){if(hj)return Tw;hj=1;var e=$he().Buffer,t=e.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(E){if(!E)return"utf8";for(var N;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(N)return;E=(""+E).toLowerCase(),N=!0}}function n(E){var N=r(E);if(typeof N!="string"&&(e.isEncoding===t||!t(E)))throw new Error("Unknown encoding: "+E);return N||E}Tw.StringDecoder=s;function s(E){this.encoding=n(E);var N;switch(this.encoding){case"utf16le":this.text=m,this.end=x,N=4;break;case"utf8":this.fillLast=c,N=4;break;case"base64":this.text=g,this.end=v,N=3;break;default:this.write=y,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(N)}s.prototype.write=function(E){if(E.length===0)return"";var N,_;if(this.lastNeed){if(N=this.fillLast(E),N===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<E.length?N?N+this.text(E,_):this.text(E,_):N||""},s.prototype.end=h,s.prototype.text=f,s.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function a(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function i(E,N,_){var S=N.length-1;if(S<_)return 0;var k=a(N[S]);return k>=0?(k>0&&(E.lastNeed=k-1),k):--S<_||k===-2?0:(k=a(N[S]),k>=0?(k>0&&(E.lastNeed=k-2),k):--S<_||k===-2?0:(k=a(N[S]),k>=0?(k>0&&(k===2?k=0:E.lastNeed=k-3),k):0))}function o(E,N,_){if((N[0]&192)!==128)return E.lastNeed=0,"";if(E.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return E.lastNeed=1,"";if(E.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return E.lastNeed=2,""}}function c(E){var N=this.lastTotal-this.lastNeed,_=o(this,E);if(_!==void 0)return _;if(this.lastNeed<=E.length)return E.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,N,0,E.length),this.lastNeed-=E.length}function f(E,N){var _=i(this,E,N);if(!this.lastNeed)return E.toString("utf8",N);this.lastTotal=_;var S=E.length-(_-this.lastNeed);return E.copy(this.lastChar,0,S),E.toString("utf8",N,S)}function h(E){var N=E&&E.length?this.write(E):"";return this.lastNeed?N+"":N}function m(E,N){if((E.length-N)%2===0){var _=E.toString("utf16le",N);if(_){var S=_.charCodeAt(_.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",N,E.length-1)}function x(E){var N=E&&E.length?this.write(E):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,_)}return N}function g(E,N){var _=(E.length-N)%3;return _===0?E.toString("base64",N):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",N,E.length-_))}function v(E){var N=E&&E.length?this.write(E):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function y(E){return E.toString(this.encoding)}function w(E){return E&&E.length?this.write(E):""}return Tw}var Cw,pj;function NS(){if(pj)return Cw;pj=1;var e=Od().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var i=!1;return function(){if(!i){i=!0;for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];a.apply(this,c)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function s(a,i,o){if(typeof i=="function")return s(a,null,i);i||(i={}),o=t(o||r);var c=i.readable||i.readable!==!1&&a.readable,f=i.writable||i.writable!==!1&&a.writable,h=function(){a.writable||x()},m=a._writableState&&a._writableState.finished,x=function(){f=!1,m=!0,c||o.call(a)},g=a._readableState&&a._readableState.endEmitted,v=function(){c=!1,g=!0,f||o.call(a)},y=function(_){o.call(a,_)},w=function(){var _;if(c&&!g)return(!a._readableState||!a._readableState.ended)&&(_=new e),o.call(a,_);if(f&&!m)return(!a._writableState||!a._writableState.ended)&&(_=new e),o.call(a,_)},E=function(){a.req.on("finish",x)};return n(a)?(a.on("complete",x),a.on("abort",w),a.req?E():a.on("request",E)):f&&!a._writableState&&(a.on("end",h),a.on("close",h)),a.on("end",v),a.on("finish",x),i.error!==!1&&a.on("error",y),a.on("close",w),function(){a.removeListener("complete",x),a.removeListener("abort",w),a.removeListener("request",E),a.req&&a.req.removeListener("finish",x),a.removeListener("end",h),a.removeListener("close",h),a.removeListener("finish",x),a.removeListener("end",v),a.removeListener("error",y),a.removeListener("close",w)}}return Cw=s,Cw}var Aw,mj;function Whe(){if(mj)return Aw;mj=1;var e;function t(E,N,_){return N in E?Object.defineProperty(E,N,{value:_,enumerable:!0,configurable:!0,writable:!0}):E[N]=_,E}var r=NS(),n=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),i=Symbol("ended"),o=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function h(E,N){return{value:E,done:N}}function m(E){var N=E[n];if(N!==null){var _=E[f].read();_!==null&&(E[o]=null,E[n]=null,E[s]=null,N(h(_,!1)))}}function x(E){Rt.nextTick(m,E)}function g(E,N){return function(_,S){E.then(function(){if(N[i]){_(h(void 0,!0));return}N[c](_,S)},S)}}var v=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[f]},next:function(){var N=this,_=this[a];if(_!==null)return Promise.reject(_);if(this[i])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(R,H){Rt.nextTick(function(){N[a]?H(N[a]):R(h(void 0,!0))})});var S=this[o],k;if(S)k=new Promise(g(S,this));else{var L=this[f].read();if(L!==null)return Promise.resolve(h(L,!1));k=new Promise(this[c])}return this[o]=k,k}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var N=this;return new Promise(function(_,S){N[f].destroy(null,function(k){if(k){S(k);return}_(h(void 0,!0))})})}),e),v),w=function(N){var _,S=Object.create(y,(_={},t(_,f,{value:N,writable:!0}),t(_,n,{value:null,writable:!0}),t(_,s,{value:null,writable:!0}),t(_,a,{value:null,writable:!0}),t(_,i,{value:N._readableState.endEmitted,writable:!0}),t(_,c,{value:function(L,R){var H=S[f].read();H?(S[o]=null,S[n]=null,S[s]=null,L(h(H,!1))):(S[n]=L,S[s]=R)},writable:!0}),_));return S[o]=null,r(N,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=S[s];L!==null&&(S[o]=null,S[n]=null,S[s]=null,L(k)),S[a]=k;return}var R=S[n];R!==null&&(S[o]=null,S[n]=null,S[s]=null,R(h(void 0,!0))),S[i]=!0}),N.on("readable",x.bind(null,S)),S};return Aw=w,Aw}var kw,xj;function Ghe(){return xj||(xj=1,kw=function(){throw new Error("Readable.from is not available in the browser")}),kw}var Rw,gj;function uP(){if(gj)return Rw;gj=1,Rw=O;var e;O.ReadableState=H,wS().EventEmitter;var t=function(z,be){return z.listeners(be).length},r=YF(),n=Qg().Buffer,s=mi.Uint8Array||function(){};function a(Q){return n.from(Q)}function i(Q){return n.isBuffer(Q)||Q instanceof s}var o=iP(),c;o&&o.debuglog?c=o.debuglog("stream"):c=function(){};var f=qhe(),h=oP(),m=lP(),x=m.getHighWaterMark,g=Od().codes,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,_,S;Dl()(O,r);var k=h.errorOrDestroy,L=["error","close","destroy","pause","resume"];function R(Q,z,be){if(typeof Q.prependListener=="function")return Q.prependListener(z,be);!Q._events||!Q._events[z]?Q.on(z,be):Array.isArray(Q._events[z])?Q._events[z].unshift(be):Q._events[z]=[be,Q._events[z]]}function H(Q,z,be){e=e||id(),Q=Q||{},typeof be!="boolean"&&(be=z instanceof e),this.objectMode=!!Q.objectMode,be&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=x(this,Q,"readableHighWaterMark",be),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(N||(N=bE().StringDecoder),this.decoder=new N(Q.encoding),this.encoding=Q.encoding)}function O(Q){if(e=e||id(),!(this instanceof O))return new O(Q);var z=this instanceof e;this._readableState=new H(Q,this,z),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),r.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),O.prototype.destroy=h.destroy,O.prototype._undestroy=h.undestroy,O.prototype._destroy=function(Q,z){z(Q)},O.prototype.push=function(Q,z){var be=this._readableState,B;return be.objectMode?B=!0:typeof Q=="string"&&(z=z||be.defaultEncoding,z!==be.encoding&&(Q=n.from(Q,z),z=""),B=!0),Z(this,Q,z,!1,B)},O.prototype.unshift=function(Q){return Z(this,Q,null,!0,!1)};function Z(Q,z,be,B,Ee){c("readableAddChunk",z);var q=Q._readableState;if(z===null)q.reading=!1,J(Q,q);else{var C;if(Ee||(C=P(q,z)),C)k(Q,C);else if(q.objectMode||z&&z.length>0)if(typeof z!="string"&&!q.objectMode&&Object.getPrototypeOf(z)!==n.prototype&&(z=a(z)),B)q.endEmitted?k(Q,new E):ae(Q,q,z,!0);else if(q.ended)k(Q,new y);else{if(q.destroyed)return!1;q.reading=!1,q.decoder&&!be?(z=q.decoder.write(z),q.objectMode||z.length!==0?ae(Q,q,z,!1):oe(Q,q)):ae(Q,q,z,!1)}else B||(q.reading=!1,oe(Q,q))}return!q.ended&&(q.length<q.highWaterMark||q.length===0)}function ae(Q,z,be,B){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,Q.emit("data",be)):(z.length+=z.objectMode?1:be.length,B?z.buffer.unshift(be):z.buffer.push(be),z.needReadable&&ee(Q)),oe(Q,z)}function P(Q,z){var be;return!i(z)&&typeof z!="string"&&z!==void 0&&!Q.objectMode&&(be=new v("chunk",["string","Buffer","Uint8Array"],z)),be}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(Q){N||(N=bE().StringDecoder);var z=new N(Q);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var be=this._readableState.buffer.head,B="";be!==null;)B+=z.write(be.data),be=be.next;return this._readableState.buffer.clear(),B!==""&&this._readableState.buffer.push(B),this._readableState.length=B.length,this};var X=1073741824;function M(Q){return Q>=X?Q=X:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function ie(Q,z){return Q<=0||z.length===0&&z.ended?0:z.objectMode?1:Q!==Q?z.flowing&&z.length?z.buffer.head.data.length:z.length:(Q>z.highWaterMark&&(z.highWaterMark=M(Q)),Q<=z.length?Q:z.ended?z.length:(z.needReadable=!0,0))}O.prototype.read=function(Q){c("read",Q),Q=parseInt(Q,10);var z=this._readableState,be=Q;if(Q!==0&&(z.emittedReadable=!1),Q===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return c("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?F(this):ee(this),null;if(Q=ie(Q,z),Q===0&&z.ended)return z.length===0&&F(this),null;var B=z.needReadable;c("need readable",B),(z.length===0||z.length-Q<z.highWaterMark)&&(B=!0,c("length less than watermark",B)),z.ended||z.reading?(B=!1,c("reading or ended",B)):B&&(c("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(Q=ie(be,z)));var Ee;return Q>0?Ee=I(Q,z):Ee=null,Ee===null?(z.needReadable=z.length<=z.highWaterMark,Q=0):(z.length-=Q,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),be!==Q&&z.ended&&F(this)),Ee!==null&&this.emit("data",Ee),Ee};function J(Q,z){if(c("onEofChunk"),!z.ended){if(z.decoder){var be=z.decoder.end();be&&be.length&&(z.buffer.push(be),z.length+=z.objectMode?1:be.length)}z.ended=!0,z.sync?ee(Q):(z.needReadable=!1,z.emittedReadable||(z.emittedReadable=!0,xe(Q)))}}function ee(Q){var z=Q._readableState;c("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(c("emitReadable",z.flowing),z.emittedReadable=!0,Rt.nextTick(xe,Q))}function xe(Q){var z=Q._readableState;c("emitReadable_",z.destroyed,z.length,z.ended),!z.destroyed&&(z.length||z.ended)&&(Q.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,se(Q)}function oe(Q,z){z.readingMore||(z.readingMore=!0,Rt.nextTick(we,Q,z))}function we(Q,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var be=z.length;if(c("maybeReadMore read 0"),Q.read(0),be===z.length)break}z.readingMore=!1}O.prototype._read=function(Q){k(this,new w("_read()"))},O.prototype.pipe=function(Q,z){var be=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=Q;break;case 1:B.pipes=[B.pipes,Q];break;default:B.pipes.push(Q);break}B.pipesCount+=1,c("pipe count=%d opts=%j",B.pipesCount,z);var Ee=(!z||z.end!==!1)&&Q!==Rt.stdout&&Q!==Rt.stderr,q=Ee?j:We;B.endEmitted?Rt.nextTick(q):be.once("end",q),Q.on("unpipe",C);function C(et,tt){c("onunpipe"),et===be&&tt&&tt.hasUnpiped===!1&&(tt.hasUnpiped=!0,ye())}function j(){c("onend"),Q.end()}var U=G(be);Q.on("drain",U);var ue=!1;function ye(){c("cleanup"),Q.removeListener("close",De),Q.removeListener("finish",Pe),Q.removeListener("drain",U),Q.removeListener("error",ke),Q.removeListener("unpipe",C),be.removeListener("end",j),be.removeListener("end",We),be.removeListener("data",he),ue=!0,B.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&U()}be.on("data",he);function he(et){c("ondata");var tt=Q.write(et);c("dest.write",tt),tt===!1&&((B.pipesCount===1&&B.pipes===Q||B.pipesCount>1&&te(B.pipes,Q)!==-1)&&!ue&&(c("false write response, pause",B.awaitDrain),B.awaitDrain++),be.pause())}function ke(et){c("onerror",et),We(),Q.removeListener("error",ke),t(Q,"error")===0&&k(Q,et)}R(Q,"error",ke);function De(){Q.removeListener("finish",Pe),We()}Q.once("close",De);function Pe(){c("onfinish"),Q.removeListener("close",De),We()}Q.once("finish",Pe);function We(){c("unpipe"),be.unpipe(Q)}return Q.emit("pipe",be),B.flowing||(c("pipe resume"),be.resume()),Q};function G(Q){return function(){var be=Q._readableState;c("pipeOnDrain",be.awaitDrain),be.awaitDrain&&be.awaitDrain--,be.awaitDrain===0&&t(Q,"data")&&(be.flowing=!0,se(Q))}}O.prototype.unpipe=function(Q){var z=this._readableState,be={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return Q&&Q!==z.pipes?this:(Q||(Q=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,Q&&Q.emit("unpipe",this,be),this);if(!Q){var B=z.pipes,Ee=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var q=0;q<Ee;q++)B[q].emit("unpipe",this,{hasUnpiped:!1});return this}var C=te(z.pipes,Q);return C===-1?this:(z.pipes.splice(C,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),Q.emit("unpipe",this,be),this)},O.prototype.on=function(Q,z){var be=r.prototype.on.call(this,Q,z),B=this._readableState;return Q==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):Q==="readable"&&!B.endEmitted&&!B.readableListening&&(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,c("on readable",B.length,B.reading),B.length?ee(this):B.reading||Rt.nextTick(W,this)),be},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(Q,z){var be=r.prototype.removeListener.call(this,Q,z);return Q==="readable"&&Rt.nextTick(D,this),be},O.prototype.removeAllListeners=function(Q){var z=r.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&Rt.nextTick(D,this),z};function D(Q){var z=Q._readableState;z.readableListening=Q.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function W(Q){c("readable nexttick read 0"),Q.read(0)}O.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(c("resume"),Q.flowing=!Q.readableListening,K(this,Q)),Q.paused=!1,this};function K(Q,z){z.resumeScheduled||(z.resumeScheduled=!0,Rt.nextTick(re,Q,z))}function re(Q,z){c("resume",z.reading),z.reading||Q.read(0),z.resumeScheduled=!1,Q.emit("resume"),se(Q),z.flowing&&!z.reading&&Q.read(0)}O.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function se(Q){var z=Q._readableState;for(c("flow",z.flowing);z.flowing&&Q.read()!==null;);}O.prototype.wrap=function(Q){var z=this,be=this._readableState,B=!1;Q.on("end",function(){if(c("wrapped end"),be.decoder&&!be.ended){var C=be.decoder.end();C&&C.length&&z.push(C)}z.push(null)}),Q.on("data",function(C){if(c("wrapped data"),be.decoder&&(C=be.decoder.write(C)),!(be.objectMode&&C==null)&&!(!be.objectMode&&(!C||!C.length))){var j=z.push(C);j||(B=!0,Q.pause())}});for(var Ee in Q)this[Ee]===void 0&&typeof Q[Ee]=="function"&&(this[Ee]=(function(j){return function(){return Q[j].apply(Q,arguments)}})(Ee));for(var q=0;q<L.length;q++)Q.on(L[q],this.emit.bind(this,L[q]));return this._read=function(C){c("wrapped _read",C),B&&(B=!1,Q.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=Whe()),_(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),O._fromList=I,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function I(Q,z){if(z.length===0)return null;var be;return z.objectMode?be=z.buffer.shift():!Q||Q>=z.length?(z.decoder?be=z.buffer.join(""):z.buffer.length===1?be=z.buffer.first():be=z.buffer.concat(z.length),z.buffer.clear()):be=z.buffer.consume(Q,z.decoder),be}function F(Q){var z=Q._readableState;c("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,Rt.nextTick(ne,z,Q))}function ne(Q,z){if(c("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,z.readable=!1,z.emit("end"),Q.autoDestroy)){var be=z._writableState;(!be||be.autoDestroy&&be.finished)&&z.destroy()}}typeof Symbol=="function"&&(O.from=function(Q,z){return S===void 0&&(S=Ghe()),S(O,Q,z)});function te(Q,z){for(var be=0,B=Q.length;be<B;be++)if(Q[be]===z)return be;return-1}return Rw}var jw,yj;function dP(){if(yj)return jw;yj=1,jw=o;var e=Od().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=e.ERR_TRANSFORM_WITH_LENGTH_0,a=id();Dl()(o,a);function i(h,m){var x=this._transformState;x.transforming=!1;var g=x.writecb;if(g===null)return this.emit("error",new r);x.writechunk=null,x.writecb=null,m!=null&&this.push(m),g(h);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function o(h){if(!(this instanceof o))return new o(h);a.call(this,h),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",c)}function c(){var h=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,x){f(h,m,x)}):f(this,null,null)}o.prototype.push=function(h,m){return this._transformState.needTransform=!1,a.prototype.push.call(this,h,m)},o.prototype._transform=function(h,m,x){x(new t("_transform()"))},o.prototype._write=function(h,m,x){var g=this._transformState;if(g.writecb=x,g.writechunk=h,g.writeencoding=m,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},o.prototype._read=function(h){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},o.prototype._destroy=function(h,m){a.prototype._destroy.call(this,h,function(x){m(x)})};function f(h,m,x){if(m)return h.emit("error",m);if(x!=null&&h.push(x),h._writableState.length)throw new s;if(h._transformState.transforming)throw new n;return h.push(null)}return jw}var Ow,vj;function Khe(){if(vj)return Ow;vj=1,Ow=t;var e=dP();Dl()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,s){s(null,r)},Ow}var Dw,bj;function Xhe(){if(bj)return Dw;bj=1;var e;function t(x){var g=!1;return function(){g||(g=!0,x.apply(void 0,arguments))}}var r=Od().codes,n=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(x){if(x)throw x}function i(x){return x.setHeader&&typeof x.abort=="function"}function o(x,g,v,y){y=t(y);var w=!1;x.on("close",function(){w=!0}),e===void 0&&(e=NS()),e(x,{readable:g,writable:v},function(N){if(N)return y(N);w=!0,y()});var E=!1;return function(N){if(!w&&!E){if(E=!0,i(x))return x.abort();if(typeof x.destroy=="function")return x.destroy();y(N||new s("pipe"))}}}function c(x){x()}function f(x,g){return x.pipe(g)}function h(x){return!x.length||typeof x[x.length-1]!="function"?a:x.pop()}function m(){for(var x=arguments.length,g=new Array(x),v=0;v<x;v++)g[v]=arguments[v];var y=h(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new n("streams");var w,E=g.map(function(N,_){var S=_<g.length-1,k=_>0;return o(N,S,k,function(L){w||(w=L),L&&E.forEach(c),!S&&(E.forEach(c),y(w))})});return g.reduce(f)}return Dw=m,Dw}var Iw,wj;function TS(){if(wj)return Iw;wj=1,Iw=r;var e=wS().EventEmitter,t=Dl();t(r,e),r.Readable=uP(),r.Writable=cP(),r.Duplex=id(),r.Transform=dP(),r.PassThrough=Khe(),r.finished=NS(),r.pipeline=Xhe(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,s){var a=this;function i(g){n.writable&&n.write(g)===!1&&a.pause&&a.pause()}a.on("data",i);function o(){a.readable&&a.resume&&a.resume()}n.on("drain",o),!n._isStdio&&(!s||s.end!==!1)&&(a.on("end",f),a.on("close",h));var c=!1;function f(){c||(c=!0,n.end())}function h(){c||(c=!0,typeof n.destroy=="function"&&n.destroy())}function m(g){if(x(),e.listenerCount(this,"error")===0)throw g}a.on("error",m),n.on("error",m);function x(){a.removeListener("data",i),n.removeListener("drain",o),a.removeListener("end",f),a.removeListener("close",h),a.removeListener("error",m),n.removeListener("error",m),a.removeListener("end",x),a.removeListener("close",x),n.removeListener("close",x)}return a.on("end",x),a.on("close",x),n.on("close",x),n.emit("pipe",a),n},Iw}var Ej;function Yhe(){return Ej||(Ej=1,(function(e){(function(t){t.parser=function(I,F){return new n(I,F)},t.SAXParser=n,t.SAXStream=h,t.createStream=f,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(I,F){if(!(this instanceof n))return new n(I,F);var ne=this;a(ne),ne.q=ne.c="",ne.bufferCheckPosition=t.MAX_BUFFER_LENGTH,ne.opt=F||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!I,ne.noscript=!!(I||ne.opt.noscript),ne.state=O.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(y)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),ae(ne,"onready")}Object.create||(Object.create=function(I){function F(){}F.prototype=I;var ne=new F;return ne}),Object.keys||(Object.keys=function(I){var F=[];for(var ne in I)I.hasOwnProperty(ne)&&F.push(ne);return F});function s(I){for(var F=Math.max(t.MAX_BUFFER_LENGTH,10),ne=0,te=0,Q=r.length;te<Q;te++){var z=I[r[te]].length;if(z>F)switch(r[te]){case"textNode":X(I);break;case"cdata":P(I,"oncdata",I.cdata),I.cdata="";break;case"script":P(I,"onscript",I.script),I.script="";break;default:ie(I,"Max buffer length exceeded: "+r[te])}ne=Math.max(ne,z)}var be=t.MAX_BUFFER_LENGTH-ne;I.bufferCheckPosition=be+I.position}function a(I){for(var F=0,ne=r.length;F<ne;F++)I[r[F]]=""}function i(I){X(I),I.cdata!==""&&(P(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(P(I,"onscript",I.script),I.script="")}n.prototype={end:function(){J(this)},write:se,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){i(this)}};var o;try{o=TS().Stream}catch{o=function(){}}var c=t.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function f(I,F){return new h(I,F)}function h(I,F){if(!(this instanceof h))return new h(I,F);o.apply(this),this._parser=new n(I,F),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(te){ne.emit("error",te),ne._parser.error=null},this._decoder=null,c.forEach(function(te){Object.defineProperty(ne,"on"+te,{get:function(){return ne._parser["on"+te]},set:function(Q){if(!Q)return ne.removeAllListeners(te),ne._parser["on"+te]=Q,Q;ne.on(te,Q)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(o.prototype,{constructor:{value:h}}),h.prototype.write=function(I){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(I)){if(!this._decoder){var F=bE().StringDecoder;this._decoder=new F("utf8")}I=this._decoder.write(I)}return this._parser.write(I.toString()),this.emit("data",I),!0},h.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},h.prototype.on=function(I,F){var ne=this;return!ne._parser["on"+I]&&c.indexOf(I)!==-1&&(ne._parser["on"+I]=function(){var te=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);te.splice(0,0,I),ne.emit.apply(ne,te)}),o.prototype.on.call(ne,I,F)};var m="[CDATA[",x="DOCTYPE",g="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",y={xml:g,xmlns:v},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function S(I){return I===" "||I===`
`||I==="\r"||I==="	"}function k(I){return I==='"'||I==="'"}function L(I){return I===">"||S(I)}function R(I,F){return I.test(F)}function H(I,F){return!R(I,F)}var O=0;t.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(I){var F=t.ENTITIES[I],ne=typeof F=="number"?String.fromCharCode(F):F;t.ENTITIES[I]=ne});for(var Z in t.STATE)t.STATE[t.STATE[Z]]=Z;O=t.STATE;function ae(I,F,ne){I[F]&&I[F](ne)}function P(I,F,ne){I.textNode&&X(I),ae(I,F,ne)}function X(I){I.textNode=M(I.opt,I.textNode),I.textNode&&ae(I,"ontext",I.textNode),I.textNode=""}function M(I,F){return I.trim&&(F=F.trim()),I.normalize&&(F=F.replace(/\s+/g," ")),F}function ie(I,F){return X(I),I.trackPosition&&(F+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),F=new Error(F),I.error=F,ae(I,"onerror",F),I}function J(I){return I.sawRoot&&!I.closedRoot&&ee(I,"Unclosed root tag"),I.state!==O.BEGIN&&I.state!==O.BEGIN_WHITESPACE&&I.state!==O.TEXT&&ie(I,"Unexpected end"),X(I),I.c="",I.closed=!0,ae(I,"onend"),n.call(I,I.strict,I.opt),I}function ee(I,F){if(typeof I!="object"||!(I instanceof n))throw new Error("bad call to strictFail");I.strict&&ie(I,F)}function xe(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var F=I.tags[I.tags.length-1]||I,ne=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(ne.ns=F.ns),I.attribList.length=0,P(I,"onopentagstart",ne)}function oe(I,F){var ne=I.indexOf(":"),te=ne<0?["",I]:I.split(":"),Q=te[0],z=te[1];return F&&I==="xmlns"&&(Q="xmlns",z=""),{prefix:Q,local:z}}function we(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var F=oe(I.attribName,!0),ne=F.prefix,te=F.local;if(ne==="xmlns")if(te==="xml"&&I.attribValue!==g)ee(I,"xml: prefix must be bound to "+g+`
Actual: `+I.attribValue);else if(te==="xmlns"&&I.attribValue!==v)ee(I,"xmlns: prefix must be bound to "+v+`
Actual: `+I.attribValue);else{var Q=I.tag,z=I.tags[I.tags.length-1]||I;Q.ns===z.ns&&(Q.ns=Object.create(z.ns)),Q.ns[te]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,P(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function G(I,F){if(I.opt.xmlns){var ne=I.tag,te=oe(I.tagName);ne.prefix=te.prefix,ne.local=te.local,ne.uri=ne.ns[te.prefix]||"",ne.prefix&&!ne.uri&&(ee(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),ne.uri=te.prefix);var Q=I.tags[I.tags.length-1]||I;ne.ns&&Q.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(he){P(I,"onopennamespace",{prefix:he,uri:ne.ns[he]})});for(var z=0,be=I.attribList.length;z<be;z++){var B=I.attribList[z],Ee=B[0],q=B[1],C=oe(Ee,!0),j=C.prefix,U=C.local,ue=j===""?"":ne.ns[j]||"",ye={name:Ee,value:q,prefix:j,local:U,uri:ue};j&&j!=="xmlns"&&!ue&&(ee(I,"Unbound namespace prefix: "+JSON.stringify(j)),ye.uri=j),I.tag.attributes[Ee]=ye,P(I,"onattribute",ye)}I.attribList.length=0}I.tag.isSelfClosing=!!F,I.sawRoot=!0,I.tags.push(I.tag),P(I,"onopentag",I.tag),F||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=O.SCRIPT:I.state=O.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function D(I){if(!I.tagName){ee(I,"Weird empty close tag."),I.textNode+="</>",I.state=O.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=O.SCRIPT;return}P(I,"onscript",I.script),I.script=""}var F=I.tags.length,ne=I.tagName;I.strict||(ne=ne[I.looseCase]());for(var te=ne;F--;){var Q=I.tags[F];if(Q.name!==te)ee(I,"Unexpected close tag");else break}if(F<0){ee(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=O.TEXT;return}I.tagName=ne;for(var z=I.tags.length;z-- >F;){var be=I.tag=I.tags.pop();I.tagName=I.tag.name,P(I,"onclosetag",I.tagName);var B={};for(var Ee in be.ns)B[Ee]=be.ns[Ee];var q=I.tags[I.tags.length-1]||I;I.opt.xmlns&&be.ns!==q.ns&&Object.keys(be.ns).forEach(function(C){var j=be.ns[C];P(I,"onclosenamespace",{prefix:C,uri:j})})}F===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=O.TEXT}function W(I){var F=I.entity,ne=F.toLowerCase(),te,Q="";return I.ENTITIES[F]?I.ENTITIES[F]:I.ENTITIES[ne]?I.ENTITIES[ne]:(F=ne,F.charAt(0)==="#"&&(F.charAt(1)==="x"?(F=F.slice(2),te=parseInt(F,16),Q=te.toString(16)):(F=F.slice(1),te=parseInt(F,10),Q=te.toString(10))),F=F.replace(/^0+/,""),isNaN(te)||Q.toLowerCase()!==F?(ee(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(te))}function K(I,F){F==="<"?(I.state=O.OPEN_WAKA,I.startTagPosition=I.position):S(F)||(ee(I,"Non-whitespace before first tag."),I.textNode=F,I.state=O.TEXT)}function re(I,F){var ne="";return F<I.length&&(ne=I.charAt(F)),ne}function se(I){var F=this;if(this.error)throw this.error;if(F.closed)return ie(F,"Cannot write after close. Assign an onready handler.");if(I===null)return J(F);typeof I=="object"&&(I=I.toString());for(var ne=0,te="";te=re(I,ne++),F.c=te,!!te;)switch(F.trackPosition&&(F.position++,te===`
`?(F.line++,F.column=0):F.column++),F.state){case O.BEGIN:if(F.state=O.BEGIN_WHITESPACE,te==="\uFEFF")continue;K(F,te);continue;case O.BEGIN_WHITESPACE:K(F,te);continue;case O.TEXT:if(F.sawRoot&&!F.closedRoot){for(var Q=ne-1;te&&te!=="<"&&te!=="&";)te=re(I,ne++),te&&F.trackPosition&&(F.position++,te===`
`?(F.line++,F.column=0):F.column++);F.textNode+=I.substring(Q,ne-1)}te==="<"&&!(F.sawRoot&&F.closedRoot&&!F.strict)?(F.state=O.OPEN_WAKA,F.startTagPosition=F.position):(!S(te)&&(!F.sawRoot||F.closedRoot)&&ee(F,"Text data outside of root node."),te==="&"?F.state=O.TEXT_ENTITY:F.textNode+=te);continue;case O.SCRIPT:te==="<"?F.state=O.SCRIPT_ENDING:F.script+=te;continue;case O.SCRIPT_ENDING:te==="/"?F.state=O.CLOSE_TAG:(F.script+="<"+te,F.state=O.SCRIPT);continue;case O.OPEN_WAKA:if(te==="!")F.state=O.SGML_DECL,F.sgmlDecl="";else if(!S(te))if(R(w,te))F.state=O.OPEN_TAG,F.tagName=te;else if(te==="/")F.state=O.CLOSE_TAG,F.tagName="";else if(te==="?")F.state=O.PROC_INST,F.procInstName=F.procInstBody="";else{if(ee(F,"Unencoded <"),F.startTagPosition+1<F.position){var z=F.position-F.startTagPosition;te=new Array(z).join(" ")+te}F.textNode+="<"+te,F.state=O.TEXT}continue;case O.SGML_DECL:(F.sgmlDecl+te).toUpperCase()===m?(P(F,"onopencdata"),F.state=O.CDATA,F.sgmlDecl="",F.cdata=""):F.sgmlDecl+te==="--"?(F.state=O.COMMENT,F.comment="",F.sgmlDecl=""):(F.sgmlDecl+te).toUpperCase()===x?(F.state=O.DOCTYPE,(F.doctype||F.sawRoot)&&ee(F,"Inappropriately located doctype declaration"),F.doctype="",F.sgmlDecl=""):te===">"?(P(F,"onsgmldeclaration",F.sgmlDecl),F.sgmlDecl="",F.state=O.TEXT):(k(te)&&(F.state=O.SGML_DECL_QUOTED),F.sgmlDecl+=te);continue;case O.SGML_DECL_QUOTED:te===F.q&&(F.state=O.SGML_DECL,F.q=""),F.sgmlDecl+=te;continue;case O.DOCTYPE:te===">"?(F.state=O.TEXT,P(F,"ondoctype",F.doctype),F.doctype=!0):(F.doctype+=te,te==="["?F.state=O.DOCTYPE_DTD:k(te)&&(F.state=O.DOCTYPE_QUOTED,F.q=te));continue;case O.DOCTYPE_QUOTED:F.doctype+=te,te===F.q&&(F.q="",F.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:F.doctype+=te,te==="]"?F.state=O.DOCTYPE:k(te)&&(F.state=O.DOCTYPE_DTD_QUOTED,F.q=te);continue;case O.DOCTYPE_DTD_QUOTED:F.doctype+=te,te===F.q&&(F.state=O.DOCTYPE_DTD,F.q="");continue;case O.COMMENT:te==="-"?F.state=O.COMMENT_ENDING:F.comment+=te;continue;case O.COMMENT_ENDING:te==="-"?(F.state=O.COMMENT_ENDED,F.comment=M(F.opt,F.comment),F.comment&&P(F,"oncomment",F.comment),F.comment=""):(F.comment+="-"+te,F.state=O.COMMENT);continue;case O.COMMENT_ENDED:te!==">"?(ee(F,"Malformed comment"),F.comment+="--"+te,F.state=O.COMMENT):F.state=O.TEXT;continue;case O.CDATA:te==="]"?F.state=O.CDATA_ENDING:F.cdata+=te;continue;case O.CDATA_ENDING:te==="]"?F.state=O.CDATA_ENDING_2:(F.cdata+="]"+te,F.state=O.CDATA);continue;case O.CDATA_ENDING_2:te===">"?(F.cdata&&P(F,"oncdata",F.cdata),P(F,"onclosecdata"),F.cdata="",F.state=O.TEXT):te==="]"?F.cdata+="]":(F.cdata+="]]"+te,F.state=O.CDATA);continue;case O.PROC_INST:te==="?"?F.state=O.PROC_INST_ENDING:S(te)?F.state=O.PROC_INST_BODY:F.procInstName+=te;continue;case O.PROC_INST_BODY:if(!F.procInstBody&&S(te))continue;te==="?"?F.state=O.PROC_INST_ENDING:F.procInstBody+=te;continue;case O.PROC_INST_ENDING:te===">"?(P(F,"onprocessinginstruction",{name:F.procInstName,body:F.procInstBody}),F.procInstName=F.procInstBody="",F.state=O.TEXT):(F.procInstBody+="?"+te,F.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:R(E,te)?F.tagName+=te:(xe(F),te===">"?G(F):te==="/"?F.state=O.OPEN_TAG_SLASH:(S(te)||ee(F,"Invalid character in tag name"),F.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:te===">"?(G(F,!0),D(F)):(ee(F,"Forward-slash in opening tag not followed by >"),F.state=O.ATTRIB);continue;case O.ATTRIB:if(S(te))continue;te===">"?G(F):te==="/"?F.state=O.OPEN_TAG_SLASH:R(w,te)?(F.attribName=te,F.attribValue="",F.state=O.ATTRIB_NAME):ee(F,"Invalid attribute name");continue;case O.ATTRIB_NAME:te==="="?F.state=O.ATTRIB_VALUE:te===">"?(ee(F,"Attribute without value"),F.attribValue=F.attribName,we(F),G(F)):S(te)?F.state=O.ATTRIB_NAME_SAW_WHITE:R(E,te)?F.attribName+=te:ee(F,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if(te==="=")F.state=O.ATTRIB_VALUE;else{if(S(te))continue;ee(F,"Attribute without value"),F.tag.attributes[F.attribName]="",F.attribValue="",P(F,"onattribute",{name:F.attribName,value:""}),F.attribName="",te===">"?G(F):R(w,te)?(F.attribName=te,F.state=O.ATTRIB_NAME):(ee(F,"Invalid attribute name"),F.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(S(te))continue;k(te)?(F.q=te,F.state=O.ATTRIB_VALUE_QUOTED):(ee(F,"Unquoted attribute value"),F.state=O.ATTRIB_VALUE_UNQUOTED,F.attribValue=te);continue;case O.ATTRIB_VALUE_QUOTED:if(te!==F.q){te==="&"?F.state=O.ATTRIB_VALUE_ENTITY_Q:F.attribValue+=te;continue}we(F),F.q="",F.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:S(te)?F.state=O.ATTRIB:te===">"?G(F):te==="/"?F.state=O.OPEN_TAG_SLASH:R(w,te)?(ee(F,"No whitespace between attributes"),F.attribName=te,F.attribValue="",F.state=O.ATTRIB_NAME):ee(F,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!L(te)){te==="&"?F.state=O.ATTRIB_VALUE_ENTITY_U:F.attribValue+=te;continue}we(F),te===">"?G(F):F.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(F.tagName)te===">"?D(F):R(E,te)?F.tagName+=te:F.script?(F.script+="</"+F.tagName,F.tagName="",F.state=O.SCRIPT):(S(te)||ee(F,"Invalid tagname in closing tag"),F.state=O.CLOSE_TAG_SAW_WHITE);else{if(S(te))continue;H(w,te)?F.script?(F.script+="</"+te,F.state=O.SCRIPT):ee(F,"Invalid tagname in closing tag."):F.tagName=te}continue;case O.CLOSE_TAG_SAW_WHITE:if(S(te))continue;te===">"?D(F):ee(F,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var be,B;switch(F.state){case O.TEXT_ENTITY:be=O.TEXT,B="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:be=O.ATTRIB_VALUE_QUOTED,B="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:be=O.ATTRIB_VALUE_UNQUOTED,B="attribValue";break}te===";"?(F[B]+=W(F),F.entity="",F.state=be):R(F.entity.length?_:N,te)?F.entity+=te:(ee(F,"Invalid character in entity name"),F[B]+="&"+F.entity+te,F.entity="",F.state=be);continue;default:throw new Error(F,"Unknown state: "+F.state)}return F.position>=F.bufferCheckPosition&&s(F),F}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var I=String.fromCharCode,F=Math.floor,ne=function(){var te=16384,Q=[],z,be,B=-1,Ee=arguments.length;if(!Ee)return"";for(var q="";++B<Ee;){var C=Number(arguments[B]);if(!isFinite(C)||C<0||C>1114111||F(C)!==C)throw RangeError("Invalid code point: "+C);C<=65535?Q.push(C):(C-=65536,z=(C>>10)+55296,be=C%1024+56320,Q.push(z,be)),(B+1===Ee||Q.length>te)&&(q+=I.apply(null,Q),Q.length=0)}return q};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne})()})(e)})(vb)),vb}var Mw,_j;function CS(){return _j||(_j=1,Mw={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}),Mw}var Fw,Sj;function AS(){if(Sj)return Fw;Sj=1;var e=CS().isArray;return Fw={copyOptions:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!e(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},Fw}var Pw,Nj;function fP(){if(Nj)return Pw;Nj=1;var e=Yhe(),t=AS(),r=CS().isArray,n,s;function a(E){return n=t.copyOptions(E),t.ensureFlagExists("ignoreDeclaration",n),t.ensureFlagExists("ignoreInstruction",n),t.ensureFlagExists("ignoreAttributes",n),t.ensureFlagExists("ignoreText",n),t.ensureFlagExists("ignoreComment",n),t.ensureFlagExists("ignoreCdata",n),t.ensureFlagExists("ignoreDoctype",n),t.ensureFlagExists("compact",n),t.ensureFlagExists("alwaysChildren",n),t.ensureFlagExists("addParent",n),t.ensureFlagExists("trim",n),t.ensureFlagExists("nativeType",n),t.ensureFlagExists("nativeTypeAttributes",n),t.ensureFlagExists("sanitize",n),t.ensureFlagExists("instructionHasAttributes",n),t.ensureFlagExists("captureSpacesBetweenElements",n),t.ensureAlwaysArrayExists(n),t.ensureKeyExists("declaration",n),t.ensureKeyExists("instruction",n),t.ensureKeyExists("attributes",n),t.ensureKeyExists("text",n),t.ensureKeyExists("comment",n),t.ensureKeyExists("cdata",n),t.ensureKeyExists("doctype",n),t.ensureKeyExists("type",n),t.ensureKeyExists("name",n),t.ensureKeyExists("elements",n),t.ensureKeyExists("parent",n),t.checkFnExists("doctype",n),t.checkFnExists("instruction",n),t.checkFnExists("cdata",n),t.checkFnExists("comment",n),t.checkFnExists("text",n),t.checkFnExists("instructionName",n),t.checkFnExists("elementName",n),t.checkFnExists("attributeName",n),t.checkFnExists("attributeValue",n),t.checkFnExists("attributes",n),n}function i(E){var N=Number(E);if(!isNaN(N))return N;var _=E.toLowerCase();return _==="true"?!0:_==="false"?!1:E}function o(E,N){var _;if(n.compact){if(!s[n[E+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[E+"Key"])!==-1:n.alwaysArray)&&(s[n[E+"Key"]]=[]),s[n[E+"Key"]]&&!r(s[n[E+"Key"]])&&(s[n[E+"Key"]]=[s[n[E+"Key"]]]),E+"Fn"in n&&typeof N=="string"&&(N=n[E+"Fn"](N,s)),E==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(_ in N)if(N.hasOwnProperty(_))if("instructionFn"in n)N[_]=n.instructionFn(N[_],_,s);else{var S=N[_];delete N[_],N[n.instructionNameFn(_,S,s)]=S}}r(s[n[E+"Key"]])?s[n[E+"Key"]].push(N):s[n[E+"Key"]]=N}else{s[n.elementsKey]||(s[n.elementsKey]=[]);var k={};if(k[n.typeKey]=E,E==="instruction"){for(_ in N)if(N.hasOwnProperty(_))break;k[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(_,N,s):_,n.instructionHasAttributes?(k[n.attributesKey]=N[_][n.attributesKey],"instructionFn"in n&&(k[n.attributesKey]=n.instructionFn(k[n.attributesKey],_,s))):("instructionFn"in n&&(N[_]=n.instructionFn(N[_],_,s)),k[n.instructionKey]=N[_])}else E+"Fn"in n&&(N=n[E+"Fn"](N,s)),k[n[E+"Key"]]=N;n.addParent&&(k[n.parentKey]=s),s[n.elementsKey].push(k)}}function c(E){if("attributesFn"in n&&E&&(E=n.attributesFn(E,s)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&E){var N;for(N in E)if(E.hasOwnProperty(N)&&(n.trim&&(E[N]=E[N].trim()),n.nativeTypeAttributes&&(E[N]=i(E[N])),"attributeValueFn"in n&&(E[N]=n.attributeValueFn(E[N],N,s)),"attributeNameFn"in n)){var _=E[N];delete E[N],E[n.attributeNameFn(N,E[N],s)]=_}}return E}function f(E){var N={};if(E.body&&(E.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var _=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,S;(S=_.exec(E.body))!==null;)N[S[1]]=S[2]||S[3]||S[4];N=c(N)}if(E.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;s[n.declarationKey]={},Object.keys(N).length&&(s[n.declarationKey][n.attributesKey]=N),n.addParent&&(s[n.declarationKey][n.parentKey]=s)}else{if(n.ignoreInstruction)return;n.trim&&(E.body=E.body.trim());var k={};n.instructionHasAttributes&&Object.keys(N).length?(k[E.name]={},k[E.name][n.attributesKey]=N):k[E.name]=E.body,o("instruction",k)}}function h(E,N){var _;if(typeof E=="object"&&(N=E.attributes,E=E.name),N=c(N),"elementNameFn"in n&&(E=n.elementNameFn(E,s)),n.compact){if(_={},!n.ignoreAttributes&&N&&Object.keys(N).length){_[n.attributesKey]={};var S;for(S in N)N.hasOwnProperty(S)&&(_[n.attributesKey][S]=N[S])}!(E in s)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(E)!==-1:n.alwaysArray)&&(s[E]=[]),s[E]&&!r(s[E])&&(s[E]=[s[E]]),r(s[E])?s[E].push(_):s[E]=_}else s[n.elementsKey]||(s[n.elementsKey]=[]),_={},_[n.typeKey]="element",_[n.nameKey]=E,!n.ignoreAttributes&&N&&Object.keys(N).length&&(_[n.attributesKey]=N),n.alwaysChildren&&(_[n.elementsKey]=[]),s[n.elementsKey].push(_);_[n.parentKey]=s,s=_}function m(E){n.ignoreText||!E.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(E=E.trim()),n.nativeType&&(E=i(E)),n.sanitize&&(E=E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",E))}function x(E){n.ignoreComment||(n.trim&&(E=E.trim()),o("comment",E))}function g(E){var N=s[n.parentKey];n.addParent||delete s[n.parentKey],s=N}function v(E){n.ignoreCdata||(n.trim&&(E=E.trim()),o("cdata",E))}function y(E){n.ignoreDoctype||(E=E.replace(/^ /,""),n.trim&&(E=E.trim()),o("doctype",E))}function w(E){E.note=E}return Pw=function(E,N){var _=e.parser(!0,{}),S={};if(s=S,n=a(N),_.opt={strictEntities:!0},_.onopentag=h,_.ontext=m,_.oncomment=x,_.onclosetag=g,_.onerror=w,_.oncdata=v,_.ondoctype=y,_.onprocessinginstruction=f,_.write(E).close(),S[n.elementsKey]){var k=S[n.elementsKey];delete S[n.elementsKey],S[n.elementsKey]=k,delete S.text}return S},Pw}var Lw,Tj;function Jhe(){if(Tj)return Lw;Tj=1;var e=AS(),t=fP();function r(n){var s=e.copyOptions(n);return e.ensureSpacesExists(s),s}return Lw=function(n,s){var a,i,o,c;return a=r(s),i=t(n,a),c="compact"in a&&a.compact?"_parent":"parent","addParent"in a&&a.addParent?o=JSON.stringify(i,function(f,h){return f===c?"_":h},a.spaces):o=JSON.stringify(i,null,a.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Lw}var Bw,Cj;function hP(){if(Cj)return Bw;Cj=1;var e=AS(),t=CS().isArray,r,n;function s(_){var S=e.copyOptions(_);return e.ensureFlagExists("ignoreDeclaration",S),e.ensureFlagExists("ignoreInstruction",S),e.ensureFlagExists("ignoreAttributes",S),e.ensureFlagExists("ignoreText",S),e.ensureFlagExists("ignoreComment",S),e.ensureFlagExists("ignoreCdata",S),e.ensureFlagExists("ignoreDoctype",S),e.ensureFlagExists("compact",S),e.ensureFlagExists("indentText",S),e.ensureFlagExists("indentCdata",S),e.ensureFlagExists("indentAttributes",S),e.ensureFlagExists("indentInstruction",S),e.ensureFlagExists("fullTagEmptyElement",S),e.ensureFlagExists("noQuotesForNativeAttributes",S),e.ensureSpacesExists(S),typeof S.spaces=="number"&&(S.spaces=Array(S.spaces+1).join(" ")),e.ensureKeyExists("declaration",S),e.ensureKeyExists("instruction",S),e.ensureKeyExists("attributes",S),e.ensureKeyExists("text",S),e.ensureKeyExists("comment",S),e.ensureKeyExists("cdata",S),e.ensureKeyExists("doctype",S),e.ensureKeyExists("type",S),e.ensureKeyExists("name",S),e.ensureKeyExists("elements",S),e.checkFnExists("doctype",S),e.checkFnExists("instruction",S),e.checkFnExists("cdata",S),e.checkFnExists("comment",S),e.checkFnExists("text",S),e.checkFnExists("instructionName",S),e.checkFnExists("elementName",S),e.checkFnExists("attributeName",S),e.checkFnExists("attributeValue",S),e.checkFnExists("attributes",S),e.checkFnExists("fullTagEmptyElement",S),S}function a(_,S,k){return(!k&&_.spaces?`
`:"")+Array(S+1).join(_.spaces)}function i(_,S,k){if(S.ignoreAttributes)return"";"attributesFn"in S&&(_=S.attributesFn(_,n,r));var L,R,H,O,Z=[];for(L in _)_.hasOwnProperty(L)&&_[L]!==null&&_[L]!==void 0&&(O=S.noQuotesForNativeAttributes&&typeof _[L]!="string"?"":'"',R=""+_[L],R=R.replace(/"/g,"&quot;"),H="attributeNameFn"in S?S.attributeNameFn(L,R,n,r):L,Z.push(S.spaces&&S.indentAttributes?a(S,k+1,!1):" "),Z.push(H+"="+O+("attributeValueFn"in S?S.attributeValueFn(R,L,n,r):R)+O));return _&&Object.keys(_).length&&S.spaces&&S.indentAttributes&&Z.push(a(S,k,!1)),Z.join("")}function o(_,S,k){return r=_,n="xml",S.ignoreDeclaration?"":"<?xml"+i(_[S.attributesKey],S,k)+"?>"}function c(_,S,k){if(S.ignoreInstruction)return"";var L;for(L in _)if(_.hasOwnProperty(L))break;var R="instructionNameFn"in S?S.instructionNameFn(L,_[L],n,r):L;if(typeof _[L]=="object")return r=_,n=R,"<?"+R+i(_[L][S.attributesKey],S,k)+"?>";var H=_[L]?_[L]:"";return"instructionFn"in S&&(H=S.instructionFn(H,L,n,r)),"<?"+R+(H?" "+H:"")+"?>"}function f(_,S){return S.ignoreComment?"":"<!--"+("commentFn"in S?S.commentFn(_,n,r):_)+"-->"}function h(_,S){return S.ignoreCdata?"":"<![CDATA["+("cdataFn"in S?S.cdataFn(_,n,r):_.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function m(_,S){return S.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in S?S.doctypeFn(_,n,r):_)+">"}function x(_,S){return S.ignoreText?"":(_=""+_,_=_.replace(/&amp;/g,"&"),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in S?S.textFn(_,n,r):_)}function g(_,S){var k;if(_.elements&&_.elements.length)for(k=0;k<_.elements.length;++k)switch(_.elements[k][S.typeKey]){case"text":if(S.indentText)return!0;break;case"cdata":if(S.indentCdata)return!0;break;case"instruction":if(S.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function v(_,S,k){r=_,n=_.name;var L=[],R="elementNameFn"in S?S.elementNameFn(_.name,_):_.name;L.push("<"+R),_[S.attributesKey]&&L.push(i(_[S.attributesKey],S,k));var H=_[S.elementsKey]&&_[S.elementsKey].length||_[S.attributesKey]&&_[S.attributesKey]["xml:space"]==="preserve";return H||("fullTagEmptyElementFn"in S?H=S.fullTagEmptyElementFn(_.name,_):H=S.fullTagEmptyElement),H?(L.push(">"),_[S.elementsKey]&&_[S.elementsKey].length&&(L.push(y(_[S.elementsKey],S,k+1)),r=_,n=_.name),L.push(S.spaces&&g(_,S)?`
`+Array(k+1).join(S.spaces):""),L.push("</"+R+">")):L.push("/>"),L.join("")}function y(_,S,k,L){return _.reduce(function(R,H){var O=a(S,k,L&&!R);switch(H.type){case"element":return R+O+v(H,S,k);case"comment":return R+O+f(H[S.commentKey],S);case"doctype":return R+O+m(H[S.doctypeKey],S);case"cdata":return R+(S.indentCdata?O:"")+h(H[S.cdataKey],S);case"text":return R+(S.indentText?O:"")+x(H[S.textKey],S);case"instruction":var Z={};return Z[H[S.nameKey]]=H[S.attributesKey]?H:H[S.instructionKey],R+(S.indentInstruction?O:"")+c(Z,S,k)}},"")}function w(_,S,k){var L;for(L in _)if(_.hasOwnProperty(L))switch(L){case S.parentKey:case S.attributesKey:break;case S.textKey:if(S.indentText||k)return!0;break;case S.cdataKey:if(S.indentCdata||k)return!0;break;case S.instructionKey:if(S.indentInstruction||k)return!0;break;case S.doctypeKey:case S.commentKey:return!0;default:return!0}return!1}function E(_,S,k,L,R){r=_,n=S;var H="elementNameFn"in k?k.elementNameFn(S,_):S;if(typeof _>"u"||_===null||_==="")return"fullTagEmptyElementFn"in k&&k.fullTagEmptyElementFn(S,_)||k.fullTagEmptyElement?"<"+H+"></"+H+">":"<"+H+"/>";var O=[];if(S){if(O.push("<"+H),typeof _!="object")return O.push(">"+x(_,k)+"</"+H+">"),O.join("");_[k.attributesKey]&&O.push(i(_[k.attributesKey],k,L));var Z=w(_,k,!0)||_[k.attributesKey]&&_[k.attributesKey]["xml:space"]==="preserve";if(Z||("fullTagEmptyElementFn"in k?Z=k.fullTagEmptyElementFn(S,_):Z=k.fullTagEmptyElement),Z)O.push(">");else return O.push("/>"),O.join("")}return O.push(N(_,k,L+1,!1)),r=_,n=S,S&&O.push((R?a(k,L,!1):"")+"</"+H+">"),O.join("")}function N(_,S,k,L){var R,H,O,Z=[];for(H in _)if(_.hasOwnProperty(H))for(O=t(_[H])?_[H]:[_[H]],R=0;R<O.length;++R){switch(H){case S.declarationKey:Z.push(o(O[R],S,k));break;case S.instructionKey:Z.push((S.indentInstruction?a(S,k,L):"")+c(O[R],S,k));break;case S.attributesKey:case S.parentKey:break;case S.textKey:Z.push((S.indentText?a(S,k,L):"")+x(O[R],S));break;case S.cdataKey:Z.push((S.indentCdata?a(S,k,L):"")+h(O[R],S));break;case S.doctypeKey:Z.push(a(S,k,L)+m(O[R],S));break;case S.commentKey:Z.push(a(S,k,L)+f(O[R],S));break;default:Z.push(a(S,k,L)+E(O[R],H,S,k,w(O[R],S)))}L=L&&!Z.length}return Z.join("")}return Bw=function(_,S){S=s(S);var k=[];return r=_,n="_root_",S.compact?k.push(N(_,S,0,!0)):(_[S.declarationKey]&&k.push(o(_[S.declarationKey],S,0)),_[S.elementsKey]&&_[S.elementsKey].length&&k.push(y(_[S.elementsKey],S,0,!k.length))),k.join("")},Bw}var Uw,Aj;function Zhe(){if(Aj)return Uw;Aj=1;var e=hP();return Uw=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return e(n,r)},Uw}var zw,kj;function Qhe(){if(kj)return zw;kj=1;var e=fP(),t=Jhe(),r=hP(),n=Zhe();return zw={xml2js:e,xml2json:t,js2xml:r,json2xml:n},zw}var pP=Qhe();const kS=e=>{switch(e.type){case void 0:case"element":const t=new t0e(e.name,e.attributes),r=e.elements||[];for(const n of r){const s=kS(n);s!==void 0&&t.push(s)}return t;case"text":return e.text;default:return}};class e0e extends it{}class t0e extends Le{static fromXmlString(t){const r=pP.xml2js(t,{compact:!1});return kS(r)}constructor(t,r){super(t),r&&this.root.push(new e0e(r))}push(t){this.root.push(t)}}class r0e extends Le{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class mP extends Le{constructor(t,r){super(t),r&&(this.root=r.root)}}const ks=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},t1=e=>{const t=ks(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},xP=(e,t)=>{const r=t*2;if(e.length!==r||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},Rj=e=>xP(e,1),gP=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},yP=e=>{const t=gP(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},od=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return xP(t,3)},fc=e=>typeof e=="string"?gP(e):ks(e),n0e=e=>typeof e=="string"?yP(e):t1(e),Ua=e=>typeof e=="string"?yP(e):t1(e),s0e=t1,a0e=t1,i0e=e=>e.toISOString();class Ve extends Le{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new Ur({val:r}))}}class Hw extends Le{constructor(t,r){super(t),this.root.push(new Ur({val:n0e(r)}))}}class $u extends Le{constructor(t,r){super(t),this.root.push(new Ur({val:r}))}}const Mf=(e,t)=>new Yt({name:e,attributes:{value:{key:"w:val",value:t}}});class wh extends Le{constructor(t,r){super(t),this.root.push(new Ur({val:r}))}}class Ql extends Le{constructor(t,r){super(t),this.root.push(r)}}class Yt extends Le{constructor({name:t,attributes:r,children:n}){super(t),r&&this.root.push(new N0(r)),n&&this.root.push(...n)}}const xa={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class o0e extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class l0e extends Le{constructor(t){super("w:jc"),this.root.push(new o0e({val:t}))}}class Ar extends Le{constructor(t,{color:r,size:n,space:s,style:a}){super(t),this.root.push(new c0e({style:a,color:r===void 0?void 0:od(r),size:n===void 0?void 0:s0e(n),space:s===void 0?void 0:a0e(s)}))}}class c0e extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const RS={SINGLE:"single",NONE:"none"};class u0e extends Zg{constructor(t){super("w:pBdr"),t.top&&this.root.push(new Ar("w:top",t.top)),t.bottom&&this.root.push(new Ar("w:bottom",t.bottom)),t.left&&this.root.push(new Ar("w:left",t.left)),t.right&&this.root.push(new Ar("w:right",t.right))}}class d0e extends Le{constructor(){super("w:pBdr");const t=new Ar("w:bottom",{color:"auto",space:1,style:RS.SINGLE,size:6});this.root.push(t)}}class f0e extends Le{constructor({start:t,end:r,left:n,right:s,hanging:a,firstLine:i}){super("w:ind"),this.root.push(new N0({start:{key:"w:start",value:t===void 0?void 0:fc(t)},end:{key:"w:end",value:r===void 0?void 0:fc(r)},left:{key:"w:left",value:n===void 0?void 0:fc(n)},right:{key:"w:right",value:s===void 0?void 0:fc(s)},hanging:{key:"w:hanging",value:a===void 0?void 0:Ua(a)},firstLine:{key:"w:firstLine",value:i===void 0?void 0:Ua(i)}}))}}let h0e=class extends Le{constructor(){super("w:br")}};const jS={BEGIN:"begin",END:"end",SEPARATE:"separate"};class OS extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Sm extends Le{constructor(t){super("w:fldChar"),this.root.push(new OS({type:jS.BEGIN,dirty:t}))}}class Nm extends Le{constructor(t){super("w:fldChar"),this.root.push(new OS({type:jS.SEPARATE,dirty:t}))}}class Tm extends Le{constructor(t){super("w:fldChar"),this.root.push(new OS({type:jS.END,dirty:t}))}}const ld={DEFAULT:"default",PRESERVE:"preserve"};class cd extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{space:"xml:space"})}}class p0e extends Le{constructor(){super("w:instrText"),this.root.push(new cd({space:ld.PRESERVE})),this.root.push("PAGE")}}class m0e extends Le{constructor(){super("w:instrText"),this.root.push(new cd({space:ld.PRESERVE})),this.root.push("NUMPAGES")}}class x0e extends Le{constructor(){super("w:instrText"),this.root.push(new cd({space:ld.PRESERVE})),this.root.push("SECTIONPAGES")}}class g0e extends Le{constructor(){super("w:instrText"),this.root.push(new cd({space:ld.PRESERVE})),this.root.push("SECTION")}}class y0e extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class vP extends Le{constructor({fill:t,color:r,type:n}){super("w:shd"),this.root.push(new y0e({fill:t===void 0?void 0:od(t),color:r===void 0?void 0:od(r),type:n}))}}class v0e extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const b0e={DOT:"dot"};class w0e extends Le{constructor(t){super("w:em"),this.root.push(new Ur({val:t}))}}class E0e extends w0e{constructor(t=b0e.DOT){super(t)}}class _0e extends Le{constructor(t){super("w:spacing"),this.root.push(new Ur({val:fc(t)}))}}class S0e extends Le{constructor(t){super("w:color"),this.root.push(new Ur({val:od(t)}))}}class N0e extends Le{constructor(t){super("w:highlight"),this.root.push(new Ur({val:t}))}}class T0e extends Le{constructor(t){super("w:highlightCs"),this.root.push(new Ur({val:t}))}}const C0e=e=>new Yt({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class jj extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class qw extends Le{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const n=t;this.root.push(new jj({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=t;this.root.push(new jj(n))}}}let bP=class extends Le{constructor(t){super("w:vertAlign"),this.root.push(new Ur({val:t}))}};class A0e extends bP{constructor(){super("superscript")}}class k0e extends bP{constructor(){super("subscript")}}const wP={SINGLE:"single"};class R0e extends Le{constructor(t=wP.SINGLE,r){super("w:u"),this.root.push(new Ur({val:t,color:r===void 0?void 0:od(r)}))}}class Wc extends Zg{constructor(t){var r,n;if(super("w:rPr"),!t)return;t.style&&this.push(new $u("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new qw(t.font)):"name"in t.font?this.push(new qw(t.font.name,t.font.hint)):this.push(new qw(t.font))),t.bold!==void 0&&this.push(new Ve("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new Ve("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new Ve("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new Ve("w:iCs",(n=t.italicsComplexScript)!=null?n:t.italics)),t.smallCaps!==void 0?this.push(new Ve("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new Ve("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new Ve("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new Ve("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new Ve("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new Ve("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new Ve("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new Ve("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new Ve("w:vanish",t.vanish)),t.color&&this.push(new S0e(t.color)),t.characterSpacing&&this.push(new _0e(t.characterSpacing)),t.scale!==void 0&&this.push(new wh("w:w",t.scale)),t.kern&&this.push(new Hw("w:kern",t.kern)),t.position&&this.push(new $u("w:position",t.position)),t.size!==void 0&&this.push(new Hw("w:sz",t.size));const s=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;s&&this.push(new Hw("w:szCs",s)),t.highlight&&this.push(new N0e(t.highlight));const a=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;a&&this.push(new T0e(a)),t.underline&&this.push(new R0e(t.underline.type,t.underline.color)),t.effect&&this.push(new $u("w:effect",t.effect)),t.border&&this.push(new Ar("w:bdr",t.border)),t.shading&&this.push(new vP(t.shading)),t.subScript&&this.push(new k0e),t.superScript&&this.push(new A0e),t.rightToLeft!==void 0&&this.push(new Ve("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new E0e(t.emphasisMark.type)),t.language&&this.push(C0e(t.language)),t.specVanish&&this.push(new Ve("w:specVanish",t.vanish)),t.math&&this.push(new Ve("w:oMath",t.math)),t.revision&&this.push(new j0e(t.revision))}push(t){this.root.push(t)}}class j0e extends Le{constructor(t){super("w:rPrChange"),this.root.push(new v0e({id:t.id,author:t.author,date:t.date})),this.addChildElement(new Wc(t))}}class Oj extends Le{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new cd({space:ld.PRESERVE})),this.root.push(t)):(this.root.push(new cd({space:(r=t.space)!=null?r:ld.DEFAULT})),this.root.push(t.text))}}const Cm={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class k0 extends Le{constructor(t){if(super("w:r"),Fe(this,"properties"),this.properties=new Wc(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new h0e);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case Cm.CURRENT:this.root.push(new Sm),this.root.push(new p0e),this.root.push(new Nm),this.root.push(new Tm);break;case Cm.TOTAL_PAGES:this.root.push(new Sm),this.root.push(new m0e),this.root.push(new Nm),this.root.push(new Tm);break;case Cm.TOTAL_PAGES_IN_SECTION:this.root.push(new Sm),this.root.push(new x0e),this.root.push(new Nm),this.root.push(new Tm);break;case Cm.CURRENT_SECTION:this.root.push(new Sm),this.root.push(new g0e),this.root.push(new Nm),this.root.push(new Tm);break;default:this.root.push(new Oj(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new Oj(t.text))}}class sc extends k0{constructor(t){super(typeof t=="string"?{text:t}:t)}}var Vw={},rr={},$w,Dj;function R0(){if(Dj)return $w;Dj=1,$w=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,s){if(r!=n)throw new Error(s||"Assertion failed: "+r+" != "+n)},$w}var Ij;function Ni(){if(Ij)return rr;Ij=1;var e=R0(),t=Dl();rr.inherits=t;function r(P,X){return(P.charCodeAt(X)&64512)!==55296||X<0||X+1>=P.length?!1:(P.charCodeAt(X+1)&64512)===56320}function n(P,X){if(Array.isArray(P))return P.slice();if(!P)return[];var M=[];if(typeof P=="string")if(X){if(X==="hex")for(P=P.replace(/[^a-z0-9]+/ig,""),P.length%2!==0&&(P="0"+P),J=0;J<P.length;J+=2)M.push(parseInt(P[J]+P[J+1],16))}else for(var ie=0,J=0;J<P.length;J++){var ee=P.charCodeAt(J);ee<128?M[ie++]=ee:ee<2048?(M[ie++]=ee>>6|192,M[ie++]=ee&63|128):r(P,J)?(ee=65536+((ee&1023)<<10)+(P.charCodeAt(++J)&1023),M[ie++]=ee>>18|240,M[ie++]=ee>>12&63|128,M[ie++]=ee>>6&63|128,M[ie++]=ee&63|128):(M[ie++]=ee>>12|224,M[ie++]=ee>>6&63|128,M[ie++]=ee&63|128)}else for(J=0;J<P.length;J++)M[J]=P[J]|0;return M}rr.toArray=n;function s(P){for(var X="",M=0;M<P.length;M++)X+=o(P[M].toString(16));return X}rr.toHex=s;function a(P){var X=P>>>24|P>>>8&65280|P<<8&16711680|(P&255)<<24;return X>>>0}rr.htonl=a;function i(P,X){for(var M="",ie=0;ie<P.length;ie++){var J=P[ie];X==="little"&&(J=a(J)),M+=c(J.toString(16))}return M}rr.toHex32=i;function o(P){return P.length===1?"0"+P:P}rr.zero2=o;function c(P){return P.length===7?"0"+P:P.length===6?"00"+P:P.length===5?"000"+P:P.length===4?"0000"+P:P.length===3?"00000"+P:P.length===2?"000000"+P:P.length===1?"0000000"+P:P}rr.zero8=c;function f(P,X,M,ie){var J=M-X;e(J%4===0);for(var ee=new Array(J/4),xe=0,oe=X;xe<ee.length;xe++,oe+=4){var we;ie==="big"?we=P[oe]<<24|P[oe+1]<<16|P[oe+2]<<8|P[oe+3]:we=P[oe+3]<<24|P[oe+2]<<16|P[oe+1]<<8|P[oe],ee[xe]=we>>>0}return ee}rr.join32=f;function h(P,X){for(var M=new Array(P.length*4),ie=0,J=0;ie<P.length;ie++,J+=4){var ee=P[ie];X==="big"?(M[J]=ee>>>24,M[J+1]=ee>>>16&255,M[J+2]=ee>>>8&255,M[J+3]=ee&255):(M[J+3]=ee>>>24,M[J+2]=ee>>>16&255,M[J+1]=ee>>>8&255,M[J]=ee&255)}return M}rr.split32=h;function m(P,X){return P>>>X|P<<32-X}rr.rotr32=m;function x(P,X){return P<<X|P>>>32-X}rr.rotl32=x;function g(P,X){return P+X>>>0}rr.sum32=g;function v(P,X,M){return P+X+M>>>0}rr.sum32_3=v;function y(P,X,M,ie){return P+X+M+ie>>>0}rr.sum32_4=y;function w(P,X,M,ie,J){return P+X+M+ie+J>>>0}rr.sum32_5=w;function E(P,X,M,ie){var J=P[X],ee=P[X+1],xe=ie+ee>>>0,oe=(xe<ie?1:0)+M+J;P[X]=oe>>>0,P[X+1]=xe}rr.sum64=E;function N(P,X,M,ie){var J=X+ie>>>0,ee=(J<X?1:0)+P+M;return ee>>>0}rr.sum64_hi=N;function _(P,X,M,ie){var J=X+ie;return J>>>0}rr.sum64_lo=_;function S(P,X,M,ie,J,ee,xe,oe){var we=0,G=X;G=G+ie>>>0,we+=G<X?1:0,G=G+ee>>>0,we+=G<ee?1:0,G=G+oe>>>0,we+=G<oe?1:0;var D=P+M+J+xe+we;return D>>>0}rr.sum64_4_hi=S;function k(P,X,M,ie,J,ee,xe,oe){var we=X+ie+ee+oe;return we>>>0}rr.sum64_4_lo=k;function L(P,X,M,ie,J,ee,xe,oe,we,G){var D=0,W=X;W=W+ie>>>0,D+=W<X?1:0,W=W+ee>>>0,D+=W<ee?1:0,W=W+oe>>>0,D+=W<oe?1:0,W=W+G>>>0,D+=W<G?1:0;var K=P+M+J+xe+we+D;return K>>>0}rr.sum64_5_hi=L;function R(P,X,M,ie,J,ee,xe,oe,we,G){var D=X+ie+ee+oe+G;return D>>>0}rr.sum64_5_lo=R;function H(P,X,M){var ie=X<<32-M|P>>>M;return ie>>>0}rr.rotr64_hi=H;function O(P,X,M){var ie=P<<32-M|X>>>M;return ie>>>0}rr.rotr64_lo=O;function Z(P,X,M){return P>>>M}rr.shr64_hi=Z;function ae(P,X,M){var ie=P<<32-M|X>>>M;return ie>>>0}return rr.shr64_lo=ae,rr}var Ww={},Mj;function j0(){if(Mj)return Ww;Mj=1;var e=Ni(),t=R0();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Ww.BlockHash=r,r.prototype.update=function(s,a){if(s=e.toArray(s,a),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var i=s.length%this._delta8;this.pending=s.slice(s.length-i,s.length),this.pending.length===0&&(this.pending=null),s=e.join32(s,0,s.length-i,this.endian);for(var o=0;o<s.length;o+=this._delta32)this._update(s,o,o+this._delta32)}return this},r.prototype.digest=function(s){return this.update(this._pad()),t(this.pending===null),this._digest(s)},r.prototype._pad=function(){var s=this.pendingTotal,a=this._delta8,i=a-(s+this.padLength)%a,o=new Array(i+this.padLength);o[0]=128;for(var c=1;c<i;c++)o[c]=0;if(s<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)o[c++]=0;o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=s>>>24&255,o[c++]=s>>>16&255,o[c++]=s>>>8&255,o[c++]=s&255}else for(o[c++]=s&255,o[c++]=s>>>8&255,o[c++]=s>>>16&255,o[c++]=s>>>24&255,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,f=8;f<this.padLength;f++)o[c++]=0;return o},Ww}var ec={},li={},Fj;function EP(){if(Fj)return li;Fj=1;var e=Ni(),t=e.rotr32;function r(h,m,x,g){if(h===0)return n(m,x,g);if(h===1||h===3)return a(m,x,g);if(h===2)return s(m,x,g)}li.ft_1=r;function n(h,m,x){return h&m^~h&x}li.ch32=n;function s(h,m,x){return h&m^h&x^m&x}li.maj32=s;function a(h,m,x){return h^m^x}li.p32=a;function i(h){return t(h,2)^t(h,13)^t(h,22)}li.s0_256=i;function o(h){return t(h,6)^t(h,11)^t(h,25)}li.s1_256=o;function c(h){return t(h,7)^t(h,18)^h>>>3}li.g0_256=c;function f(h){return t(h,17)^t(h,19)^h>>>10}return li.g1_256=f,li}var Gw,Pj;function O0e(){if(Pj)return Gw;Pj=1;var e=Ni(),t=j0(),r=EP(),n=e.rotl32,s=e.sum32,a=e.sum32_5,i=r.ft_1,o=t.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(f,o),Gw=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(m,x){for(var g=this.W,v=0;v<16;v++)g[v]=m[x+v];for(;v<g.length;v++)g[v]=n(g[v-3]^g[v-8]^g[v-14]^g[v-16],1);var y=this.h[0],w=this.h[1],E=this.h[2],N=this.h[3],_=this.h[4];for(v=0;v<g.length;v++){var S=~~(v/20),k=a(n(y,5),i(S,w,E,N),_,g[v],c[S]);_=N,N=E,E=n(w,30),w=y,y=k}this.h[0]=s(this.h[0],y),this.h[1]=s(this.h[1],w),this.h[2]=s(this.h[2],E),this.h[3]=s(this.h[3],N),this.h[4]=s(this.h[4],_)},f.prototype._digest=function(m){return m==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Gw}var Kw,Lj;function _P(){if(Lj)return Kw;Lj=1;var e=Ni(),t=j0(),r=EP(),n=R0(),s=e.sum32,a=e.sum32_4,i=e.sum32_5,o=r.ch32,c=r.maj32,f=r.s0_256,h=r.s1_256,m=r.g0_256,x=r.g1_256,g=t.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return e.inherits(y,g),Kw=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(E,N){for(var _=this.W,S=0;S<16;S++)_[S]=E[N+S];for(;S<_.length;S++)_[S]=a(x(_[S-2]),_[S-7],m(_[S-15]),_[S-16]);var k=this.h[0],L=this.h[1],R=this.h[2],H=this.h[3],O=this.h[4],Z=this.h[5],ae=this.h[6],P=this.h[7];for(n(this.k.length===_.length),S=0;S<_.length;S++){var X=i(P,h(O),o(O,Z,ae),this.k[S],_[S]),M=s(f(k),c(k,L,R));P=ae,ae=Z,Z=O,O=s(H,X),H=R,R=L,L=k,k=s(X,M)}this.h[0]=s(this.h[0],k),this.h[1]=s(this.h[1],L),this.h[2]=s(this.h[2],R),this.h[3]=s(this.h[3],H),this.h[4]=s(this.h[4],O),this.h[5]=s(this.h[5],Z),this.h[6]=s(this.h[6],ae),this.h[7]=s(this.h[7],P)},y.prototype._digest=function(E){return E==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Kw}var Xw,Bj;function D0e(){if(Bj)return Xw;Bj=1;var e=Ni(),t=_P();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),Xw=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(s){return s==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},Xw}var Yw,Uj;function SP(){if(Uj)return Yw;Uj=1;var e=Ni(),t=j0(),r=R0(),n=e.rotr64_hi,s=e.rotr64_lo,a=e.shr64_hi,i=e.shr64_lo,o=e.sum64,c=e.sum64_hi,f=e.sum64_lo,h=e.sum64_4_hi,m=e.sum64_4_lo,x=e.sum64_5_hi,g=e.sum64_5_lo,v=t.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}e.inherits(w,v),Yw=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(M,ie){for(var J=this.W,ee=0;ee<32;ee++)J[ee]=M[ie+ee];for(;ee<J.length;ee+=2){var xe=ae(J[ee-4],J[ee-3]),oe=P(J[ee-4],J[ee-3]),we=J[ee-14],G=J[ee-13],D=O(J[ee-30],J[ee-29]),W=Z(J[ee-30],J[ee-29]),K=J[ee-32],re=J[ee-31];J[ee]=h(xe,oe,we,G,D,W,K,re),J[ee+1]=m(xe,oe,we,G,D,W,K,re)}},w.prototype._update=function(M,ie){this._prepareBlock(M,ie);var J=this.W,ee=this.h[0],xe=this.h[1],oe=this.h[2],we=this.h[3],G=this.h[4],D=this.h[5],W=this.h[6],K=this.h[7],re=this.h[8],se=this.h[9],I=this.h[10],F=this.h[11],ne=this.h[12],te=this.h[13],Q=this.h[14],z=this.h[15];r(this.k.length===J.length);for(var be=0;be<J.length;be+=2){var B=Q,Ee=z,q=R(re,se),C=H(re,se),j=E(re,se,I,F,ne),U=N(re,se,I,F,ne,te),ue=this.k[be],ye=this.k[be+1],he=J[be],ke=J[be+1],De=x(B,Ee,q,C,j,U,ue,ye,he,ke),Pe=g(B,Ee,q,C,j,U,ue,ye,he,ke);B=k(ee,xe),Ee=L(ee,xe),q=_(ee,xe,oe,we,G),C=S(ee,xe,oe,we,G,D);var We=c(B,Ee,q,C),et=f(B,Ee,q,C);Q=ne,z=te,ne=I,te=F,I=re,F=se,re=c(W,K,De,Pe),se=f(K,K,De,Pe),W=G,K=D,G=oe,D=we,oe=ee,we=xe,ee=c(De,Pe,We,et),xe=f(De,Pe,We,et)}o(this.h,0,ee,xe),o(this.h,2,oe,we),o(this.h,4,G,D),o(this.h,6,W,K),o(this.h,8,re,se),o(this.h,10,I,F),o(this.h,12,ne,te),o(this.h,14,Q,z)},w.prototype._digest=function(M){return M==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function E(X,M,ie,J,ee){var xe=X&ie^~X&ee;return xe<0&&(xe+=4294967296),xe}function N(X,M,ie,J,ee,xe){var oe=M&J^~M&xe;return oe<0&&(oe+=4294967296),oe}function _(X,M,ie,J,ee){var xe=X&ie^X&ee^ie&ee;return xe<0&&(xe+=4294967296),xe}function S(X,M,ie,J,ee,xe){var oe=M&J^M&xe^J&xe;return oe<0&&(oe+=4294967296),oe}function k(X,M){var ie=n(X,M,28),J=n(M,X,2),ee=n(M,X,7),xe=ie^J^ee;return xe<0&&(xe+=4294967296),xe}function L(X,M){var ie=s(X,M,28),J=s(M,X,2),ee=s(M,X,7),xe=ie^J^ee;return xe<0&&(xe+=4294967296),xe}function R(X,M){var ie=n(X,M,14),J=n(X,M,18),ee=n(M,X,9),xe=ie^J^ee;return xe<0&&(xe+=4294967296),xe}function H(X,M){var ie=s(X,M,14),J=s(X,M,18),ee=s(M,X,9),xe=ie^J^ee;return xe<0&&(xe+=4294967296),xe}function O(X,M){var ie=n(X,M,1),J=n(X,M,8),ee=a(X,M,7),xe=ie^J^ee;return xe<0&&(xe+=4294967296),xe}function Z(X,M){var ie=s(X,M,1),J=s(X,M,8),ee=i(X,M,7),xe=ie^J^ee;return xe<0&&(xe+=4294967296),xe}function ae(X,M){var ie=n(X,M,19),J=n(M,X,29),ee=a(X,M,6),xe=ie^J^ee;return xe<0&&(xe+=4294967296),xe}function P(X,M){var ie=s(X,M,19),J=s(M,X,29),ee=i(X,M,6),xe=ie^J^ee;return xe<0&&(xe+=4294967296),xe}return Yw}var Jw,zj;function I0e(){if(zj)return Jw;zj=1;var e=Ni(),t=SP();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),Jw=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(s){return s==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},Jw}var Hj;function M0e(){return Hj||(Hj=1,ec.sha1=O0e(),ec.sha224=D0e(),ec.sha256=_P(),ec.sha384=I0e(),ec.sha512=SP()),ec}var Zw={},qj;function F0e(){if(qj)return Zw;qj=1;var e=Ni(),t=j0(),r=e.rotl32,n=e.sum32,s=e.sum32_3,a=e.sum32_4,i=t.BlockHash;function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(o,i),Zw.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(w,E){for(var N=this.h[0],_=this.h[1],S=this.h[2],k=this.h[3],L=this.h[4],R=N,H=_,O=S,Z=k,ae=L,P=0;P<80;P++){var X=n(r(a(N,c(P,_,S,k),w[m[P]+E],f(P)),g[P]),L);N=L,L=k,k=r(S,10),S=_,_=X,X=n(r(a(R,c(79-P,H,O,Z),w[x[P]+E],h(P)),v[P]),ae),R=ae,ae=Z,Z=r(O,10),O=H,H=X}X=s(this.h[1],S,Z),this.h[1]=s(this.h[2],k,ae),this.h[2]=s(this.h[3],L,R),this.h[3]=s(this.h[4],N,H),this.h[4]=s(this.h[0],_,O),this.h[0]=X},o.prototype._digest=function(w){return w==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function c(y,w,E,N){return y<=15?w^E^N:y<=31?w&E|~w&N:y<=47?(w|~E)^N:y<=63?w&N|E&~N:w^(E|~N)}function f(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function h(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],x=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Zw}var Qw,Vj;function P0e(){if(Vj)return Qw;Vj=1;var e=Ni(),t=R0();function r(n,s,a){if(!(this instanceof r))return new r(n,s,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(s,a))}return Qw=r,r.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),t(s.length<=this.blockSize);for(var a=s.length;a<this.blockSize;a++)s.push(0);for(a=0;a<s.length;a++)s[a]^=54;for(this.inner=new this.Hash().update(s),a=0;a<s.length;a++)s[a]^=106;this.outer=new this.Hash().update(s)},r.prototype.update=function(s,a){return this.inner.update(s,a),this},r.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)},Qw}var $j;function L0e(){return $j||($j=1,(function(e){var t=e;t.utils=Ni(),t.common=j0(),t.sha=M0e(),t.ripemd=F0e(),t.hmac=P0e(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Vw)),Vw}var B0e=L0e();const U0e=bS(B0e);let z0e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",H0e=(e,t=21)=>(r=t)=>{let n="",s=r|0;for(;s--;)n+=e[Math.random()*e.length|0];return n},q0e=(e=21)=>{let t="",r=e|0;for(;r--;)t+=z0e[Math.random()*64|0];return t};const Pa=e=>Math.floor(e*72*20),r1=(e=0)=>{let t=e;return()=>++t},V0e=()=>r1(),$0e=()=>r1(1),W0e=()=>r1(),G0e=()=>r1(),K0e=()=>q0e().toLowerCase(),Wj=e=>U0e.sha1().update(e instanceof ArrayBuffer?new Uint8Array(e):e).digest("hex"),Ff=e=>H0e("1234567890abcdef",e)(),X0e=()=>`${Ff(8)}-${Ff(4)}-${Ff(4)}-${Ff(4)}-${Ff(12)}`,Y0e={PAGE:"page"},J0e={PAGE:"page"},Z0e=()=>new Yt({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),NP=e=>new Yt({name:"wp:align",children:[e]}),TP=e=>new Yt({name:"wp:posOffset",children:[e.toString()]}),Q0e=({relative:e,align:t,offset:r})=>new Yt({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:e??Y0e.PAGE}},children:[(()=>{if(t)return NP(t);if(r!==void 0)return TP(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),epe=({relative:e,align:t,offset:r})=>new Yt({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:e??J0e.PAGE}},children:[(()=>{if(t)return NP(t);if(r!==void 0)return TP(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]});class tpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{uri:"uri"})}}const rpe=e=>new Yt({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${e.fileName}}`}}}),npe=e=>new Yt({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[rpe(e)]}),spe=e=>new Yt({name:"a:extLst",children:[npe(e)]}),ape=e=>new Yt({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${e.type==="svg"?e.fallback.fileName:e.fileName}}`},cstate:{key:"cstate",value:"none"}},children:e.type==="svg"?[spe(e)]:[]});class ipe extends Le{constructor(){super("a:srcRect")}}class ope extends Le{constructor(){super("a:fillRect")}}class lpe extends Le{constructor(){super("a:stretch"),this.root.push(new ope)}}class cpe extends Le{constructor(t){super("pic:blipFill"),this.root.push(ape(t)),this.root.push(new ipe),this.root.push(new lpe)}}class upe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class dpe extends Le{constructor(){super("a:picLocks"),this.root.push(new upe({noChangeAspect:1,noChangeArrowheads:1}))}}class fpe extends Le{constructor(){super("pic:cNvPicPr"),this.root.push(new dpe)}}const CP=(e,t)=>new Yt({name:"a:hlinkClick",attributes:go(At({},t?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${e}`}})});class hpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class ppe extends Le{constructor(){super("pic:cNvPr"),this.root.push(new hpe({id:0,name:"",descr:""}))}prepForXml(t){for(let r=t.stack.length-1;r>=0;r--){const n=t.stack[r];if(n instanceof DS){this.root.push(CP(n.linkId,!1));break}}return super.prepForXml(t)}}class mpe extends Le{constructor(){super("pic:nvPicPr"),this.root.push(new ppe),this.root.push(new fpe)}}class xpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class gpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class ype extends Le{constructor(t,r){super("a:ext"),Fe(this,"attributes"),this.attributes=new gpe({cx:t,cy:r}),this.root.push(this.attributes)}}class vpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{x:"x",y:"y"})}}class bpe extends Le{constructor(){super("a:off"),this.root.push(new vpe({x:0,y:0}))}}class wpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class Epe extends Le{constructor(t){var r,n;super("a:xfrm"),Fe(this,"extents"),this.root.push(new wpe({flipVertical:(r=t.flip)==null?void 0:r.vertical,flipHorizontal:(n=t.flip)==null?void 0:n.horizontal,rotation:t.rotation})),this.extents=new ype(t.emus.x,t.emus.y),this.root.push(new bpe),this.root.push(this.extents)}}const AP=()=>new Yt({name:"a:noFill"}),_pe=e=>new Yt({name:"a:srgbClr",attributes:{value:{key:"val",value:e.value}}}),Spe=e=>new Yt({name:"a:schemeClr",attributes:{value:{key:"val",value:e.value}}}),Gj=e=>new Yt({name:"a:solidFill",children:[e.type==="rgb"?_pe(e):Spe(e)]}),Npe=e=>new Yt({name:"a:ln",attributes:{width:{key:"w",value:e.width},cap:{key:"cap",value:e.cap},compoundLine:{key:"cmpd",value:e.compoundLine},align:{key:"algn",value:e.align}},children:[e.type==="noFill"?AP():e.solidFillType==="rgb"?Gj({type:"rgb",value:e.value}):Gj({type:"scheme",value:e.value})]});class Tpe extends Le{constructor(){super("a:avLst")}}class Cpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{prst:"prst"})}}class Ape extends Le{constructor(){super("a:prstGeom"),this.root.push(new Cpe({prst:"rect"})),this.root.push(new Tpe)}}class kpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{bwMode:"bwMode"})}}class Rpe extends Le{constructor({outline:t,transform:r}){super("pic:spPr"),Fe(this,"form"),this.root.push(new kpe({bwMode:"auto"})),this.form=new Epe(r),this.root.push(this.form),this.root.push(new Ape),t&&(this.root.push(AP()),this.root.push(Npe(t)))}}class jpe extends Le{constructor({mediaData:t,transform:r,outline:n}){super("pic:pic"),this.root.push(new xpe({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new mpe),this.root.push(new cpe(t)),this.root.push(new Rpe({transform:r,outline:n}))}}class Ope extends Le{constructor({mediaData:t,transform:r,outline:n}){super("a:graphicData"),Fe(this,"pic"),this.root.push(new tpe({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new jpe({mediaData:t,transform:r,outline:n}),this.root.push(this.pic)}}class Dpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{a:"xmlns:a"})}}class kP extends Le{constructor({mediaData:t,transform:r,outline:n}){super("a:graphic"),Fe(this,"data"),this.root.push(new Dpe({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new Ope({mediaData:t,transform:r,outline:n}),this.root.push(this.data)}}const Am={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},Ipe={BOTH_SIDES:"bothSides"};class Kj extends Le{constructor(){super("wp:wrapNone")}}class Mpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class Fpe extends Le{constructor(t,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new Mpe({wrapText:t.side||Ipe.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class Ppe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class Lpe extends Le{constructor(t={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new Ppe({distT:t.top,distB:t.bottom}))}}class Bpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class Upe extends Le{constructor(t={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new Bpe({distT:t.top,distB:t.bottom}))}}class RP extends Le{constructor({name:t,description:r,title:n}={name:"",description:"",title:""}){super("wp:docPr"),Fe(this,"docPropertiesUniqueNumericId",W0e());const s={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:t}};r!=null&&(s.description={key:"descr",value:r}),n!=null&&(s.title={key:"title",value:n}),this.root.push(new N0(s))}prepForXml(t){for(let r=t.stack.length-1;r>=0;r--){const n=t.stack[r];if(n instanceof DS){this.root.push(CP(n.linkId,!0));break}}return super.prepForXml(t)}}const jP=({top:e,right:t,bottom:r,left:n})=>new Yt({name:"wp:effectExtent",attributes:{top:{key:"t",value:e},right:{key:"r",value:t},bottom:{key:"b",value:r},left:{key:"l",value:n}}}),OP=({x:e,y:t})=>new Yt({name:"wp:extent",attributes:{x:{key:"cx",value:e},y:{key:"cy",value:t}}});class zpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class Hpe extends Le{constructor(){super("a:graphicFrameLocks"),this.root.push(new zpe({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}const DP=()=>new Yt({name:"wp:cNvGraphicFramePr",children:[new Hpe]});class qpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class Vpe extends Le{constructor({mediaData:t,transform:r,drawingOptions:n}){super("wp:anchor");const s=At({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},n.floating);if(this.root.push(new qpe({distT:s.margins&&s.margins.top||0,distB:s.margins&&s.margins.bottom||0,distL:s.margins&&s.margins.left||0,distR:s.margins&&s.margins.right||0,simplePos:"0",allowOverlap:s.allowOverlap===!0?"1":"0",behindDoc:s.behindDocument===!0?"1":"0",locked:s.lockAnchor===!0?"1":"0",layoutInCell:s.layoutInCell===!0?"1":"0",relativeHeight:s.zIndex?s.zIndex:r.emus.y})),this.root.push(Z0e()),this.root.push(Q0e(s.horizontalPosition)),this.root.push(epe(s.verticalPosition)),this.root.push(OP({x:r.emus.x,y:r.emus.y})),this.root.push(jP({top:0,right:0,bottom:0,left:0})),n.floating!==void 0&&n.floating.wrap!==void 0)switch(n.floating.wrap.type){case Am.SQUARE:this.root.push(new Fpe(n.floating.wrap,n.floating.margins));break;case Am.TIGHT:this.root.push(new Lpe(n.floating.margins));break;case Am.TOP_AND_BOTTOM:this.root.push(new Upe(n.floating.margins));break;case Am.NONE:default:this.root.push(new Kj)}else this.root.push(new Kj);this.root.push(new RP(n.docProperties)),this.root.push(DP()),this.root.push(new kP({mediaData:t,transform:r,outline:n.outline}))}}const $pe=({mediaData:e,transform:t,docProperties:r,outline:n})=>{var s,a,i,o;return new Yt({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[OP({x:t.emus.x,y:t.emus.y}),jP(n?{top:((s=n.width)!=null?s:9525)*2,right:((a=n.width)!=null?a:9525)*2,bottom:((i=n.width)!=null?i:9525)*2,left:((o=n.width)!=null?o:9525)*2}:{top:0,right:0,bottom:0,left:0}),new RP(r),DP(),new kP({mediaData:e,transform:t,outline:n})]})};class Wpe extends Le{constructor(t,r={}){super("w:drawing"),r.floating?this.root.push(new Vpe({mediaData:t,transform:t.transformation,drawingOptions:r})):this.root.push($pe({mediaData:t,transform:t.transformation,docProperties:r.docProperties,outline:r.outline}))}}const Gpe=e=>{if(typeof atob=="function"){const t=";base64,",r=e.indexOf(t),n=r===-1?0:r+t.length;return new Uint8Array(atob(e.substring(n)).split("").map(s=>s.charCodeAt(0)))}else{const t=require("buffer");return new t.Buffer(e,"base64")}},Kpe=e=>typeof e=="string"?Gpe(e):e,e2=(e,t)=>({data:Kpe(e.data),fileName:t,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}});class Xpe extends k0{constructor(t){super({}),Fe(this,"imageData");const n=`${Wj(t.data)}.${t.type}`;this.imageData=t.type==="svg"?go(At({type:t.type},e2(t,n)),{fallback:At({type:t.fallback.type},e2(go(At({},t.fallback),{transformation:t.transformation}),`${Wj(t.fallback.data)}.${t.fallback.type}`))}):At({type:t.type},e2(t,n));const s=new Wpe(this.imageData,{floating:t.floating,docProperties:t.altText,outline:t.outline});this.root.push(s)}prepForXml(t){return t.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&t.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(t)}}class Ype extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns"})}}class Jpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Zpe={EXTERNAL:"External"};class Qpe extends Le{constructor(t,r,n,s){super("Relationship"),this.root.push(new Jpe({id:t,type:r,target:n,targetMode:s}))}}class Gc extends Le{constructor(){super("Relationships"),this.root.push(new Ype({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,n,s){const a=new Qpe(`rId${t}`,r,n,s);return this.root.push(a),a}get RelationshipCount(){return this.root.length-1}}class eme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class tme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class rme extends Le{constructor({id:t,initials:r,author:n,date:s=new Date,children:a}){super("w:comment"),this.root.push(new eme({id:t,initials:r,author:n,date:s.toISOString()}));for(const i of a)this.root.push(i)}}class nme extends Le{constructor({children:t}){super("w:comments"),Fe(this,"relationships"),this.root.push(new tme({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new rme(r));this.relationships=new Gc}get Relationships(){return this.relationships}}class sme extends Le{constructor(){super("w:pageBreakBefore")}}const wE={AUTO:"auto"};class ame extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class ime extends Le{constructor(t){super("w:spacing"),this.root.push(new ame(t))}}let km=class extends Le{constructor(t){super("w:pStyle"),this.root.push(new Ur({val:t}))}};class ome extends Le{constructor(t){super("w:tabs");for(const r of t)this.root.push(new cme(r))}}const Xj={LEFT:"left",RIGHT:"right"};class lme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class cme extends Le{constructor({type:t,position:r,leader:n}){super("w:tab"),this.root.push(new lme({val:t,pos:r,leader:n}))}}class t2 extends Le{constructor(t,r){super("w:numPr"),this.root.push(new ume(r)),this.root.push(new dme(t))}}class ume extends Le{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ur({val:t}))}}class dme extends Le{constructor(t){super("w:numId"),this.root.push(new Ur({val:typeof t=="string"?`{${t}}`:t}))}}class fme extends Le{constructor(){super(...arguments),Fe(this,"fileChild",Symbol())}}class hme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class DS extends Le{constructor(t,r,n){super("w:hyperlink"),Fe(this,"linkId"),this.linkId=r;const s={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},a=new hme(s);this.root.push(a),t.forEach(i=>{this.root.push(i)})}}class pme extends Le{constructor(t){super("w:externalHyperlink"),this.options=t}}class mme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class xme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id"})}}class gme{constructor(t){Fe(this,"bookmarkUniqueNumericId",G0e()),Fe(this,"start"),Fe(this,"children"),Fe(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new yme(t.id,r),this.children=t.children,this.end=new vme(r)}}class yme extends Le{constructor(t,r){super("w:bookmarkStart");const n=new mme({name:t,id:r});this.root.push(n)}}class vme extends Le{constructor(t){super("w:bookmarkEnd");const r=new xme({id:t});this.root.push(r)}}class bme extends Le{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new Ur({val:t}))}}const wme={TOP:"top",CENTER:"center",BOTTOM:"bottom"};go(At({},wme),{BOTH:"both"});class Eme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{verticalAlign:"w:val"})}}class _me extends Le{constructor(t){super("w:vAlign"),this.root.push(new Eme({verticalAlign:t}))}}class Sme extends Le{constructor({space:t,count:r,separate:n,equalWidth:s,children:a}){super("w:cols"),this.root.push(new N0({space:{key:"w:space",value:t===void 0?void 0:Ua(t)},count:{key:"w:num",value:r===void 0?void 0:ks(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:s}})),!s&&a&&a.forEach(i=>this.addChildElement(i))}}const Nme=({type:e,linePitch:t,charSpace:r})=>new Yt({name:"w:docGrid",attributes:{type:{key:"w:type",value:e},linePitch:{key:"w:linePitch",value:ks(t)},charSpace:{key:"w:charSpace",value:r?ks(r):void 0}}}),Wu={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Tme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const Yj={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class r2 extends Le{constructor(t,r){super(t),this.root.push(new Tme({type:r.type||Wu.DEFAULT,id:`rId${r.id}`}))}}const Cme=({countBy:e,start:t,restart:r,distance:n})=>new Yt({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:e===void 0?void 0:ks(e)},start:{key:"w:start",value:t===void 0?void 0:ks(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:Ua(n)}}});class Jj extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class Ame extends Zg{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new Jj({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new Jj({})),t.pageBorderTop&&this.root.push(new Ar("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new Ar("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new Ar("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new Ar("w:right",t.pageBorderRight))}}class kme extends Le{constructor(t,r,n,s,a,i,o){super("w:pgMar"),this.root.push(new N0({top:{key:"w:top",value:fc(t)},right:{key:"w:right",value:Ua(r)},bottom:{key:"w:bottom",value:fc(n)},left:{key:"w:left",value:Ua(s)},header:{key:"w:header",value:Ua(a)},footer:{key:"w:footer",value:Ua(i)},gutter:{key:"w:gutter",value:Ua(o)}}))}}class Rme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class jme extends Le{constructor({start:t,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new Rme({start:t===void 0?void 0:ks(t),formatType:r,separator:n}))}}const EE={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Ome=({width:e,height:t,orientation:r,code:n})=>{const s=Ua(e),a=Ua(t);return new Yt({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===EE.LANDSCAPE?a:s},height:{key:"w:h",value:r===EE.LANDSCAPE?s:a},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class Dme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class Ime extends Le{constructor(t){super("w:textDirection"),this.root.push(new Dme({val:t}))}}class Mme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class Fme extends Le{constructor(t){super("w:type"),this.root.push(new Mme({val:t}))}}const tc={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},n2={WIDTH:11906,HEIGHT:16838,ORIENTATION:EE.PORTRAIT};class Pme extends Le{constructor({page:{size:{width:t=n2.WIDTH,height:r=n2.HEIGHT,orientation:n=n2.ORIENTATION}={},margin:{top:s=tc.TOP,right:a=tc.RIGHT,bottom:i=tc.BOTTOM,left:o=tc.LEFT,header:c=tc.HEADER,footer:f=tc.FOOTER,gutter:h=tc.GUTTER}={},pageNumbers:m={},borders:x,textDirection:g}={},grid:{linePitch:v=360,charSpace:y,type:w}={},headerWrapperGroup:E={},footerWrapperGroup:N={},lineNumbers:_,titlePage:S,verticalAlign:k,column:L,type:R}={}){super("w:sectPr"),this.addHeaderFooterGroup(Yj.HEADER,E),this.addHeaderFooterGroup(Yj.FOOTER,N),R&&this.root.push(new Fme(R)),this.root.push(Ome({width:t,height:r,orientation:n})),this.root.push(new kme(s,a,i,o,c,f,h)),x&&this.root.push(new Ame(x)),_&&this.root.push(Cme(_)),this.root.push(new jme(m)),L&&this.root.push(new Sme(L)),k&&this.root.push(new _me(k)),S!==void 0&&this.root.push(new Ve("w:titlePg",S)),g&&this.root.push(new Ime(g)),this.root.push(Nme({linePitch:v,charSpace:y,type:w}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new r2(t,{type:Wu.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new r2(t,{type:Wu.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new r2(t,{type:Wu.EVEN,id:r.even.View.ReferenceId}))}}class Lme extends Le{constructor(){super("w:body"),Fe(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new Pme(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new hc({}),n=new ud({});return n.push(t),r.addChildElement(n),r}}const Zj={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class n1 extends it{constructor(t,r){super(At({Ignorable:r},Object.fromEntries(t.map(n=>[n,Zj[n]])))),Fe(this,"xmlKeys",At({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(Zj).map(n=>[n,`xmlns:${n}`]))))}}class Bme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Ume extends Le{constructor(t){super("w:background"),this.root.push(new Bme({color:t.color===void 0?void 0:od(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:Rj(t.themeShade),themeTint:t.themeTint===void 0?void 0:Rj(t.themeTint)}))}}class zme extends Le{constructor(t){super("w:document"),Fe(this,"body"),this.root.push(new n1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Lme,t.background&&this.root.push(new Ume(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class IP{constructor(t){Fe(this,"document"),Fe(this,"relationships"),this.document=new zme(t),this.relationships=new Gc}get View(){return this.document}get Relationships(){return this.relationships}}class Hme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class qme extends Le{constructor(){super("w:wordWrap"),this.root.push(new Hme({val:0}))}}const Vme=e=>{var t,r;return new Yt({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=e.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=e.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})};class ud extends Zg{constructor(t){var r,n;if(super("w:pPr"),Fe(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new km(t.heading)),t.bullet&&this.push(new km("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new km("ListParagraph"))),t.style&&this.push(new km(t.style)),t.keepNext!==void 0&&this.push(new Ve("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new Ve("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new sme),t.frame&&this.push(Vme(t.frame)),t.widowControl!==void 0&&this.push(new Ve("w:widowControl",t.widowControl)),t.bullet&&this.push(new t2(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new t2(`${t.numbering.reference}-${(n=t.numbering.instance)!=null?n:0}`,t.numbering.level))):t.numbering===!1&&this.push(new t2(0,0)),t.border&&this.push(new u0e(t.border)),t.thematicBreak&&this.push(new d0e),t.shading&&this.push(new vP(t.shading)),t.wordWrap&&this.push(new qme),t.overflowPunctuation&&this.push(new Ve("w:overflowPunct",t.overflowPunctuation));const s=[...t.rightTabStop!==void 0?[{type:Xj.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:Xj.LEFT,position:t.leftTabStop}]:[]];s.length>0&&this.push(new ome(s)),t.bidirectional!==void 0&&this.push(new Ve("w:bidi",t.bidirectional)),t.spacing&&this.push(new ime(t.spacing)),t.indent&&this.push(new f0e(t.indent)),t.contextualSpacing!==void 0&&this.push(new Ve("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new l0e(t.alignment)),t.outlineLevel!==void 0&&this.push(new bme(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new Ve("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new Ve("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new Wc(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof IP)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class hc extends fme{constructor(t){if(super("w:p"),Fe(this,"properties"),typeof t=="string")return this.properties=new ud({}),this.root.push(this.properties),this.root.push(new sc(t)),this;if(this.properties=new ud(t),this.root.push(this.properties),t.text&&this.root.push(new sc(t.text)),t.children)for(const r of t.children){if(r instanceof gme){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof pme){const n=this.root.indexOf(r),s=new DS(r.options.children,K0e());t.viewWrapper.Relationships.createRelationship(s.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,Zpe.EXTERNAL),this.root[n]=s}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const Ru={style:RS.NONE,size:0,color:"auto"},ju={style:RS.SINGLE,size:4,color:"auto"};class $me extends Le{constructor(t){super("w:tblBorders"),t.top?this.root.push(new Ar("w:top",t.top)):this.root.push(new Ar("w:top",ju)),t.left?this.root.push(new Ar("w:left",t.left)):this.root.push(new Ar("w:left",ju)),t.bottom?this.root.push(new Ar("w:bottom",t.bottom)):this.root.push(new Ar("w:bottom",ju)),t.right?this.root.push(new Ar("w:right",t.right)):this.root.push(new Ar("w:right",ju)),t.insideHorizontal?this.root.push(new Ar("w:insideH",t.insideHorizontal)):this.root.push(new Ar("w:insideH",ju)),t.insideVertical?this.root.push(new Ar("w:insideV",t.insideVertical)):this.root.push(new Ar("w:insideV",ju))}}Fe($me,"NONE",{top:Ru,bottom:Ru,left:Ru,right:Ru,insideHorizontal:Ru,insideVertical:Ru});class Wme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Gme extends Le{constructor(){super("Properties"),this.root.push(new Wme({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class Kme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns"})}}class Xme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Ki extends Le{constructor(t,r){super("Default"),this.root.push(new Xme({contentType:t,extension:r}))}}class Yme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class fa extends Le{constructor(t,r){super("Override"),this.root.push(new Yme({contentType:t,partName:r}))}}class Jme extends Le{constructor(){super("Types"),this.root.push(new Kme({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Ki("image/png","png")),this.root.push(new Ki("image/jpeg","jpeg")),this.root.push(new Ki("image/jpeg","jpg")),this.root.push(new Ki("image/bmp","bmp")),this.root.push(new Ki("image/gif","gif")),this.root.push(new Ki("image/svg+xml","svg")),this.root.push(new Ki("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Ki("application/xml","xml")),this.root.push(new Ki("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new fa("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new fa("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new fa("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new fa("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new fa("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new fa("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new fa("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new fa("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new fa("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new fa("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new fa("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new fa("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class Zme extends Le{constructor(t){super("cp:coreProperties"),this.root.push(new n1(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new Ql("dc:title",t.title)),t.subject&&this.root.push(new Ql("dc:subject",t.subject)),t.creator&&this.root.push(new Ql("dc:creator",t.creator)),t.keywords&&this.root.push(new Ql("cp:keywords",t.keywords)),t.description&&this.root.push(new Ql("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new Ql("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new Ql("cp:revision",String(t.revision))),this.root.push(new Qj("dcterms:created")),this.root.push(new Qj("dcterms:modified"))}}class Qme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"xsi:type"})}}class Qj extends Le{constructor(t){super(t),this.root.push(new Qme({type:"dcterms:W3CDTF"})),this.root.push(i0e(new Date))}}class exe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class txe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class rxe extends Le{constructor(t,r){super("property"),this.root.push(new txe({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new nxe(r.value))}}class nxe extends Le{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class sxe extends Le{constructor(t){super("Properties"),Fe(this,"nextId"),Fe(this,"properties",[]),this.root.push(new exe({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new rxe(this.nextId++,t))}}const Rm=({id:e,fontKey:t,subsetted:r},n)=>new Yt({name:n,attributes:At({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new Ve("w:subsetted",r)]:[]]}),axe=({name:e,altName:t,panose1:r,charset:n,family:s,notTrueType:a,pitch:i,sig:o,embedRegular:c,embedBold:f,embedItalic:h,embedBoldItalic:m})=>new Yt({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[Mf("w:altName",t)]:[],...r?[Mf("w:panose1",r)]:[],...n?[Mf("w:charset",n)]:[],Mf("w:family",s),...a?[new Ve("w:notTrueType",a)]:[],Mf("w:pitch",i),...o?[new Yt({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...c?[Rm(c,"w:embedRegular")]:[],...f?[Rm(f,"w:embedBold")]:[],...h?[Rm(h,"w:embedItalic")]:[],...m?[Rm(m,"w:embedBoldItalic")]:[]]}),ixe=({name:e,index:t,fontKey:r,characterSet:n})=>axe({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),oxe=e=>new Yt({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:e.map((t,r)=>ixe({name:t.name,index:r+1,fontKey:t.fontKey}))});class lxe{constructor(t){Fe(this,"fontTable"),Fe(this,"relationships"),Fe(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>go(At({},r),{fontKey:X0e()})),this.fontTable=oxe(this.fontOptionsWithKey),this.relationships=new Gc;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class cxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let uxe=class extends mP{constructor(t,r){super("w:ftr",r),Fe(this,"refId"),this.refId=t,r||this.root.push(new cxe({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class dxe{constructor(t,r,n){Fe(this,"footer"),Fe(this,"relationships"),this.media=t,this.footer=new uxe(r,n),this.relationships=new Gc}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class fxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class hxe extends Le{constructor(){super("w:footnoteRef")}}class pxe extends k0{constructor(){super({style:"FootnoteReference"}),this.root.push(new hxe)}}const e6={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class s2 extends Le{constructor(t){super("w:footnote"),this.root.push(new fxe({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const n=t.children[r];r===0&&n.addRunToFront(new pxe),this.root.push(n)}}}class mxe extends Le{constructor(){super("w:continuationSeparator")}}class xxe extends k0{constructor(){super({}),this.root.push(new mxe)}}class gxe extends Le{constructor(){super("w:separator")}}class yxe extends k0{constructor(){super({}),this.root.push(new gxe)}}class vxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class bxe extends Le{constructor(){super("w:footnotes"),this.root.push(new vxe({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new s2({id:-1,type:e6.SEPERATOR,children:[new hc({spacing:{after:0,line:240,lineRule:wE.AUTO},children:[new yxe]})]});this.root.push(t);const r=new s2({id:0,type:e6.CONTINUATION_SEPERATOR,children:[new hc({spacing:{after:0,line:240,lineRule:wE.AUTO},children:[new xxe]})]});this.root.push(r)}createFootNote(t,r){const n=new s2({id:t,children:r});this.root.push(n)}}class wxe{constructor(){Fe(this,"footnotess"),Fe(this,"relationships"),this.footnotess=new bxe,this.relationships=new Gc}get View(){return this.footnotess}get Relationships(){return this.relationships}}class Exe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let _xe=class extends mP{constructor(t,r){super("w:hdr",r),Fe(this,"refId"),this.refId=t,r||this.root.push(new Exe({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class Sxe{constructor(t,r,n){Fe(this,"header"),Fe(this,"relationships"),this.media=t,this.header=new _xe(r,n),this.relationships=new Gc}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Nxe{constructor(){Fe(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const Xi={BULLET:"bullet"};class Txe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Cxe extends Le{constructor(t){super("w:numFmt"),this.root.push(new Ur({val:t}))}}class Axe extends Le{constructor(t){super("w:lvlText"),this.root.push(new Ur({val:t}))}}class kxe extends Le{constructor(t){super("w:lvlJc"),this.root.push(new Ur({val:t}))}}class Rxe extends Le{constructor(t){super("w:suff"),this.root.push(new Ur({val:t}))}}class jxe extends Le{constructor(){super("w:isLgl")}}class Oxe extends Le{constructor({level:t,format:r,text:n,alignment:s=xa.START,start:a=1,style:i,suffix:o,isLegalNumberingStyle:c}){if(super("w:lvl"),Fe(this,"paragraphProperties"),Fe(this,"runProperties"),this.root.push(new wh("w:start",ks(a))),r&&this.root.push(new Cxe(r)),o&&this.root.push(new Rxe(o)),c&&this.root.push(new jxe),n&&this.root.push(new Axe(n)),this.root.push(new kxe(s)),this.paragraphProperties=new ud(i&&i.paragraph),this.runProperties=new Wc(i&&i.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Txe({ilvl:ks(t),tentative:1}))}}class Dxe extends Oxe{}class Ixe extends Le{constructor(t){super("w:multiLevelType"),this.root.push(new Ur({val:t}))}}class Mxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class t6 extends Le{constructor(t,r){super("w:abstractNum"),Fe(this,"id"),this.root.push(new Mxe({abstractNumId:ks(t),restartNumberingAfterBreak:0})),this.root.push(new Ixe("hybridMultilevel")),this.id=t;for(const n of r)this.root.push(new Dxe(n))}}class Fxe extends Le{constructor(t){super("w:abstractNumId"),this.root.push(new Ur({val:t}))}}class Pxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{numId:"w:numId"})}}class r6 extends Le{constructor(t){if(super("w:num"),Fe(this,"numId"),Fe(this,"reference"),Fe(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new Pxe({numId:ks(t.numId)})),this.root.push(new Fxe(ks(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new Bxe(r.num,r.start))}}class Lxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{ilvl:"w:ilvl"})}}class Bxe extends Le{constructor(t,r){super("w:lvlOverride"),this.root.push(new Lxe({ilvl:t})),r!==void 0&&this.root.push(new zxe(r))}}class Uxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class zxe extends Le{constructor(t){super("w:startOverride"),this.root.push(new Uxe({val:t}))}}class Hxe extends Le{constructor(t){super("w:numbering"),Fe(this,"abstractNumberingMap",new Map),Fe(this,"concreteNumberingMap",new Map),Fe(this,"referenceConfigMap",new Map),Fe(this,"abstractNumUniqueNumericId",V0e()),Fe(this,"concreteNumUniqueNumericId",$0e()),this.root.push(new n1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new t6(this.abstractNumUniqueNumericId(),[{level:0,format:Xi.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:Pa(.5),hanging:Pa(.25)}}}},{level:1,format:Xi.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:Pa(1),hanging:Pa(.25)}}}},{level:2,format:Xi.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:2160,hanging:Pa(.25)}}}},{level:3,format:Xi.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:2880,hanging:Pa(.25)}}}},{level:4,format:Xi.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:3600,hanging:Pa(.25)}}}},{level:5,format:Xi.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:4320,hanging:Pa(.25)}}}},{level:6,format:Xi.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:5040,hanging:Pa(.25)}}}},{level:7,format:Xi.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:5760,hanging:Pa(.25)}}}},{level:8,format:Xi.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:6480,hanging:Pa(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new r6({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of t.config)this.abstractNumberingMap.set(n.reference,new t6(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const n=this.abstractNumberingMap.get(t);if(!n)return;const s=`${t}-${r}`;if(this.concreteNumberingMap.has(s))return;const a=this.referenceConfigMap.get(t),i=a&&a[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:t,instance:r,overrideLevels:[i&&Number.isInteger(i)?{num:0,start:i}:{num:0,start:1}]};this.concreteNumberingMap.set(s,new r6(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class qxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Vxe extends Le{constructor(t){super("w:compatSetting"),this.root.push(new qxe({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class $xe extends Le{constructor(t){super("w:compat"),t.version&&this.root.push(new Vxe(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new Ve("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new Ve("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new Ve("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new Ve("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new Ve("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new Ve("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new Ve("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new Ve("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new Ve("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new Ve("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new Ve("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new Ve("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new Ve("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new Ve("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new Ve("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new Ve("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new Ve("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new Ve("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new Ve("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new Ve("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new Ve("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new Ve("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new Ve("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new Ve("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new Ve("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new Ve("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new Ve("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new Ve("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new Ve("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new Ve("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new Ve("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new Ve("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new Ve("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new Ve("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new Ve("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new Ve("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new Ve("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ve("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new Ve("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new Ve("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new Ve("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new Ve("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new Ve("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ve("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new Ve("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new Ve("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new Ve("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new Ve("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new Ve("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new Ve("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new Ve("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ve("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new Ve("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new Ve("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new Ve("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new Ve("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new Ve("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new Ve("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new Ve("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new Ve("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new Ve("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new Ve("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ve("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new Ve("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new Ve("w:cachedColBalance",t.cachedColumnBalance))}}class Wxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Gxe extends Le{constructor(t){var r,n,s,a,i,o,c,f;super("w:settings"),this.root.push(new Wxe({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ve("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new Ve("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new Ve("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new Ve("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new wh("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Ve("w:autoHyphenation",t.hyphenation.autoHyphenation)),((n=t.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new wh("w:hyphenationZone",t.hyphenation.hyphenationZone)),((s=t.hyphenation)==null?void 0:s.consecutiveHyphenLimit)!==void 0&&this.root.push(new wh("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((a=t.hyphenation)==null?void 0:a.doNotHyphenateCaps)!==void 0&&this.root.push(new Ve("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new $xe(go(At({},(i=t.compatibility)!=null?i:{}),{version:(f=(c=(o=t.compatibility)==null?void 0:o.version)!=null?c:t.compatibilityModeVersion)!=null?f:15})))}}class MP extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class Kxe extends Le{constructor(t){super("w:name"),this.root.push(new MP({val:t}))}}class Xxe extends Le{constructor(t){super("w:uiPriority"),this.root.push(new MP({val:ks(t)}))}}class Yxe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class FP extends Le{constructor(t,r){super("w:style"),this.root.push(new Yxe(t)),r.name&&this.root.push(new Kxe(r.name)),r.basedOn&&this.root.push(new $u("w:basedOn",r.basedOn)),r.next&&this.root.push(new $u("w:next",r.next)),r.link&&this.root.push(new $u("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new Xxe(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Ve("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Ve("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Ve("w:qFormat",r.quickFormat))}}class s1 extends FP{constructor(t){super({type:"paragraph",styleId:t.id},t),Fe(this,"paragraphProperties"),Fe(this,"runProperties"),this.paragraphProperties=new ud(t.paragraph),this.runProperties=new Wc(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class a1 extends FP{constructor(t){super({type:"character",styleId:t.id},At({uiPriority:99,unhideWhenUsed:!0},t)),Fe(this,"runProperties"),this.runProperties=new Wc(t.run),this.root.push(this.runProperties)}}class Il extends s1{constructor(t){super(At({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class Jxe extends Il{constructor(t){super(At({id:"Title",name:"Title"},t))}}class Zxe extends Il{constructor(t){super(At({id:"Heading1",name:"Heading 1"},t))}}class Qxe extends Il{constructor(t){super(At({id:"Heading2",name:"Heading 2"},t))}}class ege extends Il{constructor(t){super(At({id:"Heading3",name:"Heading 3"},t))}}class tge extends Il{constructor(t){super(At({id:"Heading4",name:"Heading 4"},t))}}class rge extends Il{constructor(t){super(At({id:"Heading5",name:"Heading 5"},t))}}class nge extends Il{constructor(t){super(At({id:"Heading6",name:"Heading 6"},t))}}class sge extends Il{constructor(t){super(At({id:"Strong",name:"Strong"},t))}}class age extends s1{constructor(t){super(At({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class ige extends s1{constructor(t){super(At({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:wE.AUTO}},run:{size:20}},t))}}class oge extends a1{constructor(t){super(At({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class lge extends a1{constructor(t){super(At({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class cge extends a1{constructor(t){super(At({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:wP.SINGLE}}},t))}}class _E extends Le{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new s1(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new a1(r))}}class uge extends Le{constructor(t){super("w:pPrDefault"),this.root.push(new ud(t))}}class dge extends Le{constructor(t){super("w:rPrDefault"),this.root.push(new Wc(t))}}class fge extends Le{constructor(t){super("w:docDefaults"),Fe(this,"runPropertiesDefaults"),Fe(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new dge(t.run),this.paragraphPropertiesDefaults=new uge(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class hge{newInstance(t){const r=pP.xml2js(t,{compact:!1});let n;for(const i of r.elements||[])i.name==="w:styles"&&(n=i);if(n===void 0)throw new Error("can not find styles element");const s=n.elements||[];return new _E({initialStyles:new r0e(n.attributes),importedStyles:s.map(i=>kS(i))})}}class n6{newInstance(t={}){var r;return{initialStyles:new n1(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new fge((r=t.document)!=null?r:{}),new Jxe(At({run:{size:56}},t.title)),new Zxe(At({run:{color:"2E74B5",size:32}},t.heading1)),new Qxe(At({run:{color:"2E74B5",size:26}},t.heading2)),new ege(At({run:{color:"1F4D78",size:24}},t.heading3)),new tge(At({run:{color:"2E74B5",italics:!0}},t.heading4)),new rge(At({run:{color:"2E74B5"}},t.heading5)),new nge(At({run:{color:"1F4D78"}},t.heading6)),new sge(At({run:{bold:!0}},t.strong)),new age(t.listParagraph||{}),new cge(t.hyperlink||{}),new oge(t.footnoteReference||{}),new ige(t.footnoteText||{}),new lge(t.footnoteTextChar||{})]}}}let pge=class{constructor(t){Fe(this,"currentRelationshipId",1),Fe(this,"documentWrapper"),Fe(this,"headers",[]),Fe(this,"footers",[]),Fe(this,"coreProperties"),Fe(this,"numbering"),Fe(this,"media"),Fe(this,"fileRelationships"),Fe(this,"footnotesWrapper"),Fe(this,"settings"),Fe(this,"contentTypes"),Fe(this,"customProperties"),Fe(this,"appProperties"),Fe(this,"styles"),Fe(this,"comments"),Fe(this,"fontWrapper");var r,n,s,a,i,o,c,f,h,m,x,g;if(this.coreProperties=new Zme(go(At({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(n=t.revision)!=null?n:1,lastModifiedBy:(s=t.lastModifiedBy)!=null?s:"Un-named"})),this.numbering=new Hxe(t.numbering?t.numbering:{config:[]}),this.comments=new nme((a=t.comments)!=null?a:{children:[]}),this.fileRelationships=new Gc,this.customProperties=new sxe((i=t.customProperties)!=null?i:[]),this.appProperties=new Gme,this.footnotesWrapper=new wxe,this.contentTypes=new Jme,this.documentWrapper=new IP({background:t.background}),this.settings=new Gxe({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(o=t.features)==null?void 0:o.trackRevisions,updateFields:(c=t.features)==null?void 0:c.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(f=t.hyphenation)==null?void 0:f.autoHyphenation,hyphenationZone:(h=t.hyphenation)==null?void 0:h.hyphenationZone,consecutiveHyphenLimit:(m=t.hyphenation)==null?void 0:m.consecutiveHyphenLimit,doNotHyphenateCaps:(x=t.hyphenation)==null?void 0:x.doNotHyphenateCaps}}),this.media=new Nxe,t.externalStyles!==void 0){const v=new hge;this.styles=v.newInstance(t.externalStyles)}else if(t.styles){const y=new n6().newInstance(t.styles.default);this.styles=new _E(At(At({},y),t.styles))}else{const v=new n6;this.styles=new _E(v.newInstance())}this.addDefaultRelationships();for(const v of t.sections)this.addSection(v);if(t.footnotes)for(const v in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(v),t.footnotes[v].children);this.fontWrapper=new lxe((g=t.fonts)!=null?g:[])}addSection({headers:t={},footers:r={},children:n,properties:s}){this.documentWrapper.View.Body.addSection(go(At({},s),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const a of n)this.documentWrapper.View.add(a)}createHeader(t){const r=new Sxe(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(t){const r=new dxe(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Wu.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Wu.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var mge=TS();function jm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var a2={exports:{}},s6;function xge(){return s6||(s6=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,s,a){function i(f,h){if(!s[f]){if(!n[f]){var m=typeof jm=="function"&&jm;if(!h&&m)return m(f,!0);if(o)return o(f,!0);var x=new Error("Cannot find module '"+f+"'");throw x.code="MODULE_NOT_FOUND",x}var g=s[f]={exports:{}};n[f][0].call(g.exports,function(v){var y=n[f][1][v];return i(y||v)},g,g.exports,r,n,s,a)}return s[f].exports}for(var o=typeof jm=="function"&&jm,c=0;c<a.length;c++)i(a[c]);return i})({1:[function(r,n,s){var a=r("./utils"),i=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var f,h,m,x,g,v,y,w=[],E=0,N=c.length,_=N,S=a.getTypeOf(c)!=="string";E<c.length;)_=N-E,m=S?(f=c[E++],h=E<N?c[E++]:0,E<N?c[E++]:0):(f=c.charCodeAt(E++),h=E<N?c.charCodeAt(E++):0,E<N?c.charCodeAt(E++):0),x=f>>2,g=(3&f)<<4|h>>4,v=1<_?(15&h)<<2|m>>6:64,y=2<_?63&m:64,w.push(o.charAt(x)+o.charAt(g)+o.charAt(v)+o.charAt(y));return w.join("")},s.decode=function(c){var f,h,m,x,g,v,y=0,w=0,E="data:";if(c.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var N,_=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&_--,c.charAt(c.length-2)===o.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=i.uint8array?new Uint8Array(0|_):new Array(0|_);y<c.length;)f=o.indexOf(c.charAt(y++))<<2|(x=o.indexOf(c.charAt(y++)))>>4,h=(15&x)<<4|(g=o.indexOf(c.charAt(y++)))>>2,m=(3&g)<<6|(v=o.indexOf(c.charAt(y++))),N[w++]=f,g!==64&&(N[w++]=h),v!==64&&(N[w++]=m);return N}},{"./support":30,"./utils":32}],2:[function(r,n,s){var a=r("./external"),i=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function f(h,m,x,g,v){this.compressedSize=h,this.uncompressedSize=m,this.crc32=x,this.compression=g,this.compressedContent=v}f.prototype={getContentWorker:function(){var h=new i(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),m=this;return h.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new i(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(h,m,x){return h.pipe(new o).pipe(new c("uncompressedSize")).pipe(m.compressWorker(x)).pipe(new c("compressedSize")).withStreamInfo("compression",m)},n.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var a=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var a=r("./utils"),i=(function(){for(var o,c=[],f=0;f<256;f++){o=f;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[f]=o}return c})();n.exports=function(o,c){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?(function(f,h,m,x){var g=i,v=x+m;f^=-1;for(var y=x;y<v;y++)f=f>>>8^g[255&(f^h[y])];return-1^f})(0|c,o,o.length,0):(function(f,h,m,x){var g=i,v=x+m;f^=-1;for(var y=x;y<v;y++)f=f>>>8^g[255&(f^h.charCodeAt(y))];return-1^f})(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),f=a?"uint8array":"array";function h(m,x){c.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=x,this.meta={}}s.magic="\b\0",o.inherits(h,c),h.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(f,m.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(x){m.push({data:x,meta:m.meta})}},s.compressWorker=function(m){return new h("Deflate",m)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function a(g,v){var y,w="";for(y=0;y<v;y++)w+=String.fromCharCode(255&g),g>>>=8;return w}function i(g,v,y,w,E,N){var _,S,k=g.file,L=g.compression,R=N!==f.utf8encode,H=o.transformTo("string",N(k.name)),O=o.transformTo("string",f.utf8encode(k.name)),Z=k.comment,ae=o.transformTo("string",N(Z)),P=o.transformTo("string",f.utf8encode(Z)),X=O.length!==k.name.length,M=P.length!==Z.length,ie="",J="",ee="",xe=k.dir,oe=k.date,we={crc32:0,compressedSize:0,uncompressedSize:0};v&&!y||(we.crc32=g.crc32,we.compressedSize=g.compressedSize,we.uncompressedSize=g.uncompressedSize);var G=0;v&&(G|=8),R||!X&&!M||(G|=2048);var D=0,W=0;xe&&(D|=16),E==="UNIX"?(W=798,D|=(function(re,se){var I=re;return re||(I=se?16893:33204),(65535&I)<<16})(k.unixPermissions,xe)):(W=20,D|=(function(re){return 63&(re||0)})(k.dosPermissions)),_=oe.getUTCHours(),_<<=6,_|=oe.getUTCMinutes(),_<<=5,_|=oe.getUTCSeconds()/2,S=oe.getUTCFullYear()-1980,S<<=4,S|=oe.getUTCMonth()+1,S<<=5,S|=oe.getUTCDate(),X&&(J=a(1,1)+a(h(H),4)+O,ie+="up"+a(J.length,2)+J),M&&(ee=a(1,1)+a(h(ae),4)+P,ie+="uc"+a(ee.length,2)+ee);var K="";return K+=`
\0`,K+=a(G,2),K+=L.magic,K+=a(_,2),K+=a(S,2),K+=a(we.crc32,4),K+=a(we.compressedSize,4),K+=a(we.uncompressedSize,4),K+=a(H.length,2),K+=a(ie.length,2),{fileRecord:m.LOCAL_FILE_HEADER+K+H+ie,dirRecord:m.CENTRAL_FILE_HEADER+a(W,2)+K+a(ae.length,2)+"\0\0\0\0"+a(D,4)+a(w,4)+H+ie+ae}}var o=r("../utils"),c=r("../stream/GenericWorker"),f=r("../utf8"),h=r("../crc32"),m=r("../signature");function x(g,v,y,w){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=w,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(x,c),x.prototype.push=function(g){var v=g.meta.percent||0,y=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,c.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-w-1))/y:100}}))},x.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var v=this.streamFiles&&!g.file.dir;if(v){var y=i(g,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(g){this.accumulate=!1;var v=this.streamFiles&&!g.file.dir,y=i(g,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:(function(w){return m.DATA_DESCRIPTOR+a(w.crc32,4)+a(w.compressedSize,4)+a(w.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var g=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-g,w=(function(E,N,_,S,k){var L=o.transformTo("string",k(S));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(E,2)+a(E,2)+a(N,4)+a(_,4)+a(L.length,2)+L})(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(g){this._sources.push(g);var v=this;return g.on("data",function(y){v.processChunk(y)}),g.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),g.on("error",function(y){v.error(y)}),this},x.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(g){var v=this._sources;if(!c.prototype.error.call(this,g))return!1;for(var y=0;y<v.length;y++)try{v[y].error(g)}catch{}return!0},x.prototype.lock=function(){c.prototype.lock.call(this);for(var g=this._sources,v=0;v<g.length;v++)g[v].lock()},n.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var a=r("../compressions"),i=r("./ZipFileWorker");s.generateWorker=function(o,c,f){var h=new i(c.streamFiles,f,c.platform,c.encodeFileName),m=0;try{o.forEach(function(x,g){m++;var v=(function(N,_){var S=N||_,k=a[S];if(!k)throw new Error(S+" is not a valid compression method !");return k})(g.options.compression,c.compression),y=g.options.compressionOptions||c.compressionOptions||{},w=g.dir,E=g.date;g._compressWorker(v,y).withStreamInfo("file",{name:x,dir:w,date:E,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(h)}),h.entriesCount=m}catch(x){h.error(x)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new a;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(i,o){return new a().loadAsync(i,o)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var a=r("./utils"),i=r("./external"),o=r("./utf8"),c=r("./zipEntries"),f=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function m(x){return new i.Promise(function(g,v){var y=x.decompressed.getContentWorker().pipe(new f);y.on("error",function(w){v(w)}).on("end",function(){y.streamInfo.crc32!==x.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}n.exports=function(x,g){var v=this;return g=a.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(x)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",x,!0,g.optimizedBinaryString,g.base64).then(function(y){var w=new c(g);return w.load(y),w}).then(function(y){var w=[i.Promise.resolve(y)],E=y.files;if(g.checkCRC32)for(var N=0;N<E.length;N++)w.push(m(E[N]));return i.Promise.all(w)}).then(function(y){for(var w=y.shift(),E=w.files,N=0;N<E.length;N++){var _=E[N],S=_.fileNameStr,k=a.resolve(_.fileNameStr);v.file(k,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:g.createFolders}),_.dir||(v.file(k).unsafeOriginalName=S)}return w.zipComment.length&&(v.comment=w.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var a=r("../utils"),i=r("../stream/GenericWorker");function o(c,f){i.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(o,i),o.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(h){f.push({data:h,meta:{percent:0}})}).on("error",function(h){f.isPaused?this.generatedError=h:f.error(h)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var a=r("readable-stream").Readable;function i(o,c,f){a.call(this,c),this._helper=o;var h=this;o.on("data",function(m,x){h.push(m)||h._helper.pause(),f&&f(x)}).on("error",function(m){h.emit("error",m)}).on("end",function(){h.push(null)})}r("../utils").inherits(i,a),i.prototype._read=function(){this._helper.resume()},n.exports=i},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,i);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,i)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var i=new Buffer(a);return i.fill(0),i},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,s){function a(k,L,R){var H,O=o.getTypeOf(L),Z=o.extend(R||{},h);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(k=E(k)),Z.createFolders&&(H=w(k))&&N.call(this,H,!0);var ae=O==="string"&&Z.binary===!1&&Z.base64===!1;R&&R.binary!==void 0||(Z.binary=!ae),(L instanceof m&&L.uncompressedSize===0||Z.dir||!L||L.length===0)&&(Z.base64=!1,Z.binary=!0,L="",Z.compression="STORE",O="string");var P=null;P=L instanceof m||L instanceof c?L:v.isNode&&v.isStream(L)?new y(k,L):o.prepareContent(k,L,Z.binary,Z.optimizedBinaryString,Z.base64);var X=new x(k,P,Z);this.files[k]=X}var i=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),f=r("./stream/StreamHelper"),h=r("./defaults"),m=r("./compressedObject"),x=r("./zipObject"),g=r("./generate"),v=r("./nodejsUtils"),y=r("./nodejs/NodejsStreamInputAdapter"),w=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var L=k.lastIndexOf("/");return 0<L?k.substring(0,L):""},E=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},N=function(k,L){return L=L!==void 0?L:h.createFolders,k=E(k),this.files[k]||a.call(this,k,null,{dir:!0,createFolders:L}),this.files[k]};function _(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var L,R,H;for(L in this.files)H=this.files[L],(R=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&k(R,H)},filter:function(k){var L=[];return this.forEach(function(R,H){k(R,H)&&L.push(H)}),L},file:function(k,L,R){if(arguments.length!==1)return k=this.root+k,a.call(this,k,L,R),this;if(_(k)){var H=k;return this.filter(function(Z,ae){return!ae.dir&&H.test(Z)})}var O=this.files[this.root+k];return O&&!O.dir?O:null},folder:function(k){if(!k)return this;if(_(k))return this.filter(function(O,Z){return Z.dir&&k.test(O)});var L=this.root+k,R=N.call(this,L),H=this.clone();return H.root=R.name,H},remove:function(k){k=this.root+k;var L=this.files[k];if(L||(k.slice(-1)!=="/"&&(k+="/"),L=this.files[k]),L&&!L.dir)delete this.files[k];else for(var R=this.filter(function(O,Z){return Z.name.slice(0,k.length)===k}),H=0;H<R.length;H++)delete this.files[R[H].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var L,R={};try{if((R=o.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var H=R.comment||this.comment||"";L=g.generateWorker(this,R,H)}catch(O){(L=new c("error")).error(O)}return new f(L,R.type||"string",R.mimeType)},generateAsync:function(k,L){return this.generateInternalStream(k).accumulate(L)},generateNodeStream:function(k,L){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(L)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var a=r("./DataReader");function i(o){a.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(i,a),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),f=o.charCodeAt(1),h=o.charCodeAt(2),m=o.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===c&&this.data[x+1]===f&&this.data[x+2]===h&&this.data[x+3]===m)return x-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),f=o.charCodeAt(1),h=o.charCodeAt(2),m=o.charCodeAt(3),x=this.readData(4);return c===x[0]&&f===x[1]&&h===x[2]&&m===x[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=i},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var a=r("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,f=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=o,f},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=i},{"../utils":32}],19:[function(r,n,s){var a=r("./Uint8ArrayReader");function i(o){a.call(this,o)}r("../utils").inherits(i,a),i.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var a=r("./DataReader");function i(o){a.call(this,o)}r("../utils").inherits(i,a),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=i},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var a=r("./ArrayReader");function i(o){a.call(this,o)}r("../utils").inherits(i,a),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var a=r("../utils"),i=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),f=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");n.exports=function(m){var x=a.getTypeOf(m);return a.checkSupport(x),x!=="string"||i.uint8array?x==="nodebuffer"?new f(m):i.uint8array?new h(a.transformTo("uint8array",m)):new o(a.transformTo("array",m)):new c(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var a=r("./GenericWorker"),i=r("../utils");function o(c){a.call(this,"ConvertWorker to "+c),this.destType=c}i.inherits(o,a),o.prototype.processChunk=function(c){this.push({data:i.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var a=r("./GenericWorker"),i=r("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,a),o.prototype.processChunk=function(c){this.streamInfo.crc32=i(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var a=r("../utils"),i=r("./GenericWorker");function o(c){i.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(o,i),o.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}i.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var a=r("../utils"),i=r("./GenericWorker");function o(c){i.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){f.dataIsReady=!0,f.data=h,f.max=h&&h.length||0,f.type=a.getTypeOf(h),f.isPaused||f._tickAndRepeat()},function(h){f.error(h)})}a.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function a(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var c=0;c<this._listeners[i].length;c++)this._listeners[i][c].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(c){o.processChunk(c)}),i.on("end",function(){o.end()}),i.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},n.exports=a},{}],29:[function(r,n,s){var a=r("../utils"),i=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),f=r("../support"),h=r("../external"),m=null;if(f.nodestream)try{m=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(v,y){return new h.Promise(function(w,E){var N=[],_=v._internalType,S=v._outputType,k=v._mimeType;v.on("data",function(L,R){N.push(L),y&&y(R)}).on("error",function(L){N=[],E(L)}).on("end",function(){try{var L=(function(R,H,O){switch(R){case"blob":return a.newBlob(a.transformTo("arraybuffer",H),O);case"base64":return c.encode(H);default:return a.transformTo(R,H)}})(S,(function(R,H){var O,Z=0,ae=null,P=0;for(O=0;O<H.length;O++)P+=H[O].length;switch(R){case"string":return H.join("");case"array":return Array.prototype.concat.apply([],H);case"uint8array":for(ae=new Uint8Array(P),O=0;O<H.length;O++)ae.set(H[O],Z),Z+=H[O].length;return ae;case"nodebuffer":return Buffer.concat(H);default:throw new Error("concat : unsupported type '"+R+"'")}})(_,N),k);w(L)}catch(R){E(R)}N=[]}).resume()})}function g(v,y,w){var E=y;switch(y){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=y,this._mimeType=w,a.checkSupport(E),this._worker=v.pipe(new i(E)),v.lock()}catch(N){this._worker=new o("error"),this._worker.error(N)}}g.prototype={accumulate:function(v){return x(this,v)},on:function(v,y){var w=this;return v==="data"?this._worker.on(v,function(E){y.call(w,E.data,E.meta)}):this._worker.on(v,function(){a.delay(y,arguments,w)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(a),s.blob=i.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var a=r("./utils"),i=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),f=new Array(256),h=0;h<256;h++)f[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;f[254]=f[254]=1;function m(){c.call(this,"utf-8 decode"),this.leftOver=null}function x(){c.call(this,"utf-8 encode")}s.utf8encode=function(g){return i.nodebuffer?o.newBufferFrom(g,"utf-8"):(function(v){var y,w,E,N,_,S=v.length,k=0;for(N=0;N<S;N++)(64512&(w=v.charCodeAt(N)))==55296&&N+1<S&&(64512&(E=v.charCodeAt(N+1)))==56320&&(w=65536+(w-55296<<10)+(E-56320),N++),k+=w<128?1:w<2048?2:w<65536?3:4;for(y=i.uint8array?new Uint8Array(k):new Array(k),N=_=0;_<k;N++)(64512&(w=v.charCodeAt(N)))==55296&&N+1<S&&(64512&(E=v.charCodeAt(N+1)))==56320&&(w=65536+(w-55296<<10)+(E-56320),N++),w<128?y[_++]=w:(w<2048?y[_++]=192|w>>>6:(w<65536?y[_++]=224|w>>>12:(y[_++]=240|w>>>18,y[_++]=128|w>>>12&63),y[_++]=128|w>>>6&63),y[_++]=128|63&w);return y})(g)},s.utf8decode=function(g){return i.nodebuffer?a.transformTo("nodebuffer",g).toString("utf-8"):(function(v){var y,w,E,N,_=v.length,S=new Array(2*_);for(y=w=0;y<_;)if((E=v[y++])<128)S[w++]=E;else if(4<(N=f[E]))S[w++]=65533,y+=N-1;else{for(E&=N===2?31:N===3?15:7;1<N&&y<_;)E=E<<6|63&v[y++],N--;1<N?S[w++]=65533:E<65536?S[w++]=E:(E-=65536,S[w++]=55296|E>>10&1023,S[w++]=56320|1023&E)}return S.length!==w&&(S.subarray?S=S.subarray(0,w):S.length=w),a.applyFromCharCode(S)})(g=a.transformTo(i.uint8array?"uint8array":"array",g))},a.inherits(m,c),m.prototype.processChunk=function(g){var v=a.transformTo(i.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var y=v;(v=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var w=(function(N,_){var S;for((_=_||N.length)>N.length&&(_=N.length),S=_-1;0<=S&&(192&N[S])==128;)S--;return S<0||S===0?_:S+f[N[S]]>_?S:_})(v),E=v;w!==v.length&&(i.uint8array?(E=v.subarray(0,w),this.leftOver=v.subarray(w,v.length)):(E=v.slice(0,w),this.leftOver=v.slice(w,v.length))),this.push({data:s.utf8decode(E),meta:g.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=m,a.inherits(x,c),x.prototype.processChunk=function(g){this.push({data:s.utf8encode(g.data),meta:g.meta})},s.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var a=r("./support"),i=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function f(y){return y}function h(y,w){for(var E=0;E<y.length;++E)w[E]=255&y.charCodeAt(E);return w}r("setimmediate"),s.newBlob=function(y,w){s.checkSupport("blob");try{return new Blob([y],{type:w})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(y),E.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,w,E){var N=[],_=0,S=y.length;if(S<=E)return String.fromCharCode.apply(null,y);for(;_<S;)w==="array"||w==="nodebuffer"?N.push(String.fromCharCode.apply(null,y.slice(_,Math.min(_+E,S)))):N.push(String.fromCharCode.apply(null,y.subarray(_,Math.min(_+E,S)))),_+=E;return N.join("")},stringifyByChar:function(y){for(var w="",E=0;E<y.length;E++)w+=String.fromCharCode(y[E]);return w},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function x(y){var w=65536,E=s.getTypeOf(y),N=!0;if(E==="uint8array"?N=m.applyCanBeUsed.uint8array:E==="nodebuffer"&&(N=m.applyCanBeUsed.nodebuffer),N)for(;1<w;)try{return m.stringifyByChunk(y,E,w)}catch{w=Math.floor(w/2)}return m.stringifyByChar(y)}function g(y,w){for(var E=0;E<y.length;E++)w[E]=y[E];return w}s.applyFromCharCode=x;var v={};v.string={string:f,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return v.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,o.allocBuffer(y.length))}},v.array={string:x,array:f,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(y)}},v.arraybuffer={string:function(y){return x(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:f,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(new Uint8Array(y))}},v.uint8array={string:x,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:f,nodebuffer:function(y){return o.newBufferFrom(y)}},v.nodebuffer={string:x,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return v.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:f},s.transformTo=function(y,w){if(w=w||"",!y)return w;s.checkSupport(y);var E=s.getTypeOf(w);return v[E][y](w)},s.resolve=function(y){for(var w=y.split("/"),E=[],N=0;N<w.length;N++){var _=w[N];_==="."||_===""&&N!==0&&N!==w.length-1||(_===".."?E.pop():E.push(_))}return E.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var w,E,N="";for(E=0;E<(y||"").length;E++)N+="\\x"+((w=y.charCodeAt(E))<16?"0":"")+w.toString(16).toUpperCase();return N},s.delay=function(y,w,E){setImmediate(function(){y.apply(E||null,w||[])})},s.inherits=function(y,w){function E(){}E.prototype=w.prototype,y.prototype=new E},s.extend=function(){var y,w,E={};for(y=0;y<arguments.length;y++)for(w in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],w)&&E[w]===void 0&&(E[w]=arguments[y][w]);return E},s.prepareContent=function(y,w,E,N,_){return c.Promise.resolve(w).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new c.Promise(function(k,L){var R=new FileReader;R.onload=function(H){k(H.target.result)},R.onerror=function(H){L(H.target.error)},R.readAsArrayBuffer(S)}):S}).then(function(S){var k=s.getTypeOf(S);return k?(k==="arraybuffer"?S=s.transformTo("uint8array",S):k==="string"&&(_?S=i.decode(S):E&&N!==!0&&(S=(function(L){return h(L,a.uint8array?new Uint8Array(L.length):new Array(L.length))})(S))),S):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var a=r("./reader/readerFor"),i=r("./utils"),o=r("./signature"),c=r("./zipEntry"),f=r("./support");function h(m){this.files=[],this.loadOptions=m}h.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(x)+", expected "+i.pretty(m)+")")}},isSignature:function(m,x){var g=this.reader.index;this.reader.setIndex(m);var v=this.reader.readString(4)===x;return this.reader.setIndex(g),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),x=f.uint8array?"uint8array":"array",g=i.transformTo(x,m);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,x,g,v=this.zip64EndOfCentralSize-44;0<v;)m=this.reader.readInt(2),x=this.reader.readInt(4),g=this.reader.readData(x),this.zip64ExtensibleData[m]={id:m,length:x,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,x;for(m=0;m<this.files.length;m++)x=this.files[m],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(m=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var x=m;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var v=x-g;if(0<v)this.isSignature(x,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var a=r("./reader/readerFor"),i=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),f=r("./utf8"),h=r("./compressions"),m=r("./support");function x(g,v){this.options=g,this.loadOptions=v}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var v,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(w){for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)&&h[E].magic===w)return h[E];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var v=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(v),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var v,y,w,E=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<E;)v=g.readInt(2),y=g.readInt(2),w=g.readData(y),this.extraFields[v]={id:v,length:y,value:w};g.setIndex(E)},handleUTF8:function(){var g=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=i.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var E=i.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var v=a(g.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:f.utf8decode(v.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var v=a(g.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:f.utf8decode(v.readData(g.length-5))}return null}},n.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function a(v,y,w){this.name=v,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=y,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var i=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),f=r("./compressedObject"),h=r("./stream/GenericWorker");a.prototype={internalStream:function(v){var y=null,w="string";try{if(!v)throw new Error("No output type specified.");var E=(w=v.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),y=this._decompressWorker();var N=!this._dataBinary;N&&!E&&(y=y.pipe(new c.Utf8EncodeWorker)),!N&&E&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(_){(y=new h("error")).error(_)}return new i(y,w,"")},async:function(v,y){return this.internalStream(v).accumulate(y)},nodeStream:function(v,y){return this.internalStream(v||"nodebuffer").toNodejsStream(y)},_compressWorker:function(v,y){if(this._data instanceof f&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(w,v,y)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<m.length;g++)a.prototype[m[g]]=x;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(a){var i,o,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var f=0,h=new c(v),m=a.document.createTextNode("");h.observe(m,{characterData:!0}),i=function(){m.data=f=++f%2}}else if(a.setImmediate||a.MessageChannel===void 0)i="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){v(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(v,0)};else{var x=new a.MessageChannel;x.port1.onmessage=v,i=function(){x.port2.postMessage(0)}}var g=[];function v(){var y,w;o=!0;for(var E=g.length;E;){for(w=g,g=[],y=-1;++y<E;)w[y]();E=g.length}o=!1}n.exports=function(y){g.push(y)!==1||o||i()}}).call(this,typeof mi<"u"?mi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var a=r("immediate");function i(){}var o={},c=["REJECTED"],f=["FULFILLED"],h=["PENDING"];function m(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,E!==i&&y(this,E)}function x(E,N,_){this.promise=E,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function g(E,N,_){a(function(){var S;try{S=N(_)}catch(k){return o.reject(E,k)}S===E?o.reject(E,new TypeError("Cannot resolve promise with itself")):o.resolve(E,S)})}function v(E){var N=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof N=="function")return function(){N.apply(E,arguments)}}function y(E,N){var _=!1;function S(R){_||(_=!0,o.reject(E,R))}function k(R){_||(_=!0,o.resolve(E,R))}var L=w(function(){N(k,S)});L.status==="error"&&S(L.value)}function w(E,N){var _={};try{_.value=E(N),_.status="success"}catch(S){_.status="error",_.value=S}return _}(n.exports=m).prototype.finally=function(E){if(typeof E!="function")return this;var N=this.constructor;return this.then(function(_){return N.resolve(E()).then(function(){return _})},function(_){return N.resolve(E()).then(function(){throw _})})},m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,N){if(typeof E!="function"&&this.state===f||typeof N!="function"&&this.state===c)return this;var _=new this.constructor(i);return this.state!==h?g(_,this.state===f?E:N,this.outcome):this.queue.push(new x(_,E,N)),_},x.prototype.callFulfilled=function(E){o.resolve(this.promise,E)},x.prototype.otherCallFulfilled=function(E){g(this.promise,this.onFulfilled,E)},x.prototype.callRejected=function(E){o.reject(this.promise,E)},x.prototype.otherCallRejected=function(E){g(this.promise,this.onRejected,E)},o.resolve=function(E,N){var _=w(v,N);if(_.status==="error")return o.reject(E,_.value);var S=_.value;if(S)y(E,S);else{E.state=f,E.outcome=N;for(var k=-1,L=E.queue.length;++k<L;)E.queue[k].callFulfilled(N)}return E},o.reject=function(E,N){E.state=c,E.outcome=N;for(var _=-1,S=E.queue.length;++_<S;)E.queue[_].callRejected(N);return E},m.resolve=function(E){return E instanceof this?E:o.resolve(new this(i),E)},m.reject=function(E){var N=new this(i);return o.reject(N,E)},m.all=function(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=E.length,S=!1;if(!_)return this.resolve([]);for(var k=new Array(_),L=0,R=-1,H=new this(i);++R<_;)O(E[R],R);return H;function O(Z,ae){N.resolve(Z).then(function(P){k[ae]=P,++L!==_||S||(S=!0,o.resolve(H,k))},function(P){S||(S=!0,o.reject(H,P))})}},m.race=function(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=E.length,S=!1;if(!_)return this.resolve([]);for(var k=-1,L=new this(i);++k<_;)R=E[k],N.resolve(R).then(function(H){S||(S=!0,o.resolve(L,H))},function(H){S||(S=!0,o.reject(L,H))});var R;return L}},{immediate:36}],38:[function(r,n,s){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var a=r("./zlib/deflate"),i=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),f=r("./zlib/zstream"),h=Object.prototype.toString,m=0,x=-1,g=0,v=8;function y(E){if(!(this instanceof y))return new y(E);this.options=i.assign({level:x,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},E||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=a.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(_!==m)throw new Error(c[_]);if(N.header&&a.deflateSetHeader(this.strm,N.header),N.dictionary){var S;if(S=typeof N.dictionary=="string"?o.string2buf(N.dictionary):h.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(_=a.deflateSetDictionary(this.strm,S))!==m)throw new Error(c[_]);this._dict_set=!0}}function w(E,N){var _=new y(N);if(_.push(E,!0),_.err)throw _.msg||c[_.err];return _.result}y.prototype.push=function(E,N){var _,S,k=this.strm,L=this.options.chunkSize;if(this.ended)return!1;S=N===~~N?N:N===!0?4:0,typeof E=="string"?k.input=o.string2buf(E):h.call(E)==="[object ArrayBuffer]"?k.input=new Uint8Array(E):k.input=E,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new i.Buf8(L),k.next_out=0,k.avail_out=L),(_=a.deflate(k,S))!==1&&_!==m)return this.onEnd(_),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(k.output,k.next_out))):this.onData(i.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&_!==1);return S===4?(_=a.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===m):S!==2||(this.onEnd(m),!(k.avail_out=0))},y.prototype.onData=function(E){this.chunks.push(E)},y.prototype.onEnd=function(E){E===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},s.Deflate=y,s.deflate=w,s.deflateRaw=function(E,N){return(N=N||{}).raw=!0,w(E,N)},s.gzip=function(E,N){return(N=N||{}).gzip=!0,w(E,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var a=r("./zlib/inflate"),i=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),f=r("./zlib/messages"),h=r("./zlib/zstream"),m=r("./zlib/gzheader"),x=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},y||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||y&&y.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var E=a.inflateInit2(this.strm,w.windowBits);if(E!==c.Z_OK)throw new Error(f[E]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function v(y,w){var E=new g(w);if(E.push(y,!0),E.err)throw E.msg||f[E.err];return E.result}g.prototype.push=function(y,w){var E,N,_,S,k,L,R=this.strm,H=this.options.chunkSize,O=this.options.dictionary,Z=!1;if(this.ended)return!1;N=w===~~w?w:w===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?R.input=o.binstring2buf(y):x.call(y)==="[object ArrayBuffer]"?R.input=new Uint8Array(y):R.input=y,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new i.Buf8(H),R.next_out=0,R.avail_out=H),(E=a.inflate(R,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&O&&(L=typeof O=="string"?o.string2buf(O):x.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,E=a.inflateSetDictionary(this.strm,L)),E===c.Z_BUF_ERROR&&Z===!0&&(E=c.Z_OK,Z=!1),E!==c.Z_STREAM_END&&E!==c.Z_OK)return this.onEnd(E),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&E!==c.Z_STREAM_END&&(R.avail_in!==0||N!==c.Z_FINISH&&N!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=o.utf8border(R.output,R.next_out),S=R.next_out-_,k=o.buf2string(R.output,_),R.next_out=S,R.avail_out=H-S,S&&i.arraySet(R.output,R.output,_,S,0),this.onData(k)):this.onData(i.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(Z=!0)}while((0<R.avail_in||R.avail_out===0)&&E!==c.Z_STREAM_END);return E===c.Z_STREAM_END&&(N=c.Z_FINISH),N===c.Z_FINISH?(E=a.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c.Z_OK):N!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(R.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=g,s.inflate=v,s.inflateRaw=function(y,w){return(w=w||{}).raw=!0,v(y,w)},s.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var h=f.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var m in h)h.hasOwnProperty(m)&&(c[m]=h[m])}}return c},s.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var i={arraySet:function(c,f,h,m,x){if(f.subarray&&c.subarray)c.set(f.subarray(h,h+m),x);else for(var g=0;g<m;g++)c[x+g]=f[h+g]},flattenChunks:function(c){var f,h,m,x,g,v;for(f=m=0,h=c.length;f<h;f++)m+=c[f].length;for(v=new Uint8Array(m),f=x=0,h=c.length;f<h;f++)g=c[f],v.set(g,x),x+=g.length;return v}},o={arraySet:function(c,f,h,m,x){for(var g=0;g<m;g++)c[x+g]=f[h+g]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,i)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(a)},{}],42:[function(r,n,s){var a=r("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new a.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function h(m,x){if(x<65537&&(m.subarray&&o||!m.subarray&&i))return String.fromCharCode.apply(null,a.shrinkBuf(m,x));for(var g="",v=0;v<x;v++)g+=String.fromCharCode(m[v]);return g}c[254]=c[254]=1,s.string2buf=function(m){var x,g,v,y,w,E=m.length,N=0;for(y=0;y<E;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<E&&(64512&(v=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),N+=g<128?1:g<2048?2:g<65536?3:4;for(x=new a.Buf8(N),y=w=0;w<N;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<E&&(64512&(v=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),g<128?x[w++]=g:(g<2048?x[w++]=192|g>>>6:(g<65536?x[w++]=224|g>>>12:(x[w++]=240|g>>>18,x[w++]=128|g>>>12&63),x[w++]=128|g>>>6&63),x[w++]=128|63&g);return x},s.buf2binstring=function(m){return h(m,m.length)},s.binstring2buf=function(m){for(var x=new a.Buf8(m.length),g=0,v=x.length;g<v;g++)x[g]=m.charCodeAt(g);return x},s.buf2string=function(m,x){var g,v,y,w,E=x||m.length,N=new Array(2*E);for(g=v=0;g<E;)if((y=m[g++])<128)N[v++]=y;else if(4<(w=c[y]))N[v++]=65533,g+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&g<E;)y=y<<6|63&m[g++],w--;1<w?N[v++]=65533:y<65536?N[v++]=y:(y-=65536,N[v++]=55296|y>>10&1023,N[v++]=56320|1023&y)}return h(N,v)},s.utf8border=function(m,x){var g;for((x=x||m.length)>m.length&&(x=m.length),g=x-1;0<=g&&(192&m[g])==128;)g--;return g<0||g===0?x:g+c[m[g]]>x?g:x}},{"./common":41}],43:[function(r,n,s){n.exports=function(a,i,o,c){for(var f=65535&a|0,h=a>>>16&65535|0,m=0;o!==0;){for(o-=m=2e3<o?2e3:o;h=h+(f=f+i[c++]|0)|0,--m;);f%=65521,h%=65521}return f|h<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var a=(function(){for(var i,o=[],c=0;c<256;c++){i=c;for(var f=0;f<8;f++)i=1&i?3988292384^i>>>1:i>>>1;o[c]=i}return o})();n.exports=function(i,o,c,f){var h=a,m=f+c;i^=-1;for(var x=f;x<m;x++)i=i>>>8^h[255&(i^o[x])];return-1^i}},{}],46:[function(r,n,s){var a,i=r("../utils/common"),o=r("./trees"),c=r("./adler32"),f=r("./crc32"),h=r("./messages"),m=0,x=4,g=0,v=-2,y=-1,w=4,E=2,N=8,_=9,S=286,k=30,L=19,R=2*S+1,H=15,O=3,Z=258,ae=Z+O+1,P=42,X=113,M=1,ie=2,J=3,ee=4;function xe(B,Ee){return B.msg=h[Ee],Ee}function oe(B){return(B<<1)-(4<B?9:0)}function we(B){for(var Ee=B.length;0<=--Ee;)B[Ee]=0}function G(B){var Ee=B.state,q=Ee.pending;q>B.avail_out&&(q=B.avail_out),q!==0&&(i.arraySet(B.output,Ee.pending_buf,Ee.pending_out,q,B.next_out),B.next_out+=q,Ee.pending_out+=q,B.total_out+=q,B.avail_out-=q,Ee.pending-=q,Ee.pending===0&&(Ee.pending_out=0))}function D(B,Ee){o._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,Ee),B.block_start=B.strstart,G(B.strm)}function W(B,Ee){B.pending_buf[B.pending++]=Ee}function K(B,Ee){B.pending_buf[B.pending++]=Ee>>>8&255,B.pending_buf[B.pending++]=255&Ee}function re(B,Ee){var q,C,j=B.max_chain_length,U=B.strstart,ue=B.prev_length,ye=B.nice_match,he=B.strstart>B.w_size-ae?B.strstart-(B.w_size-ae):0,ke=B.window,De=B.w_mask,Pe=B.prev,We=B.strstart+Z,et=ke[U+ue-1],tt=ke[U+ue];B.prev_length>=B.good_match&&(j>>=2),ye>B.lookahead&&(ye=B.lookahead);do if(ke[(q=Ee)+ue]===tt&&ke[q+ue-1]===et&&ke[q]===ke[U]&&ke[++q]===ke[U+1]){U+=2,q++;do;while(ke[++U]===ke[++q]&&ke[++U]===ke[++q]&&ke[++U]===ke[++q]&&ke[++U]===ke[++q]&&ke[++U]===ke[++q]&&ke[++U]===ke[++q]&&ke[++U]===ke[++q]&&ke[++U]===ke[++q]&&U<We);if(C=Z-(We-U),U=We-Z,ue<C){if(B.match_start=Ee,ye<=(ue=C))break;et=ke[U+ue-1],tt=ke[U+ue]}}while((Ee=Pe[Ee&De])>he&&--j!=0);return ue<=B.lookahead?ue:B.lookahead}function se(B){var Ee,q,C,j,U,ue,ye,he,ke,De,Pe=B.w_size;do{if(j=B.window_size-B.lookahead-B.strstart,B.strstart>=Pe+(Pe-ae)){for(i.arraySet(B.window,B.window,Pe,Pe,0),B.match_start-=Pe,B.strstart-=Pe,B.block_start-=Pe,Ee=q=B.hash_size;C=B.head[--Ee],B.head[Ee]=Pe<=C?C-Pe:0,--q;);for(Ee=q=Pe;C=B.prev[--Ee],B.prev[Ee]=Pe<=C?C-Pe:0,--q;);j+=Pe}if(B.strm.avail_in===0)break;if(ue=B.strm,ye=B.window,he=B.strstart+B.lookahead,ke=j,De=void 0,De=ue.avail_in,ke<De&&(De=ke),q=De===0?0:(ue.avail_in-=De,i.arraySet(ye,ue.input,ue.next_in,De,he),ue.state.wrap===1?ue.adler=c(ue.adler,ye,De,he):ue.state.wrap===2&&(ue.adler=f(ue.adler,ye,De,he)),ue.next_in+=De,ue.total_in+=De,De),B.lookahead+=q,B.lookahead+B.insert>=O)for(U=B.strstart-B.insert,B.ins_h=B.window[U],B.ins_h=(B.ins_h<<B.hash_shift^B.window[U+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[U+O-1])&B.hash_mask,B.prev[U&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=U,U++,B.insert--,!(B.lookahead+B.insert<O)););}while(B.lookahead<ae&&B.strm.avail_in!==0)}function I(B,Ee){for(var q,C;;){if(B.lookahead<ae){if(se(B),B.lookahead<ae&&Ee===m)return M;if(B.lookahead===0)break}if(q=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,q=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),q!==0&&B.strstart-q<=B.w_size-ae&&(B.match_length=re(B,q)),B.match_length>=O)if(C=o._tr_tally(B,B.strstart-B.match_start,B.match_length-O),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=O){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,q=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else C=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(C&&(D(B,!1),B.strm.avail_out===0))return M}return B.insert=B.strstart<O-1?B.strstart:O-1,Ee===x?(D(B,!0),B.strm.avail_out===0?J:ee):B.last_lit&&(D(B,!1),B.strm.avail_out===0)?M:ie}function F(B,Ee){for(var q,C,j;;){if(B.lookahead<ae){if(se(B),B.lookahead<ae&&Ee===m)return M;if(B.lookahead===0)break}if(q=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,q=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=O-1,q!==0&&B.prev_length<B.max_lazy_match&&B.strstart-q<=B.w_size-ae&&(B.match_length=re(B,q),B.match_length<=5&&(B.strategy===1||B.match_length===O&&4096<B.strstart-B.match_start)&&(B.match_length=O-1)),B.prev_length>=O&&B.match_length<=B.prev_length){for(j=B.strstart+B.lookahead-O,C=o._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-O),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=j&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,q=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=O-1,B.strstart++,C&&(D(B,!1),B.strm.avail_out===0))return M}else if(B.match_available){if((C=o._tr_tally(B,0,B.window[B.strstart-1]))&&D(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return M}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(C=o._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<O-1?B.strstart:O-1,Ee===x?(D(B,!0),B.strm.avail_out===0?J:ee):B.last_lit&&(D(B,!1),B.strm.avail_out===0)?M:ie}function ne(B,Ee,q,C,j){this.good_length=B,this.max_lazy=Ee,this.nice_length=q,this.max_chain=C,this.func=j}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*R),this.dyn_dtree=new i.Buf16(2*(2*k+1)),this.bl_tree=new i.Buf16(2*(2*L+1)),we(this.dyn_ltree),we(this.dyn_dtree),we(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(H+1),this.heap=new i.Buf16(2*S+1),we(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*S+1),we(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(B){var Ee;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=E,(Ee=B.state).pending=0,Ee.pending_out=0,Ee.wrap<0&&(Ee.wrap=-Ee.wrap),Ee.status=Ee.wrap?P:X,B.adler=Ee.wrap===2?0:1,Ee.last_flush=m,o._tr_init(Ee),g):xe(B,v)}function z(B){var Ee=Q(B);return Ee===g&&(function(q){q.window_size=2*q.w_size,we(q.head),q.max_lazy_match=a[q.level].max_lazy,q.good_match=a[q.level].good_length,q.nice_match=a[q.level].nice_length,q.max_chain_length=a[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=O-1,q.match_available=0,q.ins_h=0})(B.state),Ee}function be(B,Ee,q,C,j,U){if(!B)return v;var ue=1;if(Ee===y&&(Ee=6),C<0?(ue=0,C=-C):15<C&&(ue=2,C-=16),j<1||_<j||q!==N||C<8||15<C||Ee<0||9<Ee||U<0||w<U)return xe(B,v);C===8&&(C=9);var ye=new te;return(B.state=ye).strm=B,ye.wrap=ue,ye.gzhead=null,ye.w_bits=C,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=j+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+O-1)/O),ye.window=new i.Buf8(2*ye.w_size),ye.head=new i.Buf16(ye.hash_size),ye.prev=new i.Buf16(ye.w_size),ye.lit_bufsize=1<<j+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new i.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=Ee,ye.strategy=U,ye.method=q,z(B)}a=[new ne(0,0,0,0,function(B,Ee){var q=65535;for(q>B.pending_buf_size-5&&(q=B.pending_buf_size-5);;){if(B.lookahead<=1){if(se(B),B.lookahead===0&&Ee===m)return M;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var C=B.block_start+q;if((B.strstart===0||B.strstart>=C)&&(B.lookahead=B.strstart-C,B.strstart=C,D(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-ae&&(D(B,!1),B.strm.avail_out===0))return M}return B.insert=0,Ee===x?(D(B,!0),B.strm.avail_out===0?J:ee):(B.strstart>B.block_start&&(D(B,!1),B.strm.avail_out),M)}),new ne(4,4,8,4,I),new ne(4,5,16,8,I),new ne(4,6,32,32,I),new ne(4,4,16,16,F),new ne(8,16,32,32,F),new ne(8,16,128,128,F),new ne(8,32,128,256,F),new ne(32,128,258,1024,F),new ne(32,258,258,4096,F)],s.deflateInit=function(B,Ee){return be(B,Ee,N,15,8,0)},s.deflateInit2=be,s.deflateReset=z,s.deflateResetKeep=Q,s.deflateSetHeader=function(B,Ee){return B&&B.state?B.state.wrap!==2?v:(B.state.gzhead=Ee,g):v},s.deflate=function(B,Ee){var q,C,j,U;if(!B||!B.state||5<Ee||Ee<0)return B?xe(B,v):v;if(C=B.state,!B.output||!B.input&&B.avail_in!==0||C.status===666&&Ee!==x)return xe(B,B.avail_out===0?-5:v);if(C.strm=B,q=C.last_flush,C.last_flush=Ee,C.status===P)if(C.wrap===2)B.adler=0,W(C,31),W(C,139),W(C,8),C.gzhead?(W(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),W(C,255&C.gzhead.time),W(C,C.gzhead.time>>8&255),W(C,C.gzhead.time>>16&255),W(C,C.gzhead.time>>24&255),W(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),W(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(W(C,255&C.gzhead.extra.length),W(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(B.adler=f(B.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(W(C,0),W(C,0),W(C,0),W(C,0),W(C,0),W(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),W(C,3),C.status=X);else{var ue=N+(C.w_bits-8<<4)<<8;ue|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(ue|=32),ue+=31-ue%31,C.status=X,K(C,ue),C.strstart!==0&&(K(C,B.adler>>>16),K(C,65535&B.adler)),B.adler=1}if(C.status===69)if(C.gzhead.extra){for(j=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>j&&(B.adler=f(B.adler,C.pending_buf,C.pending-j,j)),G(B),j=C.pending,C.pending!==C.pending_buf_size));)W(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>j&&(B.adler=f(B.adler,C.pending_buf,C.pending-j,j)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){j=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>j&&(B.adler=f(B.adler,C.pending_buf,C.pending-j,j)),G(B),j=C.pending,C.pending===C.pending_buf_size)){U=1;break}U=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,W(C,U)}while(U!==0);C.gzhead.hcrc&&C.pending>j&&(B.adler=f(B.adler,C.pending_buf,C.pending-j,j)),U===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){j=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>j&&(B.adler=f(B.adler,C.pending_buf,C.pending-j,j)),G(B),j=C.pending,C.pending===C.pending_buf_size)){U=1;break}U=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,W(C,U)}while(U!==0);C.gzhead.hcrc&&C.pending>j&&(B.adler=f(B.adler,C.pending_buf,C.pending-j,j)),U===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&G(B),C.pending+2<=C.pending_buf_size&&(W(C,255&B.adler),W(C,B.adler>>8&255),B.adler=0,C.status=X)):C.status=X),C.pending!==0){if(G(B),B.avail_out===0)return C.last_flush=-1,g}else if(B.avail_in===0&&oe(Ee)<=oe(q)&&Ee!==x)return xe(B,-5);if(C.status===666&&B.avail_in!==0)return xe(B,-5);if(B.avail_in!==0||C.lookahead!==0||Ee!==m&&C.status!==666){var ye=C.strategy===2?(function(he,ke){for(var De;;){if(he.lookahead===0&&(se(he),he.lookahead===0)){if(ke===m)return M;break}if(he.match_length=0,De=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,De&&(D(he,!1),he.strm.avail_out===0))return M}return he.insert=0,ke===x?(D(he,!0),he.strm.avail_out===0?J:ee):he.last_lit&&(D(he,!1),he.strm.avail_out===0)?M:ie})(C,Ee):C.strategy===3?(function(he,ke){for(var De,Pe,We,et,tt=he.window;;){if(he.lookahead<=Z){if(se(he),he.lookahead<=Z&&ke===m)return M;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=O&&0<he.strstart&&(Pe=tt[We=he.strstart-1])===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]){et=he.strstart+Z;do;while(Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&We<et);he.match_length=Z-(et-We),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=O?(De=o._tr_tally(he,1,he.match_length-O),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(De=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),De&&(D(he,!1),he.strm.avail_out===0))return M}return he.insert=0,ke===x?(D(he,!0),he.strm.avail_out===0?J:ee):he.last_lit&&(D(he,!1),he.strm.avail_out===0)?M:ie})(C,Ee):a[C.level].func(C,Ee);if(ye!==J&&ye!==ee||(C.status=666),ye===M||ye===J)return B.avail_out===0&&(C.last_flush=-1),g;if(ye===ie&&(Ee===1?o._tr_align(C):Ee!==5&&(o._tr_stored_block(C,0,0,!1),Ee===3&&(we(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),G(B),B.avail_out===0))return C.last_flush=-1,g}return Ee!==x?g:C.wrap<=0?1:(C.wrap===2?(W(C,255&B.adler),W(C,B.adler>>8&255),W(C,B.adler>>16&255),W(C,B.adler>>24&255),W(C,255&B.total_in),W(C,B.total_in>>8&255),W(C,B.total_in>>16&255),W(C,B.total_in>>24&255)):(K(C,B.adler>>>16),K(C,65535&B.adler)),G(B),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?g:1)},s.deflateEnd=function(B){var Ee;return B&&B.state?(Ee=B.state.status)!==P&&Ee!==69&&Ee!==73&&Ee!==91&&Ee!==103&&Ee!==X&&Ee!==666?xe(B,v):(B.state=null,Ee===X?xe(B,-3):g):v},s.deflateSetDictionary=function(B,Ee){var q,C,j,U,ue,ye,he,ke,De=Ee.length;if(!B||!B.state||(U=(q=B.state).wrap)===2||U===1&&q.status!==P||q.lookahead)return v;for(U===1&&(B.adler=c(B.adler,Ee,De,0)),q.wrap=0,De>=q.w_size&&(U===0&&(we(q.head),q.strstart=0,q.block_start=0,q.insert=0),ke=new i.Buf8(q.w_size),i.arraySet(ke,Ee,De-q.w_size,q.w_size,0),Ee=ke,De=q.w_size),ue=B.avail_in,ye=B.next_in,he=B.input,B.avail_in=De,B.next_in=0,B.input=Ee,se(q);q.lookahead>=O;){for(C=q.strstart,j=q.lookahead-(O-1);q.ins_h=(q.ins_h<<q.hash_shift^q.window[C+O-1])&q.hash_mask,q.prev[C&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=C,C++,--j;);q.strstart=C,q.lookahead=O-1,se(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=O-1,q.match_available=0,B.next_in=ye,B.input=he,B.avail_in=ue,q.wrap=U,g},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(a,i){var o,c,f,h,m,x,g,v,y,w,E,N,_,S,k,L,R,H,O,Z,ae,P,X,M,ie;o=a.state,c=a.next_in,M=a.input,f=c+(a.avail_in-5),h=a.next_out,ie=a.output,m=h-(i-a.avail_out),x=h+(a.avail_out-257),g=o.dmax,v=o.wsize,y=o.whave,w=o.wnext,E=o.window,N=o.hold,_=o.bits,S=o.lencode,k=o.distcode,L=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{_<15&&(N+=M[c++]<<_,_+=8,N+=M[c++]<<_,_+=8),H=S[N&L];t:for(;;){if(N>>>=O=H>>>24,_-=O,(O=H>>>16&255)===0)ie[h++]=65535&H;else{if(!(16&O)){if((64&O)==0){H=S[(65535&H)+(N&(1<<O)-1)];continue t}if(32&O){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}Z=65535&H,(O&=15)&&(_<O&&(N+=M[c++]<<_,_+=8),Z+=N&(1<<O)-1,N>>>=O,_-=O),_<15&&(N+=M[c++]<<_,_+=8,N+=M[c++]<<_,_+=8),H=k[N&R];r:for(;;){if(N>>>=O=H>>>24,_-=O,!(16&(O=H>>>16&255))){if((64&O)==0){H=k[(65535&H)+(N&(1<<O)-1)];continue r}a.msg="invalid distance code",o.mode=30;break e}if(ae=65535&H,_<(O&=15)&&(N+=M[c++]<<_,(_+=8)<O&&(N+=M[c++]<<_,_+=8)),g<(ae+=N&(1<<O)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(N>>>=O,_-=O,(O=h-m)<ae){if(y<(O=ae-O)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(X=E,(P=0)===w){if(P+=v-O,O<Z){for(Z-=O;ie[h++]=E[P++],--O;);P=h-ae,X=ie}}else if(w<O){if(P+=v+w-O,(O-=w)<Z){for(Z-=O;ie[h++]=E[P++],--O;);if(P=0,w<Z){for(Z-=O=w;ie[h++]=E[P++],--O;);P=h-ae,X=ie}}}else if(P+=w-O,O<Z){for(Z-=O;ie[h++]=E[P++],--O;);P=h-ae,X=ie}for(;2<Z;)ie[h++]=X[P++],ie[h++]=X[P++],ie[h++]=X[P++],Z-=3;Z&&(ie[h++]=X[P++],1<Z&&(ie[h++]=X[P++]))}else{for(P=h-ae;ie[h++]=ie[P++],ie[h++]=ie[P++],ie[h++]=ie[P++],2<(Z-=3););Z&&(ie[h++]=ie[P++],1<Z&&(ie[h++]=ie[P++]))}break}}break}}while(c<f&&h<x);c-=Z=_>>3,N&=(1<<(_-=Z<<3))-1,a.next_in=c,a.next_out=h,a.avail_in=c<f?f-c+5:5-(c-f),a.avail_out=h<x?x-h+257:257-(h-x),o.hold=N,o.bits=_}},{}],49:[function(r,n,s){var a=r("../utils/common"),i=r("./adler32"),o=r("./crc32"),c=r("./inffast"),f=r("./inftrees"),h=1,m=2,x=0,g=-2,v=1,y=852,w=592;function E(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(P){var X;return P&&P.state?(X=P.state,P.total_in=P.total_out=X.total=0,P.msg="",X.wrap&&(P.adler=1&X.wrap),X.mode=v,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new a.Buf32(y),X.distcode=X.distdyn=new a.Buf32(w),X.sane=1,X.back=-1,x):g}function S(P){var X;return P&&P.state?((X=P.state).wsize=0,X.whave=0,X.wnext=0,_(P)):g}function k(P,X){var M,ie;return P&&P.state?(ie=P.state,X<0?(M=0,X=-X):(M=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?g:(ie.window!==null&&ie.wbits!==X&&(ie.window=null),ie.wrap=M,ie.wbits=X,S(P))):g}function L(P,X){var M,ie;return P?(ie=new N,(P.state=ie).window=null,(M=k(P,X))!==x&&(P.state=null),M):g}var R,H,O=!0;function Z(P){if(O){var X;for(R=new a.Buf32(512),H=new a.Buf32(32),X=0;X<144;)P.lens[X++]=8;for(;X<256;)P.lens[X++]=9;for(;X<280;)P.lens[X++]=7;for(;X<288;)P.lens[X++]=8;for(f(h,P.lens,0,288,R,0,P.work,{bits:9}),X=0;X<32;)P.lens[X++]=5;f(m,P.lens,0,32,H,0,P.work,{bits:5}),O=!1}P.lencode=R,P.lenbits=9,P.distcode=H,P.distbits=5}function ae(P,X,M,ie){var J,ee=P.state;return ee.window===null&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new a.Buf8(ee.wsize)),ie>=ee.wsize?(a.arraySet(ee.window,X,M-ee.wsize,ee.wsize,0),ee.wnext=0,ee.whave=ee.wsize):(ie<(J=ee.wsize-ee.wnext)&&(J=ie),a.arraySet(ee.window,X,M-ie,J,ee.wnext),(ie-=J)?(a.arraySet(ee.window,X,M-ie,ie,0),ee.wnext=ie,ee.whave=ee.wsize):(ee.wnext+=J,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=J))),0}s.inflateReset=S,s.inflateReset2=k,s.inflateResetKeep=_,s.inflateInit=function(P){return L(P,15)},s.inflateInit2=L,s.inflate=function(P,X){var M,ie,J,ee,xe,oe,we,G,D,W,K,re,se,I,F,ne,te,Q,z,be,B,Ee,q,C,j=0,U=new a.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return g;(M=P.state).mode===12&&(M.mode=13),xe=P.next_out,J=P.output,we=P.avail_out,ee=P.next_in,ie=P.input,oe=P.avail_in,G=M.hold,D=M.bits,W=oe,K=we,Ee=x;e:for(;;)switch(M.mode){case v:if(M.wrap===0){M.mode=13;break}for(;D<16;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if(2&M.wrap&&G===35615){U[M.check=0]=255&G,U[1]=G>>>8&255,M.check=o(M.check,U,2,0),D=G=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&G)<<8)+(G>>8))%31){P.msg="incorrect header check",M.mode=30;break}if((15&G)!=8){P.msg="unknown compression method",M.mode=30;break}if(D-=4,B=8+(15&(G>>>=4)),M.wbits===0)M.wbits=B;else if(B>M.wbits){P.msg="invalid window size",M.mode=30;break}M.dmax=1<<B,P.adler=M.check=1,M.mode=512&G?10:12,D=G=0;break;case 2:for(;D<16;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if(M.flags=G,(255&M.flags)!=8){P.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){P.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=G>>8&1),512&M.flags&&(U[0]=255&G,U[1]=G>>>8&255,M.check=o(M.check,U,2,0)),D=G=0,M.mode=3;case 3:for(;D<32;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}M.head&&(M.head.time=G),512&M.flags&&(U[0]=255&G,U[1]=G>>>8&255,U[2]=G>>>16&255,U[3]=G>>>24&255,M.check=o(M.check,U,4,0)),D=G=0,M.mode=4;case 4:for(;D<16;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}M.head&&(M.head.xflags=255&G,M.head.os=G>>8),512&M.flags&&(U[0]=255&G,U[1]=G>>>8&255,M.check=o(M.check,U,2,0)),D=G=0,M.mode=5;case 5:if(1024&M.flags){for(;D<16;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}M.length=G,M.head&&(M.head.extra_len=G),512&M.flags&&(U[0]=255&G,U[1]=G>>>8&255,M.check=o(M.check,U,2,0)),D=G=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(oe<(re=M.length)&&(re=oe),re&&(M.head&&(B=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),a.arraySet(M.head.extra,ie,ee,re,B)),512&M.flags&&(M.check=o(M.check,ie,re,ee)),oe-=re,ee+=re,M.length-=re),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(oe===0)break e;for(re=0;B=ie[ee+re++],M.head&&B&&M.length<65536&&(M.head.name+=String.fromCharCode(B)),B&&re<oe;);if(512&M.flags&&(M.check=o(M.check,ie,re,ee)),oe-=re,ee+=re,B)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(oe===0)break e;for(re=0;B=ie[ee+re++],M.head&&B&&M.length<65536&&(M.head.comment+=String.fromCharCode(B)),B&&re<oe;);if(512&M.flags&&(M.check=o(M.check,ie,re,ee)),oe-=re,ee+=re,B)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;D<16;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if(G!==(65535&M.check)){P.msg="header crc mismatch",M.mode=30;break}D=G=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),P.adler=M.check=0,M.mode=12;break;case 10:for(;D<32;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}P.adler=M.check=E(G),D=G=0,M.mode=11;case 11:if(M.havedict===0)return P.next_out=xe,P.avail_out=we,P.next_in=ee,P.avail_in=oe,M.hold=G,M.bits=D,2;P.adler=M.check=1,M.mode=12;case 12:if(X===5||X===6)break e;case 13:if(M.last){G>>>=7&D,D-=7&D,M.mode=27;break}for(;D<3;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}switch(M.last=1&G,D-=1,3&(G>>>=1)){case 0:M.mode=14;break;case 1:if(Z(M),M.mode=20,X!==6)break;G>>>=2,D-=2;break e;case 2:M.mode=17;break;case 3:P.msg="invalid block type",M.mode=30}G>>>=2,D-=2;break;case 14:for(G>>>=7&D,D-=7&D;D<32;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if((65535&G)!=(G>>>16^65535)){P.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&G,D=G=0,M.mode=15,X===6)break e;case 15:M.mode=16;case 16:if(re=M.length){if(oe<re&&(re=oe),we<re&&(re=we),re===0)break e;a.arraySet(J,ie,ee,re,xe),oe-=re,ee+=re,we-=re,xe+=re,M.length-=re;break}M.mode=12;break;case 17:for(;D<14;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if(M.nlen=257+(31&G),G>>>=5,D-=5,M.ndist=1+(31&G),G>>>=5,D-=5,M.ncode=4+(15&G),G>>>=4,D-=4,286<M.nlen||30<M.ndist){P.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;D<3;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}M.lens[ue[M.have++]]=7&G,G>>>=3,D-=3}for(;M.have<19;)M.lens[ue[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,q={bits:M.lenbits},Ee=f(0,M.lens,0,19,M.lencode,0,M.work,q),M.lenbits=q.bits,Ee){P.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;ne=(j=M.lencode[G&(1<<M.lenbits)-1])>>>16&255,te=65535&j,!((F=j>>>24)<=D);){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if(te<16)G>>>=F,D-=F,M.lens[M.have++]=te;else{if(te===16){for(C=F+2;D<C;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if(G>>>=F,D-=F,M.have===0){P.msg="invalid bit length repeat",M.mode=30;break}B=M.lens[M.have-1],re=3+(3&G),G>>>=2,D-=2}else if(te===17){for(C=F+3;D<C;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}D-=F,B=0,re=3+(7&(G>>>=F)),G>>>=3,D-=3}else{for(C=F+7;D<C;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}D-=F,B=0,re=11+(127&(G>>>=F)),G>>>=7,D-=7}if(M.have+re>M.nlen+M.ndist){P.msg="invalid bit length repeat",M.mode=30;break}for(;re--;)M.lens[M.have++]=B}}if(M.mode===30)break;if(M.lens[256]===0){P.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,q={bits:M.lenbits},Ee=f(h,M.lens,0,M.nlen,M.lencode,0,M.work,q),M.lenbits=q.bits,Ee){P.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,q={bits:M.distbits},Ee=f(m,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,q),M.distbits=q.bits,Ee){P.msg="invalid distances set",M.mode=30;break}if(M.mode=20,X===6)break e;case 20:M.mode=21;case 21:if(6<=oe&&258<=we){P.next_out=xe,P.avail_out=we,P.next_in=ee,P.avail_in=oe,M.hold=G,M.bits=D,c(P,K),xe=P.next_out,J=P.output,we=P.avail_out,ee=P.next_in,ie=P.input,oe=P.avail_in,G=M.hold,D=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;ne=(j=M.lencode[G&(1<<M.lenbits)-1])>>>16&255,te=65535&j,!((F=j>>>24)<=D);){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if(ne&&(240&ne)==0){for(Q=F,z=ne,be=te;ne=(j=M.lencode[be+((G&(1<<Q+z)-1)>>Q)])>>>16&255,te=65535&j,!(Q+(F=j>>>24)<=D);){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}G>>>=Q,D-=Q,M.back+=Q}if(G>>>=F,D-=F,M.back+=F,M.length=te,ne===0){M.mode=26;break}if(32&ne){M.back=-1,M.mode=12;break}if(64&ne){P.msg="invalid literal/length code",M.mode=30;break}M.extra=15&ne,M.mode=22;case 22:if(M.extra){for(C=M.extra;D<C;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}M.length+=G&(1<<M.extra)-1,G>>>=M.extra,D-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;ne=(j=M.distcode[G&(1<<M.distbits)-1])>>>16&255,te=65535&j,!((F=j>>>24)<=D);){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if((240&ne)==0){for(Q=F,z=ne,be=te;ne=(j=M.distcode[be+((G&(1<<Q+z)-1)>>Q)])>>>16&255,te=65535&j,!(Q+(F=j>>>24)<=D);){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}G>>>=Q,D-=Q,M.back+=Q}if(G>>>=F,D-=F,M.back+=F,64&ne){P.msg="invalid distance code",M.mode=30;break}M.offset=te,M.extra=15&ne,M.mode=24;case 24:if(M.extra){for(C=M.extra;D<C;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}M.offset+=G&(1<<M.extra)-1,G>>>=M.extra,D-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){P.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(we===0)break e;if(re=K-we,M.offset>re){if((re=M.offset-re)>M.whave&&M.sane){P.msg="invalid distance too far back",M.mode=30;break}se=re>M.wnext?(re-=M.wnext,M.wsize-re):M.wnext-re,re>M.length&&(re=M.length),I=M.window}else I=J,se=xe-M.offset,re=M.length;for(we<re&&(re=we),we-=re,M.length-=re;J[xe++]=I[se++],--re;);M.length===0&&(M.mode=21);break;case 26:if(we===0)break e;J[xe++]=M.length,we--,M.mode=21;break;case 27:if(M.wrap){for(;D<32;){if(oe===0)break e;oe--,G|=ie[ee++]<<D,D+=8}if(K-=we,P.total_out+=K,M.total+=K,K&&(P.adler=M.check=M.flags?o(M.check,J,K,xe-K):i(M.check,J,K,xe-K)),K=we,(M.flags?G:E(G))!==M.check){P.msg="incorrect data check",M.mode=30;break}D=G=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;D<32;){if(oe===0)break e;oe--,G+=ie[ee++]<<D,D+=8}if(G!==(4294967295&M.total)){P.msg="incorrect length check",M.mode=30;break}D=G=0}M.mode=29;case 29:Ee=1;break e;case 30:Ee=-3;break e;case 31:return-4;case 32:default:return g}return P.next_out=xe,P.avail_out=we,P.next_in=ee,P.avail_in=oe,M.hold=G,M.bits=D,(M.wsize||K!==P.avail_out&&M.mode<30&&(M.mode<27||X!==4))&&ae(P,P.output,P.next_out,K-P.avail_out)?(M.mode=31,-4):(W-=P.avail_in,K-=P.avail_out,P.total_in+=W,P.total_out+=K,M.total+=K,M.wrap&&K&&(P.adler=M.check=M.flags?o(M.check,J,K,P.next_out-K):i(M.check,J,K,P.next_out-K)),P.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(W==0&&K===0||X===4)&&Ee===x&&(Ee=-5),Ee)},s.inflateEnd=function(P){if(!P||!P.state)return g;var X=P.state;return X.window&&(X.window=null),P.state=null,x},s.inflateGetHeader=function(P,X){var M;return P&&P.state?(2&(M=P.state).wrap)==0?g:((M.head=X).done=!1,x):g},s.inflateSetDictionary=function(P,X){var M,ie=X.length;return P&&P.state?(M=P.state).wrap!==0&&M.mode!==11?g:M.mode===11&&i(1,X,ie,0)!==M.check?-3:ae(P,X,ie,ie)?(M.mode=31,-4):(M.havedict=1,x):g},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var a=r("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(h,m,x,g,v,y,w,E){var N,_,S,k,L,R,H,O,Z,ae=E.bits,P=0,X=0,M=0,ie=0,J=0,ee=0,xe=0,oe=0,we=0,G=0,D=null,W=0,K=new a.Buf16(16),re=new a.Buf16(16),se=null,I=0;for(P=0;P<=15;P++)K[P]=0;for(X=0;X<g;X++)K[m[x+X]]++;for(J=ae,ie=15;1<=ie&&K[ie]===0;ie--);if(ie<J&&(J=ie),ie===0)return v[y++]=20971520,v[y++]=20971520,E.bits=1,0;for(M=1;M<ie&&K[M]===0;M++);for(J<M&&(J=M),P=oe=1;P<=15;P++)if(oe<<=1,(oe-=K[P])<0)return-1;if(0<oe&&(h===0||ie!==1))return-1;for(re[1]=0,P=1;P<15;P++)re[P+1]=re[P]+K[P];for(X=0;X<g;X++)m[x+X]!==0&&(w[re[m[x+X]]++]=X);if(R=h===0?(D=se=w,19):h===1?(D=i,W-=257,se=o,I-=257,256):(D=c,se=f,-1),P=M,L=y,xe=X=G=0,S=-1,k=(we=1<<(ee=J))-1,h===1&&852<we||h===2&&592<we)return 1;for(;;){for(H=P-xe,Z=w[X]<R?(O=0,w[X]):w[X]>R?(O=se[I+w[X]],D[W+w[X]]):(O=96,0),N=1<<P-xe,M=_=1<<ee;v[L+(G>>xe)+(_-=N)]=H<<24|O<<16|Z|0,_!==0;);for(N=1<<P-1;G&N;)N>>=1;if(N!==0?(G&=N-1,G+=N):G=0,X++,--K[P]==0){if(P===ie)break;P=m[x+w[X]]}if(J<P&&(G&k)!==S){for(xe===0&&(xe=J),L+=M,oe=1<<(ee=P-xe);ee+xe<ie&&!((oe-=K[ee+xe])<=0);)ee++,oe<<=1;if(we+=1<<ee,h===1&&852<we||h===2&&592<we)return 1;v[S=G&k]=J<<24|ee<<16|L-y|0}}return G!==0&&(v[L+G]=P-xe<<24|64<<16|0),E.bits=J,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var a=r("../utils/common"),i=0,o=1;function c(j){for(var U=j.length;0<=--U;)j[U]=0}var f=0,h=29,m=256,x=m+1+h,g=30,v=19,y=2*x+1,w=15,E=16,N=7,_=256,S=16,k=17,L=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=new Array(2*(x+2));c(ae);var P=new Array(2*g);c(P);var X=new Array(512);c(X);var M=new Array(256);c(M);var ie=new Array(h);c(ie);var J,ee,xe,oe=new Array(g);function we(j,U,ue,ye,he){this.static_tree=j,this.extra_bits=U,this.extra_base=ue,this.elems=ye,this.max_length=he,this.has_stree=j&&j.length}function G(j,U){this.dyn_tree=j,this.max_code=0,this.stat_desc=U}function D(j){return j<256?X[j]:X[256+(j>>>7)]}function W(j,U){j.pending_buf[j.pending++]=255&U,j.pending_buf[j.pending++]=U>>>8&255}function K(j,U,ue){j.bi_valid>E-ue?(j.bi_buf|=U<<j.bi_valid&65535,W(j,j.bi_buf),j.bi_buf=U>>E-j.bi_valid,j.bi_valid+=ue-E):(j.bi_buf|=U<<j.bi_valid&65535,j.bi_valid+=ue)}function re(j,U,ue){K(j,ue[2*U],ue[2*U+1])}function se(j,U){for(var ue=0;ue|=1&j,j>>>=1,ue<<=1,0<--U;);return ue>>>1}function I(j,U,ue){var ye,he,ke=new Array(w+1),De=0;for(ye=1;ye<=w;ye++)ke[ye]=De=De+ue[ye-1]<<1;for(he=0;he<=U;he++){var Pe=j[2*he+1];Pe!==0&&(j[2*he]=se(ke[Pe]++,Pe))}}function F(j){var U;for(U=0;U<x;U++)j.dyn_ltree[2*U]=0;for(U=0;U<g;U++)j.dyn_dtree[2*U]=0;for(U=0;U<v;U++)j.bl_tree[2*U]=0;j.dyn_ltree[2*_]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function ne(j){8<j.bi_valid?W(j,j.bi_buf):0<j.bi_valid&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function te(j,U,ue,ye){var he=2*U,ke=2*ue;return j[he]<j[ke]||j[he]===j[ke]&&ye[U]<=ye[ue]}function Q(j,U,ue){for(var ye=j.heap[ue],he=ue<<1;he<=j.heap_len&&(he<j.heap_len&&te(U,j.heap[he+1],j.heap[he],j.depth)&&he++,!te(U,ye,j.heap[he],j.depth));)j.heap[ue]=j.heap[he],ue=he,he<<=1;j.heap[ue]=ye}function z(j,U,ue){var ye,he,ke,De,Pe=0;if(j.last_lit!==0)for(;ye=j.pending_buf[j.d_buf+2*Pe]<<8|j.pending_buf[j.d_buf+2*Pe+1],he=j.pending_buf[j.l_buf+Pe],Pe++,ye===0?re(j,he,U):(re(j,(ke=M[he])+m+1,U),(De=R[ke])!==0&&K(j,he-=ie[ke],De),re(j,ke=D(--ye),ue),(De=H[ke])!==0&&K(j,ye-=oe[ke],De)),Pe<j.last_lit;);re(j,_,U)}function be(j,U){var ue,ye,he,ke=U.dyn_tree,De=U.stat_desc.static_tree,Pe=U.stat_desc.has_stree,We=U.stat_desc.elems,et=-1;for(j.heap_len=0,j.heap_max=y,ue=0;ue<We;ue++)ke[2*ue]!==0?(j.heap[++j.heap_len]=et=ue,j.depth[ue]=0):ke[2*ue+1]=0;for(;j.heap_len<2;)ke[2*(he=j.heap[++j.heap_len]=et<2?++et:0)]=1,j.depth[he]=0,j.opt_len--,Pe&&(j.static_len-=De[2*he+1]);for(U.max_code=et,ue=j.heap_len>>1;1<=ue;ue--)Q(j,ke,ue);for(he=We;ue=j.heap[1],j.heap[1]=j.heap[j.heap_len--],Q(j,ke,1),ye=j.heap[1],j.heap[--j.heap_max]=ue,j.heap[--j.heap_max]=ye,ke[2*he]=ke[2*ue]+ke[2*ye],j.depth[he]=(j.depth[ue]>=j.depth[ye]?j.depth[ue]:j.depth[ye])+1,ke[2*ue+1]=ke[2*ye+1]=he,j.heap[1]=he++,Q(j,ke,1),2<=j.heap_len;);j.heap[--j.heap_max]=j.heap[1],(function(tt,Ht){var lt,jt,sr,ht,Jt,un,Zt=Ht.dyn_tree,Eo=Ht.max_code,Ya=Ht.stat_desc.static_tree,Zn=Ht.stat_desc.has_stree,Ra=Ht.stat_desc.extra_bits,ja=Ht.stat_desc.extra_base,Qn=Ht.stat_desc.max_length,Hr=0;for(ht=0;ht<=w;ht++)tt.bl_count[ht]=0;for(Zt[2*tt.heap[tt.heap_max]+1]=0,lt=tt.heap_max+1;lt<y;lt++)Qn<(ht=Zt[2*Zt[2*(jt=tt.heap[lt])+1]+1]+1)&&(ht=Qn,Hr++),Zt[2*jt+1]=ht,Eo<jt||(tt.bl_count[ht]++,Jt=0,ja<=jt&&(Jt=Ra[jt-ja]),un=Zt[2*jt],tt.opt_len+=un*(ht+Jt),Zn&&(tt.static_len+=un*(Ya[2*jt+1]+Jt)));if(Hr!==0){do{for(ht=Qn-1;tt.bl_count[ht]===0;)ht--;tt.bl_count[ht]--,tt.bl_count[ht+1]+=2,tt.bl_count[Qn]--,Hr-=2}while(0<Hr);for(ht=Qn;ht!==0;ht--)for(jt=tt.bl_count[ht];jt!==0;)Eo<(sr=tt.heap[--lt])||(Zt[2*sr+1]!==ht&&(tt.opt_len+=(ht-Zt[2*sr+1])*Zt[2*sr],Zt[2*sr+1]=ht),jt--)}})(j,U),I(ke,et,j.bl_count)}function B(j,U,ue){var ye,he,ke=-1,De=U[1],Pe=0,We=7,et=4;for(De===0&&(We=138,et=3),U[2*(ue+1)+1]=65535,ye=0;ye<=ue;ye++)he=De,De=U[2*(ye+1)+1],++Pe<We&&he===De||(Pe<et?j.bl_tree[2*he]+=Pe:he!==0?(he!==ke&&j.bl_tree[2*he]++,j.bl_tree[2*S]++):Pe<=10?j.bl_tree[2*k]++:j.bl_tree[2*L]++,ke=he,et=(Pe=0)===De?(We=138,3):he===De?(We=6,3):(We=7,4))}function Ee(j,U,ue){var ye,he,ke=-1,De=U[1],Pe=0,We=7,et=4;for(De===0&&(We=138,et=3),ye=0;ye<=ue;ye++)if(he=De,De=U[2*(ye+1)+1],!(++Pe<We&&he===De)){if(Pe<et)for(;re(j,he,j.bl_tree),--Pe!=0;);else he!==0?(he!==ke&&(re(j,he,j.bl_tree),Pe--),re(j,S,j.bl_tree),K(j,Pe-3,2)):Pe<=10?(re(j,k,j.bl_tree),K(j,Pe-3,3)):(re(j,L,j.bl_tree),K(j,Pe-11,7));ke=he,et=(Pe=0)===De?(We=138,3):he===De?(We=6,3):(We=7,4)}}c(oe);var q=!1;function C(j,U,ue,ye){K(j,(f<<1)+(ye?1:0),3),(function(he,ke,De,Pe){ne(he),W(he,De),W(he,~De),a.arraySet(he.pending_buf,he.window,ke,De,he.pending),he.pending+=De})(j,U,ue)}s._tr_init=function(j){q||((function(){var U,ue,ye,he,ke,De=new Array(w+1);for(he=ye=0;he<h-1;he++)for(ie[he]=ye,U=0;U<1<<R[he];U++)M[ye++]=he;for(M[ye-1]=he,he=ke=0;he<16;he++)for(oe[he]=ke,U=0;U<1<<H[he];U++)X[ke++]=he;for(ke>>=7;he<g;he++)for(oe[he]=ke<<7,U=0;U<1<<H[he]-7;U++)X[256+ke++]=he;for(ue=0;ue<=w;ue++)De[ue]=0;for(U=0;U<=143;)ae[2*U+1]=8,U++,De[8]++;for(;U<=255;)ae[2*U+1]=9,U++,De[9]++;for(;U<=279;)ae[2*U+1]=7,U++,De[7]++;for(;U<=287;)ae[2*U+1]=8,U++,De[8]++;for(I(ae,x+1,De),U=0;U<g;U++)P[2*U+1]=5,P[2*U]=se(U,5);J=new we(ae,R,m+1,x,w),ee=new we(P,H,0,g,w),xe=new we(new Array(0),O,0,v,N)})(),q=!0),j.l_desc=new G(j.dyn_ltree,J),j.d_desc=new G(j.dyn_dtree,ee),j.bl_desc=new G(j.bl_tree,xe),j.bi_buf=0,j.bi_valid=0,F(j)},s._tr_stored_block=C,s._tr_flush_block=function(j,U,ue,ye){var he,ke,De=0;0<j.level?(j.strm.data_type===2&&(j.strm.data_type=(function(Pe){var We,et=4093624447;for(We=0;We<=31;We++,et>>>=1)if(1&et&&Pe.dyn_ltree[2*We]!==0)return i;if(Pe.dyn_ltree[18]!==0||Pe.dyn_ltree[20]!==0||Pe.dyn_ltree[26]!==0)return o;for(We=32;We<m;We++)if(Pe.dyn_ltree[2*We]!==0)return o;return i})(j)),be(j,j.l_desc),be(j,j.d_desc),De=(function(Pe){var We;for(B(Pe,Pe.dyn_ltree,Pe.l_desc.max_code),B(Pe,Pe.dyn_dtree,Pe.d_desc.max_code),be(Pe,Pe.bl_desc),We=v-1;3<=We&&Pe.bl_tree[2*Z[We]+1]===0;We--);return Pe.opt_len+=3*(We+1)+5+5+4,We})(j),he=j.opt_len+3+7>>>3,(ke=j.static_len+3+7>>>3)<=he&&(he=ke)):he=ke=ue+5,ue+4<=he&&U!==-1?C(j,U,ue,ye):j.strategy===4||ke===he?(K(j,2+(ye?1:0),3),z(j,ae,P)):(K(j,4+(ye?1:0),3),(function(Pe,We,et,tt){var Ht;for(K(Pe,We-257,5),K(Pe,et-1,5),K(Pe,tt-4,4),Ht=0;Ht<tt;Ht++)K(Pe,Pe.bl_tree[2*Z[Ht]+1],3);Ee(Pe,Pe.dyn_ltree,We-1),Ee(Pe,Pe.dyn_dtree,et-1)})(j,j.l_desc.max_code+1,j.d_desc.max_code+1,De+1),z(j,j.dyn_ltree,j.dyn_dtree)),F(j),ye&&ne(j)},s._tr_tally=function(j,U,ue){return j.pending_buf[j.d_buf+2*j.last_lit]=U>>>8&255,j.pending_buf[j.d_buf+2*j.last_lit+1]=255&U,j.pending_buf[j.l_buf+j.last_lit]=255&ue,j.last_lit++,U===0?j.dyn_ltree[2*ue]++:(j.matches++,U--,j.dyn_ltree[2*(M[ue]+m+1)]++,j.dyn_dtree[2*D(U)]++),j.last_lit===j.lit_bufsize-1},s._tr_align=function(j){K(j,2,3),re(j,_,ae),(function(U){U.bi_valid===16?(W(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)})(j)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(a){(function(i,o){if(!i.setImmediate){var c,f,h,m,x=1,g={},v=!1,y=i.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(i);w=w&&w.setTimeout?w:i,c={}.toString.call(i.process)==="[object process]"?function(S){Rt.nextTick(function(){N(S)})}:(function(){if(i.postMessage&&!i.importScripts){var S=!0,k=i.onmessage;return i.onmessage=function(){S=!1},i.postMessage("","*"),i.onmessage=k,S}})()?(m="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",_,!1):i.attachEvent("onmessage",_),function(S){i.postMessage(m+S,"*")}):i.MessageChannel?((h=new MessageChannel).port1.onmessage=function(S){N(S.data)},function(S){h.port2.postMessage(S)}):y&&"onreadystatechange"in y.createElement("script")?(f=y.documentElement,function(S){var k=y.createElement("script");k.onreadystatechange=function(){N(S),k.onreadystatechange=null,f.removeChild(k),k=null},f.appendChild(k)}):function(S){setTimeout(N,0,S)},w.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var k=new Array(arguments.length-1),L=0;L<k.length;L++)k[L]=arguments[L+1];var R={callback:S,args:k};return g[x]=R,c(x),x++},w.clearImmediate=E}function E(S){delete g[S]}function N(S){if(v)setTimeout(N,0,S);else{var k=g[S];if(k){v=!0;try{(function(L){var R=L.callback,H=L.args;switch(H.length){case 0:R();break;case 1:R(H[0]);break;case 2:R(H[0],H[1]);break;case 3:R(H[0],H[1],H[2]);break;default:R.apply(o,H)}})(k)}finally{E(S),v=!1}}}}function _(S){S.source===i&&typeof S.data=="string"&&S.data.indexOf(m)===0&&N(+S.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof mi<"u"?mi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(a2)),a2.exports}var gge=xge();const yge=bS(gge);var Pf={exports:{}},i2,a6;function vge(){if(a6)return i2;a6=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,s){return e[s]}):r}return i2=t,i2}var i6;function bge(){if(i6)return Pf.exports;i6=1;var e=vge(),t=TS().Stream,r="    ";function n(f,h){typeof h!="object"&&(h={indent:h});var m=h.stream?new t:null,x="",g=!1,v=h.indent?h.indent===!0?r:h.indent:"",y=!0;function w(k){y?Rt.nextTick(k):k()}function E(k,L){if(L!==void 0&&(x+=L),k&&!g&&(m=m||new t,g=!0),k&&g){var R=x;w(function(){m.emit("data",R)}),x=""}}function N(k,L){o(E,i(k,v,v?1:0),L)}function _(){if(m){var k=x;w(function(){m.emit("data",k),m.emit("end"),m.readable=!1,m.emit("close")})}}function S(k){var L=k.encoding||"UTF-8",R={version:"1.0",encoding:L};k.standalone&&(R.standalone=k.standalone),N({"?xml":{_attr:R}}),x=x.replace("/>","?>")}return w(function(){y=!1}),h.declaration&&S(h.declaration),f&&f.forEach?f.forEach(function(k,L){var R;L+1===f.length&&(R=_),N(k,R)}):N(f,_),m?(m.readable=!0,m):x}function s(){var f=Array.prototype.slice.call(arguments),h={_elem:i(f)};return h.push=function(m){if(!this.append)throw new Error("not assigned to a parent!");var x=this,g=this._elem.indent;o(this.append,i(m,g,this._elem.icount+(g?1:0)),function(){x.append(!0)})},h.close=function(m){m!==void 0&&this.push(m),this.end&&this.end()},h}function a(f,h){return new Array(h||0).join(f||"")}function i(f,h,m){m=m||0;var x=a(h,m),g,v=f,y=!1;if(typeof f=="object"){var w=Object.keys(f);if(g=w[0],v=f[g],v&&v._elem)return v._elem.name=g,v._elem.icount=m,v._elem.indent=h,v._elem.indents=x,v._elem.interrupt=v,v._elem}var E=[],N=[],_;function S(k){var L=Object.keys(k);L.forEach(function(R){E.push(c(R,k[R]))})}switch(typeof v){case"object":if(v===null)break;v._attr&&S(v._attr),v._cdata&&N.push(("<![CDATA["+v._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),v.forEach&&(_=!1,N.push(""),v.forEach(function(k){if(typeof k=="object"){var L=Object.keys(k)[0];L=="_attr"?S(k._attr):N.push(i(k,h,m+1))}else N.pop(),_=!0,N.push(e(k))}),_||N.push(""));break;default:N.push(e(v))}return{name:g,interrupt:y,attributes:E,content:N,icount:m,indents:x,indent:h}}function o(f,h,m){if(typeof h!="object")return f(!1,h);var x=h.interrupt?1:h.content.length;function g(){for(;h.content.length;){var y=h.content.shift();if(y!==void 0){if(v(y))return;o(f,y)}}f(!1,(x>1?h.indents:"")+(h.name?"</"+h.name+">":"")+(h.indent&&!m?`
`:"")),m&&m()}function v(y){return y.interrupt?(y.interrupt.append=f,y.interrupt.end=g,y.interrupt=!1,f(!0),!0):!1}if(f(!1,h.indents+(h.name?"<"+h.name:"")+(h.attributes.length?" "+h.attributes.join(" "):"")+(x?h.name?">":"":h.name?"/>":"")+(h.indent&&x>1?`
`:"")),!x)return f(!1,h.indent?`
`:"");v(h)||g()}function c(f,h){return f+'="'+e(h)+'"'}return Pf.exports=n,Pf.exports.element=Pf.exports.Element=s,Pf.exports}var wge=bge();const Cr=bS(wge),Lf=0,o2=32,Ege=32,_ge=(e,t)=>{const r=t.replace(/-/g,"");if(r.length!==Ege)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const s=r.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));s.reverse();const i=e.slice(Lf,o2).map((c,f)=>c^s[f%s.length]),o=new Uint8Array(Lf+i.length+Math.max(0,e.length-o2));return o.set(e.slice(0,Lf)),o.set(i,Lf),o.set(e.slice(o2),Lf+i.length),o};class Sge{format(t,r={stack:[]}){const n=t.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class Nge{replace(t,r,n){let s=t;return r.forEach((a,i)=>{s=s.replace(new RegExp(`{${a.fileName}}`,"g"),(n+i).toString())}),s}getMediaData(t,r){return r.Array.filter(n=>t.search(`{${n.fileName}}`)>0)}}class Tge{replace(t,r){let n=t;for(const s of r)n=n.replace(new RegExp(`{${s.reference}-${s.instance}}`,"g"),s.numId.toString());return n}}class Cge{constructor(){Fe(this,"formatter"),Fe(this,"imageReplacer"),Fe(this,"numberingReplacer"),this.formatter=new Sge,this.imageReplacer=new Nge,this.numberingReplacer=new Tge}compile(t,r,n=[]){const s=new yge,a=this.xmlifyFile(t,r),i=new Map(Object.entries(a));for(const[,o]of i)if(Array.isArray(o))for(const c of o)s.file(c.path,c.data);else s.file(o.path,o.data);for(const o of n)s.file(o.path,o.data);for(const o of t.Media.Array)o.type!=="svg"?s.file(`word/media/${o.fileName}`,o.data):(s.file(`word/media/${o.fileName}`,o.data),s.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:c,fontKey:f}of t.FontTable.fontOptionsWithKey){const[h]=c.split(".");s.file(`word/fonts/${h}.odttf`,_ge(o,f))}return s}xmlifyFile(t,r){const n=t.Document.Relationships.RelationshipCount+1,s=Cr(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=t.Comments.Relationships.RelationshipCount+1,i=Cr(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(s,t.Media),c=this.imageReplacer.getMediaData(i,t.Media);return{Relationships:{data:(o.forEach((f,h)=>{t.Document.Relationships.createRelationship(n+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Cr(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const f=this.imageReplacer.replace(s,o,n);return this.numberingReplacer.replace(f,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const f=Cr(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(f,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Cr(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Cr(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Cr(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((f,h)=>{const m=Cr(this.formatter.format(f.View,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,t.Media).forEach((g,v)=>{f.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${g.fileName}`)}),{data:Cr(this.formatter.format(f.Relationships,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:t.Footers.map((f,h)=>{const m=Cr(this.formatter.format(f.View,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,t.Media).forEach((g,v)=>{f.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${g.fileName}`)}),{data:Cr(this.formatter.format(f.Relationships,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:t.Headers.map((f,h)=>{const m=Cr(this.formatter.format(f.View,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),x=this.imageReplacer.getMediaData(m,t.Media),g=this.imageReplacer.replace(m,x,0);return{data:this.numberingReplacer.replace(g,t.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:t.Footers.map((f,h)=>{const m=Cr(this.formatter.format(f.View,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),x=this.imageReplacer.getMediaData(m,t.Media),g=this.imageReplacer.replace(m,x,0);return{data:this.numberingReplacer.replace(g,t.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:Cr(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Cr(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Cr(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Cr(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Cr(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Cr(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const f=this.imageReplacer.replace(i,c,a);return this.numberingReplacer.replace(f,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(c.forEach((f,h)=>{t.Comments.Relationships.createRelationship(a+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),Cr(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Cr(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Cr(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const Age={WITH_2_BLANKS:"  "},o6=e=>e===!0?Age.WITH_2_BLANKS:e===!1?void 0:e,PP=class Fu{static pack(t,r,n){return the(this,arguments,function*(s,a,i,o=[]){return this.compiler.compile(s,o6(i),o).generateAsync({type:a,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,n=[]){return Fu.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return Fu.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return Fu.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return Fu.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return Fu.pack(t,"arraybuffer",r,n)}static toStream(t,r,n=[]){const s=new mge.Stream;return this.compiler.compile(t,o6(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(i=>{s.emit("data",i),s.emit("end")}),s}};Fe(PP,"compiler",new Cge);let kge=PP;var Xm={exports:{}},Rge=Xm.exports,l6;function jge(){return l6||(l6=1,(function(e,t){(function(r,n){n()})(Rge,function(){function r(f,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function n(f,h,m){var x=new XMLHttpRequest;x.open("GET",f),x.responseType="blob",x.onload=function(){c(x.response,h,m)},x.onerror=function(){console.error("could not download file")},x.send()}function s(f){var h=new XMLHttpRequest;h.open("HEAD",f,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function a(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(h)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof qp=="object"&&qp.global===qp?qp:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(f,h,m){var x=i.URL||i.webkitURL,g=document.createElement("a");h=h||f.name||"download",g.download=h,g.rel="noopener",typeof f=="string"?(g.href=f,g.origin===location.origin?a(g):s(g.href)?n(f,h,m):a(g,g.target="_blank")):(g.href=x.createObjectURL(f),setTimeout(function(){x.revokeObjectURL(g.href)},4e4),setTimeout(function(){a(g)},0))}:"msSaveOrOpenBlob"in navigator?function(f,h,m){if(h=h||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,m),h);else if(s(f))n(f,h,m);else{var x=document.createElement("a");x.href=f,x.target="_blank",setTimeout(function(){a(x)})}}:function(f,h,m,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof f=="string")return n(f,h,m);var g=f.type==="application/octet-stream",v=/constructor/i.test(i.HTMLElement)||i.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||g&&v||o)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var _=w.result;_=y?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=_:location=_,x=null},w.readAsDataURL(f)}else{var E=i.URL||i.webkitURL,N=E.createObjectURL(f);x?x.location=N:location.href=N,x=null,setTimeout(function(){E.revokeObjectURL(N)},4e4)}});i.saveAs=c.saveAs=c,e.exports=c})})(Xm)),Xm.exports}var Oge=jge();const Dge=async(e,t)=>{var i;const r=[];try{const c=await(await fetch(t.logoUrl)).arrayBuffer();r.push(new hc({children:[new Xpe({data:c,transformation:{width:120,height:60}})],alignment:xa.RIGHT}))}catch(o){console.error("Failed to load logo for DOCX",o)}const n=o=>{var c;if(o.type==="paragraph"){const f=(o.content||[]).map(h=>{var m,x,g;return h.type==="text"?new sc({text:h.text,bold:(m=h.marks)==null?void 0:m.some(v=>v.type==="bold"),italics:(x=h.marks)==null?void 0:x.some(v=>v.type==="italic"),underline:(g=h.marks)!=null&&g.some(v=>v.type==="underline")?{}:void 0,font:"Times New Roman",size:24}):h.type==="hardBreak"?new sc({break:1}):null}).filter(Boolean);r.push(new hc({children:f,spacing:{after:240,line:360}}))}else if(o.type==="bulletList"||o.type==="orderedList")(c=o.content)==null||c.forEach(f=>{var h;f.type==="listItem"&&((h=f.content)==null||h.forEach(m=>{if(m.type==="paragraph"){const x=(m.content||[]).map(g=>{var v,y,w;return g.type==="text"?new sc({text:g.text,bold:(v=g.marks)==null?void 0:v.some(E=>E.type==="bold"),italics:(y=g.marks)==null?void 0:y.some(E=>E.type==="italic"),underline:(w=g.marks)!=null&&w.some(E=>E.type==="underline")?{}:void 0,font:"Times New Roman",size:24}):g.type==="hardBreak"?new sc({break:1}):null}).filter(Boolean);r.push(new hc({children:x,bullet:o.type==="bulletList"?{level:0}:void 0,numbering:o.type==="orderedList"?{reference:"primary-numbering",level:0}:void 0,spacing:{after:120,line:360}}))}}))});else if(o.type==="heading"){const f=(o.content||[]).map(h=>h.type==="text"?new sc({text:h.text,bold:!0,font:"Times New Roman",size:32-o.attrs.level*2}):null).filter(Boolean);r.push(new hc({children:f,spacing:{before:240,after:120}}))}};(i=e.content)==null||i.forEach(n);const s=new pge({numbering:{config:[{reference:"primary-numbering",levels:[{level:0,format:"lowerLetter",text:"%1)",alignment:xa.LEFT}]}]},sections:[{children:r}]}),a=await kge.toBlob(s);Oge.saveAs(a,`${t.fileName}.docx`)},Ige=()=>{const{documentConfig:e,formData:t,setCurrentStep:r,validationErrors:n,resetWorkflow:s}=D_(),a=Y.useRef(null),[i,o]=Y.useState(!1),[c,f]=Y.useState(!1),[h,m]=Y.useState(!1),[x,g]=Y.useState(!1),[v,y]=Y.useState(!1),[w,E]=Y.useState(null),[N,_]=Y.useState(""),[S,k]=Y.useState(!1),[L,R]=Y.useState(!1);qe.useEffect(()=>{const P=setTimeout(()=>{a.current&&(_(a.current.innerHTML),k(!0))},100);return()=>clearTimeout(P)},[]);const H={bg:"#f5f7f9",fg:"#1b2531",muted:"#627383",border:"#d9e0e8",destructive:"#df3a3a",secondaryBg:"#f8fafc"};if(!e)return null;const O=n.length===0,Z=async()=>{if(w){m(!0);try{await Dge(w,{logoUrl:"/logo.png",fileName:(()=>{const P=(t.companyName||"Client").toString(),X=(t.contractNumber||"Contract").toString().replace(/\s+/g,"_"),M=e.name.replace(/\s+/g,"_"),ie=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-");return`${P}_${X}_${M}_${ie}`})()}),y(!0)}catch(P){console.error("Download failed",P)}finally{m(!1)}}},ae=()=>{v?g(!0):Z()};return u.jsxs("div",{className:"min-h-screen p-6 lg:p-10 animate-fade-in",style:{backgroundColor:H.bg},children:[u.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 animate-slide-up",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",style:{color:H.fg},children:"Document Preview"}),u.jsx("p",{className:"font-medium",style:{color:H.muted},children:"Review the generated content and field values before final export."})]})}),!O&&u.jsxs("div",{className:"flex items-center gap-4 p-4 mb-8 rounded-2xl border animate-slide-up",style:{backgroundColor:`${H.destructive}0D`,borderColor:`${H.destructive}40`},children:[u.jsx("div",{className:"p-2 rounded-xl bg-white shadow-sm",children:u.jsx(aD,{className:"w-5 h-5",style:{color:H.destructive},strokeWidth:2.5})}),u.jsx("span",{className:"text-sm font-bold",style:{color:H.fg},children:"Warning: Some required fields are missing or invalid. Please fix them before generating."})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white  shadow-sm border border-transparent overflow-hidden animate-slide-up",children:[u.jsx("div",{className:"px-6 py-5.5 border-b",style:{backgroundColor:H.secondaryBg,borderColor:H.border},children:u.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:H.muted},children:"Field Summary"})}),u.jsx("div",{className:"p-6 max-h-288.75 overflow-y-auto",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.fields.map(P=>u.jsxs("div",{className:"group",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest mb-1",style:{color:H.muted},children:P.label}),u.jsx("p",{className:"text-sm font-bold truncate",style:{color:H.fg},children:t[P.id]||u.jsx("span",{className:"opacity-30",children:""})}),u.jsx("div",{className:"h-px w-full mt-3",style:{backgroundColor:H.bg}})]},P.id))})})]}),u.jsxs("div",{className:"lg:col-span-3 bg-white shadow-sm border border-transparent overflow-hidden animate-slide-up",children:[u.jsxs("div",{className:"px-8 py-3 border-b flex items-center justify-between gap-3",style:{backgroundColor:H.secondaryBg,borderColor:H.border},children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(On,{className:"w-5 h-5 text-[#3399cc]"}),u.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:H.muted},children:"Preview"})]}),u.jsx("button",{onClick:()=>R(!L),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl transition-all active:scale-95 font-bold text-sm shadow-sm
            ${L?"btn-primary":"bg-white text-slate-600 border border-slate-300 hover:bg-slate-50 hover:text-slate-900"}`,children:L?u.jsxs(u.Fragment,{children:[u.jsx(cs,{className:"w-4 h-4"}),"Done"]}):u.jsxs(u.Fragment,{children:[u.jsx(CG,{className:"w-4 h-4"}),"Edit"]})})]}),u.jsxs("div",{className:"p-0 relative",children:[!S&&u.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-white/50 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#24548f]"}),u.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Preparing Editor..."})]})}),u.jsx("div",{ref:a,className:"hidden",children:u.jsx(tae,{documentId:e.id,data:{...t,submissionDate:new Date().toLocaleDateString("en-US"),gsaOfficeCityStateZip:`${t.gsaOfficeCity||""}, ${t.gsaOfficeState||""}, ${t.gsaOfficeZip||""}`}})}),S&&N&&u.jsx(Xfe,{content:N,onChange:P=>E(P),editable:L})]})]})]}),u.jsxs("div",{className:"mt-10 flex items-center justify-between pb-10 animate-slide-up",children:[u.jsxs("button",{onClick:()=>r("form-entry"),className:"btn-secondary",children:[u.jsx(Fn,{className:"w-4 h-4",strokeWidth:3}),"Back to Form"]}),u.jsx("button",{onClick:()=>c?ae():o(!0),disabled:h||L,className:"btn-primary",children:h?"Processing...":u.jsxs(u.Fragment,{children:[u.jsx(nx,{className:"w-4 h-4",strokeWidth:3}),"Download Cover Letter"]})})]}),i&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 ",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 space-y-5 animate-in fade-in zoom-in",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(cs,{className:"w-5 h-5 text-[#3399cc]"}),u.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ready to generate ?"})]}),u.jsx("p",{className:"text-sm text-slate-600",children:"Please ensure all field values are accurate. This will finalize the formatting and download the document."}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{className:"px-4 py-2 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-100 transition-colors",onClick:()=>o(!1),children:"Cancel"}),u.jsx("button",{className:"px-4 py-2 rounded-xl text-sm font-semibold bg-[#3399cc] text-white hover:bg-[#287ab0] transition-colors",onClick:async()=>{o(!1),f(!0),await Z()},children:"Confirm & Download"})]})]})}),x&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 ",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 space-y-5 animate-in fade-in zoom-in",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(nx,{className:"w-6 h-6 text-amber-500"}),u.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Download Again?"})]}),u.jsx("p",{className:"text-sm text-slate-600",children:"You have already downloaded this document recently. Would you like to download a new copy?"}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{className:"px-4 py-2 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-100 transition-colors",onClick:()=>g(!1),children:"Cancel"}),u.jsx("button",{className:"px-4 py-2 rounded-xl text-sm font-semibold bg-amber-500 text-white hover:bg-amber-600 transition-colors",onClick:()=>{g(!1),Z()},children:"Yes, Download Again"})]})]})})]})},Mge=()=>{const{currentStep:e,selectedDocumentType:t,loadDocumentConfig:r,setCurrentStep:n,analysisSummary:s}=D_(),[a]=JO(),{selectedJobId:i,setSelectedJobId:o}=Fg(),c=a.get("job_id"),f=c?Number(c):i;Y.useEffect(()=>{c&&Number(c)!==i&&o(Number(c))},[c,i,o]),Y.useEffect(()=>{!t&&Hm.length>0&&(r(Hm[0].id,f||void 0),n("form-entry"))},[t,r,f,n]);const h=g=>{r(g,f||void 0),n("form-entry")},x=!f||!t||!s?null:{"add-product":Number(s.products_added||0),"delete-product":Number(s.products_deleted||0),"price-increase":Number(s.price_increased||0),"price-decrease":Number(s.price_decreased||0),"description-change":Number(s.description_changed||0)}[t]===0?`No ${{"add-product":"additions","delete-product":"deletions","price-increase":"price increases","price-decrease":"price decreases","description-change":"description changes"}[t]||"modifications"} were detected in the analysis for this document type.`:null;return e==="preview"?u.jsx(Ige,{}):u.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6 lg:p-10 space-y-8 animate-fade-in",children:u.jsxs("div",{className:"mx-auto  space-y-10",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Generate Documents"}),u.jsx("p",{className:"text-slate-500 font-medium",children:"Select a document type to pre-fill and generate"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Hm.map(g=>{const v={"add-product":Number((s==null?void 0:s.products_added)||0),"delete-product":Number((s==null?void 0:s.products_deleted)||0),"price-increase":Number((s==null?void 0:s.price_increased)||0),"price-decrease":Number((s==null?void 0:s.price_decreased)||0),"description-change":Number((s==null?void 0:s.description_changed)||0)};return u.jsx(Gse,{config:g,isSelected:t===g.id,onSelect:()=>h(g.id),count:s?v[g.id]??0:void 0,variant:"horizontal"},g.id)})}),u.jsx("div",{className:"pt-2",children:e==="load-config"?u.jsxs("div",{className:"py-20 text-center bg-white rounded-3xl border border-slate-200",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin m-auto text-[#24548f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading configuration..."})]}):x?u.jsxs("div",{className:"py-24 text-center bg-white rounded-3xl border border-slate-200 shadow-sm animate-fade-in",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No Modifications Found"}),u.jsx("p",{className:"text-slate-500 font-medium max-w-md m-auto px-6 whitespace-pre-line",children:x})]}):u.jsx(Kse,{})})]})})};function Fge({onDownloadHistory:e}){return u.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-12 mx-auto",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Analysis History"}),u.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"View and manage all past price list analyses"})]})})}function Pge({searchQuery:e,setSearchQuery:t,clientFilter:r,setClientFilter:n,statusFilter:s,setStatusFilter:a,dateFrom:i,setDateFrom:o,dateTo:c,setDateTo:f,clients:h,onClearFilters:m,isLoading:x=!1}){var y;const g=r==="All"?0:((y=h.find(w=>w.company_name===r))==null?void 0:y.client_id)??0,v=w=>{if(w===0)n("All");else{const E=h.find(N=>N.client_id===w);n((E==null?void 0:E.company_name)??"All")}};return u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(WW,{className:"w-4 h-4 text-[#3399cc]"}),u.jsx("h2",{className:"text-sm font-bold text-slate-800",children:"Filters"})]}),u.jsx("button",{onClick:m,className:"text-sm font-semibold text-[#3399cc] hover:underline",children:"Clear all"})]}),u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400",children:"Search"}),u.jsxs("div",{className:"relative",children:[u.jsx(Al,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{value:e,onChange:w=>t(w.target.value),placeholder:"Search by client, contract, or Analyst...",className:"w-full pl-11 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/20 outline-none transition-all text-sm font-medium"})]})]}),u.jsxs("div",{className:"space-y-1 overflow-visible",children:[u.jsx("label",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400",children:"Client"}),x?u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-xl",children:[u.jsx(Lt,{className:"w-4 h-4 animate-spin text-[#24578f]"}),u.jsx("span",{className:"text-slate-500 text-xs font-medium",children:"Fetching..."})]}):u.jsx(Mg,{clients:h,selectedClient:g,onClientSelect:v,allowAll:!0,allLabel:"All Clients",placeholder:"Filter by client...",compact:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400",children:"Status"}),u.jsxs("div",{className:"relative",children:[u.jsx(cs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsxs("select",{value:s,onChange:w=>a(w.target.value),className:"w-full text-slate-500 appearance-none pl-11 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/20 outline-none transition-all text-sm font-medium",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"rejected",children:"Rejected"})]}),u.jsx(ZE,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400",children:"Date Range"}),u.jsxs("div",{className:"flex flex-col gap-2 2xl:flex-row",children:[u.jsx("div",{className:"relative flex-1",children:u.jsx("input",{type:"date",value:i?i.toISOString().split("T")[0]:"",onChange:w=>o(w.target.value?new Date(w.target.value):void 0),className:"w-full text-slate-500 px-4 pr-3 py-3 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/20  outline-none transition-all text-sm font-medium"})}),u.jsx("div",{className:"relative flex-1",children:u.jsx("input",{type:"date",value:c?c.toISOString().split("T")[0]:"",onChange:w=>f(w.target.value?new Date(w.target.value):void 0),className:"w-full text-slate-500 px-4 pr-3 py-3 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/20  outline-none transition-all text-sm font-medium"})})]})]})]})})]})}function c6({summary:e,hasModifications:t}){return u.jsxs("div",{className:"flex items-center gap-2 text-xs flex-wrap",children:[e.additions>0&&u.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 font-bold",children:[u.jsx(Nd,{className:"w-3 h-3"}),e.additions]}),e.deletions>0&&u.jsxs("span",{className:"flex items-center gap-1 text-red-500 font-bold",children:[u.jsx(rD,{className:"w-3 h-3"}),e.deletions]}),e.priceIncreases>0&&u.jsxs("span",{className:"flex items-center gap-1 text-amber-600 font-bold",children:[u.jsx(h0,{className:"w-3 h-3"}),e.priceIncreases]}),e.priceDecreases>0&&u.jsxs("span",{className:"flex items-center gap-1 text-cyan-600 font-bold",children:[u.jsx(f0,{className:"w-3 h-3"}),e.priceDecreases]}),e.descriptionChanges>0&&u.jsxs("span",{className:"flex items-center gap-1 text-blue-600 font-bold",children:[u.jsx(Sd,{className:"w-3 h-3"}),e.descriptionChanges]}),!t&&u.jsx("span",{className:"text-slate-400 text-xs italic",children:"No modifications"})]})}function u6({item:e,updatingId:t,onUpdateStatus:r,onClose:n,openUpwards:s=!1}){const a=Lr(),{setSelectedJobId:i}=Fg(),o=c=>{a(`/documents?job_id=${c}`)};return u.jsxs("div",{className:`absolute right-12 ${s?"bottom-4":"top-4"} w-48 bg-white border border-slate-200 rounded-xl shadow-xl z-50 py-2 animate-in fade-in zoom-in duration-100`,onClick:c=>c.stopPropagation(),children:[u.jsxs("button",{onClick:c=>{c.stopPropagation(),a(`/analyses/details?id=${e.job_id}`)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors font-medium",children:[u.jsx(gi,{className:"w-4 h-4 text-slate-400"}),"View Details"]}),u.jsxs("button",{onClick:c=>{c.stopPropagation(),o(e.job_id)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors font-medium",children:[u.jsx(On,{className:"w-4 h-4 text-slate-400"}),"Generate Docs"]}),r_(e.status)==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"my-1 border-t border-slate-100"}),u.jsxs("button",{onClick:c=>{c.stopPropagation(),r(e.job_id,"approve"),n()},disabled:t===e.job_id,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-emerald-600 hover:bg-emerald-50 transition-colors font-semibold disabled:opacity-50",children:[t===e.job_id?u.jsx(Lt,{className:"w-4 h-4 animate-spin"}):u.jsx(cs,{className:"w-4 h-4"}),"Approve Analysis"]}),u.jsxs("button",{onClick:c=>{c.stopPropagation(),r(e.job_id,"reject"),n()},disabled:t===e.job_id,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-rose-600 hover:bg-rose-50 transition-colors font-semibold disabled:opacity-50",children:[t===e.job_id?u.jsx(Lt,{className:"w-4 h-4 animate-spin"}):u.jsx(Tg,{className:"w-4 h-4"}),"Reject Analysis"]})]})]})}function d6({currentPage:e,setCurrentPage:t,totalItems:r,itemsPerPage:n,startIndex:s}){const a=Math.ceil(r/n);return u.jsxs("div",{className:"px-6 py-5 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:s+1})," ","to"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:Math.min(s+n,r)})," ","of"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:r})," ","analyses"]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{disabled:e===1,onClick:()=>t(e-1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all mr-2",children:u.jsx(Fn,{size:18})}),u.jsx("div",{className:"flex items-center gap-1",children:(()=>{const i=[];for(let c=1;c<=a;c++)c===1||c===a||c>=e-1&&c<=e+1?i.push(c):i[i.length-1]!=="..."&&i.push("...");return i.map((c,f)=>u.jsx(qe.Fragment,{children:c==="..."?u.jsx("span",{className:"px-2 text-slate-400 font-medium",children:"..."}):u.jsx("button",{onClick:()=>t(Number(c)),className:`min-w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all
                      ${e===c?"bg-[#3399cc] text-white shadow-md shadow-[#3399cc]/30":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:c})},f))})()}),u.jsx("button",{disabled:e===a,onClick:()=>t(e+1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all ml-2",children:u.jsx(gr,{size:18})})]})]})}function Lge({analysisHistory:e,totalItems:t,loading:r,currentPage:n,setCurrentPage:s,itemsPerPage:a,sortConfig:i,onSort:o,updatingId:c,onUpdateStatus:f}){const h=Lr(),{setSelectedJobId:m}=Fg(),[x,g]=Y.useState(null);Y.useEffect(()=>{const y=()=>g(null);return window.addEventListener("click",y),()=>window.removeEventListener("click",y)},[]);const v=(n-1)*a;return u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[u.jsxs("div",{className:"hidden lg:block overflow-x-auto",children:[u.jsx("div",{className:"",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Analysis ID"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Client"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Modifications"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>o("date"),children:u.jsx("div",{className:"flex items-center gap-1",children:"Date & Time"})}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Analyzed By"}),u.jsx("th",{className:"text-right px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{children:r?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading Analysis History..."})]})})}):e.length===0?u.jsx("tr",{children:u.jsxs("td",{colSpan:7,className:"p-12 text-center",children:[u.jsx(On,{className:"w-12 h-12 mx-auto text-slate-300 mb-4"}),u.jsx("p",{className:"font-bold text-slate-500 mb-2",children:"No analyses found"})]})}):e.map(y=>{const w=y.summary.additions>0||y.summary.deletions>0||y.summary.priceIncreases>0||y.summary.priceDecreases>0||y.summary.descriptionChanges>0;return u.jsxs("tr",{onClick:()=>{h(`/analyses/details?id=${y.job_id}`)},className:"cursor-pointer group border-b border-slate-50 hover:bg-slate-50/50 transition-colors",children:[u.jsx("td",{className:"p-4",children:u.jsxs("span",{className:"font-bold text-slate-800 text-sm group-hover:text-[#38A1DB] transition-colors",children:["ANAL-JOB-",y.job_id]})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-600/10",children:u.jsx(Ts,{className:"h-4 w-4 text-[#24578f]"})}),u.jsxs("div",{className:"leading-tight",children:[u.jsx("span",{className:"block text-sm uppercase font-semibold text-slate-800",children:y.client||""}),u.jsx("span",{className:"text-[12px] font-medium text-slate-500",children:y.contract_number||"No Contract"})]})]})}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:"text-slate-500 font-medium text-sm",children:u.jsx(Ws,{status:y.status})})}),u.jsx("td",{className:"p-4",children:u.jsx(c6,{summary:y.summary,hasModifications:w})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx(Tc,{className:"w-3.5 h-3.5 text-slate-400"}),u.jsx("div",{className:"leading-tight",children:u.jsx("div",{className:"text-sm font-medium",children:b3(y.created_time)})})]})}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:"px-2 text-slate-500 text-sm transition-colors",children:y.user})}),u.jsx("td",{className:"p-4 relative",children:u.jsxs("div",{className:"flex justify-end",children:[u.jsx("button",{onClick:E=>{E.stopPropagation(),g(x===y.job_id?null:y.job_id)},className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500",children:u.jsx(vi,{className:"w-5 h-5"})}),x===y.job_id&&u.jsx(u6,{item:y,updatingId:c,onUpdateStatus:f,onClose:()=>g(null),openUpwards:e.indexOf(y)>=e.length-3})]})})]},y.job_id)})})]})}),t>a&&u.jsx(d6,{currentPage:n,setCurrentPage:s,totalItems:t,itemsPerPage:a,startIndex:v})]}),u.jsxs("div",{className:"block lg:hidden",children:[r?u.jsx("div",{className:"py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading Analysis History..."})]})}):e.length===0?u.jsxs("div",{className:"p-12 text-center",children:[u.jsx(On,{className:"w-12 h-12 mx-auto text-slate-300 mb-4"}),u.jsx("p",{className:"font-bold text-slate-500 mb-2",children:"No analyses found"})]}):u.jsx("div",{className:"divide-y divide-slate-100",children:e.map(y=>{const w=y.summary.additions>0||y.summary.deletions>0||y.summary.priceIncreases>0||y.summary.priceDecreases>0||y.summary.descriptionChanges>0;return u.jsxs("div",{onClick:()=>{h(`/analyses/details?id=${y.job_id}`)},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"font-bold text-slate-800 text-sm mb-1",children:["ANAL-JOB-",y.job_id]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[u.jsx(Tc,{className:"w-3 h-3"}),u.jsx("span",{children:b3(y.created_time)})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ws,{status:y.status}),u.jsx("button",{onClick:E=>{E.stopPropagation(),g(x===y.job_id?null:y.job_id)},className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500",children:u.jsx(vi,{className:"w-5 h-5"})}),x===y.job_id&&u.jsx(u6,{item:y,updatingId:c,onUpdateStatus:f,onClose:()=>g(null),openUpwards:e.indexOf(y)>=e.length-3})]})]}),u.jsx("div",{className:"flex items-center gap-3 mb-3",children:u.jsxs("div",{className:"leading-tight min-w-0 flex-1",children:[u.jsx("div",{className:"font-semibold text-slate-800 truncate",children:y.client||""}),u.jsx("div",{className:"text-xs font-medium text-slate-500 truncate",children:y.contract_number||"No Contract"})]})}),u.jsx("div",{className:"mb-2",children:u.jsx(c6,{summary:y.summary,hasModifications:w})}),u.jsxs("div",{className:"text-xs text-slate-500",children:["Analyzed by"," ",u.jsx("span",{className:"font-medium text-slate-700",children:y.user})]})]},y.job_id)})}),t>a&&u.jsx("div",{className:"border-t border-slate-100",children:u.jsx(d6,{currentPage:n,setCurrentPage:s,totalItems:t,itemsPerPage:a,startIndex:v})})]})]})}function Bge(){var D,W,K,re;const e=Lr(),[t,r]=Y.useState(""),n=t_(t,500),[s,a]=Y.useState("All"),[i,o]=Y.useState("All"),[c,f]=Y.useState(void 0),[h,m]=Y.useState(void 0),[x,g]=Y.useState(1),v=50,[y,w]=Y.useState([]),[E,N]=Y.useState(0),[_,S]=Y.useState(null),[k,L]=Y.useState(!0),[R,H]=Y.useState(!0),[O,Z]=Y.useState({key:"date",direction:"desc"}),[ae,P]=Y.useState({isOpen:!1,job:null,action:"approve"}),[X,M]=Y.useState([]),ie=async()=>{try{H(!0);const se=await vt.get("clients/approved");M(se.data)}catch(se){console.error("Failed to fetch clients:",se)}finally{H(!1)}},J=async()=>{var se;try{L(!0);const I=await uh({page:x,page_size:v,search:n||void 0,client_id:i==="All"||(se=X.find(ne=>ne.company_name===i))==null?void 0:se.client_id,status:s==="All"?void 0:s,date_from:c==null?void 0:c.toISOString(),date_to:h==null?void 0:h.toISOString()}),F=I.items.map(ne=>({...ne,summary:O_(ne.action_summary)}));w(F),N(I.total)}catch(I){console.error("Failed to fetch analysis history:",I),gt.error("Failed to load analysis history")}finally{L(!1)}};Y.useEffect(()=>{ie()},[]),Y.useEffect(()=>{J()},[x,n,i,s,c,h]),Y.useEffect(()=>{g(1)},[n,i,s,c,h]);const ee=(se,I)=>{const F=y.find(ne=>ne.job_id===se);F&&P({isOpen:!0,job:F,action:I})},xe=async()=>{if(!ae.job)return;const{job:se,action:I}=ae,F=se.job_id;try{S(F),I==="approve"?await Rse(F):await jse(F),gt.success(`Analysis ${I==="approve"?"approved":"rejected"} successfully`),w(ne=>ne.map(te=>te.job_id===F?{...te,status:I==="approve"?"approved":"rejected"}:te)),P({...ae,isOpen:!1})}catch(ne){console.error("Status update failed:",ne),gt.error(ne.message||"Failed to update status")}finally{S(null)}},oe=se=>{Z(I=>I.key===se?{key:se,direction:I.direction==="asc"?"desc":"asc"}:{key:se,direction:"asc"})},we=()=>{r(""),o("All"),a("All"),f(void 0),m(void 0)},G=()=>{e("/downloads")};return u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-4 md:p-6 lg:p-10 space-y-6 lg:space-y-10",children:[u.jsx(mo,{isOpen:ae.isOpen,onClose:()=>P({...ae,isOpen:!1}),onConfirm:xe,title:`Confirm ${ae.action==="approve"?"Approval":"Rejection"}`,message:u.jsxs(u.Fragment,{children:["Are you sure you want to ",ae.action," ",u.jsxs("span",{className:"font-bold text-slate-700",children:["ANAL-JOB-",(D=ae.job)==null?void 0:D.job_id]}),"?"]}),details:[{label:"Client",value:((W=ae.job)==null?void 0:W.client)||""},{label:"Contract",value:((K=ae.job)==null?void 0:K.contract_number)||""}],warning:{message:ae.action==="approve"?"This will approve the analysis and update the product catalog. This action cannot be undone.":"This will reject the analysis and the product catalog wont be updated. This action cannot be undone.",type:ae.action==="approve"?"emerald":"rose"},variant:ae.action==="approve"?"emerald":"rose",confirmText:ae.action==="approve"?"Approve":"Reject",isSubmitting:_===((re=ae.job)==null?void 0:re.job_id)}),u.jsx(Fge,{onDownloadHistory:G}),u.jsx(Pge,{searchQuery:t,setSearchQuery:r,clientFilter:i,setClientFilter:o,statusFilter:s,setStatusFilter:a,dateFrom:c,setDateFrom:f,dateTo:h,setDateTo:m,clients:X,onClearFilters:we,isLoading:R}),u.jsx(Lge,{analysisHistory:y,totalItems:E,loading:k,currentPage:x,setCurrentPage:g,itemsPerPage:v,sortConfig:O,onSort:oe,updatingId:_,onUpdateStatus:ee})]})}const Bs=({className:e})=>u.jsx("div",{className:`animate-pulse bg-slate-200 rounded-md ${e}`});function Uge(){var L;const e=Lr(),{user:t}=Ka(),[r,n]=Y.useState([]),[s,a]=Y.useState([]),[i,o]=Y.useState(!0),[c,f]=Y.useState(0),[h,m]=Y.useState(0),[x,g]=Y.useState(0),[v,y]=Y.useState(0),w={bg:"#f5f7f9",fg:"#1b2531",primary:"#24548f",muted:"#627383",border:"#d9e0e8",success:"#33b17d",warning:"#f9ab20",destructive:"#df3a3a",secondaryBg:"#f8fafc"};Y.useEffect(()=>{E()},[]);const E=async()=>{try{o(!0);const[R,H,O,Z,ae]=await Promise.all([vt.get("clients"),uh({page:1,page_size:5}),uh({status:"approved",page:1,page_size:1}),uh({status:"pending",page:1,page_size:1}),Qf.getAllProducts({page:1,page_size:1})]);n(R.data),a(H.items||[]),f(O.total||0),m(Z.total||0),y(ae.total||0)}catch(R){console.error("Error fetching data:",R)}finally{o(!1)}},_={totalClients:r.length,completedJobs:c,pendingJobs:h},S=[{label:"All Clients",value:_.totalClients.toString(),icon:Ts},{label:"Analyses Completed",value:_.completedJobs.toString(),icon:sx},{label:"Pending Reviews",value:_.pendingJobs.toString(),icon:Tc},{label:"Total Products",value:v.toLocaleString(),icon:Th}],k=s.sort((R,H)=>new Date(H.created_time).getTime()-new Date(R.created_time).getTime()).slice(0,5).map(R=>{var H,O,Z,ae,P;return{id:R.job_id,client:R.client,contract:R.contract_number,status:R.status,add:((H=R.action_summary)==null?void 0:H.NEW_PRODUCT)||0,del:((O=R.action_summary)==null?void 0:O.REMOVED_PRODUCT)||0,incr:((Z=R.action_summary)==null?void 0:Z.PRICE_INCREASE)||0,decr:((ae=R.action_summary)==null?void 0:ae.PRICE_DECREASE)||0,desc:((P=R.action_summary)==null?void 0:P.DESCRIPTION_CHANGE)||0}});return u.jsxs("div",{className:"min-h-screen p-6 lg:p-10 animate-fade-in",style:{backgroundColor:w.bg},children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 animate-slide-up",children:[u.jsx("div",{className:"space-y-1",children:i?u.jsxs(u.Fragment,{children:[u.jsx(Bs,{className:"h-9 w-48 mb-2"}),u.jsx(Bs,{className:"h-5 w-64"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight",style:{color:w.fg},children:["Welcome, ",((L=t==null?void 0:t.name)==null?void 0:L.split(" ")[0])||"Guest"]}),u.jsx("p",{className:"font-medium",style:{color:w.muted},children:"Overview of clients and recent analyses."})]})}),!i&&u.jsxs("button",{onClick:()=>e("/pricelist-analysis"),className:"btn-primary",children:[u.jsx(sx,{className:"w-4 h-4"}),"New Analysis"]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 animate-slide-up",children:i?Array(4).fill(0).map((R,H)=>u.jsxs("div",{className:"bg-white p-6 rounded-2xl h-32 flex flex-col justify-between",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Bs,{className:"h-3 w-20"}),u.jsx(Bs,{className:"h-10 w-10 rounded-xl"})]}),u.jsx(Bs,{className:"h-8 w-12"})]},H)):S.map(R=>u.jsxs("div",{className:"bg-white p-6 flex flex-col justify-between rounded-2xl transition-all hover:shadow-lg ",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest",style:{color:w.muted},children:R.label}),u.jsx("div",{className:"p-2.5 rounded-xl",style:{backgroundColor:w.secondaryBg},children:u.jsx(R.icon,{className:"w-5 h-5 text-[#24548f]",strokeWidth:2.5})})]}),u.jsx("div",{children:u.jsx("div",{className:"text-3xl font-black tracking-tighter mb-1",style:{color:w.fg},children:R.value})})]},R.label))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-2xl animate-slide-up shadow-sm ",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-extrabold",style:{color:w.fg},children:"Recent Analyses"}),u.jsx("p",{className:"text-sm font-medium",style:{color:w.muted},children:"Latest price modifications tracked"})]}),!i&&u.jsx("button",{onClick:()=>e("/analyses"),className:"text-sm font-bold transition-colors",style:{color:w.muted},children:"View all"})]}),u.jsx("div",{className:"space-y-3",children:i?Array(5).fill(0).map((R,H)=>u.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl border border-transparent bg-slate-50/50",children:[u.jsx(Bs,{className:"w-12 h-12 rounded-xl shrink-0"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(Bs,{className:"h-4 w-32"}),u.jsx(Bs,{className:"h-3 w-20"})]}),u.jsxs("div",{className:"hidden sm:flex gap-4",children:[u.jsx(Bs,{className:"h-8 w-8"}),u.jsx(Bs,{className:"h-8 w-8"}),u.jsx(Bs,{className:"h-8 w-8"})]}),u.jsx(Bs,{className:"h-6 w-20 rounded-full"})]},H)):u.jsxs(u.Fragment,{children:[k.map(R=>u.jsxs("div",{onClick:()=>{e(`/analyses/details?id=${R.id}`)},className:"group flex items-center gap-4 p-4 rounded-2xl border border-transparent hover:shadow-sm transition-all cursor-pointer",style:{backgroundColor:`${w.bg}80`},children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-white border flex items-center justify-center shrink-0 shadow-sm group-hover:scale-105 transition-transform",style:{borderColor:w.border},children:u.jsx(On,{className:"w-5 h-5",style:{color:w.primary}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-bold truncate",style:{color:w.fg},children:R.client}),u.jsx("p",{className:"text-xs font-bold",style:{color:w.muted},children:R.contract})]}),u.jsxs("div",{className:"hidden sm:flex items-center gap-6 px-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:w.muted},children:"Add"}),u.jsxs("p",{className:"text-sm font-black",style:{color:w.success},children:["+",R.add]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:w.muted},children:"Del"}),u.jsxs("p",{className:"text-sm font-black",style:{color:w.destructive},children:["-",R.del]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:w.muted},children:"Incr"}),u.jsxs("p",{className:"flex items-center gap-1 text-amber-600 text-sm font-bold",children:[u.jsx(h0,{className:"w-3 h-3"}),R.incr]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:w.muted},children:"Decr"}),u.jsxs("p",{className:"flex items-center gap-1 text-blue-600 text-sm font-bold",children:[u.jsx(f0,{className:"w-3 h-3"}),R.decr]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:w.muted},children:"Desc"}),u.jsxs("p",{className:"flex items-center gap-1 text-indigo-600 text-sm font-bold",children:[u.jsx(Sd,{className:"w-3 h-3"}),R.desc]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ws,{status:R.status}),u.jsx(gr,{className:"w-4 h-4",style:{color:w.border}})]})]},R.id)),k.length===0&&u.jsx("p",{className:"text-center py-8",style:{color:w.muted},children:"No analyses found"})]})})]}),u.jsxs("div",{className:"space-y-8 animate-slide-in-right",children:[u.jsxs("div",{className:"rounded-4xl p-8 shadow-xl text-white",style:{backgroundColor:w.primary},children:[u.jsx("h2",{className:"text-xl font-bold mb-1",children:"Quick Actions"}),u.jsx("p",{className:"text-xs font-medium mb-6 opacity-70",children:"Perform common tasks"}),u.jsx("div",{className:"space-y-3",children:[{label:"Manage Client Contracts",icon:On,to:"/client-contracts"},{label:"View Products List",icon:Th,to:"/gsa-products"},{label:"Upload Product Catalog",icon:_l,to:"/gsa-products/upload"}].map(R=>u.jsxs("button",{onClick:()=>e(R.to),className:"w-full flex items-center gap-3 p-4 rounded-xl transition-all group font-bold text-sm text-left border border-white/10 bg-white/10 hover:bg-white hover:text-slate-900",children:[u.jsx("div",{className:"p-1.5 rounded-lg bg-white/10",children:u.jsx(R.icon,{className:"w-4 h-4"})}),R.label]},R.label))})]}),u.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm ",children:[u.jsx("h3",{className:"text-xs font-black uppercase tracking-widest mb-6",style:{color:w.muted},children:"Clients Overview"}),u.jsx("div",{className:"space-y-5",children:[{label:"Active",key:"approved",color:w.success},{label:"Pending",key:"pending",color:w.warning},{label:"Rejected",key:"rejected",color:w.destructive}].map(R=>u.jsxs("div",{className:"flex items-center justify-between group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:R.color}}),u.jsx("span",{className:"text-sm font-bold",style:{color:w.fg},children:R.label})]}),i?u.jsx(Bs,{className:"h-4 w-6"}):u.jsx("span",{className:"text-sm font-black",style:{color:w.fg},children:r.filter(H=>H.status===R.key).length})]},R.label))})]})]})]})]})}const Xr=({className:e})=>u.jsx("div",{className:`animate-pulse bg-slate-200 rounded-md ${e}`});function zge(){var _;const e=Lr(),{user:t}=Ka(),[r,n]=Y.useState([]),[s,a]=Y.useState([]),[i,o]=Y.useState([]),[c,f]=Y.useState(!0),[h,m]=Y.useState("users"),x={bg:"#f5f7f9",fg:"#1b2531",primary:"#24548f",muted:"#627383",border:"#d9e0e8",success:"#33b17d",destructive:"#df3a3a",secondaryBg:"#f8fafc"};Y.useEffect(()=>{g()},[]);const g=async()=>{try{f(!0);const[S,k,L]=await Promise.all([vt.get("/users/all"),vt.get("/clients"),uh({page:1,page_size:5})]);n(Array.isArray(S.data)?S.data:[]),a(Array.isArray(k.data)?k.data:[]),o(L.items||[])}catch(S){console.error("Error fetching dashboard data:",S)}finally{f(!1)}},v=r.filter(S=>!S.is_active&&!S.is_deleted).slice(0,2),y=s.filter(S=>S.status==="pending").slice(0,2),w=i.filter(S=>S.status==="pending").length;i.filter(S=>S.status==="approved").length;const E=[{label:"Pending User Requests",value:r.filter(S=>!S.is_active&&!S.is_deleted).length.toString(),icon:cK},{label:"Pending Client Reviews",value:s.filter(S=>S.status==="pending").length.toString(),icon:Ts},{label:"Pending Analyses",value:w.toString(),icon:Tc},{label:"Active Clients",value:s.filter(S=>S.status==="approved").length.toString(),icon:cs}],N=i.sort((S,k)=>new Date(k.created_time).getTime()-new Date(S.created_time).getTime()).slice(0,5).map(S=>{var k,L,R,H,O;return{id:S.job_id,client:S.client,contract:S.contract_number,status:S.status,add:((k=S.action_summary)==null?void 0:k.NEW_PRODUCT)||0,del:((L=S.action_summary)==null?void 0:L.REMOVED_PRODUCT)||0,incr:((R=S.action_summary)==null?void 0:R.PRICE_INCREASE)||0,decr:((H=S.action_summary)==null?void 0:H.PRICE_DECREASE)||0,desc:((O=S.action_summary)==null?void 0:O.DESCRIPTION_CHANGE)||0}});return u.jsxs("div",{className:"min-h-screen p-6 lg:p-10 animate-fade-in",style:{backgroundColor:x.bg},children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 animate-slide-up",children:[u.jsx("div",{className:"space-y-1",children:c?u.jsxs(u.Fragment,{children:[u.jsx(Xr,{className:"h-9 w-48 mb-2"}),u.jsx(Xr,{className:"h-5 w-64"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight",style:{color:x.fg},children:["Welcome, ",((_=t==null?void 0:t.name)==null?void 0:_.split(" ")[0])||"Guest"]}),u.jsx("p",{className:"font-medium",style:{color:x.muted},children:"Overview of platform users and recent analyses."})]})}),!c&&u.jsxs("button",{onClick:()=>e("/pricelist-analysis"),className:"btn-primary",children:[u.jsx(sx,{className:"w-4 h-4"}),"New Analysis"]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 animate-slide-up",children:c?Array(4).fill(0).map((S,k)=>u.jsxs("div",{className:"bg-white p-6 rounded-2xl h-32 flex flex-col justify-between",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Xr,{className:"h-3 w-20"}),u.jsx(Xr,{className:"h-10 w-10 rounded-xl"})]}),u.jsx(Xr,{className:"h-8 w-12"})]},k)):E.map(S=>u.jsxs("div",{className:"bg-white p-6 flex flex-col justify-between rounded-2xl transition-all hover:shadow-lg ",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest",style:{color:x.muted},children:S.label}),u.jsx("div",{className:"p-2.5 rounded-xl",style:{backgroundColor:x.secondaryBg},children:u.jsx(S.icon,{className:"w-5 h-5 text-[#24548f]",strokeWidth:2.5})})]}),u.jsx("div",{children:u.jsx("div",{className:"text-3xl font-black tracking-tighter mb-1",style:{color:x.fg},children:S.value})})]},S.label))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-2xl animate-slide-up shadow-sm ",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-extrabold",style:{color:x.fg},children:"Recent Analyses"}),u.jsx("p",{className:"text-sm font-medium",style:{color:x.muted},children:"Latest price modifications tracked"})]}),!c&&u.jsx("button",{onClick:()=>e("/analyses"),className:"text-sm font-bold transition-colors",style:{color:x.muted},children:"View all"})]}),u.jsx("div",{className:"space-y-3",children:c?Array(5).fill(0).map((S,k)=>u.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl border border-transparent bg-slate-50/50",children:[u.jsx(Xr,{className:"w-12 h-12 rounded-xl shrink-0"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(Xr,{className:"h-4 w-32"}),u.jsx(Xr,{className:"h-3 w-20"})]}),u.jsxs("div",{className:"hidden sm:flex gap-4",children:[u.jsx(Xr,{className:"h-8 w-8"}),u.jsx(Xr,{className:"h-8 w-8"}),u.jsx(Xr,{className:"h-8 w-8"})]}),u.jsx(Xr,{className:"h-6 w-20 rounded-full"})]},k)):u.jsxs(u.Fragment,{children:[N.map(S=>u.jsxs("div",{onClick:()=>{e(`/analyses/details?id=${S.id}`)},className:"group flex items-center gap-4 p-4 rounded-2xl border border-transparent hover:shadow-sm transition-all cursor-pointer",style:{backgroundColor:`${x.bg}80`},children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-white border flex items-center justify-center shrink-0 shadow-sm group-hover:scale-105 transition-transform",style:{borderColor:x.border},children:u.jsx(On,{className:"w-5 h-5",style:{color:x.primary}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-bold truncate",style:{color:x.fg},children:S.client}),u.jsx("p",{className:"text-xs font-bold",style:{color:x.muted},children:S.contract})]}),u.jsxs("div",{className:"hidden sm:flex items-center gap-6 px-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Add"}),u.jsxs("p",{className:"text-sm font-black",style:{color:x.success},children:["+",S.add]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Del"}),u.jsxs("p",{className:"text-sm font-black",style:{color:x.destructive},children:["-",S.del]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Incr"}),u.jsxs("p",{className:"flex items-center gap-1 text-amber-600 text-sm font-bold",children:[u.jsx(h0,{className:"w-3 h-3"}),S.incr]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Decr"}),u.jsxs("p",{className:"flex items-center gap-1 text-blue-600 text-sm font-bold",children:[u.jsx(f0,{className:"w-3 h-3"}),S.decr]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Desc"}),u.jsxs("p",{className:"flex items-center gap-1 text-indigo-600 text-sm font-bold",children:[u.jsx(Sd,{className:"w-3 h-3"}),S.desc]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ws,{status:S.status}),u.jsx(gr,{className:"w-4 h-4",style:{color:x.border}})]})]},S.id)),N.length===0&&u.jsx("p",{className:"text-center py-8",style:{color:x.muted},children:"No analyses found"})]})})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"rounded-4xl p-8 shadow-xl text-white",style:{backgroundColor:x.primary},children:[u.jsx("h2",{className:"text-xl font-bold mb-1",children:"Quick Actions"}),u.jsx("p",{className:"text-xs font-medium mb-6 opacity-70",children:"Perform common tasks"}),u.jsx("div",{className:"space-y-3",children:[{label:"Manage Client Contracts",icon:On,to:"/client-contracts"},{label:"View Products List",icon:Th,to:"/gsa-products"},{label:"Upload Product Catalog",icon:_l,to:"/gsa-products/upload"}].map(S=>u.jsxs("button",{onClick:()=>e(S.to),className:"w-full flex items-center gap-3 p-4 rounded-xl transition-all group font-bold text-sm text-left border border-white/10 bg-white/10 hover:bg-white hover:text-slate-900",children:[u.jsx("div",{className:"p-1.5 rounded-lg bg-white/10",children:u.jsx(S.icon,{className:"w-4 h-4"})}),S.label]},S.label))})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[u.jsxs("div",{className:"flex border-b border-slate-50",children:[u.jsxs("button",{onClick:()=>m("users"),className:`flex-1 py-4 text-[10px] font-black uppercase tracking-widest transition-all relative ${h==="users"?"text-[#24548f]":"text-slate-400 hover:text-slate-600"}`,children:["User Approvals",!c&&v.length>0&&u.jsx("span",{className:"ml-2 bg-blue-50 text-[#24548f] px-1.5 py-0.5 rounded-md text-[9px]",children:v.length}),h==="users"&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#24548f]"})]}),u.jsxs("button",{onClick:()=>m("clients"),className:`flex-1 py-4 text-[10px] font-black uppercase tracking-widest transition-all relative ${h==="clients"?"text-emerald-600":"text-slate-400 hover:text-slate-600"}`,children:["Client Reviews",!c&&y.length>0&&u.jsx("span",{className:"ml-2 bg-emerald-50 text-emerald-600 px-1.5 py-0.5 rounded-md text-[9px]",children:y.length}),h==="clients"&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-emerald-600"})]})]}),u.jsx("div",{className:"p-6",children:c?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Xr,{className:"w-8 h-8 rounded-lg"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(Xr,{className:"h-3 w-24"}),u.jsx(Xr,{className:"h-2 w-16"})]})]}),u.jsx(Xr,{className:"w-4 h-4"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Xr,{className:"w-8 h-8 rounded-lg"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(Xr,{className:"h-3 w-20"}),u.jsx(Xr,{className:"h-2 w-12"})]})]}),u.jsx(Xr,{className:"w-4 h-4"})]})]}):h==="users"?u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[v.map(S=>u.jsxs("div",{className:"flex items-center justify-between group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-500",children:S.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold text-slate-800",children:S.name}),u.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(S.created_time).toLocaleDateString()})]})]}),u.jsx("button",{onClick:()=>e("/user-activation"),className:"p-1.5 hover:bg-blue-50 rounded-lg transition-colors text-[#24548f]",children:u.jsx(gr,{className:"w-4 h-4"})})]},S.user_id)),v.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-1.75 text-center",children:[u.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center mb-2",children:u.jsx(ax,{className:"w-5 h-5 text-slate-300"})}),u.jsx("p",{className:"text-[11px] text-slate-400 italic",children:"No pending user requests"})]})]}):u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.map(S=>u.jsxs("div",{className:"flex items-center justify-between group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center text-emerald-600",children:u.jsx(Ts,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold text-slate-800",children:S.company_name}),u.jsx("p",{className:"text-[10px] text-slate-400",children:"Review Required"})]})]}),u.jsx("button",{onClick:()=>e("/client-activation"),className:"p-1.5 hover:bg-emerald-50 rounded-lg transition-colors text-emerald-600",children:u.jsx(gr,{className:"w-4 h-4"})})]},S.client_id)),y.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-1.75 text-center",children:[u.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center mb-2",children:u.jsx(Ts,{className:"w-5 h-5 text-slate-300"})}),u.jsx("p",{className:"text-[11px] text-slate-400 italic",children:"No pending client reviews"})]})]})}),u.jsx("div",{className:"px-6 py-2.5 bg-slate-50/50 border-t border-slate-100",children:u.jsx("button",{onClick:()=>e(h==="users"?"/user-activation":"/client-activation"),className:"w-full text-center text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-[#24548f] transition-colors",children:"View All"})})]})]})]})]})}function Hge(){const{user:e}=Ka();if(!e)return null;if(!e||!e.is_active||e.is_deleted)return u.jsx("div",{className:"p-10 text-center text-red-600 font-bold",children:"Access denied"});switch(e.role){case"admin":return u.jsx(zge,{});case"user":default:return u.jsx(Uge,{})}}function qge(){const[e]=JO(),t=Lr(),r=e.get("id"),[n,s]=Y.useState(null),[a,i]=Y.useState(!0),[o,c]=Y.useState(!1),[f,h]=Y.useState("NEW_PRODUCT"),[m,x]=Y.useState(1),g=7;Y.useEffect(()=>{(async()=>{if(!r){i(!1);return}try{i(!0);const E=await Z8(Number(r),{page:m,page_size:g,action_type:f}),N={...E,summary:O_(E.action_summary)};s(N)}catch(E){console.error("Failed to fetch job:",E),gt.error("Failed to load analysis details")}finally{i(!1)}})()},[r,m,f]);const v=w=>{h(w),x(1)},y=w=>{x(w)};return a&&!n?u.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!a&&!n?u.jsx("div",{className:"py-20 text-center text-slate-500 font-bold",children:"Analysis not found"}):u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-6 lg:p-10 space-y-10",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-12 mx-auto",children:[u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center gap-3 mb-2",children:u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Analysis Details"})}),u.jsx("p",{className:"text-slate-500 font-medium",children:r?`Review the analysis results of ANAL-JOB-${r}`:"Please select an analysis from the History page"})]}),n&&u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-8 text-sm bg-white p-6 rounded-3xl border border-white shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center",children:u.jsx(oo,{className:"w-4 h-4 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Client"}),u.jsx("p",{className:"font-bold text-slate-700",children:n.client||"N/A"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center",children:u.jsx(On,{className:"w-4 h-4 text-emerald-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Contract"}),u.jsx("p",{className:"font-bold text-slate-700",children:n.contract_number||"N/A"})]})]})]})]}),u.jsx(rI,{actions:(n==null?void 0:n.modifications_actions)||[],actionSummary:(n==null?void 0:n.action_summary)||{},totalActions:(n==null?void 0:n.total_actions)||0,totalPages:(n==null?void 0:n.total_pages)||0,currentPage:m,activeTab:f,onTabChange:v,onPageChange:y,isLoading:a,isExporting:o,onExport:async()=>{var w;try{c(!0);const E=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-"),N=((w=n==null?void 0:n.client)==null?void 0:w.replace(/\s+/g,"-"))||"Client",_=(n==null?void 0:n.contract_number)||"NoContract",S=`${N}_${_}_modifications_${E}.xlsx`,k=await Q8({job_id:Number(r)});eI(k,S),gt.success("Analysis export complete")}catch(E){console.error("Export failed:",E),gt.error("Failed to export analysis")}finally{c(!1)}}}),u.jsxs("div",{className:"flex items-center justify-between ",children:[u.jsxs("button",{onClick:()=>t(-1),className:"btn-secondary",children:[u.jsx(Fn,{className:"w-4 h-4"}),"Back"]}),u.jsxs("button",{onClick:()=>t(`/documents?job_id=${r}`),className:"btn-primary",children:["Generate Documents ",u.jsx(Nh,{className:"w-5 h-5"})]})]})]})}const Vge=({onAddClick:e})=>u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-12 mx-auto",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-[#1E293B]",children:"Clients"}),u.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Manage your GSA contract clients and their information"})]}),u.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-[#38A1DB] hover:bg-[#2D8BBF] text-white px-7 py-3 rounded-xl shadow-lg shadow-blue-200 transition-all active:scale-95 font-bold",children:[u.jsx(Nd,{className:"w-5 h-5 stroke-[3px]"}),"Add Client"]})]}),LP=({searchQuery:e,onSearchChange:t,filterStatus:r,onFilterChange:n})=>{const s=["all","approved","pending","rejected"];return u.jsxs("div",{className:"mx-auto bg-white p-4 rounded-4xl shadow-sm border border-slate-200 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:[u.jsxs("div",{className:"relative flex-1 w-full",children:[u.jsx(Al,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Search by name, email, contact, or contract number...",className:"w-full pl-14 pr-6 py-3.5 rounded-2xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20  bg-slate-50/50 text-slate-700 placeholder:text-slate-400 transition-all font-medium",value:e,onChange:a=>t(a.target.value)})]}),u.jsx("div",{className:"flex p-1.5 bg-slate-100 rounded-2xl w-full lg:w-auto overflow-x-auto no-scrollbar",children:s.map(a=>{const i=r===a;return u.jsx("button",{onClick:()=>n(a),className:`
                flex-1 lg:flex-none px-6 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all duration-200 whitespace-nowrap
                ${i?"bg-white text-[#24548f] shadow-sm ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}
              `,children:a},a)})})]})},f6=({client:e,onView:t,onEdit:r,onClose:n,openUpwards:s=!1})=>{const a=Lr(),{setSelectedClientId:i}=e_();return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:o=>{o.stopPropagation(),n()}}),u.jsxs("div",{className:`absolute right-8 ${s?"bottom-12":"top-12"} z-50 w-52 bg-white border border-slate-100 rounded-2xl shadow-xl py-2`,onClick:o=>o.stopPropagation(),children:[u.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3",onClick:()=>{t(),n()},children:[u.jsx(gi,{className:"w-4 h-4"}),"View Details"]}),u.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3",onClick:()=>{r(),n()},children:[u.jsx(Td,{className:"w-4 h-4"}),"Edit Client"]}),u.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3",onClick:()=>{i(e.id),a("/clients/products"),n()},children:[u.jsx(Th,{className:"w-4 h-4"}),"View Products"]})]})]})},h6=e=>{if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},$ge=({clients:e,loading:t,openClientId:r,onClientClick:n,onMenuToggle:s,onView:a,onEdit:i,currentPage:o,totalClients:c,itemsPerPage:f,onPageChange:h})=>{const m=Math.ceil(c/f),x=(o-1)*f,g=()=>{const y=[];for(let E=1;E<=m;E++)E===1||E===m||E>=o-1&&E<=o+1?y.push(E):y[y.length-1]!=="..."&&y.push("...");return y},v=()=>u.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center px-4",children:[u.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center mb-4 border border-slate-100",children:u.jsx(d0,{className:"w-8 h-8 text-slate-300"})}),u.jsx("h3",{className:"text-base font-bold text-slate-500",children:"No clients found"})]});return u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 ",children:[u.jsx("div",{className:"hidden md:block",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[u.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Client"}),u.jsx("th",{className:"px-4 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contact"}),u.jsx("th",{className:"hidden lg:table-cell px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Company Email"}),u.jsx("th",{className:"hidden xl:table-cell px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Last Modified"}),u.jsx("th",{className:"w-16 p-5"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:t?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading clients..."})]})})}):e.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,children:u.jsx(v,{})})}):e.map(y=>u.jsxs("tr",{onClick:()=>n(y),className:"group hover:bg-blue-50/30 cursor-pointer transition-all duration-200",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"shrink-0 w-9 h-9 rounded-xl bg-linear-to-br from-[#3399cc] to-[#2980b9] flex items-center justify-center text-white font-bold text-xs shadow-sm overflow-hidden border border-slate-100",children:y.logoUrl?u.jsx("img",{src:y.logoUrl,alt:y.name,className:"w-full h-full object-contain bg-white"}):y.name.substring(0,2).toUpperCase()}),u.jsx("span",{className:"font-semibold text-slate-900 group-hover:text-[#38A1DB] transition-colors  max-w-50",children:y.name})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx(Ws,{status:y.status})}),u.jsx("td",{className:"px-6 py-4",children:y.contact?u.jsxs("div",{className:"flex flex-col max-w-37.5",children:[u.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate",children:y.contact.name}),u.jsx("span",{className:"hidden lg:block text-xs text-slate-500 truncate",children:y.contact.email})]}):u.jsx("span",{className:"text-[10px] italic font-medium text-gray-400 uppercase",children:"Not Assigned"})}),u.jsx("td",{className:"hidden lg:table-cell px-6 py-4 text-sm font-medium text-slate-600 truncate max-w-45",children:y.email}),u.jsx("td",{className:"hidden xl:table-cell px-6 py-4 text-sm text-slate-500",children:u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx(xi,{className:"w-3.5 h-3.5 text-slate-400"}),h6(y.lastModification)]})}),u.jsxs("td",{className:"p-5 relative text-right",children:[u.jsx("button",{onClick:w=>{w.stopPropagation(),s(y.id)},className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:u.jsx(vi,{className:"w-5 h-5 text-slate-500"})}),r===y.id&&u.jsx(f6,{client:y,onView:()=>a(y),onEdit:()=>i(y),onClose:()=>s(y.id),openUpwards:e.indexOf(y)>=e.length-2})]})]},y.id))})]})}),u.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:t?u.jsx("div",{className:"py-20 text-center",children:u.jsx(Lt,{className:"w-8 h-8 animate-spin mx-auto text-[#24578f]"})}):e.length===0?u.jsx(v,{}):e.map(y=>{var w;return u.jsxs("div",{onClick:()=>n(y),className:"p-5 hover:bg-blue-50/50 transition active:bg-blue-100",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-linear-to-br from-[#3399cc] to-[#2980b9] flex items-center justify-center text-white font-bold text-lg shadow-blue-100 shadow-lg overflow-hidden border border-slate-100",children:y.logoUrl?u.jsx("img",{src:y.logoUrl,alt:y.name,className:"w-full h-full object-contain bg-white"}):y.name.substring(0,2).toUpperCase()}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-slate-900 text-lg",children:y.name}),u.jsx("div",{className:"mt-1",children:u.jsx(Ws,{status:y.status})})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:E=>{E.stopPropagation(),s(y.id)},className:"p-2 border border-slate-200 rounded-xl bg-white shadow-sm",children:u.jsx(vi,{className:"w-5 h-5 text-slate-500"})}),r===y.id&&u.jsx(f6,{client:y,onView:()=>a(y),onEdit:()=>i(y),onClose:()=>s(y.id),openUpwards:e.indexOf(y)>=e.length-2})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-slate-50 rounded-xl p-4 border border-slate-100",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Contact"}),u.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:((w=y.contact)==null?void 0:w.name)||""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Modified"}),u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:h6(y.lastModification)})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Company Email"}),u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:y.email})]})]})]},y.id)})}),!t&&c>f&&u.jsxs("div",{className:"px-6 py-5 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:x+1})," ","to"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:Math.min(x+f,c)})," ","of"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:c})," ","clients"]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{disabled:o===1,onClick:()=>h(o-1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all mr-2",children:u.jsx(Fn,{size:18})}),u.jsx("div",{className:"flex items-center gap-1",children:g().map((y,w)=>u.jsx(qe.Fragment,{children:y==="..."?u.jsx("span",{className:"px-2 text-slate-400 font-medium",children:"..."}):u.jsx("button",{onClick:()=>h(Number(y)),className:`min-w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all
                        ${o===y?"bg-[#3399cc] text-white shadow-md shadow-[#3399cc]/30":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:y})},w))}),u.jsx("button",{disabled:o===m,onClick:()=>h(o+1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all ml-2",children:u.jsx(gr,{size:18})})]})]})]})};function Wge(){const[e,t]=Y.useState(""),[r,n]=Y.useState("all"),[s,a]=Y.useState(null),[i,o]=Y.useState([]),[c,f]=Y.useState(!0),[h,m]=Y.useState({}),[x,g]=Y.useState(""),[v,y]=Y.useState(!1),[w,E]=Y.useState(!1),[N,_]=Y.useState(1),[S,k]=Y.useState(1),[L,R]=Y.useState(null),[H,O]=Y.useState(!1),[Z,ae]=Y.useState(null),[P,X]=Y.useState(kh()),[M,ie]=Y.useState(1),J=10,ee=i.filter(Q=>{var B;const z=Q.name.toLowerCase().includes(e.toLowerCase())||(((B=Q.contact)==null?void 0:B.name)||"").toLowerCase().includes(e.toLowerCase()),be=r==="all"||Q.status===r;return z&&be}),xe=ee.length,oe=(M-1)*J,we=ee.slice(oe,oe+J);Y.useEffect(()=>{ie(1)},[e,r]);const G=Q=>{Q.preventDefault(),ol(P,m)&&_(2)},D=Q=>{Q.preventDefault(),Z&&ol(Z,m)&&k(2)},W=(Q,z="operation")=>{console.error(`Error during ${z}:`,Q);const be=Q.status,B=Q.message||`Failed to ${z}. Please try again.`;be===409&&(z==="create client"?_(1):z==="update client"&&k(1)),g(B)},K=async Q=>{if(Q.preventDefault(),!ol(P,m)){_(1);return}const be=Ah(P);if(!be.isValid){m(B=>({...B,...be.errors})),_(2);return}O(!0);try{const{logoFile:B,logoUrl:Ee,...q}=P,j=(await vt.post("/clients",q)).data.client_id;if(B){const U=new FormData;U.append("file",B),await vt.post(`/clients/${j}/logo`,U,{headers:{"Content-Type":"multipart/form-data"}})}await te(),y(!1),se(),gt.success("Client created successfully")}catch(B){W(B,"create client")}finally{O(!1)}},re=async Q=>{if(Q.preventDefault(),!Z)return;if(!ol(Z,m)){k(1);return}const be=Ah(Z);if(!be.isValid){m(B=>({...B,...be.errors})),k(2);return}O(!0);try{const{logoFile:B,logoUrl:Ee,...q}=Z,C=await vt.put(`/clients/${Z.id}`,q);if(B){const j=new FormData;j.append("file",B),await vt.post(`/clients/${Z.id}/logo`,j,{headers:{"Content-Type":"multipart/form-data"}})}await te(),E(!1),ae(null),k(1),m({}),gt.success("Client updated successfully")}catch(B){W(B,"update client")}finally{O(!1)}},se=()=>{X(kh()),_(1),m({}),g("")},I=Q=>{var z,be,B,Ee,q,C,j,U,ue,ye,he;ae({id:Q.id,company_name:Q.name,company_email:Q.email,company_phone_no:Q.phone,company_address:Q.address.split(", ")[0]||"",company_city:Q.address.split(", ")[1]||"",company_state:Q.address.split(", ")[2]||"",company_zip:Q.address.split(", ")[3]||"",contact_officer_name:((z=Q.contact)==null?void 0:z.name)||"",contact_officer_email:((be=Q.contact)==null?void 0:be.email)||"",contact_officer_phone_no:((B=Q.contact)==null?void 0:B.phone)||"",contact_officer_address:((q=(Ee=Q.contact)==null?void 0:Ee.address)==null?void 0:q.split(", ")[0])||"",contact_officer_city:((j=(C=Q.contact)==null?void 0:C.address)==null?void 0:j.split(", ")[1])||"",contact_officer_state:((ue=(U=Q.contact)==null?void 0:U.address)==null?void 0:ue.split(", ")[2])||"",contact_officer_zip:((he=(ye=Q.contact)==null?void 0:ye.address)==null?void 0:he.split(", ")[3])||"",status:Q.status,logoUrl:Q.logoUrl||"",logoFile:null}),k(1),m({}),g(""),E(!0)},F=(Q,z,be)=>{Q(B=>({...B,[z]:be}))},ne=Q=>{m(z=>({...z,[Q]:void 0}))},te=async()=>{try{f(!0);const z=(await vt.get("/clients")).data.map(eh);o(z)}catch{gt.error("Failed to load clients")}finally{f(!1)}};return Y.useEffect(()=>{te()},[]),u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-6 lg:p-10 space-y-10",children:[u.jsx(Vge,{onAddClick:()=>y(!0)}),u.jsx(LP,{searchQuery:e,onSearchChange:t,filterStatus:r,onFilterChange:n}),u.jsx($ge,{clients:we,loading:c,openClientId:L,onClientClick:a,onMenuToggle:Q=>R(L===Q?null:Q),onView:a,onEdit:I,currentPage:M,totalClients:xe,itemsPerPage:J,onPageChange:ie}),u.jsx(dD,{client:s,onClose:()=>a(null),onEdit:I}),u.jsx(R2,{isOpen:v,title:"Add Client",subtitle:"Set up a new Client Profile ",formData:P,errors:h,backendError:x,currentStep:N,isSubmitting:H,onClose:()=>{y(!1),se()},onSubmit:K,onNext:G,onBack:()=>_(1),onChange:(Q,z)=>F(X,Q,z),onClearError:ne,onClearBackendError:()=>g(""),submitButtonText:"Create Client Profile"}),Z&&u.jsx(R2,{isOpen:w,title:"Edit Client",subtitle:"Update client profile details",formData:Z,errors:h,backendError:x,currentStep:S,isSubmitting:H,onClose:()=>{E(!1),k(1),m({}),g("")},onSubmit:re,onNext:D,onBack:()=>k(1),onChange:(Q,z)=>F(ae,Q,z),onClearError:ne,onClearBackendError:()=>g(""),submitButtonText:"Update Client"})]})}const yo={async getAllContracts(){return(await vt.get("/contracts")).data},async getContractByClientId(e){return(await vt.get(`/contracts/${e}`)).data},async createContract(e,t){return(await vt.post(`/contracts/${e}`,t)).data},async updateContract(e,t){return(await vt.put(`/contracts/${e}`,t)).data},async deleteContract(e){await vt.delete(`/contracts/${e}`)}};function Gge({contracts:e,loading:t,onView:r,onEdit:n,onDelete:s,currentPage:a,totalContracts:i,itemsPerPage:o,onPageChange:c}){const[f,h]=Y.useState(null),m=Math.ceil(i/o),x=(a-1)*o,g=()=>{const y=[];for(let E=1;E<=m;E++)E===1||E===m||E>=a-1&&E<=a+1?y.push(E):y[y.length-1]!=="..."&&y.push("...");return y},v=()=>u.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center px-4",children:[u.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center mb-4 border border-slate-100",children:u.jsx(d0,{className:"w-8 h-8 text-slate-300"})}),u.jsx("h3",{className:"text-base font-bold text-slate-500",children:"No contracts found"})]});return u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 ",children:[u.jsx("div",{className:"hidden md:block",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contract"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Client"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contract Officer"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Location"}),u.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Last Modified"}),u.jsx("th",{className:"w-16 px-6 py-4"})]})}),u.jsx("tbody",{className:"divide-slate-100 divide-y",children:t?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading contracts..."})]})})}):e.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,children:u.jsx(v,{})})}):e.map(y=>u.jsxs("tr",{onClick:()=>r(y),className:"group hover:bg-blue-50/30 cursor-pointer transition-all duration-200",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"font-bold text-slate-800 text-sm group-hover:text-[#38A1DB] transition-colors",children:y.contract_number})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 shrink-0 rounded-xl bg-linear-to-br from-[#38A1DB] to-[#2D8BBF] flex items-center justify-center text-white text-xs font-bold shadow-sm",children:y.client.slice(0,2).toLocaleUpperCase()}),u.jsx("div",{className:"flex flex-col",children:u.jsx("span",{className:"font-bold text-slate-800 text-sm transition-colors",children:y.client})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-slate-600 font-medium",children:y.contract_officer_name||u.jsx("span",{className:"text-slate-300",children:""})})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx(io,{className:"w-3.5 h-3.5 text-slate-400"}),u.jsx("span",{className:"text-sm truncate max-w-37.5",children:y.contract_officer_city?`${y.contract_officer_city}, ${y.contract_officer_state}`:"Not set"})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx(xi,{className:"w-3.5 h-3.5 text-slate-400"}),u.jsx("span",{className:"text-sm",children:new Date(y.updated_time).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),u.jsxs("td",{className:"px-6 py-4 text-right relative",children:[u.jsx("button",{onClick:w=>{w.stopPropagation(),h(f===y.client_id?null:y.client_id)},className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:u.jsx(vi,{className:"w-5 h-5 text-slate-400"})}),f===y.client_id&&u.jsx(p6,{onView:()=>r(y),onEdit:()=>n(y),onDelete:()=>s(y.client_id),onClose:()=>h(null)})]})]},y.client_profile_id))})]})}),u.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:t?u.jsx("div",{className:"py-20 text-center",children:u.jsx(Lt,{className:"w-8 h-8 animate-spin mx-auto text-[#24578f]"})}):e.length===0?u.jsx(v,{}):e.map(y=>u.jsxs("div",{onClick:()=>r(y),className:"p-5 hover:bg-blue-50/50 transition active:bg-blue-100",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-linear-to-br from-[#38A1DB] to-[#2D8BBF] flex items-center justify-center text-white font-bold text-lg shadow-blue-100 shadow-lg",children:y.contract_number.slice(0,2)}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-slate-900 text-sm",children:y.contract_number}),u.jsx("p",{className:"text-xs text-slate-500 font-medium",children:y.client})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:w=>{w.stopPropagation(),h(f===y.client_id?null:y.client_id)},className:"p-2 border border-slate-200 rounded-xl bg-white shadow-sm",children:u.jsx(vi,{className:"w-5 h-5 text-slate-500"})}),f===y.client_id&&u.jsx(p6,{onView:()=>r(y),onEdit:()=>n(y),onDelete:()=>s(y.client_id),onClose:()=>h(null)})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-slate-50 rounded-xl p-4 border border-slate-100",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Officer"}),u.jsx("p",{className:"text-xs font-semibold text-slate-800 truncate",children:y.contract_officer_name||""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Modified"}),u.jsx("p",{className:"text-xs font-semibold text-slate-800",children:new Date(y.updated_time).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Location"}),u.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[u.jsx(io,{size:12,className:"text-slate-400"}),u.jsx("p",{className:"text-xs font-semibold text-slate-800",children:y.contract_officer_city?`${y.contract_officer_city}, ${y.contract_officer_state}`:"Not set"})]})]})]})]},y.client_profile_id))}),!t&&i>o&&u.jsxs("div",{className:"px-6 py-5 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:x+1})," ","to"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:Math.min(x+o,i)})," ","of"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:i})," ","contracts"]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{disabled:a===1,onClick:()=>c(a-1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all mr-2",children:u.jsx(Fn,{size:18})}),u.jsx("div",{className:"flex items-center gap-1",children:g().map((y,w)=>u.jsx(qe.Fragment,{children:y==="..."?u.jsx("span",{className:"px-2 text-slate-400 font-medium",children:"..."}):u.jsx("button",{onClick:()=>c(Number(y)),className:`min-w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all
                        ${a===y?"bg-[#3399cc] text-white shadow-md shadow-[#3399cc]/30":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:y})},w))}),u.jsx("button",{disabled:a===m,onClick:()=>c(a+1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all ml-2",children:u.jsx(gr,{size:18})})]})]})]})}const p6=({onView:e,onEdit:t,onDelete:r,onClose:n})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:s=>{s.stopPropagation(),n()}}),u.jsxs("div",{className:"absolute right-12 top-10 z-50 w-52 bg-white border border-slate-100 rounded-xl shadow-xl py-1.5 overflow-hidden animate-in fade-in zoom-in duration-100",onClick:s=>s.stopPropagation(),children:[u.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3",onClick:()=>{e(),n()},children:[u.jsx(gi,{className:"w-4 h-4 text-slate-400"})," View Details"]}),u.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3",onClick:()=>{t(),n()},children:[u.jsx(Td,{className:"w-4 h-4 text-slate-400"})," Edit Contract"]})]})]});function Kge({contract:e,onClose:t,onEdit:r}){if(!e)return null;const n=({icon:s,value:a})=>a?u.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[u.jsx(s,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"text-sm",children:a})]}):null;return u.jsxs("div",{className:"fixed inset-0 bg-slate-900/40  z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0",onClick:t}),u.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsx("div",{className:"sticky top-0 bg-linear-to-br px-8 py-6 rounded-t-3xl z-10",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"relative",children:u.jsx("div",{className:"w-18 h-18 rounded-2xl bg-[#38A1DB]/20 backdrop-blur flex items-center justify-center shadow-inner text-[#38A1DB]",children:u.jsx(On,{className:"w-7 h-7"})})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-blue-400 text-sm font-medium uppercase tracking-widest mb-1",children:"Contract Details"}),u.jsx("h2",{className:"text-2xl font-bold text-slate-700 tracking-tight",children:e.contract_number}),u.jsx("p",{className:"text-sm md:text-base text-blue-100 font-medium mt-1",children:u.jsx("span",{className:"font-semibold text-slate-500",children:e.client||""})})]})]}),u.jsx("button",{onClick:t,className:"p-3 rounded-full hover:bg-white/20 transition-colors text-slate-700",children:u.jsx(fr,{className:"w-6 h-6 text-slate-700"})})]})}),u.jsxs("div",{className:"p-8 grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-linear-to-br from-slate-50 to-white p-6 rounded-2xl border border-slate-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(oo,{className:"w-6 h-6 text-[#38A1DB]"}),u.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Contract Officer"})]}),(()=>{if(!(e.contract_officer_name||e.contract_officer_address||e.contract_officer_city||e.contract_officer_state||e.contract_officer_zip))return u.jsxs("div",{className:"flex flex-col items-center justify-center py-6 gap-2 text-center",children:[u.jsx(oo,{className:"w-8 h-8 text-slate-200"}),u.jsx("p",{className:"text-sm font-semibold text-slate-400",children:"No officer details on record"}),u.jsx("p",{className:"text-xs text-slate-300",children:"Contact information has not been added for this contract."})]});const a=[e.contract_officer_address,e.contract_officer_city,[e.contract_officer_state,e.contract_officer_zip].filter(Boolean).join(" ")].filter(Boolean).join(", ");return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Officer Name"}),u.jsx("p",{className:"text-slate-800 font-semibold mt-1",children:e.contract_officer_name||""})]}),a&&u.jsx(n,{icon:io,value:a})]})})()]}),u.jsxs("div",{className:"bg-linear-to-br from-blue-50 to-white p-6 rounded-2xl border border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(nD,{className:"w-6 h-6 text-[#38A1DB]"}),u.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Terms & Logistics"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-blue-100 pb-2",children:[u.jsx("span",{className:"text-sm text-slate-500 font-medium uppercase tracking-tight",children:"FOB Term"}),u.jsx("span",{className:"font-bold text-slate-800",children:e.fob_term})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Normal Deliv."}),u.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[e.normal_delivery_time," Days"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Expedited"}),u.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[e.expedited_delivery_time," Days"]})]})]}),u.jsxs("div",{className:"pt-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Energy Star Compliance"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(sD,{className:`w-4 h-4 ${e.energy_star_compliance==="Yes"?"text-emerald-500":"text-slate-300"}`}),u.jsx("span",{className:"text-sm font-bold text-slate-700",children:e.energy_star_compliance})]})]})]})]}),u.jsxs("div",{className:"md:col-span-2 bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(aG,{className:"w-6 h-6 text-slate-400"}),u.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Additional Terms"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Additional Concessions"}),u.jsx("p",{className:"text-slate-700 mt-2 text-sm leading-relaxed",children:e.additional_concessions||"None specified"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Q/V Discount Details"}),u.jsx("p",{className:"text-slate-700 mt-2 text-sm leading-relaxed",children:e.q_v_discount||"None specified"})]})]})]})]}),u.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 rounded-b-3xl flex justify-between border-t border-slate-100 z-10",children:[u.jsx("button",{onClick:t,className:"px-6 py-3 rounded-2xl font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-100 transition-all active:scale-95",children:"Close"}),u.jsxs("button",{onClick:()=>{r(e),t()},className:`flex items-center gap-2 px-6 py-3 rounded-2xl
             bg-linear-to-br from-[#38A1DB] to-[#2D8BBF]
             text-white font-bold shadow-lg hover:shadow-xl
             transition-all active:scale-95`,children:[u.jsx(Td,{className:"w-4 h-4 stroke-[2.5px]"}),"Edit Contract"]})]})]})]})}function Xge(e,t,r=!0){Y.useEffect(()=>{if(!r)return;const n=s=>{e.current&&!e.current.contains(s.target)&&t(s)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e,t,r])}function IS({contract:e,onChange:t,clients:r,clientSearch:n,setClientSearch:s,showClientDropdown:a,setShowClientDropdown:i,errors:o,hideClientField:c=!1}){const f=Y.useRef(null),h=!!e.client_id;Xge(f,()=>i(!1),a);const m=r.filter(x=>x.client_id.toString().includes(n)||x.company_name.toLowerCase().includes(n.toLowerCase()));return u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Contract Number ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",className:`w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200 "
          } outline-none`,value:e.contract_number,onChange:x=>t({...e,contract_number:x.target.value})}),o.contract_number&&u.jsx("div",{className:"mt-1 text-xs text-red-600",children:u.jsx("span",{children:o.contract_number})})]}),!c&&u.jsxs("div",{className:"md:col-span-2 relative",ref:f,children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Client ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search by Client ID or Company Name",className:`w-full mt-2 px-4 py-3 pr-10 rounded-xl border-2 border-slate-200  outline-none ${h?"bg-slate-50 cursor-not-allowed":""}`,value:n,readOnly:h,onFocus:()=>{h||i(!0)},onChange:x=>{h||(s(x.target.value),i(!0),t({...e,client_id:void 0}))}}),h&&u.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/3 text-slate-400 hover:text-red-500",onClick:()=>{t({...e,client_id:void 0}),s(""),i(!1)},children:u.jsx(fr,{className:"w-5 h-5"})})]}),o.client_id&&u.jsx("div",{className:"mt-1 text-xs text-red-600",children:u.jsx("span",{children:o.client_id})}),a&&!h&&u.jsx("div",{className:"absolute z-50 mt-2 w-full max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-xl shadow-lg",children:m.length===0?u.jsx("div",{className:"px-4 py-3 text-slate-500 text-sm",children:"No clients found"}):m.map(x=>u.jsx("button",{type:"button",className:"w-full px-4 py-3 text-left hover:bg-blue-50 flex justify-between items-center",onClick:()=>{t({...e,client_id:x.client_id}),s(`${x.company_name}`),i(!1)},children:u.jsx("span",{className:"font-semibold text-slate-700",children:x.company_name})},x.client_id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Contract Officer Name"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:e.contract_officer_name||"",onChange:x=>t({...e,contract_officer_name:x.target.value})}),o.contract_officer_name&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:o.contract_officer_name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"GSA Office Address"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:e.contract_officer_address||"",onChange:x=>t({...e,contract_officer_address:x.target.value})}),o.contract_officer_address&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:o.contract_officer_address})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"GSA Office City"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:e.contract_officer_city||"",onChange:x=>t({...e,contract_officer_city:x.target.value})}),o.contract_officer_city&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:o.contract_officer_city})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"State"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:e.contract_officer_state||"",onChange:x=>t({...e,contract_officer_state:x.target.value})}),o.contract_officer_state&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:o.contract_officer_state})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"ZIP"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:e.contract_officer_zip||"",onChange:x=>t({...e,contract_officer_zip:x.target.value})}),o.contract_officer_zip&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:o.contract_officer_zip})]})]})]})}function MS({contract:e,onChange:t,errors:r}){return u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"FOB Term"}),u.jsxs("select",{className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none bg-white",value:e.fob_term||"Origin",onChange:n=>t({...e,fob_term:n.target.value}),children:[u.jsx("option",{value:"Origin",children:"Origin"}),u.jsx("option",{value:"Destination",children:"Destination"}),u.jsx("option",{value:"No Delivery",children:"No Delivery"})]}),r.fob_term&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.fob_term})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Energy Star Compliance"}),u.jsxs("select",{className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none bg-white",value:e.energy_star_compliance||"Yes",onChange:n=>t({...e,energy_star_compliance:n.target.value}),children:[u.jsx("option",{value:"Yes",children:"Yes"}),u.jsx("option",{value:"No",children:"No"}),u.jsx("option",{value:"N/A",children:"N/A"})]}),r.energy_star_compliance&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.energy_star_compliance})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Normal Delivery (Days)"}),u.jsx("input",{type:"number",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:e.normal_delivery_time||30,onChange:n=>t({...e,normal_delivery_time:parseInt(n.target.value)||0})}),r.normal_delivery_time&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.normal_delivery_time})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Expedited Delivery (Days)"}),u.jsx("input",{type:"number",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:e.expedited_delivery_time||10,onChange:n=>t({...e,expedited_delivery_time:parseInt(n.target.value)||0})}),r.expedited_delivery_time&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.expedited_delivery_time})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Quantity/Volume Discounts"}),u.jsx("input",{className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none resize-none",value:e.q_v_discount||"",onChange:n=>t({...e,q_v_discount:n.target.value})}),r.q_v_discount&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.q_v_discount})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Additional Concessions"}),u.jsx("textarea",{rows:2,className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none resize-none",value:e.additional_concessions||"",onChange:n=>t({...e,additional_concessions:n.target.value})}),r.additional_concessions&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.additional_concessions})]})]})}const BP=e=>{const t={};il(e.client_id,"Client")&&(t.client_id="You must select a client");const n=il(e.contract_number,"Contract number")||vn(e.contract_number,50,"Contract Number");n&&(t.contract_number=n);const s=bK(e.contract_officer_name,"Name");s&&(t.contract_officer_name=s);const a=vn(e.contract_officer_address,50,"Address");a&&(t.contract_officer_address=a);const i=vn(e.contract_officer_city,50,"City");i&&(t.contract_officer_city=i);const o=vn(e.contract_officer_state,50,"State");o&&(t.contract_officer_state=o);const c=Rg(e.contract_officer_zip);return c&&(t.contract_officer_zip=c),{isValid:Object.keys(t).length===0,errors:t}},i1=e=>{const t={},r=vn(e.origin_country,50,"");r&&(t.origin_country=r);const n=wK(e.gsa_proposed_discount,0,100,"Discount");n&&(t.gsa_proposed_discount=n);const s=vn(e.q_v_discount,50,"Quantity/Volume Discount");s&&(t.q_v_discount=s);const a=vn(e.additional_concessions,50,"Additional Concessions");a&&(t.additional_concessions=a);const i=d4(e.normal_delivery_time,"Normal delivery time");i&&(t.normal_delivery_time=i);const o=d4(e.expedited_delivery_time,"Expedited delivery time");return o&&(t.expedited_delivery_time=o),e.fob_term||(t.fob_term="FOB term is required"),e.energy_star_compliance||(t.energy_star_compliance="Energy Star compliance is required"),{isValid:Object.keys(t).length===0,errors:t}},m6={client_id:void 0,contract_number:"",contract_officer_name:"",contract_officer_address:"",contract_officer_city:"",contract_officer_state:"",contract_officer_zip:"",origin_country:"USA",gsa_proposed_discount:0,q_v_discount:"",additional_concessions:"",normal_delivery_time:30,expedited_delivery_time:10,fob_term:"Origin",energy_star_compliance:"Yes",is_deleted:!1};function Yge({isOpen:e,onClose:t,onSuccess:r}){const[n,s]=Y.useState(1),[a,i]=Y.useState(m6),[o,c]=Y.useState([]),[f,h]=Y.useState(""),[m,x]=Y.useState(!1),[g,v]=Y.useState(!1),[y,w]=Y.useState({});Y.useEffect(()=>{e&&E()},[e]);const E=async()=>{try{const S=await Y8.getAllClients();c(S)}catch(S){console.error("Failed to load clients",S)}},N=async S=>{if(S.preventDefault(),n===1){const L=BP(a);w(L.errors),L.isValid&&s(2);return}const k=i1(a);if(w(k.errors),!!k.isValid){if(!a.client_id){w({client_id:"Client selection is missing"}),s(1);return}v(!0),w({}),x(!1);try{const{client_id:L,...R}=a,H={...R,contract_officer_name:R.contract_officer_name||"",contract_number:R.contract_number,origin_country:R.origin_country||"USA",gsa_proposed_discount:Number(R.gsa_proposed_discount)||0,normal_delivery_time:Number(R.normal_delivery_time)||0,expedited_delivery_time:Number(R.expedited_delivery_time)||0};await yo.createContract(L,H),gt.success("Contract created successfully"),r(),_()}catch(L){w({submit:(L==null?void 0:L.message)||"An error occurred while creating the contract."})}finally{v(!1)}}},_=()=>{s(1),i(m6),h(""),w({}),t()};return Y.useEffect(()=>{w({})},[n]),e?u.jsx("div",{className:"fixed inset-0 bg-slate-900/40 z-50 flex items-center justify-center p-4 ",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsx("div",{className:"bg-slate-50 py-5 px-8 shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:"Create Contract"}),u.jsx("p",{className:"text-slate-500 text-sm opacity-80",children:"Setup a new contract profile for your client"})]}),u.jsx("button",{type:"button",onClick:_,className:"p-2 hover:bg-white/20 rounded-full transition-colors",disabled:g,children:u.jsx(fr,{className:"w-6 h-6 text-slate-700"})})]})}),u.jsx("div",{className:"flex items-center justify-center gap-4 p-4 shrink-0",children:["Client & Officer","Terms & Delivery"].map((S,k)=>{const L=k+1,R=n>=L,H=n>L;return u.jsxs(qe.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ${R?"bg-[#38A1DB] text-white":"bg-slate-200 text-slate-400"}`,children:H?u.jsx(cs,{className:"w-6 h-6"}):L}),u.jsx("span",{className:`font-semibold ${R?"text-[#38A1DB]":"text-slate-400"}`,children:S})]}),k===0&&u.jsx("div",{className:`w-16 h-1 rounded-full transition-colors ${H?"bg-[#38A1DB]":"bg-slate-200"}`})]},L)})}),u.jsxs("form",{onSubmit:N,noValidate:!0,className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"py-6 px-8 space-y-6",children:[y.submit&&u.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-r-xl p-4 flex items-start gap-3",children:[u.jsx(Fc,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),u.jsx("div",{children:u.jsx("p",{className:"text-sm text-red-700",children:y.submit})})]}),n===1&&u.jsx(IS,{contract:a,onChange:i,clients:o,clientSearch:f,setClientSearch:h,showClientDropdown:m,setShowClientDropdown:x,errors:y}),n===2&&u.jsx(MS,{contract:a,onChange:i,errors:y})]}),u.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 flex justify-between border-t border-slate-100 shrink-0",children:[u.jsx("button",{type:"button",onClick:()=>{n===1?_():s(1)},className:"btn-secondary",disabled:g,children:n===1?"Cancel":"Back"}),u.jsx("button",{type:"submit",disabled:g,className:"btn-primary",children:g?u.jsxs(u.Fragment,{children:[u.jsx(Lt,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):n===1?"Next":"Create Contract Profile"})]})]})]})}):null}const Jge={contract_number:"",contract_officer_name:"",contract_officer_address:"",contract_officer_city:"",contract_officer_state:"",contract_officer_zip:"",origin_country:"USA",gsa_proposed_discount:0,q_v_discount:"",additional_concessions:"",normal_delivery_time:30,expedited_delivery_time:10,fob_term:"Origin",energy_star_compliance:"Yes"};function Zge({isOpen:e,contract:t,onClose:r,onSuccess:n}){const[s,a]=Y.useState(1),[i,o]=Y.useState(Jge),[c,f]=Y.useState(!1),[h,m]=Y.useState({});Y.useEffect(()=>{e&&t&&(o({contract_number:t.contract_number||"",contract_officer_name:t.contract_officer_name||"",contract_officer_address:t.contract_officer_address||"",contract_officer_city:t.contract_officer_city||"",contract_officer_state:t.contract_officer_state||"",contract_officer_zip:t.contract_officer_zip||"",origin_country:t.origin_country||"USA",gsa_proposed_discount:t.gsa_proposed_discount||0,q_v_discount:t.q_v_discount||"",additional_concessions:t.additional_concessions||"",normal_delivery_time:t.normal_delivery_time||30,expedited_delivery_time:t.expedited_delivery_time||10,fob_term:t.fob_term||"Origin",energy_star_compliance:t.energy_star_compliance||"Yes"}),a(1),m({}))},[e,t]);const x=async v=>{if(v.preventDefault(),s===1){const w=BP({...i,client_id:t.client_id});m(w.errors),w.isValid&&a(2);return}if(!(t!=null&&t.client_id)){m({submit:"Missing Client ID. Cannot update."});return}const y=i1({...i,client_id:t.client_id});if(!y.isValid){m(y.errors);return}f(!0),m({});try{const w={...i,contract_number:i.contract_number,origin_country:i.origin_country||"USA",gsa_proposed_discount:Number(i.gsa_proposed_discount)||0,normal_delivery_time:Number(i.normal_delivery_time)||0,expedited_delivery_time:Number(i.expedited_delivery_time)||0};await yo.updateContract(t.client_id,w),gt.success("Contract updated successfully"),n(),g()}catch(w){m({submit:(w==null?void 0:w.message)||"An unexpected error occurred"}),console.error("Update Error:",w)}finally{f(!1)}},g=()=>{a(1),m({}),r()};return!e||!t?null:u.jsx("div",{className:"fixed inset-0 bg-slate-900/40 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsx("div",{className:"bg-slate-50 py-4 px-8 shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold  text-slate-700",children:"Edit Contract"}),u.jsxs("p",{className:"text-slate-500 text-sm",children:["Update contract details for ",t.client]})]}),u.jsx("button",{type:"button",onClick:g,className:"p-2 hover:bg-white/20 rounded-full transition-colors",disabled:c,children:u.jsx(fr,{className:"w-6 h-6 text-slate-700"})})]})}),u.jsx("div",{className:"flex items-center justify-center gap-4 p-4 shrink-0",children:["Contract & Officer","Terms & Delivery"].map((v,y)=>{const w=y+1,E=s>=w,N=s>w;return u.jsxs(qe.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-colors ${E?"bg-[#38A1DB] text-white":"bg-slate-200 text-slate-400"}`,children:N?u.jsx(cs,{className:"w-6 h-6"}):w}),u.jsx("span",{className:`font-semibold ${E?"text-[#38A1DB]":"text-slate-400"}`,children:v})]}),y===0&&u.jsx("div",{className:`w-16 h-1 rounded-full ${s>1?"bg-[#38A1DB]":"bg-slate-200"}`})]},w)})}),u.jsxs("form",{onSubmit:x,noValidate:!0,className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"py-6 px-8 space-y-6",children:[h.submit&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-3 text-red-800",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),u.jsx("p",{className:"text-sm font-semibold",children:h.submit})]}),s===1?u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Contract Number ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 transition-all outline-none border-slate-200 ",value:i.contract_number,onChange:v=>o({...i,contract_number:v.target.value})}),h.contract_number&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.contract_number})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Officer Name"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:i.contract_officer_name,onChange:v=>o({...i,contract_officer_name:v.target.value})}),h.contract_officer_name&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.contract_officer_name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Officer Address"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:i.contract_officer_address,onChange:v=>o({...i,contract_officer_address:v.target.value})}),h.contract_officer_address&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.contract_officer_address})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"City"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:i.contract_officer_city,onChange:v=>o({...i,contract_officer_city:v.target.value})}),h.contract_officer_city&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.contract_officer_city})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"State"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:i.contract_officer_state,onChange:v=>o({...i,contract_officer_state:v.target.value})}),h.contract_officer_state&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.contract_officer_state})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"ZIP"}),u.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:i.contract_officer_zip,onChange:v=>o({...i,contract_officer_zip:v.target.value})}),h.contract_officer_zip&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.contract_officer_zip})]})]})]}):u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"FOB Term"}),u.jsxs("select",{className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none bg-white",value:i.fob_term,onChange:v=>o({...i,fob_term:v.target.value}),children:[u.jsx("option",{value:"Origin",children:"Origin"}),u.jsx("option",{value:"Destination",children:"Destination"}),u.jsx("option",{value:"No Delivery",children:"No Delivery"})]}),h.fob_term&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.fob_term})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Energy Star"}),u.jsxs("select",{className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none bg-white",value:i.energy_star_compliance,onChange:v=>o({...i,energy_star_compliance:v.target.value}),children:[u.jsx("option",{value:"Yes",children:"Yes"}),u.jsx("option",{value:"No",children:"No"}),u.jsx("option",{value:"N/A",children:"N/A"})]}),h.energy_star_compliance&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.energy_star_compliance})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Normal Delivery (Days)"}),u.jsx("input",{type:"number",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:i.normal_delivery_time,onChange:v=>o({...i,normal_delivery_time:parseInt(v.target.value)||0})}),h.normal_delivery_time&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.normal_delivery_time})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Expedited Delivery (Days)"}),u.jsx("input",{type:"number",className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none",value:i.expedited_delivery_time,onChange:v=>o({...i,expedited_delivery_time:parseInt(v.target.value)||0})}),h.expedited_delivery_time&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.expedited_delivery_time})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Quantity Discounts"}),u.jsx("textarea",{rows:2,className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none resize-none",value:i.q_v_discount,onChange:v=>o({...i,q_v_discount:v.target.value})}),h.q_v_discount&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.q_v_discount})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Additional Concessions"}),u.jsx("textarea",{rows:2,className:"w-full mt-2 px-4 py-3 rounded-xl border-2 border-slate-200  outline-none resize-none",value:i.additional_concessions,onChange:v=>o({...i,additional_concessions:v.target.value})}),h.additional_concessions&&u.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:h.additional_concessions})]})]})]}),u.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 flex justify-between border-t border-slate-100 shrink-0",children:[u.jsx("button",{type:"button",onClick:()=>s===1?g():a(1),className:"btn-secondary",disabled:c,children:s===1?"Cancel":"Back"}),u.jsx("button",{type:"submit",disabled:c,className:"btn-primary",children:c?u.jsx(u.Fragment,{children:"Saving..."}):s===1?"Next":"Update Contract"})]})]})]})})}function Qge(){var ie;const[e,t]=Y.useState(""),[r,n]=Y.useState(null),[s,a]=Y.useState([]),[i,o]=Y.useState(!0),[c,f]=Y.useState(!1),[h,m]=Y.useState(!1),[x,g]=Y.useState(null),[v,y]=Y.useState(!1),[w,E]=Y.useState(null),[N,_]=Y.useState(!1),[S,k]=Y.useState(1),L=10;Y.useEffect(()=>{R()},[]),Y.useEffect(()=>{k(1)},[e]);const R=async()=>{try{o(!0);const J=await yo.getAllContracts();a(J)}catch(J){console.error("Error fetching contracts:",J),gt.error("Failed to load contracts")}finally{o(!1)}},H=Y.useMemo(()=>s.filter(J=>{var xe;if(J.is_deleted)return!1;const ee=e.toLowerCase();return J.contract_number.toLowerCase().includes(ee)||((xe=J.contract_officer_name)==null?void 0:xe.toLowerCase().includes(ee))||J.client.toLowerCase().includes(ee)}),[s,e]),O=H.length,Z=(S-1)*L,ae=H.slice(Z,Z+L),P=J=>{E(J),y(!0)},X=async()=>{if(w)try{_(!0),await yo.deleteContract(w),a(J=>J.map(ee=>ee.client_id===w?{...ee,is_deleted:!0}:ee)),gt.success("Contract deleted successfully")}catch(J){gt.error(J.message||"Failed to delete contract")}finally{_(!1),y(!1),E(null)}},M=J=>{g(J),m(!0)};return u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-6 lg:p-10 space-y-10",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-12 mx-auto ",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Contracts"}),u.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Manage your GSA contract profiles and logistics information"})]}),u.jsxs("button",{onClick:()=>f(!0),className:"flex items-center justify-center gap-2 bg-[#38A1DB] hover:bg-[#2D8BBF] text-white px-7 py-3 rounded-xl shadow-lg shadow-blue-200 transition-all active:scale-95 font-bold",children:[u.jsx(Nd,{className:"w-5 h-5 stroke-[3px]"}),"Add Contract"]})]}),u.jsx("div",{className:"mx-auto bg-white p-4 rounded-4xl shadow-sm border border-slate-100 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:u.jsxs("div",{className:"relative flex-1 w-full",children:[u.jsx(Al,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Search contracts by number, officer name, or client...",className:"w-full pl-14 pr-6 py-3.5 rounded-2xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20  bg-slate-50/50 text-slate-700 placeholder:text-slate-400 transition-all font-medium",value:e,onChange:J=>t(J.target.value)})]})}),u.jsx("div",{className:"mx-auto ",children:u.jsx(Gge,{contracts:ae,loading:i,onView:n,onEdit:M,onDelete:P,currentPage:S,totalContracts:O,itemsPerPage:L,onPageChange:k})}),u.jsx(Kge,{contract:r,onClose:()=>n(null),onEdit:M}),u.jsx(Yge,{isOpen:c,onClose:()=>f(!1),onSuccess:R}),u.jsx(Zge,{isOpen:h,contract:x,onClose:()=>{m(!1),g(null)},onSuccess:R}),u.jsx(mo,{isOpen:v,onClose:()=>{y(!1),E(null)},onConfirm:X,title:"Delete Contract",message:u.jsxs(u.Fragment,{children:["Are you sure you want to delete contract"," ",u.jsx("span",{className:"font-bold text-slate-700",children:(ie=s.find(J=>J.client_id===w))==null?void 0:ie.contract_number}),"?"]}),variant:"rose",confirmText:"Delete",isSubmitting:N})]})}const ts=({icon:e,label:t,value:r,className:n=""})=>u.jsxs("div",{className:`flex flex-col gap-1 ${n}`,children:[u.jsx("span",{className:"text-[11px] font-medium text-slate-400 uppercase tracking-wider",children:t}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(e,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:r||""})]})]}),Om=({icon:e,title:t,children:r,badge:n})=>u.jsxs("div",{className:"bg-slate-50/50 border border-slate-100 rounded-2xl p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-5",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(e,{className:"w-4 h-4 text-[#38A1DB]"}),u.jsx("h3",{className:"text-sm font-bold text-slate-800 tracking-tight",children:t})]}),n&&u.jsx("span",{className:"text-[10px] font-bold bg-white px-2 py-0.5 rounded border border-slate-200 text-slate-500 uppercase",children:n})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:r})]}),e1e=({client:e,contract:t,onClose:r,onEdit:n,onSuccess:s})=>{var h,m,x,g;const[a,i]=qe.useState(!1),o=qe.useRef(null);if(!e)return null;const c=async v=>{var E,N,_;const y=(E=v.target.files)==null?void 0:E[0];if(!y)return;if(!y.type.startsWith("image/")){gt.error("Please upload an image file");return}const w=new FormData;w.append("file",y);try{i(!0),await vt.post(`/clients/${e.id}/logo`,w,{headers:{"Content-Type":"multipart/form-data"}}),gt.success("Logo uploaded successfully"),s==null||s()}catch(S){console.error("Logo upload failed:",S),gt.error(((_=(N=S.response)==null?void 0:N.data)==null?void 0:_.detail)||"Failed to upload logo")}finally{i(!1),o.current&&(o.current.value="")}},f=v=>[v.contract_officer_address,[v.contract_officer_city,v.contract_officer_state].filter(Boolean).join(", "),v.contract_officer_zip].filter(Boolean).join(", ");return u.jsx("div",{className:"fixed inset-0 bg-slate-900/40 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[92vh] overflow-hidden flex flex-col animate-in fade-in zoom-in duration-200",children:[u.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-100 flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:`w-16 h-16 rounded-2xl border border-slate-200 flex items-center justify-center text-white font-bold text-2xl shadow-lg shadow-blue-100 overflow-hidden ${e.logoUrl?"bg-slate-50/50":"bg-linear-to-br from-[#3399cc] to-[#2980b9]"}`,children:e.logoUrl?u.jsx("img",{src:e.logoUrl,alt:e.name,className:"w-full h-full object-contain"}):e.name.substring(0,2).toUpperCase()}),u.jsx("button",{onClick:()=>{var v;return(v=o.current)==null?void 0:v.click()},disabled:a,className:"absolute -bottom-1 -right-1 p-1.5 bg-white rounded-lg shadow-md border border-slate-100 text-slate-600 hover:text-[#38A1DB] transition-all active:scale-95 disabled:opacity-50",title:"Upload Logo",children:a?u.jsx(Lt,{className:"w-3 h-3 animate-spin"}):u.jsx(_l,{className:"w-3 h-3"})}),u.jsx("input",{type:"file",ref:o,onChange:c,accept:"image/*",className:"hidden"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:e.name}),u.jsx(Ws,{status:e.status})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[u.jsxs("div",{className:"flex items-center gap-1.5 font-medium",children:[u.jsx(pl,{className:"w-4 h-4"}),e.email]}),t&&u.jsx("div",{className:"h-4 w-px bg-slate-200 hidden md:block"}),t&&u.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 font-semibold uppercase text-xs tracking-wider",children:[u.jsx(On,{className:"w-4 h-4"}),t.contract_number]})]})]})]}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400",children:u.jsx(fr,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Om,{icon:Ts,title:"Company Details",children:[u.jsx(ts,{icon:Ch,label:"Phone",value:e.phone}),u.jsx(ts,{icon:pl,label:"Email",value:e.email||"N/A"}),u.jsx(ts,{icon:io,label:"Office Address",value:e.address,className:"sm:col-span-2"})]}),u.jsxs(Om,{icon:oo,title:"Primary Contact",badge:"Negotiator",children:[u.jsx(ts,{icon:oo,label:"Full Name",value:(h=e.contact)==null?void 0:h.name}),u.jsx(ts,{icon:Ch,label:"Direct Phone",value:(m=e.contact)==null?void 0:m.phone}),u.jsx(ts,{icon:pl,label:"Direct Email",value:(x=e.contact)==null?void 0:x.email,className:"sm:col-span-2"}),u.jsx(ts,{icon:io,label:"Direct Address",value:(g=e.contact)==null?void 0:g.address,className:"sm:col-span-2"})]})]}),u.jsx("div",{className:"space-y-6",children:t?u.jsxs(u.Fragment,{children:[u.jsxs(Om,{icon:On,title:"Contract Overview",children:[u.jsx(ts,{icon:oo,label:"Contract Officer",value:t.contract_officer_name}),u.jsx(ts,{icon:xi,label:"Contract Number",value:t.contract_number}),u.jsx(ts,{icon:io,label:"GSA Billing Address",value:f(t),className:"sm:col-span-2"})]}),u.jsxs(Om,{icon:u4,title:"Logistics & Terms",children:[u.jsx(ts,{icon:jG,label:"Q/V Discount",value:t.q_v_discount}),u.jsx(ts,{icon:nK,label:"FOB Term",value:t.fob_term}),u.jsx(ts,{icon:xi,label:"Normal Delivery",value:`${t.normal_delivery_time} Days`}),u.jsx(ts,{icon:u4,label:"Expedited",value:`${t.expedited_delivery_time} Days`}),u.jsx(ts,{icon:On,label:"Concessions",value:t.additional_concessions,className:"sm:col-span-2"})]})]}):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 border-2 border-dashed border-slate-100 rounded-4xl text-center bg-slate-50/30",children:[u.jsx("div",{className:"w-14 h-14 bg-white shadow-sm rounded-2xl flex items-center justify-center mb-4 border border-slate-100",children:u.jsx(On,{className:"w-6 h-6 text-slate-300"})}),u.jsx("h4",{className:"text-base font-bold text-slate-700",children:"No Contract Linked"}),u.jsx("p",{className:"text-sm text-slate-400 mt-1 max-w-60",children:"This client profile does not have an active GSA contract associated."})]})})]})}),u.jsxs("div",{className:"p-6 md:p-8 bg-slate-50 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:[u.jsx(xi,{className:"w-3.5 h-3.5"}),"Last modified: ",e.lastModification||"Never"]}),u.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[u.jsx("button",{onClick:r,className:"flex-1 sm:flex-none px-6 rounded-xl border border-slate-200 bg-white text-slate-600 font-bold text-sm hover:bg-slate-50 transition-all active:scale-95",children:"Close"}),u.jsxs("button",{onClick:()=>{n(e),r()},className:"btn-primary",children:[u.jsx(kG,{className:"w-4 h-4"}),"Edit details"]})]})]})]})})},x6=({client:e,onView:t,onEdit:r,onClose:n,openUpwards:s=!1})=>{const a=Lr(),{setSelectedClientId:i}=e_();return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:o=>{o.stopPropagation(),n()}}),u.jsxs("div",{className:`absolute right-8 ${s?"bottom-12":"top-12"} z-50 w-64 bg-white border border-slate-100 rounded-2xl shadow-xl py-2`,onClick:o=>o.stopPropagation(),children:[u.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3",onClick:()=>{t(),n()},children:[u.jsx(gi,{className:"w-4 h-4 text-[#38A1DB]"}),"View Details"]}),u.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3 transition-colors group",onClick:()=>{r(),n()},children:[u.jsx(Td,{className:"w-4 h-4 text-[#38A1DB] group-hover:text-[#2D8BBF]"}),"Edit details"]}),u.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3 transition-colors group",onClick:()=>{i(e.id),a("/clients/products"),n()},children:[u.jsx(Th,{className:"w-4 h-4 text-[#38A1DB] group-hover:text-[#2D8BBF]"}),"View Products"]})]})]})},t1e=e=>{if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},g6=()=>u.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center px-4",children:[u.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center mb-4 border border-slate-100",children:u.jsx(d0,{className:"w-8 h-8 text-slate-300"})}),u.jsx("h3",{className:"text-base font-bold text-slate-500",children:"No records found"})]}),r1e=({clients:e,contracts:t,loading:r,openClientId:n,onRowClick:s,onMenuToggle:a,onView:i,onEdit:o,currentPage:c,totalClients:f,itemsPerPage:h,onPageChange:m})=>{const x=Math.ceil(f/h),g=(c-1)*h,v=w=>t.find(E=>E.client_id===w)??null,y=()=>{const w=[];for(let N=1;N<=x;N++)N===1||N===x||N>=c-1&&N<=c+1?w.push(N):w[w.length-1]!=="..."&&w.push("...");return w};return u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse min-w-225",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[u.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Client"}),u.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contract #"}),u.jsx("th",{className:"px-4 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contact"}),u.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contracting Officer"}),u.jsx("th",{className:"hidden xl:table-cell px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Last Modified"}),u.jsx("th",{className:"w-16 p-5"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:r?u.jsx("tr",{children:u.jsx("td",{colSpan:8,className:"py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Lt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading..."})]})})}):e.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:u.jsx(g6,{})})}):e.map(w=>{const E=v(w.id);return u.jsxs("tr",{onClick:()=>s(w),className:"group hover:bg-blue-50/30 cursor-pointer transition-all duration-200",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`shrink-0 w-9 h-9 rounded-xl border border-slate-200 flex items-center justify-center text-white font-bold text-xs shadow-sm overflow-hidden ${w.logoUrl?"bg-white":"bg-linear-to-br from-[#3399cc] to-[#2980b9]"}`,children:w.logoUrl?u.jsx("img",{src:w.logoUrl,alt:w.name,className:"w-full h-full object-contain"}):w.name.substring(0,2).toUpperCase()}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"font-semibold text-slate-900 group-hover:text-[#38A1DB] transition-colors truncate max-w-40",children:w.name}),u.jsx("p",{className:"text-xs text-slate-400 truncate max-w-40",children:w.email})]})]})}),u.jsx("td",{className:"px-6 py-4",children:E?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(On,{className:"w-4 h-4 text-blue-400 shrink-0"}),u.jsx("span",{className:"text-sm font-semibold text-slate-800 truncate max-w-30",children:E.contract_number})]}):u.jsx("span",{className:"text-[10px] italic font-medium text-gray-400 uppercase",children:"No Contract"})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx(Ws,{status:w.status})}),u.jsx("td",{className:"px-6 py-4",children:w.contact?u.jsxs("div",{className:"flex flex-col max-w-37.5",children:[u.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate",children:w.contact.name}),u.jsx("span",{className:"text-xs text-slate-500 truncate",children:w.contact.email})]}):u.jsx("span",{className:"text-[10px] italic font-medium text-gray-400 uppercase",children:"Not Assigned"})}),u.jsx("td",{className:"px-6 py-4",children:E?u.jsx("span",{className:"text-sm font-medium text-slate-700",children:E.contract_officer_name||""}):u.jsx("span",{className:"text-slate-300",children:""})}),u.jsx("td",{className:"hidden xl:table-cell px-6 py-4 text-sm text-slate-500",children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(xi,{className:"w-3.5 h-3.5 text-slate-400"}),t1e(w.lastModification)]})}),u.jsxs("td",{className:"p-5 relative text-right",children:[u.jsx("button",{onClick:N=>{N.stopPropagation(),a(w.id)},className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:u.jsx(vi,{className:"w-5 h-5 text-slate-500"})}),n===w.id&&u.jsx(x6,{client:w,onView:()=>i(w),onEdit:()=>o(w),onClose:()=>a(w.id),openUpwards:e.indexOf(w)>=e.length-2})]})]},w.id)})})]})}),u.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:r?u.jsx("div",{className:"py-20 text-center",children:u.jsx(Lt,{className:"w-8 h-8 animate-spin mx-auto text-[#24578f]"})}):e.length===0?u.jsx(g6,{}):e.map(w=>{var N;const E=v(w.id);return u.jsxs("div",{onClick:()=>s(w),className:"p-5 hover:bg-blue-50/50 transition active:bg-blue-100 cursor-pointer",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-linear-to-br from-[#3399cc] to-[#2980b9] flex items-center justify-center text-white font-bold text-lg shadow-blue-100 shadow-lg overflow-hidden",children:w.logoUrl?u.jsx("img",{src:w.logoUrl,alt:w.name,className:"w-full h-full object-cover"}):w.name.substring(0,2).toUpperCase()}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-slate-900 text-base",children:w.name}),u.jsx("div",{className:"mt-1",children:u.jsx(Ws,{status:w.status})})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:_=>{_.stopPropagation(),a(w.id)},className:"p-2 border border-slate-200 rounded-xl bg-white shadow-sm",children:u.jsx(vi,{className:"w-5 h-5 text-slate-500"})}),n===w.id&&u.jsx(x6,{client:w,onView:()=>i(w),onEdit:()=>o(w),onClose:()=>a(w.id),openUpwards:e.indexOf(w)>=e.length-2})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 bg-slate-50 rounded-xl p-4 border border-slate-100",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Contact"}),u.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:((N=w.contact)==null?void 0:N.name)||""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Contract #"}),u.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:(E==null?void 0:E.contract_number)||""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"FOB Term"}),u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:(E==null?void 0:E.fob_term)||""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Contracting Officer"}),u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:(E==null?void 0:E.contract_officer_name)||""})]})]})]},w.id)})}),!r&&f>h&&u.jsxs("div",{className:"px-6 py-5 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:g+1})," ","to"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:Math.min(g+h,f)})," ","of"," ",u.jsx("span",{className:"text-slate-900 font-semibold",children:f})," ","records"]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{disabled:c===1,onClick:()=>m(c-1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all mr-2",children:u.jsx(Fn,{size:18})}),u.jsx("div",{className:"flex items-center gap-1",children:y().map((w,E)=>u.jsx(qe.Fragment,{children:w==="..."?u.jsx("span",{className:"px-2 text-slate-400 font-medium",children:"..."}):u.jsx("button",{onClick:()=>m(Number(w)),className:`min-w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all
                        ${c===w?"bg-[#3399cc] text-white shadow-md shadow-[#3399cc]/30":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:w})},E))}),u.jsx("button",{disabled:c===x,onClick:()=>m(c+1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all ml-2",children:u.jsx(gr,{size:18})})]})]})]})},y6=["Company Info","Negotiator Details","Contract Info","Terms & Delivery"],v6={contract_number:"",contract_officer_name:"",contract_officer_address:"",contract_officer_city:"",contract_officer_state:"",contract_officer_zip:"",origin_country:"USA",gsa_proposed_discount:0,q_v_discount:"",additional_concessions:"",normal_delivery_time:30,expedited_delivery_time:10,fob_term:"Origin",energy_star_compliance:"Yes",is_deleted:!1};function n1e({isOpen:e,onClose:t,onSuccess:r}){const[n,s]=Y.useState(1),[a,i]=Y.useState(kh()),[o,c]=Y.useState({...v6,client_id:void 0}),[f,h]=Y.useState({}),[m,x]=Y.useState({}),[g,v]=Y.useState(""),[y,w]=Y.useState(!1),[E,N]=Y.useState(""),[_,S]=Y.useState(!1),k=(P,X)=>{i(M=>({...M,[P]:X}))},L=P=>{h(X=>({...X,[P]:void 0}))},R=P=>{if(P.preventDefault(),n===1)ol(a,h)&&s(2);else if(n===2){const X=Ah(a);if(!X.isValid){h(M=>({...M,...X.errors}));return}s(3)}else if(n===3){const X={},M=o.contract_number?o.contract_number.length>50?"Contract Number must be at most 50 characters":"":"Contract number is required";if(M&&(X.contract_number=M),Object.keys(X).length>0){x(X);return}x({}),s(4)}},H=()=>s(P=>Math.max(1,P-1)),O=async P=>{if(P.preventDefault(),n!==4)return;const X={...o},M=i1(X);if(!M.isValid){x(M.errors);return}w(!0),v("");try{const{logoFile:ie,logoUrl:J,...ee}=a,oe=(await vt.post("/clients",ee)).data.client_id;if(ie){const D=new FormData;D.append("file",ie),await vt.post(`/clients/${oe}/logo`,D,{headers:{"Content-Type":"multipart/form-data"}})}const{client_id:we,...G}={...o,client_id:oe,gsa_proposed_discount:Number(o.gsa_proposed_discount)||0,normal_delivery_time:Number(o.normal_delivery_time)||0,expedited_delivery_time:Number(o.expedited_delivery_time)||0};await yo.createContract(oe,G),gt.success("Client & Contract created successfully"),r(),Z()}catch(ie){v((ie==null?void 0:ie.message)||"An error occurred. Please try again.")}finally{w(!1)}},Z=()=>{s(1),i(kh()),c({...v6,client_id:void 0}),h({}),x({}),v(""),N(""),t()};if(!e)return null;const ae=n===4;return u.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-none z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsx("div",{className:"bg-slate-50 py-5 px-8 shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:"Add Client & Contract"}),u.jsx("p",{className:"text-slate-500 text-sm opacity-80 mt-0.5",children:"Set up a new client profile and their GSA contract"})]}),u.jsx("button",{type:"button",onClick:Z,disabled:y,className:"p-2 hover:bg-slate-200/60 rounded-full transition-colors",children:u.jsx(fr,{className:"w-6 h-6 text-slate-500"})})]})}),u.jsx("div",{className:"flex items-center justify-between px-8 py-4 shrink-0 border-b border-slate-100 bg-white",children:y6.map((P,X)=>{const M=X+1,ie=n>=M,J=n>M;return u.jsxs(qe.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-center gap-1.5 min-w-0",children:[u.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center font-bold text-sm transition-all shrink-0 ${ie?"bg-[#38A1DB] text-white shadow-md shadow-blue-200":"bg-slate-100 text-slate-400"}`,children:J?u.jsx(cs,{className:"w-5 h-5"}):M}),u.jsx("span",{className:`text-[11px] font-semibold text-center leading-tight ${ie?"text-[#38A1DB]":"text-slate-400"}`,children:P})]}),X<y6.length-1&&u.jsx("div",{className:`flex-1 h-0.5 mx-2 rounded-full transition-colors ${n>M?"bg-[#38A1DB]":"bg-slate-200"}`})]},M)})}),u.jsxs("form",{onSubmit:ae?O:R,noValidate:!0,className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"py-6 px-8 space-y-6",children:[g&&u.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-r-xl p-4 flex items-start gap-3",children:[u.jsx(Fc,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-sm text-red-700",children:g})]}),n===1&&u.jsx(n_,{formData:a,errors:f,onChange:k,onClearError:L}),n===2&&u.jsx(s_,{formData:a,errors:f,onChange:k,onClearError:L}),n===3&&u.jsx(IS,{contract:o,onChange:c,clients:[],clientSearch:E,setClientSearch:N,showClientDropdown:!1,setShowClientDropdown:S,errors:m,hideClientField:!0}),n===4&&u.jsx(MS,{contract:o,onChange:c,errors:m})]}),u.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 flex justify-between border-t border-slate-100 shrink-0",children:[u.jsx("button",{type:"button",onClick:n===1?Z:H,disabled:y,className:"btn-secondary",children:n===1?"Cancel":"Back"}),u.jsx("button",{type:"submit",disabled:y,className:"btn-primary",children:y?u.jsxs(u.Fragment,{children:[u.jsx(Lt,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):ae?"Create Client & Contract":"Next"})]})]})]})})}const b6=["Company Info","Negotiator Details","Contract Info","Terms & Delivery"];function s1e({isOpen:e,onClose:t,onSuccess:r,client:n,contract:s}){const[a,i]=Y.useState(1),[o,c]=Y.useState(kh()),[f,h]=Y.useState({}),[m,x]=Y.useState({}),[g,v]=Y.useState({}),[y,w]=Y.useState(""),[E,N]=Y.useState(!1);Y.useEffect(()=>{var O,Z,ae,P;if(e&&n){const X=n.address.split(", "),M=(((O=n.contact)==null?void 0:O.address)||"").split(", ");c({company_name:n.name,company_email:n.email,company_phone_no:n.phone,company_address:X[0]||"",company_city:X[1]||"",company_state:X[2]||"",company_zip:X[3]||"",contact_officer_name:((Z=n.contact)==null?void 0:Z.name)||"",contact_officer_email:((ae=n.contact)==null?void 0:ae.email)||"",contact_officer_phone_no:((P=n.contact)==null?void 0:P.phone)||"",contact_officer_address:M[0]||"",contact_officer_city:M[1]||"",contact_officer_state:M[2]||"",contact_officer_zip:M[3]||"",status:n.status,logoUrl:n.logoUrl||"",logoFile:null}),h(s?{...s}:{contract_number:"",contract_officer_name:"",contract_officer_address:"",contract_officer_city:"",contract_officer_state:"",contract_officer_zip:"",origin_country:"USA",gsa_proposed_discount:0,q_v_discount:"",additional_concessions:"",normal_delivery_time:30,expedited_delivery_time:10,fob_term:"Origin",energy_star_compliance:"Yes",is_deleted:!1}),i(1),x({}),v({}),w("")}},[e,n,s]);const _=(O,Z)=>{c(ae=>({...ae,[O]:Z}))},S=O=>{x(Z=>({...Z,[O]:void 0}))},k=O=>{if(O.preventDefault(),a===1)ol(o,x)&&i(2);else if(a===2){const Z=Ah(o);if(!Z.isValid){x(ae=>({...ae,...Z.errors}));return}i(3)}else if(a===3){const Z={},ae=f.contract_number?f.contract_number.length>50?"Contract Number must be at most 50 characters":"":"Contract number is required";if(ae&&(Z.contract_number=ae),Object.keys(Z).length>0){v(Z);return}v({}),i(4)}},L=()=>i(O=>Math.max(1,O-1)),R=async O=>{if(O.preventDefault(),a!==4||!n)return;const Z=i1(f);if(!Z.isValid){v(Z.errors);return}N(!0),w("");try{const{logoFile:ae,logoUrl:P,...X}=o;if(await vt.put(`/clients/${n.id}`,X),ae){const ie=new FormData;ie.append("file",ae),await vt.post(`/clients/${n.id}/logo`,ie,{headers:{"Content-Type":"multipart/form-data"}})}const M={...f,gsa_proposed_discount:Number(f.gsa_proposed_discount)||0,normal_delivery_time:Number(f.normal_delivery_time)||0,expedited_delivery_time:Number(f.expedited_delivery_time)||0};s?await yo.updateContract(n.id,M):await yo.createContract(n.id,M),gt.success("Client & Contract updated successfully"),r(),t()}catch(ae){w((ae==null?void 0:ae.message)||"An error occurred. Please try again.")}finally{N(!1)}};if(!e)return null;const H=a===4;return u.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-none z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsx("div",{className:"bg-slate-50 py-5 px-8 shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:"Edit Client & Contract"}),u.jsx("p",{className:"text-slate-500 text-sm opacity-80 mt-0.5",children:"Update client profile and their GSA contract"})]}),u.jsx("button",{type:"button",onClick:t,disabled:E,className:"p-2 hover:bg-slate-200/60 rounded-full transition-colors",children:u.jsx(fr,{className:"w-6 h-6 text-slate-500"})})]})}),u.jsx("div",{className:"flex items-center justify-between px-8 py-4 shrink-0 border-b border-slate-100 bg-white",children:b6.map((O,Z)=>{const ae=Z+1,P=a>=ae,X=a>ae;return u.jsxs(qe.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-center gap-1.5 min-w-0",children:[u.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center font-bold text-sm transition-all shrink-0 ${P?"bg-[#38A1DB] text-white shadow-md shadow-blue-200":"bg-slate-100 text-slate-400"}`,children:X?u.jsx(cs,{className:"w-5 h-5"}):ae}),u.jsx("span",{className:`text-[11px] font-semibold text-center leading-tight ${P?"text-[#38A1DB]":"text-slate-400"}`,children:O})]}),Z<b6.length-1&&u.jsx("div",{className:`flex-1 h-0.5 mx-2 rounded-full transition-colors ${a>ae?"bg-[#38A1DB]":"bg-slate-200"}`})]},ae)})}),u.jsxs("form",{onSubmit:H?R:k,noValidate:!0,className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"py-6 px-8 space-y-6",children:[y&&u.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-r-xl p-4 flex items-start gap-3",children:[u.jsx(Fc,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-sm text-red-700",children:y})]}),a===1&&u.jsx(n_,{formData:o,errors:m,onChange:_,onClearError:S}),a===2&&u.jsx(s_,{formData:o,errors:m,onChange:_,onClearError:S}),a===3&&u.jsx(IS,{contract:f,onChange:h,clients:[],clientSearch:"",setClientSearch:()=>{},showClientDropdown:!1,setShowClientDropdown:()=>{},errors:g,hideClientField:!0}),a===4&&u.jsx(MS,{contract:f,onChange:h,errors:g})]}),u.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 flex justify-between border-t border-slate-100 shrink-0",children:[u.jsx("button",{type:"button",onClick:a===1?t:L,disabled:E,className:"btn-secondary",children:a===1?"Cancel":"Back"}),u.jsx("button",{type:"submit",disabled:E,className:"btn-primary",children:E?u.jsxs(u.Fragment,{children:[u.jsx(Lt,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):H?"Update Client & Contract":"Next"})]})]})]})})}function a1e(){var D;const[e,t]=Y.useState([]),[r,n]=Y.useState(!0),[s,a]=Y.useState(""),[i,o]=Y.useState("all"),[c,f]=Y.useState(null),[h,m]=Y.useState([]),[x,g]=Y.useState(null),[v,y]=Y.useState(!1),[w,E]=Y.useState(!1),[N,_]=Y.useState(null),[S,k]=Y.useState(!1),[L,R]=Y.useState(null),[H,O]=Y.useState(!1),[Z,ae]=Y.useState(1),P=10,X=async()=>{try{n(!0);const W=await vt.get("/clients");t(W.data.map(eh))}catch{gt.error("Failed to load clients")}finally{n(!1)}},M=async()=>{try{const W=await yo.getAllContracts();m(W.filter(K=>!K.is_deleted))}catch{gt.error("Failed to load contracts")}},ie=()=>{X(),M()};Y.useEffect(()=>{ie()},[]),Y.useEffect(()=>{ae(1)},[s,i]),Y.useEffect(()=>{if(x){const W=e.find(K=>K.id===x.id);W&&g(W)}},[e]);const J=W=>h.find(K=>K.client_id===W)??null,ee=Y.useMemo(()=>{const W=s.toLowerCase();return e.filter(K=>{var F;const re=J(K.id),se=K.name.toLowerCase().includes(W)||(((F=K.contact)==null?void 0:F.name)||"").toLowerCase().includes(W)||K.email.toLowerCase().includes(W)||((re==null?void 0:re.contract_number)||"").toLowerCase().includes(W)||((re==null?void 0:re.fob_term)||"").toLowerCase().includes(W),I=i==="all"||K.status===i;return se&&I})},[e,h,s,i]),xe=ee.length,oe=ee.slice((Z-1)*P,Z*P),we=W=>{_(W),E(!0)},G=async()=>{if(L){O(!0);try{await yo.deleteContract(L),m(W=>W.filter(K=>K.client_id!==L)),gt.success("Contract deleted")}catch(W){gt.error(W.message||"Failed to delete contract")}finally{O(!1),k(!1),R(null)}}};return u.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-6 lg:p-10 space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Client Contracts"}),u.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Manage client profiles and their GSA contract details"})]}),u.jsxs("button",{onClick:()=>y(!0),className:"flex items-center justify-center gap-2 bg-[#38A1DB] hover:bg-[#2D8BBF] text-white px-7 py-3 rounded-xl shadow-lg shadow-blue-200 transition-all active:scale-95 font-bold",children:[u.jsx(Nd,{className:"w-5 h-5 stroke-[3px]"}),"Add Client Contract"]})]}),u.jsx(LP,{searchQuery:s,onSearchChange:a,filterStatus:i,onFilterChange:o}),u.jsx(r1e,{clients:oe,contracts:h,loading:r,openClientId:c,onRowClick:g,onMenuToggle:W=>f(c===W?null:W),onView:g,onEdit:we,currentPage:Z,totalClients:xe,itemsPerPage:P,onPageChange:ae}),u.jsx(e1e,{client:x,contract:x?J(x.id):null,onClose:()=>g(null),onEdit:W=>{g(null),we(W)},onSuccess:ie}),u.jsx(n1e,{isOpen:v,onClose:()=>y(!1),onSuccess:ie}),u.jsx(s1e,{isOpen:w,client:N,contract:N?J(N.id):null,onClose:()=>{E(!1),_(null)},onSuccess:ie}),u.jsx(mo,{isOpen:S,onClose:()=>{k(!1),R(null)},onConfirm:G,title:"Delete Contract",message:u.jsxs(u.Fragment,{children:["Are you sure you want to delete contract"," ",u.jsx("span",{className:"font-bold text-slate-700",children:(D=h.find(W=>W.client_id===L))==null?void 0:D.contract_number}),"?"]}),variant:"rose",confirmText:"Delete",isSubmitting:H})]})}try{oW.configure(lW)}catch(e){console.warn("Amplify configuration failed.",e)}const i1e=()=>{const{status:e,isActive:t}=Ka();if(e==="loading")return u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#f5f7f9]",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#24578f]"})});const r=e==="authenticated";return u.jsx(Y$,{children:u.jsxs(N$,{children:[u.jsx(nr,{path:"/login",element:r?t?u.jsx(tl,{to:"/dashboard",replace:!0}):u.jsx(tl,{to:"/pending-approval",replace:!0}):u.jsx(EK,{})}),u.jsx(nr,{path:"/signup",element:u.jsx(NK,{})}),u.jsx(nr,{path:"/verify-email",element:u.jsx(TK,{})}),u.jsx(nr,{path:"/forgot-password",element:u.jsx(CK,{})}),u.jsx(nr,{path:"/pending-approval",element:r?t?u.jsx(tl,{to:"/dashboard",replace:!0}):u.jsx(oX,{}):u.jsx(tl,{to:"/login",replace:!0})}),u.jsx(nr,{element:u.jsx(jv,{isAuthenticated:r}),children:u.jsx(nr,{element:u.jsx(cX,{}),children:u.jsxs(nr,{element:u.jsx(uX,{}),children:[u.jsxs(nr,{element:u.jsx(Ose,{}),children:[u.jsx(nr,{path:"/dashboard",element:u.jsx(Hge,{})}),u.jsx(nr,{path:"/settings",element:u.jsx(aX,{})}),u.jsxs(nr,{element:u.jsx(jv,{isAuthenticated:r,allowedRoles:[xn.USER,xn.ADMIN]}),children:[u.jsx(nr,{path:"/clients",element:u.jsx(Wge,{})}),u.jsx(nr,{path:"/contracts",element:u.jsx(Qge,{})}),u.jsx(nr,{path:"/client-contracts",element:u.jsx(a1e,{})}),u.jsx(nr,{path:"/clients/products",element:u.jsx(dX,{})}),u.jsx(nr,{path:"/gsa-products",element:u.jsx(kse,{})}),u.jsx(nr,{path:"/gsa-products/upload",element:u.jsx(Ese,{})}),u.jsx(nr,{path:"/pricelist-analysis",element:u.jsx(Use,{})}),u.jsx(nr,{path:"/documents",element:u.jsx(Vse,{children:u.jsx(Mge,{})})}),u.jsx(nr,{path:"/analyses",element:u.jsx(Bge,{})}),u.jsx(nr,{path:"/analyses/details",element:u.jsx(qge,{})})]})]}),u.jsxs(nr,{element:u.jsx(jv,{isAuthenticated:r,allowedRoles:[xn.ADMIN]}),children:[u.jsx(nr,{path:"/client-activation",element:u.jsx(xX,{})}),u.jsx(nr,{path:"/user-activation",element:u.jsx(yX,{})})]})]})})}),u.jsx(nr,{path:"/",element:u.jsx(tl,{to:r?t?"/dashboard":"/pending-approval":"/login",replace:!0})}),u.jsx(nr,{path:"*",element:u.jsx(iX,{})})]})})},o1e=()=>u.jsxs(TV,{children:[u.jsx(eX,{position:"top-right",richColors:!0}),u.jsx(i1e,{})]}),UP=document.getElementById("root");if(!UP)throw new Error("Could not find root element to mount to");const l1e=n9.createRoot(UP);l1e.render(u.jsx(qe.StrictMode,{children:u.jsx(o1e,{})}));
