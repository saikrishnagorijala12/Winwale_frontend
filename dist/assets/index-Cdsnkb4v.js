(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dv={exports:{}},vd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function HB(){if(bC)return vd;bC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,a){var i=null;if(a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),"key"in s){a={};for(var o in s)o!=="key"&&(a[o]=s[o])}else a=s;return s=a.ref,{$$typeof:e,type:n,key:i,ref:s!==void 0?s:null,props:a}}return vd.Fragment=t,vd.jsx=r,vd.jsxs=r,vd}var wC;function qB(){return wC||(wC=1,dv.exports=HB()),dv.exports}var d=qB(),hv={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function VB(){if(EC)return yt;EC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=x&&G[x]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function E(G,O,W){this.props=G,this.context=O,this.refs=w,this.updater=W||y}E.prototype.isReactComponent={},E.prototype.setState=function(G,O){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,O,"setState")},E.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function T(){}T.prototype=E.prototype;function _(G,O,W){this.props=G,this.context=O,this.refs=w,this.updater=W||y}var S=_.prototype=new T;S.constructor=_,b(S,E.prototype),S.isPureReactComponent=!0;var C=Array.isArray;function I(){}var j={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function D(G,O,W){var K=W.ref;return{$$typeof:e,type:G,key:O,ref:K!==void 0?K:null,props:W}}function Q(G,O){return D(G.type,O,G.props)}function ae(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function F(G){var O={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(W){return O[W]})}var X=/\/+/g;function M(G,O){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):O.toString(36)}function se(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(I,I):(G.status="pending",G.then(function(O){G.status==="pending"&&(G.status="fulfilled",G.value=O)},function(O){G.status==="pending"&&(G.status="rejected",G.reason=O)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function J(G,O,W,K,re){var Y=typeof G;(Y==="undefined"||Y==="boolean")&&(G=null);var P=!1;if(G===null)P=!0;else switch(Y){case"bigint":case"string":case"number":P=!0;break;case"object":switch(G.$$typeof){case e:case t:P=!0;break;case h:return P=G._init,J(P(G._payload),O,W,K,re)}}if(P)return re=re(G),P=K===""?"."+M(G,0):K,C(re)?(W="",P!=null&&(W=P.replace(X,"$&/")+"/"),J(re,O,W,"",function(ee){return ee})):re!=null&&(ae(re)&&(re=Q(re,W+(re.key==null||G&&G.key===re.key?"":(""+re.key).replace(X,"$&/")+"/")+P)),O.push(re)),1;P=0;var L=K===""?".":K+":";if(C(G))for(var oe=0;oe<G.length;oe++)K=G[oe],Y=L+M(K,oe),P+=J(K,O,W,Y,re);else if(oe=g(G),typeof oe=="function")for(G=oe.call(G),oe=0;!(K=G.next()).done;)K=K.value,Y=L+M(K,oe++),P+=J(K,O,W,Y,re);else if(Y==="object"){if(typeof G.then=="function")return J(se(G),O,W,K,re);throw O=String(G),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return P}function Z(G,O,W){if(G==null)return G;var K=[],re=0;return J(G,K,"","",function(Y){return O.call(W,Y,re++)}),K}function ge(G){if(G._status===-1){var O=G._result;O=O(),O.then(function(W){(G._status===0||G._status===-1)&&(G._status=1,G._result=W)},function(W){(G._status===0||G._status===-1)&&(G._status=2,G._result=W)}),G._status===-1&&(G._status=0,G._result=O)}if(G._status===1)return G._result.default;throw G._result}var ie=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Ee={map:Z,forEach:function(G,O,W){Z(G,function(){O.apply(this,arguments)},W)},count:function(G){var O=0;return Z(G,function(){O++}),O},toArray:function(G){return Z(G,function(O){return O})||[]},only:function(G){if(!ae(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return yt.Activity=m,yt.Children=Ee,yt.Component=E,yt.Fragment=r,yt.Profiler=s,yt.PureComponent=_,yt.StrictMode=n,yt.Suspense=c,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,yt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return j.H.useMemoCache(G)}},yt.cache=function(G){return function(){return G.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(G,O,W){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var K=b({},G.props),re=G.key;if(O!=null)for(Y in O.key!==void 0&&(re=""+O.key),O)!q.call(O,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&O.ref===void 0||(K[Y]=O[Y]);var Y=arguments.length-2;if(Y===1)K.children=W;else if(1<Y){for(var P=Array(Y),L=0;L<Y;L++)P[L]=arguments[L+2];K.children=P}return D(G.type,re,K)},yt.createContext=function(G){return G={$$typeof:i,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},yt.createElement=function(G,O,W){var K,re={},Y=null;if(O!=null)for(K in O.key!==void 0&&(Y=""+O.key),O)q.call(O,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(re[K]=O[K]);var P=arguments.length-2;if(P===1)re.children=W;else if(1<P){for(var L=Array(P),oe=0;oe<P;oe++)L[oe]=arguments[oe+2];re.children=L}if(G&&G.defaultProps)for(K in P=G.defaultProps,P)re[K]===void 0&&(re[K]=P[K]);return D(G,Y,re)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(G){return{$$typeof:o,render:G}},yt.isValidElement=ae,yt.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:ge}},yt.memo=function(G,O){return{$$typeof:f,type:G,compare:O===void 0?null:O}},yt.startTransition=function(G){var O=j.T,W={};j.T=W;try{var K=G(),re=j.S;re!==null&&re(W,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(I,ie)}catch(Y){ie(Y)}finally{O!==null&&W.types!==null&&(O.types=W.types),j.T=O}},yt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},yt.use=function(G){return j.H.use(G)},yt.useActionState=function(G,O,W){return j.H.useActionState(G,O,W)},yt.useCallback=function(G,O){return j.H.useCallback(G,O)},yt.useContext=function(G){return j.H.useContext(G)},yt.useDebugValue=function(){},yt.useDeferredValue=function(G,O){return j.H.useDeferredValue(G,O)},yt.useEffect=function(G,O){return j.H.useEffect(G,O)},yt.useEffectEvent=function(G){return j.H.useEffectEvent(G)},yt.useId=function(){return j.H.useId()},yt.useImperativeHandle=function(G,O,W){return j.H.useImperativeHandle(G,O,W)},yt.useInsertionEffect=function(G,O){return j.H.useInsertionEffect(G,O)},yt.useLayoutEffect=function(G,O){return j.H.useLayoutEffect(G,O)},yt.useMemo=function(G,O){return j.H.useMemo(G,O)},yt.useOptimistic=function(G,O){return j.H.useOptimistic(G,O)},yt.useReducer=function(G,O,W){return j.H.useReducer(G,O,W)},yt.useRef=function(G){return j.H.useRef(G)},yt.useState=function(G){return j.H.useState(G)},yt.useSyncExternalStore=function(G,O,W){return j.H.useSyncExternalStore(G,O,W)},yt.useTransition=function(){return j.H.useTransition()},yt.version="19.2.4",yt}var _C;function Gh(){return _C||(_C=1,hv.exports=VB()),hv.exports}var te=Gh();const Ve=EE(te);var pv={exports:{}},bd={},mv={exports:{}},gv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function $B(){return SC||(SC=1,(function(e){function t(J,Z){var ge=J.length;J.push(Z);e:for(;0<ge;){var ie=ge-1>>>1,Ee=J[ie];if(0<s(Ee,Z))J[ie]=Z,J[ge]=Ee,ge=ie;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var Z=J[0],ge=J.pop();if(ge!==Z){J[0]=ge;e:for(var ie=0,Ee=J.length,G=Ee>>>1;ie<G;){var O=2*(ie+1)-1,W=J[O],K=O+1,re=J[K];if(0>s(W,ge))K<Ee&&0>s(re,W)?(J[ie]=re,J[K]=ge,ie=K):(J[ie]=W,J[O]=ge,ie=O);else if(K<Ee&&0>s(re,ge))J[ie]=re,J[K]=ge,ie=K;else break e}}return Z}function s(J,Z){var ge=J.sortIndex-Z.sortIndex;return ge!==0?ge:J.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],f=[],h=1,m=null,x=3,g=!1,y=!1,b=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function S(J){for(var Z=r(f);Z!==null;){if(Z.callback===null)n(f);else if(Z.startTime<=J)n(f),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=r(f)}}function C(J){if(b=!1,S(J),!y)if(r(c)!==null)y=!0,I||(I=!0,F());else{var Z=r(f);Z!==null&&se(C,Z.startTime-J)}}var I=!1,j=-1,q=5,D=-1;function Q(){return w?!0:!(e.unstable_now()-D<q)}function ae(){if(w=!1,I){var J=e.unstable_now();D=J;var Z=!0;try{e:{y=!1,b&&(b=!1,T(j),j=-1),g=!0;var ge=x;try{t:{for(S(J),m=r(c);m!==null&&!(m.expirationTime>J&&Q());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,x=m.priorityLevel;var Ee=ie(m.expirationTime<=J);if(J=e.unstable_now(),typeof Ee=="function"){m.callback=Ee,S(J),Z=!0;break t}m===r(c)&&n(c),S(J)}else n(c);m=r(c)}if(m!==null)Z=!0;else{var G=r(f);G!==null&&se(C,G.startTime-J),Z=!1}}break e}finally{m=null,x=ge,g=!1}Z=void 0}}finally{Z?F():I=!1}}}var F;if(typeof _=="function")F=function(){_(ae)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,M=X.port2;X.port1.onmessage=ae,F=function(){M.postMessage(null)}}else F=function(){E(ae,0)};function se(J,Z){j=E(function(){J(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(J){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var ge=x;x=Z;try{return J()}finally{x=ge}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(J,Z){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ge=x;x=J;try{return Z()}finally{x=ge}},e.unstable_scheduleCallback=function(J,Z,ge){var ie=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ie+ge:ie):ge=ie,J){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ge+Ee,J={id:h++,callback:Z,priorityLevel:J,startTime:ge,expirationTime:Ee,sortIndex:-1},ge>ie?(J.sortIndex=ge,t(f,J),r(c)===null&&J===r(f)&&(b?(T(j),j=-1):b=!0,se(C,ge-ie))):(J.sortIndex=Ee,t(c,J),y||g||(y=!0,I||(I=!0,F()))),J},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(J){var Z=x;return function(){var ge=x;x=Z;try{return J.apply(this,arguments)}finally{x=ge}}}})(gv)),gv}var TC;function WB(){return TC||(TC=1,mv.exports=$B()),mv.exports}var xv={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function GB(){if(NC)return Pn;NC=1;var e=Gh();function t(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(c,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:c,containerInfo:f,implementation:h}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Pn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(c,f,null,h)},Pn.flushSync=function(c){var f=i.T,h=n.p;try{if(i.T=null,n.p=2,c)return c()}finally{i.T=f,n.p=h,n.d.f()}},Pn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(c,f))},Pn.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Pn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:g}):h==="script"&&n.d.X(c,{crossOrigin:m,integrity:x,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Pn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(c)},Pn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin);n.d.L(c,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Pn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=o(f.as,f.crossOrigin);n.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(c)},Pn.requestFormReset=function(c){n.d.r(c)},Pn.unstable_batchedUpdates=function(c,f){return c(f)},Pn.useFormState=function(c,f,h){return i.H.useFormState(c,f,h)},Pn.useFormStatus=function(){return i.H.useHostTransitionStatus()},Pn.version="19.2.4",Pn}var AC;function mO(){if(AC)return xv.exports;AC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xv.exports=GB(),xv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function KB(){if(CC)return bd;CC=1;var e=WB(),t=Gh(),r=mO();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function i(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(n(188))}function f(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,v=u;;){var N=p.return;if(N===null)break;var k=N.alternate;if(k===null){if(v=N.return,v!==null){p=v;continue}break}if(N.child===k.child){for(k=N.child;k;){if(k===p)return c(N),l;if(k===v)return c(N),u;k=k.sibling}throw Error(n(188))}if(p.return!==v.return)p=N,v=k;else{for(var V=!1,ce=N.child;ce;){if(ce===p){V=!0,p=N,v=k;break}if(ce===v){V=!0,v=N,p=k;break}ce=ce.sibling}if(!V){for(ce=k.child;ce;){if(ce===p){V=!0,p=k,v=N;break}if(ce===v){V=!0,v=k,p=N;break}ce=ce.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function h(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=h(l),u!==null)return u;l=l.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=ae&&l[ae]||l["@@iterator"],typeof l=="function"?l:null)}var X=Symbol.for("react.client.reference");function M(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===X?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList";case D:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case _:return l.displayName||"Context";case T:return(l._context.displayName||"Context")+".Consumer";case S:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case j:return u=l.displayName||null,u!==null?u:M(l.type)||"Memo";case q:u=l._payload,l=l._init;try{return M(l(u))}catch{}}return null}var se=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ie=[],Ee=-1;function G(l){return{current:l}}function O(l){0>Ee||(l.current=ie[Ee],ie[Ee]=null,Ee--)}function W(l,u){Ee++,ie[Ee]=l.current,l.current=u}var K=G(null),re=G(null),Y=G(null),P=G(null);function L(l,u){switch(W(Y,u),W(re,l),W(K,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?qA(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=qA(u),l=VA(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}O(K),W(K,l)}function oe(){O(K),O(re),O(Y)}function ee(l){l.memoizedState!==null&&W(P,l);var u=K.current,p=VA(u,l.type);u!==p&&(W(re,l),W(K,p))}function ne(l){re.current===l&&(O(K),O(re)),P.current===l&&(O(P),md._currentValue=ge)}var z,be;function U(l){if(z===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);z=u&&u[1]||"",be=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+l+be}var we=!1;function B(l,u){if(!l||we)return"";we=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Ie){var Oe=Ie}Reflect.construct(l,[],He)}else{try{He.call()}catch(Ie){Oe=Ie}l.call(He.prototype)}}else{try{throw Error()}catch(Ie){Oe=Ie}(He=l())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Ie){if(Ie&&Oe&&typeof Ie.stack=="string")return[Ie.stack,Oe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),V=k[0],ce=k[1];if(V&&ce){var ve=V.split(`
`),Ne=ce.split(`
`);for(N=v=0;v<ve.length&&!ve[v].includes("DetermineComponentFrameRoot");)v++;for(;N<Ne.length&&!Ne[N].includes("DetermineComponentFrameRoot");)N++;if(v===ve.length||N===Ne.length)for(v=ve.length-1,N=Ne.length-1;1<=v&&0<=N&&ve[v]!==Ne[N];)N--;for(;1<=v&&0<=N;v--,N--)if(ve[v]!==Ne[N]){if(v!==1||N!==1)do if(v--,N--,0>N||ve[v]!==Ne[N]){var Be=`
`+ve[v].replace(" at new "," at ");return l.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",l.displayName)),Be}while(1<=v&&0<=N);break}}}finally{we=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?U(p):""}function A(l,u){switch(l.tag){case 26:case 27:case 5:return U(l.type);case 16:return U("Lazy");case 13:return l.child!==u&&u!==null?U("Suspense Fallback"):U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return B(l.type,!1);case 11:return B(l.type.render,!1);case 1:return B(l.type,!0);case 31:return U("Activity");default:return""}}function R(l){try{var u="",p=null;do u+=A(l,p),p=l,l=l.return;while(l);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var H=Object.prototype.hasOwnProperty,fe=e.unstable_scheduleCallback,ye=e.unstable_cancelCallback,he=e.unstable_shouldYield,Ae=e.unstable_requestPaint,De=e.unstable_now,Pe=e.unstable_getCurrentPriorityLevel,We=e.unstable_ImmediatePriority,et=e.unstable_UserBlockingPriority,tt=e.unstable_NormalPriority,zt=e.unstable_LowPriority,lt=e.unstable_IdlePriority,Ot=e.log,nr=e.unstable_setDisableYieldValue,ht=null,Jt=null;function cn(l){if(typeof Ot=="function"&&nr(l),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(ht,l)}catch{}}var Zt=Math.clz32?Math.clz32:Jn,go=Math.log,Xa=Math.LN2;function Jn(l){return l>>>=0,l===0?32:31-(go(l)/Xa|0)|0}var Ca=256,ka=262144,Zn=4194304;function zr(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function pt(l,u,p){var v=l.pendingLanes;if(v===0)return 0;var N=0,k=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var ce=v&134217727;return ce!==0?(v=ce&~k,v!==0?N=zr(v):(V&=ce,V!==0?N=zr(V):p||(p=ce&~l,p!==0&&(N=zr(p))))):(ce=v&~k,ce!==0?N=zr(ce):V!==0?N=zr(V):p||(p=v&~l,p!==0&&(N=zr(p)))),N===0?0:u!==0&&u!==N&&(u&k)===0&&(k=N&-N,p=u&-u,k>=p||k===32&&(p&4194048)!==0)?u:N}function ir(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Hr(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function un(){var l=Zn;return Zn<<=1,(Zn&62914560)===0&&(Zn=4194304),l}function Ya(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function dr(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Mn(l,u,p,v,N,k){var V=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var ce=l.entanglements,ve=l.expirationTimes,Ne=l.hiddenUpdates;for(p=V&~p;0<p;){var Be=31-Zt(p),He=1<<Be;ce[Be]=0,ve[Be]=-1;var Oe=Ne[Be];if(Oe!==null)for(Ne[Be]=null,Be=0;Be<Oe.length;Be++){var Ie=Oe[Be];Ie!==null&&(Ie.lane&=-536870913)}p&=~He}v!==0&&Ei(l,v,0),k!==0&&N===0&&l.tag!==0&&(l.suspendedLanes|=k&~(V&~u))}function Ei(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var v=31-Zt(u);l.entangledLanes|=u,l.entanglements[v]=l.entanglements[v]|1073741824|p&261930}function fn(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var v=31-Zt(p),N=1<<v;N&u|l[v]&u&&(l[v]|=u),p&=~N}}function Fn(l,u){var p=u&-u;return p=(p&42)!==0?1:xo(p),(p&(l.suspendedLanes|u))!==0?0:p}function xo(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ks(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function le(){var l=Z.p;return l!==0?l:(l=window.event,l===void 0?32:hC(l.type))}function me(l,u){var p=Z.p;try{return Z.p=l,u()}finally{Z.p=p}}var ue=Math.random().toString(36).slice(2),de="__reactFiber$"+ue,pe="__reactProps$"+ue,xe="__reactContainer$"+ue,Ce="__reactEvents$"+ue,Ue="__reactListeners$"+ue,ke="__reactHandles$"+ue,Re="__reactResources$"+ue,je="__reactMarker$"+ue;function Ge(l){delete l[de],delete l[pe],delete l[Ce],delete l[Ue],delete l[ke]}function Ye(l){var u=l[de];if(u)return u;for(var p=l.parentNode;p;){if(u=p[xe]||p[de]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=JA(l);l!==null;){if(p=l[de])return p;l=JA(l)}return u}l=p,p=l.parentNode}return null}function Qe(l){if(l=l[de]||l[xe]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function Ke(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function Je(l){var u=l[Re];return u||(u=l[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function at(l){l[je]=!0}var or=new Set,lr={};function gr(l,u){Js(l,u),Js(l+"Capture",u)}function Js(l,u){for(lr[l]=u,l=0;l<u.length;l++)or.add(u[l])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},Ja={};function Of(l){return H.call(Ja,l)?!0:H.call(yo,l)?!1:Rl.test(l)?Ja[l]=!0:(yo[l]=!0,!1)}function ds(l,u,p){if(Of(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function k0(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function _i(l,u,p,v){if(v===null)l.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+v)}}function Zs(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function MS(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function MP(l,u,p){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var N=v.get,k=v.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return N.call(this)},set:function(V){p=""+V,k.call(this,V)}}),Object.defineProperty(l,u,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(V){p=""+V},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function a1(l){if(!l._valueTracker){var u=MS(l)?"checked":"value";l._valueTracker=MP(l,u,""+l[u])}}function FS(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return l&&(v=MS(l)?l.checked?"true":"false":l.value),l=v,l!==p?(u.setValue(l),!0):!1}function R0(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var FP=/[\n"\\]/g;function Qs(l){return l.replace(FP,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function i1(l,u,p,v,N,k,V,ce){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),u!=null?V==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Zs(u)):l.value!==""+Zs(u)&&(l.value=""+Zs(u)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),u!=null?o1(l,V,Zs(u)):p!=null?o1(l,V,Zs(p)):v!=null&&l.removeAttribute("value"),N==null&&k!=null&&(l.defaultChecked=!!k),N!=null&&(l.checked=N&&typeof N!="function"&&typeof N!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?l.name=""+Zs(ce):l.removeAttribute("name")}function PS(l,u,p,v,N,k,V,ce){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(l.type=k),u!=null||p!=null){if(!(k!=="submit"&&k!=="reset"||u!=null)){a1(l);return}p=p!=null?""+Zs(p):"",u=u!=null?""+Zs(u):p,ce||u===l.value||(l.value=u),l.defaultValue=u}v=v??N,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=ce?l.checked:!!v,l.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V),a1(l)}function o1(l,u,p){u==="number"&&R0(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function Vc(l,u,p,v){if(l=l.options,u){u={};for(var N=0;N<p.length;N++)u["$"+p[N]]=!0;for(p=0;p<l.length;p++)N=u.hasOwnProperty("$"+l[p].value),l[p].selected!==N&&(l[p].selected=N),N&&v&&(l[p].defaultSelected=!0)}else{for(p=""+Zs(p),u=null,N=0;N<l.length;N++){if(l[N].value===p){l[N].selected=!0,v&&(l[N].defaultSelected=!0);return}u!==null||l[N].disabled||(u=l[N])}u!==null&&(u.selected=!0)}}function LS(l,u,p){if(u!=null&&(u=""+Zs(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+Zs(p):""}function BS(l,u,p,v){if(u==null){if(v!=null){if(p!=null)throw Error(n(92));if(se(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),u=p}p=Zs(u),l.defaultValue=p,v=l.textContent,v===p&&v!==""&&v!==null&&(l.value=v),a1(l)}function $c(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var PP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function US(l,u,p){var v=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":v?l.setProperty(u,p):typeof p!="number"||p===0||PP.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function zS(l,u,p){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var N in u)v=u[N],u.hasOwnProperty(N)&&p[N]!==v&&US(l,N,v)}else for(var k in u)u.hasOwnProperty(k)&&US(l,k,u[k])}function l1(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function O0(l){return BP.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Si(){}var c1=null;function u1(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Wc=null,Gc=null;function HS(l){var u=Qe(l);if(u&&(l=u.stateNode)){var p=l[pe]||null;e:switch(l=u.stateNode,u.type){case"input":if(i1(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Qs(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==l&&v.form===l.form){var N=v[pe]||null;if(!N)throw Error(n(90));i1(v,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(u=0;u<p.length;u++)v=p[u],v.form===l.form&&FS(v)}break e;case"textarea":LS(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Vc(l,!!p.multiple,u,!1)}}}var f1=!1;function qS(l,u,p){if(f1)return l(u,p);f1=!0;try{var v=l(u);return v}finally{if(f1=!1,(Wc!==null||Gc!==null)&&(yp(),Wc&&(u=Wc,l=Gc,Gc=Wc=null,HS(u),l)))for(u=0;u<l.length;u++)HS(l[u])}}function jf(l,u){var p=l.stateNode;if(p===null)return null;var v=p[pe]||null;if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d1=!1;if(Ti)try{var Df={};Object.defineProperty(Df,"passive",{get:function(){d1=!0}}),window.addEventListener("test",Df,Df),window.removeEventListener("test",Df,Df)}catch{d1=!1}var vo=null,h1=null,j0=null;function VS(){if(j0)return j0;var l,u=h1,p=u.length,v,N="value"in vo?vo.value:vo.textContent,k=N.length;for(l=0;l<p&&u[l]===N[l];l++);var V=p-l;for(v=1;v<=V&&u[p-v]===N[k-v];v++);return j0=N.slice(l,1<v?1-v:void 0)}function D0(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function I0(){return!0}function $S(){return!1}function hs(l){function u(p,v,N,k,V){this._reactName=p,this._targetInst=N,this.type=v,this.nativeEvent=k,this.target=V,this.currentTarget=null;for(var ce in l)l.hasOwnProperty(ce)&&(p=l[ce],this[ce]=p?p(k):k[ce]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?I0:$S,this.isPropagationStopped=$S,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=I0)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=I0)},persist:function(){},isPersistent:I0}),u}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M0=hs(Ol),If=m({},Ol,{view:0,detail:0}),UP=hs(If),p1,m1,Mf,F0=m({},If,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x1,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Mf&&(Mf&&l.type==="mousemove"?(p1=l.screenX-Mf.screenX,m1=l.screenY-Mf.screenY):m1=p1=0,Mf=l),p1)},movementY:function(l){return"movementY"in l?l.movementY:m1}}),WS=hs(F0),zP=m({},F0,{dataTransfer:0}),HP=hs(zP),qP=m({},If,{relatedTarget:0}),g1=hs(qP),VP=m({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),$P=hs(VP),WP=m({},Ol,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),GP=hs(WP),KP=m({},Ol,{data:0}),GS=hs(KP),XP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZP(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=JP[l])?!!u[l]:!1}function x1(){return ZP}var QP=m({},If,{key:function(l){if(l.key){var u=XP[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=D0(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?YP[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x1,charCode:function(l){return l.type==="keypress"?D0(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?D0(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),eL=hs(QP),tL=m({},F0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KS=hs(tL),rL=m({},If,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x1}),nL=hs(rL),sL=m({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),aL=hs(sL),iL=m({},F0,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),oL=hs(iL),lL=m({},Ol,{newState:0,oldState:0}),cL=hs(lL),uL=[9,13,27,32],y1=Ti&&"CompositionEvent"in window,Ff=null;Ti&&"documentMode"in document&&(Ff=document.documentMode);var fL=Ti&&"TextEvent"in window&&!Ff,XS=Ti&&(!y1||Ff&&8<Ff&&11>=Ff),YS=" ",JS=!1;function ZS(l,u){switch(l){case"keyup":return uL.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QS(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Kc=!1;function dL(l,u){switch(l){case"compositionend":return QS(u);case"keypress":return u.which!==32?null:(JS=!0,YS);case"textInput":return l=u.data,l===YS&&JS?null:l;default:return null}}function hL(l,u){if(Kc)return l==="compositionend"||!y1&&ZS(l,u)?(l=VS(),j0=h1=vo=null,Kc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return XS&&u.locale!=="ko"?null:u.data;default:return null}}var pL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eT(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!pL[l.type]:u==="textarea"}function tT(l,u,p,v){Wc?Gc?Gc.push(v):Gc=[v]:Wc=v,u=Tp(u,"onChange"),0<u.length&&(p=new M0("onChange","change",null,p,v),l.push({event:p,listeners:u}))}var Pf=null,Lf=null;function mL(l){PA(l,0)}function P0(l){var u=Ke(l);if(FS(u))return l}function rT(l,u){if(l==="change")return u}var nT=!1;if(Ti){var v1;if(Ti){var b1="oninput"in document;if(!b1){var sT=document.createElement("div");sT.setAttribute("oninput","return;"),b1=typeof sT.oninput=="function"}v1=b1}else v1=!1;nT=v1&&(!document.documentMode||9<document.documentMode)}function aT(){Pf&&(Pf.detachEvent("onpropertychange",iT),Lf=Pf=null)}function iT(l){if(l.propertyName==="value"&&P0(Lf)){var u=[];tT(u,Lf,l,u1(l)),qS(mL,u)}}function gL(l,u,p){l==="focusin"?(aT(),Pf=u,Lf=p,Pf.attachEvent("onpropertychange",iT)):l==="focusout"&&aT()}function xL(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return P0(Lf)}function yL(l,u){if(l==="click")return P0(u)}function vL(l,u){if(l==="input"||l==="change")return P0(u)}function bL(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Rs=typeof Object.is=="function"?Object.is:bL;function Bf(l,u){if(Rs(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var N=p[v];if(!H.call(u,N)||!Rs(l[N],u[N]))return!1}return!0}function oT(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function lT(l,u){var p=oT(l);l=0;for(var v;p;){if(p.nodeType===3){if(v=l+p.textContent.length,l<=u&&v>=u)return{node:p,offset:u-l};l=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=oT(p)}}function cT(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?cT(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function uT(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=R0(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=R0(l.document)}return u}function w1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var wL=Ti&&"documentMode"in document&&11>=document.documentMode,Xc=null,E1=null,Uf=null,_1=!1;function fT(l,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;_1||Xc==null||Xc!==R0(v)||(v=Xc,"selectionStart"in v&&w1(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Uf&&Bf(Uf,v)||(Uf=v,v=Tp(E1,"onSelect"),0<v.length&&(u=new M0("onSelect","select",null,u,p),l.push({event:u,listeners:v}),u.target=Xc)))}function jl(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var Yc={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},S1={},dT={};Ti&&(dT=document.createElement("div").style,"AnimationEvent"in window||(delete Yc.animationend.animation,delete Yc.animationiteration.animation,delete Yc.animationstart.animation),"TransitionEvent"in window||delete Yc.transitionend.transition);function Dl(l){if(S1[l])return S1[l];if(!Yc[l])return l;var u=Yc[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in dT)return S1[l]=u[p];return l}var hT=Dl("animationend"),pT=Dl("animationiteration"),mT=Dl("animationstart"),EL=Dl("transitionrun"),_L=Dl("transitionstart"),SL=Dl("transitioncancel"),gT=Dl("transitionend"),xT=new Map,T1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");T1.push("scrollEnd");function Ra(l,u){xT.set(l,u),gr(u,[l])}var L0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ea=[],Jc=0,N1=0;function B0(){for(var l=Jc,u=N1=Jc=0;u<l;){var p=ea[u];ea[u++]=null;var v=ea[u];ea[u++]=null;var N=ea[u];ea[u++]=null;var k=ea[u];if(ea[u++]=null,v!==null&&N!==null){var V=v.pending;V===null?N.next=N:(N.next=V.next,V.next=N),v.pending=N}k!==0&&yT(p,N,k)}}function U0(l,u,p,v){ea[Jc++]=l,ea[Jc++]=u,ea[Jc++]=p,ea[Jc++]=v,N1|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function A1(l,u,p,v){return U0(l,u,p,v),z0(l)}function Il(l,u){return U0(l,null,null,u),z0(l)}function yT(l,u,p){l.lanes|=p;var v=l.alternate;v!==null&&(v.lanes|=p);for(var N=!1,k=l.return;k!==null;)k.childLanes|=p,v=k.alternate,v!==null&&(v.childLanes|=p),k.tag===22&&(l=k.stateNode,l===null||l._visibility&1||(N=!0)),l=k,k=k.return;return l.tag===3?(k=l.stateNode,N&&u!==null&&(N=31-Zt(p),l=k.hiddenUpdates,v=l[N],v===null?l[N]=[u]:v.push(u),u.lane=p|536870912),k):null}function z0(l){if(50<ld)throw ld=0,Fy=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Zc={};function TL(l,u,p,v){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(l,u,p,v){return new TL(l,u,p,v)}function C1(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ni(l,u){var p=l.alternate;return p===null?(p=Os(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function vT(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function H0(l,u,p,v,N,k){var V=0;if(v=l,typeof l=="function")C1(l)&&(V=1);else if(typeof l=="string")V=RB(l,p,K.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case D:return l=Os(31,p,u,N),l.elementType=D,l.lanes=k,l;case b:return Ml(p.children,N,k,u);case w:V=8,N|=24;break;case E:return l=Os(12,p,u,N|2),l.elementType=E,l.lanes=k,l;case C:return l=Os(13,p,u,N),l.elementType=C,l.lanes=k,l;case I:return l=Os(19,p,u,N),l.elementType=I,l.lanes=k,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case _:V=10;break e;case T:V=9;break e;case S:V=11;break e;case j:V=14;break e;case q:V=16,v=null;break e}V=29,p=Error(n(130,l===null?"null":typeof l,"")),v=null}return u=Os(V,p,u,N),u.elementType=l,u.type=v,u.lanes=k,u}function Ml(l,u,p,v){return l=Os(7,l,v,u),l.lanes=p,l}function k1(l,u,p){return l=Os(6,l,null,u),l.lanes=p,l}function bT(l){var u=Os(18,null,null,0);return u.stateNode=l,u}function R1(l,u,p){return u=Os(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var wT=new WeakMap;function ta(l,u){if(typeof l=="object"&&l!==null){var p=wT.get(l);return p!==void 0?p:(u={value:l,source:u,stack:R(u)},wT.set(l,u),u)}return{value:l,source:u,stack:R(u)}}var Qc=[],eu=0,q0=null,zf=0,ra=[],na=0,bo=null,Za=1,Qa="";function Ai(l,u){Qc[eu++]=zf,Qc[eu++]=q0,q0=l,zf=u}function ET(l,u,p){ra[na++]=Za,ra[na++]=Qa,ra[na++]=bo,bo=l;var v=Za;l=Qa;var N=32-Zt(v)-1;v&=~(1<<N),p+=1;var k=32-Zt(u)+N;if(30<k){var V=N-N%5;k=(v&(1<<V)-1).toString(32),v>>=V,N-=V,Za=1<<32-Zt(u)+N|p<<N|v,Qa=k+l}else Za=1<<k|p<<N|v,Qa=l}function O1(l){l.return!==null&&(Ai(l,1),ET(l,1,0))}function j1(l){for(;l===q0;)q0=Qc[--eu],Qc[eu]=null,zf=Qc[--eu],Qc[eu]=null;for(;l===bo;)bo=ra[--na],ra[na]=null,Qa=ra[--na],ra[na]=null,Za=ra[--na],ra[na]=null}function _T(l,u){ra[na++]=Za,ra[na++]=Qa,ra[na++]=bo,Za=u.id,Qa=u.overflow,bo=l}var En=null,hr=null,Ft=!1,wo=null,sa=!1,D1=Error(n(519));function Eo(l){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hf(ta(u,l)),D1}function ST(l){var u=l.stateNode,p=l.type,v=l.memoizedProps;switch(u[de]=l,u[pe]=v,p){case"dialog":Dt("cancel",u),Dt("close",u);break;case"iframe":case"object":case"embed":Dt("load",u);break;case"video":case"audio":for(p=0;p<ud.length;p++)Dt(ud[p],u);break;case"source":Dt("error",u);break;case"img":case"image":case"link":Dt("error",u),Dt("load",u);break;case"details":Dt("toggle",u);break;case"input":Dt("invalid",u),PS(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Dt("invalid",u);break;case"textarea":Dt("invalid",u),BS(u,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||v.suppressHydrationWarning===!0||zA(u.textContent,p)?(v.popover!=null&&(Dt("beforetoggle",u),Dt("toggle",u)),v.onScroll!=null&&Dt("scroll",u),v.onScrollEnd!=null&&Dt("scrollend",u),v.onClick!=null&&(u.onclick=Si),u=!0):u=!1,u||Eo(l,!0)}function TT(l){for(En=l.return;En;)switch(En.tag){case 5:case 31:case 13:sa=!1;return;case 27:case 3:sa=!0;return;default:En=En.return}}function tu(l){if(l!==En)return!1;if(!Ft)return TT(l),Ft=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||Jy(l.type,l.memoizedProps)),p=!p),p&&hr&&Eo(l),TT(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));hr=YA(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));hr=YA(l)}else u===27?(u=hr,Fo(l.type)?(l=rv,rv=null,hr=l):hr=u):hr=En?ia(l.stateNode.nextSibling):null;return!0}function Fl(){hr=En=null,Ft=!1}function I1(){var l=wo;return l!==null&&(xs===null?xs=l:xs.push.apply(xs,l),wo=null),l}function Hf(l){wo===null?wo=[l]:wo.push(l)}var M1=G(null),Pl=null,Ci=null;function _o(l,u,p){W(M1,u._currentValue),u._currentValue=p}function ki(l){l._currentValue=M1.current,O(M1)}function F1(l,u,p){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===p)break;l=l.return}}function P1(l,u,p,v){var N=l.child;for(N!==null&&(N.return=l);N!==null;){var k=N.dependencies;if(k!==null){var V=N.child;k=k.firstContext;e:for(;k!==null;){var ce=k;k=N;for(var ve=0;ve<u.length;ve++)if(ce.context===u[ve]){k.lanes|=p,ce=k.alternate,ce!==null&&(ce.lanes|=p),F1(k.return,p,l),v||(V=null);break e}k=ce.next}}else if(N.tag===18){if(V=N.return,V===null)throw Error(n(341));V.lanes|=p,k=V.alternate,k!==null&&(k.lanes|=p),F1(V,p,l),V=null}else V=N.child;if(V!==null)V.return=N;else for(V=N;V!==null;){if(V===l){V=null;break}if(N=V.sibling,N!==null){N.return=V.return,V=N;break}V=V.return}N=V}}function ru(l,u,p,v){l=null;for(var N=u,k=!1;N!==null;){if(!k){if((N.flags&524288)!==0)k=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var V=N.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var ce=N.type;Rs(N.pendingProps.value,V.value)||(l!==null?l.push(ce):l=[ce])}}else if(N===P.current){if(V=N.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(l!==null?l.push(md):l=[md])}N=N.return}l!==null&&P1(u,l,p,v),u.flags|=262144}function V0(l){for(l=l.firstContext;l!==null;){if(!Rs(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ll(l){Pl=l,Ci=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function _n(l){return NT(Pl,l)}function $0(l,u){return Pl===null&&Ll(l),NT(l,u)}function NT(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},Ci===null){if(l===null)throw Error(n(308));Ci=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Ci=Ci.next=u;return p}var NL=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,v){l.push(v)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},AL=e.unstable_scheduleCallback,CL=e.unstable_NormalPriority,qr={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function L1(){return{controller:new NL,data:new Map,refCount:0}}function qf(l){l.refCount--,l.refCount===0&&AL(CL,function(){l.controller.abort()})}var Vf=null,B1=0,nu=0,su=null;function kL(l,u){if(Vf===null){var p=Vf=[];B1=0,nu=Hy(),su={status:"pending",value:void 0,then:function(v){p.push(v)}}}return B1++,u.then(AT,AT),u}function AT(){if(--B1===0&&Vf!==null){su!==null&&(su.status="fulfilled");var l=Vf;Vf=null,nu=0,su=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function RL(l,u){var p=[],v={status:"pending",value:null,reason:null,then:function(N){p.push(N)}};return l.then(function(){v.status="fulfilled",v.value=u;for(var N=0;N<p.length;N++)(0,p[N])(u)},function(N){for(v.status="rejected",v.reason=N,N=0;N<p.length;N++)(0,p[N])(void 0)}),v}var CT=J.S;J.S=function(l,u){fA=De(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&kL(l,u),CT!==null&&CT(l,u)};var Bl=G(null);function U1(){var l=Bl.current;return l!==null?l:sr.pooledCache}function W0(l,u){u===null?W(Bl,Bl.current):W(Bl,u.pool)}function kT(){var l=U1();return l===null?null:{parent:qr._currentValue,pool:l}}var au=Error(n(460)),z1=Error(n(474)),G0=Error(n(542)),K0={then:function(){}};function RT(l){return l=l.status,l==="fulfilled"||l==="rejected"}function OT(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(Si,Si),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,DT(l),l;default:if(typeof u.status=="string")u.then(Si,Si);else{if(l=sr,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(v){if(u.status==="pending"){var N=u;N.status="fulfilled",N.value=v}},function(v){if(u.status==="pending"){var N=u;N.status="rejected",N.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,DT(l),l}throw zl=u,au}}function Ul(l){try{var u=l._init;return u(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(zl=p,au):p}}var zl=null;function jT(){if(zl===null)throw Error(n(459));var l=zl;return zl=null,l}function DT(l){if(l===au||l===G0)throw Error(n(483))}var iu=null,$f=0;function X0(l){var u=$f;return $f+=1,iu===null&&(iu=[]),OT(iu,l,u)}function Wf(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Y0(l,u){throw u.$$typeof===x?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function IT(l){function u(Se,_e){if(l){var Te=Se.deletions;Te===null?(Se.deletions=[_e],Se.flags|=16):Te.push(_e)}}function p(Se,_e){if(!l)return null;for(;_e!==null;)u(Se,_e),_e=_e.sibling;return null}function v(Se){for(var _e=new Map;Se!==null;)Se.key!==null?_e.set(Se.key,Se):_e.set(Se.index,Se),Se=Se.sibling;return _e}function N(Se,_e){return Se=Ni(Se,_e),Se.index=0,Se.sibling=null,Se}function k(Se,_e,Te){return Se.index=Te,l?(Te=Se.alternate,Te!==null?(Te=Te.index,Te<_e?(Se.flags|=67108866,_e):Te):(Se.flags|=67108866,_e)):(Se.flags|=1048576,_e)}function V(Se){return l&&Se.alternate===null&&(Se.flags|=67108866),Se}function ce(Se,_e,Te,ze){return _e===null||_e.tag!==6?(_e=k1(Te,Se.mode,ze),_e.return=Se,_e):(_e=N(_e,Te),_e.return=Se,_e)}function ve(Se,_e,Te,ze){var ut=Te.type;return ut===b?Be(Se,_e,Te.props.children,ze,Te.key):_e!==null&&(_e.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===q&&Ul(ut)===_e.type)?(_e=N(_e,Te.props),Wf(_e,Te),_e.return=Se,_e):(_e=H0(Te.type,Te.key,Te.props,null,Se.mode,ze),Wf(_e,Te),_e.return=Se,_e)}function Ne(Se,_e,Te,ze){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Te.containerInfo||_e.stateNode.implementation!==Te.implementation?(_e=R1(Te,Se.mode,ze),_e.return=Se,_e):(_e=N(_e,Te.children||[]),_e.return=Se,_e)}function Be(Se,_e,Te,ze,ut){return _e===null||_e.tag!==7?(_e=Ml(Te,Se.mode,ze,ut),_e.return=Se,_e):(_e=N(_e,Te),_e.return=Se,_e)}function He(Se,_e,Te){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=k1(""+_e,Se.mode,Te),_e.return=Se,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case g:return Te=H0(_e.type,_e.key,_e.props,null,Se.mode,Te),Wf(Te,_e),Te.return=Se,Te;case y:return _e=R1(_e,Se.mode,Te),_e.return=Se,_e;case q:return _e=Ul(_e),He(Se,_e,Te)}if(se(_e)||F(_e))return _e=Ml(_e,Se.mode,Te,null),_e.return=Se,_e;if(typeof _e.then=="function")return He(Se,X0(_e),Te);if(_e.$$typeof===_)return He(Se,$0(Se,_e),Te);Y0(Se,_e)}return null}function Oe(Se,_e,Te,ze){var ut=_e!==null?_e.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ut!==null?null:ce(Se,_e,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case g:return Te.key===ut?ve(Se,_e,Te,ze):null;case y:return Te.key===ut?Ne(Se,_e,Te,ze):null;case q:return Te=Ul(Te),Oe(Se,_e,Te,ze)}if(se(Te)||F(Te))return ut!==null?null:Be(Se,_e,Te,ze,null);if(typeof Te.then=="function")return Oe(Se,_e,X0(Te),ze);if(Te.$$typeof===_)return Oe(Se,_e,$0(Se,Te),ze);Y0(Se,Te)}return null}function Ie(Se,_e,Te,ze,ut){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Se=Se.get(Te)||null,ce(_e,Se,""+ze,ut);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case g:return Se=Se.get(ze.key===null?Te:ze.key)||null,ve(_e,Se,ze,ut);case y:return Se=Se.get(ze.key===null?Te:ze.key)||null,Ne(_e,Se,ze,ut);case q:return ze=Ul(ze),Ie(Se,_e,Te,ze,ut)}if(se(ze)||F(ze))return Se=Se.get(Te)||null,Be(_e,Se,ze,ut,null);if(typeof ze.then=="function")return Ie(Se,_e,Te,X0(ze),ut);if(ze.$$typeof===_)return Ie(Se,_e,Te,$0(_e,ze),ut);Y0(_e,ze)}return null}function nt(Se,_e,Te,ze){for(var ut=null,Ht=null,ot=_e,St=_e=0,Mt=null;ot!==null&&St<Te.length;St++){ot.index>St?(Mt=ot,ot=null):Mt=ot.sibling;var qt=Oe(Se,ot,Te[St],ze);if(qt===null){ot===null&&(ot=Mt);break}l&&ot&&qt.alternate===null&&u(Se,ot),_e=k(qt,_e,St),Ht===null?ut=qt:Ht.sibling=qt,Ht=qt,ot=Mt}if(St===Te.length)return p(Se,ot),Ft&&Ai(Se,St),ut;if(ot===null){for(;St<Te.length;St++)ot=He(Se,Te[St],ze),ot!==null&&(_e=k(ot,_e,St),Ht===null?ut=ot:Ht.sibling=ot,Ht=ot);return Ft&&Ai(Se,St),ut}for(ot=v(ot);St<Te.length;St++)Mt=Ie(ot,Se,St,Te[St],ze),Mt!==null&&(l&&Mt.alternate!==null&&ot.delete(Mt.key===null?St:Mt.key),_e=k(Mt,_e,St),Ht===null?ut=Mt:Ht.sibling=Mt,Ht=Mt);return l&&ot.forEach(function(zo){return u(Se,zo)}),Ft&&Ai(Se,St),ut}function dt(Se,_e,Te,ze){if(Te==null)throw Error(n(151));for(var ut=null,Ht=null,ot=_e,St=_e=0,Mt=null,qt=Te.next();ot!==null&&!qt.done;St++,qt=Te.next()){ot.index>St?(Mt=ot,ot=null):Mt=ot.sibling;var zo=Oe(Se,ot,qt.value,ze);if(zo===null){ot===null&&(ot=Mt);break}l&&ot&&zo.alternate===null&&u(Se,ot),_e=k(zo,_e,St),Ht===null?ut=zo:Ht.sibling=zo,Ht=zo,ot=Mt}if(qt.done)return p(Se,ot),Ft&&Ai(Se,St),ut;if(ot===null){for(;!qt.done;St++,qt=Te.next())qt=He(Se,qt.value,ze),qt!==null&&(_e=k(qt,_e,St),Ht===null?ut=qt:Ht.sibling=qt,Ht=qt);return Ft&&Ai(Se,St),ut}for(ot=v(ot);!qt.done;St++,qt=Te.next())qt=Ie(ot,Se,St,qt.value,ze),qt!==null&&(l&&qt.alternate!==null&&ot.delete(qt.key===null?St:qt.key),_e=k(qt,_e,St),Ht===null?ut=qt:Ht.sibling=qt,Ht=qt);return l&&ot.forEach(function(zB){return u(Se,zB)}),Ft&&Ai(Se,St),ut}function tr(Se,_e,Te,ze){if(typeof Te=="object"&&Te!==null&&Te.type===b&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case g:e:{for(var ut=Te.key;_e!==null;){if(_e.key===ut){if(ut=Te.type,ut===b){if(_e.tag===7){p(Se,_e.sibling),ze=N(_e,Te.props.children),ze.return=Se,Se=ze;break e}}else if(_e.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===q&&Ul(ut)===_e.type){p(Se,_e.sibling),ze=N(_e,Te.props),Wf(ze,Te),ze.return=Se,Se=ze;break e}p(Se,_e);break}else u(Se,_e);_e=_e.sibling}Te.type===b?(ze=Ml(Te.props.children,Se.mode,ze,Te.key),ze.return=Se,Se=ze):(ze=H0(Te.type,Te.key,Te.props,null,Se.mode,ze),Wf(ze,Te),ze.return=Se,Se=ze)}return V(Se);case y:e:{for(ut=Te.key;_e!==null;){if(_e.key===ut)if(_e.tag===4&&_e.stateNode.containerInfo===Te.containerInfo&&_e.stateNode.implementation===Te.implementation){p(Se,_e.sibling),ze=N(_e,Te.children||[]),ze.return=Se,Se=ze;break e}else{p(Se,_e);break}else u(Se,_e);_e=_e.sibling}ze=R1(Te,Se.mode,ze),ze.return=Se,Se=ze}return V(Se);case q:return Te=Ul(Te),tr(Se,_e,Te,ze)}if(se(Te))return nt(Se,_e,Te,ze);if(F(Te)){if(ut=F(Te),typeof ut!="function")throw Error(n(150));return Te=ut.call(Te),dt(Se,_e,Te,ze)}if(typeof Te.then=="function")return tr(Se,_e,X0(Te),ze);if(Te.$$typeof===_)return tr(Se,_e,$0(Se,Te),ze);Y0(Se,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,_e!==null&&_e.tag===6?(p(Se,_e.sibling),ze=N(_e,Te),ze.return=Se,Se=ze):(p(Se,_e),ze=k1(Te,Se.mode,ze),ze.return=Se,Se=ze),V(Se)):p(Se,_e)}return function(Se,_e,Te,ze){try{$f=0;var ut=tr(Se,_e,Te,ze);return iu=null,ut}catch(ot){if(ot===au||ot===G0)throw ot;var Ht=Os(29,ot,null,Se.mode);return Ht.lanes=ze,Ht.return=Se,Ht}finally{}}}var Hl=IT(!0),MT=IT(!1),So=!1;function H1(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function q1(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function To(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function No(l,u,p){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Vt&2)!==0){var N=v.pending;return N===null?u.next=u:(u.next=N.next,N.next=u),v.pending=u,u=z0(l),yT(l,null,p),u}return U0(l,v,u,p),z0(l)}function Gf(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var v=u.lanes;v&=l.pendingLanes,p|=v,u.lanes=p,fn(l,p)}}function V1(l,u){var p=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var N=null,k=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};k===null?N=k=V:k=k.next=V,p=p.next}while(p!==null);k===null?N=k=u:k=k.next=u}else N=k=u;p={baseState:v.baseState,firstBaseUpdate:N,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var $1=!1;function Kf(){if($1){var l=su;if(l!==null)throw l}}function Xf(l,u,p,v){$1=!1;var N=l.updateQueue;So=!1;var k=N.firstBaseUpdate,V=N.lastBaseUpdate,ce=N.shared.pending;if(ce!==null){N.shared.pending=null;var ve=ce,Ne=ve.next;ve.next=null,V===null?k=Ne:V.next=Ne,V=ve;var Be=l.alternate;Be!==null&&(Be=Be.updateQueue,ce=Be.lastBaseUpdate,ce!==V&&(ce===null?Be.firstBaseUpdate=Ne:ce.next=Ne,Be.lastBaseUpdate=ve))}if(k!==null){var He=N.baseState;V=0,Be=Ne=ve=null,ce=k;do{var Oe=ce.lane&-536870913,Ie=Oe!==ce.lane;if(Ie?(It&Oe)===Oe:(v&Oe)===Oe){Oe!==0&&Oe===nu&&($1=!0),Be!==null&&(Be=Be.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var nt=l,dt=ce;Oe=u;var tr=p;switch(dt.tag){case 1:if(nt=dt.payload,typeof nt=="function"){He=nt.call(tr,He,Oe);break e}He=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=dt.payload,Oe=typeof nt=="function"?nt.call(tr,He,Oe):nt,Oe==null)break e;He=m({},He,Oe);break e;case 2:So=!0}}Oe=ce.callback,Oe!==null&&(l.flags|=64,Ie&&(l.flags|=8192),Ie=N.callbacks,Ie===null?N.callbacks=[Oe]:Ie.push(Oe))}else Ie={lane:Oe,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Be===null?(Ne=Be=Ie,ve=He):Be=Be.next=Ie,V|=Oe;if(ce=ce.next,ce===null){if(ce=N.shared.pending,ce===null)break;Ie=ce,ce=Ie.next,Ie.next=null,N.lastBaseUpdate=Ie,N.shared.pending=null}}while(!0);Be===null&&(ve=He),N.baseState=ve,N.firstBaseUpdate=Ne,N.lastBaseUpdate=Be,k===null&&(N.shared.lanes=0),Oo|=V,l.lanes=V,l.memoizedState=He}}function FT(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function PT(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)FT(p[l],u)}var ou=G(null),J0=G(0);function LT(l,u){l=Li,W(J0,l),W(ou,u),Li=l|u.baseLanes}function W1(){W(J0,Li),W(ou,ou.current)}function G1(){Li=J0.current,O(ou),O(J0)}var js=G(null),aa=null;function Ao(l){var u=l.alternate;W(jr,jr.current&1),W(js,l),aa===null&&(u===null||ou.current!==null||u.memoizedState!==null)&&(aa=l)}function K1(l){W(jr,jr.current),W(js,l),aa===null&&(aa=l)}function BT(l){l.tag===22?(W(jr,jr.current),W(js,l),aa===null&&(aa=l)):Co()}function Co(){W(jr,jr.current),W(js,js.current)}function Ds(l){O(js),aa===l&&(aa=null),O(jr)}var jr=G(0);function Z0(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||ev(p)||tv(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ri=0,Et=null,Qt=null,Vr=null,Q0=!1,lu=!1,ql=!1,ep=0,Yf=0,cu=null,OL=0;function _r(){throw Error(n(321))}function X1(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!Rs(l[p],u[p]))return!1;return!0}function Y1(l,u,p,v,N,k){return Ri=k,Et=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,J.H=l===null||l.memoizedState===null?EN:fy,ql=!1,k=p(v,N),ql=!1,lu&&(k=zT(u,p,v,N)),UT(l),k}function UT(l){J.H=Qf;var u=Qt!==null&&Qt.next!==null;if(Ri=0,Vr=Qt=Et=null,Q0=!1,Yf=0,cu=null,u)throw Error(n(300));l===null||$r||(l=l.dependencies,l!==null&&V0(l)&&($r=!0))}function zT(l,u,p,v){Et=l;var N=0;do{if(lu&&(cu=null),Yf=0,lu=!1,25<=N)throw Error(n(301));if(N+=1,Vr=Qt=null,l.updateQueue!=null){var k=l.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}J.H=_N,k=u(p,v)}while(lu);return k}function jL(){var l=J.H,u=l.useState()[0];return u=typeof u.then=="function"?Jf(u):u,l=l.useState()[0],(Qt!==null?Qt.memoizedState:null)!==l&&(Et.flags|=1024),u}function J1(){var l=ep!==0;return ep=0,l}function Z1(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function Q1(l){if(Q0){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Q0=!1}Ri=0,Vr=Qt=Et=null,lu=!1,Yf=ep=0,cu=null}function Qn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?Et.memoizedState=Vr=l:Vr=Vr.next=l,Vr}function Dr(){if(Qt===null){var l=Et.alternate;l=l!==null?l.memoizedState:null}else l=Qt.next;var u=Vr===null?Et.memoizedState:Vr.next;if(u!==null)Vr=u,Qt=l;else{if(l===null)throw Et.alternate===null?Error(n(467)):Error(n(310));Qt=l,l={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Vr===null?Et.memoizedState=Vr=l:Vr=Vr.next=l}return Vr}function tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jf(l){var u=Yf;return Yf+=1,cu===null&&(cu=[]),l=OT(cu,l,u),u=Et,(Vr===null?u.memoizedState:Vr.next)===null&&(u=u.alternate,J.H=u===null||u.memoizedState===null?EN:fy),l}function rp(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Jf(l);if(l.$$typeof===_)return _n(l)}throw Error(n(438,String(l)))}function ey(l){var u=null,p=Et.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var v=Et.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(N){return N.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=tp(),Et.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),v=0;v<l;v++)p[v]=Q;return u.index++,p}function Oi(l,u){return typeof u=="function"?u(l):u}function np(l){var u=Dr();return ty(u,Qt,l)}function ty(l,u,p){var v=l.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=p;var N=l.baseQueue,k=v.pending;if(k!==null){if(N!==null){var V=N.next;N.next=k.next,k.next=V}u.baseQueue=N=k,v.pending=null}if(k=l.baseState,N===null)l.memoizedState=k;else{u=N.next;var ce=V=null,ve=null,Ne=u,Be=!1;do{var He=Ne.lane&-536870913;if(He!==Ne.lane?(It&He)===He:(Ri&He)===He){var Oe=Ne.revertLane;if(Oe===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),He===nu&&(Be=!0);else if((Ri&Oe)===Oe){Ne=Ne.next,Oe===nu&&(Be=!0);continue}else He={lane:0,revertLane:Ne.revertLane,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ve===null?(ce=ve=He,V=k):ve=ve.next=He,Et.lanes|=Oe,Oo|=Oe;He=Ne.action,ql&&p(k,He),k=Ne.hasEagerState?Ne.eagerState:p(k,He)}else Oe={lane:He,revertLane:Ne.revertLane,gesture:Ne.gesture,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ve===null?(ce=ve=Oe,V=k):ve=ve.next=Oe,Et.lanes|=He,Oo|=He;Ne=Ne.next}while(Ne!==null&&Ne!==u);if(ve===null?V=k:ve.next=ce,!Rs(k,l.memoizedState)&&($r=!0,Be&&(p=su,p!==null)))throw p;l.memoizedState=k,l.baseState=V,l.baseQueue=ve,v.lastRenderedState=k}return N===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function ry(l){var u=Dr(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var v=p.dispatch,N=p.pending,k=u.memoizedState;if(N!==null){p.pending=null;var V=N=N.next;do k=l(k,V.action),V=V.next;while(V!==N);Rs(k,u.memoizedState)||($r=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),p.lastRenderedState=k}return[k,v]}function HT(l,u,p){var v=Et,N=Dr(),k=Ft;if(k){if(p===void 0)throw Error(n(407));p=p()}else p=u();var V=!Rs((Qt||N).memoizedState,p);if(V&&(N.memoizedState=p,$r=!0),N=N.queue,ay($T.bind(null,v,N,l),[l]),N.getSnapshot!==u||V||Vr!==null&&Vr.memoizedState.tag&1){if(v.flags|=2048,uu(9,{destroy:void 0},VT.bind(null,v,N,p,u),null),sr===null)throw Error(n(349));k||(Ri&127)!==0||qT(v,u,p)}return p}function qT(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Et.updateQueue,u===null?(u=tp(),Et.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function VT(l,u,p,v){u.value=p,u.getSnapshot=v,WT(u)&&GT(l)}function $T(l,u,p){return p(function(){WT(u)&&GT(l)})}function WT(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!Rs(l,p)}catch{return!0}}function GT(l){var u=Il(l,2);u!==null&&ys(u,l,2)}function ny(l){var u=Qn();if(typeof l=="function"){var p=l;if(l=p(),ql){cn(!0);try{p()}finally{cn(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:l},u}function KT(l,u,p,v){return l.baseState=p,ty(l,Qt,typeof v=="function"?v:Oi)}function DL(l,u,p,v,N){if(ip(l))throw Error(n(485));if(l=u.action,l!==null){var k={payload:N,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){k.listeners.push(V)}};J.T!==null?p(!0):k.isTransition=!1,v(k),p=u.pending,p===null?(k.next=u.pending=k,XT(u,k)):(k.next=p.next,u.pending=p.next=k)}}function XT(l,u){var p=u.action,v=u.payload,N=l.state;if(u.isTransition){var k=J.T,V={};J.T=V;try{var ce=p(N,v),ve=J.S;ve!==null&&ve(V,ce),YT(l,u,ce)}catch(Ne){sy(l,u,Ne)}finally{k!==null&&V.types!==null&&(k.types=V.types),J.T=k}}else try{k=p(N,v),YT(l,u,k)}catch(Ne){sy(l,u,Ne)}}function YT(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){JT(l,u,v)},function(v){return sy(l,u,v)}):JT(l,u,p)}function JT(l,u,p){u.status="fulfilled",u.value=p,ZT(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,XT(l,p)))}function sy(l,u,p){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=p,ZT(u),u=u.next;while(u!==v)}l.action=null}function ZT(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function QT(l,u){return u}function eN(l,u){if(Ft){var p=sr.formState;if(p!==null){e:{var v=Et;if(Ft){if(hr){t:{for(var N=hr,k=sa;N.nodeType!==8;){if(!k){N=null;break t}if(N=ia(N.nextSibling),N===null){N=null;break t}}k=N.data,N=k==="F!"||k==="F"?N:null}if(N){hr=ia(N.nextSibling),v=N.data==="F!";break e}}Eo(v)}v=!1}v&&(u=p[0])}}return p=Qn(),p.memoizedState=p.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QT,lastRenderedState:u},p.queue=v,p=vN.bind(null,Et,v),v.dispatch=p,v=ny(!1),k=uy.bind(null,Et,!1,v.queue),v=Qn(),N={state:u,dispatch:null,action:l,pending:null},v.queue=N,p=DL.bind(null,Et,N,k,p),N.dispatch=p,v.memoizedState=l,[u,p,!1]}function tN(l){var u=Dr();return rN(u,Qt,l)}function rN(l,u,p){if(u=ty(l,u,QT)[0],l=np(Oi)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=Jf(u)}catch(V){throw V===au?G0:V}else v=u;u=Dr();var N=u.queue,k=N.dispatch;return p!==u.memoizedState&&(Et.flags|=2048,uu(9,{destroy:void 0},IL.bind(null,N,p),null)),[v,k,l]}function IL(l,u){l.action=u}function nN(l){var u=Dr(),p=Qt;if(p!==null)return rN(u,p,l);Dr(),u=u.memoizedState,p=Dr();var v=p.queue.dispatch;return p.memoizedState=l,[u,v,!1]}function uu(l,u,p,v){return l={tag:l,create:p,deps:v,inst:u,next:null},u=Et.updateQueue,u===null&&(u=tp(),Et.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(v=p.next,p.next=l,l.next=v,u.lastEffect=l),l}function sN(){return Dr().memoizedState}function sp(l,u,p,v){var N=Qn();Et.flags|=l,N.memoizedState=uu(1|u,{destroy:void 0},p,v===void 0?null:v)}function ap(l,u,p,v){var N=Dr();v=v===void 0?null:v;var k=N.memoizedState.inst;Qt!==null&&v!==null&&X1(v,Qt.memoizedState.deps)?N.memoizedState=uu(u,k,p,v):(Et.flags|=l,N.memoizedState=uu(1|u,k,p,v))}function aN(l,u){sp(8390656,8,l,u)}function ay(l,u){ap(2048,8,l,u)}function ML(l){Et.flags|=4;var u=Et.updateQueue;if(u===null)u=tp(),Et.updateQueue=u,u.events=[l];else{var p=u.events;p===null?u.events=[l]:p.push(l)}}function iN(l){var u=Dr().memoizedState;return ML({ref:u,nextImpl:l}),function(){if((Vt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function oN(l,u){return ap(4,2,l,u)}function lN(l,u){return ap(4,4,l,u)}function cN(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function uN(l,u,p){p=p!=null?p.concat([l]):null,ap(4,4,cN.bind(null,u,l),p)}function iy(){}function fN(l,u){var p=Dr();u=u===void 0?null:u;var v=p.memoizedState;return u!==null&&X1(u,v[1])?v[0]:(p.memoizedState=[l,u],l)}function dN(l,u){var p=Dr();u=u===void 0?null:u;var v=p.memoizedState;if(u!==null&&X1(u,v[1]))return v[0];if(v=l(),ql){cn(!0);try{l()}finally{cn(!1)}}return p.memoizedState=[v,u],v}function oy(l,u,p){return p===void 0||(Ri&1073741824)!==0&&(It&261930)===0?l.memoizedState=u:(l.memoizedState=p,l=hA(),Et.lanes|=l,Oo|=l,p)}function hN(l,u,p,v){return Rs(p,u)?p:ou.current!==null?(l=oy(l,p,v),Rs(l,u)||($r=!0),l):(Ri&42)===0||(Ri&1073741824)!==0&&(It&261930)===0?($r=!0,l.memoizedState=p):(l=hA(),Et.lanes|=l,Oo|=l,u)}function pN(l,u,p,v,N){var k=Z.p;Z.p=k!==0&&8>k?k:8;var V=J.T,ce={};J.T=ce,uy(l,!1,u,p);try{var ve=N(),Ne=J.S;if(Ne!==null&&Ne(ce,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Be=RL(ve,v);Zf(l,u,Be,Fs(l))}else Zf(l,u,v,Fs(l))}catch(He){Zf(l,u,{then:function(){},status:"rejected",reason:He},Fs())}finally{Z.p=k,V!==null&&ce.types!==null&&(V.types=ce.types),J.T=V}}function FL(){}function ly(l,u,p,v){if(l.tag!==5)throw Error(n(476));var N=mN(l).queue;pN(l,N,u,ge,p===null?FL:function(){return gN(l),p(v)})}function mN(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ge},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function gN(l){var u=mN(l);u.next===null&&(u=l.alternate.memoizedState),Zf(l,u.next.queue,{},Fs())}function cy(){return _n(md)}function xN(){return Dr().memoizedState}function yN(){return Dr().memoizedState}function PL(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=Fs();l=To(p);var v=No(u,l,p);v!==null&&(ys(v,u,p),Gf(v,u,p)),u={cache:L1()},l.payload=u;return}u=u.return}}function LL(l,u,p){var v=Fs();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ip(l)?bN(u,p):(p=A1(l,u,p,v),p!==null&&(ys(p,l,v),wN(p,u,v)))}function vN(l,u,p){var v=Fs();Zf(l,u,p,v)}function Zf(l,u,p,v){var N={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(ip(l))bN(u,N);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var V=u.lastRenderedState,ce=k(V,p);if(N.hasEagerState=!0,N.eagerState=ce,Rs(ce,V))return U0(l,u,N,0),sr===null&&B0(),!1}catch{}finally{}if(p=A1(l,u,N,v),p!==null)return ys(p,l,v),wN(p,u,v),!0}return!1}function uy(l,u,p,v){if(v={lane:2,revertLane:Hy(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},ip(l)){if(u)throw Error(n(479))}else u=A1(l,p,v,2),u!==null&&ys(u,l,2)}function ip(l){var u=l.alternate;return l===Et||u!==null&&u===Et}function bN(l,u){lu=Q0=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function wN(l,u,p){if((p&4194048)!==0){var v=u.lanes;v&=l.pendingLanes,p|=v,u.lanes=p,fn(l,p)}}var Qf={readContext:_n,use:rp,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useLayoutEffect:_r,useInsertionEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useSyncExternalStore:_r,useId:_r,useHostTransitionStatus:_r,useFormState:_r,useActionState:_r,useOptimistic:_r,useMemoCache:_r,useCacheRefresh:_r};Qf.useEffectEvent=_r;var EN={readContext:_n,use:rp,useCallback:function(l,u){return Qn().memoizedState=[l,u===void 0?null:u],l},useContext:_n,useEffect:aN,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,sp(4194308,4,cN.bind(null,u,l),p)},useLayoutEffect:function(l,u){return sp(4194308,4,l,u)},useInsertionEffect:function(l,u){sp(4,2,l,u)},useMemo:function(l,u){var p=Qn();u=u===void 0?null:u;var v=l();if(ql){cn(!0);try{l()}finally{cn(!1)}}return p.memoizedState=[v,u],v},useReducer:function(l,u,p){var v=Qn();if(p!==void 0){var N=p(u);if(ql){cn(!0);try{p(u)}finally{cn(!1)}}}else N=u;return v.memoizedState=v.baseState=N,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:N},v.queue=l,l=l.dispatch=LL.bind(null,Et,l),[v.memoizedState,l]},useRef:function(l){var u=Qn();return l={current:l},u.memoizedState=l},useState:function(l){l=ny(l);var u=l.queue,p=vN.bind(null,Et,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:iy,useDeferredValue:function(l,u){var p=Qn();return oy(p,l,u)},useTransition:function(){var l=ny(!1);return l=pN.bind(null,Et,l.queue,!0,!1),Qn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var v=Et,N=Qn();if(Ft){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),sr===null)throw Error(n(349));(It&127)!==0||qT(v,u,p)}N.memoizedState=p;var k={value:p,getSnapshot:u};return N.queue=k,aN($T.bind(null,v,k,l),[l]),v.flags|=2048,uu(9,{destroy:void 0},VT.bind(null,v,k,p,u),null),p},useId:function(){var l=Qn(),u=sr.identifierPrefix;if(Ft){var p=Qa,v=Za;p=(v&~(1<<32-Zt(v)-1)).toString(32)+p,u="_"+u+"R_"+p,p=ep++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=OL++,u="_"+u+"r_"+p.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:cy,useFormState:eN,useActionState:eN,useOptimistic:function(l){var u=Qn();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=uy.bind(null,Et,!0,p),p.dispatch=u,[l,u]},useMemoCache:ey,useCacheRefresh:function(){return Qn().memoizedState=PL.bind(null,Et)},useEffectEvent:function(l){var u=Qn(),p={impl:l};return u.memoizedState=p,function(){if((Vt&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},fy={readContext:_n,use:rp,useCallback:fN,useContext:_n,useEffect:ay,useImperativeHandle:uN,useInsertionEffect:oN,useLayoutEffect:lN,useMemo:dN,useReducer:np,useRef:sN,useState:function(){return np(Oi)},useDebugValue:iy,useDeferredValue:function(l,u){var p=Dr();return hN(p,Qt.memoizedState,l,u)},useTransition:function(){var l=np(Oi)[0],u=Dr().memoizedState;return[typeof l=="boolean"?l:Jf(l),u]},useSyncExternalStore:HT,useId:xN,useHostTransitionStatus:cy,useFormState:tN,useActionState:tN,useOptimistic:function(l,u){var p=Dr();return KT(p,Qt,l,u)},useMemoCache:ey,useCacheRefresh:yN};fy.useEffectEvent=iN;var _N={readContext:_n,use:rp,useCallback:fN,useContext:_n,useEffect:ay,useImperativeHandle:uN,useInsertionEffect:oN,useLayoutEffect:lN,useMemo:dN,useReducer:ry,useRef:sN,useState:function(){return ry(Oi)},useDebugValue:iy,useDeferredValue:function(l,u){var p=Dr();return Qt===null?oy(p,l,u):hN(p,Qt.memoizedState,l,u)},useTransition:function(){var l=ry(Oi)[0],u=Dr().memoizedState;return[typeof l=="boolean"?l:Jf(l),u]},useSyncExternalStore:HT,useId:xN,useHostTransitionStatus:cy,useFormState:nN,useActionState:nN,useOptimistic:function(l,u){var p=Dr();return Qt!==null?KT(p,Qt,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:ey,useCacheRefresh:yN};_N.useEffectEvent=iN;function dy(l,u,p,v){u=l.memoizedState,p=p(v,u),p=p==null?u:m({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var hy={enqueueSetState:function(l,u,p){l=l._reactInternals;var v=Fs(),N=To(v);N.payload=u,p!=null&&(N.callback=p),u=No(l,N,v),u!==null&&(ys(u,l,v),Gf(u,l,v))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var v=Fs(),N=To(v);N.tag=1,N.payload=u,p!=null&&(N.callback=p),u=No(l,N,v),u!==null&&(ys(u,l,v),Gf(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Fs(),v=To(p);v.tag=2,u!=null&&(v.callback=u),u=No(l,v,p),u!==null&&(ys(u,l,p),Gf(u,l,p))}};function SN(l,u,p,v,N,k,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,k,V):u.prototype&&u.prototype.isPureReactComponent?!Bf(p,v)||!Bf(N,k):!0}function TN(l,u,p,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==l&&hy.enqueueReplaceState(u,u.state,null)}function Vl(l,u){var p=u;if("ref"in u){p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}if(l=l.defaultProps){p===u&&(p=m({},p));for(var N in l)p[N]===void 0&&(p[N]=l[N])}return p}function NN(l){L0(l)}function AN(l){console.error(l)}function CN(l){L0(l)}function op(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function kN(l,u,p){try{var v=l.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function py(l,u,p){return p=To(p),p.tag=3,p.payload={element:null},p.callback=function(){op(l,u)},p}function RN(l){return l=To(l),l.tag=3,l}function ON(l,u,p,v){var N=p.type.getDerivedStateFromError;if(typeof N=="function"){var k=v.value;l.payload=function(){return N(k)},l.callback=function(){kN(u,p,v)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){kN(u,p,v),typeof N!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var ce=v.stack;this.componentDidCatch(v.value,{componentStack:ce!==null?ce:""})})}function BL(l,u,p,v,N){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=p.alternate,u!==null&&ru(u,p,N,!0),p=js.current,p!==null){switch(p.tag){case 31:case 13:return aa===null?vp():p.alternate===null&&Sr===0&&(Sr=3),p.flags&=-257,p.flags|=65536,p.lanes=N,v===K0?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([v]):u.add(v),By(l,v,N)),!1;case 22:return p.flags|=65536,v===K0?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([v]):p.add(v)),By(l,v,N)),!1}throw Error(n(435,p.tag))}return By(l,v,N),vp(),!1}if(Ft)return u=js.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=N,v!==D1&&(l=Error(n(422),{cause:v}),Hf(ta(l,p)))):(v!==D1&&(u=Error(n(423),{cause:v}),Hf(ta(u,p))),l=l.current.alternate,l.flags|=65536,N&=-N,l.lanes|=N,v=ta(v,p),N=py(l.stateNode,v,N),V1(l,N),Sr!==4&&(Sr=2)),!1;var k=Error(n(520),{cause:v});if(k=ta(k,p),od===null?od=[k]:od.push(k),Sr!==4&&(Sr=2),u===null)return!0;v=ta(v,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=N&-N,p.lanes|=l,l=py(p.stateNode,v,l),V1(p,l),!1;case 1:if(u=p.type,k=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(jo===null||!jo.has(k))))return p.flags|=65536,N&=-N,p.lanes|=N,N=RN(N),ON(N,l,p,v),V1(p,N),!1}p=p.return}while(p!==null);return!1}var my=Error(n(461)),$r=!1;function Sn(l,u,p,v){u.child=l===null?MT(u,null,p,v):Hl(u,l.child,p,v)}function jN(l,u,p,v,N){p=p.render;var k=u.ref;if("ref"in v){var V={};for(var ce in v)ce!=="ref"&&(V[ce]=v[ce])}else V=v;return Ll(u),v=Y1(l,u,p,V,k,N),ce=J1(),l!==null&&!$r?(Z1(l,u,N),ji(l,u,N)):(Ft&&ce&&O1(u),u.flags|=1,Sn(l,u,v,N),u.child)}function DN(l,u,p,v,N){if(l===null){var k=p.type;return typeof k=="function"&&!C1(k)&&k.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=k,IN(l,u,k,v,N)):(l=H0(p.type,null,v,u,u.mode,N),l.ref=u.ref,l.return=u,u.child=l)}if(k=l.child,!_y(l,N)){var V=k.memoizedProps;if(p=p.compare,p=p!==null?p:Bf,p(V,v)&&l.ref===u.ref)return ji(l,u,N)}return u.flags|=1,l=Ni(k,v),l.ref=u.ref,l.return=u,u.child=l}function IN(l,u,p,v,N){if(l!==null){var k=l.memoizedProps;if(Bf(k,v)&&l.ref===u.ref)if($r=!1,u.pendingProps=v=k,_y(l,N))(l.flags&131072)!==0&&($r=!0);else return u.lanes=l.lanes,ji(l,u,N)}return gy(l,u,p,v,N)}function MN(l,u,p,v){var N=v.children,k=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(k=k!==null?k.baseLanes|p:p,l!==null){for(v=u.child=l.child,N=0;v!==null;)N=N|v.lanes|v.childLanes,v=v.sibling;v=N&~k}else v=0,u.child=null;return FN(l,u,k,p,v)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&W0(u,k!==null?k.cachePool:null),k!==null?LT(u,k):W1(),BT(u);else return v=u.lanes=536870912,FN(l,u,k!==null?k.baseLanes|p:p,p,v)}else k!==null?(W0(u,k.cachePool),LT(u,k),Co(),u.memoizedState=null):(l!==null&&W0(u,null),W1(),Co());return Sn(l,u,N,p),u.child}function ed(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function FN(l,u,p,v,N){var k=U1();return k=k===null?null:{parent:qr._currentValue,pool:k},u.memoizedState={baseLanes:p,cachePool:k},l!==null&&W0(u,null),W1(),BT(u),l!==null&&ru(l,u,v,!0),u.childLanes=N,null}function lp(l,u){return u=up({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function PN(l,u,p){return Hl(u,l.child,null,p),l=lp(u,u.pendingProps),l.flags|=2,Ds(u),u.memoizedState=null,l}function UL(l,u,p){var v=u.pendingProps,N=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(Ft){if(v.mode==="hidden")return l=lp(u,v),u.lanes=536870912,ed(null,l);if(K1(u),(l=hr)?(l=XA(l,sa),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:bo!==null?{id:Za,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},p=bT(l),p.return=u,u.child=p,En=u,hr=null)):l=null,l===null)throw Eo(u);return u.lanes=536870912,null}return lp(u,v)}var k=l.memoizedState;if(k!==null){var V=k.dehydrated;if(K1(u),N)if(u.flags&256)u.flags&=-257,u=PN(l,u,p);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(n(558));else if($r||ru(l,u,p,!1),N=(p&l.childLanes)!==0,$r||N){if(v=sr,v!==null&&(V=Fn(v,p),V!==0&&V!==k.retryLane))throw k.retryLane=V,Il(l,V),ys(v,l,V),my;vp(),u=PN(l,u,p)}else l=k.treeContext,hr=ia(V.nextSibling),En=u,Ft=!0,wo=null,sa=!1,l!==null&&_T(u,l),u=lp(u,v),u.flags|=4096;return u}return l=Ni(l.child,{mode:v.mode,children:v.children}),l.ref=u.ref,u.child=l,l.return=u,l}function cp(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function gy(l,u,p,v,N){return Ll(u),p=Y1(l,u,p,v,void 0,N),v=J1(),l!==null&&!$r?(Z1(l,u,N),ji(l,u,N)):(Ft&&v&&O1(u),u.flags|=1,Sn(l,u,p,N),u.child)}function LN(l,u,p,v,N,k){return Ll(u),u.updateQueue=null,p=zT(u,v,p,N),UT(l),v=J1(),l!==null&&!$r?(Z1(l,u,k),ji(l,u,k)):(Ft&&v&&O1(u),u.flags|=1,Sn(l,u,p,k),u.child)}function BN(l,u,p,v,N){if(Ll(u),u.stateNode===null){var k=Zc,V=p.contextType;typeof V=="object"&&V!==null&&(k=_n(V)),k=new p(v,k),u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=hy,u.stateNode=k,k._reactInternals=u,k=u.stateNode,k.props=v,k.state=u.memoizedState,k.refs={},H1(u),V=p.contextType,k.context=typeof V=="object"&&V!==null?_n(V):Zc,k.state=u.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(dy(u,p,V,v),k.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(V=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),V!==k.state&&hy.enqueueReplaceState(k,k.state,null),Xf(u,v,k,N),Kf(),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(l===null){k=u.stateNode;var ce=u.memoizedProps,ve=Vl(p,ce);k.props=ve;var Ne=k.context,Be=p.contextType;V=Zc,typeof Be=="object"&&Be!==null&&(V=_n(Be));var He=p.getDerivedStateFromProps;Be=typeof He=="function"||typeof k.getSnapshotBeforeUpdate=="function",ce=u.pendingProps!==ce,Be||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ce||Ne!==V)&&TN(u,k,v,V),So=!1;var Oe=u.memoizedState;k.state=Oe,Xf(u,v,k,N),Kf(),Ne=u.memoizedState,ce||Oe!==Ne||So?(typeof He=="function"&&(dy(u,p,He,v),Ne=u.memoizedState),(ve=So||SN(u,p,ve,v,Oe,Ne,V))?(Be||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(u.flags|=4194308)):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Ne),k.props=v,k.state=Ne,k.context=V,v=ve):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{k=u.stateNode,q1(l,u),V=u.memoizedProps,Be=Vl(p,V),k.props=Be,He=u.pendingProps,Oe=k.context,Ne=p.contextType,ve=Zc,typeof Ne=="object"&&Ne!==null&&(ve=_n(Ne)),ce=p.getDerivedStateFromProps,(Ne=typeof ce=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(V!==He||Oe!==ve)&&TN(u,k,v,ve),So=!1,Oe=u.memoizedState,k.state=Oe,Xf(u,v,k,N),Kf();var Ie=u.memoizedState;V!==He||Oe!==Ie||So||l!==null&&l.dependencies!==null&&V0(l.dependencies)?(typeof ce=="function"&&(dy(u,p,ce,v),Ie=u.memoizedState),(Be=So||SN(u,p,Be,v,Oe,Ie,ve)||l!==null&&l.dependencies!==null&&V0(l.dependencies))?(Ne||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,Ie,ve),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,Ie,ve)),typeof k.componentDidUpdate=="function"&&(u.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof k.componentDidUpdate!="function"||V===l.memoizedProps&&Oe===l.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Oe===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ie),k.props=v,k.state=Ie,k.context=ve,v=Be):(typeof k.componentDidUpdate!="function"||V===l.memoizedProps&&Oe===l.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Oe===l.memoizedState||(u.flags|=1024),v=!1)}return k=v,cp(l,u),v=(u.flags&128)!==0,k||v?(k=u.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:k.render(),u.flags|=1,l!==null&&v?(u.child=Hl(u,l.child,null,N),u.child=Hl(u,null,p,N)):Sn(l,u,p,N),u.memoizedState=k.state,l=u.child):l=ji(l,u,N),l}function UN(l,u,p,v){return Fl(),u.flags|=256,Sn(l,u,p,v),u.child}var xy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yy(l){return{baseLanes:l,cachePool:kT()}}function vy(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=Ms),l}function zN(l,u,p){var v=u.pendingProps,N=!1,k=(u.flags&128)!==0,V;if((V=k)||(V=l!==null&&l.memoizedState===null?!1:(jr.current&2)!==0),V&&(N=!0,u.flags&=-129),V=(u.flags&32)!==0,u.flags&=-33,l===null){if(Ft){if(N?Ao(u):Co(),(l=hr)?(l=XA(l,sa),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:bo!==null?{id:Za,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},p=bT(l),p.return=u,u.child=p,En=u,hr=null)):l=null,l===null)throw Eo(u);return tv(l)?u.lanes=32:u.lanes=536870912,null}var ce=v.children;return v=v.fallback,N?(Co(),N=u.mode,ce=up({mode:"hidden",children:ce},N),v=Ml(v,N,p,null),ce.return=u,v.return=u,ce.sibling=v,u.child=ce,v=u.child,v.memoizedState=yy(p),v.childLanes=vy(l,V,p),u.memoizedState=xy,ed(null,v)):(Ao(u),by(u,ce))}var ve=l.memoizedState;if(ve!==null&&(ce=ve.dehydrated,ce!==null)){if(k)u.flags&256?(Ao(u),u.flags&=-257,u=wy(l,u,p)):u.memoizedState!==null?(Co(),u.child=l.child,u.flags|=128,u=null):(Co(),ce=v.fallback,N=u.mode,v=up({mode:"visible",children:v.children},N),ce=Ml(ce,N,p,null),ce.flags|=2,v.return=u,ce.return=u,v.sibling=ce,u.child=v,Hl(u,l.child,null,p),v=u.child,v.memoizedState=yy(p),v.childLanes=vy(l,V,p),u.memoizedState=xy,u=ed(null,v));else if(Ao(u),tv(ce)){if(V=ce.nextSibling&&ce.nextSibling.dataset,V)var Ne=V.dgst;V=Ne,v=Error(n(419)),v.stack="",v.digest=V,Hf({value:v,source:null,stack:null}),u=wy(l,u,p)}else if($r||ru(l,u,p,!1),V=(p&l.childLanes)!==0,$r||V){if(V=sr,V!==null&&(v=Fn(V,p),v!==0&&v!==ve.retryLane))throw ve.retryLane=v,Il(l,v),ys(V,l,v),my;ev(ce)||vp(),u=wy(l,u,p)}else ev(ce)?(u.flags|=192,u.child=l.child,u=null):(l=ve.treeContext,hr=ia(ce.nextSibling),En=u,Ft=!0,wo=null,sa=!1,l!==null&&_T(u,l),u=by(u,v.children),u.flags|=4096);return u}return N?(Co(),ce=v.fallback,N=u.mode,ve=l.child,Ne=ve.sibling,v=Ni(ve,{mode:"hidden",children:v.children}),v.subtreeFlags=ve.subtreeFlags&65011712,Ne!==null?ce=Ni(Ne,ce):(ce=Ml(ce,N,p,null),ce.flags|=2),ce.return=u,v.return=u,v.sibling=ce,u.child=v,ed(null,v),v=u.child,ce=l.child.memoizedState,ce===null?ce=yy(p):(N=ce.cachePool,N!==null?(ve=qr._currentValue,N=N.parent!==ve?{parent:ve,pool:ve}:N):N=kT(),ce={baseLanes:ce.baseLanes|p,cachePool:N}),v.memoizedState=ce,v.childLanes=vy(l,V,p),u.memoizedState=xy,ed(l.child,v)):(Ao(u),p=l.child,l=p.sibling,p=Ni(p,{mode:"visible",children:v.children}),p.return=u,p.sibling=null,l!==null&&(V=u.deletions,V===null?(u.deletions=[l],u.flags|=16):V.push(l)),u.child=p,u.memoizedState=null,p)}function by(l,u){return u=up({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function up(l,u){return l=Os(22,l,null,u),l.lanes=0,l}function wy(l,u,p){return Hl(u,l.child,null,p),l=by(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function HN(l,u,p){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),F1(l.return,u,p)}function Ey(l,u,p,v,N,k){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:N,treeForkCount:k}:(V.isBackwards=u,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=p,V.tailMode=N,V.treeForkCount=k)}function qN(l,u,p){var v=u.pendingProps,N=v.revealOrder,k=v.tail;v=v.children;var V=jr.current,ce=(V&2)!==0;if(ce?(V=V&1|2,u.flags|=128):V&=1,W(jr,V),Sn(l,u,v,p),v=Ft?zf:0,!ce&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&HN(l,p,u);else if(l.tag===19)HN(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(N){case"forwards":for(p=u.child,N=null;p!==null;)l=p.alternate,l!==null&&Z0(l)===null&&(N=p),p=p.sibling;p=N,p===null?(N=u.child,u.child=null):(N=p.sibling,p.sibling=null),Ey(u,!1,N,p,k,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,N=u.child,u.child=null;N!==null;){if(l=N.alternate,l!==null&&Z0(l)===null){u.child=N;break}l=N.sibling,N.sibling=p,p=N,N=l}Ey(u,!0,p,null,k,v);break;case"together":Ey(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function ji(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),Oo|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(ru(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=Ni(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=Ni(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function _y(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&V0(l)))}function zL(l,u,p){switch(u.tag){case 3:L(u,u.stateNode.containerInfo),_o(u,qr,l.memoizedState.cache),Fl();break;case 27:case 5:ee(u);break;case 4:L(u,u.stateNode.containerInfo);break;case 10:_o(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,K1(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(Ao(u),u.flags|=128,null):(p&u.child.childLanes)!==0?zN(l,u,p):(Ao(u),l=ji(l,u,p),l!==null?l.sibling:null);Ao(u);break;case 19:var N=(l.flags&128)!==0;if(v=(p&u.childLanes)!==0,v||(ru(l,u,p,!1),v=(p&u.childLanes)!==0),N){if(v)return qN(l,u,p);u.flags|=128}if(N=u.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),W(jr,jr.current),v)break;return null;case 22:return u.lanes=0,MN(l,u,p,u.pendingProps);case 24:_o(u,qr,l.memoizedState.cache)}return ji(l,u,p)}function VN(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)$r=!0;else{if(!_y(l,p)&&(u.flags&128)===0)return $r=!1,zL(l,u,p);$r=(l.flags&131072)!==0}else $r=!1,Ft&&(u.flags&1048576)!==0&&ET(u,zf,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(l=Ul(u.elementType),u.type=l,typeof l=="function")C1(l)?(v=Vl(l,v),u.tag=1,u=BN(null,u,l,v,p)):(u.tag=0,u=gy(null,u,l,v,p));else{if(l!=null){var N=l.$$typeof;if(N===S){u.tag=11,u=jN(null,u,l,v,p);break e}else if(N===j){u.tag=14,u=DN(null,u,l,v,p);break e}}throw u=M(l)||l,Error(n(306,u,""))}}return u;case 0:return gy(l,u,u.type,u.pendingProps,p);case 1:return v=u.type,N=Vl(v,u.pendingProps),BN(l,u,v,N,p);case 3:e:{if(L(u,u.stateNode.containerInfo),l===null)throw Error(n(387));v=u.pendingProps;var k=u.memoizedState;N=k.element,q1(l,u),Xf(u,v,null,p);var V=u.memoizedState;if(v=V.cache,_o(u,qr,v),v!==k.cache&&P1(u,[qr],p,!0),Kf(),v=V.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:V.cache},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){u=UN(l,u,v,p);break e}else if(v!==N){N=ta(Error(n(424)),u),Hf(N),u=UN(l,u,v,p);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(hr=ia(l.firstChild),En=u,Ft=!0,wo=null,sa=!0,p=MT(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Fl(),v===N){u=ji(l,u,p);break e}Sn(l,u,v,p)}u=u.child}return u;case 26:return cp(l,u),l===null?(p=tC(u.type,null,u.pendingProps,null))?u.memoizedState=p:Ft||(p=u.type,l=u.pendingProps,v=Np(Y.current).createElement(p),v[de]=u,v[pe]=l,Tn(v,p,l),at(v),u.stateNode=v):u.memoizedState=tC(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return ee(u),l===null&&Ft&&(v=u.stateNode=ZA(u.type,u.pendingProps,Y.current),En=u,sa=!0,N=hr,Fo(u.type)?(rv=N,hr=ia(v.firstChild)):hr=N),Sn(l,u,u.pendingProps.children,p),cp(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Ft&&((N=v=hr)&&(v=xB(v,u.type,u.pendingProps,sa),v!==null?(u.stateNode=v,En=u,hr=ia(v.firstChild),sa=!1,N=!0):N=!1),N||Eo(u)),ee(u),N=u.type,k=u.pendingProps,V=l!==null?l.memoizedProps:null,v=k.children,Jy(N,k)?v=null:V!==null&&Jy(N,V)&&(u.flags|=32),u.memoizedState!==null&&(N=Y1(l,u,jL,null,null,p),md._currentValue=N),cp(l,u),Sn(l,u,v,p),u.child;case 6:return l===null&&Ft&&((l=p=hr)&&(p=yB(p,u.pendingProps,sa),p!==null?(u.stateNode=p,En=u,hr=null,l=!0):l=!1),l||Eo(u)),null;case 13:return zN(l,u,p);case 4:return L(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Hl(u,null,v,p):Sn(l,u,v,p),u.child;case 11:return jN(l,u,u.type,u.pendingProps,p);case 7:return Sn(l,u,u.pendingProps,p),u.child;case 8:return Sn(l,u,u.pendingProps.children,p),u.child;case 12:return Sn(l,u,u.pendingProps.children,p),u.child;case 10:return v=u.pendingProps,_o(u,u.type,v.value),Sn(l,u,v.children,p),u.child;case 9:return N=u.type._context,v=u.pendingProps.children,Ll(u),N=_n(N),v=v(N),u.flags|=1,Sn(l,u,v,p),u.child;case 14:return DN(l,u,u.type,u.pendingProps,p);case 15:return IN(l,u,u.type,u.pendingProps,p);case 19:return qN(l,u,p);case 31:return UL(l,u,p);case 22:return MN(l,u,p,u.pendingProps);case 24:return Ll(u),v=_n(qr),l===null?(N=U1(),N===null&&(N=sr,k=L1(),N.pooledCache=k,k.refCount++,k!==null&&(N.pooledCacheLanes|=p),N=k),u.memoizedState={parent:v,cache:N},H1(u),_o(u,qr,N)):((l.lanes&p)!==0&&(q1(l,u),Xf(u,null,null,p),Kf()),N=l.memoizedState,k=u.memoizedState,N.parent!==v?(N={parent:v,cache:v},u.memoizedState=N,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=N),_o(u,qr,v)):(v=k.cache,_o(u,qr,v),v!==N.cache&&P1(u,[qr],p,!0))),Sn(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Di(l){l.flags|=4}function Sy(l,u,p,v,N){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(N&335544128)===N)if(l.stateNode.complete)l.flags|=8192;else if(xA())l.flags|=8192;else throw zl=K0,z1}else l.flags&=-16777217}function $N(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!iC(u))if(xA())l.flags|=8192;else throw zl=K0,z1}function fp(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?un():536870912,l.lanes|=u,pu|=u)}function td(l,u){if(!Ft)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function pr(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,v=0;if(u)for(var N=l.child;N!==null;)p|=N.lanes|N.childLanes,v|=N.subtreeFlags&65011712,v|=N.flags&65011712,N.return=l,N=N.sibling;else for(N=l.child;N!==null;)p|=N.lanes|N.childLanes,v|=N.subtreeFlags,v|=N.flags,N.return=l,N=N.sibling;return l.subtreeFlags|=v,l.childLanes=p,u}function HL(l,u,p){var v=u.pendingProps;switch(j1(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(u),null;case 1:return pr(u),null;case 3:return p=u.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),ki(qr),oe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(tu(u)?Di(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,I1())),pr(u),null;case 26:var N=u.type,k=u.memoizedState;return l===null?(Di(u),k!==null?(pr(u),$N(u,k)):(pr(u),Sy(u,N,null,v,p))):k?k!==l.memoizedState?(Di(u),pr(u),$N(u,k)):(pr(u),u.flags&=-16777217):(l=l.memoizedProps,l!==v&&Di(u),pr(u),Sy(u,N,l,v,p)),null;case 27:if(ne(u),p=Y.current,N=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Di(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return pr(u),null}l=K.current,tu(u)?ST(u):(l=ZA(N,v,p),u.stateNode=l,Di(u))}return pr(u),null;case 5:if(ne(u),N=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Di(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return pr(u),null}if(k=K.current,tu(u))ST(u);else{var V=Np(Y.current);switch(k){case 1:k=V.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:k=V.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":k=V.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":k=V.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":k=V.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?k.multiple=!0:v.size&&(k.size=v.size);break;default:k=typeof v.is=="string"?V.createElement(N,{is:v.is}):V.createElement(N)}}k[de]=u,k[pe]=v;e:for(V=u.child;V!==null;){if(V.tag===5||V.tag===6)k.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===u)break e;for(;V.sibling===null;){if(V.return===null||V.return===u)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}u.stateNode=k;e:switch(Tn(k,N,v),N){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Di(u)}}return pr(u),Sy(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,p),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==v&&Di(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(n(166));if(l=Y.current,tu(u)){if(l=u.stateNode,p=u.memoizedProps,v=null,N=En,N!==null)switch(N.tag){case 27:case 5:v=N.memoizedProps}l[de]=u,l=!!(l.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||zA(l.nodeValue,p)),l||Eo(u,!0)}else l=Np(l).createTextNode(v),l[de]=u,u.stateNode=l}return pr(u),null;case 31:if(p=u.memoizedState,l===null||l.memoizedState!==null){if(v=tu(u),p!==null){if(l===null){if(!v)throw Error(n(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[de]=u}else Fl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;pr(u),l=!1}else p=I1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return u.flags&256?(Ds(u),u):(Ds(u),null);if((u.flags&128)!==0)throw Error(n(558))}return pr(u),null;case 13:if(v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(N=tu(u),v!==null&&v.dehydrated!==null){if(l===null){if(!N)throw Error(n(318));if(N=u.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[de]=u}else Fl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;pr(u),N=!1}else N=I1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=N),N=!0;if(!N)return u.flags&256?(Ds(u),u):(Ds(u),null)}return Ds(u),(u.flags&128)!==0?(u.lanes=p,u):(p=v!==null,l=l!==null&&l.memoizedState!==null,p&&(v=u.child,N=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(N=v.alternate.memoizedState.cachePool.pool),k=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==N&&(v.flags|=2048)),p!==l&&p&&(u.child.flags|=8192),fp(u,u.updateQueue),pr(u),null);case 4:return oe(),l===null&&Wy(u.stateNode.containerInfo),pr(u),null;case 10:return ki(u.type),pr(u),null;case 19:if(O(jr),v=u.memoizedState,v===null)return pr(u),null;if(N=(u.flags&128)!==0,k=v.rendering,k===null)if(N)td(v,!1);else{if(Sr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(k=Z0(l),k!==null){for(u.flags|=128,td(v,!1),l=k.updateQueue,u.updateQueue=l,fp(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)vT(p,l),p=p.sibling;return W(jr,jr.current&1|2),Ft&&Ai(u,v.treeForkCount),u.child}l=l.sibling}v.tail!==null&&De()>gp&&(u.flags|=128,N=!0,td(v,!1),u.lanes=4194304)}else{if(!N)if(l=Z0(k),l!==null){if(u.flags|=128,N=!0,l=l.updateQueue,u.updateQueue=l,fp(u,l),td(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!Ft)return pr(u),null}else 2*De()-v.renderingStartTime>gp&&p!==536870912&&(u.flags|=128,N=!0,td(v,!1),u.lanes=4194304);v.isBackwards?(k.sibling=u.child,u.child=k):(l=v.last,l!==null?l.sibling=k:u.child=k,v.last=k)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=De(),l.sibling=null,p=jr.current,W(jr,N?p&1|2:p&1),Ft&&Ai(u,v.treeForkCount),l):(pr(u),null);case 22:case 23:return Ds(u),G1(),v=u.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(p&536870912)!==0&&(u.flags&128)===0&&(pr(u),u.subtreeFlags&6&&(u.flags|=8192)):pr(u),p=u.updateQueue,p!==null&&fp(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048),l!==null&&O(Bl),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),ki(qr),pr(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function qL(l,u){switch(j1(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ki(qr),oe(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return ne(u),null;case 31:if(u.memoizedState!==null){if(Ds(u),u.alternate===null)throw Error(n(340));Fl()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(Ds(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Fl()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return O(jr),null;case 4:return oe(),null;case 10:return ki(u.type),null;case 22:case 23:return Ds(u),G1(),l!==null&&O(Bl),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return ki(qr),null;case 25:return null;default:return null}}function WN(l,u){switch(j1(u),u.tag){case 3:ki(qr),oe();break;case 26:case 27:case 5:ne(u);break;case 4:oe();break;case 31:u.memoizedState!==null&&Ds(u);break;case 13:Ds(u);break;case 19:O(jr);break;case 10:ki(u.type);break;case 22:case 23:Ds(u),G1(),l!==null&&O(Bl);break;case 24:ki(qr)}}function rd(l,u){try{var p=u.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var N=v.next;p=N;do{if((p.tag&l)===l){v=void 0;var k=p.create,V=p.inst;v=k(),V.destroy=v}p=p.next}while(p!==N)}}catch(ce){Kt(u,u.return,ce)}}function ko(l,u,p){try{var v=u.updateQueue,N=v!==null?v.lastEffect:null;if(N!==null){var k=N.next;v=k;do{if((v.tag&l)===l){var V=v.inst,ce=V.destroy;if(ce!==void 0){V.destroy=void 0,N=u;var ve=p,Ne=ce;try{Ne()}catch(Be){Kt(N,ve,Be)}}}v=v.next}while(v!==k)}}catch(Be){Kt(u,u.return,Be)}}function GN(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{PT(u,p)}catch(v){Kt(l,l.return,v)}}}function KN(l,u,p){p.props=Vl(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(v){Kt(l,u,v)}}function nd(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof p=="function"?l.refCleanup=p(v):p.current=v}}catch(N){Kt(l,u,N)}}function ei(l,u){var p=l.ref,v=l.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(N){Kt(l,u,N)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(N){Kt(l,u,N)}else p.current=null}function XN(l){var u=l.type,p=l.memoizedProps,v=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(N){Kt(l,l.return,N)}}function Ty(l,u,p){try{var v=l.stateNode;fB(v,l.type,p,u),v[pe]=u}catch(N){Kt(l,l.return,N)}}function YN(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Fo(l.type)||l.tag===4}function Ny(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||YN(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Fo(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Ay(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Si));else if(v!==4&&(v===27&&Fo(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(Ay(l,u,p),l=l.sibling;l!==null;)Ay(l,u,p),l=l.sibling}function dp(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(v!==4&&(v===27&&Fo(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(dp(l,u,p),l=l.sibling;l!==null;)dp(l,u,p),l=l.sibling}function JN(l){var u=l.stateNode,p=l.memoizedProps;try{for(var v=l.type,N=u.attributes;N.length;)u.removeAttributeNode(N[0]);Tn(u,v,p),u[de]=l,u[pe]=p}catch(k){Kt(l,l.return,k)}}var Ii=!1,Wr=!1,Cy=!1,ZN=typeof WeakSet=="function"?WeakSet:Set,dn=null;function VL(l,u){if(l=l.containerInfo,Xy=Dp,l=uT(l),w1(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var N=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{p.nodeType,k.nodeType}catch{p=null;break e}var V=0,ce=-1,ve=-1,Ne=0,Be=0,He=l,Oe=null;t:for(;;){for(var Ie;He!==p||N!==0&&He.nodeType!==3||(ce=V+N),He!==k||v!==0&&He.nodeType!==3||(ve=V+v),He.nodeType===3&&(V+=He.nodeValue.length),(Ie=He.firstChild)!==null;)Oe=He,He=Ie;for(;;){if(He===l)break t;if(Oe===p&&++Ne===N&&(ce=V),Oe===k&&++Be===v&&(ve=V),(Ie=He.nextSibling)!==null)break;He=Oe,Oe=He.parentNode}He=Ie}p=ce===-1||ve===-1?null:{start:ce,end:ve}}else p=null}p=p||{start:0,end:0}}else p=null;for(Yy={focusedElem:l,selectionRange:p},Dp=!1,dn=u;dn!==null;)if(u=dn,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,dn=l;else for(;dn!==null;){switch(u=dn,k=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)N=l[p],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&k!==null){l=void 0,p=u,N=k.memoizedProps,k=k.memoizedState,v=p.stateNode;try{var nt=Vl(p.type,N);l=v.getSnapshotBeforeUpdate(nt,k),v.__reactInternalSnapshotBeforeUpdate=l}catch(dt){Kt(p,p.return,dt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)Qy(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Qy(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,dn=l;break}dn=u.return}}function QN(l,u,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Fi(l,p),v&4&&rd(5,p);break;case 1:if(Fi(l,p),v&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(V){Kt(p,p.return,V)}else{var N=Vl(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(N,u,l.__reactInternalSnapshotBeforeUpdate)}catch(V){Kt(p,p.return,V)}}v&64&&GN(p),v&512&&nd(p,p.return);break;case 3:if(Fi(l,p),v&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{PT(l,u)}catch(V){Kt(p,p.return,V)}}break;case 27:u===null&&v&4&&JN(p);case 26:case 5:Fi(l,p),u===null&&v&4&&XN(p),v&512&&nd(p,p.return);break;case 12:Fi(l,p);break;case 31:Fi(l,p),v&4&&rA(l,p);break;case 13:Fi(l,p),v&4&&nA(l,p),v&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=QL.bind(null,p),vB(l,p))));break;case 22:if(v=p.memoizedState!==null||Ii,!v){u=u!==null&&u.memoizedState!==null||Wr,N=Ii;var k=Wr;Ii=v,(Wr=u)&&!k?Pi(l,p,(p.subtreeFlags&8772)!==0):Fi(l,p),Ii=N,Wr=k}break;case 30:break;default:Fi(l,p)}}function eA(l){var u=l.alternate;u!==null&&(l.alternate=null,eA(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Ge(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var xr=null,ps=!1;function Mi(l,u,p){for(p=p.child;p!==null;)tA(l,u,p),p=p.sibling}function tA(l,u,p){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ht,p)}catch{}switch(p.tag){case 26:Wr||ei(p,u),Mi(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Wr||ei(p,u);var v=xr,N=ps;Fo(p.type)&&(xr=p.stateNode,ps=!1),Mi(l,u,p),dd(p.stateNode),xr=v,ps=N;break;case 5:Wr||ei(p,u);case 6:if(v=xr,N=ps,xr=null,Mi(l,u,p),xr=v,ps=N,xr!==null)if(ps)try{(xr.nodeType===9?xr.body:xr.nodeName==="HTML"?xr.ownerDocument.body:xr).removeChild(p.stateNode)}catch(k){Kt(p,u,k)}else try{xr.removeChild(p.stateNode)}catch(k){Kt(p,u,k)}break;case 18:xr!==null&&(ps?(l=xr,GA(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Eu(l)):GA(xr,p.stateNode));break;case 4:v=xr,N=ps,xr=p.stateNode.containerInfo,ps=!0,Mi(l,u,p),xr=v,ps=N;break;case 0:case 11:case 14:case 15:ko(2,p,u),Wr||ko(4,p,u),Mi(l,u,p);break;case 1:Wr||(ei(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"&&KN(p,u,v)),Mi(l,u,p);break;case 21:Mi(l,u,p);break;case 22:Wr=(v=Wr)||p.memoizedState!==null,Mi(l,u,p),Wr=v;break;default:Mi(l,u,p)}}function rA(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Eu(l)}catch(p){Kt(u,u.return,p)}}}function nA(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Eu(l)}catch(p){Kt(u,u.return,p)}}function $L(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new ZN),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new ZN),u;default:throw Error(n(435,l.tag))}}function hp(l,u){var p=$L(l);u.forEach(function(v){if(!p.has(v)){p.add(v);var N=eB.bind(null,l,v);v.then(N,N)}})}function ms(l,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var N=p[v],k=l,V=u,ce=V;e:for(;ce!==null;){switch(ce.tag){case 27:if(Fo(ce.type)){xr=ce.stateNode,ps=!1;break e}break;case 5:xr=ce.stateNode,ps=!1;break e;case 3:case 4:xr=ce.stateNode.containerInfo,ps=!0;break e}ce=ce.return}if(xr===null)throw Error(n(160));tA(k,V,N),xr=null,ps=!1,k=N.alternate,k!==null&&(k.return=null),N.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)sA(u,l),u=u.sibling}var Oa=null;function sA(l,u){var p=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ms(u,l),gs(l),v&4&&(ko(3,l,l.return),rd(3,l),ko(5,l,l.return));break;case 1:ms(u,l),gs(l),v&512&&(Wr||p===null||ei(p,p.return)),v&64&&Ii&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var N=Oa;if(ms(u,l),gs(l),v&512&&(Wr||p===null||ei(p,p.return)),v&4){var k=p!==null?p.memoizedState:null;if(v=l.memoizedState,p===null)if(v===null)if(l.stateNode===null){e:{v=l.type,p=l.memoizedProps,N=N.ownerDocument||N;t:switch(v){case"title":k=N.getElementsByTagName("title")[0],(!k||k[je]||k[de]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=N.createElement(v),N.head.insertBefore(k,N.querySelector("head > title"))),Tn(k,v,p),k[de]=l,at(k),v=k;break e;case"link":var V=sC("link","href",N).get(v+(p.href||""));if(V){for(var ce=0;ce<V.length;ce++)if(k=V[ce],k.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&k.getAttribute("rel")===(p.rel==null?null:p.rel)&&k.getAttribute("title")===(p.title==null?null:p.title)&&k.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(ce,1);break t}}k=N.createElement(v),Tn(k,v,p),N.head.appendChild(k);break;case"meta":if(V=sC("meta","content",N).get(v+(p.content||""))){for(ce=0;ce<V.length;ce++)if(k=V[ce],k.getAttribute("content")===(p.content==null?null:""+p.content)&&k.getAttribute("name")===(p.name==null?null:p.name)&&k.getAttribute("property")===(p.property==null?null:p.property)&&k.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&k.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(ce,1);break t}}k=N.createElement(v),Tn(k,v,p),N.head.appendChild(k);break;default:throw Error(n(468,v))}k[de]=l,at(k),v=k}l.stateNode=v}else aC(N,l.type,l.stateNode);else l.stateNode=nC(N,v,l.memoizedProps);else k!==v?(k===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):k.count--,v===null?aC(N,l.type,l.stateNode):nC(N,v,l.memoizedProps)):v===null&&l.stateNode!==null&&Ty(l,l.memoizedProps,p.memoizedProps)}break;case 27:ms(u,l),gs(l),v&512&&(Wr||p===null||ei(p,p.return)),p!==null&&v&4&&Ty(l,l.memoizedProps,p.memoizedProps);break;case 5:if(ms(u,l),gs(l),v&512&&(Wr||p===null||ei(p,p.return)),l.flags&32){N=l.stateNode;try{$c(N,"")}catch(nt){Kt(l,l.return,nt)}}v&4&&l.stateNode!=null&&(N=l.memoizedProps,Ty(l,N,p!==null?p.memoizedProps:N)),v&1024&&(Cy=!0);break;case 6:if(ms(u,l),gs(l),v&4){if(l.stateNode===null)throw Error(n(162));v=l.memoizedProps,p=l.stateNode;try{p.nodeValue=v}catch(nt){Kt(l,l.return,nt)}}break;case 3:if(kp=null,N=Oa,Oa=Ap(u.containerInfo),ms(u,l),Oa=N,gs(l),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Eu(u.containerInfo)}catch(nt){Kt(l,l.return,nt)}Cy&&(Cy=!1,aA(l));break;case 4:v=Oa,Oa=Ap(l.stateNode.containerInfo),ms(u,l),gs(l),Oa=v;break;case 12:ms(u,l),gs(l);break;case 31:ms(u,l),gs(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,hp(l,v)));break;case 13:ms(u,l),gs(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(mp=De()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,hp(l,v)));break;case 22:N=l.memoizedState!==null;var ve=p!==null&&p.memoizedState!==null,Ne=Ii,Be=Wr;if(Ii=Ne||N,Wr=Be||ve,ms(u,l),Wr=Be,Ii=Ne,gs(l),v&8192)e:for(u=l.stateNode,u._visibility=N?u._visibility&-2:u._visibility|1,N&&(p===null||ve||Ii||Wr||$l(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){ve=p=u;try{if(k=ve.stateNode,N)V=k.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ce=ve.stateNode;var He=ve.memoizedProps.style,Oe=He!=null&&He.hasOwnProperty("display")?He.display:null;ce.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(nt){Kt(ve,ve.return,nt)}}}else if(u.tag===6){if(p===null){ve=u;try{ve.stateNode.nodeValue=N?"":ve.memoizedProps}catch(nt){Kt(ve,ve.return,nt)}}}else if(u.tag===18){if(p===null){ve=u;try{var Ie=ve.stateNode;N?KA(Ie,!0):KA(ve.stateNode,!1)}catch(nt){Kt(ve,ve.return,nt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=l.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,hp(l,p))));break;case 19:ms(u,l),gs(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,hp(l,v)));break;case 30:break;case 21:break;default:ms(u,l),gs(l)}}function gs(l){var u=l.flags;if(u&2){try{for(var p,v=l.return;v!==null;){if(YN(v)){p=v;break}v=v.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var N=p.stateNode,k=Ny(l);dp(l,k,N);break;case 5:var V=p.stateNode;p.flags&32&&($c(V,""),p.flags&=-33);var ce=Ny(l);dp(l,ce,V);break;case 3:case 4:var ve=p.stateNode.containerInfo,Ne=Ny(l);Ay(l,Ne,ve);break;default:throw Error(n(161))}}catch(Be){Kt(l,l.return,Be)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function aA(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;aA(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Fi(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)QN(l,u.alternate,u),u=u.sibling}function $l(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:ko(4,u,u.return),$l(u);break;case 1:ei(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&KN(u,u.return,p),$l(u);break;case 27:dd(u.stateNode);case 26:case 5:ei(u,u.return),$l(u);break;case 22:u.memoizedState===null&&$l(u);break;case 30:$l(u);break;default:$l(u)}l=l.sibling}}function Pi(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,N=l,k=u,V=k.flags;switch(k.tag){case 0:case 11:case 15:Pi(N,k,p),rd(4,k);break;case 1:if(Pi(N,k,p),v=k,N=v.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Ne){Kt(v,v.return,Ne)}if(v=k,N=v.updateQueue,N!==null){var ce=v.stateNode;try{var ve=N.shared.hiddenCallbacks;if(ve!==null)for(N.shared.hiddenCallbacks=null,N=0;N<ve.length;N++)FT(ve[N],ce)}catch(Ne){Kt(v,v.return,Ne)}}p&&V&64&&GN(k),nd(k,k.return);break;case 27:JN(k);case 26:case 5:Pi(N,k,p),p&&v===null&&V&4&&XN(k),nd(k,k.return);break;case 12:Pi(N,k,p);break;case 31:Pi(N,k,p),p&&V&4&&rA(N,k);break;case 13:Pi(N,k,p),p&&V&4&&nA(N,k);break;case 22:k.memoizedState===null&&Pi(N,k,p),nd(k,k.return);break;case 30:break;default:Pi(N,k,p)}u=u.sibling}}function ky(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&qf(p))}function Ry(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&qf(l))}function ja(l,u,p,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)iA(l,u,p,v),u=u.sibling}function iA(l,u,p,v){var N=u.flags;switch(u.tag){case 0:case 11:case 15:ja(l,u,p,v),N&2048&&rd(9,u);break;case 1:ja(l,u,p,v);break;case 3:ja(l,u,p,v),N&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&qf(l)));break;case 12:if(N&2048){ja(l,u,p,v),l=u.stateNode;try{var k=u.memoizedProps,V=k.id,ce=k.onPostCommit;typeof ce=="function"&&ce(V,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ve){Kt(u,u.return,ve)}}else ja(l,u,p,v);break;case 31:ja(l,u,p,v);break;case 13:ja(l,u,p,v);break;case 23:break;case 22:k=u.stateNode,V=u.alternate,u.memoizedState!==null?k._visibility&2?ja(l,u,p,v):sd(l,u):k._visibility&2?ja(l,u,p,v):(k._visibility|=2,fu(l,u,p,v,(u.subtreeFlags&10256)!==0||!1)),N&2048&&ky(V,u);break;case 24:ja(l,u,p,v),N&2048&&Ry(u.alternate,u);break;default:ja(l,u,p,v)}}function fu(l,u,p,v,N){for(N=N&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var k=l,V=u,ce=p,ve=v,Ne=V.flags;switch(V.tag){case 0:case 11:case 15:fu(k,V,ce,ve,N),rd(8,V);break;case 23:break;case 22:var Be=V.stateNode;V.memoizedState!==null?Be._visibility&2?fu(k,V,ce,ve,N):sd(k,V):(Be._visibility|=2,fu(k,V,ce,ve,N)),N&&Ne&2048&&ky(V.alternate,V);break;case 24:fu(k,V,ce,ve,N),N&&Ne&2048&&Ry(V.alternate,V);break;default:fu(k,V,ce,ve,N)}u=u.sibling}}function sd(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,v=u,N=v.flags;switch(v.tag){case 22:sd(p,v),N&2048&&ky(v.alternate,v);break;case 24:sd(p,v),N&2048&&Ry(v.alternate,v);break;default:sd(p,v)}u=u.sibling}}var ad=8192;function du(l,u,p){if(l.subtreeFlags&ad)for(l=l.child;l!==null;)oA(l,u,p),l=l.sibling}function oA(l,u,p){switch(l.tag){case 26:du(l,u,p),l.flags&ad&&l.memoizedState!==null&&OB(p,Oa,l.memoizedState,l.memoizedProps);break;case 5:du(l,u,p);break;case 3:case 4:var v=Oa;Oa=Ap(l.stateNode.containerInfo),du(l,u,p),Oa=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=ad,ad=16777216,du(l,u,p),ad=v):du(l,u,p));break;default:du(l,u,p)}}function lA(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function id(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];dn=v,uA(v,l)}lA(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)cA(l),l=l.sibling}function cA(l){switch(l.tag){case 0:case 11:case 15:id(l),l.flags&2048&&ko(9,l,l.return);break;case 3:id(l);break;case 12:id(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,pp(l)):id(l);break;default:id(l)}}function pp(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];dn=v,uA(v,l)}lA(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:ko(8,u,u.return),pp(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,pp(u));break;default:pp(u)}l=l.sibling}}function uA(l,u){for(;dn!==null;){var p=dn;switch(p.tag){case 0:case 11:case 15:ko(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:qf(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,dn=v;else e:for(p=l;dn!==null;){v=dn;var N=v.sibling,k=v.return;if(eA(v),v===p){dn=null;break e}if(N!==null){N.return=k,dn=N;break e}dn=k}}}var WL={getCacheForType:function(l){var u=_n(qr),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p},cacheSignal:function(){return _n(qr).controller.signal}},GL=typeof WeakMap=="function"?WeakMap:Map,Vt=0,sr=null,jt=null,It=0,Gt=0,Is=null,Ro=!1,hu=!1,Oy=!1,Li=0,Sr=0,Oo=0,Wl=0,jy=0,Ms=0,pu=0,od=null,xs=null,Dy=!1,mp=0,fA=0,gp=1/0,xp=null,jo=null,nn=0,Do=null,mu=null,Bi=0,Iy=0,My=null,dA=null,ld=0,Fy=null;function Fs(){return(Vt&2)!==0&&It!==0?It&-It:J.T!==null?Hy():le()}function hA(){if(Ms===0)if((It&536870912)===0||Ft){var l=ka;ka<<=1,(ka&3932160)===0&&(ka=262144),Ms=l}else Ms=536870912;return l=js.current,l!==null&&(l.flags|=32),Ms}function ys(l,u,p){(l===sr&&(Gt===2||Gt===9)||l.cancelPendingCommit!==null)&&(gu(l,0),Io(l,It,Ms,!1)),dr(l,p),((Vt&2)===0||l!==sr)&&(l===sr&&((Vt&2)===0&&(Wl|=p),Sr===4&&Io(l,It,Ms,!1)),ti(l))}function pA(l,u,p){if((Vt&6)!==0)throw Error(n(327));var v=!p&&(u&127)===0&&(u&l.expiredLanes)===0||ir(l,u),N=v?YL(l,u):Ly(l,u,!0),k=v;do{if(N===0){hu&&!v&&Io(l,u,0,!1);break}else{if(p=l.current.alternate,k&&!KL(p)){N=Ly(l,u,!1),k=!1;continue}if(N===2){if(k=u,l.errorRecoveryDisabledLanes&k)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){u=V;e:{var ce=l;N=od;var ve=ce.current.memoizedState.isDehydrated;if(ve&&(gu(ce,V).flags|=256),V=Ly(ce,V,!1),V!==2){if(Oy&&!ve){ce.errorRecoveryDisabledLanes|=k,Wl|=k,N=4;break e}k=xs,xs=N,k!==null&&(xs===null?xs=k:xs.push.apply(xs,k))}N=V}if(k=!1,N!==2)continue}}if(N===1){gu(l,0),Io(l,u,0,!0);break}e:{switch(v=l,k=N,k){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Io(v,u,Ms,!Ro);break e;case 2:xs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(N=mp+300-De(),10<N)){if(Io(v,u,Ms,!Ro),pt(v,0,!0)!==0)break e;Bi=u,v.timeoutHandle=$A(mA.bind(null,v,p,xs,xp,Dy,u,Ms,Wl,pu,Ro,k,"Throttled",-0,0),N);break e}mA(v,p,xs,xp,Dy,u,Ms,Wl,pu,Ro,k,null,-0,0)}}break}while(!0);ti(l)}function mA(l,u,p,v,N,k,V,ce,ve,Ne,Be,He,Oe,Ie){if(l.timeoutHandle=-1,He=u.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},oA(u,k,He);var nt=(k&62914560)===k?mp-De():(k&4194048)===k?fA-De():0;if(nt=jB(He,nt),nt!==null){Bi=k,l.cancelPendingCommit=nt(_A.bind(null,l,u,k,p,v,N,V,ce,ve,Be,He,null,Oe,Ie)),Io(l,k,V,!Ne);return}}_A(l,u,k,p,v,N,V,ce,ve)}function KL(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var N=p[v],k=N.getSnapshot;N=N.value;try{if(!Rs(k(),N))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Io(l,u,p,v){u&=~jy,u&=~Wl,l.suspendedLanes|=u,l.pingedLanes&=~u,v&&(l.warmLanes|=u),v=l.expirationTimes;for(var N=u;0<N;){var k=31-Zt(N),V=1<<k;v[k]=-1,N&=~V}p!==0&&Ei(l,p,u)}function yp(){return(Vt&6)===0?(cd(0),!1):!0}function Py(){if(jt!==null){if(Gt===0)var l=jt.return;else l=jt,Ci=Pl=null,Q1(l),iu=null,$f=0,l=jt;for(;l!==null;)WN(l.alternate,l),l=l.return;jt=null}}function gu(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,pB(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),Bi=0,Py(),sr=l,jt=p=Ni(l.current,null),It=u,Gt=0,Is=null,Ro=!1,hu=ir(l,u),Oy=!1,pu=Ms=jy=Wl=Oo=Sr=0,xs=od=null,Dy=!1,(u&8)!==0&&(u|=u&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=u;0<v;){var N=31-Zt(v),k=1<<N;u|=l[N],v&=~k}return Li=u,B0(),p}function gA(l,u){Et=null,J.H=Qf,u===au||u===G0?(u=jT(),Gt=3):u===z1?(u=jT(),Gt=4):Gt=u===my?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Is=u,jt===null&&(Sr=1,op(l,ta(u,l.current)))}function xA(){var l=js.current;return l===null?!0:(It&4194048)===It?aa===null:(It&62914560)===It||(It&536870912)!==0?l===aa:!1}function yA(){var l=J.H;return J.H=Qf,l===null?Qf:l}function vA(){var l=J.A;return J.A=WL,l}function vp(){Sr=4,Ro||(It&4194048)!==It&&js.current!==null||(hu=!0),(Oo&134217727)===0&&(Wl&134217727)===0||sr===null||Io(sr,It,Ms,!1)}function Ly(l,u,p){var v=Vt;Vt|=2;var N=yA(),k=vA();(sr!==l||It!==u)&&(xp=null,gu(l,u)),u=!1;var V=Sr;e:do try{if(Gt!==0&&jt!==null){var ce=jt,ve=Is;switch(Gt){case 8:Py(),V=6;break e;case 3:case 2:case 9:case 6:js.current===null&&(u=!0);var Ne=Gt;if(Gt=0,Is=null,xu(l,ce,ve,Ne),p&&hu){V=0;break e}break;default:Ne=Gt,Gt=0,Is=null,xu(l,ce,ve,Ne)}}XL(),V=Sr;break}catch(Be){gA(l,Be)}while(!0);return u&&l.shellSuspendCounter++,Ci=Pl=null,Vt=v,J.H=N,J.A=k,jt===null&&(sr=null,It=0,B0()),V}function XL(){for(;jt!==null;)bA(jt)}function YL(l,u){var p=Vt;Vt|=2;var v=yA(),N=vA();sr!==l||It!==u?(xp=null,gp=De()+500,gu(l,u)):hu=ir(l,u);e:do try{if(Gt!==0&&jt!==null){u=jt;var k=Is;t:switch(Gt){case 1:Gt=0,Is=null,xu(l,u,k,1);break;case 2:case 9:if(RT(k)){Gt=0,Is=null,wA(u);break}u=function(){Gt!==2&&Gt!==9||sr!==l||(Gt=7),ti(l)},k.then(u,u);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:RT(k)?(Gt=0,Is=null,wA(u)):(Gt=0,Is=null,xu(l,u,k,7));break;case 5:var V=null;switch(jt.tag){case 26:V=jt.memoizedState;case 5:case 27:var ce=jt;if(V?iC(V):ce.stateNode.complete){Gt=0,Is=null;var ve=ce.sibling;if(ve!==null)jt=ve;else{var Ne=ce.return;Ne!==null?(jt=Ne,bp(Ne)):jt=null}break t}}Gt=0,Is=null,xu(l,u,k,5);break;case 6:Gt=0,Is=null,xu(l,u,k,6);break;case 8:Py(),Sr=6;break e;default:throw Error(n(462))}}JL();break}catch(Be){gA(l,Be)}while(!0);return Ci=Pl=null,J.H=v,J.A=N,Vt=p,jt!==null?0:(sr=null,It=0,B0(),Sr)}function JL(){for(;jt!==null&&!he();)bA(jt)}function bA(l){var u=VN(l.alternate,l,Li);l.memoizedProps=l.pendingProps,u===null?bp(l):jt=u}function wA(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=LN(p,u,u.pendingProps,u.type,void 0,It);break;case 11:u=LN(p,u,u.pendingProps,u.type.render,u.ref,It);break;case 5:Q1(u);default:WN(p,u),u=jt=vT(u,Li),u=VN(p,u,Li)}l.memoizedProps=l.pendingProps,u===null?bp(l):jt=u}function xu(l,u,p,v){Ci=Pl=null,Q1(u),iu=null,$f=0;var N=u.return;try{if(BL(l,N,u,p,It)){Sr=1,op(l,ta(p,l.current)),jt=null;return}}catch(k){if(N!==null)throw jt=N,k;Sr=1,op(l,ta(p,l.current)),jt=null;return}u.flags&32768?(Ft||v===1?l=!0:hu||(It&536870912)!==0?l=!1:(Ro=l=!0,(v===2||v===9||v===3||v===6)&&(v=js.current,v!==null&&v.tag===13&&(v.flags|=16384))),EA(u,l)):bp(u)}function bp(l){var u=l;do{if((u.flags&32768)!==0){EA(u,Ro);return}l=u.return;var p=HL(u.alternate,u,Li);if(p!==null){jt=p;return}if(u=u.sibling,u!==null){jt=u;return}jt=u=l}while(u!==null);Sr===0&&(Sr=5)}function EA(l,u){do{var p=qL(l.alternate,l);if(p!==null){p.flags&=32767,jt=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){jt=l;return}jt=l=p}while(l!==null);Sr=6,jt=null}function _A(l,u,p,v,N,k,V,ce,ve){l.cancelPendingCommit=null;do wp();while(nn!==0);if((Vt&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(k=u.lanes|u.childLanes,k|=N1,Mn(l,p,k,V,ce,ve),l===sr&&(jt=sr=null,It=0),mu=u,Do=l,Bi=p,Iy=k,My=N,dA=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,tB(tt,function(){return CA(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=J.T,J.T=null,N=Z.p,Z.p=2,V=Vt,Vt|=4;try{VL(l,u,p)}finally{Vt=V,Z.p=N,J.T=v}}nn=1,SA(),TA(),NA()}}function SA(){if(nn===1){nn=0;var l=Do,u=mu,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=J.T,J.T=null;var v=Z.p;Z.p=2;var N=Vt;Vt|=4;try{sA(u,l);var k=Yy,V=uT(l.containerInfo),ce=k.focusedElem,ve=k.selectionRange;if(V!==ce&&ce&&ce.ownerDocument&&cT(ce.ownerDocument.documentElement,ce)){if(ve!==null&&w1(ce)){var Ne=ve.start,Be=ve.end;if(Be===void 0&&(Be=Ne),"selectionStart"in ce)ce.selectionStart=Ne,ce.selectionEnd=Math.min(Be,ce.value.length);else{var He=ce.ownerDocument||document,Oe=He&&He.defaultView||window;if(Oe.getSelection){var Ie=Oe.getSelection(),nt=ce.textContent.length,dt=Math.min(ve.start,nt),tr=ve.end===void 0?dt:Math.min(ve.end,nt);!Ie.extend&&dt>tr&&(V=tr,tr=dt,dt=V);var Se=lT(ce,dt),_e=lT(ce,tr);if(Se&&_e&&(Ie.rangeCount!==1||Ie.anchorNode!==Se.node||Ie.anchorOffset!==Se.offset||Ie.focusNode!==_e.node||Ie.focusOffset!==_e.offset)){var Te=He.createRange();Te.setStart(Se.node,Se.offset),Ie.removeAllRanges(),dt>tr?(Ie.addRange(Te),Ie.extend(_e.node,_e.offset)):(Te.setEnd(_e.node,_e.offset),Ie.addRange(Te))}}}}for(He=[],Ie=ce;Ie=Ie.parentNode;)Ie.nodeType===1&&He.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<He.length;ce++){var ze=He[ce];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Dp=!!Xy,Yy=Xy=null}finally{Vt=N,Z.p=v,J.T=p}}l.current=u,nn=2}}function TA(){if(nn===2){nn=0;var l=Do,u=mu,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=J.T,J.T=null;var v=Z.p;Z.p=2;var N=Vt;Vt|=4;try{QN(l,u.alternate,u)}finally{Vt=N,Z.p=v,J.T=p}}nn=3}}function NA(){if(nn===4||nn===3){nn=0,Ae();var l=Do,u=mu,p=Bi,v=dA;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?nn=5:(nn=0,mu=Do=null,AA(l,l.pendingLanes));var N=l.pendingLanes;if(N===0&&(jo=null),ks(p),u=u.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ht,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=J.T,N=Z.p,Z.p=2,J.T=null;try{for(var k=l.onRecoverableError,V=0;V<v.length;V++){var ce=v[V];k(ce.value,{componentStack:ce.stack})}}finally{J.T=u,Z.p=N}}(Bi&3)!==0&&wp(),ti(l),N=l.pendingLanes,(p&261930)!==0&&(N&42)!==0?l===Fy?ld++:(ld=0,Fy=l):ld=0,cd(0)}}function AA(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,qf(u)))}function wp(){return SA(),TA(),NA(),CA()}function CA(){if(nn!==5)return!1;var l=Do,u=Iy;Iy=0;var p=ks(Bi),v=J.T,N=Z.p;try{Z.p=32>p?32:p,J.T=null,p=My,My=null;var k=Do,V=Bi;if(nn=0,mu=Do=null,Bi=0,(Vt&6)!==0)throw Error(n(331));var ce=Vt;if(Vt|=4,cA(k.current),iA(k,k.current,V,p),Vt=ce,cd(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ht,k)}catch{}return!0}finally{Z.p=N,J.T=v,AA(l,u)}}function kA(l,u,p){u=ta(p,u),u=py(l.stateNode,u,2),l=No(l,u,2),l!==null&&(dr(l,2),ti(l))}function Kt(l,u,p){if(l.tag===3)kA(l,l,p);else for(;u!==null;){if(u.tag===3){kA(u,l,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(jo===null||!jo.has(v))){l=ta(p,l),p=RN(2),v=No(u,p,2),v!==null&&(ON(p,v,u,l),dr(v,2),ti(v));break}}u=u.return}}function By(l,u,p){var v=l.pingCache;if(v===null){v=l.pingCache=new GL;var N=new Set;v.set(u,N)}else N=v.get(u),N===void 0&&(N=new Set,v.set(u,N));N.has(p)||(Oy=!0,N.add(p),l=ZL.bind(null,l,u,p),u.then(l,l))}function ZL(l,u,p){var v=l.pingCache;v!==null&&v.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,sr===l&&(It&p)===p&&(Sr===4||Sr===3&&(It&62914560)===It&&300>De()-mp?(Vt&2)===0&&gu(l,0):jy|=p,pu===It&&(pu=0)),ti(l)}function RA(l,u){u===0&&(u=un()),l=Il(l,u),l!==null&&(dr(l,u),ti(l))}function QL(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),RA(l,p)}function eB(l,u){var p=0;switch(l.tag){case 31:case 13:var v=l.stateNode,N=l.memoizedState;N!==null&&(p=N.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(u),RA(l,p)}function tB(l,u){return fe(l,u)}var Ep=null,yu=null,Uy=!1,_p=!1,zy=!1,Mo=0;function ti(l){l!==yu&&l.next===null&&(yu===null?Ep=yu=l:yu=yu.next=l),_p=!0,Uy||(Uy=!0,nB())}function cd(l,u){if(!zy&&_p){zy=!0;do for(var p=!1,v=Ep;v!==null;){if(l!==0){var N=v.pendingLanes;if(N===0)var k=0;else{var V=v.suspendedLanes,ce=v.pingedLanes;k=(1<<31-Zt(42|l)+1)-1,k&=N&~(V&~ce),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(p=!0,IA(v,k))}else k=It,k=pt(v,v===sr?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||ir(v,k)||(p=!0,IA(v,k));v=v.next}while(p);zy=!1}}function rB(){OA()}function OA(){_p=Uy=!1;var l=0;Mo!==0&&hB()&&(l=Mo);for(var u=De(),p=null,v=Ep;v!==null;){var N=v.next,k=jA(v,u);k===0?(v.next=null,p===null?Ep=N:p.next=N,N===null&&(yu=p)):(p=v,(l!==0||(k&3)!==0)&&(_p=!0)),v=N}nn!==0&&nn!==5||cd(l),Mo!==0&&(Mo=0)}function jA(l,u){for(var p=l.suspendedLanes,v=l.pingedLanes,N=l.expirationTimes,k=l.pendingLanes&-62914561;0<k;){var V=31-Zt(k),ce=1<<V,ve=N[V];ve===-1?((ce&p)===0||(ce&v)!==0)&&(N[V]=Hr(ce,u)):ve<=u&&(l.expiredLanes|=ce),k&=~ce}if(u=sr,p=It,p=pt(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,p===0||l===u&&(Gt===2||Gt===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&ye(v),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||ir(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(v!==null&&ye(v),ks(p)){case 2:case 8:p=et;break;case 32:p=tt;break;case 268435456:p=lt;break;default:p=tt}return v=DA.bind(null,l),p=fe(p,v),l.callbackPriority=u,l.callbackNode=p,u}return v!==null&&v!==null&&ye(v),l.callbackPriority=2,l.callbackNode=null,2}function DA(l,u){if(nn!==0&&nn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(wp()&&l.callbackNode!==p)return null;var v=It;return v=pt(l,l===sr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(pA(l,v,u),jA(l,De()),l.callbackNode!=null&&l.callbackNode===p?DA.bind(null,l):null)}function IA(l,u){if(wp())return null;pA(l,u,!0)}function nB(){mB(function(){(Vt&6)!==0?fe(We,rB):OA()})}function Hy(){if(Mo===0){var l=nu;l===0&&(l=Ca,Ca<<=1,(Ca&261888)===0&&(Ca=256)),Mo=l}return Mo}function MA(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:O0(""+l)}function FA(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function sB(l,u,p,v,N){if(u==="submit"&&p&&p.stateNode===N){var k=MA((N[pe]||null).action),V=v.submitter;V&&(u=(u=V[pe]||null)?MA(u.formAction):V.getAttribute("formAction"),u!==null&&(k=u,V=null));var ce=new M0("action","action",null,v,N);l.push({event:ce,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Mo!==0){var ve=V?FA(N,V):new FormData(N);ly(p,{pending:!0,data:ve,method:N.method,action:k},null,ve)}}else typeof k=="function"&&(ce.preventDefault(),ve=V?FA(N,V):new FormData(N),ly(p,{pending:!0,data:ve,method:N.method,action:k},k,ve))},currentTarget:N}]})}}for(var qy=0;qy<T1.length;qy++){var Vy=T1[qy],aB=Vy.toLowerCase(),iB=Vy[0].toUpperCase()+Vy.slice(1);Ra(aB,"on"+iB)}Ra(hT,"onAnimationEnd"),Ra(pT,"onAnimationIteration"),Ra(mT,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(EL,"onTransitionRun"),Ra(_L,"onTransitionStart"),Ra(SL,"onTransitionCancel"),Ra(gT,"onTransitionEnd"),Js("onMouseEnter",["mouseout","mouseover"]),Js("onMouseLeave",["mouseout","mouseover"]),Js("onPointerEnter",["pointerout","pointerover"]),Js("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ud));function PA(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var v=l[p],N=v.event;v=v.listeners;e:{var k=void 0;if(u)for(var V=v.length-1;0<=V;V--){var ce=v[V],ve=ce.instance,Ne=ce.currentTarget;if(ce=ce.listener,ve!==k&&N.isPropagationStopped())break e;k=ce,N.currentTarget=Ne;try{k(N)}catch(Be){L0(Be)}N.currentTarget=null,k=ve}else for(V=0;V<v.length;V++){if(ce=v[V],ve=ce.instance,Ne=ce.currentTarget,ce=ce.listener,ve!==k&&N.isPropagationStopped())break e;k=ce,N.currentTarget=Ne;try{k(N)}catch(Be){L0(Be)}N.currentTarget=null,k=ve}}}}function Dt(l,u){var p=u[Ce];p===void 0&&(p=u[Ce]=new Set);var v=l+"__bubble";p.has(v)||(LA(u,l,2,!1),p.add(v))}function $y(l,u,p){var v=0;u&&(v|=4),LA(p,l,v,u)}var Sp="_reactListening"+Math.random().toString(36).slice(2);function Wy(l){if(!l[Sp]){l[Sp]=!0,or.forEach(function(p){p!=="selectionchange"&&(oB.has(p)||$y(p,!1,l),$y(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Sp]||(u[Sp]=!0,$y("selectionchange",!1,u))}}function LA(l,u,p,v){switch(hC(u)){case 2:var N=MB;break;case 8:N=FB;break;default:N=ov}p=N.bind(null,u,p,l),N=void 0,!d1||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(N=!0),v?N!==void 0?l.addEventListener(u,p,{capture:!0,passive:N}):l.addEventListener(u,p,!0):N!==void 0?l.addEventListener(u,p,{passive:N}):l.addEventListener(u,p,!1)}function Gy(l,u,p,v,N){var k=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var ce=v.stateNode.containerInfo;if(ce===N)break;if(V===4)for(V=v.return;V!==null;){var ve=V.tag;if((ve===3||ve===4)&&V.stateNode.containerInfo===N)return;V=V.return}for(;ce!==null;){if(V=Ye(ce),V===null)return;if(ve=V.tag,ve===5||ve===6||ve===26||ve===27){v=k=V;continue e}ce=ce.parentNode}}v=v.return}qS(function(){var Ne=k,Be=u1(p),He=[];e:{var Oe=xT.get(l);if(Oe!==void 0){var Ie=M0,nt=l;switch(l){case"keypress":if(D0(p)===0)break e;case"keydown":case"keyup":Ie=eL;break;case"focusin":nt="focus",Ie=g1;break;case"focusout":nt="blur",Ie=g1;break;case"beforeblur":case"afterblur":Ie=g1;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=WS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=HP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=nL;break;case hT:case pT:case mT:Ie=$P;break;case gT:Ie=aL;break;case"scroll":case"scrollend":Ie=UP;break;case"wheel":Ie=oL;break;case"copy":case"cut":case"paste":Ie=GP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=KS;break;case"toggle":case"beforetoggle":Ie=cL}var dt=(u&4)!==0,tr=!dt&&(l==="scroll"||l==="scrollend"),Se=dt?Oe!==null?Oe+"Capture":null:Oe;dt=[];for(var _e=Ne,Te;_e!==null;){var ze=_e;if(Te=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Te===null||Se===null||(ze=jf(_e,Se),ze!=null&&dt.push(fd(_e,ze,Te))),tr)break;_e=_e.return}0<dt.length&&(Oe=new Ie(Oe,nt,null,p,Be),He.push({event:Oe,listeners:dt}))}}if((u&7)===0){e:{if(Oe=l==="mouseover"||l==="pointerover",Ie=l==="mouseout"||l==="pointerout",Oe&&p!==c1&&(nt=p.relatedTarget||p.fromElement)&&(Ye(nt)||nt[xe]))break e;if((Ie||Oe)&&(Oe=Be.window===Be?Be:(Oe=Be.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Ie?(nt=p.relatedTarget||p.toElement,Ie=Ne,nt=nt?Ye(nt):null,nt!==null&&(tr=a(nt),dt=nt.tag,nt!==tr||dt!==5&&dt!==27&&dt!==6)&&(nt=null)):(Ie=null,nt=Ne),Ie!==nt)){if(dt=WS,ze="onMouseLeave",Se="onMouseEnter",_e="mouse",(l==="pointerout"||l==="pointerover")&&(dt=KS,ze="onPointerLeave",Se="onPointerEnter",_e="pointer"),tr=Ie==null?Oe:Ke(Ie),Te=nt==null?Oe:Ke(nt),Oe=new dt(ze,_e+"leave",Ie,p,Be),Oe.target=tr,Oe.relatedTarget=Te,ze=null,Ye(Be)===Ne&&(dt=new dt(Se,_e+"enter",nt,p,Be),dt.target=Te,dt.relatedTarget=tr,ze=dt),tr=ze,Ie&&nt)t:{for(dt=lB,Se=Ie,_e=nt,Te=0,ze=Se;ze;ze=dt(ze))Te++;ze=0;for(var ut=_e;ut;ut=dt(ut))ze++;for(;0<Te-ze;)Se=dt(Se),Te--;for(;0<ze-Te;)_e=dt(_e),ze--;for(;Te--;){if(Se===_e||_e!==null&&Se===_e.alternate){dt=Se;break t}Se=dt(Se),_e=dt(_e)}dt=null}else dt=null;Ie!==null&&BA(He,Oe,Ie,dt,!1),nt!==null&&tr!==null&&BA(He,tr,nt,dt,!0)}}e:{if(Oe=Ne?Ke(Ne):window,Ie=Oe.nodeName&&Oe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Oe.type==="file")var Ht=rT;else if(eT(Oe))if(nT)Ht=vL;else{Ht=xL;var ot=gL}else Ie=Oe.nodeName,!Ie||Ie.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Ne&&l1(Ne.elementType)&&(Ht=rT):Ht=yL;if(Ht&&(Ht=Ht(l,Ne))){tT(He,Ht,p,Be);break e}ot&&ot(l,Oe,Ne),l==="focusout"&&Ne&&Oe.type==="number"&&Ne.memoizedProps.value!=null&&o1(Oe,"number",Oe.value)}switch(ot=Ne?Ke(Ne):window,l){case"focusin":(eT(ot)||ot.contentEditable==="true")&&(Xc=ot,E1=Ne,Uf=null);break;case"focusout":Uf=E1=Xc=null;break;case"mousedown":_1=!0;break;case"contextmenu":case"mouseup":case"dragend":_1=!1,fT(He,p,Be);break;case"selectionchange":if(wL)break;case"keydown":case"keyup":fT(He,p,Be)}var St;if(y1)e:{switch(l){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else Kc?ZS(l,p)&&(Mt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Mt="onCompositionStart");Mt&&(XS&&p.locale!=="ko"&&(Kc||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Kc&&(St=VS()):(vo=Be,h1="value"in vo?vo.value:vo.textContent,Kc=!0)),ot=Tp(Ne,Mt),0<ot.length&&(Mt=new GS(Mt,l,null,p,Be),He.push({event:Mt,listeners:ot}),St?Mt.data=St:(St=QS(p),St!==null&&(Mt.data=St)))),(St=fL?dL(l,p):hL(l,p))&&(Mt=Tp(Ne,"onBeforeInput"),0<Mt.length&&(ot=new GS("onBeforeInput","beforeinput",null,p,Be),He.push({event:ot,listeners:Mt}),ot.data=St)),sB(He,l,Ne,p,Be)}PA(He,u)})}function fd(l,u,p){return{instance:l,listener:u,currentTarget:p}}function Tp(l,u){for(var p=u+"Capture",v=[];l!==null;){var N=l,k=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||k===null||(N=jf(l,p),N!=null&&v.unshift(fd(l,N,k)),N=jf(l,u),N!=null&&v.push(fd(l,N,k))),l.tag===3)return v;l=l.return}return[]}function lB(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function BA(l,u,p,v,N){for(var k=u._reactName,V=[];p!==null&&p!==v;){var ce=p,ve=ce.alternate,Ne=ce.stateNode;if(ce=ce.tag,ve!==null&&ve===v)break;ce!==5&&ce!==26&&ce!==27||Ne===null||(ve=Ne,N?(Ne=jf(p,k),Ne!=null&&V.unshift(fd(p,Ne,ve))):N||(Ne=jf(p,k),Ne!=null&&V.push(fd(p,Ne,ve)))),p=p.return}V.length!==0&&l.push({event:u,listeners:V})}var cB=/\r\n?/g,uB=/\u0000|\uFFFD/g;function UA(l){return(typeof l=="string"?l:""+l).replace(cB,`
`).replace(uB,"")}function zA(l,u){return u=UA(u),UA(l)===u}function er(l,u,p,v,N,k){switch(p){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||$c(l,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&$c(l,""+v);break;case"className":k0(l,"class",v);break;case"tabIndex":k0(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":k0(l,p,v);break;case"style":zS(l,v,k);break;case"data":if(u!=="object"){k0(l,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(p);break}v=O0(""+v),l.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(p==="formAction"?(u!=="input"&&er(l,u,"name",N.name,N,null),er(l,u,"formEncType",N.formEncType,N,null),er(l,u,"formMethod",N.formMethod,N,null),er(l,u,"formTarget",N.formTarget,N,null)):(er(l,u,"encType",N.encType,N,null),er(l,u,"method",N.method,N,null),er(l,u,"target",N.target,N,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(p);break}v=O0(""+v),l.setAttribute(p,v);break;case"onClick":v!=null&&(l.onclick=Si);break;case"onScroll":v!=null&&Dt("scroll",l);break;case"onScrollEnd":v!=null&&Dt("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(N.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}p=O0(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,""+v):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":v===!0?l.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,v):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(p,v):l.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(p):l.setAttribute(p,v);break;case"popover":Dt("beforetoggle",l),Dt("toggle",l),ds(l,"popover",v);break;case"xlinkActuate":_i(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":_i(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":_i(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":_i(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":_i(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":_i(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":_i(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":_i(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":_i(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ds(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=LP.get(p)||p,ds(l,p,v))}}function Ky(l,u,p,v,N,k){switch(p){case"style":zS(l,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(N.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"children":typeof v=="string"?$c(l,v):(typeof v=="number"||typeof v=="bigint")&&$c(l,""+v);break;case"onScroll":v!=null&&Dt("scroll",l);break;case"onScrollEnd":v!=null&&Dt("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(N=p.endsWith("Capture"),u=p.slice(2,N?p.length-7:void 0),k=l[pe]||null,k=k!=null?k[p]:null,typeof k=="function"&&l.removeEventListener(u,k,N),typeof v=="function")){typeof k!="function"&&k!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,v,N);break e}p in l?l[p]=v:v===!0?l.setAttribute(p,""):ds(l,p,v)}}}function Tn(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",l),Dt("load",l);var v=!1,N=!1,k;for(k in p)if(p.hasOwnProperty(k)){var V=p[k];if(V!=null)switch(k){case"src":v=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:er(l,u,k,V,p,null)}}N&&er(l,u,"srcSet",p.srcSet,p,null),v&&er(l,u,"src",p.src,p,null);return;case"input":Dt("invalid",l);var ce=k=V=N=null,ve=null,Ne=null;for(v in p)if(p.hasOwnProperty(v)){var Be=p[v];if(Be!=null)switch(v){case"name":N=Be;break;case"type":V=Be;break;case"checked":ve=Be;break;case"defaultChecked":Ne=Be;break;case"value":k=Be;break;case"defaultValue":ce=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,u));break;default:er(l,u,v,Be,p,null)}}PS(l,k,ce,ve,Ne,V,N,!1);return;case"select":Dt("invalid",l),v=V=k=null;for(N in p)if(p.hasOwnProperty(N)&&(ce=p[N],ce!=null))switch(N){case"value":k=ce;break;case"defaultValue":V=ce;break;case"multiple":v=ce;default:er(l,u,N,ce,p,null)}u=k,p=V,l.multiple=!!v,u!=null?Vc(l,!!v,u,!1):p!=null&&Vc(l,!!v,p,!0);return;case"textarea":Dt("invalid",l),k=N=v=null;for(V in p)if(p.hasOwnProperty(V)&&(ce=p[V],ce!=null))switch(V){case"value":v=ce;break;case"defaultValue":N=ce;break;case"children":k=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(91));break;default:er(l,u,V,ce,p,null)}BS(l,v,N,k);return;case"option":for(ve in p)if(p.hasOwnProperty(ve)&&(v=p[ve],v!=null))switch(ve){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:er(l,u,ve,v,p,null)}return;case"dialog":Dt("beforetoggle",l),Dt("toggle",l),Dt("cancel",l),Dt("close",l);break;case"iframe":case"object":Dt("load",l);break;case"video":case"audio":for(v=0;v<ud.length;v++)Dt(ud[v],l);break;case"image":Dt("error",l),Dt("load",l);break;case"details":Dt("toggle",l);break;case"embed":case"source":case"link":Dt("error",l),Dt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in p)if(p.hasOwnProperty(Ne)&&(v=p[Ne],v!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:er(l,u,Ne,v,p,null)}return;default:if(l1(u)){for(Be in p)p.hasOwnProperty(Be)&&(v=p[Be],v!==void 0&&Ky(l,u,Be,v,p,void 0));return}}for(ce in p)p.hasOwnProperty(ce)&&(v=p[ce],v!=null&&er(l,u,ce,v,p,null))}function fB(l,u,p,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,k=null,V=null,ce=null,ve=null,Ne=null,Be=null;for(Ie in p){var He=p[Ie];if(p.hasOwnProperty(Ie)&&He!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ve=He;default:v.hasOwnProperty(Ie)||er(l,u,Ie,null,v,He)}}for(var Oe in v){var Ie=v[Oe];if(He=p[Oe],v.hasOwnProperty(Oe)&&(Ie!=null||He!=null))switch(Oe){case"type":k=Ie;break;case"name":N=Ie;break;case"checked":Ne=Ie;break;case"defaultChecked":Be=Ie;break;case"value":V=Ie;break;case"defaultValue":ce=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,u));break;default:Ie!==He&&er(l,u,Oe,Ie,v,He)}}i1(l,V,ce,ve,Ne,Be,k,N);return;case"select":Ie=V=ce=Oe=null;for(k in p)if(ve=p[k],p.hasOwnProperty(k)&&ve!=null)switch(k){case"value":break;case"multiple":Ie=ve;default:v.hasOwnProperty(k)||er(l,u,k,null,v,ve)}for(N in v)if(k=v[N],ve=p[N],v.hasOwnProperty(N)&&(k!=null||ve!=null))switch(N){case"value":Oe=k;break;case"defaultValue":ce=k;break;case"multiple":V=k;default:k!==ve&&er(l,u,N,k,v,ve)}u=ce,p=V,v=Ie,Oe!=null?Vc(l,!!p,Oe,!1):!!v!=!!p&&(u!=null?Vc(l,!!p,u,!0):Vc(l,!!p,p?[]:"",!1));return;case"textarea":Ie=Oe=null;for(ce in p)if(N=p[ce],p.hasOwnProperty(ce)&&N!=null&&!v.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:er(l,u,ce,null,v,N)}for(V in v)if(N=v[V],k=p[V],v.hasOwnProperty(V)&&(N!=null||k!=null))switch(V){case"value":Oe=N;break;case"defaultValue":Ie=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:N!==k&&er(l,u,V,N,v,k)}LS(l,Oe,Ie);return;case"option":for(var nt in p)if(Oe=p[nt],p.hasOwnProperty(nt)&&Oe!=null&&!v.hasOwnProperty(nt))switch(nt){case"selected":l.selected=!1;break;default:er(l,u,nt,null,v,Oe)}for(ve in v)if(Oe=v[ve],Ie=p[ve],v.hasOwnProperty(ve)&&Oe!==Ie&&(Oe!=null||Ie!=null))switch(ve){case"selected":l.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:er(l,u,ve,Oe,v,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in p)Oe=p[dt],p.hasOwnProperty(dt)&&Oe!=null&&!v.hasOwnProperty(dt)&&er(l,u,dt,null,v,Oe);for(Ne in v)if(Oe=v[Ne],Ie=p[Ne],v.hasOwnProperty(Ne)&&Oe!==Ie&&(Oe!=null||Ie!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(n(137,u));break;default:er(l,u,Ne,Oe,v,Ie)}return;default:if(l1(u)){for(var tr in p)Oe=p[tr],p.hasOwnProperty(tr)&&Oe!==void 0&&!v.hasOwnProperty(tr)&&Ky(l,u,tr,void 0,v,Oe);for(Be in v)Oe=v[Be],Ie=p[Be],!v.hasOwnProperty(Be)||Oe===Ie||Oe===void 0&&Ie===void 0||Ky(l,u,Be,Oe,v,Ie);return}}for(var Se in p)Oe=p[Se],p.hasOwnProperty(Se)&&Oe!=null&&!v.hasOwnProperty(Se)&&er(l,u,Se,null,v,Oe);for(He in v)Oe=v[He],Ie=p[He],!v.hasOwnProperty(He)||Oe===Ie||Oe==null&&Ie==null||er(l,u,He,Oe,v,Ie)}function HA(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dB(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var N=p[v],k=N.transferSize,V=N.initiatorType,ce=N.duration;if(k&&ce&&HA(V)){for(V=0,ce=N.responseEnd,v+=1;v<p.length;v++){var ve=p[v],Ne=ve.startTime;if(Ne>ce)break;var Be=ve.transferSize,He=ve.initiatorType;Be&&HA(He)&&(ve=ve.responseEnd,V+=Be*(ve<ce?1:(ce-Ne)/(ve-Ne)))}if(--v,u+=8*(k+V)/(N.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Xy=null,Yy=null;function Np(l){return l.nodeType===9?l:l.ownerDocument}function qA(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VA(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function Jy(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Zy=null;function hB(){var l=window.event;return l&&l.type==="popstate"?l===Zy?!1:(Zy=l,!0):(Zy=null,!1)}var $A=typeof setTimeout=="function"?setTimeout:void 0,pB=typeof clearTimeout=="function"?clearTimeout:void 0,WA=typeof Promise=="function"?Promise:void 0,mB=typeof queueMicrotask=="function"?queueMicrotask:typeof WA<"u"?function(l){return WA.resolve(null).then(l).catch(gB)}:$A;function gB(l){setTimeout(function(){throw l})}function Fo(l){return l==="head"}function GA(l,u){var p=u,v=0;do{var N=p.nextSibling;if(l.removeChild(p),N&&N.nodeType===8)if(p=N.data,p==="/$"||p==="/&"){if(v===0){l.removeChild(N),Eu(u);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")dd(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,dd(p);for(var k=p.firstChild;k;){var V=k.nextSibling,ce=k.nodeName;k[je]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&k.rel.toLowerCase()==="stylesheet"||p.removeChild(k),k=V}}else p==="body"&&dd(l.ownerDocument.body);p=N}while(p);Eu(u)}function KA(l,u){var p=l;l=0;do{var v=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=v}while(p)}function Qy(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Qy(p),Ge(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function xB(l,u,p,v){for(;l.nodeType===1;){var N=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[je])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(k=l.getAttribute("rel"),k==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(k!==N.rel||l.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||l.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||l.getAttribute("title")!==(N.title==null?null:N.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(k=l.getAttribute("src"),(k!==(N.src==null?null:N.src)||l.getAttribute("type")!==(N.type==null?null:N.type)||l.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&k&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var k=N.name==null?null:""+N.name;if(N.type==="hidden"&&l.getAttribute("name")===k)return l}else return l;if(l=ia(l.nextSibling),l===null)break}return null}function yB(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=ia(l.nextSibling),l===null))return null;return l}function XA(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=ia(l.nextSibling),l===null))return null;return l}function ev(l){return l.data==="$?"||l.data==="$~"}function tv(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function vB(l,u){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||p.readyState!=="loading")u();else{var v=function(){u(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function ia(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var rv=null;function YA(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(u===0)return ia(l.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}l=l.nextSibling}return null}function JA(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return l;u--}else p!=="/$"&&p!=="/&"||u++}l=l.previousSibling}return null}function ZA(l,u,p){switch(u=Np(p),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function dd(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Ge(l)}var oa=new Map,QA=new Set;function Ap(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Ui=Z.d;Z.d={f:bB,r:wB,D:EB,C:_B,L:SB,m:TB,X:AB,S:NB,M:CB};function bB(){var l=Ui.f(),u=yp();return l||u}function wB(l){var u=Qe(l);u!==null&&u.tag===5&&u.type==="form"?gN(u):Ui.r(l)}var vu=typeof document>"u"?null:document;function eC(l,u,p){var v=vu;if(v&&typeof u=="string"&&u){var N=Qs(u);N='link[rel="'+l+'"][href="'+N+'"]',typeof p=="string"&&(N+='[crossorigin="'+p+'"]'),QA.has(N)||(QA.add(N),l={rel:l,crossOrigin:p,href:u},v.querySelector(N)===null&&(u=v.createElement("link"),Tn(u,"link",l),at(u),v.head.appendChild(u)))}}function EB(l){Ui.D(l),eC("dns-prefetch",l,null)}function _B(l,u){Ui.C(l,u),eC("preconnect",l,u)}function SB(l,u,p){Ui.L(l,u,p);var v=vu;if(v&&l&&u){var N='link[rel="preload"][as="'+Qs(u)+'"]';u==="image"&&p&&p.imageSrcSet?(N+='[imagesrcset="'+Qs(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(N+='[imagesizes="'+Qs(p.imageSizes)+'"]')):N+='[href="'+Qs(l)+'"]';var k=N;switch(u){case"style":k=bu(l);break;case"script":k=wu(l)}oa.has(k)||(l=m({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),oa.set(k,l),v.querySelector(N)!==null||u==="style"&&v.querySelector(hd(k))||u==="script"&&v.querySelector(pd(k))||(u=v.createElement("link"),Tn(u,"link",l),at(u),v.head.appendChild(u)))}}function TB(l,u){Ui.m(l,u);var p=vu;if(p&&l){var v=u&&typeof u.as=="string"?u.as:"script",N='link[rel="modulepreload"][as="'+Qs(v)+'"][href="'+Qs(l)+'"]',k=N;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=wu(l)}if(!oa.has(k)&&(l=m({rel:"modulepreload",href:l},u),oa.set(k,l),p.querySelector(N)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(pd(k)))return}v=p.createElement("link"),Tn(v,"link",l),at(v),p.head.appendChild(v)}}}function NB(l,u,p){Ui.S(l,u,p);var v=vu;if(v&&l){var N=Je(v).hoistableStyles,k=bu(l);u=u||"default";var V=N.get(k);if(!V){var ce={loading:0,preload:null};if(V=v.querySelector(hd(k)))ce.loading=5;else{l=m({rel:"stylesheet",href:l,"data-precedence":u},p),(p=oa.get(k))&&nv(l,p);var ve=V=v.createElement("link");at(ve),Tn(ve,"link",l),ve._p=new Promise(function(Ne,Be){ve.onload=Ne,ve.onerror=Be}),ve.addEventListener("load",function(){ce.loading|=1}),ve.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,Cp(V,u,v)}V={type:"stylesheet",instance:V,count:1,state:ce},N.set(k,V)}}}function AB(l,u){Ui.X(l,u);var p=vu;if(p&&l){var v=Je(p).hoistableScripts,N=wu(l),k=v.get(N);k||(k=p.querySelector(pd(N)),k||(l=m({src:l,async:!0},u),(u=oa.get(N))&&sv(l,u),k=p.createElement("script"),at(k),Tn(k,"link",l),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(N,k))}}function CB(l,u){Ui.M(l,u);var p=vu;if(p&&l){var v=Je(p).hoistableScripts,N=wu(l),k=v.get(N);k||(k=p.querySelector(pd(N)),k||(l=m({src:l,async:!0,type:"module"},u),(u=oa.get(N))&&sv(l,u),k=p.createElement("script"),at(k),Tn(k,"link",l),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(N,k))}}function tC(l,u,p,v){var N=(N=Y.current)?Ap(N):null;if(!N)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=bu(p.href),p=Je(N).hoistableStyles,v=p.get(u),v||(v={type:"style",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=bu(p.href);var k=Je(N).hoistableStyles,V=k.get(l);if(V||(N=N.ownerDocument||N,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(l,V),(k=N.querySelector(hd(l)))&&!k._p&&(V.instance=k,V.state.loading=5),oa.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},oa.set(l,p),k||kB(N,l,p,V.state))),u&&v===null)throw Error(n(528,""));return V}if(u&&v!==null)throw Error(n(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=wu(p),p=Je(N).hoistableScripts,v=p.get(u),v||(v={type:"script",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function bu(l){return'href="'+Qs(l)+'"'}function hd(l){return'link[rel="stylesheet"]['+l+"]"}function rC(l){return m({},l,{"data-precedence":l.precedence,precedence:null})}function kB(l,u,p,v){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=l.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),Tn(u,"link",p),at(u),l.head.appendChild(u))}function wu(l){return'[src="'+Qs(l)+'"]'}function pd(l){return"script[async]"+l}function nC(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var v=l.querySelector('style[data-href~="'+Qs(p.href)+'"]');if(v)return u.instance=v,at(v),v;var N=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),at(v),Tn(v,"style",N),Cp(v,p.precedence,l),u.instance=v;case"stylesheet":N=bu(p.href);var k=l.querySelector(hd(N));if(k)return u.state.loading|=4,u.instance=k,at(k),k;v=rC(p),(N=oa.get(N))&&nv(v,N),k=(l.ownerDocument||l).createElement("link"),at(k);var V=k;return V._p=new Promise(function(ce,ve){V.onload=ce,V.onerror=ve}),Tn(k,"link",v),u.state.loading|=4,Cp(k,p.precedence,l),u.instance=k;case"script":return k=wu(p.src),(N=l.querySelector(pd(k)))?(u.instance=N,at(N),N):(v=p,(N=oa.get(k))&&(v=m({},p),sv(v,N)),l=l.ownerDocument||l,N=l.createElement("script"),at(N),Tn(N,"link",v),l.head.appendChild(N),u.instance=N);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,Cp(v,p.precedence,l));return u.instance}function Cp(l,u,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=v.length?v[v.length-1]:null,k=N,V=0;V<v.length;V++){var ce=v[V];if(ce.dataset.precedence===u)k=ce;else if(k!==N)break}k?k.parentNode.insertBefore(l,k.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function nv(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function sv(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var kp=null;function sC(l,u,p){if(kp===null){var v=new Map,N=kp=new Map;N.set(p,v)}else N=kp,v=N.get(p),v||(v=new Map,N.set(p,v));if(v.has(l))return v;for(v.set(l,null),p=p.getElementsByTagName(l),N=0;N<p.length;N++){var k=p[N];if(!(k[je]||k[de]||l==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var V=k.getAttribute(u)||"";V=l+V;var ce=v.get(V);ce?ce.push(k):v.set(V,[k])}}return v}function aC(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function RB(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function iC(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function OB(l,u,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var N=bu(v.href),k=u.querySelector(hd(N));if(k){u=k._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=Rp.bind(l),u.then(l,l)),p.state.loading|=4,p.instance=k,at(k);return}k=u.ownerDocument||u,v=rC(v),(N=oa.get(N))&&nv(v,N),k=k.createElement("link"),at(k);var V=k;V._p=new Promise(function(ce,ve){V.onload=ce,V.onerror=ve}),Tn(k,"link",v),p.instance=k}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=Rp.bind(l),u.addEventListener("load",p),u.addEventListener("error",p))}}var av=0;function jB(l,u){return l.stylesheets&&l.count===0&&jp(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var v=setTimeout(function(){if(l.stylesheets&&jp(l,l.stylesheets),l.unsuspend){var k=l.unsuspend;l.unsuspend=null,k()}},6e4+u);0<l.imgBytes&&av===0&&(av=62500*dB());var N=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&jp(l,l.stylesheets),l.unsuspend)){var k=l.unsuspend;l.unsuspend=null,k()}},(l.imgBytes>av?50:800)+u);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(N)}}:null}function Rp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Op=null;function jp(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Op=new Map,u.forEach(DB,l),Op=null,Rp.call(l))}function DB(l,u){if(!(u.state.loading&4)){var p=Op.get(l);if(p)var v=p.get(null);else{p=new Map,Op.set(l,p);for(var N=l.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<N.length;k++){var V=N[k];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),v=V)}v&&p.set(null,v)}N=u.instance,V=N.getAttribute("data-precedence"),k=p.get(V)||v,k===v&&p.set(null,N),p.set(V,N),this.count++,v=Rp.bind(this),N.addEventListener("load",v),N.addEventListener("error",v),k?k.parentNode.insertBefore(N,k.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(N,l.firstChild)),u.state.loading|=4}}var md={$$typeof:_,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function IB(l,u,p,v,N,k,V,ce,ve){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.hiddenUpdates=Ya(null),this.identifierPrefix=v,this.onUncaughtError=N,this.onCaughtError=k,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ve,this.incompleteTransitions=new Map}function oC(l,u,p,v,N,k,V,ce,ve,Ne,Be,He){return l=new IB(l,u,p,V,ve,Ne,Be,He,ce),u=1,k===!0&&(u|=24),k=Os(3,null,null,u),l.current=k,k.stateNode=l,u=L1(),u.refCount++,l.pooledCache=u,u.refCount++,k.memoizedState={element:v,isDehydrated:p,cache:u},H1(k),l}function lC(l){return l?(l=Zc,l):Zc}function cC(l,u,p,v,N,k){N=lC(N),v.context===null?v.context=N:v.pendingContext=N,v=To(u),v.payload={element:p},k=k===void 0?null:k,k!==null&&(v.callback=k),p=No(l,v,u),p!==null&&(ys(p,l,u),Gf(p,l,u))}function uC(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function iv(l,u){uC(l,u),(l=l.alternate)&&uC(l,u)}function fC(l){if(l.tag===13||l.tag===31){var u=Il(l,67108864);u!==null&&ys(u,l,67108864),iv(l,67108864)}}function dC(l){if(l.tag===13||l.tag===31){var u=Fs();u=xo(u);var p=Il(l,u);p!==null&&ys(p,l,u),iv(l,u)}}var Dp=!0;function MB(l,u,p,v){var N=J.T;J.T=null;var k=Z.p;try{Z.p=2,ov(l,u,p,v)}finally{Z.p=k,J.T=N}}function FB(l,u,p,v){var N=J.T;J.T=null;var k=Z.p;try{Z.p=8,ov(l,u,p,v)}finally{Z.p=k,J.T=N}}function ov(l,u,p,v){if(Dp){var N=lv(v);if(N===null)Gy(l,u,v,Ip,p),pC(l,v);else if(LB(N,l,u,p,v))v.stopPropagation();else if(pC(l,v),u&4&&-1<PB.indexOf(l)){for(;N!==null;){var k=Qe(N);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var V=zr(k.pendingLanes);if(V!==0){var ce=k;for(ce.pendingLanes|=2,ce.entangledLanes|=2;V;){var ve=1<<31-Zt(V);ce.entanglements[1]|=ve,V&=~ve}ti(k),(Vt&6)===0&&(gp=De()+500,cd(0))}}break;case 31:case 13:ce=Il(k,2),ce!==null&&ys(ce,k,2),yp(),iv(k,2)}if(k=lv(v),k===null&&Gy(l,u,v,Ip,p),k===N)break;N=k}N!==null&&v.stopPropagation()}else Gy(l,u,v,null,p)}}function lv(l){return l=u1(l),cv(l)}var Ip=null;function cv(l){if(Ip=null,l=Ye(l),l!==null){var u=a(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=i(u),l!==null)return l;l=null}else if(p===31){if(l=o(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Ip=l,null}function hC(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case We:return 2;case et:return 8;case tt:case zt:return 32;case lt:return 268435456;default:return 32}default:return 32}}var uv=!1,Po=null,Lo=null,Bo=null,gd=new Map,xd=new Map,Uo=[],PB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pC(l,u){switch(l){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":gd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":xd.delete(u.pointerId)}}function yd(l,u,p,v,N,k){return l===null||l.nativeEvent!==k?(l={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:k,targetContainers:[N]},u!==null&&(u=Qe(u),u!==null&&fC(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,N!==null&&u.indexOf(N)===-1&&u.push(N),l)}function LB(l,u,p,v,N){switch(u){case"focusin":return Po=yd(Po,l,u,p,v,N),!0;case"dragenter":return Lo=yd(Lo,l,u,p,v,N),!0;case"mouseover":return Bo=yd(Bo,l,u,p,v,N),!0;case"pointerover":var k=N.pointerId;return gd.set(k,yd(gd.get(k)||null,l,u,p,v,N)),!0;case"gotpointercapture":return k=N.pointerId,xd.set(k,yd(xd.get(k)||null,l,u,p,v,N)),!0}return!1}function mC(l){var u=Ye(l.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=i(p),u!==null){l.blockedOn=u,me(l.priority,function(){dC(p)});return}}else if(u===31){if(u=o(p),u!==null){l.blockedOn=u,me(l.priority,function(){dC(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Mp(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=lv(l.nativeEvent);if(p===null){p=l.nativeEvent;var v=new p.constructor(p.type,p);c1=v,p.target.dispatchEvent(v),c1=null}else return u=Qe(p),u!==null&&fC(u),l.blockedOn=p,!1;u.shift()}return!0}function gC(l,u,p){Mp(l)&&p.delete(u)}function BB(){uv=!1,Po!==null&&Mp(Po)&&(Po=null),Lo!==null&&Mp(Lo)&&(Lo=null),Bo!==null&&Mp(Bo)&&(Bo=null),gd.forEach(gC),xd.forEach(gC)}function Fp(l,u){l.blockedOn===u&&(l.blockedOn=null,uv||(uv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BB)))}var Pp=null;function xC(l){Pp!==l&&(Pp=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pp===l&&(Pp=null);for(var u=0;u<l.length;u+=3){var p=l[u],v=l[u+1],N=l[u+2];if(typeof v!="function"){if(cv(v||p)===null)continue;break}var k=Qe(p);k!==null&&(l.splice(u,3),u-=3,ly(k,{pending:!0,data:N,method:p.method,action:v},v,N))}}))}function Eu(l){function u(ve){return Fp(ve,l)}Po!==null&&Fp(Po,l),Lo!==null&&Fp(Lo,l),Bo!==null&&Fp(Bo,l),gd.forEach(u),xd.forEach(u);for(var p=0;p<Uo.length;p++){var v=Uo[p];v.blockedOn===l&&(v.blockedOn=null)}for(;0<Uo.length&&(p=Uo[0],p.blockedOn===null);)mC(p),p.blockedOn===null&&Uo.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var N=p[v],k=p[v+1],V=N[pe]||null;if(typeof k=="function")V||xC(p);else if(V){var ce=null;if(k&&k.hasAttribute("formAction")){if(N=k,V=k[pe]||null)ce=V.formAction;else if(cv(N)!==null)continue}else ce=V.action;typeof ce=="function"?p[v+1]=ce:(p.splice(v,3),v-=3),xC(p)}}}function yC(){function l(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(V){return N=V})},focusReset:"manual",scroll:"manual"})}function u(){N!==null&&(N(),N=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,N=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),N!==null&&(N(),N=null)}}}function fv(l){this._internalRoot=l}Lp.prototype.render=fv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var p=u.current,v=Fs();cC(p,v,l,u,null,null)},Lp.prototype.unmount=fv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;cC(l.current,2,null,l,null,null),yp(),u[xe]=null}};function Lp(l){this._internalRoot=l}Lp.prototype.unstable_scheduleHydration=function(l){if(l){var u=le();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Uo.length&&u!==0&&u<Uo[p].priority;p++);Uo.splice(p,0,l),p===0&&mC(l)}};var vC=t.version;if(vC!=="19.2.4")throw Error(n(527,vC,"19.2.4"));Z.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=f(u),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var UB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{ht=Bp.inject(UB),Jt=Bp}catch{}}return bd.createRoot=function(l,u){if(!s(l))throw Error(n(299));var p=!1,v="",N=NN,k=AN,V=CN;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError)),u=oC(l,1,!1,null,null,p,v,null,N,k,V,yC),l[xe]=u.current,Wy(l),new fv(u)},bd.hydrateRoot=function(l,u,p){if(!s(l))throw Error(n(299));var v=!1,N="",k=NN,V=AN,ce=CN,ve=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onUncaughtError!==void 0&&(k=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(ce=p.onRecoverableError),p.formState!==void 0&&(ve=p.formState)),u=oC(l,1,!0,u,p??null,v,N,ve,k,V,ce,yC),u.context=lC(null),p=u.current,v=Fs(),v=xo(v),N=To(v),N.callback=null,No(p,N,v),p=v,u.current.lanes=p,dr(u,p),ti(u),l[xe]=u.current,Wy(l),new Lp(u)},bd.version="19.2.4",bd}var kC;function XB(){if(kC)return pv.exports;kC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pv.exports=KB(),pv.exports}var YB=XB();const JB=EE(YB),ZB="Logging",QB="NoHubcallbackProvidedException";var Ls;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"})(Ls||(Ls={}));const RC={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class Hs{constructor(t,r=Ls.WARN){this.name=t,this.level=r,this._pluggables=[]}_padding(t){return t<10?"0"+t:""+t}_ts(){const t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()}configure(t){return t?(this._config=t,this._config):this._config}_log(t,...r){let n=this.level;Hs.LOG_LEVEL&&(n=Hs.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);const s=RC[n];if(!(RC[t]>=s))return;let i=console.log.bind(console);t===Ls.ERROR&&console.error&&(i=console.error.bind(console)),t===Ls.WARN&&console.warn&&(i=console.warn.bind(console)),Hs.BIND_ALL_LOG_LEVELS&&(t===Ls.INFO&&console.info&&(i=console.info.bind(console)),t===Ls.DEBUG&&console.debug&&(i=console.debug.bind(console)));const o=`[${t}] ${this._ts()} ${this.name}`;let c="";if(r.length===1&&typeof r[0]=="string")c=`${o} - ${r[0]}`,i(c);else if(r.length===1)c=`${o} ${r[0]}`,i(o,r[0]);else if(typeof r[0]=="string"){let f=r.slice(1);f.length===1&&(f=f[0]),c=`${o} - ${r[0]} ${f}`,i(`${o} - ${r[0]}`,f)}else c=`${o} ${r}`,i(o,r);for(const f of this._pluggables){const h={message:c,timestamp:Date.now()};f.pushLogs([h])}}log(...t){this._log(Ls.INFO,...t)}info(...t){this._log(Ls.INFO,...t)}warn(...t){this._log(Ls.WARN,...t)}error(...t){this._log(Ls.ERROR,...t)}debug(...t){this._log(Ls.DEBUG,...t)}verbose(...t){this._log(Ls.VERBOSE,...t)}addPluggable(t){t&&t.getCategoryName()===ZB&&(this._pluggables.push(t),t.configure(this._config))}listPluggables(){return this._pluggables}}Hs.LOG_LEVEL=null;Hs.BIND_ALL_LOG_LEVELS=!1;class Ts extends Error{constructor({message:t,name:r,recoverySuggestion:n,underlyingError:s,metadata:a}){if(super(t),this.name=r,this.underlyingError=s,this.recoverySuggestion=n,a){const{extendedRequestId:i,httpStatusCode:o,requestId:c}=a;this.metadata={extendedRequestId:i,httpStatusCode:o,requestId:c}}this.constructor=Ts,Object.setPrototypeOf(this,Ts.prototype)}}var yc;(function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"})(yc||(yc={}));const _E=(e,t=Ts)=>(r,n,s)=>{const{message:a,recoverySuggestion:i}=e[n];if(!r)throw new t({name:n,message:s?`${a} ${s}`:a,recoverySuggestion:i})},vc=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",wd=new Hs("Hub");class gO{constructor(t){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}_remove(t,r){const n=this.listeners.get(t);if(!n){wd.warn(`No listeners for ${t}`);return}this.listeners.set(t,[...n.filter(({callback:s})=>s!==r)])}dispatch(t,r,n,s){typeof t=="string"&&this.protectedChannels.indexOf(t)>-1&&(s===vc||wd.warn(`WARNING: ${t} is protected and dispatching on it can have unintended consequences`));const a={channel:t,payload:{...r},source:n,patternInfo:[]};try{this._toListeners(a)}catch(i){wd.error(i)}}listen(t,r,n="noname"){let s;if(typeof r!="function")throw new Ts({name:QB,message:"No callback supplied to Hub"});s=r;let a=this.listeners.get(t);return a||(a=[],this.listeners.set(t,a)),a.push({name:n,callback:s}),()=>{this._remove(t,s)}}_toListeners(t){const{channel:r,payload:n}=t,s=this.listeners.get(r);s&&s.forEach(a=>{wd.debug(`Dispatching to ${r} with `,n);try{a.callback(t)}catch(i){wd.error(i)}})}}const Vu=new gO("__default__"),Gm=new gO("internal-hub"),e9=()=>{if(typeof window=="object"&&typeof window.crypto=="object")return window.crypto;if(typeof crypto=="object")return crypto;throw new Ts({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},t9=()=>{if(typeof window<"u"&&typeof window.btoa=="function")return window.btoa;if(typeof btoa=="function")return btoa;throw new Ts({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},r9=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new Ts({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},SE={convert(e,t){let r=e;return t!=null&&t.urlSafe&&(r=r.replace(/-/g,"+").replace(/_/g,"/")),r9()(r)}};var hi;(function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"})(hi||(hi={}));const n9={[hi.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[hi.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[hi.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[hi.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[hi.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},TE=_E(n9);function $t(e){let t=!0;e?t=!!e.userPoolId&&!!e.userPoolClientId:t=!1,TE(t,hi.AuthUserPoolException)}function xO(e){var r,n,s,a,i,o,c,f;const t=!!((n=(r=e==null?void 0:e.loginWith)==null?void 0:r.oauth)!=null&&n.domain)&&!!((a=(s=e==null?void 0:e.loginWith)==null?void 0:s.oauth)!=null&&a.redirectSignOut)&&!!((o=(i=e==null?void 0:e.loginWith)==null?void 0:i.oauth)!=null&&o.redirectSignIn)&&!!((f=(c=e==null?void 0:e.loginWith)==null?void 0:c.oauth)!=null&&f.responseType);TE(t,hi.OAuthNotConfigureException)}function km(e){const t=!!(e!=null&&e.identityPoolId);TE(t,hi.InvalidIdentityPoolIdException)}function bc(e){const t=e.split(".");if(t.length!==3)throw new Error("Invalid token");try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(SE.convert(n).split("").map(i=>`%${`00${i.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),a=JSON.parse(s);return{toString:()=>e,payload:a}}catch{throw new Error("Invalid token payload")}}const yO=e=>{const t=Reflect.ownKeys(e);for(const r of t){const n=e[r];(n&&typeof n=="object"||typeof n=="function")&&yO(n)}return Object.freeze(e)},s9=new Hs("parseAWSExports"),a9={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},i9=(e={})=>{var K,re,Y,P,L,oe;if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new Ts({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:r,aws_appsync_graphqlEndpoint:n,aws_appsync_region:s,aws_bots_config:a,aws_cognito_identity_pool_id:i,aws_cognito_sign_up_verification_method:o,aws_cognito_mfa_configuration:c,aws_cognito_mfa_types:f,aws_cognito_password_protection_settings:h,aws_cognito_verification_mechanisms:m,aws_cognito_signup_attributes:x,aws_cognito_social_providers:g,aws_cognito_username_attributes:y,aws_mandatory_sign_in:b,aws_mobile_analytics_app_id:w,aws_mobile_analytics_app_region:E,aws_user_files_s3_bucket:T,aws_user_files_s3_bucket_region:_,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:S,aws_user_pools_id:C,aws_user_pools_web_client_id:I,geo:j,oauth:q,predictions:D,aws_cloud_logic_custom:Q,Notifications:ae,modelIntrospection:F}=e,X={};w&&(X.Analytics={Pinpoint:{appId:w,region:E}});const{InAppMessaging:M,Push:se}=ae??{};if(M!=null&&M.AWSPinpoint||se!=null&&se.AWSPinpoint){if(M!=null&&M.AWSPinpoint){const{appId:ee,region:ne}=M.AWSPinpoint;X.Notifications={InAppMessaging:{Pinpoint:{appId:ee,region:ne}}}}if(se!=null&&se.AWSPinpoint){const{appId:ee,region:ne}=se.AWSPinpoint;X.Notifications={...X.Notifications,PushNotification:{Pinpoint:{appId:ee,region:ne}}}}}if(Array.isArray(a)&&(X.Interactions={LexV1:Object.fromEntries(a.map(ee=>[ee.name,ee]))}),n){const ee=a9[r];ee||s9.debug(`Invalid authentication type ${r}. Falling back to IAM.`),X.API={GraphQL:{endpoint:n,apiKey:t,region:s,defaultAuthMode:ee??"iam"}},F&&(X.API.GraphQL.modelIntrospection=F)}const J=c?{status:c&&c.toLowerCase(),totpEnabled:(f==null?void 0:f.includes("TOTP"))??!1,smsEnabled:(f==null?void 0:f.includes("SMS"))??!1}:void 0,Z=h?{minLength:h.passwordPolicyMinLength,requireLowercase:((K=h.passwordPolicyCharacters)==null?void 0:K.includes("REQUIRES_LOWERCASE"))??!1,requireUppercase:((re=h.passwordPolicyCharacters)==null?void 0:re.includes("REQUIRES_UPPERCASE"))??!1,requireNumbers:((Y=h.passwordPolicyCharacters)==null?void 0:Y.includes("REQUIRES_NUMBERS"))??!1,requireSpecialCharacters:((P=h.passwordPolicyCharacters)==null?void 0:P.includes("REQUIRES_SYMBOLS"))??!1}:void 0,ie=Array.from(new Set([...m??[],...x??[]])).reduce((ee,ne)=>({...ee,[ne.toLowerCase()]:{required:!0}}),{}),Ee=(y==null?void 0:y.includes("EMAIL"))??!1,G=(y==null?void 0:y.includes("PHONE_NUMBER"))??!1;(i||C)&&(X.Auth={Cognito:{identityPoolId:i,allowGuestAccess:b!=="enable",signUpVerificationMethod:o,userAttributes:ie,userPoolClientId:I,userPoolId:C,mfa:J,passwordFormat:Z,loginWith:{username:!(Ee||G),email:Ee,phone:G}}});const O=q?Object.keys(q).length>0:!1,W=g?g.length>0:!1;if(X.Auth&&O&&(X.Auth.Cognito.loginWith={...X.Auth.Cognito.loginWith,oauth:{...o9(q),...W&&{providers:l9(g)}}}),T&&(X.Storage={S3:{bucket:T,region:_,dangerouslyConnectToHttpEndpointForTesting:S}}),j){const{amazon_location_service:ee}=j;X.Geo={LocationService:{maps:ee.maps,geofenceCollections:ee.geofenceCollections,searchIndices:ee.search_indices,region:ee.region}}}if(Q&&(X.API={...X.API,REST:Q.reduce((ee,ne)=>{const{name:z,endpoint:be,region:U,service:we}=ne;return{...ee,[z]:{endpoint:be,...we?{service:we}:void 0,...U?{region:U}:void 0}}},{})}),D){const{VoiceId:ee}=((oe=(L=D==null?void 0:D.convert)==null?void 0:L.speechGenerator)==null?void 0:oe.defaults)??{};X.Predictions=ee?{...D,convert:{...D.convert,speechGenerator:{...D.convert.speechGenerator,defaults:{voiceId:ee}}}}:D}return X},OC=e=>(e==null?void 0:e.split(","))??[],o9=({domain:e,scope:t,redirectSignIn:r,redirectSignOut:n,responseType:s})=>({domain:e,scopes:t,redirectSignIn:OC(r),redirectSignOut:OC(n),responseType:s}),l9=e=>e.map(t=>{const r=t.toLowerCase();return r.charAt(0).toUpperCase()+r.slice(1)}),c9=Symbol("oauth-listener"),Nn=[];for(let e=0;e<256;++e)Nn.push((e+256).toString(16).slice(1));function u9(e,t=0){return(Nn[e[t+0]]+Nn[e[t+1]]+Nn[e[t+2]]+Nn[e[t+3]]+"-"+Nn[e[t+4]]+Nn[e[t+5]]+"-"+Nn[e[t+6]]+Nn[e[t+7]]+"-"+Nn[e[t+8]]+Nn[e[t+9]]+"-"+Nn[e[t+10]]+Nn[e[t+11]]+Nn[e[t+12]]+Nn[e[t+13]]+Nn[e[t+14]]+Nn[e[t+15]]).toLowerCase()}let yv;const f9=new Uint8Array(16);function d9(){if(!yv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yv=crypto.getRandomValues.bind(crypto)}return yv(f9)}const h9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jC={randomUUID:h9};function p9(e,t,r){var s;if(jC.randomUUID&&!t&&!e)return jC.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??d9();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let a=0;a<16;++a)t[r+a]=n[a];return t}return u9(n)}function m9(e){const{version:t}=e;return t?t.startsWith("1"):!1}function g9(e){if(!e)return;const{bucket_name:t,aws_region:r,buckets:n}=e;return{S3:{bucket:t,region:r,buckets:n&&A9(n)}}}function x9(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:r,identity_pool_id:n,password_policy:s,mfa_configuration:a,mfa_methods:i,unauthenticated_identities_enabled:o,oauth:c,username_attributes:f,standard_required_attributes:h,groups:m,passwordless_options:x}=e,g={Cognito:{userPoolId:t,userPoolClientId:r,groups:m}};return n&&(g.Cognito={...g.Cognito,identityPoolId:n}),s&&(g.Cognito.passwordFormat={requireLowercase:s.require_lowercase,requireNumbers:s.require_numbers,requireUppercase:s.require_uppercase,requireSpecialCharacters:s.require_symbols,minLength:s.min_length??6}),a&&(g.Cognito.mfa={status:N9(a),smsEnabled:i==null?void 0:i.includes("SMS"),totpEnabled:i==null?void 0:i.includes("TOTP")}),o&&(g.Cognito.allowGuestAccess=o),c&&(g.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:c.response_type==="token"?"token":"code",scopes:c.scopes,providers:T9(c.identity_providers)}}),f&&(g.Cognito.loginWith={...g.Cognito.loginWith,email:f.includes("email"),phone:f.includes("phone_number"),username:f.includes("username")}),h&&(g.Cognito.userAttributes=h.reduce((y,b)=>({...y,[b]:{required:!0}}),{})),x&&(g.Cognito.passwordless={emailOtpEnabled:x.email_otp_enabled,smsOtpEnabled:x.sms_otp_enabled,webAuthn:x.web_authn?{relyingPartyId:x.web_authn.relying_party_id,userVerification:x.web_authn.user_verification}:void 0,preferredChallenge:x.preferred_challenge}),g}function y9(e){if(!(e!=null&&e.amazon_pinpoint))return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}function v9(e){if(!e)return;const{aws_region:t,geofence_collections:r,maps:n,search_indices:s}=e;return{LocationService:{region:t,searchIndices:s,geofenceCollections:r,maps:n}}}function b9(e){if(!e)return;const{aws_region:t,default_authorization_type:r,url:n,api_key:s,model_introspection:a}=e;return{GraphQL:{endpoint:n,defaultAuthMode:vO(r),region:t,apiKey:s,modelIntrospection:a}}}function w9(e){if(!(e!=null&&e.events))return;const{url:t,aws_region:r,api_key:n,default_authorization_type:s}=e.events;return{Events:{endpoint:t,defaultAuthMode:vO(s),region:r,apiKey:n}}}function E9(e){if(!e)return;const{aws_region:t,channels:r,amazon_pinpoint_app_id:n}=e,s=r.includes("IN_APP_MESSAGING"),a=r.includes("APNS")||r.includes("FCM");if(!(s||a))return;const i={};return s&&(i.InAppMessaging={Pinpoint:{appId:n,region:t}}),a&&(i.PushNotification={Pinpoint:{appId:n,region:t}}),i}function _9(e){const t={};if(e.storage&&(t.Storage=g9(e.storage)),e.auth&&(t.Auth=x9(e.auth)),e.analytics&&(t.Analytics=y9(e.analytics)),e.geo&&(t.Geo=v9(e.geo)),e.data&&(t.API=b9(e.data)),e.custom){const r=w9(e.custom);r&&"Events"in r&&(t.API={...t.API,...r})}return e.notifications&&(t.Notifications=E9(e.notifications)),t}const S9={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function vO(e){return S9[e]}const DC={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function T9(e=[]){return e.reduce((t,r)=>(DC[r]!==void 0&&t.push(DC[r]),t),[])}function N9(e){return e==="OPTIONAL"?"optional":e==="REQUIRED"?"on":"off"}function A9(e){const t={};return e.forEach(({name:r,bucket_name:n,aws_region:s,paths:a})=>{if(r in t)throw new Error(`Duplicate friendly name found: ${r}. Name must be unique.`);const i=a?Object.entries(a).reduce((o,[c,f])=>(f!==void 0&&(o[c]=f),o),{}):void 0;t[r]={bucketName:n,region:s,paths:i}}),t}const bO=e=>Object.keys(e).some(t=>t.startsWith("aws_"))?i9(e):m9(e)?_9(e):e;function C9(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(h){try{f(n.next(h))}catch(m){i(m)}}function c(h){try{f(n.throw(h))}catch(m){i(m)}}function f(h){h.done?a(h.value):s(h.value).then(o,c)}f((n=n.apply(e,t||[])).next())})}function k9(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(f){return function(h){return c([f,h])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,f[0]&&(r=0)),r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(h){f=[6,h],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var ma=64,R9=32,O9=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),j9=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],D9=Math.pow(2,53)-1,Rm=(function(){function e(){this.state=Int32Array.from(j9),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>D9)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===ma&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%ma>=ma-8){for(var s=this.bufferLength;s<ma;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<ma-8;s++)r.setUint8(s,0);r.setUint32(ma-8,Math.floor(t/4294967296),!0),r.setUint32(ma-4,t),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(R9),s=0;s<8;s++)a[s*4]=this.state[s]>>>24&255,a[s*4+1]=this.state[s]>>>16&255,a[s*4+2]=this.state[s]>>>8&255,a[s*4+3]=this.state[s]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,s=n[0],a=n[1],i=n[2],o=n[3],c=n[4],f=n[5],h=n[6],m=n[7],x=0;x<ma;x++){if(x<16)this.temp[x]=(r[x*4]&255)<<24|(r[x*4+1]&255)<<16|(r[x*4+2]&255)<<8|r[x*4+3]&255;else{var g=this.temp[x-2],y=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10;g=this.temp[x-15];var b=(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;this.temp[x]=(y+this.temp[x-7]|0)+(b+this.temp[x-16]|0)}var w=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&f^~c&h)|0)+(m+(O9[x]+this.temp[x]|0)|0)|0,E=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&a^s&i^a&i)|0;m=h,h=f,f=c,c=o+w|0,o=i,i=a,a=s,s=w+E|0}n[0]+=s,n[1]+=a,n[2]+=i,n[3]+=o,n[4]+=c,n[5]+=f,n[6]+=h,n[7]+=m},e})();const I9=e=>new TextEncoder().encode(e);var M9=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:I9;function wO(e){return e instanceof Uint8Array?e:typeof e=="string"?M9(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function F9(e){return typeof e=="string"?e.length===0:e.byteLength===0}var Km=(function(){function e(t){this.secret=t,this.hash=new Rm,this.reset()}return e.prototype.update=function(t){if(!(F9(t)||this.error))try{this.hash.update(wO(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return C9(this,void 0,void 0,function(){return k9(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Rm,this.secret){this.outer=new Rm;var t=P9(this.secret),r=new Uint8Array(ma);r.set(t);for(var n=0;n<ma;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}},e})();function P9(e){var t=wO(e);if(t.byteLength>ma){var r=new Rm;r.update(t),t=r.digest()}var n=new Uint8Array(ma);return n.set(t),n}for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`)}var Xr;(function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"})(Xr||(Xr={}));var i2;(function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"})(i2||(i2={}));var IC;(function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"})(IC||(IC={}));var MC;(function(e){e.Record="1",e.IdentifyUser="2"})(MC||(MC={}));var FC;(function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"})(FC||(FC={}));var Wn;(function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"})(Wn||(Wn={}));var PC;(function(e){e.Subscribe="1",e.GraphQl="2"})(PC||(PC={}));var LC;(function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"})(LC||(LC={}));var BC;(function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"})(BC||(BC={}));var UC;(function(e){e.None="0"})(UC||(UC={}));var zC;(function(e){e.Convert="1",e.Identify="2",e.Interpret="3"})(zC||(zC={}));var HC;(function(e){e.Subscribe="1"})(HC||(HC={}));var qC;(function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"})(qC||(qC={}));var VC;(function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"})(VC||(VC={}));const L9="6.16.0",ox=()=>typeof global<"u",uf=()=>typeof window<"u",EO=()=>typeof document<"u",NE=()=>typeof process<"u",wh=(e,t)=>!!Object.keys(e).find(r=>r.startsWith(t));var $C={};function B9(){const e=n=>n.startsWith("_react")||n.startsWith("__react"),t=n=>Object.keys(n).find(e),r=()=>Array.from(document.querySelectorAll("[id]"));return EO()&&r().some(t)}function U9(){return NE()&&typeof $C<"u"&&!!Object.keys($C).find(e=>e.includes("react"))}function z9(){return uf()&&wh(window,"__VUE")}function H9(){return ox()&&wh(global,"__VUE")}var WC={};function q9(){return uf()&&wh(window,"__SVELTE")}function V9(){return NE()&&typeof WC<"u"&&!!Object.keys(WC).find(e=>e.includes("svelte"))}function $9(){return uf()&&window.next&&typeof window.next=="object"}function W9(){return ox()&&(wh(global,"__next")||wh(global,"__NEXT"))}function G9(){return uf()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function K9(){return ox()&&typeof global.__NUXT_PATHS__<"u"}var GC={};function X9(){const e=!!(EO()&&document.querySelector("[ng-version]")),t=!!(uf()&&typeof window.ng<"u");return e||t}function Y9(){var e;return NE()&&typeof GC=="object"&&((e=GC.npm_lifecycle_script)==null?void 0:e.startsWith("ng "))||!1}function J9(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function Z9(){return ox()&&typeof global.expo<"u"}function Q9(){return uf()}const e7=[{platform:Xr.Expo,detectionMethod:Z9},{platform:Xr.ReactNative,detectionMethod:J9},{platform:Xr.NextJs,detectionMethod:$9},{platform:Xr.Nuxt,detectionMethod:G9},{platform:Xr.Angular,detectionMethod:X9},{platform:Xr.React,detectionMethod:B9},{platform:Xr.VueJs,detectionMethod:z9},{platform:Xr.Svelte,detectionMethod:q9},{platform:Xr.WebUnknown,detectionMethod:Q9},{platform:Xr.NextJsSSR,detectionMethod:W9},{platform:Xr.NuxtSSR,detectionMethod:K9},{platform:Xr.ReactSSR,detectionMethod:U9},{platform:Xr.VueJsSSR,detectionMethod:H9},{platform:Xr.AngularSSR,detectionMethod:Y9},{platform:Xr.SvelteSSR,detectionMethod:V9}];function t7(){var e;return((e=e7.find(t=>t.detectionMethod()))==null?void 0:e.platform)||Xr.ServerSideUnknown}let Yd;const vv=[];let o2=!1;const r7=10,n7=10,s7=1e3,_O=()=>{var e;if(!Yd){if(Yd=t7(),o2)for(;vv.length;)(e=vv.pop())==null||e();else vv.forEach(t=>{t()});KC(Xr.ServerSideUnknown,r7),KC(Xr.WebUnknown,n7)}return Yd};function a7(){Yd=void 0}function KC(e,t){Yd===e&&!o2&&setTimeout(()=>{a7(),o2=!0,setTimeout(_O,s7)},t)}const i7={},o7=(e,t)=>{var r,n;return(n=(r=i7[e])==null?void 0:r[t])==null?void 0:n.additionalDetails},l7="aws-amplify",c7=e=>e.replace(/\+.*/,""),u7=({category:e,action:t}={})=>{const r=[[l7,c7(L9)]];if(e&&r.push([e,t]),r.push(["framework",_O()]),e&&t){const n=o7(e,t);n&&n.forEach(s=>{r.push(s)})}return r},lx=e=>u7(e).map(([n,s])=>n&&s?`${n}/${s}`:n).join(" "),SO=()=>typeof window<"u"&&typeof window.document<"u",XC=new Hs("Auth");class f7{configure(t,r){var n,s;this.authConfig=t,this.authOptions=r,t&&((n=t.Cognito)!=null&&n.userPoolEndpoint)&&XC.warn(YC("Amazon Cognito User Pool")),t&&((s=t.Cognito)!=null&&s.identityPoolEndpoint)&&XC.warn(YC("Amazon Cognito Identity Pool"))}async fetchAuthSession(t={}){var a,i,o,c,f,h;let r,n;const s=await this.getTokens(t);return s?(n=(i=(a=s.accessToken)==null?void 0:a.payload)==null?void 0:i.sub,r=await((c=(o=this.authOptions)==null?void 0:o.credentialsProvider)==null?void 0:c.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:s,authenticated:!0,forceRefresh:t.forceRefresh}))):r=await((h=(f=this.authOptions)==null?void 0:f.credentialsProvider)==null?void 0:h.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:t.forceRefresh})),{tokens:s,credentials:r==null?void 0:r.credentials,identityId:r==null?void 0:r.identityId,userSub:n}}async clearCredentials(){var t,r;await((r=(t=this.authOptions)==null?void 0:t.credentialsProvider)==null?void 0:r.clearCredentialsAndIdentityId())}async getTokens(t){var r,n;return await((n=(r=this.authOptions)==null?void 0:r.tokenProvider)==null?void 0:n.getTokens(t))??void 0}}const YC=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`;class d7{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new f7}configure(t,r){var s,a,i,o,c;const n=bO(t);this.resourcesConfig=n,r&&(this.libraryOptions=r),this.resourcesConfig=yO(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),((s=this.resourcesConfig.Analytics)!=null&&s.Pinpoint||(i=(a=this.resourcesConfig.Notifications)==null?void 0:a.InAppMessaging)!=null&&i.Pinpoint||(c=(o=this.resourcesConfig.Notifications)==null?void 0:o.PushNotification)!=null&&c.Pinpoint)&&console.warn("AWS will end support for Amazon Pinpoint on October 30, 2026. The guidance is to use AWS End User Messaging for push notifications and SMS, Amazon Simple Email Service for sending emails, Amazon Connect for campaigns, journeys, endpoints, and engagement analytics. Pinpoint recommends Amazon Kinesis for event collection and mobile analytics."),Vu.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",vc),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[c9](t){var r,n,s;(n=(r=this.resourcesConfig.Auth)==null?void 0:r.Cognito.loginWith)!=null&&n.oauth?t((s=this.resourcesConfig.Auth)==null?void 0:s.Cognito):this.oAuthListener=t}notifyOAuthListener(){var t,r,n;!((r=(t=this.resourcesConfig.Auth)==null?void 0:t.Cognito.loginWith)!=null&&r.oauth)||!this.oAuthListener||(this.oAuthListener((n=this.resourcesConfig.Auth)==null?void 0:n.Cognito),this.oAuthListener=void 0)}}const ur=new d7,h7=(e,t)=>e.Auth.fetchAuthSession(t),cx=e=>h7(ur,e);function TO(){return ur.Auth.clearCredentials()}const ux=e=>{const{headers:t,statusCode:r}=e;return{...p7(e)?e.$metadata:{},httpStatusCode:r,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},p7=e=>typeof(e==null?void 0:e.$metadata)=="object",ff=async e=>{if(!e||e.statusCode<300)return;const t=await Kh(e),n=(i=>{const[o]=i.toString().split(/[,:]+/);return o.includes("#")?o.split("#")[1]:o})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),s=t.message??t.Message??"Unknown error",a=new Error(s);return Object.assign(a,{name:n,$metadata:ux(e)})},Kh=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:ux(e)})},fs=(e,t,r,n)=>async(s,a)=>{const i={...n,...s},o=await i.endpointResolver(i,a),c=await t(a,o),f=await e(c,{...i});return r(f)},m7=300*1e3;function g7(e=m7){return n=>{const s=2**n*100+100*Math.random();return s>e?!1:s}}const NO=3,JC="amz-sdk-invocation-id",x7="amz-sdk-request",ZC=300*1e3,AO=e=>{const r=g7(ZC)(e);return r===!1?ZC:r},y7=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],v7=e=>!!e&&y7.includes(e),CO=e=>async(t,r)=>{const n=r??await e(t)??void 0,s=(n==null?void 0:n.code)||(n==null?void 0:n.name),a=t==null?void 0:t.statusCode;return{retryable:_7(r)||E7(a,s)||v7(s)||S7(a,s)}},b7=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],w7=["TimeoutError","RequestTimeout","RequestTimeoutException"],E7=(e,t)=>e===429||!!t&&b7.includes(t),_7=e=>[yc.NetworkError,"ERR_NETWORK"].includes(e==null?void 0:e.name),S7=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&w7.includes(t),kO="cognito-identity",RO={service:kO,retryDecider:CO(ff),computeDelay:AO,cache:"no-store"},T7=({maxAttempts:e=NO,retryDecider:t,computeDelay:r,abortSignal:n})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(s,a)=>async function(o){let c,f=a.attemptsCount??0,h;const m=()=>{if(h)return QC(h,f),h;throw QC(c,f),c};for(;!(n!=null&&n.aborted)&&f<e;){try{h=await s(o),c=void 0}catch(y){c=y,h=void 0}f=(a.attemptsCount??0)>f?a.attemptsCount??0:f+1,a.attemptsCount=f;const{isCredentialsExpiredError:x,retryable:g}=await t(h,c,a);if(g){if(a.isCredentialsExpired=!!x,!(n!=null&&n.aborted)&&f<e){const y=r(f);await N7(y,n)}continue}else return m()}if(n!=null&&n.aborted)throw new Error("Request aborted.");return m()}},N7=(e,t)=>{if(t!=null&&t.aborted)return Promise.resolve();let r,n;const s=new Promise(a=>{n=a,r=setTimeout(a,e)});return t==null||t.addEventListener("abort",function a(i){clearTimeout(r),t==null||t.removeEventListener("abort",a),n()}),s},QC=(e,t)=>{Object.prototype.toString.call(e)==="[object Object]"&&(e.$metadata={...e.$metadata??{},attempts:t})},A7=p9,C7=()=>e=>async function(r){return r.headers[JC]||(r.headers[JC]=A7()),e(r)},k7=({maxAttempts:e=NO})=>(t,r)=>async function(s){const a=r.attemptsCount??0;return s.headers[x7]=`attempt=${a+1}; max=${e}`,t(s)},R7=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>r=>async function(s){if(t.trim().length===0)return await r(s);{const a=e.toLowerCase();return s.headers[a]=s.headers[a]?`${s.headers[a]} ${t}`:t,await r(s)}},AE=(e,t)=>(r,n)=>{const s={};let a=i=>e(i,n);for(let i=t.length-1;i>=0;i--){const o=t[i];a=o(n)(a,s)}return a(r)},bv=e=>{let t;return()=>(t||(t=e()),t)},O7=e=>!["HEAD","GET"].includes(e.toUpperCase()),j7=async({url:e,method:t,headers:r,body:n},{abortSignal:s,cache:a,withCrossDomainCredentials:i})=>{var m;let o;try{o=await fetch(e,{method:t,headers:r,body:O7(t)?n:void 0,signal:s,cache:a,credentials:i?"include":"same-origin"})}catch(x){throw x instanceof TypeError?new Ts({name:yc.NetworkError,message:"A network error has occurred.",underlyingError:x}):x}const c={};(m=o.headers)==null||m.forEach((x,g)=>{c[g.toLowerCase()]=x});const f={statusCode:o.status,headers:c,body:null},h=Object.assign(o.body??{},{text:bv(()=>o.text()),blob:bv(()=>o.blob()),json:bv(()=>o.json())});return{...f,body:h}},OO=AE(j7,[R7,C7,T7,k7]),D7=()=>e=>async function(r){return r.headers["cache-control"]="no-store",e(r)},jO=AE(OO,[D7]),DO=e=>(t,r)=>{const n=I7(e),s=JSON.stringify(t);return M7(r,n,s)},I7=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),M7=({url:e},t,r)=>({headers:t,url:e,body:r,method:"POST"}),ek=e=>fs(jO,DO("GetCredentialsForIdentity"),F7,{...RO,...e,userAgentValue:lx()}),F7=async e=>{if(e.statusCode>=300)throw await ff(e);const t=await Kh(e);return{IdentityId:t.IdentityId,Credentials:P7(t.Credentials),$metadata:ux(e)}},P7=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(e*1e3)}),L7=e=>fs(jO,DO("GetId"),B7,{...RO,...e,userAgentValue:lx()}),B7=async e=>{if(e.statusCode>=300)throw await ff(e);return{IdentityId:(await Kh(e)).IdentityId,$metadata:ux(e)}},IO={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},U7={partitions:[IO,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},MO=e=>{const{partitions:t}=U7;for(const{regions:r,outputs:n,regionRegex:s}of t){const a=new RegExp(s);if(r.includes(e)||a.test(e))return n.dnsSuffix}return IO.outputs.dnsSuffix},Xh=URL,z7=({region:e})=>({url:new Xh(`https://${kO}.${e}.${MO(e)}`)});class Ld extends Ts{constructor(){super({name:yc.PlatformNotSupported,message:"Function not supported on current platform"})}}class FO{constructor(t){this.storage=t}async setItem(t,r){if(!this.storage)throw new Ld;this.storage.setItem(t,r)}async getItem(t){if(!this.storage)throw new Ld;return this.storage.getItem(t)}async removeItem(t){if(!this.storage)throw new Ld;this.storage.removeItem(t)}async clear(){if(!this.storage)throw new Ld;this.storage.clear()}}class PO{constructor(){this.storage=new Map}get length(){return this.storage.size}key(t){return t>this.length-1?null:Array.from(this.storage.keys())[t]}setItem(t,r){this.storage.set(t,r)}getItem(t){return this.storage.get(t)??null}removeItem(t){this.storage.delete(t)}clear(){this.storage.clear()}}const LO=new Hs("CoreStorageUtils"),H7=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{LO.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new PO},BO=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return LO.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new PO}};class q7 extends FO{constructor(){super(H7())}}class V7 extends FO{constructor(){super(BO())}}class $7{constructor(t){this._storage=t}get storage(){if(!this._storage)throw new Ld;return this._storage}setItem(t,r){this.storage.setItem(t,r)}getItem(t){return this.storage.getItem(t)}removeItem(t){this.storage.removeItem(t)}clear(){this.storage.clear()}}class W7 extends $7{constructor(){super(BO())}}/*! js-cookie v3.0.5 | MIT */function zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var G7={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function l2(e,t){function r(s,a,i){if(!(typeof document>"u")){i=zp({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var c in i)i[c]&&(o+="; "+c,i[c]!==!0&&(o+="="+i[c].split(";")[0]));return document.cookie=s+"="+e.write(a,s)+o}}function n(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var a=document.cookie?document.cookie.split("; "):[],i={},o=0;o<a.length;o++){var c=a[o].split("="),f=c.slice(1).join("=");try{var h=decodeURIComponent(c[0]);if(i[h]=e.read(f,h),s===h)break}catch{}}return s?i[s]:i}}return Object.create({set:r,get:n,remove:function(s,a){r(s,"",zp({},a,{expires:-1}))},withAttributes:function(s){return l2(this.converter,zp({},this.attributes,s))},withConverter:function(s){return l2(zp({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Hp=l2(G7,{path:"/"});class K7{constructor(t={}){const{path:r,domain:n,expires:s,sameSite:a,secure:i}=t;if(this.domain=n,this.path=r||"/",this.expires=Object.prototype.hasOwnProperty.call(t,"expires")?s:365,this.secure=Object.prototype.hasOwnProperty.call(t,"secure")?i:!0,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!a||!["strict","lax","none"].includes(a))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(a==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=a}}async setItem(t,r){Hp.set(t,r,this.getData())}async getItem(t){return Hp.get(t)??null}async removeItem(t){Hp.remove(t,this.getData())}async clear(){const t=Hp.get(),r=Object.keys(t).map(n=>this.removeItem(n));await Promise.all(r)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}const Yh=new q7;new V7;const Xi=new W7,X7=e=>{let t;return async(...r)=>t||(t=new Promise((n,s)=>{e(...r).then(a=>{n(a)}).catch(a=>{s(a)}).finally(()=>{t=void 0})}),t)};function tk({expiresAt:e,clockDrift:t,tolerance:r=5e3}){return Date.now()+t+r>e}const Y7=async()=>{const{userAgentData:e}=navigator;if(!e)return navigator.userAgent;const{platform:t="",platformVersion:r="",model:n="",architecture:s="",fullVersionList:a=[]}=await e.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]),i=a.map(c=>`${c.brand}/${c.version}`).join(";");return[t,r,s,n,t,i].filter(c=>c).join(" ")||navigator.userAgent};function J7(e){return Array.from(e,t=>String.fromCodePoint(t)).join("")}const Eh={convert(e,t={urlSafe:!1,skipPadding:!1}){const r=typeof e=="string"?e:J7(e);let n=t9()(r);return t.urlSafe&&(n=n.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(n=n.replace(/=/g,"")),n}};function Z7(){return e9().getRandomValues(new Uint32Array(1))[0]}function Q7(e){const{words:t}=e,{sigBytes:r}=e,n=[];for(let s=0;s<r;s++){const a=t[s>>>2]>>>24-s%4*8&255;n.push((a>>>4).toString(16)),n.push((a&15).toString(16))}return n.join("")}class CE{constructor(t,r){this.words=[];let n=t;n=this.words=n||[],r!==void 0?this.sigBytes=r:this.sigBytes=n.length*4}random(t){const r=[];for(let n=0;n<t;n+=4)r.push(Z7());return new CE(r,t)}toString(){return Q7(this)}}var bt;(function(e){e.EmptySignInUsername="EmptySignInUsername",e.EmptySignInPassword="EmptySignInPassword",e.CustomAuthSignInPassword="CustomAuthSignInPassword",e.EmptySignUpUsername="EmptySignUpUsername",e.EmptySignUpPassword="EmptySignUpPassword",e.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",e.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",e.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",e.EmptyChallengeResponse="EmptyChallengeResponse",e.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",e.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",e.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",e.EmptyResetPasswordUsername="EmptyResetPasswordUsername",e.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",e.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",e.IncorrectMFAMethod="IncorrectMFAMethod",e.EmptyUpdatePassword="EmptyUpdatePassword",e.InvalidPreferredChallenge="InvalidPreferredChallenge"})(bt||(bt={}));const UO={[bt.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[bt.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[bt.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[bt.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[bt.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[bt.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[bt.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[bt.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[bt.EmptySignInPassword]:{message:"password is required to signIn"},[bt.EmptySignInUsername]:{message:"username is required to signIn"},[bt.EmptySignUpPassword]:{message:"password is required to signUp"},[bt.EmptySignUpUsername]:{message:"username is required to signUp"},[bt.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[bt.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[bt.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[bt.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[bt.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"},[bt.InvalidPreferredChallenge]:{message:"The preferred challenge is not enabled in your backend configuration",recoverySuggestion:"Ensure the authentication method is enabled in your Amplify backend configuration"}};var rk;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in",e.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings"})(rk||(rk={}));var $u;(function(e){e.SignInException="SignInException",e.OAuthSignInError="OAuthSignInException"})($u||($u={}));class wt extends Ts{constructor(t){super(t),this.constructor=wt,Object.setPrototypeOf(this,wt.prototype)}}function Rr(e,t){const{message:r,recoverySuggestion:n}=UO[t];if(!e)throw new wt({name:t,message:r,recoverySuggestion:n})}function en(e){const t=e==null?void 0:e.split("_")[0];if(!e||e.indexOf("_")<0||!t||typeof t!="string")throw new wt({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function c2(e){if(!e||!e.includes(":"))throw new wt({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}function u2(e){return Object.entries(e).map(([t,r])=>({Name:t,Value:r}))}var nk;(function(e){e.ConcurrentModificationException="ConcurrentModificationException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException"})(nk||(nk={}));var sk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(sk||(sk={}));var ak;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UsernameExistsException="UsernameExistsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(ak||(ak={}));var ik;(function(e){e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(ik||(ik={}));var ok;(function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"})(ok||(ok={}));var lk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(lk||(lk={}));var ck;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(ck||(ck={}));var uk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(uk||(uk={}));var fk;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"})(fk||(fk={}));var dk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(dk||(dk={}));var hk;(function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"})(hk||(hk={}));var pk;(function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"})(pk||(pk={}));var mk;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(mk||(mk={}));var gk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException"})(gk||(gk={}));var Xm;(function(e){e.PasswordResetRequiredException="PasswordResetRequiredException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Xm||(Xm={}));var xk;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"})(xk||(xk={}));var yk;(function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.MFAMethodNotFoundException="MFAMethodNotFoundException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(yk||(yk={}));var vk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(vk||(vk={}));var f2;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UsernameExistsException="UsernameExistsException"})(f2||(f2={}));var bk;(function(e){e.AliasExistsException="AliasExistsException",e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(bk||(bk={}));var wk;(function(e){e.CodeMismatchException="CodeMismatchException",e.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(wk||(wk={}));var Ek;(function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Ek||(Ek={}));var _k;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(_k||(_k={}));var Sk;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Sk||(Sk={}));const fx="UserUnAuthenticatedException",eU="UserAlreadyAuthenticatedException",tU="DeviceMetadataNotFoundException",rU="InvalidRedirectException",nU="InvalidAppSchemeException",sU="InvalidPreferredRedirectUrlException",aU=new wt({name:rU,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new wt({name:nU,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});new wt({name:sU,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."});const iU="InvalidOriginException",oU=new wt({name:iU,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),lU="OAuthSignOutException",cU="TokenRefreshException",uU="UnexpectedSignInInterruptionException";function kE(e){if(!e||!e.accessToken)throw new wt({name:fx,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function fU(e){if(!e||!e.idToken)throw new wt({name:fx,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const dU=new wt({name:cU,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),hU=new wt({name:fx,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function zO(e){if(gU(e))throw dU;if(!mU(e))throw hU}function HO(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new wt({name:tU,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}const pU={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function qO(e){return(e==null?void 0:e.accessToken)||(e==null?void 0:e.idToken)}function mU(e){return qO(e)&&(e==null?void 0:e.refreshToken)}function gU(e){return qO(e)&&!(e!=null&&e.refreshToken)}const xU=async e=>{var o,c;const t=(o=e.getConfig().Auth)==null?void 0:o.Cognito;$t(t);const r=await e.Auth.getTokens({forceRefresh:!1});kE(r);const{"cognito:username":n,sub:s}=((c=r.idToken)==null?void 0:c.payload)??{},a={username:n,userId:s},i=yU(r);return i&&(a.signInDetails=i),a};function yU(e){return e==null?void 0:e.signInDetails}const VO=async()=>xU(ur),As=(e,t)=>lx({category:i2.Auth,action:e,...t}),Gs=e=>(t,r)=>{const n=vU(e),s=JSON.stringify(t);return bU(r,n,s)},vU=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),bU=({url:e},t,r)=>({headers:t,url:e,body:r,method:"POST"});function Va(e){if(!e||e.name==="Error"||e instanceof TypeError)throw new wt({name:yc.Unknown,message:"An unknown error has occurred.",underlyingError:e})}const Sa=()=>async e=>{if(e.statusCode>=300){const t=await ff(e);throw Va(t),new wt({name:t.name,message:t.message,metadata:t.$metadata})}return Kh(e)},wU=()=>(e,t)=>async function(n){return n.headers["cache-control"]="no-store",e(n)},Ks=AE(OO,[wU]),$O="cognito-idp",Xs={service:$O,retryDecider:CO(ff),computeDelay:AO,get userAgentValue(){return lx()},cache:"no-store"},Jh=e=>fs(Ks,Gs("InitiateAuth"),Sa(),{...Xs,...e}),dx=e=>fs(Ks,Gs("RespondToAuthChallenge"),Sa(),{...Xs,...e}),EU=e=>fs(Ks,Gs("AssociateSoftwareToken"),Sa(),{...Xs,...e}),_U=({region:e})=>({url:new Xh(`https://${$O}.${e}.${MO(e)}`)}),tn=({endpointOverride:e})=>t=>e?{url:new Xh(e)}:_U(t),SU=e=>fs(Ks,Gs("GetTokensFromRefreshToken"),Sa(),{...Xs,...e}),TU=async({tokens:e,authConfig:t,username:r,clientMetadata:n})=>{var y;$t(t==null?void 0:t.Cognito);const{userPoolId:s,userPoolClientId:a,userPoolEndpoint:i}=t.Cognito,o=en(s);zO(e);const c=SU({endpointResolver:tn({endpointOverride:i})}),{AuthenticationResult:f}=await c({region:o},{ClientId:a,RefreshToken:e.refreshToken,DeviceKey:(y=e.deviceMetadata)==null?void 0:y.deviceKey,ClientMetadata:n}),h=bc((f==null?void 0:f.AccessToken)??""),m=f!=null&&f.IdToken?bc(f.IdToken):void 0,{iat:x}=h.payload;if(!x)throw new wt({name:"iatNotFoundException",message:"iat not found in access token"});const g=x*1e3-new Date().getTime();return{accessToken:h,idToken:m,clockDrift:g,refreshToken:(f==null?void 0:f.RefreshToken)??e.refreshToken,username:r}},NU=X7(TU),AU={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var Ym;(function(e){e.InvalidAuthTokens="InvalidAuthTokens"})(Ym||(Ym={}));const CU={[Ym.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},kU=_E(CU),Tk="CognitoIdentityServiceProvider";class RU{getKeyValueStorage(){if(!this.keyValueStorage)throw new wt({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(t){this.keyValueStorage=t}setAuthConfig(t){this.authConfig=t}async loadTokens(){try{const t=await this.getAuthKeys(),r=await this.getKeyValueStorage().getItem(t.accessToken);if(!r)throw new wt({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const n=bc(r),s=await this.getKeyValueStorage().getItem(t.idToken),a=s?bc(s):void 0,i=await this.getKeyValueStorage().getItem(t.refreshToken)??void 0,o=await this.getKeyValueStorage().getItem(t.clockDrift)??"0",c=Number.parseInt(o),f=await this.getKeyValueStorage().getItem(t.signInDetails),h={accessToken:n,idToken:a,refreshToken:i,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:c,username:await this.getLastAuthUser()};return f&&(h.signInDetails=JSON.parse(f)),h}catch{return null}}async storeTokens(t){kU(t!==void 0,Ym.InvalidAuthTokens);const r=t.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),r);const n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,t.accessToken.toString()),t.idToken?await this.getKeyValueStorage().setItem(n.idToken,t.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),t.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,t.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),t.deviceMetadata&&(t.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,t.deviceMetadata.deviceKey),t.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,t.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,t.deviceMetadata.randomPassword)),t.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(t.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${t.clockDrift}`)}async clearTokens(){const t=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(t.accessToken),this.getKeyValueStorage().removeItem(t.idToken),this.getKeyValueStorage().removeItem(t.clockDrift),this.getKeyValueStorage().removeItem(t.refreshToken),this.getKeyValueStorage().removeItem(t.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(t.oauthMetadata)])}async getDeviceMetadata(t){const r=await this.getAuthKeys(t),n=await this.getKeyValueStorage().getItem(r.deviceKey),s=await this.getKeyValueStorage().getItem(r.deviceGroupKey),a=await this.getKeyValueStorage().getItem(r.randomPasswordKey);return a&&s&&n?{deviceKey:n,deviceGroupKey:s,randomPassword:a}:null}async clearDeviceMetadata(t){const r=await this.getAuthKeys(t);await Promise.all([this.getKeyValueStorage().removeItem(r.deviceKey),this.getKeyValueStorage().removeItem(r.deviceGroupKey),this.getKeyValueStorage().removeItem(r.randomPasswordKey)])}async getAuthKeys(t){var n;$t((n=this.authConfig)==null?void 0:n.Cognito);const r=t??await this.getLastAuthUser();return OU(Tk,`${this.authConfig.Cognito.userPoolClientId}.${r}`)}getLastAuthUserKey(){var r;$t((r=this.authConfig)==null?void 0:r.Cognito);const t=this.authConfig.Cognito.userPoolClientId;return`${Tk}.${t}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(t){const{oauthMetadata:r}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(r,JSON.stringify(t))}async getOAuthMetadata(){const{oauthMetadata:t}=await this.getAuthKeys(),r=await this.getKeyValueStorage().getItem(t);return r&&JSON.parse(r)}}const OU=(e,t)=>RE(AU)(`${e}`,t);function RE(e){const t=Object.values({...e});return(r,n)=>t.reduce((s,a)=>({...s,[a]:`${r}.${n}.${a}`}),{})}const Nk="amplify-signin-with-hostedUI",ri="CognitoIdentityServiceProvider";class WO{constructor(t){this.keyValueStorage=t}async clearOAuthInflightData(){$t(this.cognitoConfig);const t=ni(ri,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(t.inflightOAuth),this.keyValueStorage.removeItem(t.oauthPKCE),this.keyValueStorage.removeItem(t.oauthState)])}async clearOAuthData(){$t(this.cognitoConfig);const t=ni(ri,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(Nk),this.keyValueStorage.removeItem(t.oauthSignIn)}loadOAuthState(){$t(this.cognitoConfig);const t=ni(ri,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthState)}storeOAuthState(t){$t(this.cognitoConfig);const r=ni(ri,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(r.oauthState,t)}loadPKCE(){$t(this.cognitoConfig);const t=ni(ri,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthPKCE)}storePKCE(t){$t(this.cognitoConfig);const r=ni(ri,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(r.oauthPKCE,t)}setAuthConfig(t){this.cognitoConfig=t}async loadOAuthInFlight(){$t(this.cognitoConfig);const t=ni(ri,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(t.inflightOAuth)==="true"}async storeOAuthInFlight(t){$t(this.cognitoConfig);const r=ni(ri,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(r.inflightOAuth,`${t}`)}async loadOAuthSignIn(){var a;$t(this.cognitoConfig);const t=ni(ri,this.cognitoConfig.userPoolClientId),r=await this.keyValueStorage.getItem(Nk),[n,s]=((a=await this.keyValueStorage.getItem(t.oauthSignIn))==null?void 0:a.split(","))??[];return{isOAuthSignIn:n==="true"||r==="true",preferPrivateSession:s==="true"}}async storeOAuthSignIn(t,r=!1){$t(this.cognitoConfig);const n=ni(ri,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${t},${r}`)}}const ni=(e,t)=>RE(pU)(e,t),Ak=new WO(Yh);class jU{constructor(){this.waitForInflightOAuth=SO()?async()=>{if(await Ak.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((t,r)=>{}),this.inflightPromise)}:async()=>{}}setAuthConfig(t){Ak.setAuthConfig(t.Cognito),this.authConfig=t}setTokenRefresher(t){this.tokenRefresher=t}setAuthTokenStore(t){this.tokenStore=t}getTokenStore(){if(!this.tokenStore)throw new wt({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new wt({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}setClientMetadataProvider(t){this.clientMetadataProvider=t}async getTokens(t){var i,o,c,f,h,m;let r;try{$t((i=this.authConfig)==null?void 0:i.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,r=await this.getTokenStore().loadTokens();const n=await this.getTokenStore().getLastAuthUser();if(r===null)return null;const s=!!(r!=null&&r.idToken)&&tk({expiresAt:(((c=(o=r.idToken)==null?void 0:o.payload)==null?void 0:c.exp)??0)*1e3,clockDrift:r.clockDrift??0}),a=tk({expiresAt:(((h=(f=r.accessToken)==null?void 0:f.payload)==null?void 0:h.exp)??0)*1e3,clockDrift:r.clockDrift??0});return(t!=null&&t.forceRefresh||s||a)&&(r=await this.refreshTokens({tokens:r,username:n,clientMetadata:(t==null?void 0:t.clientMetadata)??await((m=this.clientMetadataProvider)==null?void 0:m.call(this))}),r===null)?null:{accessToken:r==null?void 0:r.accessToken,idToken:r==null?void 0:r.idToken,signInDetails:r==null?void 0:r.signInDetails}}async refreshTokens({tokens:t,username:r,clientMetadata:n}){try{const{signInDetails:s}=t,a=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:r,clientMetadata:n});return a.signInDetails=s,await this.setTokens({tokens:a}),Vu.dispatch("auth",{event:"tokenRefresh"},"Auth",vc),a}catch(s){return this.handleErrors(s)}}handleErrors(t){if(Va(t),this.isAuthenticationError(t)&&this.clearTokens(),Vu.dispatch("auth",{event:"tokenRefresh_failure",data:{error:t}},"Auth",vc),t.name.startsWith("NotAuthorizedException"))return null;throw t}isAuthenticationError(t){return["NotAuthorizedException","TokenRevokedException","UserNotFoundException","PasswordResetRequiredException","UserNotConfirmedException","RefreshTokenReuseException"].some(n=>{var s,a;return(a=(s=t==null?void 0:t.name)==null?void 0:s.startsWith)==null?void 0:a.call(s,n)})}async setTokens({tokens:t}){return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(t){return this.getTokenStore().getDeviceMetadata(t)}clearDeviceMetadata(t){return this.getTokenStore().clearDeviceMetadata(t)}setOAuthMetadata(t){return this.getTokenStore().setOAuthMetadata(t)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class DU{constructor(){this.authTokenStore=new RU,this.authTokenStore.setKeyValueStorage(Yh),this.tokenOrchestrator=new jU,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(NU)}getTokens(t={}){return this.tokenOrchestrator.getTokens(t)}setKeyValueStorage(t){this.authTokenStore.setKeyValueStorage(t)}setClientMetadataProvider(t){this.tokenOrchestrator.setClientMetadataProvider(t)}setAuthConfig(t){this.authTokenStore.setAuthConfig(t),this.tokenOrchestrator.setAuthConfig(t)}}const Bd=new DU,{tokenOrchestrator:wa}=Bd;async function df(e){if(e.AccessToken){const t=bc(e.AccessToken),r=(t.payload.iat||0)*1e3,n=new Date().getTime(),s=r>0?r-n:0;let a,i,o;e.RefreshToken&&(i=e.RefreshToken),e.IdToken&&(a=bc(e.IdToken)),e!=null&&e.NewDeviceMetadata&&(o=e.NewDeviceMetadata);const c={accessToken:t,idToken:a,refreshToken:i,clockDrift:s,deviceMetadata:o,username:e.username};e!=null&&e.signInDetails&&(c.signInDetails=e.signInDetails),await wa.setTokens({tokens:c})}else throw new Ts({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}const IU="Unable to get user session following successful sign-in.",hf=async()=>{try{Vu.dispatch("auth",{event:"signedIn",data:await VO()},"Auth",vc)}catch(e){throw e.name===fx?new wt({name:uU,message:IU,recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."}):e}};function GO(){return{active:!1}}const MU=(e,t)=>{switch(t.type){case"SET_USERNAME":return{...e,username:t.value};case"SET_SESSION":return{...e,session:t.value};case"START":return{...e,active:!0};case"RESET":return GO();default:return e}},FU=e=>{let t=e(GO(),{type:"RESET"});return{getState:()=>t,dispatch:r=>{t=e(t,r)}}},Qo=FU(MU),PU=180*1e3,qp="CognitoSignInState",Yi={username:`${qp}.username`,challengeName:`${qp}.challengeName`,signInSession:`${qp}.signInSession`,expiry:`${qp}.expiry`},LU=(e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return Vp({signInSession:t.value}),{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return Vp(t.value),{...t.value};case"SET_CHALLENGE_NAME":return Vp({challengeName:t.value}),{...e,challengeName:t.value};case"SET_USERNAME":return Vp({username:t.value}),{...e,username:t.value};case"SET_INITIAL_STATE":return UU();case"RESET_STATE":return KO(),OE();default:return e}},BU=e=>{const t=Number(e),r=Date.now();return t<=r},mi=()=>{ml.dispatch({type:"RESET_STATE"})},KO=()=>{for(const e of Object.values(Yi))Xi.removeItem(e)},OE=()=>({username:void 0,challengeName:void 0,signInSession:void 0}),UU=()=>{const e=Xi.getItem(Yi.expiry);if(!e||BU(e))return KO(),OE();const t=Xi.getItem(Yi.username)??void 0,r=Xi.getItem(Yi.challengeName)??void 0,n=Xi.getItem(Yi.signInSession)??void 0;return{username:t,challengeName:r,signInSession:n}},zU=e=>{let t=e(OE(),{type:"SET_INITIAL_STATE"});return{getState:()=>t,dispatch:r=>{t=e(t,r)}}},ml=zU(LU);function pf(e){ml.dispatch({type:"SET_SIGN_IN_STATE",value:e})}const Vp=({challengeName:e,signInSession:t,username:r})=>{r&&Xi.setItem(Yi.username,r),e&&Xi.setItem(Yi.challengeName,e),t&&(Xi.setItem(Yi.signInSession,t),Xi.setItem(Yi.expiry,String(Date.now()+PU)))},Ck="Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.";class eo extends Ts{constructor(t){super(t),this.constructor=eo,Object.setPrototypeOf(this,eo.prototype)}}var Mr;(function(e){e.PasskeyNotSupported="PasskeyNotSupported",e.PasskeyAlreadyExists="PasskeyAlreadyExists",e.InvalidPasskeyRegistrationOptions="InvalidPasskeyRegistrationOptions",e.InvalidPasskeyAuthenticationOptions="InvalidPasskeyAuthenticationOptions",e.RelyingPartyMismatch="RelyingPartyMismatch",e.PasskeyRegistrationFailed="PasskeyRegistrationFailed",e.PasskeyRetrievalFailed="PasskeyRetrievalFailed",e.PasskeyRegistrationCanceled="PasskeyRegistrationCanceled",e.PasskeyAuthenticationCanceled="PasskeyAuthenticationCanceled",e.PasskeyOperationAborted="PasskeyOperationAborted"})(Mr||(Mr={}));const wv="User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.",kk="Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.",Jm={[Mr.PasskeyNotSupported]:{message:"Passkeys may not be supported on this device.",recoverySuggestion:Ck},[Mr.InvalidPasskeyRegistrationOptions]:{message:"Invalid passkey registration options.",recoverySuggestion:kk},[Mr.InvalidPasskeyAuthenticationOptions]:{message:"Invalid passkey authentication options.",recoverySuggestion:kk},[Mr.PasskeyRegistrationFailed]:{message:"Device failed to create passkey.",recoverySuggestion:Ck},[Mr.PasskeyRetrievalFailed]:{message:"Device failed to retrieve passkey.",recoverySuggestion:"Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."},[Mr.PasskeyAlreadyExists]:{message:"Passkey already exists in authenticator.",recoverySuggestion:"Proceed with existing passkey or try again after deleting the credential."},[Mr.PasskeyRegistrationCanceled]:{message:"Passkey registration ceremony has been canceled.",recoverySuggestion:wv},[Mr.PasskeyAuthenticationCanceled]:{message:"Passkey authentication ceremony has been canceled.",recoverySuggestion:wv},[Mr.PasskeyOperationAborted]:{message:"Passkey operation has been aborted.",recoverySuggestion:wv},[Mr.RelyingPartyMismatch]:{message:"Relying party does not match current domain.",recoverySuggestion:"Ensure relying party identifier matches current domain."}},jE=_E(Jm,eo),HU=e=>{if(e instanceof Error){if(e.name==="AbortError"){const{message:t,recoverySuggestion:r}=Jm[Mr.PasskeyOperationAborted];return new eo({name:Mr.PasskeyOperationAborted,message:t,recoverySuggestion:r,underlyingError:e})}if(e.name==="SecurityError"){const{message:t,recoverySuggestion:r}=Jm[Mr.RelyingPartyMismatch];return new eo({name:Mr.RelyingPartyMismatch,message:t,recoverySuggestion:r,underlyingError:e})}}return new eo({name:yc.Unknown,message:"An unknown error has occurred.",underlyingError:e})},qU=e=>{if(e instanceof eo)return e;if(e instanceof Error&&e.name==="NotAllowedError"){const{message:t,recoverySuggestion:r}=Jm[Mr.PasskeyAuthenticationCanceled];return new eo({name:Mr.PasskeyAuthenticationCanceled,message:t,recoverySuggestion:r,underlyingError:e})}return HU(e)},VU=()=>SO()&&window.isSecureContext&&"credentials"in navigator&&typeof window.PublicKeyCredential=="function",Ed=e=>Eh.convert(new Uint8Array(e),{urlSafe:!0,skipPadding:!0}),Rk=e=>Uint8Array.from(SE.convert(e,{urlSafe:!0}),t=>t.charCodeAt(0)).buffer,$U=e=>{const t=Rk(e.challenge),r=(e.allowCredentials||[]).map(n=>({...n,id:Rk(n.id)}));return{...e,challenge:t,allowCredentials:r}},WU=e=>{const t={clientDataJSON:Ed(e.response.clientDataJSON),authenticatorData:Ed(e.response.authenticatorData),signature:Ed(e.response.signature)};e.response.userHandle&&(t.userHandle=Ed(e.response.userHandle));const r={id:e.id,rawId:Ed(e.rawId),type:e.type,clientExtensionResults:e.getClientExtensionResults(),response:t};return e.authenticatorAttachment&&(r.authenticatorAttachment=e.authenticatorAttachment),r};function GU(e){jE(e&&e instanceof PublicKeyCredential&&e.response instanceof AuthenticatorAssertionResponse,Mr.PasskeyRetrievalFailed)}const KU=async e=>{try{const t=VU();jE(t,Mr.PasskeyNotSupported);const r=$U(e),n=await navigator.credentials.get({publicKey:r});return GU(n),WU(n)}catch(t){throw qU(t)}},XU=e=>fs(Ks,Gs("ConfirmDevice"),Sa(),{...Xs,...e}),Om={convert(e){return new TextEncoder().encode(e)}};function st(e,t){e!=null&&this.fromString(e,t)}function as(){return new st(null,null)}let il;const YU=0xdeadbeefcafe,Ok=(YU&16777215)===15715070;function JU(e,t,r,n,s,a){for(;--a>=0;){const i=t*this[e++]+r[n]+s;s=Math.floor(i/67108864),r[n++]=i&67108863}return s}function ZU(e,t,r,n,s,a){const i=t&32767,o=t>>15;for(;--a>=0;){let c=this[e]&32767;const f=this[e++]>>15,h=o*c+f*i;c=i*c+((h&32767)<<15)+r[n]+(s&1073741823),s=(c>>>30)+(h>>>15)+o*f+(s>>>30),r[n++]=c&1073741823}return s}function QU(e,t,r,n,s,a){const i=t&16383,o=t>>14;for(;--a>=0;){let c=this[e]&16383;const f=this[e++]>>14,h=o*c+f*i;c=i*c+((h&16383)<<14)+r[n]+s,s=(c>>28)+(h>>14)+o*f,r[n++]=c&268435455}return s}const jk=typeof navigator<"u";jk&&Ok&&navigator.appName==="Microsoft Internet Explorer"?(st.prototype.am=ZU,il=30):jk&&Ok&&navigator.appName!=="Netscape"?(st.prototype.am=JU,il=26):(st.prototype.am=QU,il=28);st.prototype.DB=il;st.prototype.DM=(1<<il)-1;st.prototype.DV=1<<il;const DE=52;st.prototype.FV=Math.pow(2,DE);st.prototype.F1=DE-il;st.prototype.F2=2*il-DE;const ez="0123456789abcdefghijklmnopqrstuvwxyz",hx=[];let mf,ya;mf=48;for(ya=0;ya<=9;++ya)hx[mf++]=ya;mf=97;for(ya=10;ya<36;++ya)hx[mf++]=ya;mf=65;for(ya=10;ya<36;++ya)hx[mf++]=ya;function Dk(e){return ez.charAt(e)}function tz(e,t){const r=hx[e.charCodeAt(t)];return r??-1}function rz(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function nz(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function IE(e){const t=as();return t.fromInt(e),t}function sz(e,t){let r;if(t===16)r=4;else if(t===8)r=3;else if(t===2)r=1;else if(t===32)r=5;else if(t===4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let n=e.length,s=!1,a=0;for(;--n>=0;){const i=tz(e,n);if(i<0){e.charAt(n)==="-"&&(s=!0);continue}s=!1,a===0?this[this.t++]=i:a+r>this.DB?(this[this.t-1]|=(i&(1<<this.DB-a)-1)<<a,this[this.t++]=i>>this.DB-a):this[this.t-1]|=i<<a,a+=r,a>=this.DB&&(a-=this.DB)}this.clamp(),s&&st.ZERO.subTo(this,this)}function az(){const e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t}function iz(e){if(this.s<0)return"-"+this.negate().toString(e);let t;if(e==16)t=4;else if(e===8)t=3;else if(e===2)t=1;else if(e===32)t=5;else if(e===4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");const r=(1<<t)-1;let n,s=!1,a="",i=this.t,o=this.DB-i*this.DB%t;if(i-- >0)for(o<this.DB&&(n=this[i]>>o)>0&&(s=!0,a=Dk(n));i>=0;)o<t?(n=(this[i]&(1<<o)-1)<<t-o,n|=this[--i]>>(o+=this.DB-t)):(n=this[i]>>(o-=t)&r,o<=0&&(o+=this.DB,--i)),n>0&&(s=!0),s&&(a+=Dk(n));return s?a:"0"}function oz(){const e=as();return st.ZERO.subTo(this,e),e}function lz(){return this.s<0?this.negate():this}function cz(e){let t=this.s-e.s;if(t!=0)return t;let r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0}function ME(e){let t=1,r;return(r=e>>>16)!==0&&(e=r,t+=16),(r=e>>8)!==0&&(e=r,t+=8),(r=e>>4)!==0&&(e=r,t+=4),(r=e>>2)!==0&&(e=r,t+=2),(r=e>>1)!==0&&(e=r,t+=1),t}function uz(){return this.t<=0?0:this.DB*(this.t-1)+ME(this[this.t-1]^this.s&this.DM)}function fz(e,t){let r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function dz(e,t){for(let r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function hz(e,t){const r=e%this.DB,n=this.DB-r,s=(1<<n)-1,a=Math.floor(e/this.DB);let i=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)t[o+a+1]=this[o]>>n|i,i=(this[o]&s)<<r;for(o=a-1;o>=0;--o)t[o]=0;t[a]=i,t.t=this.t+a+1,t.s=this.s,t.clamp()}function pz(e,t){t.s=this.s;const r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}const n=e%this.DB,s=this.DB-n,a=(1<<n)-1;t[0]=this[r]>>n;for(let i=r+1;i<this.t;++i)t[i-r-1]|=(this[i]&a)<<s,t[i-r]=this[i]>>n;n>0&&(t[this.t-r-1]|=(this.s&a)<<s),t.t=this.t-r,t.clamp()}function mz(e,t){let r=0,n=0;const s=Math.min(e.t,this.t);for(;r<s;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function gz(e,t){const r=this.abs(),n=e.abs();let s=r.t;for(t.t=s+n.t;--s>=0;)t[s]=0;for(s=0;s<n.t;++s)t[s+r.t]=r.am(0,n[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!==e.s&&st.ZERO.subTo(t,t)}function xz(e){const t=this.abs();let r=e.t=2*t.t;for(;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){const n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function yz(e,t,r){const n=e.abs();if(n.t<=0)return;const s=this.abs();if(s.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r===null&&(r=as());const a=as(),i=this.s,o=e.s,c=this.DB-ME(n[n.t-1]);c>0?(n.lShiftTo(c,a),s.lShiftTo(c,r)):(n.copyTo(a),s.copyTo(r));const f=a.t,h=a[f-1];if(h===0)return;const m=h*(1<<this.F1)+(f>1?a[f-2]>>this.F2:0),x=this.FV/m,g=(1<<this.F1)/m,y=1<<this.F2;let b=r.t,w=b-f;const E=t===null?as():t;for(a.dlShiftTo(w,E),r.compareTo(E)>=0&&(r[r.t++]=1,r.subTo(E,r)),st.ONE.dlShiftTo(f,E),E.subTo(a,a);a.t<f;)a[a.t++]=0;for(;--w>=0;){let T=r[--b]===h?this.DM:Math.floor(r[b]*x+(r[b-1]+y)*g);if((r[b]+=a.am(0,T,r,w,0,f))<T)for(a.dlShiftTo(w,E),r.subTo(E,r);r[b]<--T;)r.subTo(E,r)}t!==null&&(r.drShiftTo(f,t),i!==o&&st.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),i<0&&st.ZERO.subTo(r,r)}function vz(e){const t=as();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(st.ZERO)>0&&e.subTo(t,t),t}function bz(){if(this.t<1)return 0;const e=this[0];if((e&1)===0)return 0;let t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function wz(e){return this.compareTo(e)===0}function Ez(e,t){let r=0,n=0;const s=Math.min(e.t,this.t);for(;r<s;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()}function _z(e){const t=as();return this.addTo(e,t),t}function Sz(e){const t=as();return this.subTo(e,t),t}function Tz(e){const t=as();return this.multiplyTo(e,t),t}function Nz(e){const t=as();return this.divRemTo(e,t,null),t}function gf(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Az(e){const t=as();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(st.ZERO)>0&&this.m.subTo(t,t),t}function Cz(e){const t=as();return e.copyTo(t),this.reduce(t),t}function kz(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let r=e[t]&32767;const n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Rz(e,t){e.squareTo(t),this.reduce(t)}function Oz(e,t,r){e.multiplyTo(t,r),this.reduce(r)}gf.prototype.convert=Az;gf.prototype.revert=Cz;gf.prototype.reduce=kz;gf.prototype.mulTo=Oz;gf.prototype.sqrTo=Rz;function jz(e,t,r){let n=e.bitLength(),s,a=IE(1);const i=new gf(t);if(n<=0)return a;n<18?s=1:n<48?s=3:n<144?s=4:n<768?s=5:s=6;const o=[];let c=3;const f=s-1,h=(1<<s)-1;if(o[1]=i.convert(this),s>1){const E=as();for(i.sqrTo(o[1],E);c<=h;)o[c]=as(),i.mulTo(E,o[c-2],o[c]),c+=2}let m=e.t-1,x,g=!0,y=as(),b;for(n=ME(e[m])-1;m>=0;){for(n>=f?x=e[m]>>n-f&h:(x=(e[m]&(1<<n+1)-1)<<f-n,m>0&&(x|=e[m-1]>>this.DB+n-f)),c=s;(x&1)===0;)x>>=1,--c;if((n-=c)<0&&(n+=this.DB,--m),g)o[x].copyTo(a),g=!1;else{for(;c>1;)i.sqrTo(a,y),i.sqrTo(y,a),c-=2;c>0?i.sqrTo(a,y):(b=a,a=y,y=b),i.mulTo(y,o[x],a)}for(;m>=0&&(e[m]&1<<n)===0;)i.sqrTo(a,y),b=a,a=y,y=b,--n<0&&(n=this.DB-1,--m)}const w=i.revert(a);return r(null,w),w}st.prototype.copyTo=rz;st.prototype.fromInt=nz;st.prototype.fromString=sz;st.prototype.clamp=az;st.prototype.dlShiftTo=fz;st.prototype.drShiftTo=dz;st.prototype.lShiftTo=hz;st.prototype.rShiftTo=pz;st.prototype.subTo=mz;st.prototype.multiplyTo=gz;st.prototype.squareTo=xz;st.prototype.divRemTo=yz;st.prototype.invDigit=bz;st.prototype.addTo=Ez;st.prototype.toString=iz;st.prototype.negate=oz;st.prototype.abs=lz;st.prototype.compareTo=cz;st.prototype.bitLength=uz;st.prototype.mod=vz;st.prototype.equals=wz;st.prototype.add=_z;st.prototype.subtract=Sz;st.prototype.multiply=Tz;st.prototype.divide=Nz;st.prototype.modPow=jz;st.ZERO=IE(0);st.ONE=IE(1);const Dz=async({a:e,g:t,k:r,x:n,B:s,N:a,U:i})=>new Promise((o,c)=>{t.modPow(n,a,(f,h)=>{if(f){c(f);return}s.subtract(r.multiply(h)).modPow(e.add(i.multiply(n)),a,(m,x)=>{if(m){c(m);return}o(x.mod(a))})})}),Iz="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",XO={},d2={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),XO[e]=t,d2[t]=e}const Wu=e=>{if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in d2)t[r/2]=d2[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t},FE=e=>{let t="";for(let r=0;r<e.byteLength;r++)t+=XO[e[r]];return t},h2=e=>{const t=new Km;t.update(e);const r=t.digestSync(),n=FE(r);return new Array(64-n.length).join("0")+n},jm=e=>h2(Wu(e)),Mz=/^[89a-f]/i,Gi=e=>{if(!(e instanceof st))throw new Error("Not a BigInteger");const t=e.compareTo(st.ZERO)<0;let r=e.abs().toString(16);if(r=r.length%2!==0?`0${r}`:r,r=Mz.test(r)?`00${r}`:r,t){const n=r.split("").map(a=>{const i=~parseInt(a,16)&15;return"0123456789ABCDEF".charAt(i)}).join("");r=new st(n,16).add(st.ONE).toString(16),r.toUpperCase().startsWith("FF8")&&(r=r.substring(2))}return r},Fz=({A:e,B:t})=>{const r=new st(jm(Gi(e)+Gi(t)),16);if(r.equals(st.ZERO))throw new Error("U cannot be zero.");return r},Pz=(e,t,r)=>{const n=new Km(t);n.update(e);const s=n.digestSync(),a=new Km(s);return a.update(r),a.digestSync().slice(0,16)},PE=e=>{const t=new CE().random(e).toString();return Wu(t)},Lz=()=>Eh.convert(PE(40));class Bz{constructor({userPoolName:t,a:r,g:n,A:s,N:a}){this.encoder=Om,this.userPoolName=t,this.a=r,this.g=n,this.A=s,this.N=a,this.k=new st(jm(`${Gi(a)}${Gi(n)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new wt({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new wt({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new wt({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(t,r){this.randomPassword=Lz();const n=`${t}${r}:${this.randomPassword}`,s=h2(n),a=FE(PE(16));return this.saltToHashDevices=Gi(new st(a,16)),new Promise((i,o)=>{this.g.modPow(new st(jm(this.saltToHashDevices+s),16),this.N,(c,f)=>{if(c){o(c);return}this.verifierDevices=Gi(f),i()})})}async getPasswordAuthenticationKey({username:t,password:r,serverBValue:n,salt:s}){if(n.mod(this.N).equals(st.ZERO))throw new Error("B cannot be zero.");const a=Fz({A:this.A,B:n}),i=`${this.userPoolName}${t}:${r}`,o=h2(i),c=new st(jm(Gi(s)+o),16),f=await Dz({a:this.a,g:this.g,k:this.k,x:c,B:n,N:this.N,U:a}),h=this.encoder.convert("Caldera Derived Key"),m=this.encoder.convert(""),x=new Uint8Array(h.byteLength+m.byteLength);return x.set(h,0),x.set(m,h.byteLength),Pz(Wu(Gi(f)),Wu(Gi(a)),x)}}const Uz=async({a:e,g:t,N:r})=>new Promise((n,s)=>{t.modPow(e,r,(a,i)=>{if(a){s(a);return}if(i.mod(r).equals(st.ZERO)){s(new Error("Illegal parameter. A mod N cannot be 0."));return}n(i)})}),px=async e=>{const t=new st(Iz,16),r=new st("2",16),n=zz(),s=await Uz({a:n,g:r,N:t});return new Bz({userPoolName:e,a:n,g:r,A:s,N:t})},zz=()=>{const e=FE(PE(128));return new st(e,16)};async function xf({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:r,accessToken:n}){if(!r)return;const s=e.split("_")[1]||"",a=await px(s),i=r==null?void 0:r.DeviceKey,o=r==null?void 0:r.DeviceGroupKey;try{await a.generateHashDevice(o??"",i??"")}catch{return}const c={Salt:Eh.convert(Wu(a.getSaltToHashDevices())),PasswordVerifier:Eh.convert(Wu(a.getVerifierDevices()))},f=a.getRandomPassword();try{return await XU({endpointResolver:tn({endpointOverride:t})})({region:en(e)},{AccessToken:n,DeviceName:await Y7(),DeviceKey:r==null?void 0:r.DeviceKey,DeviceSecretVerifierConfig:c}),{deviceKey:i,deviceGroupKey:o,randomPassword:f}}catch{return}}async function Hz(e){var g;const t=(g=ur.getConfig().Auth)==null?void 0:g.Cognito;$t(t);const{username:r,signInSession:n,signInDetails:s,challengeName:a}=ml.getState();if(a!=="WEB_AUTHN"||!r)throw new wt({name:$u.SignInException,message:"Unable to proceed due to invalid sign in state."});const{CREDENTIAL_REQUEST_OPTIONS:i}=e;jE(!!i,Mr.InvalidPasskeyAuthenticationOptions);const o=await KU(JSON.parse(i)),c=dx({endpointResolver:tn({endpointOverride:t.userPoolEndpoint})}),{ChallengeName:f,ChallengeParameters:h,AuthenticationResult:m,Session:x}=await c({region:en(t.userPoolId),userAgentValue:As(Wn.ConfirmSignIn)},{ChallengeName:"WEB_AUTHN",ChallengeResponses:{USERNAME:r,CREDENTIAL:JSON.stringify(o)},ClientId:t.userPoolClientId,Session:n});if(pf({signInSession:x,username:r,challengeName:f,signInDetails:s}),m)return await df({...m,username:r,NewDeviceMetadata:await xf({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:m.NewDeviceMetadata,accessToken:m.AccessToken}),signInDetails:s}),ml.dispatch({type:"RESET_STATE"}),await hf(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};if(f==="WEB_AUTHN")throw new wt({name:$u.SignInException,message:"Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."});return{challengeName:f,challengeParameters:h}}function Ta({username:e,userPoolId:t,userPoolClientId:r}){if(typeof window>"u")return;const n=window.AmazonCognitoAdvancedSecurityData;if(typeof n>"u")return;const s=n.getData(e,t,r);return s?{EncodedData:s}:{}}const qz=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Vz=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],YO=()=>{const e=new Date,t=Vz[e.getUTCDay()],r=qz[e.getUTCMonth()],n=e.getUTCDate();let s=e.getUTCHours();s<10&&(s=`0${s}`);let a=e.getUTCMinutes();a<10&&(a=`0${a}`);let i=e.getUTCSeconds();i<10&&(i=`0${i}`);const o=e.getUTCFullYear();return`${t} ${r} ${n} ${s}:${a}:${i} UTC ${o}`},JO=({userPoolName:e,username:t,challengeParameters:r,dateNow:n,hkdf:s})=>{const a=Om.convert(e),i=Om.convert(t),o=$z(r.SECRET_BLOCK),c=Om.convert(n),f=new Uint8Array(a.byteLength+i.byteLength+o.byteLength+c.byteLength);f.set(a,0),f.set(i,a.byteLength),f.set(o,a.byteLength+i.byteLength),f.set(c,a.byteLength+i.byteLength+o.byteLength);const h=new Km(s);h.update(f);const m=h.digestSync();return Eh.convert(m)},$z=e=>{const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=SE.convert(r),s=new Uint8Array(n.length);for(let a=0;a<n.length;++a)s[a]=n.charCodeAt(a);return s};async function LE({username:e,config:t,clientMetadata:r,session:n,tokenOrchestrator:s}){const{userPoolId:a,userPoolEndpoint:i}=t,o=t.userPoolClientId,c=await(s==null?void 0:s.getDeviceMetadata(e));HO(c);const f=await px(c.deviceGroupKey),h={USERNAME:e,SRP_A:f.A.toString(16),DEVICE_KEY:c.deviceKey},m={ChallengeName:"DEVICE_SRP_AUTH",ClientId:o,ChallengeResponses:h,ClientMetadata:r,Session:n},x=dx({endpointResolver:tn({endpointOverride:i})}),{ChallengeParameters:g,Session:y}=await x({region:en(a)},m);return Wz(e,g,r,y,f,t,s)}async function Wz(e,t,r,n,s,{userPoolId:a,userPoolClientId:i,userPoolEndpoint:o},c){const f=await(c==null?void 0:c.getDeviceMetadata(e));HO(f);const h=new st(t==null?void 0:t.SRP_B,16),m=new st(t==null?void 0:t.SALT,16),{deviceKey:x}=f,{deviceGroupKey:g}=f,y=await s.getPasswordAuthenticationKey({username:f.deviceKey,password:f.randomPassword,serverBValue:h,salt:m}),b=YO(),w={USERNAME:(t==null?void 0:t.USERNAME)??e,PASSWORD_CLAIM_SECRET_BLOCK:t==null?void 0:t.SECRET_BLOCK,TIMESTAMP:b,PASSWORD_CLAIM_SIGNATURE:JO({username:x,userPoolName:g,challengeParameters:t,dateNow:b,hkdf:y}),DEVICE_KEY:x},E=Ta({username:e,userPoolId:a,userPoolClientId:i}),T={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:i,ChallengeResponses:w,Session:n,ClientMetadata:r,UserContextData:E};return dx({endpointResolver:tn({endpointOverride:o})})({region:en(a)},T)}async function ZO(e,t,r,n,s,a,i){const{userPoolId:o,userPoolClientId:c,userPoolEndpoint:f}=a,h=(o==null?void 0:o.split("_")[1])||"",m=new st(t==null?void 0:t.SRP_B,16),x=new st(t==null?void 0:t.SALT,16),g=t==null?void 0:t.USER_ID_FOR_SRP;if(!g)throw new wt({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});const y=await s.getPasswordAuthenticationKey({username:g,password:e,serverBValue:m,salt:x}),b=YO(),w={USERNAME:g,PASSWORD_CLAIM_SECRET_BLOCK:t==null?void 0:t.SECRET_BLOCK,TIMESTAMP:b,PASSWORD_CLAIM_SIGNATURE:JO({username:g,userPoolName:h,challengeParameters:t,dateNow:b,hkdf:y})},E=await i.getDeviceMetadata(g);E&&E.deviceKey&&(w.DEVICE_KEY=E.deviceKey);const T=Ta({username:g,userPoolId:o,userPoolClientId:c}),_={ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:w,ClientMetadata:r,Session:n,ClientId:c,UserContextData:T},C=await dx({endpointResolver:tn({endpointOverride:f})})({region:en(o)},_);return C.ChallengeName==="DEVICE_SRP_AUTH"?LE({username:g,config:a,clientMetadata:r,session:C.Session,tokenOrchestrator:i}):C}async function mx(e,t,r,n){try{return await e(...t)}catch(s){if(s instanceof wt&&s.name==="ResourceNotFoundException"&&s.message.includes("Device does not exist."))return await n.clearDeviceMetadata(r),e(...t);throw s}}function Zh(e){const{dispatch:t}=ml;t({type:"SET_USERNAME",value:e})}async function QO({username:e,password:t,clientMetadata:r,config:n,tokenOrchestrator:s,authFlow:a,preferredChallenge:i}){const{userPoolId:o,userPoolClientId:c,userPoolEndpoint:f}=n,h=(o==null?void 0:o.split("_")[1])||"",m=await px(h),x={USERNAME:e,SRP_A:m.A.toString(16)};a==="USER_AUTH"&&i&&(x.PREFERRED_CHALLENGE=i);const g=Ta({username:e,userPoolId:o,userPoolClientId:c}),y={AuthFlow:a,AuthParameters:x,ClientMetadata:r,ClientId:c,UserContextData:g},w=await Jh({endpointResolver:tn({endpointOverride:f})})({region:en(o),userAgentValue:As(Wn.SignIn)},y),{ChallengeParameters:E,Session:T}=w,_=(E==null?void 0:E.USERNAME)??e;return Zh(_),w.ChallengeName==="PASSWORD_VERIFIER"?mx(ZO,[t,E,r,T,m,n,s],_,s):w}const Ik="userAttributes.";function Gz(e){return"isSignedIn"in e&&"nextStep"in e}async function Kz(e,t,r,n,s){var b,w;const{userPoolClientId:a,userPoolId:i,userPoolEndpoint:o}=n,c={USERNAME:e,PASSWORD:t},f=await s.getDeviceMetadata(e);f&&f.deviceKey&&(c.DEVICE_KEY=f.deviceKey);const h=Ta({username:e,userPoolId:i,userPoolClientId:a}),m={AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:c,ClientMetadata:r,ClientId:a,UserContextData:h},g=await Jh({endpointResolver:tn({endpointOverride:o})})({region:en(i),userAgentValue:As(Wn.SignIn)},m),y=((b=g.ChallengeParameters)==null?void 0:b.USERNAME)??((w=g.ChallengeParameters)==null?void 0:w.USER_ID_FOR_SRP)??e;return Zh(y),g.ChallengeName==="DEVICE_SRP_AUTH"?LE({username:y,config:n,clientMetadata:r,session:g.Session,tokenOrchestrator:s}):g}async function Xz(e,t,r,n,s){return QO({username:e,password:t,clientMetadata:r,config:n,tokenOrchestrator:s,authFlow:"USER_SRP_AUTH"})}async function Yz(e,t,r,n){var y;const{userPoolClientId:s,userPoolId:a,userPoolEndpoint:i}=r,o={USERNAME:e},c=await n.getDeviceMetadata(e);c&&c.deviceKey&&(o.DEVICE_KEY=c.deviceKey);const f=Ta({username:e,userPoolId:a,userPoolClientId:s}),h={AuthFlow:"CUSTOM_AUTH",AuthParameters:o,ClientMetadata:t,ClientId:s,UserContextData:f},x=await Jh({endpointResolver:tn({endpointOverride:i})})({region:en(a),userAgentValue:As(Wn.SignIn)},h),g=((y=x.ChallengeParameters)==null?void 0:y.USERNAME)??e;return Zh(g),x.ChallengeName==="DEVICE_SRP_AUTH"?LE({username:g,config:r,clientMetadata:t,session:x.Session,tokenOrchestrator:n}):x}async function Jz(e,t,r,n,s){$t(n);const{userPoolId:a,userPoolClientId:i,userPoolEndpoint:o}=n,c=(a==null?void 0:a.split("_")[1])||"",f=await px(c),h={USERNAME:e,SRP_A:f.A.toString(16),CHALLENGE_NAME:"SRP_A"},m=Ta({username:e,userPoolId:a,userPoolClientId:i}),x={AuthFlow:"CUSTOM_AUTH",AuthParameters:h,ClientMetadata:r,ClientId:i,UserContextData:m},g=Jh({endpointResolver:tn({endpointOverride:o})}),{ChallengeParameters:y,Session:b}=await g({region:en(a),userAgentValue:As(Wn.SignIn)},x),w=(y==null?void 0:y.USERNAME)??e;return Zh(w),mx(ZO,[t,y,r,b,f,n,s],w,s)}async function yf(e){var a;const{challengeName:t,challengeParameters:r,availableChallenges:n}=e,s=(a=ur.getConfig().Auth)==null?void 0:a.Cognito;switch($t(s),t){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:r}};case"MFA_SETUP":{const{signInSession:i,username:o}=ml.getState(),c=Mk(Fk(r.MFAS_CAN_SETUP))||[],f=tH(c),h=f.includes("TOTP"),m=f.includes("EMAIL");if(h&&m)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",allowedMFATypes:f}};if(m)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"}};if(h){const x=EU({endpointResolver:tn({endpointOverride:s.userPoolEndpoint})}),{Session:g,SecretCode:y}=await x({region:en(s.userPoolId)},{Session:i});return ml.dispatch({type:"SET_SIGN_IN_SESSION",value:g}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:Zz(y,o)}}}throw new wt({name:$u.SignInException,message:`Cannot initiate MFA setup from available types: ${c}`})}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:Qz(r.requiredAttributes)}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:Mk(Fk(r.MFAS_CAN_CHOOSE))}};case"SMS_OTP":case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:r.CODE_DELIVERY_DELIVERY_MEDIUM,destination:r.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}};case"EMAIL_OTP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_EMAIL_CODE",codeDeliveryDetails:{deliveryMedium:r.CODE_DELIVERY_DELIVERY_MEDIUM,destination:r.CODE_DELIVERY_DESTINATION}}};case"WEB_AUTHN":{const i=await Hz(r);return Gz(i)?i:yf(i)}case"PASSWORD":case"PASSWORD_SRP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_PASSWORD"}};case"SELECT_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",availableChallenges:n}}}throw new wt({name:$u.SignInException,message:`An error occurred during the sign in process. ${t} challengeName returned by the underlying service was not addressed.`})}function Zz(e,t){return{sharedSecret:e,getSetupUri:(r,n)=>{const s=`otpauth://totp/${r}:${n??t}?secret=${e}&issuer=${r}`;return new Xh(s)}}}function Qh(e){if(e===Xm.PasswordResetRequiredException)return{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}};if(e===Xm.UserNotConfirmedException)return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}}function Qz(e){return e?JSON.parse(e).map(r=>r.includes(Ik)?r.replace(Ik,""):r):[]}function eH(e){if(e==="SMS_MFA")return"SMS";if(e==="SOFTWARE_TOKEN_MFA")return"TOTP";if(e==="EMAIL_OTP")return"EMAIL"}function Mk(e){if(e)return e.map(eH).filter(Boolean)}function Fk(e){return e?JSON.parse(e):[]}function tH(e){return e.filter(t=>t==="EMAIL"||t==="TOTP")}async function rH(){let e;try{e=await VO()}catch{}if(e&&e.userId&&e.username)throw new wt({name:eU,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}function e0(e){return ml.getState().username??e}async function nH(e){var o;const t=(o=ur.getConfig().Auth)==null?void 0:o.Cognito;$t(t);const{username:r,password:n,options:s}=e,a={loginId:r,authFlowType:"CUSTOM_WITHOUT_SRP"},i=s==null?void 0:s.clientMetadata;Rr(!!r,bt.EmptySignInUsername),Rr(!n,bt.CustomAuthSignInPassword);try{const{ChallengeName:c,ChallengeParameters:f,AuthenticationResult:h,Session:m}=await mx(Yz,[r,i,t,wa],r,wa),x=e0(r);return pf({signInSession:m,username:x,challengeName:c,signInDetails:a}),h?(await df({username:x,...h,NewDeviceMetadata:await xf({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:h.NewDeviceMetadata,accessToken:h.AccessToken}),signInDetails:a}),mi(),await hf(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):yf({challengeName:c,challengeParameters:f})}catch(c){mi(),Va(c);const f=Qh(c.name);if(f)return f;throw c}}async function sH(e){var o;const{username:t,password:r,options:n}=e,s={loginId:t,authFlowType:"CUSTOM_WITH_SRP"},a=(o=ur.getConfig().Auth)==null?void 0:o.Cognito;$t(a);const i=n==null?void 0:n.clientMetadata;Rr(!!t,bt.EmptySignInUsername),Rr(!!r,bt.EmptySignInPassword);try{const{ChallengeName:c,ChallengeParameters:f,AuthenticationResult:h,Session:m}=await Jz(t,r,i,a,wa),x=e0(t);return pf({signInSession:m,username:x,challengeName:c,signInDetails:s}),h?(await df({username:x,...h,NewDeviceMetadata:await xf({userPoolId:a.userPoolId,userPoolEndpoint:a.userPoolEndpoint,newDeviceMetadata:h.NewDeviceMetadata,accessToken:h.AccessToken}),signInDetails:s}),mi(),await hf(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):yf({challengeName:c,challengeParameters:f})}catch(c){mi(),Va(c);const f=Qh(c.name);if(f)return f;throw c}}function io(e=!0){Qo.dispatch({type:"RESET"})}async function Pk(e){var i,o;const{username:t,password:r}=e,n=(i=ur.getConfig().Auth)==null?void 0:i.Cognito,s={loginId:t,authFlowType:"USER_SRP_AUTH"};$t(n);const a=(o=e.options)==null?void 0:o.clientMetadata;Rr(!!t,bt.EmptySignInUsername),Rr(!!r,bt.EmptySignInPassword);try{const{ChallengeName:c,ChallengeParameters:f,AuthenticationResult:h,Session:m}=await Xz(t,r,a,n,wa),x=e0(t);return pf({signInSession:m,username:x,challengeName:c,signInDetails:s}),h?(await df({username:x,...h,NewDeviceMetadata:await xf({userPoolId:n.userPoolId,userPoolEndpoint:n.userPoolEndpoint,newDeviceMetadata:h.NewDeviceMetadata,accessToken:h.AccessToken}),signInDetails:s}),mi(),await hf(),io(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):yf({challengeName:c,challengeParameters:f})}catch(c){mi(),io(),Va(c);const f=Qh(c.name);if(f)return f;throw c}}async function aH(e){var o;const{username:t,password:r,options:n}=e,s=(o=ur.getConfig().Auth)==null?void 0:o.Cognito,a={loginId:t,authFlowType:"USER_PASSWORD_AUTH"};$t(s);const i=n==null?void 0:n.clientMetadata;Rr(!!t,bt.EmptySignInUsername),Rr(!!r,bt.EmptySignInPassword);try{const{ChallengeName:c,ChallengeParameters:f,AuthenticationResult:h,Session:m}=await mx(Kz,[t,r,i,s,wa],t,wa),x=e0(t);return pf({signInSession:m,username:x,challengeName:c,signInDetails:a}),h?(await df({...h,username:x,NewDeviceMetadata:await xf({userPoolId:s.userPoolId,userPoolEndpoint:s.userPoolEndpoint,newDeviceMetadata:h.NewDeviceMetadata,accessToken:h.AccessToken}),signInDetails:a}),mi(),await hf(),io(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):yf({challengeName:c,challengeParameters:f})}catch(c){mi(),io(),Va(c);const f=Qh(c.name);if(f)return f;throw c}}async function iH({username:e,clientMetadata:t,config:r,tokenOrchestrator:n,preferredChallenge:s,password:a,session:i}){const{userPoolId:o,userPoolClientId:c,userPoolEndpoint:f}=r,h=Ta({username:e,userPoolId:o,userPoolClientId:c}),m={USERNAME:e};if(s){if(r.passwordless&&(s==="EMAIL_OTP"&&!r.passwordless.emailOtpEnabled||s==="SMS_OTP"&&!r.passwordless.smsOtpEnabled||s==="WEB_AUTHN"&&!r.passwordless.webAuthn)&&Rr(!1,bt.InvalidPreferredChallenge),s==="PASSWORD_SRP")return Rr(!!a,bt.EmptySignInPassword),QO({username:e,password:a,clientMetadata:t,config:r,tokenOrchestrator:n,authFlow:"USER_AUTH",preferredChallenge:s});s==="PASSWORD"&&(Rr(!!a,bt.EmptySignInPassword),m.PASSWORD=a),m.PREFERRED_CHALLENGE=s}const x={AuthFlow:"USER_AUTH",AuthParameters:m,ClientMetadata:t,ClientId:c,UserContextData:h};i&&(x.Session=i);const y=await Jh({endpointResolver:tn({endpointOverride:f})})({region:en(o),userAgentValue:As(Wn.SignIn)},x);return Zh(e),y}async function oH(e){var c,f;const{username:t,password:r,options:n}=e,s=(c=ur.getConfig().Auth)==null?void 0:c.Cognito,a={loginId:t,authFlowType:"USER_AUTH"};$t(s);const i=n==null?void 0:n.clientMetadata,o=(n==null?void 0:n.preferredChallenge)??((f=s==null?void 0:s.passwordless)==null?void 0:f.preferredChallenge);Rr(!!t,bt.EmptySignInUsername);try{const h={username:t,config:s,tokenOrchestrator:wa,clientMetadata:i,preferredChallenge:o,password:r},m=Qo.getState();m.active&&m.username===t&&(h.session=m.session);const x=await iH(h),g=e0(t);return pf({signInSession:x.Session,username:g,challengeName:x.ChallengeName,signInDetails:a}),x.AuthenticationResult?(await df({username:g,...x.AuthenticationResult,NewDeviceMetadata:await xf({userPoolId:s.userPoolId,userPoolEndpoint:s.userPoolEndpoint,newDeviceMetadata:x.AuthenticationResult.NewDeviceMetadata,accessToken:x.AuthenticationResult.AccessToken}),signInDetails:a}),mi(),await hf(),io(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):yf({challengeName:x.ChallengeName,challengeParameters:x.ChallengeParameters,availableChallenges:"AvailableChallenges"in x?x.AvailableChallenges:void 0})}catch(h){mi(),io(),Va(h);const m=Qh(h.name);if(m)return m;throw h}}async function p2(e){var r;io(!1);const t=(r=e.options)==null?void 0:r.authFlowType;switch(await rH(),t){case"USER_SRP_AUTH":return Pk(e);case"USER_PASSWORD_AUTH":return aH(e);case"CUSTOM_WITHOUT_SRP":return nH(e);case"CUSTOM_WITH_SRP":return sH(e);case"USER_AUTH":return oH(e);default:return Pk(e)}}const lH=180*1e3;function cH(e){const t=Gm.listen("auth-internal",async({payload:n})=>{switch(n.event){case"confirmSignUp":{const s=n.data;s!=null&&s.isSignUpComplete&&(Gm.dispatch("auth-internal",{event:"autoSignIn"}),t())}}}),r=setTimeout(()=>{t(),clearTimeout(r),io()},lH)}const uH=()=>async e=>{if(e.statusCode>=300){const t=await ff(e);if(Va(t),t.name===f2.InvalidParameterException&&/'password'/.test(t.message)&&/Member must not be null/.test(t.message)){const r=bt.EmptySignUpPassword,{message:n,recoverySuggestion:s}=UO[r];throw new wt({name:r,message:n,recoverySuggestion:s})}throw new wt({name:t.name,message:t.message})}return Kh(e)},fH=e=>fs(Ks,Gs("SignUp"),uH(),{...Xs,...e});async function dH(e){var I;const{username:t,password:r,options:n}=e,s=(I=ur.getConfig().Auth)==null?void 0:I.Cognito,a=(s==null?void 0:s.signUpVerificationMethod)??"code",{clientMetadata:i,validationData:o,autoSignIn:c}=e.options??{};$t(s),Rr(!!t,bt.EmptySignUpUsername);const f=typeof c!="boolean"?c:void 0;f==null||f.authFlowType;const{userPoolId:h,userPoolClientId:m,userPoolEndpoint:x}=s,g=fH({endpointResolver:tn({endpointOverride:x})}),y={Username:t,Password:void 0,UserAttributes:(n==null?void 0:n.userAttributes)&&u2(n==null?void 0:n.userAttributes),ClientMetadata:i,ValidationData:o&&u2(o),ClientId:m,UserContextData:Ta({username:t,userPoolId:h,userPoolClientId:m})};r&&(y.Password=r);const{UserSub:b,CodeDeliveryDetails:w,UserConfirmed:E,Session:T}=await g({region:en(h),userAgentValue:As(Wn.SignUp)},y);(f||c===!0)&&(Qo.dispatch({type:"START"}),Qo.dispatch({type:"SET_USERNAME",value:t}),Qo.dispatch({type:"SET_SESSION",value:T}));const _={destination:w==null?void 0:w.Destination,deliveryMedium:w==null?void 0:w.DeliveryMedium,attributeName:w==null?void 0:w.AttributeName},S=!!E,C=Qo.getState().active;if(S)return C?{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:b}:{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:b};if(C){if(a==="link")return{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:_},userId:b};cH()}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:_},userId:b}}const hH=e=>fs(Ks,Gs("ForgotPassword"),Sa(),{...Xs,...e});async function pH(e){var m,x;const{username:t}=e;Rr(!!t,bt.EmptyResetPasswordUsername);const r=(m=ur.getConfig().Auth)==null?void 0:m.Cognito;$t(r);const{userPoolClientId:n,userPoolId:s,userPoolEndpoint:a}=r,i=(x=e.options)==null?void 0:x.clientMetadata,o=Ta({username:t,userPoolId:s,userPoolClientId:n}),h=(await hH({endpointResolver:tn({endpointOverride:a})})({region:en(s),userAgentValue:As(Wn.ResetPassword)},{Username:t,ClientMetadata:i,ClientId:n,UserContextData:o})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:h==null?void 0:h.DeliveryMedium,destination:h==null?void 0:h.Destination,attributeName:h==null?void 0:h.AttributeName}}}}const mH=e=>fs(Ks,Gs("ConfirmForgotPassword"),Sa(),{...Xs,...e});async function gH(e){var m,x;const t=(m=ur.getConfig().Auth)==null?void 0:m.Cognito;$t(t);const{userPoolClientId:r,userPoolId:n,userPoolEndpoint:s}=t,{username:a,newPassword:i}=e;Rr(!!a,bt.EmptyConfirmResetPasswordUsername),Rr(!!i,bt.EmptyConfirmResetPasswordNewPassword);const o=e.confirmationCode;Rr(!!o,bt.EmptyConfirmResetPasswordConfirmationCode);const c=(x=e.options)==null?void 0:x.clientMetadata,f=Ta({username:a,userPoolId:n,userPoolClientId:r});await mH({endpointResolver:tn({endpointOverride:s})})({region:en(t.userPoolId),userAgentValue:As(Wn.ConfirmResetPassword)},{Username:a,ConfirmationCode:o,Password:i,ClientMetadata:c,ClientId:t.userPoolClientId,UserContextData:f})}const xH=e=>fs(Ks,Gs("ResendConfirmationCode"),Sa(),{...Xs,...e});async function yH(e){var g,y;const{username:t}=e;Rr(!!t,bt.EmptySignUpUsername);const r=(g=ur.getConfig().Auth)==null?void 0:g.Cognito;$t(r);const{userPoolClientId:n,userPoolId:s,userPoolEndpoint:a}=r,i=(y=e.options)==null?void 0:y.clientMetadata,o=Ta({username:t,userPoolId:s,userPoolClientId:n}),c=xH({endpointResolver:tn({endpointOverride:a})}),{CodeDeliveryDetails:f}=await c({region:en(r.userPoolId),userAgentValue:As(Wn.ResendSignUpCode)},{Username:t,ClientMetadata:i,ClientId:r.userPoolClientId,UserContextData:o}),{DeliveryMedium:h,AttributeName:m,Destination:x}={...f};return{destination:x,deliveryMedium:h,attributeName:m||void 0}}const vH=e=>fs(Ks,Gs("ConfirmSignUp"),Sa(),{...Xs,...e});async function bH(e){var x;const{username:t,confirmationCode:r,options:n}=e,s=(x=ur.getConfig().Auth)==null?void 0:x.Cognito;$t(s);const{userPoolId:a,userPoolClientId:i,userPoolEndpoint:o}=s,c=n==null?void 0:n.clientMetadata;Rr(!!t,bt.EmptyConfirmSignUpUsername),Rr(!!r,bt.EmptyConfirmSignUpCode);const f=Ta({username:t,userPoolId:a,userPoolClientId:i}),h=vH({endpointResolver:tn({endpointOverride:o})}),{Session:m}=await h({region:en(s.userPoolId),userAgentValue:As(Wn.ConfirmSignUp)},{Username:t,ConfirmationCode:r,ClientMetadata:c,ForceAliasCreation:n==null?void 0:n.forceAliasCreation,ClientId:s.userPoolClientId,UserContextData:f});return new Promise((g,y)=>{try{const b={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},w=Qo.getState();if(!w.active||w.username!==t){g(b),io();return}Qo.dispatch({type:"SET_SESSION",value:m});const E=Gm.listen("auth-internal",({payload:T})=>{switch(T.event){case"autoSignIn":g({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),E()}});Gm.dispatch("auth-internal",{event:"confirmSignUp",data:b})}catch(b){y(b)}})}const wH=e=>fs(Ks,Gs("ChangePassword"),Sa(),{...Xs,...e});async function EH(e){var c;const t=(c=ur.getConfig().Auth)==null?void 0:c.Cognito;$t(t);const{userPoolEndpoint:r,userPoolId:n}=t,{oldPassword:s,newPassword:a}=e;Rr(!!s,bt.EmptyUpdatePassword),Rr(!!a,bt.EmptyUpdatePassword);const{tokens:i}=await cx({forceRefresh:!1});kE(i),await wH({endpointResolver:tn({endpointOverride:r})})({region:en(n),userAgentValue:As(Wn.UpdatePassword)},{AccessToken:i.accessToken.toString(),PreviousPassword:s,ProposedPassword:a})}const _H=e=>fs(Ks,Gs("UpdateUserAttributes"),Sa(),{...Xs,...e}),SH=async e=>{var h;const{userAttributes:t,options:r}=e,n=(h=ur.getConfig().Auth)==null?void 0:h.Cognito,s=r==null?void 0:r.clientMetadata;$t(n);const{userPoolEndpoint:a,userPoolId:i}=n,{tokens:o}=await cx({forceRefresh:!1});kE(o);const c=_H({endpointResolver:tn({endpointOverride:a})}),{CodeDeliveryDetailsList:f}=await c({region:en(i),userAgentValue:As(Wn.UpdateUserAttributes)},{AccessToken:o.accessToken.toString(),ClientMetadata:s,UserAttributes:u2(t)});return{...TH(t),...NH(f)}};function TH(e){var r;const t={};return(r=Object.keys(e))==null||r.forEach(n=>{t[n]={isUpdated:!0,nextStep:{updateAttributeStep:"DONE"}}}),t}function NH(e){const t={};return e==null||e.forEach(r=>{const{AttributeName:n,DeliveryMedium:s,Destination:a}=r;n&&(t[n]={isUpdated:!1,nextStep:{updateAttributeStep:"CONFIRM_ATTRIBUTE_WITH_CODE",codeDeliveryDetails:{attributeName:n,deliveryMedium:s,destination:a}}})}),t}function AH(e,t){{const r=(e==null?void 0:e.find(CH))??(e==null?void 0:e.find(kH)),n=(e==null?void 0:e.find(OH))??(e==null?void 0:e.find(RH));if(r)return r;throw n?oU:aU}}const CH=e=>e.startsWith(String(window.location.origin+(window.location.pathname||"/"))),kH=e=>e.includes(String(window.location.hostname)),RH=e=>e.startsWith("http://"),OH=e=>e.startsWith("https://"),jH=async e=>{window!=null&&window.location&&(window.location.href=e.replace("http://","https://"))},DH=async e=>{await e.clearOAuthData(),wa.clearTokens(),await TO(),Vu.dispatch("auth",{event:"signedOut"},"Auth",vc)},IH=async(e,t=!1,r)=>{xO(e);const{loginWith:n,userPoolClientId:s}=e,{domain:a,redirectSignOut:i}=n.oauth,o=AH(i),c=`https://${a}/logout?${Object.entries({client_id:s,logout_uri:encodeURIComponent(o)}).map(([f,h])=>`${f}=${h}`).join("&")}`;return jH(c)},MH=async(e,t,r,n)=>{const{isOAuthSignIn:s}=await t.loadOAuthSignIn(),a=await r.getOAuthMetadata();if(await DH(t),s||a!=null&&a.oauthSignIn)return IH(e,!1)},FH=e=>fs(Ks,Gs("RevokeToken"),Sa(),{...Xs,...e}),PH=new Hs("Auth");async function m2(e){var n;const t=(n=ur.getConfig().Auth)==null?void 0:n.Cognito;$t(t),await LH(t);let r;try{xO(t),r=!0}catch{r=!1}if(r){const s=new WO(Yh);s.setAuthConfig(t);const{type:a}=await MH(t,s,wa)??{};if(a==="error")throw new wt({name:lU,message:"An error occurred when attempting to log out from OAuth provider."})}else wa.clearTokens(),await TO(),Vu.dispatch("auth",{event:"signedOut"},"Auth",vc)}async function LH(e){try{const{userPoolEndpoint:t,userPoolId:r,userPoolClientId:n}=e,s=await wa.getTokenStore().loadTokens();zO(s),BH(s.accessToken)&&await FH({endpointResolver:tn({endpointOverride:t})})({region:en(r),userAgentValue:As(Wn.SignOut)},{ClientId:n,Token:s.refreshToken})}catch{PH.debug("Client signOut error caught but will proceed with token removal")}}const BH=e=>{var t;return!!((t=e==null?void 0:e.payload)!=null&&t.origin_jti)},UH={identityId:"identityId"},zH=new Hs("DefaultIdentityIdStore");class ej{setAuthConfig(t){km(t.Cognito),this.authConfig=t,this._authKeys=HH("Cognito",t.Cognito.identityPoolId)}constructor(t){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=t}async loadIdentityId(){var t;km((t=this.authConfig)==null?void 0:t.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const r=await this.keyValueStorage.getItem(this._authKeys.identityId);return r?(this._hasGuestIdentityId=!0,{id:r,type:"guest"}):null}}catch(r){return zH.log("Error getting stored IdentityId.",r),null}}async storeIdentityId(t){var r;km((r=this.authConfig)==null?void 0:r.Cognito),t.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,t.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=t.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const HH=(e,t)=>RE(UH)(`com.amplify.${e}`,t),g2=({endpointOverride:e})=>t=>e?{url:new Xh(e)}:z7(t);function tj(e){const t=bc(e).payload.iss,r={};if(!t)throw new wt({name:"InvalidIdTokenException",message:"Invalid Idtoken."});const n=t.replace(/(^\w+:|^)\/\//,"");return r[n]=e,r}async function qH({tokens:e,authConfig:t,identityIdStore:r}){r.setAuthConfig({Cognito:t});const n=await r.loadIdentityId();if(n)return n.id;const s=e!=null&&e.idToken?tj(e.idToken.toString()):{},a=await VH(s,t);return r.storeIdentityId({id:a,type:e?"primary":"guest"}),a}async function VH(e,t){const r=t==null?void 0:t.identityPoolId,n=c2(r),s=L7({endpointResolver:g2({endpointOverride:t.identityPoolEndpoint})});let a;try{a=(await s({region:n},{IdentityPoolId:r,Logins:e})).IdentityId}catch(i){throw Va(i),new wt(i)}if(!a)throw new wt({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return a}const $p=new Hs("CognitoCredentialsProvider"),Lk=3e3*1e3;class rj{constructor(t){this._nextCredentialsRefresh=0,this._identityIdStore=t}async clearCredentialsAndIdentityId(){$p.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){$p.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(t){const r=t.authenticated,{tokens:n}=t,{authConfig:s}=t;try{km(s==null?void 0:s.Cognito)}catch{return}if(!r&&!s.Cognito.allowGuestAccess)return;const{forceRefresh:a}=t,i=this.hasTokenChanged(n),o=await qH({tokens:n,authConfig:s.Cognito,identityIdStore:this._identityIdStore});return(a||i)&&this.clearCredentials(),r?(fU(n),this.credsForOIDCTokens(s.Cognito,n,o)):this.getGuestCredentials(o,s.Cognito)}async getGuestCredentials(t,r){var i,o;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return $p.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const n=c2(r.identityPoolId),s=ek({endpointResolver:g2({endpointOverride:r.identityPoolEndpoint})});let a;try{a=await s({region:n},{IdentityId:t})}catch(c){throw Va(c),new wt(c)}if((i=a==null?void 0:a.Credentials)!=null&&i.AccessKeyId&&((o=a==null?void 0:a.Credentials)!=null&&o.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+Lk;const c={credentials:{accessKeyId:a.Credentials.AccessKeyId,secretAccessKey:a.Credentials.SecretKey,sessionToken:a.Credentials.SessionToken,expiration:a.Credentials.Expiration},identityId:t};return a.IdentityId&&(c.identityId=a.IdentityId,this._identityIdStore.storeIdentityId({id:a.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...c,isAuthenticatedCreds:!1},c}else throw new wt({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(t,r,n){var c,f,h;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return $p.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const s=r.idToken?tj(r.idToken.toString()):{},a=c2(t.identityPoolId),i=ek({endpointResolver:g2({endpointOverride:t.identityPoolEndpoint})});let o;try{o=await i({region:a},{IdentityId:n,Logins:s})}catch(m){throw Va(m),new wt(m)}if((c=o==null?void 0:o.Credentials)!=null&&c.AccessKeyId&&((f=o==null?void 0:o.Credentials)!=null&&f.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+Lk;const m={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:n};return o.IdentityId&&(m.identityId=o.IdentityId,this._identityIdStore.storeIdentityId({id:o.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...m,isAuthenticatedCreds:!0,associatedIdToken:(h=r.idToken)==null?void 0:h.toString()},m}else throw new wt({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(t){var r,n;return!!t&&!!((r=this._credentialsAndIdentityId)!=null&&r.associatedIdToken)&&((n=t.idToken)==null?void 0:n.toString())!==this._credentialsAndIdentityId.associatedIdToken}}function nj(e,t){return function(){return e.apply(t,arguments)}}const{toString:$H}=Object.prototype,{getPrototypeOf:BE}=Object,{iterator:gx,toStringTag:sj}=Symbol,xx=(e=>t=>{const r=$H.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Wa=e=>(e=e.toLowerCase(),t=>xx(t)===e),yx=e=>t=>typeof t===e,{isArray:vf}=Array,Gu=yx("undefined");function t0(e){return e!==null&&!Gu(e)&&e.constructor!==null&&!Gu(e.constructor)&&Es(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const aj=Wa("ArrayBuffer");function WH(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&aj(e.buffer),t}const GH=yx("string"),Es=yx("function"),ij=yx("number"),r0=e=>e!==null&&typeof e=="object",KH=e=>e===!0||e===!1,Dm=e=>{if(xx(e)!=="object")return!1;const t=BE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(sj in e)&&!(gx in e)},XH=e=>{if(!r0(e)||t0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},YH=Wa("Date"),JH=Wa("File"),ZH=Wa("Blob"),QH=Wa("FileList"),eq=e=>r0(e)&&Es(e.pipe),tq=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Es(e.append)&&((t=xx(e))==="formdata"||t==="object"&&Es(e.toString)&&e.toString()==="[object FormData]"))},rq=Wa("URLSearchParams"),[nq,sq,aq,iq]=["ReadableStream","Request","Response","Headers"].map(Wa),oq=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function n0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),vf(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(t0(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let o;for(n=0;n<i;n++)o=a[n],t.call(null,e[o],o,e)}}function oj(e,t){if(t0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lj=e=>!Gu(e)&&e!==ec;function x2(){const{caseless:e,skipUndefined:t}=lj(this)&&this||{},r={},n=(s,a)=>{const i=e&&oj(r,a)||a;Dm(r[i])&&Dm(s)?r[i]=x2(r[i],s):Dm(s)?r[i]=x2({},s):vf(s)?r[i]=s.slice():(!t||!Gu(s))&&(r[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&n0(arguments[s],n);return r}const lq=(e,t,r,{allOwnKeys:n}={})=>(n0(t,(s,a)=>{r&&Es(s)?Object.defineProperty(e,a,{value:nj(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),cq=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uq=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},fq=(e,t,r,n)=>{let s,a,i;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&BE(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},dq=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},hq=e=>{if(!e)return null;if(vf(e))return e;let t=e.length;if(!ij(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},pq=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&BE(Uint8Array)),mq=(e,t)=>{const n=(e&&e[gx]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},gq=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},xq=Wa("HTMLFormElement"),yq=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Bk=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),vq=Wa("RegExp"),cj=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};n0(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},bq=e=>{cj(e,(t,r)=>{if(Es(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Es(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wq=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return vf(e)?n(e):n(String(e).split(t)),r},Eq=()=>{},_q=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Sq(e){return!!(e&&Es(e.append)&&e[sj]==="FormData"&&e[gx])}const Tq=e=>{const t=new Array(10),r=(n,s)=>{if(r0(n)){if(t.indexOf(n)>=0)return;if(t0(n))return n;if(!("toJSON"in n)){t[s]=n;const a=vf(n)?[]:{};return n0(n,(i,o)=>{const c=r(i,s+1);!Gu(c)&&(a[o]=c)}),t[s]=void 0,a}}return n};return r(e,0)},Nq=Wa("AsyncFunction"),Aq=e=>e&&(r0(e)||Es(e))&&Es(e.then)&&Es(e.catch),uj=((e,t)=>e?setImmediate:t?((r,n)=>(ec.addEventListener("message",({source:s,data:a})=>{s===ec&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ec.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Es(ec.postMessage)),Cq=typeof queueMicrotask<"u"?queueMicrotask.bind(ec):typeof process<"u"&&process.nextTick||uj,kq=e=>e!=null&&Es(e[gx]),Me={isArray:vf,isArrayBuffer:aj,isBuffer:t0,isFormData:tq,isArrayBufferView:WH,isString:GH,isNumber:ij,isBoolean:KH,isObject:r0,isPlainObject:Dm,isEmptyObject:XH,isReadableStream:nq,isRequest:sq,isResponse:aq,isHeaders:iq,isUndefined:Gu,isDate:YH,isFile:JH,isBlob:ZH,isRegExp:vq,isFunction:Es,isStream:eq,isURLSearchParams:rq,isTypedArray:pq,isFileList:QH,forEach:n0,merge:x2,extend:lq,trim:oq,stripBOM:cq,inherits:uq,toFlatObject:fq,kindOf:xx,kindOfTest:Wa,endsWith:dq,toArray:hq,forEachEntry:mq,matchAll:gq,isHTMLForm:xq,hasOwnProperty:Bk,hasOwnProp:Bk,reduceDescriptors:cj,freezeMethods:bq,toObjectSet:wq,toCamelCase:yq,noop:Eq,toFiniteNumber:_q,findKey:oj,global:ec,isContextDefined:lj,isSpecCompliantForm:Sq,toJSONObject:Tq,isAsyncFn:Nq,isThenable:Aq,setImmediate:uj,asap:Cq,isIterable:kq};let gt=class fj extends Error{static from(t,r,n,s,a,i){const o=new fj(t.message,r||t.code,n,s,a);return o.cause=t,o.name=t.name,i&&Object.assign(o,i),o}constructor(t,r,n,s,a){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}};gt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";gt.ERR_BAD_OPTION="ERR_BAD_OPTION";gt.ECONNABORTED="ECONNABORTED";gt.ETIMEDOUT="ETIMEDOUT";gt.ERR_NETWORK="ERR_NETWORK";gt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";gt.ERR_DEPRECATED="ERR_DEPRECATED";gt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";gt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";gt.ERR_CANCELED="ERR_CANCELED";gt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";gt.ERR_INVALID_URL="ERR_INVALID_URL";const Rq=null;function y2(e){return Me.isPlainObject(e)||Me.isArray(e)}function dj(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function Uk(e,t,r){return e?e.concat(t).map(function(s,a){return s=dj(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function Oq(e){return Me.isArray(e)&&!e.some(y2)}const jq=Me.toFlatObject(Me,{},null,function(t){return/^is[A-Z]/.test(t)});function vx(e,t,r){if(!Me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!Me.isUndefined(w[b])});const n=r.metaTokens,s=r.visitor||h,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(t);if(!Me.isFunction(s))throw new TypeError("visitor must be a function");function f(y){if(y===null)return"";if(Me.isDate(y))return y.toISOString();if(Me.isBoolean(y))return y.toString();if(!c&&Me.isBlob(y))throw new gt("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(y)||Me.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,b,w){let E=y;if(y&&!w&&typeof y=="object"){if(Me.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(Me.isArray(y)&&Oq(y)||(Me.isFileList(y)||Me.endsWith(b,"[]"))&&(E=Me.toArray(y)))return b=dj(b),E.forEach(function(_,S){!(Me.isUndefined(_)||_===null)&&t.append(i===!0?Uk([b],S,a):i===null?b:b+"[]",f(_))}),!1}return y2(y)?!0:(t.append(Uk(w,b,a),f(y)),!1)}const m=[],x=Object.assign(jq,{defaultVisitor:h,convertValue:f,isVisitable:y2});function g(y,b){if(!Me.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(y),Me.forEach(y,function(E,T){(!(Me.isUndefined(E)||E===null)&&s.call(t,E,Me.isString(T)?T.trim():T,b,x))===!0&&g(E,b?b.concat(T):[T])}),m.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return g(e),t}function zk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function UE(e,t){this._pairs=[],e&&vx(e,this,t)}const hj=UE.prototype;hj.append=function(t,r){this._pairs.push([t,r])};hj.toString=function(t){const r=t?function(n){return t.call(this,n,zk)}:zk;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Dq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pj(e,t,r){if(!t)return e;const n=r&&r.encode||Dq,s=Me.isFunction(r)?{serialize:r}:r,a=s&&s.serialize;let i;if(a?i=a(t,s):i=Me.isURLSearchParams(t)?t.toString():new UE(t,s).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Hk{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const mj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Iq=typeof URLSearchParams<"u"?URLSearchParams:UE,Mq=typeof FormData<"u"?FormData:null,Fq=typeof Blob<"u"?Blob:null,Pq={isBrowser:!0,classes:{URLSearchParams:Iq,FormData:Mq,Blob:Fq},protocols:["http","https","file","blob","url","data"]},zE=typeof window<"u"&&typeof document<"u",v2=typeof navigator=="object"&&navigator||void 0,Lq=zE&&(!v2||["ReactNative","NativeScript","NS"].indexOf(v2.product)<0),Bq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uq=zE&&window.location.href||"http://localhost",zq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zE,hasStandardBrowserEnv:Lq,hasStandardBrowserWebWorkerEnv:Bq,navigator:v2,origin:Uq},Symbol.toStringTag,{value:"Module"})),zn={...zq,...Pq};function Hq(e,t){return vx(e,new zn.classes.URLSearchParams,{visitor:function(r,n,s,a){return zn.isNode&&Me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function qq(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Vq(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function gj(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=a>=r.length;return i=!i&&Me.isArray(s)?s.length:i,c?(Me.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!o):((!s[i]||!Me.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&Me.isArray(s[i])&&(s[i]=Vq(s[i])),!o)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){const r={};return Me.forEachEntry(e,(n,s)=>{t(qq(n),s,r,0)}),r}return null}function $q(e,t,r){if(Me.isString(e))try{return(t||JSON.parse)(e),Me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const s0={transitional:mj,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=Me.isObject(t);if(a&&Me.isHTMLForm(t)&&(t=new FormData(t)),Me.isFormData(t))return s?JSON.stringify(gj(t)):t;if(Me.isArrayBuffer(t)||Me.isBuffer(t)||Me.isStream(t)||Me.isFile(t)||Me.isBlob(t)||Me.isReadableStream(t))return t;if(Me.isArrayBufferView(t))return t.buffer;if(Me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Hq(t,this.formSerializer).toString();if((o=Me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return vx(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),$q(t)):t}],transformResponse:[function(t){const r=this.transitional||s0.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Me.isResponse(t)||Me.isReadableStream(t))return t;if(t&&Me.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?gt.from(o,gt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zn.classes.FormData,Blob:zn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{s0.headers[e]={}});const Wq=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gq=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&Wq[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},qk=Symbol("internals");function _d(e){return e&&String(e).trim().toLowerCase()}function Im(e){return e===!1||e==null?e:Me.isArray(e)?e.map(Im):String(e)}function Kq(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Xq=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ev(e,t,r,n,s){if(Me.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Me.isString(t)){if(Me.isString(n))return t.indexOf(n)!==-1;if(Me.isRegExp(n))return n.test(t)}}function Yq(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Jq(e,t){const r=Me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}let _s=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(o,c,f){const h=_d(c);if(!h)throw new Error("header name must be a non-empty string");const m=Me.findKey(s,h);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||c]=Im(o))}const i=(o,c)=>Me.forEach(o,(f,h)=>a(f,h,c));if(Me.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(Me.isString(t)&&(t=t.trim())&&!Xq(t))i(Gq(t),r);else if(Me.isObject(t)&&Me.isIterable(t)){let o={},c,f;for(const h of t){if(!Me.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[f=h[0]]=(c=o[f])?Me.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}i(o,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=_d(t),t){const n=Me.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return Kq(s);if(Me.isFunction(r))return r.call(this,s,n);if(Me.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=_d(t),t){const n=Me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Ev(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=_d(i),i){const o=Me.findKey(n,i);o&&(!r||Ev(n,n[o],o,r))&&(delete n[o],s=!0)}}return Me.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||Ev(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return Me.forEach(this,(s,a)=>{const i=Me.findKey(n,a);if(i){r[i]=Im(s),delete r[a];return}const o=t?Yq(a):String(a).trim();o!==a&&delete r[a],r[o]=Im(s),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[qk]=this[qk]={accessors:{}}).accessors,s=this.prototype;function a(i){const o=_d(i);n[o]||(Jq(s,i),n[o]=!0)}return Me.isArray(t)?t.forEach(a):a(t),this}};_s.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(_s.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Me.freezeMethods(_s);function _v(e,t){const r=this||s0,n=t||r,s=_s.from(n.headers);let a=n.data;return Me.forEach(e,function(o){a=o.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function xj(e){return!!(e&&e.__CANCEL__)}let a0=class extends gt{constructor(t,r,n){super(t??"canceled",gt.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function yj(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new gt("Request failed with status code "+r.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Zq(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qq(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const f=Date.now(),h=n[a];i||(i=f),r[s]=c,n[s]=f;let m=a,x=0;for(;m!==s;)x+=r[m++],m=m%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),f-i<t)return;const g=h&&f-h;return g?Math.round(x*1e3/g):void 0}}function eV(e,t){let r=0,n=1e3/t,s,a;const i=(f,h=Date.now())=>{r=h,s=null,a&&(clearTimeout(a),a=null),e(...f)};return[(...f)=>{const h=Date.now(),m=h-r;m>=n?i(f,h):(s=f,a||(a=setTimeout(()=>{a=null,i(s)},n-m)))},()=>s&&i(s)]}const Zm=(e,t,r=3)=>{let n=0;const s=Qq(50,250);return eV(a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,c=i-n,f=s(c),h=i<=o;n=i;const m={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:f||void 0,estimated:f&&o&&h?(o-i)/f:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(m)},r)},Vk=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},$k=e=>(...t)=>Me.asap(()=>e(...t)),tV=zn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,zn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(zn.origin),zn.navigator&&/(msie|trident)/i.test(zn.navigator.userAgent)):()=>!0,rV=zn.hasStandardBrowserEnv?{write(e,t,r,n,s,a,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];Me.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),Me.isString(n)&&o.push(`path=${n}`),Me.isString(s)&&o.push(`domain=${s}`),a===!0&&o.push("secure"),Me.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nV(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sV(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vj(e,t,r){let n=!nV(t);return e&&(n||r==!1)?sV(e,t):t}const Wk=e=>e instanceof _s?{...e}:e;function wc(e,t){t=t||{};const r={};function n(f,h,m,x){return Me.isPlainObject(f)&&Me.isPlainObject(h)?Me.merge.call({caseless:x},f,h):Me.isPlainObject(h)?Me.merge({},h):Me.isArray(h)?h.slice():h}function s(f,h,m,x){if(Me.isUndefined(h)){if(!Me.isUndefined(f))return n(void 0,f,m,x)}else return n(f,h,m,x)}function a(f,h){if(!Me.isUndefined(h))return n(void 0,h)}function i(f,h){if(Me.isUndefined(h)){if(!Me.isUndefined(f))return n(void 0,f)}else return n(void 0,h)}function o(f,h,m){if(m in t)return n(f,h);if(m in e)return n(void 0,f)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(f,h,m)=>s(Wk(f),Wk(h),m,!0)};return Me.forEach(Object.keys({...e,...t}),function(h){const m=c[h]||s,x=m(e[h],t[h],h);Me.isUndefined(x)&&m!==o||(r[h]=x)}),r}const bj=e=>{const t=wc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:o}=t;if(t.headers=i=_s.from(i),t.url=pj(vj(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Me.isFormData(r)){if(zn.hasStandardBrowserEnv||zn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Me.isFunction(r.getHeaders)){const c=r.getHeaders(),f=["content-type","content-length"];Object.entries(c).forEach(([h,m])=>{f.includes(h.toLowerCase())&&i.set(h,m)})}}if(zn.hasStandardBrowserEnv&&(n&&Me.isFunction(n)&&(n=n(t)),n||n!==!1&&tV(t.url))){const c=s&&a&&rV.read(a);c&&i.set(s,c)}return t},aV=typeof XMLHttpRequest<"u",iV=aV&&function(e){return new Promise(function(r,n){const s=bj(e);let a=s.data;const i=_s.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:f}=s,h,m,x,g,y;function b(){g&&g(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function E(){if(!w)return;const _=_s.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:_,config:e,request:w};yj(function(j){r(j),b()},function(j){n(j),b()},C),w=null}"onloadend"in w?w.onloadend=E:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(E)},w.onabort=function(){w&&(n(new gt("Request aborted",gt.ECONNABORTED,e,w)),w=null)},w.onerror=function(S){const C=S&&S.message?S.message:"Network Error",I=new gt(C,gt.ERR_NETWORK,e,w);I.event=S||null,n(I),w=null},w.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||mj;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new gt(S,C.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,e,w)),w=null},a===void 0&&i.setContentType(null),"setRequestHeader"in w&&Me.forEach(i.toJSON(),function(S,C){w.setRequestHeader(C,S)}),Me.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),o&&o!=="json"&&(w.responseType=s.responseType),f&&([x,y]=Zm(f,!0),w.addEventListener("progress",x)),c&&w.upload&&([m,g]=Zm(c),w.upload.addEventListener("progress",m),w.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=_=>{w&&(n(!_||_.type?new a0(null,e,w):_),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const T=Zq(s.url);if(T&&zn.protocols.indexOf(T)===-1){n(new gt("Unsupported protocol "+T+":",gt.ERR_BAD_REQUEST,e));return}w.send(a||null)})},oV=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(f){if(!s){s=!0,o();const h=f instanceof Error?f:this.reason;n.abort(h instanceof gt?h:new a0(h instanceof Error?h.message:h))}};let i=t&&setTimeout(()=>{i=null,a(new gt(`timeout of ${t}ms exceeded`,gt.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>Me.asap(o),c}},lV=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},cV=async function*(e,t){for await(const r of uV(e))yield*lV(r,t)},uV=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Gk=(e,t,r,n)=>{const s=cV(e,t);let a=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:f,value:h}=await s.next();if(f){o(),c.close();return}let m=h.byteLength;if(r){let x=a+=m;r(x)}c.enqueue(new Uint8Array(h))}catch(f){throw o(f),f}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},Kk=64*1024,{isFunction:Wp}=Me,fV=(({Request:e,Response:t})=>({Request:e,Response:t}))(Me.global),{ReadableStream:Xk,TextEncoder:Yk}=Me.global,Jk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},dV=e=>{e=Me.merge.call({skipUndefined:!0},fV,e);const{fetch:t,Request:r,Response:n}=e,s=t?Wp(t):typeof fetch=="function",a=Wp(r),i=Wp(n);if(!s)return!1;const o=s&&Wp(Xk),c=s&&(typeof Yk=="function"?(y=>b=>y.encode(b))(new Yk):async y=>new Uint8Array(await new r(y).arrayBuffer())),f=a&&o&&Jk(()=>{let y=!1;const b=new r(zn.origin,{body:new Xk,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),h=i&&o&&Jk(()=>Me.isReadableStream(new n("").body)),m={stream:h&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(b,w)=>{let E=b&&b[y];if(E)return E.call(b);throw new gt(`Response type '${y}' is not supported`,gt.ERR_NOT_SUPPORT,w)})});const x=async y=>{if(y==null)return 0;if(Me.isBlob(y))return y.size;if(Me.isSpecCompliantForm(y))return(await new r(zn.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(y)||Me.isArrayBuffer(y))return y.byteLength;if(Me.isURLSearchParams(y)&&(y=y+""),Me.isString(y))return(await c(y)).byteLength},g=async(y,b)=>{const w=Me.toFiniteNumber(y.getContentLength());return w??x(b)};return async y=>{let{url:b,method:w,data:E,signal:T,cancelToken:_,timeout:S,onDownloadProgress:C,onUploadProgress:I,responseType:j,headers:q,withCredentials:D="same-origin",fetchOptions:Q}=bj(y),ae=t||fetch;j=j?(j+"").toLowerCase():"text";let F=oV([T,_&&_.toAbortSignal()],S),X=null;const M=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let se;try{if(I&&f&&w!=="get"&&w!=="head"&&(se=await g(q,E))!==0){let G=new r(b,{method:"POST",body:E,duplex:"half"}),O;if(Me.isFormData(E)&&(O=G.headers.get("content-type"))&&q.setContentType(O),G.body){const[W,K]=Vk(se,Zm($k(I)));E=Gk(G.body,Kk,W,K)}}Me.isString(D)||(D=D?"include":"omit");const J=a&&"credentials"in r.prototype,Z={...Q,signal:F,method:w.toUpperCase(),headers:q.normalize().toJSON(),body:E,duplex:"half",credentials:J?D:void 0};X=a&&new r(b,Z);let ge=await(a?ae(X,Q):ae(b,Z));const ie=h&&(j==="stream"||j==="response");if(h&&(C||ie&&M)){const G={};["status","statusText","headers"].forEach(re=>{G[re]=ge[re]});const O=Me.toFiniteNumber(ge.headers.get("content-length")),[W,K]=C&&Vk(O,Zm($k(C),!0))||[];ge=new n(Gk(ge.body,Kk,W,()=>{K&&K(),M&&M()}),G)}j=j||"text";let Ee=await m[Me.findKey(m,j)||"text"](ge,y);return!ie&&M&&M(),await new Promise((G,O)=>{yj(G,O,{data:Ee,headers:_s.from(ge.headers),status:ge.status,statusText:ge.statusText,config:y,request:X})})}catch(J){throw M&&M(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,y,X),{cause:J.cause||J}):gt.from(J,J&&J.code,y,X)}}},hV=new Map,wj=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let i=a.length,o=i,c,f,h=hV;for(;o--;)c=a[o],f=h.get(c),f===void 0&&h.set(c,f=o?new Map:dV(t)),h=f;return f};wj();const HE={http:Rq,xhr:iV,fetch:{get:wj}};Me.forEach(HE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Zk=e=>`- ${e}`,pV=e=>Me.isFunction(e)||e===null||e===!1;function mV(e,t){e=Me.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let i=0;i<r;i++){n=e[i];let o;if(s=n,!pV(n)&&(s=HE[(o=String(n)).toLowerCase()],s===void 0))throw new gt(`Unknown adapter '${o}'`);if(s&&(Me.isFunction(s)||(s=s.get(t))))break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(Zk).join(`
`):" "+Zk(i[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const Ej={getAdapter:mV,adapters:HE};function Sv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a0(null,e)}function Qk(e){return Sv(e),e.headers=_s.from(e.headers),e.data=_v.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ej.getAdapter(e.adapter||s0.adapter,e)(e).then(function(n){return Sv(e),n.data=_v.call(e,e.transformResponse,n),n.headers=_s.from(n.headers),n},function(n){return xj(n)||(Sv(e),n&&n.response&&(n.response.data=_v.call(e,e.transformResponse,n.response),n.response.headers=_s.from(n.response.headers))),Promise.reject(n)})}const _j="1.13.4",bx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{bx[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const e4={};bx.transitional=function(t,r,n){function s(a,i){return"[Axios v"+_j+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,o)=>{if(t===!1)throw new gt(s(i," has been removed"+(r?" in "+r:"")),gt.ERR_DEPRECATED);return r&&!e4[i]&&(e4[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,o):!0}};bx.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function gV(e,t,r){if(typeof e!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const o=e[a],c=o===void 0||i(o,a,e);if(c!==!0)throw new gt("option "+a+" must be "+c,gt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new gt("Unknown option "+a,gt.ERR_BAD_OPTION)}}const Mm={assertOptions:gV,validators:bx},si=Mm.validators;let cc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Hk,response:new Hk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=wc(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Mm.assertOptions(n,{silentJSONParsing:si.transitional(si.boolean),forcedJSONParsing:si.transitional(si.boolean),clarifyTimeoutError:si.transitional(si.boolean)},!1),s!=null&&(Me.isFunction(s)?r.paramsSerializer={serialize:s}:Mm.assertOptions(s,{encode:si.function,serialize:si.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Mm.assertOptions(r,{baseUrl:si.spelling("baseURL"),withXsrfToken:si.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&Me.merge(a.common,a[r.method]);a&&Me.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),r.headers=_s.concat(i,a);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let h,m=0,x;if(!c){const y=[Qk.bind(this),void 0];for(y.unshift(...o),y.push(...f),x=y.length,h=Promise.resolve(r);m<x;)h=h.then(y[m++],y[m++]);return h}x=o.length;let g=r;for(;m<x;){const y=o[m++],b=o[m++];try{g=y(g)}catch(w){b.call(this,w);break}}try{h=Qk.call(this,g)}catch(y){return Promise.reject(y)}for(m=0,x=f.length;m<x;)h=h.then(f[m++],f[m++]);return h}getUri(t){t=wc(this.defaults,t);const r=vj(t.baseURL,t.url,t.allowAbsoluteUrls);return pj(r,t.params,t.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(t){cc.prototype[t]=function(r,n){return this.request(wc(n||{},{method:t,url:r,data:(n||{}).data}))}});Me.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,o){return this.request(wc(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}cc.prototype[t]=r(),cc.prototype[t+"Form"]=r(!0)});let xV=class Sj{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(o=>{n.subscribe(o),a=o}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,o){n.reason||(n.reason=new a0(a,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Sj(function(s){t=s}),cancel:t}}};function yV(e){return function(r){return e.apply(null,r)}}function vV(e){return Me.isObject(e)&&e.isAxiosError===!0}const b2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(b2).forEach(([e,t])=>{b2[t]=e});function Tj(e){const t=new cc(e),r=nj(cc.prototype.request,t);return Me.extend(r,cc.prototype,t,{allOwnKeys:!0}),Me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Tj(wc(e,s))},r}const Fr=Tj(s0);Fr.Axios=cc;Fr.CanceledError=a0;Fr.CancelToken=xV;Fr.isCancel=xj;Fr.VERSION=_j;Fr.toFormData=vx;Fr.AxiosError=gt;Fr.Cancel=Fr.CanceledError;Fr.all=function(t){return Promise.all(t)};Fr.spread=yV;Fr.isAxiosError=vV;Fr.mergeConfig=wc;Fr.AxiosHeaders=_s;Fr.formToJSON=e=>gj(Me.isHTMLForm(e)?new FormData(e):e);Fr.getAdapter=Ej.getAdapter;Fr.HttpStatusCode=b2;Fr.default=Fr;const{Axios:s1e,AxiosError:a1e,CanceledError:i1e,isCancel:o1e,CancelToken:l1e,VERSION:c1e,all:u1e,Cancel:f1e,isAxiosError:d1e,spread:h1e,toFormData:p1e,AxiosHeaders:m1e,HttpStatusCode:g1e,formToJSON:x1e,getAdapter:y1e,mergeConfig:v1e}=Fr,Tt=Fr.create({baseURL:"http://52.90.96.105:8000",headers:{"Content-Type":"application/json"}}),w2=e=>{if(typeof e=="string")return e.trim();if(e!==null&&typeof e=="object"){if(Array.isArray(e))return e.map(t=>w2(t));if(Object.getPrototypeOf(e)===Object.prototype){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=w2(e[r]));return t}}return e};Tt.interceptors.request.use(async e=>{var n,s,a;const r=(s=(n=(await cx()).tokens)==null?void 0:n.idToken)==null?void 0:s.toString();return r&&(e.headers.Authorization=`Bearer ${r}`),e.data&&["post","put","patch"].includes(((a=e.method)==null?void 0:a.toLowerCase())||"")&&(e.data=w2(e.data)),e});Tt.interceptors.response.use(e=>e,e=>{var n,s;if(!e.response)return Promise.reject({status:0,message:"Network error. Please check your connection."});const t=e.response.status,r=((n=e.response.data)==null?void 0:n.detail)||((s=e.response.data)==null?void 0:s.message)||"Something went wrong.";return Promise.reject({status:t,message:r})});const Nj=te.createContext(void 0),bV=({children:e})=>{const[t,r]=te.useState(null),[n,s]=te.useState("loading"),[a,i]=te.useState(!1),o=te.useRef(!1),c=async()=>{const m=(await Tt.get("/users/me")).data;r(m),i(!!m.is_active),s("authenticated")};te.useEffect(()=>{(async()=>{var x;if(o.current)return;if(o.current=!0,["/login","/signup","/forgot-password"].includes(window.location.pathname)){s("unauthenticated");return}try{if(!((x=(await cx()).tokens)!=null&&x.idToken)){s("unauthenticated");return}await c()}catch(g){console.error("Auth bootstrap failed:",g),await m2().catch(()=>{}),r(null),i(!1),s("unauthenticated")}})()},[]);const f=async()=>{try{await m2()}finally{r(null),i(!1),s("unauthenticated")}};return d.jsx(Nj.Provider,{value:{user:t,isActive:a,setUser:r,status:n,refreshUser:c,logout:f},children:e})},Ga=()=>{const e=te.useContext(Nj);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t4="popstate";function wV(e={}){function t(n,s){let{pathname:a,search:i,hash:o}=n.location;return E2("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:_h(s)}return _V(t,r,null,e)}function vr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ea(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EV(){return Math.random().toString(36).substring(2,10)}function r4(e,t){return{usr:e.state,key:e.key,idx:t}}function E2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bf(t):t,state:r,key:t&&t.key||n||EV()}}function _h({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function _V(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,o="POP",c=null,f=h();f==null&&(f=0,i.replaceState({...i.state,idx:f},""));function h(){return(i.state||{idx:null}).idx}function m(){o="POP";let w=h(),E=w==null?null:w-f;f=w,c&&c({action:o,location:b.location,delta:E})}function x(w,E){o="PUSH";let T=E2(b.location,w,E);f=h()+1;let _=r4(T,f),S=b.createHref(T);try{i.pushState(_,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(S)}a&&c&&c({action:o,location:b.location,delta:1})}function g(w,E){o="REPLACE";let T=E2(b.location,w,E);f=h();let _=r4(T,f),S=b.createHref(T);i.replaceState(_,"",S),a&&c&&c({action:o,location:b.location,delta:0})}function y(w){return SV(w)}let b={get action(){return o},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(t4,m),c=w,()=>{s.removeEventListener(t4,m),c=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let E=y(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:g,go(w){return i.go(w)}};return b}function SV(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),vr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:_h(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Aj(e,t,r="/"){return TV(e,t,r,!1)}function TV(e,t,r,n){let s=typeof t=="string"?bf(t):t,a=oo(s.pathname||"/",r);if(a==null)return null;let i=Cj(e);NV(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let f=PV(a);o=MV(i[c],f,n)}return o}function Cj(e,t=[],r=[],n="",s=!1){let a=(i,o,c=s,f)=>{let h={relativePath:f===void 0?i.path||"":f,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&c)return;vr(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=to([n,h.relativePath]),x=r.concat(h);i.children&&i.children.length>0&&(vr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Cj(i.children,t,x,m,c)),!(i.path==null&&!i.index)&&t.push({path:m,score:DV(m,i.index),routesMeta:x})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let f of kj(i.path))a(i,o,!0,f)}),t}function kj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=kj(n.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function NV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:IV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var AV=/^:[\w-]+$/,CV=3,kV=2,RV=1,OV=10,jV=-2,n4=e=>e==="*";function DV(e,t){let r=e.split("/"),n=r.length;return r.some(n4)&&(n+=jV),t&&(n+=kV),r.filter(s=>!n4(s)).reduce((s,a)=>s+(AV.test(a)?CV:a===""?RV:OV),n)}function IV(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function MV(e,t,r=!1){let{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],f=o===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=Qm({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),x=c.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=Qm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),i.push({params:s,pathname:to([a,m.pathname]),pathnameBase:zV(to([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=to([a,m.pathnameBase]))}return i}function Qm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=FV(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:m},x)=>{if(h==="*"){let y=o[x]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[x];return m&&!g?f[h]=void 0:f[h]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:i,pattern:e}}function FV(e,t=!1,r=!0){Ea(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function PV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ea(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function oo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var LV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function BV(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?bf(e):e,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=s4(r.substring(1),"/"):a=s4(r,t)):a=t,{pathname:a,search:HV(n),hash:qV(s)}}function s4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Tv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function qE(e){let t=UV(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function VE(e,t,r,n=!1){let s;typeof e=="string"?s=bf(e):(s={...e},vr(!s.pathname||!s.pathname.includes("?"),Tv("?","pathname","search",s)),vr(!s.pathname||!s.pathname.includes("#"),Tv("#","pathname","hash",s)),vr(!s.search||!s.search.includes("#"),Tv("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}o=m>=0?t[m]:"/"}let c=BV(s,o),f=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var to=e=>e.join("/").replace(/\/\/+/g,"/"),zV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),HV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,VV=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function $V(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function WV(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Rj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Oj(e,t){let r=e;if(typeof r!="string"||!LV.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(Rj)try{let a=new URL(window.location.href),i=r.startsWith("//")?new URL(a.protocol+r):new URL(r),o=oo(i.pathname,t);i.origin===a.origin&&o!=null?r=o+i.search+i.hash:s=!0}catch{Ea(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jj=["POST","PUT","PATCH","DELETE"];new Set(jj);var GV=["GET",...jj];new Set(GV);var wf=te.createContext(null);wf.displayName="DataRouter";var wx=te.createContext(null);wx.displayName="DataRouterState";var KV=te.createContext(!1),Dj=te.createContext({isTransitioning:!1});Dj.displayName="ViewTransition";var XV=te.createContext(new Map);XV.displayName="Fetchers";var YV=te.createContext(null);YV.displayName="Await";var Ys=te.createContext(null);Ys.displayName="Navigation";var i0=te.createContext(null);i0.displayName="Location";var Ka=te.createContext({outlet:null,matches:[],isDataRoute:!1});Ka.displayName="Route";var $E=te.createContext(null);$E.displayName="RouteError";var Ij="REACT_ROUTER_ERROR",JV="REDIRECT",ZV="ROUTE_ERROR_RESPONSE";function QV(e){if(e.startsWith(`${Ij}:${JV}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function e$(e){if(e.startsWith(`${Ij}:${ZV}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new VV(t.status,t.statusText,t.data)}catch{}}function t$(e,{relative:t}={}){vr(Ef(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=te.useContext(Ys),{hash:s,pathname:a,search:i}=o0(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:to([r,a])),n.createHref({pathname:o,search:i,hash:s})}function Ef(){return te.useContext(i0)!=null}function Na(){return vr(Ef(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(i0).location}var Mj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fj(e){te.useContext(Ys).static||te.useLayoutEffect(e)}function rn(){let{isDataRoute:e}=te.useContext(Ka);return e?g$():r$()}function r$(){vr(Ef(),"useNavigate() may be used only in the context of a <Router> component.");let e=te.useContext(wf),{basename:t,navigator:r}=te.useContext(Ys),{matches:n}=te.useContext(Ka),{pathname:s}=Na(),a=JSON.stringify(qE(n)),i=te.useRef(!1);return Fj(()=>{i.current=!0}),te.useCallback((c,f={})=>{if(Ea(i.current,Mj),!i.current)return;if(typeof c=="number"){r.go(c);return}let h=VE(c,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:to([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,a,s,e])}var n$=te.createContext(null);function s$(e){let t=te.useContext(Ka).outlet;return te.useMemo(()=>t&&te.createElement(n$.Provider,{value:e},t),[t,e])}function o0(e,{relative:t}={}){let{matches:r}=te.useContext(Ka),{pathname:n}=Na(),s=JSON.stringify(qE(r));return te.useMemo(()=>VE(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function a$(e,t){return Pj(e,t)}function Pj(e,t,r,n,s){var T;vr(Ef(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=te.useContext(Ys),{matches:i}=te.useContext(Ka),o=i[i.length-1],c=o?o.params:{},f=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let _=m&&m.path||"";Bj(f,!m||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=Na(),g;if(t){let _=typeof t=="string"?bf(t):t;vr(h==="/"||((T=_.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=x;let y=g.pathname||"/",b=y;if(h!=="/"){let _=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=Aj(e,{pathname:b});Ea(m||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ea(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=u$(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:to([h,a.encodeLocation?a.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:to([h,a.encodeLocation?a.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),i,r,n,s);return t&&E?te.createElement(i0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},E):E}function i$(){let e=m$(),t=$V(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=te.createElement(te.Fragment,null,te.createElement("p",null," Hey developer "),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:a},"ErrorBoundary")," or"," ",te.createElement("code",{style:a},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},t),r?te.createElement("pre",{style:s},r):null,i)}var o$=te.createElement(i$,null),Lj=class extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=e$(e.digest);r&&(e=r)}let t=e!==void 0?te.createElement(Ka.Provider,{value:this.props.routeContext},te.createElement($E.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?te.createElement(l$,{error:e},t):t}};Lj.contextType=KV;var Nv=new WeakMap;function l$({children:e,error:t}){let{basename:r}=te.useContext(Ys);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=QV(t.digest);if(n){let s=Nv.get(t);if(s)throw s;let a=Oj(n.location,r);if(Rj&&!Nv.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw Nv.set(t,i),i}return te.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function c$({routeContext:e,match:t,children:r}){let n=te.useContext(wf);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),te.createElement(Ka.Provider,{value:e},r)}function u$(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let h=a.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);vr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let o=!1,c=-1;if(r)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:x,errors:g}=r,y=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||y){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=r&&n?(h,m)=>{var x,g;n(h,{location:r.location,params:((g=(x=r.matches)==null?void 0:x[0])==null?void 0:g.params)??{},unstable_pattern:WV(r.matches),errorInfo:m})}:void 0;return a.reduceRight((h,m,x)=>{let g,y=!1,b=null,w=null;r&&(g=i&&m.route.id?i[m.route.id]:void 0,b=m.route.errorElement||o$,o&&(c<0&&x===0?(Bj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):c===x&&(y=!0,w=m.route.hydrateFallbackElement||null)));let E=t.concat(a.slice(0,x+1)),T=()=>{let _;return g?_=b:y?_=w:m.route.Component?_=te.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=h,te.createElement(c$,{match:m,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:_})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?te.createElement(Lj,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):T()},null)}function WE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f$(e){let t=te.useContext(wf);return vr(t,WE(e)),t}function d$(e){let t=te.useContext(wx);return vr(t,WE(e)),t}function h$(e){let t=te.useContext(Ka);return vr(t,WE(e)),t}function GE(e){let t=h$(e),r=t.matches[t.matches.length-1];return vr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function p$(){return GE("useRouteId")}function m$(){var n;let e=te.useContext($E),t=d$("useRouteError"),r=GE("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function g$(){let{router:e}=f$("useNavigate"),t=GE("useNavigate"),r=te.useRef(!1);return Fj(()=>{r.current=!0}),te.useCallback(async(s,a={})=>{Ea(r.current,Mj),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var a4={};function Bj(e,t,r){!t&&!a4[e]&&(a4[e]=!0,Ea(!1,r))}te.memo(x$);function x$({routes:e,future:t,state:r,onError:n}){return Pj(e,void 0,r,n,t)}function Xo({to:e,replace:t,state:r,relative:n}){vr(Ef(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=te.useContext(Ys);Ea(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=te.useContext(Ka),{pathname:i}=Na(),o=rn(),c=VE(e,qE(a),i,n==="path"),f=JSON.stringify(c);return te.useEffect(()=>{o(JSON.parse(f),{replace:t,state:r,relative:n})},[o,f,n,t,r]),null}function Ex(e){return s$(e.context)}function cr(e){vr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:a=!1,unstable_useTransitions:i}){vr(!Ef(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=te.useMemo(()=>({basename:o,navigator:s,static:a,unstable_useTransitions:i,future:{}}),[o,s,a,i]);typeof r=="string"&&(r=bf(r));let{pathname:f="/",search:h="",hash:m="",state:x=null,key:g="default"}=r,y=te.useMemo(()=>{let b=oo(f,o);return b==null?null:{location:{pathname:b,search:h,hash:m,state:x,key:g},navigationType:n}},[o,f,h,m,x,g,n]);return Ea(y!=null,`<Router basename="${o}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:te.createElement(Ys.Provider,{value:c},te.createElement(i0.Provider,{children:t,value:y}))}function v$({children:e,location:t}){return a$(_2(e),t)}function _2(e,t=[]){let r=[];return te.Children.forEach(e,(n,s)=>{if(!te.isValidElement(n))return;let a=[...t,s];if(n.type===te.Fragment){r.push.apply(r,_2(n.props.children,a));return}vr(n.type===cr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=_2(n.props.children,a)),r.push(i)}),r}var Fm="get",Pm="application/x-www-form-urlencoded";function _x(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function b$(e){return _x(e)&&e.tagName.toLowerCase()==="button"}function w$(e){return _x(e)&&e.tagName.toLowerCase()==="form"}function E$(e){return _x(e)&&e.tagName.toLowerCase()==="input"}function _$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S$(e,t){return e.button===0&&(!t||t==="_self")&&!_$(e)}function S2(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function T$(e,t){let r=S2(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}var Gp=null;function N$(){if(Gp===null)try{new FormData(document.createElement("form"),0),Gp=!1}catch{Gp=!0}return Gp}var A$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Av(e){return e!=null&&!A$.has(e)?(Ea(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pm}"`),null):e}function C$(e,t){let r,n,s,a,i;if(w$(e)){let o=e.getAttribute("action");n=o?oo(o,t):null,r=e.getAttribute("method")||Fm,s=Av(e.getAttribute("enctype"))||Pm,a=new FormData(e)}else if(b$(e)||E$(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?oo(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Fm,s=Av(e.getAttribute("formenctype"))||Av(o.getAttribute("enctype"))||Pm,a=new FormData(o,e),!N$()){let{name:f,type:h,value:m}=e;if(h==="image"){let x=f?`${f}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else f&&a.append(f,m)}}else{if(_x(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Fm,n=null,s=Pm,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function KE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k$(e,t,r,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:t&&oo(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function R$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j$(e,t,r){let n=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await R$(a,r);return i.links?i.links():[]}return[]}));return F$(n.flat(1).filter(O$).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function i4(e,t,r,n,s,a){let i=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,o=(c,f)=>{var h;return r[f].pathname!==c.pathname||((h=r[f].route.path)==null?void 0:h.endsWith("*"))&&r[f].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,f)=>i(c,f)||o(c,f)):a==="data"?t.filter((c,f)=>{var m;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(i(c,f)||o(c,f))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function D$(e,t,{includeHydrateFallback:r}={}){return I$(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function I$(e){return[...new Set(e)]}function M$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function F$(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let a=JSON.stringify(M$(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function Uj(){let e=te.useContext(wf);return KE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function P$(){let e=te.useContext(wx);return KE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var XE=te.createContext(void 0);XE.displayName="FrameworkContext";function zj(){let e=te.useContext(XE);return KE(e,"You must render this element inside a <HydratedRouter> element"),e}function L$(e,t){let r=te.useContext(XE),[n,s]=te.useState(!1),[a,i]=te.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=t,x=te.useRef(null);te.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let b=E=>{E.forEach(T=>{i(T.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[e]),te.useEffect(()=>{if(n){let b=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(b)}}},[n]);let g=()=>{s(!0)},y=()=>{s(!1),i(!1)};return r?e!=="intent"?[a,x,{}]:[a,x,{onFocus:Sd(o,g),onBlur:Sd(c,y),onMouseEnter:Sd(f,g),onMouseLeave:Sd(h,y),onTouchStart:Sd(m,g)}]:[!1,x,{}]}function Sd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function B$({page:e,...t}){let{router:r}=Uj(),n=te.useMemo(()=>Aj(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?te.createElement(z$,{page:e,matches:n,...t}):null}function U$(e){let{manifest:t,routeModules:r}=zj(),[n,s]=te.useState([]);return te.useEffect(()=>{let a=!1;return j$(e,t,r).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,r]),n}function z$({page:e,matches:t,...r}){let n=Na(),{future:s,manifest:a,routeModules:i}=zj(),{basename:o}=Uj(),{loaderData:c,matches:f}=P$(),h=te.useMemo(()=>i4(e,t,f,a,n,"data"),[e,t,f,a,n]),m=te.useMemo(()=>i4(e,t,f,a,n,"assets"),[e,t,f,a,n]),x=te.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(t.forEach(T=>{var S;let _=a.routes[T.route.id];!_||!_.hasLoader||(!h.some(C=>C.route.id===T.route.id)&&T.route.id in c&&((S=i[T.route.id])!=null&&S.shouldRevalidate)||_.hasClientLoader?w=!0:b.add(T.route.id))}),b.size===0)return[];let E=k$(e,o,s.unstable_trailingSlashAwareDataRequests,"data");return w&&b.size>0&&E.searchParams.set("_routes",t.filter(T=>b.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[o,s.unstable_trailingSlashAwareDataRequests,c,n,a,h,t,e,i]),g=te.useMemo(()=>D$(m,a),[m,a]),y=U$(m);return te.createElement(te.Fragment,null,x.map(b=>te.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>te.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),y.map(({key:b,link:w})=>te.createElement("link",{key:b,nonce:r.nonce,...w,crossOrigin:w.crossOrigin??r.crossOrigin})))}function H$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var q$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q$&&(window.__reactRouterVersion="7.13.0")}catch{}function V$({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=te.useRef();s.current==null&&(s.current=wV({window:n,v5Compat:!0}));let a=s.current,[i,o]=te.useState({action:a.action,location:a.location}),c=te.useCallback(f=>{r===!1?o(f):te.startTransition(()=>o(f))},[r]);return te.useLayoutEffect(()=>a.listen(c),[a,c]),te.createElement(y$,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a,unstable_useTransitions:r})}var Hj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lo=te.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:i,state:o,target:c,to:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},y){let{basename:b,unstable_useTransitions:w}=te.useContext(Ys),E=typeof f=="string"&&Hj.test(f),T=Oj(f,b);f=T.to;let _=t$(f,{relative:s}),[S,C,I]=L$(n,g),j=G$(f,{replace:i,state:o,target:c,preventScrollReset:h,relative:s,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:w});function q(Q){t&&t(Q),Q.defaultPrevented||j(Q)}let D=te.createElement("a",{...g,...I,href:T.absoluteURL||_,onClick:T.isExternal||a?t:q,ref:H$(y,C),target:c,"data-discover":!E&&r==="render"?"true":void 0});return S&&!E?te.createElement(te.Fragment,null,D,te.createElement(B$,{page:_})):D});lo.displayName="Link";var qj=te.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:i,viewTransition:o,children:c,...f},h){let m=o0(i,{relative:f.relative}),x=Na(),g=te.useContext(wx),{navigator:y,basename:b}=te.useContext(Ys),w=g!=null&&Z$(m)&&o===!0,E=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,T=x.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(T=T.toLowerCase(),_=_?_.toLowerCase():null,E=E.toLowerCase()),_&&b&&(_=oo(_,b)||_);const S=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let C=T===E||!s&&T.startsWith(E)&&T.charAt(S)==="/",I=_!=null&&(_===E||!s&&_.startsWith(E)&&_.charAt(E.length)==="/"),j={isActive:C,isPending:I,isTransitioning:w},q=C?t:void 0,D;typeof n=="function"?D=n(j):D=[n,C?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Q=typeof a=="function"?a(j):a;return te.createElement(lo,{...f,"aria-current":q,className:D,ref:h,style:Q,to:i,viewTransition:o},typeof c=="function"?c(j):c)});qj.displayName="NavLink";var $$=te.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:a,method:i=Fm,action:o,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},y)=>{let{unstable_useTransitions:b}=te.useContext(Ys),w=Y$(),E=J$(o,{relative:f}),T=i.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&Hj.test(o),S=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let I=C.nativeEvent.submitter,j=(I==null?void 0:I.getAttribute("formmethod"))||i,q=()=>w(I||C.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:s,state:a,relative:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:x});b&&r!==!1?te.startTransition(()=>q()):q()};return te.createElement("form",{ref:y,method:T,action:E,onSubmit:n?c:S,...g,"data-discover":!_&&e==="render"?"true":void 0})});$$.displayName="Form";function W$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vj(e){let t=te.useContext(wf);return vr(t,W$(e)),t}function G$(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:i,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let f=rn(),h=Na(),m=o0(e,{relative:a});return te.useCallback(x=>{if(S$(x,t)){x.preventDefault();let g=r!==void 0?r:_h(h)===_h(m),y=()=>f(e,{replace:g,state:n,preventScrollReset:s,relative:a,viewTransition:i,unstable_defaultShouldRevalidate:o});c?te.startTransition(()=>y()):y()}},[h,f,m,r,n,t,e,s,a,i,o,c])}function $j(e){Ea(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=te.useRef(S2(e)),r=te.useRef(!1),n=Na(),s=te.useMemo(()=>T$(n.search,r.current?null:t.current),[n.search]),a=rn(),i=te.useCallback((o,c)=>{const f=S2(typeof o=="function"?o(new URLSearchParams(s)):o);r.current=!0,a("?"+f,c)},[a,s]);return[s,i]}var K$=0,X$=()=>`__${String(++K$)}__`;function Y$(){let{router:e}=Vj("useSubmit"),{basename:t}=te.useContext(Ys),r=p$(),n=e.fetch,s=e.navigate;return te.useCallback(async(a,i={})=>{let{action:o,method:c,encType:f,formData:h,body:m}=C$(a,t);if(i.navigate===!1){let x=i.fetcherKey||X$();await n(x,r,i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||f,flushSync:i.flushSync})}else await s(i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,s,t,r])}function J$(e,{relative:t}={}){let{basename:r}=te.useContext(Ys),n=te.useContext(Ka);vr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...o0(e||".",{relative:t})},i=Na();if(e==null){a.search=i.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(h=>h==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:to([r,a.pathname])),_h(a)}function Z$(e,{relative:t}={}){let r=te.useContext(Dj);vr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Vj("useViewTransitionState"),s=o0(e,{relative:t});if(!r.isTransitioning)return!1;let a=oo(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=oo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qm(s.pathname,i)!=null||Qm(s.pathname,a)!=null}var Q$=mO();const Wj=EE(Q$),eW=new rj(new ej(Yh)),tW={configure(e,t){const r=bO(e),n=new K7({sameSite:"lax"}),s=t!=null&&t.ssr?n:Yh,a=t!=null&&t.ssr?new rj(new ej(n)):eW;if(!r.Auth){ur.configure(r,t);return}if(t!=null&&t.Auth){ur.configure(r,t);return}if(!ur.libraryOptions.Auth){Bd.setAuthConfig(r.Auth),Bd.setKeyValueStorage(s),ur.configure(r,{...t,Auth:{tokenProvider:Bd,credentialsProvider:a}});return}if(t){const i=ur.libraryOptions.Auth;t.ssr!==void 0&&(Bd.setKeyValueStorage(s),i.credentialsProvider=a),ur.configure(r,{Auth:i,...t});return}ur.configure(r)},getConfig(){return ur.getConfig()}},rW={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:56b9322b-f635-4de5-8568-2190b4d16cb7",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_vEN2QD1i4",aws_user_pools_web_client_id:"75d8bj7e5gsqh5uo3ov7m5ua8t",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"]};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),o4=e=>{const t=sW(e);return t.charAt(0).toUpperCase()+t.slice(1)},Gj=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),aW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=te.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...o},c)=>te.createElement("svg",{ref:c,...iW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Gj("lucide",s),...!a&&!aW(o)&&{"aria-hidden":"true"},...o},[...i.map(([f,h])=>te.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const r=te.forwardRef(({className:n,...s},a)=>te.createElement(oW,{ref:a,iconNode:t,className:Gj(`lucide-${nW(o4(e))}`,`lucide-${e}`,n),...s}));return r.displayName=o4(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kj=Ze("arrow-left",lW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Sh=Ze("arrow-right",cW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],fW=Ze("bold",uW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],qs=Ze("building-2",dW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ol=Ze("calendar",hW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gl=Ze("check",pW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],YE=Ze("chevron-down",mW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],co=Ze("chevron-left",gW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jn=Ze("chevron-right",xW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_f=Ze("circle-alert",yW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$s=Ze("circle-check",vW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],wW=Ze("circle-pause",bW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_W=Ze("circle-play",EW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Sx=Ze("circle-x",SW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ec=Ze("clock",TW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eg=Ze("download",NW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ku=Ze("ellipsis-vertical",AW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Xj=Ze("external-link",CW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Jd=Ze("eye-off",kW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ll=Ze("eye",RW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M10.5 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v6",key:"g5mvt7"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14 20 2 2 4-4",key:"15kota"}]],jW=Ze("file-check-corner",OW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],Sf=Ze("file-pen",DW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M11.1 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.589 3.588A2.4 2.4 0 0 1 20 8v3.25",key:"uh4ikj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m21 22-2.88-2.88",key:"9dd25w"}],["circle",{cx:"16",cy:"17",r:"3",key:"11br10"}]],MW=Ze("file-search-corner",IW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],tg=Ze("file-search",FW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],T2=Ze("file-spreadsheet",PW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qn=Ze("file-text",LW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],UW=Ze("funnel",BW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],HW=Ze("hash",zW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],VW=Ze("heading-1",qW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],WW=Ze("heading-2",$W);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],KW=Ze("history",GW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],YW=Ze("image",XW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],JE=Ze("inbox",JW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ZE=Ze("info",ZW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],eG=Ze("italic",QW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rG=Ze("layout-dashboard",tG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],sG=Ze("list-ordered",nG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],iG=Ze("list",aG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wt=Ze("loader-circle",oG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Tx=Ze("lock",lG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uG=Ze("log-out",cG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cl=Ze("mail",fG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mu=Ze("map-pin",dG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pG=Ze("menu",hG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"M5 12h14",key:"1ays0h"}]],Yj=Ze("minus",mG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],xG=Ze("package-check",gG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rg=Ze("package",yG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bG=Ze("pen-line",vG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EG=Ze("pen",wG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],SG=Ze("percent",_G);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Th=Ze("phone",TG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],AG=Ze("play",NG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nx=Ze("plus",CG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RG=Ze("refresh-cw",kG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jG=Ze("rotate-ccw",OG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],IG=Ze("rotate-cw",DG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],FG=Ze("save",MG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jc=Ze("search",PG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BG=Ze("settings",LG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zG=Ze("shield-check",UG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QE=Ze("shield",HG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],VG=Ze("sparkles",qG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],e_=Ze("square-pen",$G);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],GG=Ze("trash-2",WG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],l0=Ze("trending-down",KG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],c0=Ze("trending-up",XG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],u0=Ze("triangle-alert",YG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ZG=Ze("truck",JG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],eK=Ze("underline",QG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xl=Ze("upload",tK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ng=Ze("user-check",rK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sK=Ze("user-plus",nK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],l4=Ze("user-x",aK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uc=Ze("user",iK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lK=Ze("users",oK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wr=Ze("x",cK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],c4=Ze("zap",uK),Ax=({title:e,subtitle:t,children:r})=>d.jsxs("div",{className:"flex min-h-screen bg-white",children:[d.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-[#1d4e89] flex-col p-12 justify-between",children:[d.jsx("div",{className:"flex items-center gap-3"}),d.jsx("div",{className:"mb-24",children:d.jsxs("h1",{className:"text-white text-6xl font-bold leading-tight",children:["Winvale",d.jsx("br",{}),d.jsx("span",{className:"text-blue-300",children:"Automation Platform"})]})}),d.jsx("div",{className:"text-blue-200 text-sm"})]}),d.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-[#f8fafc]",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",children:d.jsx("img",{src:"logo.png",alt:"Winvale Logo"})}),d.jsx("span",{className:"text-2xl font-bold text-slate-900",children:"Winvale"})]}),d.jsxs("div",{className:"mb-10",children:[d.jsx("h2",{className:"text-3xl text-center font-bold text-slate-900 mb-2",children:e}),d.jsx("p",{className:"text-slate-500 text-center",children:t})]}),d.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-xl shadow-slate-200/50 border border-slate-100",children:r})]})})]}),fK=/^[A-Za-z0-9]+(?:[A-Za-z0-9 .,'&()\-]*[A-Za-z0-9])?$/,Jj=/^[A-Za-z]+(?:[ .'-][A-Za-z]+)*$/,dK=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,hK=/^\+?\d{1,14}$/,pK=/^[A-Za-z0-9]{1,7}$/,_c={length:{test:e=>e.length>=8,label:"At least 8 characters"},lowercase:{test:e=>/[a-z]/.test(e),label:"At least 1 lowercase letter"},uppercase:{test:e=>/[A-Z]/.test(e),label:"At least 1 uppercase letter"},number:{test:e=>/\d/.test(e),label:"At least 1 number"},special:{test:e=>/[^A-Za-z0-9]/.test(e),label:"At least 1 special character"}},Zj=e=>e?Object.values(_c).find(r=>!r.test(e))?"Password does not meet requirements":null:"Password is required",Qj=(e,t,r)=>e!==t?`${r} do not match`:null,el=(e,t)=>e==null||typeof e=="string"&&!e.trim()?`${t} is required`:null,eD=(e,t,r)=>{const n=(e==null?void 0:e.trim())||"";return n&&n.length<t?`${r} must be at least ${t} characters`:null},yn=(e,t,r)=>{const n=(e==null?void 0:e.trim())||"";return n&&n.length>t?`${r} must be under ${t} characters`:null},Tf=e=>{const t=(e==null?void 0:e.trim())||"";return t?dK.test(t)?yn(t,50,"Email"):"Please enter a valid email address":"Email is required"},Cx=(e,t="Phone number")=>{const r=(e==null?void 0:e.trim())||"";return r?hK.test(r)?null:`${t} must be up to 14 digits and may start with +`:`${t} is required`},kx=e=>{const t=(e==null?void 0:e.trim())||"";return t&&!pK.test(t)?"ZIP code must be alphanumeric and up to 7 characters":null},f0=(e,t=!1)=>{const r=(e==null?void 0:e.trim())||"",n=t?"Company name":"Name",s=t?fK:Jj;return r?s.test(r)?yn(r,30,"Name"):t?"Company name can contain letters, numbers, spaces, and . , ' & ( ) - only":"Name can contain letters, spaces, and . ' - only":`${n} is required`},mK=(e,t="Name")=>{const r=(e==null?void 0:e.trim())||"";return r?Jj.test(r)?yn(r,30,"Name"):`${t} can contain letters, spaces, and . ' - only`:null},gK=(e,t,r,n)=>e<t||e>r?`${n} must be between ${t} and ${r}`:null,u4=(e,t)=>!Number.isInteger(e)||e<0?`${t} must be a positive number`:null,xK=()=>{const{refreshUser:e}=Ga(),t=rn(),[r,n]=te.useState(""),[s,a]=te.useState(""),[i,o]=te.useState(!1),[c,f]=te.useState(!1),[h,m]=te.useState(null),[x,g]=te.useState({}),y=te.useRef(!1),b=()=>{const E={},T=Tf(r);T&&(E.email=T);const _=el(s,"Password");return _&&(E.password=_),g(E),Object.keys(E).length===0},w=async E=>{var T,_,S;if(E.preventDefault(),!(c||y.current)&&(m(null),!!b())){f(!0);try{const{nextStep:C}=await p2({username:r.trim(),password:s});if(C.signInStep==="CONFIRM_SIGN_UP"){t(`/verify-email?email=${encodeURIComponent(r.trim())}`,{state:{password:s}});return}y.current=!0;try{await e()}catch(I){y.current=!1;const j=I.message||"";if(!I.response){m("Server is currently unavailable. Please try again later.");return}if(I.response.status>=500){m("Server error. Please try again later.");return}if(I.response.status===401){m("Session expired. Please log in again.");return}m(((_=(T=I.response)==null?void 0:T.data)==null?void 0:_.message)||"Login successful, but profile could not be loaded.")}}catch(C){if(C.name==="UserNotConfirmedException"){t(`/verify-email?email=${encodeURIComponent(r.trim())}`,{state:{password:s}});return}if((S=C==null?void 0:C.message)!=null&&S.includes("There is already a signed in user")){await m2();const{nextStep:I}=await p2({username:r.trim(),password:s});if(I.signInStep==="CONFIRM_SIGN_UP"){t(`/verify-email?email=${encodeURIComponent(r.trim())}`,{state:{password:s}});return}y.current=!0,await e();return}m((C==null?void 0:C.message)||"Failed to sign in. Please check your credentials.")}finally{f(!1)}}};return d.jsxs(Ax,{title:"Welcome back",subtitle:"Sign in to access your dashboard",children:[h&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm flex items-center justify-between",children:[d.jsx("div",{className:"flex-1",children:h}),d.jsx("button",{onClick:()=>m(null),className:"ml-3 text-red-500 hover:text-red-700 transition-colors p-1 rounded-md hover:bg-red-100","aria-label":"Dismiss error",children:d.jsx(wr,{className:"h-4 w-4"})})]}),d.jsxs("form",{onSubmit:w,className:"space-y-6",noValidate:!0,children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(cl,{className:"h-5 w-5 text-slate-400"})}),d.jsx("input",{type:"email",value:r,onChange:E=>{n(E.target.value),g(T=>({...T,email:void 0})),m(null)},className:"block w-full pl-11 pr-4 py-3 rounded-xl outline-none transition-all bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20",placeholder:"name@winvale.com"})]}),x.email&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Tx,{className:"h-5 w-5 text-slate-400"})}),d.jsx("input",{type:i?"text":"password",value:s,onChange:E=>{a(E.target.value),g(T=>({...T,password:void 0})),m(null)},className:"block w-full pl-11 pr-11 py-3 rounded-xl outline-none transition-all bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20",placeholder:""}),d.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600",children:i?d.jsx(Jd,{className:"h-5 w-5"}):d.jsx(ll,{className:"h-5 w-5"})})]}),x.password&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.password})]}),d.jsx("div",{className:"flex items-center justify-end",children:d.jsx(lo,{to:"/forgot-password",className:"text-sm font-semibold text-blue-600 hover:text-blue-700",children:"Forgot password?"})}),d.jsx("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] disabled:opacity-70",children:c?d.jsx(Wt,{className:"h-5 w-5 animate-spin"}):"Sign in"})]}),d.jsxs("div",{className:"mt-8 text-center text-sm border-t border-slate-100 pt-6",children:["Don't have an account?"," ",d.jsx(lo,{to:"/signup",className:"font-semibold text-blue-600 hover:text-blue-700",children:"Sign up"})]})]})},yK=e=>{const t={};t.fullName=eD(e.fullName,3,"Full name")||yn(e.fullName,30,"Full Name")||f0(e.fullName)||void 0,t.email=Tf(e.email)||void 0,t.password=Zj(e.password)||void 0,t.confirmPassword=el(e.confirmPassword,"Confirm password")||Qj(e.password,e.confirmPassword,"Passwords")||void 0;const r=Object.fromEntries(Object.entries(t).filter(([n,s])=>s!==void 0));return{isValid:Object.keys(r).length===0,errors:r}},vK=({password:e})=>d.jsx("ul",{className:"mt-3 space-y-1 text-sm",children:Object.entries(_c).map(([t,r])=>{const n=r.test(e);return d.jsxs("li",{className:`flex items-center gap-2 ${n?"text-green-600":"text-slate-400"}`,children:[d.jsx("span",{className:`inline-flex h-4 w-4 items-center justify-center rounded-full border text-xs ${n?"border-green-600 bg-green-600 text-white":"border-slate-300"}`,children:n?"":""}),r.label]},t)})}),bK=()=>{const e=rn(),[t,r]=te.useState({fullName:"",email:"",password:"",confirmPassword:""}),[n,s]=te.useState(!1),[a,i]=te.useState(!1),[o,c]=te.useState(!1),[f,h]=te.useState(null),[m,x]=te.useState({}),g=T=>{x(_=>({..._,[T]:void 0}))},y=Object.values(_c).some(T=>!T.test(t.password)),b=async T=>{T.preventDefault();const{isValid:_,errors:S}=yK(t);if(!_){x(S);return}c(!0),h(null);try{await dH({username:t.email.trim(),password:t.password,options:{userAttributes:{email:t.email.trim(),name:t.fullName.trim()}}}),e(`/verify-email?email=${encodeURIComponent(t.email.trim())}`,{state:{password:t.password}})}catch(C){C.name==="UsernameExistsException"?h("An account with this email already exists. Try signing in."):h(C.message||"Signup failed")}finally{c(!1)}};return d.jsxs(Ax,{title:"Sign up",subtitle:"Company employees only  use your @winvale.com email",children:[f&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm flex items-center justify-between",children:[d.jsx("div",{className:"flex-1",children:f}),d.jsx("button",{onClick:()=>h(null),className:"ml-3 text-red-500 hover:text-red-700 transition-colors p-1 rounded-md hover:bg-red-100","aria-label":"Dismiss error",children:d.jsx(wr,{className:"h-4 w-4"})})]}),d.jsxs("form",{onSubmit:b,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full name"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(uc,{className:"h-5 w-5 text-slate-400"})}),d.jsx("input",{type:"text",value:t.fullName,onChange:T=>{g("fullName"),r({...t,fullName:T.target.value}),h(null)},className:"block w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"Your Name"})]}),m.fullName&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.fullName})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(cl,{className:"h-5 w-5 text-slate-400"})}),d.jsx("input",{type:"email",value:t.email,onChange:T=>{g("email"),r({...t,email:T.target.value}),h(null)},className:"block w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"name@winvale.com"})]}),m.email&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Tx,{className:"h-5 w-5 text-slate-400"})}),d.jsx("input",{type:n?"text":"password",value:t.password,onChange:T=>{g("password"),r({...t,password:T.target.value}),h(null)},onFocus:()=>i(!0),onBlur:()=>i(!1),className:"block w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"Min. 8 characters"}),d.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600",children:n?d.jsx(Jd,{className:"h-5 w-5"}):d.jsx(ll,{className:"h-5 w-5"})})]}),d.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${a&&y&&t.password.length>0?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:d.jsx(vK,{password:t.password})}),m.password&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Confirm password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(zG,{className:"h-5 w-5 text-slate-400"})}),d.jsx("input",{type:n?"text":"password",value:t.confirmPassword,onChange:T=>{g("confirmPassword"),r({...t,confirmPassword:T.target.value}),h(null)},className:"block w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"Re-enter password"})]}),m.confirmPassword&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),d.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl disabled:opacity-70 transition-all active:scale-[0.98]",children:o?d.jsx(Wt,{className:"h-5 w-5 animate-spin"}):"Sign up"})]}),d.jsxs("div",{className:"mt-8 text-center text-sm border-t border-slate-100 pt-6",children:["Already have an account?"," ",d.jsx(lo,{to:"/login",className:"font-semibold text-blue-600 hover:text-blue-700",children:"Sign in"})]})]})},wK=()=>{const e=Na(),t=rn(),{refreshUser:r}=Ga(),[n,s]=te.useState(""),[a,i]=te.useState(""),[o,c]=te.useState(""),[f,h]=te.useState(!1),[m,x]=te.useState(!1),[g,y]=te.useState(null),[b,w]=te.useState(null);te.useEffect(()=>{var C;const S=new URLSearchParams(e.search).get("email");S?s(S):t("/login"),(C=e.state)!=null&&C.password&&i(e.state.password)},[e,t]);const E=async _=>{var S;if(_.preventDefault(),!o||o.length<6){y("Please enter a valid 6-digit code.");return}h(!0),y(null),w(null);try{if(await bH({username:n.trim(),confirmationCode:o.trim()}),a){w("Email verified! Logging you in...");try{await p2({username:n.trim(),password:a}),await r(),t("/dashboard");return}catch(C){console.error("Auto-login failed:",C),w("Email verified successfully! Please sign in."),setTimeout(()=>t("/login"),2e3)}}else w("Email verified successfully! Redirecting to login..."),setTimeout(()=>t("/login"),2e3)}catch(C){C.name==="NotAuthorizedException"||(S=C.message)!=null&&S.includes("Current status is CONFIRMED")?(y("This account is already verified. Please sign in."),setTimeout(()=>t("/login"),2e3)):y(C.message||"Verification failed. Please check the code and try again.")}finally{b||h(!1)}},T=async()=>{x(!0),y(null),w(null);try{await yH({username:n.trim()}),w("A new verification code has been sent to your email.")}catch(_){y(_.message||"Failed to resend code. Please try again later.")}finally{x(!1)}};return d.jsxs(Ax,{title:"Verify your email",subtitle:`Enter the code sent to ${n}`,children:[g&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm flex items-center justify-between",children:[d.jsx("div",{className:"flex-1",children:g}),d.jsx("button",{onClick:()=>y(null),className:"ml-3 text-red-500 hover:text-red-700 transition-colors p-1 rounded-md hover:bg-red-100","aria-label":"Dismiss error",children:d.jsx(wr,{className:"h-4 w-4"})})]}),b&&d.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 text-green-700 text-sm flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx($s,{className:"h-4 w-4"}),b]}),d.jsx("button",{onClick:()=>w(null),className:"ml-3 text-green-500 hover:text-green-700 transition-colors p-1 rounded-md hover:bg-green-100","aria-label":"Dismiss success message",children:d.jsx(wr,{className:"h-4 w-4"})})]}),d.jsxs("form",{onSubmit:E,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Verification Code"}),d.jsx("input",{type:"text",required:!0,maxLength:6,className:"block w-full text-center text-3xl tracking-[0.5em] font-mono py-4 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"000000",value:o,onChange:_=>{c(_.target.value.replace(/[^0-9]/g,"")),y(null)}})]}),d.jsx("button",{type:"submit",disabled:f||m,className:"w-full py-3 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] disabled:opacity-70 flex items-center justify-center gap-2",children:f?d.jsx(Wt,{className:"h-5 w-5 animate-spin"}):"Verify Email"}),d.jsx("div",{className:"text-center",children:d.jsx("button",{type:"button",onClick:T,disabled:f||m,className:"text-sm font-semibold text-blue-600 hover:text-blue-700 disabled:opacity-50",children:m?"Sending...":"Resend verification code"})}),d.jsxs(lo,{to:"/login",className:"w-full text-slate-500 text-sm flex items-center justify-center gap-2",children:[d.jsx(Kj,{className:"h-4 w-4"})," Back to login"]})]})]})},EK=()=>{const e=rn(),[t,r]=te.useState("request"),[n,s]=te.useState(""),[a,i]=te.useState(""),[o,c]=te.useState(""),[f,h]=te.useState(!1),[m,x]=te.useState(!1),[g,y]=te.useState(null),[b,w]=te.useState(null),[E,T]=te.useState({}),_=Object.values(_c).some(Q=>!Q.test(o)),S=()=>{const Q={},ae=Tf(n);return ae&&(Q.email=ae),T(Q),Object.keys(Q).length===0},C=()=>{const Q={};return a.trim()||(Q.otp="Recovery code is required"),o.trim()?_&&(Q.newPassword="Password does not meet requirements"):Q.newPassword="New password is required",T(Q),Object.keys(Q).length===0},I=async Q=>{if(Q.preventDefault(),y(null),!!S()){x(!0);try{await pH({username:n.trim()})}catch(ae){console.log("Reset request handled:",(ae==null?void 0:ae.name)||"Success")}finally{w("If an account exists for this email, a recovery code has been sent."),r("confirm"),x(!1)}}},j=async Q=>{if(Q.preventDefault(),y(null),!!C()){x(!0);try{await gH({username:n.trim(),confirmationCode:a.trim(),newPassword:o}),e("/login")}catch(ae){y((ae==null?void 0:ae.message)||"Reset failed")}finally{x(!1)}}},q=t==="request"?"Reset password":"Set new password",D=t==="request"?"We will send a recovery code to your email":"Enter the code and choose a new password";return d.jsxs(Ax,{title:q,subtitle:D,children:[g&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm flex items-center justify-between",children:[d.jsx("div",{className:"flex-1",children:g}),d.jsx("button",{onClick:()=>y(null),className:"ml-3 text-red-500 hover:text-red-700 transition-colors p-1 rounded-md hover:bg-red-100","aria-label":"Dismiss error",children:d.jsx(wr,{className:"h-4 w-4"})})]}),b&&d.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 text-green-700 text-sm flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx($s,{className:"h-4 w-4"}),b]}),d.jsx("button",{onClick:()=>w(null),className:"ml-3 text-green-500 hover:text-green-700 transition-colors p-1 rounded-md hover:bg-green-100","aria-label":"Dismiss success message",children:d.jsx(wr,{className:"h-4 w-4"})})]}),t==="request"?d.jsxs("form",{onSubmit:I,className:"space-y-6",noValidate:!0,children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(cl,{className:"h-5 w-5 text-slate-400"})}),d.jsx("input",{type:"email",value:n,onChange:Q=>{s(Q.target.value),T(ae=>({...ae,email:void 0})),y(null)},className:"block w-full pl-11 pr-4 py-3 rounded-xl outline-none transition-all bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20",placeholder:"name@winvale.com"})]}),E.email&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.email})]}),d.jsxs("button",{type:"submit",disabled:m,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] disabled:opacity-70",children:[m?d.jsx(Wt,{className:"h-5 w-5 animate-spin"}):"Send Code",!m&&d.jsx(Sh,{className:"h-5 w-5"})]})]}):d.jsxs("form",{onSubmit:j,className:"space-y-6",noValidate:!0,children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Recovery Code"}),d.jsx("input",{type:"text",maxLength:6,value:a,onChange:Q=>{i(Q.target.value),T(ae=>({...ae,otp:void 0})),y(null)},className:`block w-full text-center text-2xl tracking-[0.5em] font-mono py-4 rounded-xl outline-none transition-all
              bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20`,placeholder:"000000"}),E.otp&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.otp})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"New Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Tx,{className:"h-5 w-5 text-slate-400"})}),d.jsx("input",{type:"password",value:o,onChange:Q=>{c(Q.target.value),T(ae=>({...ae,newPassword:void 0})),y(null)},onFocus:()=>h(!0),onBlur:()=>h(!1),className:`block w-full pl-11 pr-4 py-3 rounded-xl outline-none transition-all
                  bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-blue-500/20`,placeholder:"Min. 8 characters"})]}),E.newPassword&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.newPassword}),d.jsx("div",{className:`overflow-hidden transition-all duration-300 ${f&&o.length>0&&_?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:d.jsx("ul",{className:"mt-3 space-y-1 text-sm",children:Object.entries(_c).map(([Q,ae])=>{const F=ae.test(o);return d.jsxs("li",{className:`flex items-center gap-2 ${F?"text-green-600":"text-slate-400"}`,children:[d.jsx("span",{className:`inline-flex h-4 w-4 items-center justify-center rounded-full border text-xs ${F?"border-green-600 bg-green-600 text-white":"border-slate-300"}`,children:F?"":""}),ae.label]},Q)})})})]}),d.jsxs("button",{type:"submit",disabled:m,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#3498db] hover:bg-[#2980b9] text-white font-semibold rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] disabled:opacity-70",children:[m?d.jsx(Wt,{className:"h-5 w-5 animate-spin"}):"Update Password",!m&&d.jsx(Sh,{className:"h-5 w-5"})]})]}),d.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:d.jsxs(lo,{to:"/login",className:"inline-flex items-center text-sm font-semibold text-blue-600 hover:text-blue-700",children:[d.jsx(Kj,{className:"h-4 w-4 mr-2"})," Back to sign in"]})})]})};function _K(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const SK=e=>{switch(e){case"success":return AK;case"info":return kK;case"warning":return CK;case"error":return RK;default:return null}},TK=Array(12).fill(0),NK=({visible:e,className:t})=>Ve.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ve.createElement("div",{className:"sonner-spinner"},TK.map((r,n)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),AK=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CK=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kK=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RK=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OK=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jK=()=>{const[e,t]=Ve.useState(document.hidden);return Ve.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let N2=1;class DK{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:N2++,i=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:o,title:n}):c):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,i;const o=s.then(async f=>{if(i=["resolve",f],Ve.isValidElement(f))a=!1,this.create({id:n,type:"default",message:f});else if(MK(f)&&!f.ok){a=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,y=typeof m=="object"&&!Ve.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...y})}else if(f instanceof Error){a=!1;const m=typeof r.error=="function"?await r.error(f):r.error,x=typeof r.description=="function"?await r.description(f):r.description,y=typeof m=="object"&&!Ve.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...y})}else if(r.success!==void 0){a=!1;const m=typeof r.success=="function"?await r.success(f):r.success,x=typeof r.description=="function"?await r.description(f):r.description,y=typeof m=="object"&&!Ve.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:x,...y})}}).catch(async f=>{if(i=["reject",f],r.error!==void 0){a=!1;const h=typeof r.error=="function"?await r.error(f):r.error,m=typeof r.description=="function"?await r.description(f):r.description,g=typeof h=="object"&&!Ve.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...g})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((f,h)=>o.then(()=>i[0]==="reject"?h(i[1]):f(i[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||N2++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const vs=new DK,IK=(e,t)=>{const r=(t==null?void 0:t.id)||N2++;return vs.addToast({title:e,...t,id:r}),r},MK=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",FK=IK,PK=()=>vs.toasts,LK=()=>vs.getActiveToasts(),kt=Object.assign(FK,{success:vs.success,info:vs.info,warning:vs.warning,error:vs.error,custom:vs.custom,message:vs.message,promise:vs.promise,dismiss:vs.dismiss,loading:vs.loading},{getHistory:PK,getToasts:LK});_K("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kp(e){return e.label!==void 0}const BK=3,UK="24px",zK="16px",f4=4e3,HK=356,qK=14,VK=45,$K=200;function ai(...e){return e.filter(Boolean).join(" ")}function WK(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const GK=e=>{var t,r,n,s,a,i,o,c,f;const{invert:h,toast:m,unstyled:x,interacting:g,setHeights:y,visibleToasts:b,heights:w,index:E,toasts:T,expanded:_,removeToast:S,defaultRichColors:C,closeButton:I,style:j,cancelButtonStyle:q,actionButtonStyle:D,className:Q="",descriptionClassName:ae="",duration:F,position:X,gap:M,expandByDefault:se,classNames:J,icons:Z,closeButtonAriaLabel:ge="Close toast"}=e,[ie,Ee]=Ve.useState(null),[G,O]=Ve.useState(null),[W,K]=Ve.useState(!1),[re,Y]=Ve.useState(!1),[P,L]=Ve.useState(!1),[oe,ee]=Ve.useState(!1),[ne,z]=Ve.useState(!1),[be,U]=Ve.useState(0),[we,B]=Ve.useState(0),A=Ve.useRef(m.duration||F||f4),R=Ve.useRef(null),H=Ve.useRef(null),fe=E===0,ye=E+1<=b,he=m.type,Ae=m.dismissible!==!1,De=m.className||"",Pe=m.descriptionClassName||"",We=Ve.useMemo(()=>w.findIndex(pt=>pt.toastId===m.id)||0,[w,m.id]),et=Ve.useMemo(()=>{var pt;return(pt=m.closeButton)!=null?pt:I},[m.closeButton,I]),tt=Ve.useMemo(()=>m.duration||F||f4,[m.duration,F]),zt=Ve.useRef(0),lt=Ve.useRef(0),Ot=Ve.useRef(0),nr=Ve.useRef(null),[ht,Jt]=X.split("-"),cn=Ve.useMemo(()=>w.reduce((pt,ir,Hr)=>Hr>=We?pt:pt+ir.height,0),[w,We]),Zt=jK(),go=m.invert||h,Xa=he==="loading";lt.current=Ve.useMemo(()=>We*M+cn,[We,cn]),Ve.useEffect(()=>{A.current=tt},[tt]),Ve.useEffect(()=>{K(!0)},[]),Ve.useEffect(()=>{const pt=H.current;if(pt){const ir=pt.getBoundingClientRect().height;return B(ir),y(Hr=>[{toastId:m.id,height:ir,position:m.position},...Hr]),()=>y(Hr=>Hr.filter(un=>un.toastId!==m.id))}},[y,m.id]),Ve.useLayoutEffect(()=>{if(!W)return;const pt=H.current,ir=pt.style.height;pt.style.height="auto";const Hr=pt.getBoundingClientRect().height;pt.style.height=ir,B(Hr),y(un=>un.find(dr=>dr.toastId===m.id)?un.map(dr=>dr.toastId===m.id?{...dr,height:Hr}:dr):[{toastId:m.id,height:Hr,position:m.position},...un])},[W,m.title,m.description,y,m.id,m.jsx,m.action,m.cancel]);const Jn=Ve.useCallback(()=>{Y(!0),U(lt.current),y(pt=>pt.filter(ir=>ir.toastId!==m.id)),setTimeout(()=>{S(m)},$K)},[m,S,y,lt]);Ve.useEffect(()=>{if(m.promise&&he==="loading"||m.duration===1/0||m.type==="loading")return;let pt;return _||g||Zt?(()=>{if(Ot.current<zt.current){const un=new Date().getTime()-zt.current;A.current=A.current-un}Ot.current=new Date().getTime()})():(()=>{A.current!==1/0&&(zt.current=new Date().getTime(),pt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Jn()},A.current))})(),()=>clearTimeout(pt)},[_,g,m,he,Zt,Jn]),Ve.useEffect(()=>{m.delete&&(Jn(),m.onDismiss==null||m.onDismiss.call(m,m))},[Jn,m.delete]);function Ca(){var pt;if(Z!=null&&Z.loading){var ir;return Ve.createElement("div",{className:ai(J==null?void 0:J.loader,m==null||(ir=m.classNames)==null?void 0:ir.loader,"sonner-loader"),"data-visible":he==="loading"},Z.loading)}return Ve.createElement(NK,{className:ai(J==null?void 0:J.loader,m==null||(pt=m.classNames)==null?void 0:pt.loader),visible:he==="loading"})}const ka=m.icon||(Z==null?void 0:Z[he])||SK(he);var Zn,zr;return Ve.createElement("li",{tabIndex:0,ref:H,className:ai(Q,De,J==null?void 0:J.toast,m==null||(t=m.classNames)==null?void 0:t.toast,J==null?void 0:J.default,J==null?void 0:J[he],m==null||(r=m.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(Zn=m.richColors)!=null?Zn:C,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":ne,"data-removed":re,"data-visible":ye,"data-y-position":ht,"data-x-position":Jt,"data-index":E,"data-front":fe,"data-swiping":P,"data-dismissible":Ae,"data-type":he,"data-invert":go,"data-swipe-out":oe,"data-swipe-direction":G,"data-expanded":!!(_||se&&W),"data-testid":m.testId,style:{"--index":E,"--toasts-before":E,"--z-index":T.length-E,"--offset":`${re?be:lt.current}px`,"--initial-height":se?"auto":`${we}px`,...j,...m.style},onDragEnd:()=>{L(!1),Ee(null),nr.current=null},onPointerDown:pt=>{pt.button!==2&&(Xa||!Ae||(R.current=new Date,U(lt.current),pt.target.setPointerCapture(pt.pointerId),pt.target.tagName!=="BUTTON"&&(L(!0),nr.current={x:pt.clientX,y:pt.clientY})))},onPointerUp:()=>{var pt,ir,Hr;if(oe||!Ae)return;nr.current=null;const un=Number(((pt=H.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ya=Number(((ir=H.current)==null?void 0:ir.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dr=new Date().getTime()-((Hr=R.current)==null?void 0:Hr.getTime()),Mn=ie==="x"?un:Ya,Ei=Math.abs(Mn)/dr;if(Math.abs(Mn)>=VK||Ei>.11){U(lt.current),m.onDismiss==null||m.onDismiss.call(m,m),O(ie==="x"?un>0?"right":"left":Ya>0?"down":"up"),Jn(),ee(!0);return}else{var fn,Fn;(fn=H.current)==null||fn.style.setProperty("--swipe-amount-x","0px"),(Fn=H.current)==null||Fn.style.setProperty("--swipe-amount-y","0px")}z(!1),L(!1),Ee(null)},onPointerMove:pt=>{var ir,Hr,un;if(!nr.current||!Ae||((ir=window.getSelection())==null?void 0:ir.toString().length)>0)return;const dr=pt.clientY-nr.current.y,Mn=pt.clientX-nr.current.x;var Ei;const fn=(Ei=e.swipeDirections)!=null?Ei:WK(X);!ie&&(Math.abs(Mn)>1||Math.abs(dr)>1)&&Ee(Math.abs(Mn)>Math.abs(dr)?"x":"y");let Fn={x:0,y:0};const xo=ks=>1/(1.5+Math.abs(ks)/20);if(ie==="y"){if(fn.includes("top")||fn.includes("bottom"))if(fn.includes("top")&&dr<0||fn.includes("bottom")&&dr>0)Fn.y=dr;else{const ks=dr*xo(dr);Fn.y=Math.abs(ks)<Math.abs(dr)?ks:dr}}else if(ie==="x"&&(fn.includes("left")||fn.includes("right")))if(fn.includes("left")&&Mn<0||fn.includes("right")&&Mn>0)Fn.x=Mn;else{const ks=Mn*xo(Mn);Fn.x=Math.abs(ks)<Math.abs(Mn)?ks:Mn}(Math.abs(Fn.x)>0||Math.abs(Fn.y)>0)&&z(!0),(Hr=H.current)==null||Hr.style.setProperty("--swipe-amount-x",`${Fn.x}px`),(un=H.current)==null||un.style.setProperty("--swipe-amount-y",`${Fn.y}px`)}},et&&!m.jsx&&he!=="loading"?Ve.createElement("button",{"aria-label":ge,"data-disabled":Xa,"data-close-button":!0,onClick:Xa||!Ae?()=>{}:()=>{Jn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ai(J==null?void 0:J.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(zr=Z==null?void 0:Z.close)!=null?zr:OK):null,(he||m.icon||m.promise)&&m.icon!==null&&((Z==null?void 0:Z[he])!==null||m.icon)?Ve.createElement("div",{"data-icon":"",className:ai(J==null?void 0:J.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ca():null,m.type!=="loading"?ka:null):null,Ve.createElement("div",{"data-content":"",className:ai(J==null?void 0:J.content,m==null||(a=m.classNames)==null?void 0:a.content)},Ve.createElement("div",{"data-title":"",className:ai(J==null?void 0:J.title,m==null||(i=m.classNames)==null?void 0:i.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ve.createElement("div",{"data-description":"",className:ai(ae,Pe,J==null?void 0:J.description,m==null||(o=m.classNames)==null?void 0:o.description)},typeof m.description=="function"?m.description():m.description):null),Ve.isValidElement(m.cancel)?m.cancel:m.cancel&&Kp(m.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||q,onClick:pt=>{Kp(m.cancel)&&Ae&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,pt),Jn())},className:ai(J==null?void 0:J.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,Ve.isValidElement(m.action)?m.action:m.action&&Kp(m.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:pt=>{Kp(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,pt),!pt.defaultPrevented&&Jn())},className:ai(J==null?void 0:J.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function d4(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function KK(e,t){const r={};return[e,t].forEach((n,s)=>{const a=s===1,i=a?"--mobile-offset":"--offset",o=a?zK:UK;function c(f){["top","right","bottom","left"].forEach(h=>{r[`${i}-${h}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${i}-${f}`]=o:r[`${i}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):c(o)}),r}const XK=Ve.forwardRef(function(t,r){const{id:n,invert:s,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:c,className:f,offset:h,mobileOffset:m,theme:x="light",richColors:g,duration:y,style:b,visibleToasts:w=BK,toastOptions:E,dir:T=d4(),gap:_=qK,icons:S,containerAriaLabel:C="Notifications"}=t,[I,j]=Ve.useState([]),q=Ve.useMemo(()=>n?I.filter(W=>W.toasterId===n):I.filter(W=>!W.toasterId),[I,n]),D=Ve.useMemo(()=>Array.from(new Set([a].concat(q.filter(W=>W.position).map(W=>W.position)))),[q,a]),[Q,ae]=Ve.useState([]),[F,X]=Ve.useState(!1),[M,se]=Ve.useState(!1),[J,Z]=Ve.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ge=Ve.useRef(null),ie=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ee=Ve.useRef(null),G=Ve.useRef(!1),O=Ve.useCallback(W=>{j(K=>{var re;return(re=K.find(Y=>Y.id===W.id))!=null&&re.delete||vs.dismiss(W.id),K.filter(({id:Y})=>Y!==W.id)})},[]);return Ve.useEffect(()=>vs.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{j(K=>K.map(re=>re.id===W.id?{...re,delete:!0}:re))});return}setTimeout(()=>{Wj.flushSync(()=>{j(K=>{const re=K.findIndex(Y=>Y.id===W.id);return re!==-1?[...K.slice(0,re),{...K[re],...W},...K.slice(re+1)]:[W,...K]})})})}),[I]),Ve.useEffect(()=>{if(x!=="system"){Z(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:K})=>{Z(K?"dark":"light")})}catch{W.addListener(({matches:re})=>{try{Z(re?"dark":"light")}catch(Y){console.error(Y)}})}},[x]),Ve.useEffect(()=>{I.length<=1&&X(!1)},[I]),Ve.useEffect(()=>{const W=K=>{var re;if(i.every(L=>K[L]||K.code===L)){var P;X(!0),(P=ge.current)==null||P.focus()}K.code==="Escape"&&(document.activeElement===ge.current||(re=ge.current)!=null&&re.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[i]),Ve.useEffect(()=>{if(ge.current)return()=>{Ee.current&&(Ee.current.focus({preventScroll:!0}),Ee.current=null,G.current=!1)}},[ge.current]),Ve.createElement("section",{ref:r,"aria-label":`${C} ${ie}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((W,K)=>{var re;const[Y,P]=W.split("-");return q.length?Ve.createElement("ol",{key:W,dir:T==="auto"?d4():T,tabIndex:-1,ref:ge,className:f,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":Y,"data-x-position":P,style:{"--front-toast-height":`${((re=Q[0])==null?void 0:re.height)||0}px`,"--width":`${HK}px`,"--gap":`${_}px`,...b,...KK(h,m)},onBlur:L=>{G.current&&!L.currentTarget.contains(L.relatedTarget)&&(G.current=!1,Ee.current&&(Ee.current.focus({preventScroll:!0}),Ee.current=null))},onFocus:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||G.current||(G.current=!0,Ee.current=L.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{M||X(!1)},onDragEnd:()=>X(!1),onPointerDown:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},q.filter(L=>!L.position&&K===0||L.position===W).map((L,oe)=>{var ee,ne;return Ve.createElement(GK,{key:L.id,icons:S,index:oe,toast:L,defaultRichColors:g,duration:(ee=E==null?void 0:E.duration)!=null?ee:y,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:s,visibleToasts:w,closeButton:(ne=E==null?void 0:E.closeButton)!=null?ne:c,interacting:M,position:W,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,closeButtonAriaLabel:E==null?void 0:E.closeButtonAriaLabel,removeToast:O,toasts:q.filter(z=>z.position==L.position),heights:Q.filter(z=>z.position==L.position),setHeights:ae,expandByDefault:o,gap:_,expanded:F,swipeDirections:t.swipeDirections})})):null}))}),YK=()=>d.jsxs("div",{className:"mb-10",children:[d.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Settings"}),d.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Manage your profile and security"})]}),JK={admin:"Administrator",user:"Consultant"},h4="w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-[#3498db] transition-all bg-slate-50/50 text-slate-700",p4="w-full px-4 py-2.5 rounded-xl border border-slate-100 bg-slate-100/50 text-slate-500 cursor-not-allowed",ZK=({user:e,onSave:t,loading:r})=>{var b;const[n,s]=te.useState((e==null?void 0:e.name)||""),[a,i]=te.useState(e!=null&&e.phone_no&&e.phone_no!=="NA"?e.phone_no:""),[o,c]=te.useState(""),[f,h]=te.useState(""),[m,x]=te.useState(""),g=async()=>{const w=n.trim(),E=a.trim();c(""),x(""),h("");const T=eD(n,3,"Full name")||yn(n,30,"Full name")||f0(n)||void 0;if(T){c(T);return}if(E){const _=Cx(E);if(_){x(_);return}}if(w===(e==null?void 0:e.name)&&(E||null)===((e==null?void 0:e.phone_no)||null)){h("No changes to save");return}await t({fullName:w,phone:E===""?null:E})},y=w=>{i(w.target.value),x(""),h("")};return d.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100/80 overflow-hidden",children:d.jsxs("div",{className:"p-8 space-y-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8",children:[d.jsx("div",{className:"w-28 h-28 rounded-3xl bg-[#3498db]/10 flex items-center justify-center text-4xl font-bold text-[#3498db] border-4 border-white shadow-xl",children:((b=e==null?void 0:e.name)==null?void 0:b.charAt(0))||"U"}),d.jsxs("div",{className:"text-center sm:text-left",children:[d.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:e==null?void 0:e.name}),d.jsxs("div",{className:"inline-flex items-center gap-2 mt-2 px-3 py-1 bg-slate-100 rounded-full",children:[d.jsx(QE,{className:"w-3.5 h-3.5 text-[#3498db]"}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-600",children:JK[e==null?void 0:e.role]||"User"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Full Name"}),d.jsx("input",{className:`${h4} ${o?"border-red-500":""}`,value:n,onChange:w=>{s(w.target.value),c(""),h("")}}),o&&d.jsx("p",{className:"text-sm text-red-600 mt-1 ml-1",children:o})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Email"}),d.jsx("input",{type:"email",autoComplete:"email",name:"email",className:p4,value:(e==null?void 0:e.email)||"",disabled:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Phone Number"}),d.jsx("input",{type:"tel",autoComplete:"tel",name:"phone",className:`${h4} ${m?"border-red-500":""}`,value:a,onChange:y,placeholder:"+1234567890"}),m&&d.jsx("p",{className:"text-sm text-red-600 mt-1 ml-1",children:m})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Status"}),d.jsx("input",{className:p4,value:e!=null&&e.is_active?"Active":"Inactive",disabled:!0})]})]}),f&&d.jsx("div",{className:"w-full bg-red-50 p-4 border-l-4 border-red-600",children:d.jsx("p",{className:"text-sm text-red-600",children:f})}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsxs("button",{onClick:g,disabled:r,className:"btn-primary flex items-center gap-2",children:[d.jsx(FG,{className:"w-4 h-4"}),"Save Changes"]})})]})})},Cv="w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-[#3498db] transition-all bg-slate-50/50 text-slate-700",QK=({onUpdate:e,loading:t})=>{const[r,n]=te.useState(!1),[s,a]=te.useState(""),[i,o]=te.useState(""),[c,f]=te.useState(""),[h,m]=te.useState(!1),[x,g]=te.useState(!1),[y,b]=te.useState(!1),[w,E]=te.useState(!1),[T,_]=te.useState(""),[S,C]=te.useState(""),[I,j]=te.useState(""),q=Object.values(_c).some(F=>!F.test(i)),D=()=>{_(""),C(""),j("")},Q=async()=>{if(D(),!s){_("Current password is required");return}const F=Zj(i);if(F){C(F);return}const X=Qj(i,c,"Passwords");if(X){j(X);return}if(!await e(s,i,c)){_("Current password is incorrect");return}ae()},ae=()=>{n(!1),a(""),o(""),f(""),m(!1),g(!1),b(!1),E(!1),D()};return d.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100/80 overflow-hidden",children:r?d.jsxs("div",{className:"p-8 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Update Password"}),d.jsx("button",{onClick:ae,children:d.jsx(wr,{className:"w-5 h-5 text-slate-400"})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:h?"text":"password",className:`${Cv} ${T?"border-red-500":""} pr-10`,autoComplete:"current-password",placeholder:"Current password",value:s,onChange:F=>{a(F.target.value),_("")}}),d.jsx("button",{type:"button",onClick:()=>m(F=>!F),className:"absolute inset-y-0 right-3 flex items-center text-slate-400",children:h?d.jsx(Jd,{size:16}):d.jsx(ll,{size:16})})]}),T&&d.jsx("p",{className:"text-xs text-red-600 mt-1 ml-1",children:T})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:x?"text":"password",className:`${Cv} ${S?"border-red-500":""} pr-10`,autoComplete:"new-password",placeholder:"New password",value:i,onChange:F=>{o(F.target.value),C("")},onFocus:()=>E(!0),onBlur:()=>E(!1)}),d.jsx("button",{type:"button",onClick:()=>g(F=>!F),className:"absolute inset-y-0 right-3 flex items-center text-slate-400",children:x?d.jsx(Jd,{size:16}):d.jsx(ll,{size:16})})]}),S&&d.jsx("p",{className:"text-xs text-red-600 mt-1 ml-1",children:S}),d.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${w&&i.length>0&&q?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:d.jsx("ul",{className:"mt-3 space-y-1 text-sm",children:Object.entries(_c).map(([F,X])=>{const M=X.test(i);return d.jsxs("li",{className:`flex items-center gap-2 ${M?"text-green-600":"text-slate-400"}`,children:[d.jsx("span",{className:`inline-flex h-4 w-4 items-center justify-center rounded-full border text-xs ${M?"border-green-600 bg-green-600 text-white":"border-slate-300"}`,children:M?"":""}),X.label]},F)})})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:y?"text":"password",className:`${Cv} ${I?"border-red-500":""} pr-10`,autoComplete:"new-password",placeholder:"Confirm new password",value:c,onChange:F=>{f(F.target.value),j("")}}),d.jsx("button",{type:"button",onClick:()=>b(F=>!F),className:"absolute inset-y-0 right-3 flex items-center text-slate-400",children:y?d.jsx(Jd,{size:16}):d.jsx(ll,{size:16})})]}),I&&d.jsx("p",{className:"text-xs text-red-600 mt-1 ml-1",children:I})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:Q,disabled:t,className:"btn-primary",children:"Update Password"}),d.jsx("button",{onClick:ae,className:"px-6 py-2.5 font-bold text-slate-500",children:"Cancel"})]})]}):d.jsxs("div",{className:"p-8 flex items-center justify-between cursor-pointer",onClick:()=>n(!0),children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Tx,{className:"w-6 h-6 text-slate-500"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Password"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Change your account password"})]})]}),d.jsx(jn,{className:"w-4 h-4 text-[#3498db]"})]})})};function eX(){const{user:e,refreshUser:t}=Ga(),[r,n]=te.useState(!1),s=async i=>{try{n(!0),await SH({userAttributes:{name:i.fullName}}),await Tt.put("/users",{name:i.fullName,phone_no:i.phone}),await t(),kt.success("Profile updated successfully")}catch(o){console.error(o),kt.error("Failed to update profile")}finally{n(!1)}},a=async(i,o,c)=>{var f;try{return n(!0),await EH({oldPassword:i,newPassword:o}),kt.success("Password updated successfully"),!0}catch(h){return console.error(h),(h==null?void 0:h.name)==="NotAuthorizedException"||(f=h==null?void 0:h.message)!=null&&f.toLowerCase().includes("incorrect")||kt.error(h.message||"Password update failed"),!1}finally{n(!1)}};return d.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-6 lg:p-10 space-y-10",children:[d.jsx(YK,{}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(ZK,{user:e,onSave:s,loading:r}),d.jsx(QK,{onUpdate:a,loading:r})]})]})}const tX=()=>{const e=Na();return te.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},rX=()=>{const{refreshUser:e,logout:t}=Ga();return te.useEffect(()=>{const r=setInterval(()=>{e().catch(()=>{})},2e4);return()=>clearInterval(r)},[e]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5f6f7] px-4",children:d.jsxs("div",{className:"w-full max-w-md bg-white border border-slate-200 rounded-md p-10 text-center",children:[d.jsx("div",{className:"flex justify-center mb-8",children:d.jsx("img",{src:"/logo.png",alt:"Winvale",className:"h-9 object-contain"})}),d.jsxs("p",{className:"text-base text-slate-800 leading-relaxed",children:[d.jsx("span",{className:"font-semibold",children:"Your account has been created and is awaiting approval."}),d.jsx("br",{}),d.jsx("br",{}),"Access to the system will be enabled once your request has been reviewed and approved by the"," ",d.jsx("span",{className:"font-semibold",children:"Winvale Administration team"}),"."]}),d.jsx("div",{className:"mt-10",children:d.jsx("button",{onClick:t,className:"w-full btn-primary",children:"Done"})})]})})},kv=({isAuthenticated:e,allowedRoles:t})=>{const{user:r,status:n,isActive:s}=Ga();return n==="loading"||e&&!r?null:e?s?t&&!t.includes(r.role)?d.jsx(Xo,{to:"/dashboard",replace:!0}):d.jsx(Ex,{}):d.jsx(Xo,{to:"/pending-approval",replace:!0}):d.jsx(Xo,{to:"/login",replace:!0})},mn={ADMIN:"admin",USER:"user"},m4=[{label:"Overview",items:[{to:"/dashboard",icon:rG,label:"Dashboard",roles:[mn.ADMIN,mn.USER]}]},{label:"Analysis",items:[{to:"/pricelist-analysis",icon:MW,label:"Pricelist Analysis",roles:[mn.ADMIN,mn.USER]},{to:"/analyses",icon:KW,label:"Analysis History",roles:[mn.ADMIN,mn.USER]}]},{label:"Workspace",items:[{to:"/client-profiles",icon:qn,label:"Client Profiles",roles:[mn.ADMIN,mn.USER]},{to:"/gsa-products",icon:xG,label:"GSA Products",roles:[mn.ADMIN,mn.USER]}]},{label:"Administrative",items:[{to:"/user-activation",icon:ng,label:"User Management",roles:[mn.ADMIN]},{to:"/client-activation",icon:jW,label:"Client Management",roles:[mn.ADMIN]}]},{label:"System",items:[{to:"/settings",icon:BG,label:"Settings",roles:[mn.ADMIN,mn.USER]}]}];function nX(){var b;const{user:e,logout:t}=Ga(),r=Na(),[n,s]=te.useState(!1),[a,i]=te.useState(!1),[o,c]=te.useState({Overview:!0,Analysis:!0,Workspace:!0,Administrative:!0,System:!1}),f=rn(),h=(e==null?void 0:e.role)===mn.ADMIN,m={admin:"Administrator",user:"Consultant"};te.useEffect(()=>{document.body.style.overflow=n?"hidden":"unset"},[n]);const x=w=>{h&&c(E=>({...E,[w]:!E[w]}))};te.useEffect(()=>{const w=r.pathname;m4.forEach(E=>{E.items.some(_=>w.startsWith(_.to))&&c(_=>({..._,[E.label]:!0}))})},[r.pathname]);const g=()=>i(!0),y=async()=>{await t(),i(!1),s(!1)};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"md:hidden sticky top-0 left-0 right-0 h-16 flex items-center justify-between px-4 z-40",children:d.jsx("button",{onClick:()=>s(!0),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(pG,{className:"w-6 h-6 text-slate-600"})})}),d.jsx("div",{className:`fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-40 transition-opacity duration-300 md:hidden ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>s(!1)}),d.jsxs("aside",{className:`
          fixed md:sticky top-0 inset-y-0 left-0 z-50
          w-72 md:w-64 bg-[#f8fafc] border-r border-slate-200
          flex flex-col h-screen
          transform transition-transform duration-300 ease-in-out
          ${n?"translate-x-0":"-translate-x-full"}
          md:translate-x-0
        `,children:[d.jsxs("div",{className:"p-6 flex items-center justify-between",children:[d.jsxs("div",{onClick:()=>{f("/dashboard"),s(!1)},className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("img",{src:"logo.png",alt:"Logo",className:"w-8 h-8 object-contain"}),d.jsx("span",{className:"text-2xl font-bold text-[#1e293b] tracking-tight",children:"Winvale"})]}),d.jsx("button",{onClick:()=>s(!1),className:"md:hidden p-2 hover:bg-slate-200/50 rounded-lg transition-colors",children:d.jsx(wr,{className:"w-5 h-5 text-slate-500"})})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto custom-scrollbar py-4",children:m4.map(w=>{const E=w.items.filter(_=>e&&_.roles.includes(e.role));if(E.length===0)return null;const T=!h||o[w.label];return d.jsxs("div",{className:"mb-4",children:[d.jsxs("button",{disabled:!h,onClick:()=>x(w.label),className:`w-full flex items-center justify-between px-6 mb-1 text-[10px] font-bold uppercase tracking-widest transition-colors ${h?"hover:text-slate-900 cursor-pointer text-slate-400":"text-slate-400"}`,children:[d.jsx("span",{children:w.label}),h&&(T?d.jsx(YE,{size:12}):d.jsx(jn,{size:12}))]}),d.jsx("div",{className:`space-y-0.5 overflow-hidden transition-all duration-300 ${T?"max-h-125 opacity-100":"max-h-0 opacity-0"}`,children:E.map(_=>d.jsx(qj,{to:_.to,onClick:()=>s(!1),className:({isActive:S})=>`group flex items-center gap-3.5 px-6 py-2 transition-all duration-200 relative ${S?"text-[#24578f] font-semibold bg-[#e0e4eb]":"text-slate-500 hover:text-slate-900 hover:bg-slate-100/50"}`,children:({isActive:S})=>d.jsxs(d.Fragment,{children:[S&&d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#24578f] rounded-r-full"}),d.jsx(_.icon,{className:`w-5 h-5 ${S?"text-[#24578f]":"text-slate-400 group-hover:text-slate-600"}`,strokeWidth:S?2.5:2}),d.jsx("span",{children:_.label})]})},_.to))})]},w.label)})}),d.jsxs("div",{className:"p-4 bg-slate-50/50",children:[d.jsxs(lo,{to:"/settings",className:"flex items-center gap-3 p-2.5 rounded-xl bg-white border border-slate-200 shadow-sm mb-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-[#c3d7e7] to-[#a3c1da] flex items-center justify-center shrink-0",children:d.jsx("span",{className:"text-sm font-bold text-[#1e293b]",children:((b=e==null?void 0:e.name)==null?void 0:b.charAt(0).toUpperCase())||"U"})}),d.jsxs("div",{className:"min-w-0 overflow-hidden",children:[d.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:(e==null?void 0:e.name)||"User"}),d.jsx("p",{className:"text-[11px] text-slate-500 font-medium uppercase tracking-wider",children:m[e==null?void 0:e.role]||"Guest"})]})]}),d.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-3 py-2.5 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all group",children:[d.jsx(uG,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),d.jsx("span",{className:"font-semibold text-sm",children:"Sign out"})]})]})]}),a&&d.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center bg-slate-900/40",children:d.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm shadow-xl mx-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Confirm Signout"}),d.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Are you sure you want to sign out?"}),d.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:y,className:"px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600 transition-colors",children:"Sign out"})]})]})})]})}function sX(){return d.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[d.jsx(nX,{}),d.jsx("main",{className:"flex-1 overflow-auto",children:d.jsx(Ex,{})})]})}const tD=te.createContext(void 0),aX=({children:e})=>{const[t,r]=te.useState(null);return d.jsx(tD.Provider,{value:{selectedClientId:t,setSelectedClientId:r},children:e||d.jsx(Ex,{})})},rD=()=>{const e=te.useContext(tD);if(e===void 0)throw new Error("useClient must be used within a ClientProvider");return e},Zd={async getAllProducts(e){return(await Tt.get("/products",{params:e})).data},async getProductsByClient(e,t){return(await Tt.get(`/products/client/${e}`,{params:t})).data},async exportProducts(e){return(await Tt.get("/export/",{params:e?{client_id:e}:{},responseType:"blob"})).data}};function t_(e,t){const[r,n]=te.useState(e);return te.useEffect(()=>{const s=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(s)}},[e,t]),r}function yl({currentPage:e,totalItems:t,itemsPerPage:r,onPageChange:n,label:s="results"}){const a=Math.ceil(t/r),i=(e-1)*r,o=()=>{const c=[];if(a<=5)for(let h=1;h<=a;h++)c.push(h);else e<=3?c.push(1,2,3,4,"...",a):e>=a-2?c.push(1,"...",a-3,a-2,a-1,a):c.push(1,"...",e-1,e,e+1,"...",a);return c};return a<1?null:d.jsxs("div",{className:"px-6 py-5 border-t border-slate-100 rounded-b-2xl flex flex-col sm:flex-row items-center justify-between gap-4",children:[d.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing"," ",d.jsx("span",{className:"text-slate-900 font-semibold",children:i+1})," ","to"," ",d.jsx("span",{className:"text-slate-900 font-semibold",children:Math.min(i+r,t)})," ","of ",d.jsx("span",{className:"text-slate-900 font-semibold",children:t})," ",s]}),a>1&&d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("button",{disabled:e===1,onClick:()=>n(e-1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all mr-2","aria-label":"Previous page",children:d.jsx(co,{size:18})}),d.jsx("div",{className:"flex items-center gap-1",children:o().map((c,f)=>d.jsx(Ve.Fragment,{children:c==="..."?d.jsx("span",{className:"px-2 text-slate-400 font-medium",children:"..."}):d.jsx("button",{onClick:()=>n(Number(c)),className:`min-w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all
                                        ${e===c?"bg-[#3399cc] text-white shadow-md shadow-[#3399cc]/30":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,"aria-label":`Page ${c}`,"aria-current":e===c?"page":void 0,children:c})},f))}),d.jsx("button",{disabled:e===a,onClick:()=>n(e+1),className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 disabled:opacity-30 disabled:hover:bg-transparent transition-all ml-2","aria-label":"Next page",children:d.jsx(jn,{size:18})})]})]})}function iX(){var C;const e=rn(),{selectedClientId:t}=rD(),r=t,[n,s]=te.useState([]),[a,i]=te.useState(null),[o,c]=te.useState(!0),[f,h]=te.useState(""),[m,x]=te.useState(1),[g,y]=te.useState(0),[b,w]=te.useState(0),E=t_(f,500),T=50;te.useEffect(()=>{r?_(m,E):c(!1)},[r,m,E]);const _=async(I,j)=>{if(r)try{c(!0);const q=await Zd.getProductsByClient(r,{page:I,page_size:T,search:j||void 0});s(q.items),y(q.total),w(q.total_pages)}catch(q){kt.error(q.message||"Failed to load products")}finally{c(!1)}},S=I=>I==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I);return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 to-slate-100 p-6",children:[d.jsxs("div",{className:"mx-auto",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium group",children:[d.jsx(co,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back"]}),d.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:[((C=n[0])==null?void 0:C.client_name)||(r?"Client":"No Client Selected")," ","Products"]}),d.jsx("p",{className:"text-slate-500",children:r?`Managing ${n.length} catalog items`:"Please select a client from the Clients page"})]})}),d.jsx("div",{className:"mx-auto bg-white p-4 rounded-4xl shadow-sm border border-slate-100 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:d.jsxs("div",{className:"relative flex-1 w-full",children:[d.jsx(jc,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),d.jsx("input",{type:"text",placeholder:"Search by name, manufacturer, or part number...",value:f,onChange:I=>{h(I.target.value),x(1)},className:"w-full pl-14 pr-4 py-3 border border-slate-200 rounded-2xl bg-slate-50/50 focus:ring-2 focus:ring-blue-500/20  outline-none transition-all"})]})})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"Item Name"}),d.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"Type"}),d.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"Manufacturer"}),d.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"MFR Part #"}),d.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"Price"}),d.jsx("th",{className:"text-left p-5 font-semibold text-slate-600 text-sm",children:"UOM"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:o?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Loading Products..."})]})})}):n.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 text-slate-500",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center border border-slate-100",children:d.jsx(JE,{className:"w-8 h-8 text-slate-300"})}),d.jsx("h3",{className:"text-base font-bold text-slate-500",children:"No products found"}),f&&d.jsx("p",{className:"text-xs text-slate-400",children:"Try adjusting your search or filters"})]})})}):n.map(I=>d.jsxs("tr",{className:"hover:bg-blue-50/50 cursor-pointer transition-colors",onClick:()=>i(I),children:[d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("div",{className:"font-semibold text-slate-900",children:I.item_name}),d.jsx("div",{className:"text-xs text-slate-400 truncate max-w-50",children:I.item_description})]}),d.jsx("td",{className:"px-6 py-4",children:I.item_type==="B"?d.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase bg-emerald-100 text-emerald-700",children:"Base"}):d.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase bg-blue-100 text-blue-700",children:"Accessory"})}),d.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:I.manufacturer}),d.jsx("td",{className:"px-6 py-4 text-sm font-mono text-slate-500",children:I.manufacturer_part_number}),d.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:S(I.commercial_list_price)}),d.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:I.uom||"-"})]},I.product_id))})]})}),d.jsx(yl,{currentPage:m,totalItems:g,itemsPerPage:T,onPageChange:x,label:"products"})]})]}),a&&d.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/40 transition-opacity",onClick:()=>i(null)}),d.jsxs("div",{className:"relative w-full max-w-lg bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-start justify-between bg-white sticky top-0 z-10",children:[d.jsxs("div",{className:"pr-8",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${a.item_type==="A"?"bg-blue-100 text-blue-700":"bg-emerald-100 text-emerald-700"}`,children:a.item_type==="A"?"Accessory":"Base Product"}),a.hazmat&&d.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-[10px] font-bold uppercase",children:"Hazmat"})]}),d.jsx("h2",{className:"text-xl font-bold text-slate-900 leading-tight",children:a.item_name}),d.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium italic",children:a.item_description})]}),d.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-900",children:d.jsx(wr,{size:24})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 scrollbar-thin",children:[a.photo_path&&d.jsx("div",{className:"w-full h-48 bg-slate-50 rounded-2xl border border-slate-100 overflow-hidden flex items-center justify-center",children:d.jsx("img",{src:a.photo_path,alt:a.item_name,className:"h-full w-full object-contain p-4",onError:I=>I.currentTarget.style.display="none"})}),d.jsxs(Td,{title:"Core Identifiers",children:[d.jsx(hn,{label:"Client",value:a.client_name}),d.jsx(hn,{label:"Client Part #",value:a.client_part_number}),d.jsx(hn,{label:"Mfr Part #",value:a.manufacturer_part_number}),d.jsx(hn,{label:"Manufacturer",value:a.manufacturer})]}),d.jsxs(Td,{title:"Physical Specifications",children:[d.jsx(hn,{label:"Dimensions (L x W x H)",value:a.length?`${a.length} x ${a.width} x ${a.height} ${a.physical_uom||""}`:null}),d.jsx(hn,{label:"Weight",value:a.weight_lbs?`${a.weight_lbs} lbs`:null}),d.jsx(hn,{label:"Warranty",value:a.warranty_period}),d.jsx(hn,{label:"Quantity per Pack",value:`${a.quantity_per_pack||1} ${a.quantity_unit_uom||""}`})]}),d.jsxs(Td,{title:"Pricing & Classification",children:[d.jsx(hn,{label:"Commercial List Price",value:S(a.commercial_list_price)}),d.jsx(hn,{label:"UOM",value:a.uom}),d.jsx(hn,{label:"SIN",value:a.sin}),d.jsx(hn,{label:"NSN",value:a.nsn}),d.jsx(hn,{label:"UPC",value:a.upc}),d.jsx(hn,{label:"UNSPSC",value:a.unspsc})]}),d.jsxs(Td,{title:"Compliance & Environment",children:[d.jsx(hn,{label:"Country of Origin",value:a.country_of_origin}),d.jsx(hn,{label:"Recycled Content",value:a.recycled_content_percent?`${a.recycled_content_percent}%`:"0%"}),d.jsx(hn,{label:"Hazmat Status",value:a.hazmat?"Yes":"No"}),d.jsx(hn,{label:"Product Info Code",value:a.product_info_code})]}),d.jsx(Td,{title:"Resources & Links",children:d.jsxs("div",{className:"col-span-2 flex flex-col gap-3",children:[a.product_url&&d.jsxs("a",{href:a.product_url,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-3 text-slate-700 hover:text-[#3399cc] font-semibold text-sm bg-slate-50 p-4 rounded-xl border border-slate-100 transition-all hover:border-[#3399cc]/30",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Xj,{size:16})," Product Page"]}),d.jsx(jn,{size:14,className:"text-slate-400"})]}),a.url_508&&d.jsxs("a",{target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-3 text-slate-700 hover:text-[#3399cc] font-semibold text-sm bg-slate-50 p-4 rounded-xl border border-slate-100 transition-all hover:border-[#3399cc]/30",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(gl,{size:16,className:"text-emerald-500"})," 508 Compliance Link"]}),d.jsx(jn,{size:14,className:"text-slate-400"})]})]})}),d.jsx("div",{className:"pt-6 border-t border-slate-100",children:d.jsxs("div",{className:"flex justify-between text-[10px] font-medium text-slate-400 uppercase tracking-tighter",children:[d.jsxs("span",{children:["Created:"," ",a.created_time?new Date(a.created_time).toLocaleDateString("en-US"):"N/A"]}),d.jsxs("span",{children:["Last Updated:"," ",a.updated_time?new Date(a.updated_time).toLocaleDateString("en-US"):"N/A"]})]})})]})]})]})]})}function Td({title:e,children:t}){return d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-5",children:e}),d.jsx("div",{className:"grid grid-cols-2 gap-y-8 gap-x-4",children:t})]})}function hn({label:e,value:t}){return d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 tracking-wide",children:e}),d.jsx("p",{className:"text-sm font-bold text-slate-800",children:t??""})]})}const oX="inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-[11px] font-bold border",A2={pending:{slug:"pending",label:"Pending",styles:"bg-orange-50 text-orange-600 border-orange-100",icon:Ec},active:{slug:"active",label:"Active",styles:"bg-[#DCFCE7] text-[#15803D] border-[#BBF7D0]",icon:_W},inactive:{slug:"inactive",label:"Inactive",styles:"bg-[#E5E7EB] text-[#374151] border-[#D1D5DB]",icon:wW},approved:{slug:"approved",label:"Approved",styles:"bg-emerald-50 text-emerald-600 border-emerald-100",icon:$s},rejected:{slug:"rejected",label:"Rejected",styles:"bg-rose-50 text-rose-600 border-rose-100",icon:Sx}},r_=e=>{if(!e)return"unknown";const t=e.toLowerCase();return t in A2?t:"unknown"},$a=({status:e})=>{const t=r_(e),r=t!=="unknown"?A2[t]:null,n=t!=="unknown"?A2[t].styles:"bg-slate-100 text-slate-700 border-slate-200",s=r==null?void 0:r.icon,a=(r==null?void 0:r.label)??"Unknown";return d.jsxs("span",{className:`${oX} ${n}`,children:[s&&d.jsx(s,{className:"w-3 h-3"}),a]})},vl=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,details:a=[],warning:i,confirmText:o="Confirm",cancelText:c="Cancel",isSubmitting:f=!1,variant:h="emerald"})=>{if(!e)return null;const m={emerald:"bg-emerald-500 hover:bg-emerald-600",rose:"bg-rose-500 hover:bg-rose-600",amber:"bg-amber-500 hover:bg-amber-600",blue:"bg-[#3399cc] hover:bg-[#2980b9]"},x={rose:"bg-rose-50 border-rose-100 text-rose-700",amber:"bg-amber-50 border-amber-100 text-amber-700",emerald:"bg-emerald-50 border-emerald-100 text-emerald-700"},g={rose:"text-rose-500",amber:"text-amber-500",emerald:"text-emerald-500"};return d.jsx("div",{className:"fixed inset-0 bg-slate-900/40 flex items-center justify-center z-50 p-4 h-full",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden relative",children:[d.jsx("button",{onClick:t,disabled:f,className:`absolute top-6 right-6 transition-colors ${f?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-slate-600"}`,children:d.jsx(wr,{className:"w-5 h-5"})}),d.jsxs("div",{className:"p-8",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:n}),d.jsx("div",{className:"text-slate-500 mb-6",children:s}),a.length>0&&d.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 mb-6 space-y-2 text-left",children:a.map((y,b)=>d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("span",{className:"text-sm text-slate-500 shrink-0",children:[y.label,":"]}),d.jsx("span",{className:"text-sm font-semibold text-slate-700 truncate text-right",children:y.value})]},b))}),i&&d.jsxs("div",{className:`flex items-start gap-3 border rounded-2xl p-4 mb-6 text-left ${x[i.type]}`,children:[d.jsx(u0,{className:`w-5 h-5 shrink-0 mt-0.5 ${g[i.type]}`}),d.jsx("p",{className:"text-xs font-medium leading-relaxed",children:i.message})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:t,disabled:f,className:"flex-1 px-6 py-3 bg-white border border-slate-200 text-slate-700 rounded-xl font-bold text-sm hover:bg-slate-50 transition-all disabled:opacity-50",children:c}),d.jsxs("button",{disabled:f,onClick:r,className:`flex-1 px-6 py-3 rounded-xl font-bold text-sm text-white transition-all shadow-sm flex items-center justify-center gap-2 ${m[h]} disabled:opacity-70`,children:[f&&d.jsx(Wt,{className:"w-4 h-4 animate-spin"}),o]})]})]})]})})},Nd=({icon:e,value:t})=>t?d.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[d.jsx(e,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-sm",children:t})]}):null,lX=({client:e,onClose:t,onEdit:r})=>{if(!e)return null;const n=()=>{r(e),t()};return d.jsxs("div",{className:"fixed inset-0 bg-slate-900/40  z-50 flex items-center justify-center p-4 h-full",children:[d.jsx("div",{className:"absolute inset-0",onClick:t}),d.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"relative bg-linear-to-br p-8",children:[d.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-3 rounded-full hover:bg-white/20 text-slate-700 transition-colors",children:d.jsx(wr,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"w-20 h-20 rounded-2xl bg-[#38A1DB] shadow-lg flex items-center justify-center text-white font-black text-2xl border-4 border-white/20 overflow-hidden",children:e.logoUrl?d.jsx("img",{src:e.logoUrl,alt:e.name,className:"w-full h-full object-contain p-1 bg-white"}):e.name.split(" ").map(s=>s[0]).slice(0,2).join("").toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-400 text-sm font-medium uppercase tracking-widest mb-1",children:"Client Profile"}),d.jsx("h2",{className:"text-3xl font-bold text-slate-700 tracking-tight",children:e.name})]})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-slate-100",children:[d.jsx(qs,{className:"w-5 h-5 text-[#38A1DB]"}),d.jsx("h3",{className:"font-bold text-slate-800 uppercase text-sm tracking-wider",children:"Company Details"})]}),d.jsxs("div",{className:"bg-slate-50/50 rounded-xl p-5 border border-slate-100 space-y-4",children:[d.jsx(Nd,{icon:cl,value:e.email}),d.jsx(Nd,{icon:Th,value:e.phone}),d.jsx(Nd,{icon:Mu,value:e.address})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-slate-100",children:[d.jsx(uc,{className:"w-5 h-5 text-[#38A1DB]"}),d.jsx("h3",{className:"font-bold text-slate-800 uppercase text-sm tracking-wider",children:"Primary Contact"})]}),d.jsx("div",{className:"bg-blue-50/30 rounded-xl p-5 border border-blue-100/50",children:e.contact?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] font-bold text-[#38A1DB] uppercase tracking-tighter",children:"Full Name"}),d.jsx("p",{className:"text-slate-900 font-bold text-lg leading-none mt-1",children:e.contact.name||""})]}),d.jsxs("div",{className:"pt-2 space-y-3 border-t border-blue-100/50",children:[d.jsx(Nd,{icon:cl,value:e.contact.email}),d.jsx(Nd,{icon:Th,value:e.contact.phone})]})]}):d.jsx("div",{className:"text-center py-6",children:d.jsx("p",{className:"text-slate-400 italic text-sm",children:"No primary contact assigned"})})})]})]})}),d.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 rounded-b-3xl flex justify-between border-t border-slate-100",children:[d.jsx("button",{onClick:t,className:"px-6 py-3 rounded-2xl font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-100 transition-all active:scale-95",children:"Close"}),d.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 rounded-2xl bg-linear-to-br from-[#38A1DB] to-[#2D8BBF] text-white font-bold shadow-lg hover:shadow-xl transition-all active:scale-95",children:[d.jsx(e_,{className:"w-4 h-4"}),"Edit Client"]})]})]})]})},cX=({currentStep:e,steps:t})=>d.jsx("div",{className:"flex items-center justify-center gap-4 p-4  border-slate-100 shrink-0",children:t.map((r,n)=>{const s=n+1,a=e>=s,i=e>s;return d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${a?"bg-[#38A1DB] text-white":"bg-slate-200 text-slate-400"}`,children:i?d.jsx($s,{className:"w-6 h-6"}):s}),d.jsx("span",{className:`font-semibold ${a?"text-[#38A1DB]":"text-slate-400"}`,children:r})]}),n<t.length-1&&d.jsx("div",{className:`w-16 h-1 rounded-full ${i?"bg-[#38A1DB]":"bg-slate-200"}`})]},s)})}),n_=({formData:e,errors:t,onChange:r,onClearError:n})=>{const s=Ve.useRef(null),a=c=>{var h;const f=(h=c.target.files)==null?void 0:h[0];if(f){r("logoFile",f);const m=new FileReader;m.onloadend=()=>{r("logoUrl",m.result)},m.readAsDataURL(f)}},i=c=>{c.stopPropagation(),r("logoFile",null),r("logoUrl",""),s.current&&(s.current.value="")},o=c=>`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors focus:outline-none border-slate-200 focus:border-[#38A1DB]"
    }`;return d.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[d.jsxs("div",{className:"md:col-span-2 flex items-center gap-6 p-5 bg-slate-50/50 border border-slate-200 rounded-2xl mb-2",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:`w-24 h-24 rounded-2xl border-2 overflow-hidden bg-white flex items-center justify-center transition-all ${e.logoUrl?"border-solid border-white":"border-dashed border-slate-300"}`,children:e.logoUrl?d.jsx("img",{src:e.logoUrl,alt:"Logo Preview",className:"w-full h-full object-contain p-1"}):d.jsx(qs,{className:"w-10 h-10 text-slate-300"})}),d.jsx("button",{type:"button",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl text-white",children:d.jsx(xl,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-sm font-bold text-slate-800",children:"Company Logo"}),d.jsx("p",{className:"text-xs text-slate-500 mt-1 mb-3",children:"PNG, JPG or SVG (max 2MB)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},className:"px-4 py-2 bg-white border border-slate-200 text-slate-700 text-xs font-bold rounded-lg hover:bg-slate-50 hover:border-[#38A1DB] transition-all flex items-center gap-2 shadow-sm",children:[d.jsx(YW,{className:"w-3.5 h-3.5 text-[#38A1DB]"}),e.logoUrl?"Change Logo":"Upload Logo"]}),e.logoUrl&&d.jsxs("button",{type:"button",onClick:i,className:"px-3 py-2 text-red-500 hover:bg-red-50/50 rounded-lg text-xs font-bold transition-colors flex items-center gap-1",children:[d.jsx(wr,{className:"w-3.5 h-3.5"}),"Remove"]})]})]}),d.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:a,className:"hidden"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Company Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",className:o(),value:e.company_name,onChange:c=>{r("company_name",c.target.value),n("company_name")}}),t.company_name&&d.jsx("p",{className:"mt-1 text-xs text-red-600 ",children:t.company_name})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Company Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",className:o(),value:e.company_email,onChange:c=>{r("company_email",c.target.value),n("company_email")}}),t.company_email&&d.jsx("p",{className:"mt-1 text-xs text-red-600 ",children:t.company_email})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Company Phone ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"tel",className:o(),value:e.company_phone_no,onChange:c=>{r("company_phone_no",c.target.value),n("company_phone_no")}}),t.company_phone_no&&d.jsx("p",{className:"mt-1 text-xs text-red-600 ",children:t.company_phone_no})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Company Address ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",className:o(),value:e.company_address,onChange:c=>{r("company_address",c.target.value),n("company_address")}}),t.company_address&&d.jsx("p",{className:"mt-1 text-xs text-red-600 ",children:t.company_address})]}),d.jsxs("div",{className:"grid grid-cols-3 md:col-span-2 gap-4",children:[d.jsxs("div",{className:"col-span-1",children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["City",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",className:o(),value:e.company_city,onChange:c=>{r("company_city",c.target.value),n("company_city")}}),t.company_city&&d.jsx("p",{className:"mt-1 text-xs text-red-600 ",children:t.company_city})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["State",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",className:o(),value:e.company_state,onChange:c=>{r("company_state",c.target.value),n("company_state")}}),t.company_state&&d.jsx("p",{className:"mt-1 text-xs text-red-600 ",children:t.company_state})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["ZIP",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",className:o(),value:e.company_zip,onChange:c=>{r("company_zip",c.target.value),n("company_zip")}}),t.company_zip&&d.jsx("p",{className:"mt-1 text-xs text-red-600 ",children:t.company_zip})]})]})]})},s_=({formData:e,onChange:t,errors:r,onClearError:n})=>{const s=a=>`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors focus:outline-none border-slate-200 focus:border-[#38A1DB]"
    }`;return d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Negotiator Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",className:s(),value:e.contact_officer_name,onChange:a=>{t("contact_officer_name",a.target.value),n("contact_officer_name")},"aria-invalid":!!r.contact_officer_name}),r.contact_officer_name&&d.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_name})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",className:s(),value:e.contact_officer_email,onChange:a=>{t("contact_officer_email",a.target.value),n("contact_officer_email")},"aria-invalid":!!r.contact_officer_email}),r.contact_officer_email&&d.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_email})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Phone ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"tel",className:s(),value:e.contact_officer_phone_no,onChange:a=>{t("contact_officer_phone_no",a.target.value),n("contact_officer_phone_no")},"aria-invalid":!!r.contact_officer_phone_no}),r.contact_officer_phone_no&&d.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_phone_no})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Address"}),d.jsx("input",{type:"text",className:s(),value:e.contact_officer_address||"",onChange:a=>{t("contact_officer_address",a.target.value),n("contact_officer_address")}}),r.contact_officer_address&&d.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_address})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"City"}),d.jsx("input",{type:"text",className:s(),value:e.contact_officer_city||"",onChange:a=>{t("contact_officer_city",a.target.value),n("contact_officer_city")}}),r.contact_officer_city&&d.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_city})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"State"}),d.jsx("input",{type:"text",className:s(),value:e.contact_officer_state||"",onChange:a=>{t("contact_officer_state",a.target.value),n("contact_officer_state")}}),r.contact_officer_state&&d.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_state})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"ZIP"}),d.jsx("input",{type:"text",className:s(),value:e.contact_officer_zip||"",onChange:a=>{t("contact_officer_zip",a.target.value),n("contact_officer_zip")}}),r.contact_officer_zip&&d.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.contact_officer_zip})]})]})},uX=["Company Info","Primary Contact"],fX=({isOpen:e,title:t,subtitle:r,formData:n,errors:s,backendError:a,currentStep:i,isSubmitting:o,onClose:c,onSubmit:f,onNext:h,onBack:m,onChange:x,onClearError:g,onClearBackendError:y,submitButtonText:b="Create Client Profile"})=>{if(!e)return null;const w=E=>{E.preventDefault(),f(E)};return d.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-none z-50 flex items-center justify-center p-4 h-full",children:d.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsx("div",{className:"bg-linear-to-br bg-slate-50 py-4 px-8 shrink-0",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:t}),d.jsx("p",{className:"text-slate-500 text-sm opacity-80",children:r})]}),d.jsx("button",{type:"button",onClick:c,className:"p-2 hover:bg-white/20 rounded-full transition-colors",disabled:o,children:d.jsx(wr,{className:"w-6 h-6 text-slate-700"})})]})}),d.jsx(cX,{currentStep:i,steps:uX}),a&&d.jsx("div",{className:"mx-8 mt-4 p-4 bg-red-50 border-l-4 border-red-500 ",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"ml-3 flex-1",children:d.jsx("p",{className:"text-sm font-medium text-red-800",children:a})}),y&&d.jsx("button",{type:"button",onClick:y,className:"ml-3 shrink-0 text-red-400 hover:text-red-600 transition-colors",children:d.jsx(wr,{className:"h-5 w-5"})})]})}),d.jsxs("form",{onSubmit:w,className:"flex-1 overflow-y-auto",children:[d.jsxs("div",{className:"py-4 px-8 space-y-6",children:[i===1&&d.jsx(n_,{formData:n,errors:s,onChange:x,onClearError:g}),i===2&&d.jsx(s_,{formData:n,onChange:x,errors:s,onClearError:g})]}),d.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 flex justify-between border-t border-slate-100 shrink-0",children:[d.jsx("button",{type:"button",onClick:i===1?c:m,className:"btn-secondary",disabled:o,children:i===1?"Cancel":"Back"}),i===1?d.jsx("button",{type:"button",onClick:h,className:"btn-primary",children:"Next"}):d.jsx("button",{type:"submit",disabled:o,className:"btn-primary",children:o?"Processing...":b})]})]})]})})},sg=(e,t)=>{const r={},n=f0(e.company_name,!0);n&&(r.company_name=n);const s=Tf(e.company_email);s&&(r.company_email=s);const a=Cx(e.company_phone_no,"Company Phone");a&&(r.company_phone_no=a);const i=el(e.company_address,"Company Address")||yn(e.company_address,50,"Address");i&&(r.company_address=i);const o=el(e.company_city,"City")||yn(e.company_city,50,"City");o&&(r.company_city=o);const c=el(e.company_state,"State")||yn(e.company_state,50,"State");c&&(r.company_state=c);const f=el(e.company_zip,"ZIP"),h=kx(e.company_zip);return(f||h)&&(r.company_zip=f||h||""),t(r),Object.keys(r).length===0},a_=e=>{const t={},r=f0(e.contact_officer_name,!1);r&&(t.contact_officer_name=r);const n=Tf(e.contact_officer_email);n&&(t.contact_officer_email=n==="Email is required"?"Email address is required":n);const s=Cx(e.contact_officer_phone_no,"Phone number");s&&(t.contact_officer_phone_no=s);const a=yn(e.contact_officer_address,50,"Address");a&&(t.contact_officer_address=a);const i=yn(e.contact_officer_city,50,"City");i&&(t.contact_officer_city=i);const o=yn(e.contact_officer_state,50,"State");o&&(t.contact_officer_state=o);const c=kx(e.contact_officer_zip);return c&&(t.contact_officer_zip=c),{isValid:Object.keys(t).length===0,errors:t}},Lm=e=>{var r,n,s,a;const t=e.contact_officer_name||e.contact_officer_email||e.contact_officer_phone_no||e.contact_officer_address;return{id:e.client_id,name:e.company_name,contract:e.contract_number||"",status:r_(e.status),lastModification:((r=e.updated_time||e.created_time)==null?void 0:r.split("T")[0])??"",contact:t?{name:((n=e.contact_officer_name)==null?void 0:n.trim())||null,email:((s=e.contact_officer_email)==null?void 0:s.trim())||null,phone:((a=e.contact_officer_phone_no)==null?void 0:a.trim())||null,address:[e.contact_officer_address,e.contact_officer_city,e.contact_officer_state,e.contact_officer_zip].filter(Boolean).join(", ")||null}:null,email:e.company_email,phone:e.company_phone_no,address:[e.company_address,e.company_city,e.company_state,e.company_zip].filter(Boolean).join(", "),logoUrl:e.company_logo_url}},C2=()=>({company_name:"",company_email:"",company_phone_no:"",company_address:"",company_city:"",company_state:"",company_zip:"",contact_officer_name:"",contact_officer_email:"",contact_officer_phone_no:"",contact_officer_address:"",contact_officer_city:"",contact_officer_state:"",contact_officer_zip:"",status:"pending",logoUrl:"",logoFile:null}),nD=({client:e,onView:t,onEdit:r,onApprove:n,onReject:s})=>{const[a,i]=te.useState(!1),o=te.useRef(null);te.useEffect(()=>{const h=m=>{o.current&&!o.current.contains(m.target)&&i(!1)};return a&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[a]);const c=!["approved","rejected"].includes(e.status),f=e.status==="approved";return d.jsxs("div",{className:"relative",ref:o,children:[d.jsx("button",{onClick:h=>{h.stopPropagation(),i(!a)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(Ku,{className:"w-5 h-5 text-slate-600"})}),a&&d.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-slate-200 py-2 z-10",children:[d.jsxs("button",{onClick:h=>{h.stopPropagation(),t(),i(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-slate-700 hover:bg-slate-50 flex items-center gap-2 transition-colors",children:[d.jsx(ll,{className:"w-4 h-4"}),"View Details"]}),d.jsxs("button",{onClick:h=>{h.stopPropagation(),r(),i(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-slate-700 hover:bg-slate-50 flex items-center gap-2 transition-colors",children:[d.jsx(e_,{className:"w-4 h-4"}),"Edit Client"]}),d.jsx("div",{className:"border-t border-slate-100 my-2"}),c?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:h=>{h.stopPropagation(),n(),i(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-emerald-600 hover:bg-emerald-50 flex items-center gap-2 transition-colors",children:[d.jsx(gl,{className:"w-4 h-4"}),"Approve"]}),d.jsxs("button",{onClick:h=>{h.stopPropagation(),s(),i(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-rose-600 hover:bg-rose-50 flex items-center gap-2 transition-colors",children:[d.jsx(wr,{className:"w-4 h-4"}),"Reject"]})]}):d.jsx("button",{onClick:h=>{h.stopPropagation(),f?s():n(),i(!1)},className:`w-full px-4 py-2 text-left text-sm font-medium flex items-center gap-2 transition-colors ${f?"text-red-600 hover:bg-rose-50":"text-emerald-600 hover:bg-emerald-50"}`,children:f?d.jsxs(d.Fragment,{children:[d.jsx(wr,{className:"w-4 h-4"}),"Reject"]}):d.jsxs(d.Fragment,{children:[d.jsx(gl,{className:"w-4 h-4"}),"Approve"]})})]})]})},dX=({client:e,onView:t,onEdit:r,onApprove:n,onReject:s})=>d.jsxs("div",{onClick:t,className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-5 hover:shadow-md transition-all cursor-pointer",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx("div",{className:`shrink-0 w-12 h-12 rounded-xl border border-slate-200 flex items-center justify-center text-white font-bold text-sm shadow-sm overflow-hidden ${e.company_logo_url?"bg-white":"bg-linear-to-br from-[#3399cc] to-[#2980b9]"}`,children:e.company_logo_url?d.jsx("img",{src:e.company_logo_url,alt:e.company_name,className:"w-full h-full object-contain"}):e.company_name.substring(0,2).toUpperCase()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-slate-800 text-base truncate",children:e.company_name}),d.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.company_email})]})]}),d.jsx("div",{onClick:a=>a.stopPropagation(),children:d.jsx(nD,{client:e,onView:t,onEdit:r,onApprove:n,onReject:s})})]}),d.jsxs("div",{className:"space-y-2.5 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[d.jsx(uc,{className:"w-4 h-4 text-slate-400 shrink-0"}),d.jsx("span",{className:"truncate",children:e.contact_officer_name||"N/A"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[d.jsx(Mu,{className:"w-4 h-4 text-slate-400 shrink-0"}),d.jsxs("span",{className:"truncate",children:[e.company_city,", ",e.company_state]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[d.jsx(ol,{className:"w-4 h-4 text-slate-400 shrink-0"}),d.jsx("span",{children:new Date(e.created_time).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]})]}),d.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100",children:d.jsx($a,{status:e.status})})]}),hX=()=>{var be,U,we;const[e,t]=te.useState([]),[r,n]=te.useState(!0),[s,a]=te.useState(""),[i,o]=te.useState("pending"),[c,f]=te.useState({isOpen:!1,client:null,action:"approve"}),[h,m]=te.useState(null),[x,g]=te.useState(!1),[y,b]=te.useState(!1),[w,E]=te.useState(null),[T,_]=te.useState({}),[S,C]=te.useState(1),[I,j]=te.useState(!1),[q,D]=te.useState(""),[Q,ae]=te.useState(1),F=8,X=async()=>{try{n(!0);const B=await Tt.get("/clients");t(Array.isArray(B.data)?B.data:[])}catch{kt.error("Failed to load clients")}finally{n(!1)}};te.useEffect(()=>{X()},[]),te.useEffect(()=>{ae(1)},[i,s]);const M=(B,A="operation")=>{const R=B.message||`Failed to ${A}. Please try again.`;B.status===409&&C(1),D(R),kt.error(R)},se=(B,A)=>{f({isOpen:!0,client:B,action:A})},J=()=>{f({isOpen:!1,client:null,action:"approve"})},Z=async()=>{if(!c.client)return;const{client_id:B}=c.client,{action:A}=c;try{await Tt.patch(`/clients/${B}/approve`,null,{params:{action:A}}),kt.success(`Client ${A==="approve"?"approved":"rejected"} successfully`),await X(),J()}catch(R){M(R,`${A} client`)}},ge=B=>{const A=Lm(B);m(A),g(!0)},ie=B=>{var A,R,H,fe,ye,he,Ae,De,Pe,We,et;E({id:B.id,company_name:B.name,company_email:B.email,company_phone_no:B.phone,company_address:B.address.split(", ")[0]||"",company_city:B.address.split(", ")[1]||"",company_state:B.address.split(", ")[2]||"",company_zip:B.address.split(", ")[3]||"",contact_officer_name:((A=B.contact)==null?void 0:A.name)||"",contact_officer_email:((R=B.contact)==null?void 0:R.email)||"",contact_officer_phone_no:((H=B.contact)==null?void 0:H.phone)||"",contact_officer_address:((ye=(fe=B.contact)==null?void 0:fe.address)==null?void 0:ye.split(", ")[0])||"",contact_officer_city:((Ae=(he=B.contact)==null?void 0:he.address)==null?void 0:Ae.split(", ")[1])||"",contact_officer_state:((Pe=(De=B.contact)==null?void 0:De.address)==null?void 0:Pe.split(", ")[2])||"",contact_officer_zip:((et=(We=B.contact)==null?void 0:We.address)==null?void 0:et.split(", ")[3])||"",status:B.status,logoUrl:B.logoUrl||"",logoFile:null}),b(!0),C(1),_({}),D("")},Ee=B=>{B.preventDefault(),w&&sg(w,_)&&C(2)},G=async B=>{if(B.preventDefault(),!w)return;if(!sg(w,_)){C(1);return}const R=a_(w);if(!R.isValid){_(H=>({...H,...R.errors})),C(2);return}j(!0);try{const{logoFile:H,logoUrl:fe,...ye}=w,he={...ye,company_logo_url:fe!=null&&fe.startsWith("data:")?void 0:fe||null};if(await Tt.put(`/clients/${w.id}`,he),H){const Ae=new FormData;Ae.append("file",H),await Tt.post(`/clients/${w.id}/logo`,Ae,{headers:{"Content-Type":"multipart/form-data"}})}kt.success("Client updated successfully"),await X(),b(!1)}catch(H){M(H,"update client")}finally{j(!1)}},O=B=>{ge(B)},W=e.filter(B=>!["approved","rejected"].includes(B.status)),K=e.filter(B=>B.status==="approved"),re=e.filter(B=>B.status==="rejected"),P=(()=>{let B=[];return i==="pending"?B=W:i==="approved"?B=K:i==="rejected"?B=re:B=e,B.filter(A=>{var R,H;return((R=A.company_name)==null?void 0:R.toLowerCase().includes(s.toLowerCase()))||((H=A.contact_officer_name)==null?void 0:H.toLowerCase().includes(s.toLowerCase()))})})(),L=P.length,oe=(Q-1)*F,ee=P.slice(oe,oe+F),ne=()=>{switch(i){case"all":return"All Clients";case"pending":return"Pending Client Requests";case"approved":return"Approved Clients";case"rejected":return"Rejected Clients";default:return"Clients"}},z=()=>{switch(i){case"all":return"Complete list of all client profiles";case"pending":return"Client Profiles awaiting approval";case"approved":return"Approved Client Profiles";case"rejected":return"Client Profiles that are registration";default:return""}};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-4 sm:p-6 lg:p-10 space-y-6 sm:space-y-8 lg:space-y-10",children:[d.jsx(vl,{isOpen:c.isOpen,onClose:J,onConfirm:Z,title:`Confirm ${c.action==="approve"?"Approval":"Rejection"}`,message:d.jsxs(d.Fragment,{children:["Are you sure you want to ",c.action," ",d.jsx("span",{className:"font-bold text-slate-700",children:(be=c.client)==null?void 0:be.company_name}),"?"]}),details:[{label:"Company",value:((U=c.client)==null?void 0:U.company_name)||""},{label:"Email",value:((we=c.client)==null?void 0:we.company_email)||""}],variant:c.action==="approve"?"emerald":"rose",confirmText:c.action==="approve"?"Approve":"Reject",isSubmitting:r}),d.jsx(lX,{client:h,onClose:()=>{g(!1),m(null)},onEdit:ie}),w&&d.jsx(fX,{isOpen:y,title:"Edit Client",subtitle:"Update client information",formData:w,errors:T,backendError:q,currentStep:S,isSubmitting:I,onClose:()=>b(!1),onSubmit:G,onNext:Ee,onBack:()=>C(1),onChange:(B,A)=>{E({...w,[B]:A}),T[B]&&_({...T,[B]:""})},onClearError:B=>_({...T,[B]:""}),onClearBackendError:()=>D(""),submitButtonText:"Update Client"}),d.jsxs("div",{className:"mx-auto",children:[d.jsx("h1",{className:"text-3xl  font-extrabold tracking-tight text-slate-800",children:"Client Management"}),d.jsx("p",{className:"text-slate-500 font-medium mt-1 ",children:"Manage client registrations, approvals, and accounts."})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[{label:"Total Clients",count:e.length,icon:qs,color:"blue"},{label:"Pending Requests",count:W.length,icon:Ec,color:"orange"},{label:"Approved Clients",count:K.length,icon:$s,color:"emerald"},{label:"Rejected",count:re.length,icon:Sx,color:"rose"}].map(B=>d.jsxs("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-2xl sm:rounded-3xl shadow-sm flex items-center gap-3 sm:gap-5 border border-slate-100",children:[d.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 bg-${B.color}-50 rounded-full flex items-center justify-center shrink-0`,children:d.jsx(B.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-${B.color}-600`})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold uppercase tracking-widest text-slate-400 truncate",children:B.label}),d.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:B.count})]})]},B.label))}),d.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-sm border border-slate-100 ",children:[d.jsx("div",{className:"border-b border-slate-100 px-4 sm:px-6 lg:px-8 pt-4 sm:pt-6 overflow-x-auto",children:d.jsx("div",{className:"flex gap-1 sm:gap-2 min-w-max ",children:[{id:"all",label:"All Clients",count:e.length,color:"blue"},{id:"pending",label:"Pending",count:W.length,color:"orange"},{id:"approved",label:"Approved",count:K.length,color:"emerald"},{id:"rejected",label:"Rejected",count:re.length,color:"rose"}].map(B=>d.jsxs("button",{onClick:()=>o(B.id),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-t-xl font-bold text-xs sm:text-sm transition-all whitespace-nowrap ${i===B.id?`bg-${B.color}-50 text-${B.color}-600 border-b-2 border-${B.color}-600`:"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[B.label," (",B.count,")"]},B.id))})}),d.jsxs("div",{className:"p-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold",children:ne()}),d.jsx("p",{className:"text-slate-500 text-sm",children:z()})]}),d.jsxs("div",{className:"relative w-full md:w-80",children:[d.jsx(jc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search by company or contact...",className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20  transition-all",value:s,onChange:B=>a(B.target.value)})]})]}),d.jsx("div",{className:"lg:hidden px-4 sm:px-6 pb-4 sm:pb-6 space-y-3 sm:space-y-4",children:r?d.jsxs("div",{className:"py-16 flex flex-col items-center justify-center gap-3",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading clients..."})]}):ee.length===0?d.jsx("div",{className:"py-16 text-center text-slate-400 text-sm",children:"No clients found."}):ee.map(B=>d.jsx(dX,{client:B,onView:()=>ge(B),onEdit:()=>ie(Lm(B)),onApprove:()=>se(B,"approve"),onReject:()=>se(B,"reject")},B.client_id))}),d.jsx("div",{className:"hidden lg:block  px-6 pb-6 ",children:d.jsxs("table",{className:"w-full border-collapse bg-white rounded-2xl shadow-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Company"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Contact Officer"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Location"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Status"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-widerral Information",children:"Created Date"}),d.jsx("th",{className:"text-right px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:r?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Loading clients..."})]})})}):ee.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-slate-400",children:"No clients found."})}):ee.map(B=>d.jsxs("tr",{onClick:()=>O(B),className:"group hover:bg-slate-50/30 transition-colors cursor-pointer",children:[d.jsx("td",{className:"px-4 py-5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`shrink-0 w-10 h-10 rounded-xl border border-slate-200 flex items-center justify-center text-white font-bold text-xs shadow-sm overflow-hidden ${B.company_logo_url?"bg-white":"bg-linear-to-br from-[#3399cc] to-[#2980b9]"}`,children:B.company_logo_url?d.jsx("img",{src:B.company_logo_url,alt:B.company_name,className:"w-full h-full object-contain"}):B.company_name.substring(0,2).toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm text-slate-800",children:B.company_name}),d.jsx("p",{className:"text-xs text-slate-400",children:B.company_email})]})]})}),d.jsx("td",{className:"px-4 py-5",children:d.jsx("p",{className:"text-sm font-semibold text-slate-700",children:B.contact_officer_name||"N/A"})}),d.jsx("td",{className:"px-4 py-5",children:d.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-1",children:[d.jsx(Mu,{className:"w-3 h-3 text-slate-400"}),B.company_city,", ",B.company_state]})}),d.jsx("td",{className:"px-4 py-5",children:d.jsx($a,{status:B.status})}),d.jsx("td",{className:"px-4 py-5",children:d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 font-medium",children:[d.jsx(ol,{className:"w-4 h-4"}),new Date(B.created_time).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})]})}),d.jsx("td",{className:"px-4 py-5",children:d.jsx("div",{className:"flex items-center justify-end",children:d.jsx(nD,{client:B,onView:()=>ge(B),onEdit:()=>ie(Lm(B)),onApprove:()=>se(B,"approve"),onReject:()=>se(B,"reject")})})})]},B.client_id))})]})}),d.jsx(yl,{currentPage:Q,totalItems:L,itemsPerPage:F,onPageChange:ae,label:"clients"})]})]})},Ud={admin:"Administrator",user:"Consultant"},sD=({user:e,onApprove:t,onReject:r,onChangeRole:n})=>{const[s,a]=te.useState(!1),i=te.useRef(null);te.useEffect(()=>{const f=h=>{i.current&&!i.current.contains(h.target)&&a(!1)};return s&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[s]);const o=!e.is_active&&!e.is_deleted,c=e.is_active&&!e.is_deleted;return d.jsxs("div",{className:"relative",ref:i,children:[d.jsx("button",{onClick:f=>{f.stopPropagation(),a(!s)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(Ku,{className:"w-5 h-5 text-slate-600"})}),s&&d.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-slate-200 py-2 z-10",children:[o&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:f=>{f.stopPropagation(),t(),a(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-emerald-600 hover:bg-emerald-50 flex items-center gap-2 transition-colors",children:[d.jsx(ng,{className:"w-4 h-4"}),"Approve"]}),d.jsxs("button",{onClick:f=>{f.stopPropagation(),r(),a(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-rose-600 hover:bg-rose-50 flex items-center gap-2 transition-colors",children:[d.jsx(l4,{className:"w-4 h-4"}),"Reject"]})]}),c&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:f=>{f.stopPropagation(),n(),a(!1)},className:"w-full px-4 py-2 text-left text-sm  text-slate-700 font-medium  hover:bg-slate-50 flex items-center gap-2 transition-colors",children:[d.jsx(RG,{className:"w-4 h-4 text-[#3399cc]"}),"Change Role"]}),d.jsx("div",{className:"border-t border-slate-100 my-2"}),d.jsxs("button",{onClick:f=>{f.stopPropagation(),r(),a(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-rose-600 hover:bg-rose-50 flex items-center gap-2 transition-colors",children:[d.jsx(l4,{className:"w-4 h-4"}),"Reject"]})]}),e.is_deleted&&d.jsxs("button",{onClick:f=>{f.stopPropagation(),t(),a(!1)},className:"w-full px-4 py-2 text-left text-sm font-medium text-emerald-600 hover:bg-emerald-50 flex items-center gap-2 transition-colors",children:[d.jsx(ng,{className:"w-4 h-4"}),"Approve"]})]})]})},pX=({user:e,onApprove:t,onReject:r,onChangeRole:n,getRoleStyle:s})=>d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-5 hover:shadow-md transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-500 font-bold text-sm uppercase shrink-0",children:e.name.charAt(0)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-slate-800 text-base truncate",children:e.name}),d.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.email})]})]}),d.jsx("div",{onClick:a=>a.stopPropagation(),children:d.jsx(sD,{user:e,onApprove:t,onReject:r,onChangeRole:n})})]}),d.jsxs("div",{className:"space-y-2.5 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[d.jsx(Th,{className:"w-4 h-4 text-slate-400 shrink-0"}),d.jsx("span",{className:"truncate",children:e.phone_no||"No Phone"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(QE,{className:"w-4 h-4 text-slate-400 shrink-0"}),d.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[11px] font-bold border capitalize ${s(e.role)}`,children:Ud[e.role]||"User"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[d.jsx(ol,{className:"w-4 h-4 text-slate-400 shrink-0"}),d.jsx("span",{children:new Date(e.created_time).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]})]}),d.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100",children:d.jsx($a,{status:e.is_deleted?"rejected":e.is_active?"approved":"pending"})})]});function mX(){var Ee,G,O,W,K,re;const[e,t]=te.useState([]),[r,n]=te.useState(!0),[s,a]=te.useState(!1),[i,o]=te.useState(""),[c,f]=te.useState("pending"),[h,m]=te.useState({isOpen:!1,user:null,action:"approve"}),[x,g]=te.useState({isOpen:!1,user:null}),[y,b]=te.useState(1),w=8,E=async()=>{try{n(!0);const P=(await Tt.get("/users/all")).data;t(Array.isArray(P)?P:[P])}catch{kt.error("Failed to load users. Please try again.")}finally{n(!1)}};te.useEffect(()=>{E()},[]),te.useEffect(()=>{b(1)},[c,i]);const T=e.filter(Y=>!Y.is_active&&!Y.is_deleted),_=e.filter(Y=>Y.is_active&&!Y.is_deleted),S=e.filter(Y=>Y.is_deleted),C=(Y,P)=>{m({isOpen:!0,user:Y,action:P})},I=()=>{m({isOpen:!1,user:null,action:"approve"})},j=Y=>{g({isOpen:!0,user:Y})},q=()=>{g({isOpen:!1,user:null})},D=async(Y,P)=>{try{a(!0),await Tt.patch(`/users/${Y}/approve`,null,{params:{action:P}}),t(L=>L.map(oe=>oe.user_id===Y?{...oe,is_active:P==="approve",is_deleted:P==="reject"}:oe)),kt.success(`User account ${P==="approve"?"approved":"rejected"} successfully`),I()}catch(L){console.error(L),kt.error(`Failed to ${P} user`)}finally{a(!1)}},Q=()=>{h.user&&D(h.user.user_id,h.action)},ae=async()=>{if(x.user)try{a(!0),await Tt.put(`/users/change_role/${x.user.user_id}`),await E(),kt.success("User role changed successfully"),q()}catch(Y){console.error(Y),kt.error(Y.message||"Failed to change user role")}finally{a(!1)}},X=(()=>{let Y=[];switch(c){case"all":Y=e;break;case"pending":Y=T;break;case"approved":Y=_;break;case"rejected":Y=S;break;default:Y=e}return Y.filter(P=>P.name.toLowerCase().includes(i.toLowerCase())||P.email.toLowerCase().includes(i.toLowerCase()))})(),M=X.length,se=(y-1)*w,J=X.slice(se,se+w),Z=Y=>{switch(Ud[Y]||"default"){case"Administrator":return"bg-purple-50 text-purple-600 border-purple-100";case"Consultant":return"bg-orange-50 text-orange-600 border-orange-100";default:return"bg-slate-50 text-slate-600 border-slate-100"}},ge=()=>{switch(c){case"all":return"All Users";case"pending":return"Pending User Requests";case"approved":return"Approved Users";case"rejected":return"Rejected Users";default:return"Users"}},ie=()=>{switch(c){case"all":return"Complete list of all users in the system";case"pending":return"Users awaiting account activation";case"approved":return"Users with active accounts";case"rejected":return"Users whose accounts were rejected";default:return""}};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-4 sm:p-6 lg:p-10 space-y-6 sm:space-y-8 lg:space-y-10",children:[d.jsx(vl,{isOpen:h.isOpen,onClose:I,onConfirm:Q,title:`Confirm ${h.action==="approve"?"Approval":"Rejection"}`,message:d.jsxs(d.Fragment,{children:["Are you sure you want to ",h.action," ",d.jsx("span",{className:"font-bold text-slate-700",children:(Ee=h.user)==null?void 0:Ee.name}),"?"]}),details:[{label:"Email",value:((G=h.user)==null?void 0:G.email)||""},{label:"Role",value:Ud[(O=h.user)==null?void 0:O.role]||"User"}],warning:h.action==="reject"?{message:"This action will reject the user's account. They won't be able to access the system.",type:"rose"}:void 0,variant:h.action==="approve"?"emerald":"rose",confirmText:h.action==="approve"?"Approve":"Reject",isSubmitting:s}),d.jsx(vl,{isOpen:x.isOpen,onClose:q,onConfirm:ae,title:"Change User Role",message:d.jsxs(d.Fragment,{children:["Are you sure you want to change the role of"," ",d.jsx("span",{className:"font-bold text-slate-700",children:(W=x.user)==null?void 0:W.name}),"?"]}),details:[{label:"Current Role",value:Ud[(K=x.user)==null?void 0:K.role]||"User"},{label:"New Role",value:((re=x.user)==null?void 0:re.role)==="admin"?"Consultant":"Administrator"}],warning:{message:"This will change the user's permissions and access level in the system.",type:"amber"},variant:"blue",confirmText:"Change Role",isSubmitting:s}),d.jsxs("div",{className:"mx-auto",children:[d.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"User Management"}),d.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Manage user accounts, approvals, and permissions."})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[{label:"Total Users",count:e.length,icon:lK,color:"blue"},{label:"Pending Approvals",count:T.length,icon:Ec,color:"orange"},{label:"Approved",count:_.length,icon:$s,color:"emerald"},{label:"Rejected",count:S.length,icon:Sx,color:"rose"}].map(Y=>d.jsxs("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-2xl sm:rounded-3xl shadow-sm flex items-center gap-3 sm:gap-5 border border-slate-100",children:[d.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 bg-${Y.color}-50 rounded-full flex items-center justify-center shrink-0`,children:d.jsx(Y.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-${Y.color}-600`})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold uppercase tracking-widest text-slate-400 truncate",children:Y.label}),d.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:Y.count})]})]},Y.label))}),d.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-sm border border-slate-100 ",children:[d.jsx("div",{className:"border-b border-slate-100 px-4 sm:px-6 lg:px-8 pt-4 sm:pt-6 overflow-x-auto",children:d.jsx("div",{className:"flex gap-1 sm:gap-2 min-w-max",children:[{id:"all",label:"All Users",count:e.length,color:"blue"},{id:"pending",label:"Pending",count:T.length,color:"orange"},{id:"approved",label:"Approved",count:_.length,color:"emerald"},{id:"rejected",label:"Rejected",count:S.length,color:"rose"}].map(Y=>d.jsxs("button",{onClick:()=>f(Y.id),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-t-xl font-bold text-xs sm:text-sm transition-all whitespace-nowrap ${c===Y.id?`bg-${Y.color}-50 text-${Y.color}-600 border-b-2 border-${Y.color}-600`:"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[Y.label," (",Y.count,")"]},Y.id))})}),d.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900",children:ge()}),d.jsx("p",{className:"text-slate-500 text-sm",children:ie()})]}),d.jsxs("div",{className:"relative w-full md:w-80",children:[d.jsx(jc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-all",value:i,onChange:Y=>o(Y.target.value)})]})]}),d.jsx("div",{className:"lg:hidden px-4 sm:px-6 pb-4 sm:pb-6 space-y-3 sm:space-y-4",children:r?d.jsxs("div",{className:"py-16 flex flex-col items-center justify-center gap-3",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading users..."})]}):J.length===0?d.jsx("div",{className:"py-16 text-center text-slate-400 text-sm",children:"No users found."}):J.map(Y=>d.jsx(pX,{user:Y,onApprove:()=>C(Y,"approve"),onReject:()=>C(Y,"reject"),onChangeRole:()=>j(Y),getRoleStyle:Z},Y.user_id))}),d.jsx("div",{className:"hidden lg:block  px-6 pb-6",children:d.jsxs("table",{className:"w-full border-collapse bg-white rounded-2xl shadow-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"User"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Phone"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Registered Date"}),d.jsx("th",{className:"text-right px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:r?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Loading users..."})]})})}):J.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-20 text-center text-slate-400",children:"No users found."})}):J.map(Y=>d.jsxs("tr",{className:"group hover:bg-slate-50/30 transition-colors",children:[d.jsx("td",{className:"px-4 py-5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center text-blue-500 font-bold text-xs uppercase",children:Y.name.charAt(0)}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm text-slate-800",children:Y.name}),d.jsx("p",{className:"text-xs text-slate-400 flex items-center gap-1",children:Y.email})]})]})}),d.jsx("td",{className:"px-4 py-5",children:d.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[11px] font-bold border capitalize ${Z(Y.role)}`,children:[d.jsx(QE,{className:"w-3 h-3"}),Ud[Y.role]||"User"]})}),d.jsx("td",{className:"px-4 py-5",children:d.jsx("p",{className:"text-sm font-semibold text-slate-600",children:Y.phone_no||"No Phone"})}),d.jsx("td",{className:"px-4 py-5",children:d.jsx($a,{status:Y.is_deleted?"rejected":Y.is_active?"approved":"pending"})}),d.jsx("td",{className:"px-4 py-5",children:d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 font-medium",children:[d.jsx(ol,{className:"w-4 h-4"}),new Date(Y.created_time).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})]})}),d.jsx("td",{className:"px-4 py-5",children:d.jsx("div",{className:"flex items-center justify-end",children:d.jsx(sD,{user:Y,onApprove:()=>C(Y,"approve"),onReject:()=>C(Y,"reject"),onChangeRole:()=>j(Y)})})})]},Y.user_id))})]})}),d.jsx(yl,{currentPage:y,totalItems:M,itemsPerPage:w,onPageChange:b,label:"users"})]})]})}const gX=new Set(["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"]),xX=/\.(xlsx|xls)$/i;function aD({onFileDrop:e,onInvalidFile:t}){const[r,n]=te.useState(!1),s=c=>c.type&&gX.has(c.type)?!0:xX.test(c.name),a=te.useCallback(c=>{c.preventDefault(),c.stopPropagation(),n(!0)},[]),i=te.useCallback(c=>{c.preventDefault(),c.stopPropagation(),!c.currentTarget.contains(c.relatedTarget)&&n(!1)},[]),o=te.useCallback(c=>{var h;c.preventDefault(),c.stopPropagation(),n(!1);const f=(h=c.dataTransfer.files)==null?void 0:h[0];if(f){if(!s(f)){t==null||t("Invalid file type. Please drop an Excel (.xlsx or .xls) file.");return}e(f)}},[e,t]);return{isDragging:r,handleDragOver:a,handleDragLeave:i,handleDrop:o}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var iD=1252,yX=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],i_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},o_=function(e){yX.indexOf(e)!=-1&&(iD=i_[0]=e)};function vX(){o_(1252)}var Ba=function(e){o_(e)};function oD(){Ba(1200),vX()}function g4(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function bX(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function lD(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var zd=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?bX(e.slice(2)):t==254&&r==255?lD(e.slice(2)):t==65279?e.slice(1):e},Xp=function(t){return String.fromCharCode(t)},x4=function(t){return String.fromCharCode(t)},Nh,tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function y4(e){for(var t="",r=0,n=0,s=0,a=0,i=0,o=0,c=0,f=0;f<e.length;)r=e.charCodeAt(f++),a=r>>2,n=e.charCodeAt(f++),i=(r&3)<<4|n>>4,s=e.charCodeAt(f++),o=(n&15)<<2|s>>6,c=s&63,isNaN(n)?o=c=64:isNaN(s)&&(c=64),t+=tl.charAt(a)+tl.charAt(i)+tl.charAt(o)+tl.charAt(c);return t}function Ws(e){var t="",r=0,n=0,s=0,a=0,i=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)a=tl.indexOf(e.charAt(f++)),i=tl.indexOf(e.charAt(f++)),r=a<<2|i>>4,t+=String.fromCharCode(r),o=tl.indexOf(e.charAt(f++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=tl.indexOf(e.charAt(f++)),s=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Pt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Dc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function bl(e){return Pt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function v4(e){return Pt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Fa=function(t){return Pt?Dc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Ic(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function l_(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return l_(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Yo=Pt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Dc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function wX(e){for(var t=[],r=0,n=e.length+250,s=bl(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)s[r++]=i;else if(i<2048)s[r++]=192|i>>6&31,s[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++a)&1023;s[r++]=240|i>>8&7,s[r++]=128|i>>2&63,s[r++]=128|o>>6&15|(i&3)<<4,s[r++]=128|o&63}else s[r++]=224|i>>12&15,s[r++]=128|i>>6&63,s[r++]=128|i&63;r>n&&(t.push(s.slice(0,r)),r=0,s=bl(65535),n=65530)}return t.push(s.slice(0,r)),Yo(t)}var is=/\u0000/g,Hd=/[\u0001-\u0006]/g;function Fu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ua(e,t){var r=""+e;return r.length>=t?r:Cr("0",t-r.length)+r}function c_(e,t){var r=""+e;return r.length>=t?r:Cr(" ",t-r.length)+r}function ag(e,t){var r=""+e;return r.length>=t?r:r+Cr(" ",t-r.length)}function EX(e,t){var r=""+Math.round(e);return r.length>=t?r:Cr("0",t-r.length)+r}function _X(e,t){var r=""+e;return r.length>=t?r:Cr("0",t-r.length)+r}var b4=Math.pow(2,32);function _u(e,t){if(e>b4||e<-b4)return EX(e,t);var r=Math.round(e);return _X(r,t)}function ig(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var w4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Rv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SX(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var _t={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},E4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},TX={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function og(e,t,r){for(var n=e<0?-1:1,s=e*n,a=0,i=1,o=0,c=1,f=0,h=0,m=Math.floor(s);f<t&&(m=Math.floor(s),o=m*i+a,h=m*f+c,!(s-m<5e-8));)s=1/(s-m),a=i,i=o,c=f,f=h;if(h>t&&(f>t?(h=c,o=a):(h=f,o=i)),!r)return[0,n*o,h];var x=Math.floor(n*o/h);return[x,n*o-x*h,h]}function tc(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),a=0,i=[],o={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=OX(c,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=a,o}var cD=new Date(1899,11,31,0,0,0),NX=cD.getTime(),AX=new Date(1900,2,1,0,0,0);function uD(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=AX&&(r+=1440*60*1e3),(r-(NX+(e.getTimezoneOffset()-cD.getTimezoneOffset())*6e4))/(1440*60*1e3)}function u_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function CX(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function kX(e){var t=e<0?12:11,r=u_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function RX(e){var t=u_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Ah(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=kX(e):t===10?r=e.toFixed(10).substr(0,12):r=RX(e),u_(CX(r.toUpperCase()))}function Sc(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Ah(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return _a(14,uD(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function OX(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function jX(e,t,r,n){var s="",a=0,i=0,o=r.y,c,f=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,f=2;break;default:c=o%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,f=t.length;break;case 3:return Rv[r.m-1][1];case 5:return Rv[r.m-1][0];default:return Rv[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,f=t.length;break;case 3:return w4[r.q][0];default:return w4[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ua(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,a=Math.round(i*(r.S+r.u)),a>=60*i&&(a=0),t==="s"?a===0?"0":""+a/i:(s=Ua(a,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:c=o,f=1;break}var h=f>0?Ua(c,f):"";return h}function rl(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var fD=/%/g;function DX(e,t,r){var n=t.replace(fD,""),s=t.length-n.length;return ro(e,n,r*Math.pow(10,2*s))+Cr("%",s)}function IX(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ro(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function dD(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+dD(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(s+a)%s)+"."+h.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var hD=/# (\?+)( ?)\/( ?)(\d+)/;function MX(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),a=Math.floor(s/n),i=s-a*n,o=n;return r+(a===0?"":""+a)+" "+(i===0?Cr(" ",e[1].length+1+e[4].length):c_(i,e[1].length)+e[2]+"/"+e[3]+Ua(o,e[4].length))}function FX(e,t,r){return r+(t===0?"":""+t)+Cr(" ",e[1].length+2+e[4].length)}var pD=/^#*0*\.([0#]+)/,mD=/\).*[0#]/,gD=/\(###\) ###\\?-####/;function ts(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function _4(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function S4(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function PX(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function LX(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function fa(e,t,r){if(e.charCodeAt(0)===40&&!t.match(mD)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?fa("n",n,r):"("+fa("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return IX(e,t,r);if(t.indexOf("%")!==-1)return DX(e,t,r);if(t.indexOf("E")!==-1)return dD(t,r);if(t.charCodeAt(0)===36)return"$"+fa(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,o,c=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+_u(c,t.length);if(t.match(/^[#?]+$/))return s=_u(r,0),s==="0"&&(s=""),s.length>t.length?s:ts(t.substr(0,t.length-s.length))+s;if(a=t.match(hD))return MX(a,c,f);if(t.match(/^#+0+$/))return f+_u(c,t.length-t.indexOf("0"));if(a=t.match(pD))return s=_4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+ts(a[1])).replace(/\.$/,"."+ts(a[1])).replace(/\.(\d*)$/,function(y,b){return"."+b+Cr("0",ts(a[1]).length-b.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+_4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+rl(_u(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+fa(e,t,-r):rl(""+(Math.floor(r)+PX(r,a[1].length)))+"."+Ua(S4(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return fa(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Fu(fa(e,t.replace(/[\\-]/g,""),r)),i=0,Fu(Fu(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<s.length?s.charAt(i++):y==="0"?"0":""}));if(t.match(gD))return s=fa(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=og(c,Math.pow(10,i)-1,!1),s=""+f,h=ro("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+a[2]+"/"+a[3],h=ag(o[2],i),h.length<a[4].length&&(h=ts(a[4].substr(a[4].length-h.length))+h),s+=h,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=og(c,Math.pow(10,i)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?c_(o[1],i)+a[2]+"/"+a[3]+ag(o[2],i):Cr(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=_u(r,0),t.length<=s.length?s:ts(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var m=t.indexOf(".")-i,x=t.length-s.length-m;return ts(t.substr(0,m)+s+t.substr(t.length-x))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=S4(r,a[1].length),r<0?"-"+fa(e,t,-r):rl(LX(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Ua(0,3-y.length):"")+y})+"."+Ua(i,a[1].length);switch(t){case"###,##0.00":return fa(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=rl(_u(c,0));return g!=="0"?f+g:"";case"###,###.00":return fa(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return fa(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function BX(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ro(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function UX(e,t,r){var n=t.replace(fD,""),s=t.length-n.length;return ro(e,n,r*Math.pow(10,2*s))+Cr("%",s)}function xD(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xD(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(s+a)%s)+"."+h.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function li(e,t,r){if(e.charCodeAt(0)===40&&!t.match(mD)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?li("n",n,r):"("+li("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return BX(e,t,r);if(t.indexOf("%")!==-1)return UX(e,t,r);if(t.indexOf("E")!==-1)return xD(t,r);if(t.charCodeAt(0)===36)return"$"+li(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,o,c=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Ua(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:ts(t.substr(0,t.length-s.length))+s;if(a=t.match(hD))return FX(a,c,f);if(t.match(/^#+0+$/))return f+Ua(c,t.length-t.indexOf("0"));if(a=t.match(pD))return s=(""+r).replace(/^([^\.]+)$/,"$1."+ts(a[1])).replace(/\.$/,"."+ts(a[1])),s=s.replace(/\.(\d*)$/,function(y,b){return"."+b+Cr("0",ts(a[1]).length-b.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+rl(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+li(e,t,-r):rl(""+r)+"."+Cr("0",a[1].length);if(a=t.match(/^#,#*,#0/))return li(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Fu(li(e,t.replace(/[\\-]/g,""),r)),i=0,Fu(Fu(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<s.length?s.charAt(i++):y==="0"?"0":""}));if(t.match(gD))return s=li(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=og(c,Math.pow(10,i)-1,!1),s=""+f,h=ro("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+a[2]+"/"+a[3],h=ag(o[2],i),h.length<a[4].length&&(h=ts(a[4].substr(a[4].length-h.length))+h),s+=h,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=og(c,Math.pow(10,i)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?c_(o[1],i)+a[2]+"/"+a[3]+ag(o[2],i):Cr(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:ts(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var m=t.indexOf(".")-i,x=t.length-s.length-m;return ts(t.substr(0,m)+s+t.substr(t.length-x))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+li(e,t,-r):rl(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Ua(0,3-y.length):"")+y})+"."+Ua(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=rl(""+c);return g!=="0"?f+g:"";default:if(t.match(/\.[0#?]*$/))return li(e,t.slice(0,t.lastIndexOf(".")),r)+ts(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ro(e,t,r){return(r|0)===r?li(e,t,r):fa(e,t,r)}function zX(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var yD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Nf(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ig(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(yD))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function HX(e,t,r,n){for(var s=[],a="",i=0,o="",c="t",f,h,m,x="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!ig(e,i))throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(m=e.charCodeAt(++i))!==34&&i<e.length;)a+=String.fromCharCode(m);s[s.length]={t:"t",v:a},++i;break;case"\\":var g=e.charAt(++i),y=g==="("||g===")"?g:"t";s[s.length]={t:y,v:g},++i;break;case"_":s[s.length]={t:"t",v:" "},i+=2;break;case"@":s[s.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(f==null&&(f=tc(t,r,e.charAt(i+1)==="2"),f==null))return"";s[s.length]={t:"X",v:e.substr(i,2)},c=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=tc(t,r),f==null))return"";for(a=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),s[s.length]={t:o,v:a},c=o;break;case"A":case"a":case"":var b={t:o,v:o};if(f==null&&(f=tc(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",x="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",i+=5,x="h"):e.substr(i,5).toUpperCase()==="/"?(f!=null&&(b.v=f.H>=12?"":""),b.t="T",i+=5,x="h"):(b.t="t",++i),f==null&&b.t==="T")return"";s[s.length]=b,c=o;break;case"[":for(a=o;e.charAt(i++)!=="]"&&i<e.length;)a+=e.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(yD)){if(f==null&&(f=tc(t,r),f==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Nf(e)||(s[s.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=o;++i<e.length&&(o=e.charAt(i))==="0";)a+=o;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)a+=o;s[s.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++i)===o;)a+=o;s[s.length]={t:o,v:a},c=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":s[s.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)a+=e.charAt(i);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:o,v:o},++i;break;case"$":s[s.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"t",v:o},++i;break}var w=0,E=0,T;for(i=s.length-1,c="t";i>=0;--i)switch(s[i].t){case"h":case"H":s[i].t=x,c="h",w<1&&(w=1);break;case"s":(T=s[i].v.match(/\.0+$/))&&(E=Math.max(E,T[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":c=s[i].t;break;case"m":c==="s"&&(s[i].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&s[i].v.match(/[Hh]/)&&(w=1),w<2&&s[i].v.match(/[Mm]/)&&(w=2),w<3&&s[i].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var _="",S;for(i=0;i<s.length;++i)switch(s[i].t){case"t":case"T":case" ":case"D":break;case"X":s[i].v="",s[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[i].v=jX(s[i].t.charCodeAt(0),s[i].v,f,E),s[i].t="t";break;case"n":case"?":for(S=i+1;s[S]!=null&&((o=s[S].t)==="?"||o==="D"||(o===" "||o==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[i].v+=s[S].v,s[S]={v:"",t:";"},++S;_+=s[i].v,i=S-1;break;case"G":s[i].t="t",s[i].v=Sc(t,r);break}var C="",I,j;if(_.length>0){_.charCodeAt(0)==40?(I=t<0&&_.charCodeAt(0)===45?-t:t,j=ro("n",_,I)):(I=t<0&&n>1?-t:t,j=ro("n",_,I),I<0&&s[0]&&s[0].t=="t"&&(j=j.substr(1),s[0].v="-"+s[0].v)),S=j.length-1;var q=s.length;for(i=0;i<s.length;++i)if(s[i]!=null&&s[i].t!="t"&&s[i].v.indexOf(".")>-1){q=i;break}var D=s.length;if(q===s.length&&j.indexOf("E")===-1){for(i=s.length-1;i>=0;--i)s[i]==null||"n?".indexOf(s[i].t)===-1||(S>=s[i].v.length-1?(S-=s[i].v.length,s[i].v=j.substr(S+1,s[i].v.length)):S<0?s[i].v="":(s[i].v=j.substr(0,S+1),S=-1),s[i].t="t",D=i);S>=0&&D<s.length&&(s[D].v=j.substr(0,S+1)+s[D].v)}else if(q!==s.length&&j.indexOf("E")===-1){for(S=j.indexOf(".")-1,i=q;i>=0;--i)if(!(s[i]==null||"n?".indexOf(s[i].t)===-1)){for(h=s[i].v.indexOf(".")>-1&&i===q?s[i].v.indexOf(".")-1:s[i].v.length-1,C=s[i].v.substr(h+1);h>=0;--h)S>=0&&(s[i].v.charAt(h)==="0"||s[i].v.charAt(h)==="#")&&(C=j.charAt(S--)+C);s[i].v=C,s[i].t="t",D=i}for(S>=0&&D<s.length&&(s[D].v=j.substr(0,S+1)+s[D].v),S=j.indexOf(".")+1,i=q;i<s.length;++i)if(!(s[i]==null||"n?(".indexOf(s[i].t)===-1&&i!==q)){for(h=s[i].v.indexOf(".")>-1&&i===q?s[i].v.indexOf(".")+1:0,C=s[i].v.substr(0,h);h<s[i].v.length;++h)S<j.length&&(C+=j.charAt(S++));s[i].v=C,s[i].t="t",D=i}}}for(i=0;i<s.length;++i)s[i]!=null&&"n?".indexOf(s[i].t)>-1&&(I=n>1&&t<0&&i>0&&s[i-1].v==="-"?-t:t,s[i].v=ro(s[i].t,s[i].v,I),s[i].t="t");var Q="";for(i=0;i!==s.length;++i)s[i]!=null&&(Q+=s[i].v);return Q}var T4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function N4(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function qX(e,t){var r=zX(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(T4),o=r[1].match(T4);return N4(t,i)?[n,r[0]]:N4(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,a]}function _a(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:_t)[e],n==null&&(n=r.table&&r.table[E4[e]]||_t[E4[e]]),n==null&&(n=TX[e]||"General");break}if(ig(n,0))return Sc(t,r);t instanceof Date&&(t=uD(t,r.date1904));var s=qX(n,t);if(ig(s[1]))return Sc(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return HX(s[1],t,r,s[0])}function fc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(_t[r]==null){t<0&&(t=r);continue}if(_t[r]==e){t=r;break}}t<0&&(t=391)}return _t[t]=e,t}function vD(){_t=SX()}var VX={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},bD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function $X(e){var t=typeof e=="number"?_t[e]:e;return t=t.replace(bD,"(\\d+)"),new RegExp("^"+t+"$")}function WX(e,t,r){var n=-1,s=-1,a=-1,i=-1,o=-1,c=-1;(t.match(bD)||[]).forEach(function(m,x){var g=parseInt(r[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=g;break;case"d":a=g;break;case"h":i=g;break;case"s":c=g;break;case"m":i>=0?o=g:s=g;break}}),c>=0&&o==-1&&s>=0&&(o=s,s=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&o==-1&&c==-1?f:n==-1&&s==-1&&a==-1?h:f+"T"+h}var GX=(function(){var e={};e.version="1.2.0";function t(){for(var j=0,q=new Array(256),D=0;D!=256;++D)j=D,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,q[D]=j;return typeof Int32Array<"u"?new Int32Array(q):q}var r=t();function n(j){var q=0,D=0,Q=0,ae=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Q=0;Q!=256;++Q)ae[Q]=j[Q];for(Q=0;Q!=256;++Q)for(D=j[Q],q=256+Q;q<4096;q+=256)D=ae[q]=D>>>8^j[D&255];var F=[];for(Q=1;Q!=16;++Q)F[Q-1]=typeof Int32Array<"u"?ae.subarray(Q*256,Q*256+256):ae.slice(Q*256,Q*256+256);return F}var s=n(r),a=s[0],i=s[1],o=s[2],c=s[3],f=s[4],h=s[5],m=s[6],x=s[7],g=s[8],y=s[9],b=s[10],w=s[11],E=s[12],T=s[13],_=s[14];function S(j,q){for(var D=q^-1,Q=0,ae=j.length;Q<ae;)D=D>>>8^r[(D^j.charCodeAt(Q++))&255];return~D}function C(j,q){for(var D=q^-1,Q=j.length-15,ae=0;ae<Q;)D=_[j[ae++]^D&255]^T[j[ae++]^D>>8&255]^E[j[ae++]^D>>16&255]^w[j[ae++]^D>>>24]^b[j[ae++]]^y[j[ae++]]^g[j[ae++]]^x[j[ae++]]^m[j[ae++]]^h[j[ae++]]^f[j[ae++]]^c[j[ae++]]^o[j[ae++]]^i[j[ae++]]^a[j[ae++]]^r[j[ae++]];for(Q+=15;ae<Q;)D=D>>>8^r[(D^j[ae++])&255];return~D}function I(j,q){for(var D=q^-1,Q=0,ae=j.length,F=0,X=0;Q<ae;)F=j.charCodeAt(Q++),F<128?D=D>>>8^r[(D^F)&255]:F<2048?(D=D>>>8^r[(D^(192|F>>6&31))&255],D=D>>>8^r[(D^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,X=j.charCodeAt(Q++)&1023,D=D>>>8^r[(D^(240|F>>8&7))&255],D=D>>>8^r[(D^(128|F>>2&63))&255],D=D>>>8^r[(D^(128|X>>6&15|(F&3)<<4))&255],D=D>>>8^r[(D^(128|X&63))&255]):(D=D>>>8^r[(D^(224|F>>12&15))&255],D=D>>>8^r[(D^(128|F>>6&63))&255],D=D>>>8^r[(D^(128|F&63))&255]);return~D}return e.table=r,e.bstr=S,e.buf=C,e.str=I,e})(),Lt=(function(){var t={};t.version="1.2.1";function r(le,me){for(var ue=le.split("/"),de=me.split("/"),pe=0,xe=0,Ce=Math.min(ue.length,de.length);pe<Ce;++pe){if(xe=ue[pe].length-de[pe].length)return xe;if(ue[pe]!=de[pe])return ue[pe]<de[pe]?-1:1}return ue.length-de.length}function n(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:n(le.slice(0,-1));var me=le.lastIndexOf("/");return me===-1?le:le.slice(0,me+1)}function s(le){if(le.charAt(le.length-1)=="/")return s(le.slice(0,-1));var me=le.lastIndexOf("/");return me===-1?le:le.slice(me+1)}function a(le,me){typeof me=="string"&&(me=new Date(me));var ue=me.getHours();ue=ue<<6|me.getMinutes(),ue=ue<<5|me.getSeconds()>>>1,le.write_shift(2,ue);var de=me.getFullYear()-1980;de=de<<4|me.getMonth()+1,de=de<<5|me.getDate(),le.write_shift(2,de)}function i(le){var me=le.read_shift(2)&65535,ue=le.read_shift(2)&65535,de=new Date,pe=ue&31;ue>>>=5;var xe=ue&15;ue>>>=4,de.setMilliseconds(0),de.setFullYear(ue+1980),de.setMonth(xe-1),de.setDate(pe);var Ce=me&31;me>>>=5;var Ue=me&63;return me>>>=6,de.setHours(me),de.setMinutes(Ue),de.setSeconds(Ce<<1),de}function o(le){Cn(le,0);for(var me={},ue=0;le.l<=le.length-4;){var de=le.read_shift(2),pe=le.read_shift(2),xe=le.l+pe,Ce={};switch(de){case 21589:ue=le.read_shift(1),ue&1&&(Ce.mtime=le.read_shift(4)),pe>5&&(ue&2&&(Ce.atime=le.read_shift(4)),ue&4&&(Ce.ctime=le.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break}le.l=xe,me[de]=Ce}return me}var c;function f(){return c||(c={})}function h(le,me){if(le[0]==80&&le[1]==75)return Ca(le,me);if((le[0]|32)==109&&(le[1]|32)==105)return dr(le,me);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var ue=3,de=512,pe=0,xe=0,Ce=0,Ue=0,ke=0,Re=[],je=le.slice(0,512);Cn(je,0);var Ge=m(je);switch(ue=Ge[0],ue){case 3:de=512;break;case 4:de=4096;break;case 0:if(Ge[1]==0)return Ca(le,me);default:throw new Error("Major Version: Expected 3 or 4 saw "+ue)}de!==512&&(je=le.slice(0,de),Cn(je,28));var Ye=le.slice(0,de);x(je,ue);var Qe=je.read_shift(4,"i");if(ue===3&&Qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Qe);je.l+=4,Ce=je.read_shift(4,"i"),je.l+=4,je.chk("00100000","Mini Stream Cutoff Size: "),Ue=je.read_shift(4,"i"),pe=je.read_shift(4,"i"),ke=je.read_shift(4,"i"),xe=je.read_shift(4,"i");for(var Ke=-1,Je=0;Je<109&&(Ke=je.read_shift(4,"i"),!(Ke<0));++Je)Re[Je]=Ke;var at=g(le,de);w(ke,xe,at,de,Re);var or=T(at,Ce,Re,de);or[Ce].name="!Directory",pe>0&&Ue!==X&&(or[Ue].name="!MiniFAT"),or[Re[0]].name="!FAT",or.fat_addrs=Re,or.ssz=de;var lr={},gr=[],Js=[],Rl=[];_(Ce,or,at,gr,pe,lr,Js,Ue),y(Js,Rl,gr),gr.shift();var yo={FileIndex:Js,FullPaths:Rl};return me&&me.raw&&(yo.raw={header:Ye,sectors:at}),yo}function m(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(M,"Header Signature: "),le.l+=16;var me=le.read_shift(2,"u");return[le.read_shift(2,"u"),me]}function x(le,me){var ue=9;switch(le.l+=2,ue=le.read_shift(2)){case 9:if(me!=3)throw new Error("Sector Shift: Expected 9 saw "+ue);break;case 12:if(me!=4)throw new Error("Sector Shift: Expected 12 saw "+ue);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ue)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function g(le,me){for(var ue=Math.ceil(le.length/me)-1,de=[],pe=1;pe<ue;++pe)de[pe-1]=le.slice(pe*me,(pe+1)*me);return de[ue-1]=le.slice(ue*me),de}function y(le,me,ue){for(var de=0,pe=0,xe=0,Ce=0,Ue=0,ke=ue.length,Re=[],je=[];de<ke;++de)Re[de]=je[de]=de,me[de]=ue[de];for(;Ue<je.length;++Ue)de=je[Ue],pe=le[de].L,xe=le[de].R,Ce=le[de].C,Re[de]===de&&(pe!==-1&&Re[pe]!==pe&&(Re[de]=Re[pe]),xe!==-1&&Re[xe]!==xe&&(Re[de]=Re[xe])),Ce!==-1&&(Re[Ce]=de),pe!==-1&&de!=Re[de]&&(Re[pe]=Re[de],je.lastIndexOf(pe)<Ue&&je.push(pe)),xe!==-1&&de!=Re[de]&&(Re[xe]=Re[de],je.lastIndexOf(xe)<Ue&&je.push(xe));for(de=1;de<ke;++de)Re[de]===de&&(xe!==-1&&Re[xe]!==xe?Re[de]=Re[xe]:pe!==-1&&Re[pe]!==pe&&(Re[de]=Re[pe]));for(de=1;de<ke;++de)if(le[de].type!==0){if(Ue=de,Ue!=Re[Ue])do Ue=Re[Ue],me[de]=me[Ue]+"/"+me[de];while(Ue!==0&&Re[Ue]!==-1&&Ue!=Re[Ue]);Re[de]=-1}for(me[0]+="/",de=1;de<ke;++de)le[de].type!==2&&(me[de]+="/")}function b(le,me,ue){for(var de=le.start,pe=le.size,xe=[],Ce=de;ue&&pe>0&&Ce>=0;)xe.push(me.slice(Ce*F,Ce*F+F)),pe-=F,Ce=Jl(ue,Ce*4);return xe.length===0?sn(0):Yo(xe).slice(0,le.size)}function w(le,me,ue,de,pe){var xe=X;if(le===X){if(me!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Ce=ue[le],Ue=(de>>>2)-1;if(!Ce)return;for(var ke=0;ke<Ue&&(xe=Jl(Ce,ke*4))!==X;++ke)pe.push(xe);w(Jl(Ce,de-4),me-1,ue,de,pe)}}function E(le,me,ue,de,pe){var xe=[],Ce=[];pe||(pe=[]);var Ue=de-1,ke=0,Re=0;for(ke=me;ke>=0;){pe[ke]=!0,xe[xe.length]=ke,Ce.push(le[ke]);var je=ue[Math.floor(ke*4/de)];if(Re=ke*4&Ue,de<4+Re)throw new Error("FAT boundary crossed: "+ke+" 4 "+de);if(!le[je])break;ke=Jl(le[je],Re)}return{nodes:xe,data:F4([Ce])}}function T(le,me,ue,de){var pe=le.length,xe=[],Ce=[],Ue=[],ke=[],Re=de-1,je=0,Ge=0,Ye=0,Qe=0;for(je=0;je<pe;++je)if(Ue=[],Ye=je+me,Ye>=pe&&(Ye-=pe),!Ce[Ye]){ke=[];var Ke=[];for(Ge=Ye;Ge>=0;){Ke[Ge]=!0,Ce[Ge]=!0,Ue[Ue.length]=Ge,ke.push(le[Ge]);var Je=ue[Math.floor(Ge*4/de)];if(Qe=Ge*4&Re,de<4+Qe)throw new Error("FAT boundary crossed: "+Ge+" 4 "+de);if(!le[Je]||(Ge=Jl(le[Je],Qe),Ke[Ge]))break}xe[Ye]={nodes:Ue,data:F4([ke])}}return xe}function _(le,me,ue,de,pe,xe,Ce,Ue){for(var ke=0,Re=de.length?2:0,je=me[le].data,Ge=0,Ye=0,Qe;Ge<je.length;Ge+=128){var Ke=je.slice(Ge,Ge+128);Cn(Ke,64),Ye=Ke.read_shift(2),Qe=m_(Ke,0,Ye-Re),de.push(Qe);var Je={name:Qe,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},at=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);at!==0&&(Je.ct=S(Ke,Ke.l-8));var or=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);or!==0&&(Je.mt=S(Ke,Ke.l-8)),Je.start=Ke.read_shift(4,"i"),Je.size=Ke.read_shift(4,"i"),Je.size<0&&Je.start<0&&(Je.size=Je.type=0,Je.start=X,Je.name=""),Je.type===5?(ke=Je.start,pe>0&&ke!==X&&(me[ke].name="!StreamData")):Je.size>=4096?(Je.storage="fat",me[Je.start]===void 0&&(me[Je.start]=E(ue,Je.start,me.fat_addrs,me.ssz)),me[Je.start].name=Je.name,Je.content=me[Je.start].data.slice(0,Je.size)):(Je.storage="minifat",Je.size<0?Je.size=0:ke!==X&&Je.start!==X&&me[ke]&&(Je.content=b(Je,me[ke].data,(me[Ue]||{}).data))),Je.content&&Cn(Je.content,0),xe[Qe]=Je,Ce.push(Je)}}function S(le,me){return new Date((Bs(le,me+4)/1e7*Math.pow(2,32)+Bs(le,me)/1e7-11644473600)*1e3)}function C(le,me){return f(),h(c.readFileSync(le),me)}function I(le,me){var ue=me&&me.type;switch(ue||Pt&&Buffer.isBuffer(le)&&(ue="buffer"),ue||"base64"){case"file":return C(le,me);case"base64":return h(Fa(Ws(le)),me);case"binary":return h(Fa(le),me)}return h(le,me)}function j(le,me){var ue=me||{},de=ue.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=de+"/",le.FileIndex[0]={name:de,type:5}),ue.CLSID&&(le.FileIndex[0].clsid=ue.CLSID),q(le)}function q(le){var me="Sh33tJ5";if(!Lt.find(le,"/"+me)){var ue=sn(4);ue[0]=55,ue[1]=ue[3]=50,ue[2]=54,le.FileIndex.push({name:me,type:2,content:ue,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+me),D(le)}}function D(le,me){j(le);for(var ue=!1,de=!1,pe=le.FullPaths.length-1;pe>=0;--pe){var xe=le.FileIndex[pe];switch(xe.type){case 0:de?ue=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:de=!0,isNaN(xe.R*xe.L*xe.C)&&(ue=!0),xe.R>-1&&xe.L>-1&&xe.R==xe.L&&(ue=!0);break;default:ue=!0;break}}if(!(!ue&&!me)){var Ce=new Date(1987,1,19),Ue=0,ke=Object.create?Object.create(null):{},Re=[];for(pe=0;pe<le.FullPaths.length;++pe)ke[le.FullPaths[pe]]=!0,le.FileIndex[pe].type!==0&&Re.push([le.FullPaths[pe],le.FileIndex[pe]]);for(pe=0;pe<Re.length;++pe){var je=n(Re[pe][0]);de=ke[je],de||(Re.push([je,{name:s(je).replace("/",""),type:1,clsid:J,ct:Ce,mt:Ce,content:null}]),ke[je]=!0)}for(Re.sort(function(Qe,Ke){return r(Qe[0],Ke[0])}),le.FullPaths=[],le.FileIndex=[],pe=0;pe<Re.length;++pe)le.FullPaths[pe]=Re[pe][0],le.FileIndex[pe]=Re[pe][1];for(pe=0;pe<Re.length;++pe){var Ge=le.FileIndex[pe],Ye=le.FullPaths[pe];if(Ge.name=s(Ye).replace("/",""),Ge.L=Ge.R=Ge.C=-(Ge.color=1),Ge.size=Ge.content?Ge.content.length:0,Ge.start=0,Ge.clsid=Ge.clsid||J,pe===0)Ge.C=Re.length>1?1:-1,Ge.size=0,Ge.type=5;else if(Ye.slice(-1)=="/"){for(Ue=pe+1;Ue<Re.length&&n(le.FullPaths[Ue])!=Ye;++Ue);for(Ge.C=Ue>=Re.length?-1:Ue,Ue=pe+1;Ue<Re.length&&n(le.FullPaths[Ue])!=n(Ye);++Ue);Ge.R=Ue>=Re.length?-1:Ue,Ge.type=1}else n(le.FullPaths[pe+1]||"")==n(Ye)&&(Ge.R=pe+1),Ge.type=2}}}function Q(le,me){var ue=me||{};if(ue.fileType=="mad")return Mn(le,ue);switch(D(le),ue.fileType){case"zip":return Zn(le,ue)}var de=(function(Qe){for(var Ke=0,Je=0,at=0;at<Qe.FileIndex.length;++at){var or=Qe.FileIndex[at];if(or.content){var lr=or.content.length;lr>0&&(lr<4096?Ke+=lr+63>>6:Je+=lr+511>>9)}}for(var gr=Qe.FullPaths.length+3>>2,Js=Ke+7>>3,Rl=Ke+127>>7,yo=Js+Je+gr+Rl,Ja=yo+127>>7,Of=Ja<=109?0:Math.ceil((Ja-109)/127);yo+Ja+Of+127>>7>Ja;)Of=++Ja<=109?0:Math.ceil((Ja-109)/127);var ds=[1,Of,Ja,Rl,gr,Je,Ke,0];return Qe.FileIndex[0].size=Ke<<6,ds[7]=(Qe.FileIndex[0].start=ds[0]+ds[1]+ds[2]+ds[3]+ds[4]+ds[5])+(ds[6]+7>>3),ds})(le),pe=sn(de[7]<<9),xe=0,Ce=0;{for(xe=0;xe<8;++xe)pe.write_shift(1,se[xe]);for(xe=0;xe<8;++xe)pe.write_shift(2,0);for(pe.write_shift(2,62),pe.write_shift(2,3),pe.write_shift(2,65534),pe.write_shift(2,9),pe.write_shift(2,6),xe=0;xe<3;++xe)pe.write_shift(2,0);for(pe.write_shift(4,0),pe.write_shift(4,de[2]),pe.write_shift(4,de[0]+de[1]+de[2]+de[3]-1),pe.write_shift(4,0),pe.write_shift(4,4096),pe.write_shift(4,de[3]?de[0]+de[1]+de[2]-1:X),pe.write_shift(4,de[3]),pe.write_shift(-4,de[1]?de[0]-1:X),pe.write_shift(4,de[1]),xe=0;xe<109;++xe)pe.write_shift(-4,xe<de[2]?de[1]+xe:-1)}if(de[1])for(Ce=0;Ce<de[1];++Ce){for(;xe<236+Ce*127;++xe)pe.write_shift(-4,xe<de[2]?de[1]+xe:-1);pe.write_shift(-4,Ce===de[1]-1?X:Ce+1)}var Ue=function(Qe){for(Ce+=Qe;xe<Ce-1;++xe)pe.write_shift(-4,xe+1);Qe&&(++xe,pe.write_shift(-4,X))};for(Ce=xe=0,Ce+=de[1];xe<Ce;++xe)pe.write_shift(-4,Z.DIFSECT);for(Ce+=de[2];xe<Ce;++xe)pe.write_shift(-4,Z.FATSECT);Ue(de[3]),Ue(de[4]);for(var ke=0,Re=0,je=le.FileIndex[0];ke<le.FileIndex.length;++ke)je=le.FileIndex[ke],je.content&&(Re=je.content.length,!(Re<4096)&&(je.start=Ce,Ue(Re+511>>9)));for(Ue(de[6]+7>>3);pe.l&511;)pe.write_shift(-4,Z.ENDOFCHAIN);for(Ce=xe=0,ke=0;ke<le.FileIndex.length;++ke)je=le.FileIndex[ke],je.content&&(Re=je.content.length,!(!Re||Re>=4096)&&(je.start=Ce,Ue(Re+63>>6)));for(;pe.l&511;)pe.write_shift(-4,Z.ENDOFCHAIN);for(xe=0;xe<de[4]<<2;++xe){var Ge=le.FullPaths[xe];if(!Ge||Ge.length===0){for(ke=0;ke<17;++ke)pe.write_shift(4,0);for(ke=0;ke<3;++ke)pe.write_shift(4,-1);for(ke=0;ke<12;++ke)pe.write_shift(4,0);continue}je=le.FileIndex[xe],xe===0&&(je.start=je.size?je.start-1:X);var Ye=xe===0&&ue.root||je.name;if(Re=2*(Ye.length+1),pe.write_shift(64,Ye,"utf16le"),pe.write_shift(2,Re),pe.write_shift(1,je.type),pe.write_shift(1,je.color),pe.write_shift(-4,je.L),pe.write_shift(-4,je.R),pe.write_shift(-4,je.C),je.clsid)pe.write_shift(16,je.clsid,"hex");else for(ke=0;ke<4;++ke)pe.write_shift(4,0);pe.write_shift(4,je.state||0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,je.start),pe.write_shift(4,je.size),pe.write_shift(4,0)}for(xe=1;xe<le.FileIndex.length;++xe)if(je=le.FileIndex[xe],je.size>=4096)if(pe.l=je.start+1<<9,Pt&&Buffer.isBuffer(je.content))je.content.copy(pe,pe.l,0,je.size),pe.l+=je.size+511&-512;else{for(ke=0;ke<je.size;++ke)pe.write_shift(1,je.content[ke]);for(;ke&511;++ke)pe.write_shift(1,0)}for(xe=1;xe<le.FileIndex.length;++xe)if(je=le.FileIndex[xe],je.size>0&&je.size<4096)if(Pt&&Buffer.isBuffer(je.content))je.content.copy(pe,pe.l,0,je.size),pe.l+=je.size+63&-64;else{for(ke=0;ke<je.size;++ke)pe.write_shift(1,je.content[ke]);for(;ke&63;++ke)pe.write_shift(1,0)}if(Pt)pe.l=pe.length;else for(;pe.l<pe.length;)pe.write_shift(1,0);return pe}function ae(le,me){var ue=le.FullPaths.map(function(ke){return ke.toUpperCase()}),de=ue.map(function(ke){var Re=ke.split("/");return Re[Re.length-(ke.slice(-1)=="/"?2:1)]}),pe=!1;me.charCodeAt(0)===47?(pe=!0,me=ue[0].slice(0,-1)+me):pe=me.indexOf("/")!==-1;var xe=me.toUpperCase(),Ce=pe===!0?ue.indexOf(xe):de.indexOf(xe);if(Ce!==-1)return le.FileIndex[Ce];var Ue=!xe.match(Hd);for(xe=xe.replace(is,""),Ue&&(xe=xe.replace(Hd,"!")),Ce=0;Ce<ue.length;++Ce)if((Ue?ue[Ce].replace(Hd,"!"):ue[Ce]).replace(is,"")==xe||(Ue?de[Ce].replace(Hd,"!"):de[Ce]).replace(is,"")==xe)return le.FileIndex[Ce];return null}var F=64,X=-2,M="d0cf11e0a1b11ae1",se=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:X,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ge(le,me,ue){f();var de=Q(le,ue);c.writeFileSync(me,de)}function ie(le){for(var me=new Array(le.length),ue=0;ue<le.length;++ue)me[ue]=String.fromCharCode(le[ue]);return me.join("")}function Ee(le,me){var ue=Q(le,me);switch(me&&me.type||"buffer"){case"file":return f(),c.writeFileSync(me.filename,ue),ue;case"binary":return typeof ue=="string"?ue:ie(ue);case"base64":return y4(typeof ue=="string"?ue:ie(ue));case"buffer":if(Pt)return Buffer.isBuffer(ue)?ue:Dc(ue);case"array":return typeof ue=="string"?Fa(ue):ue}return ue}var G;function O(le){try{var me=le.InflateRaw,ue=new me;if(ue._processChunk(new Uint8Array([3,0]),ue._finishFlushFlag),ue.bytesRead)G=le;else throw new Error("zlib does not expose bytesRead")}catch(de){console.error("cannot use native zlib: "+(de.message||de))}}function W(le,me){if(!G)return Xa(le,me);var ue=G.InflateRaw,de=new ue,pe=de._processChunk(le.slice(le.l),de._finishFlushFlag);return le.l+=de.bytesRead,pe}function K(le){return G?G.deflateRawSync(le):lt(le)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],P=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function L(le){var me=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(me>>16|me>>8|me)&255}for(var oe=typeof Uint8Array<"u",ee=oe?new Uint8Array(256):[],ne=0;ne<256;++ne)ee[ne]=L(ne);function z(le,me){var ue=ee[le&255];return me<=8?ue>>>8-me:(ue=ue<<8|ee[le>>8&255],me<=16?ue>>>16-me:(ue=ue<<8|ee[le>>16&255],ue>>>24-me))}function be(le,me){var ue=me&7,de=me>>>3;return(le[de]|(ue<=6?0:le[de+1]<<8))>>>ue&3}function U(le,me){var ue=me&7,de=me>>>3;return(le[de]|(ue<=5?0:le[de+1]<<8))>>>ue&7}function we(le,me){var ue=me&7,de=me>>>3;return(le[de]|(ue<=4?0:le[de+1]<<8))>>>ue&15}function B(le,me){var ue=me&7,de=me>>>3;return(le[de]|(ue<=3?0:le[de+1]<<8))>>>ue&31}function A(le,me){var ue=me&7,de=me>>>3;return(le[de]|(ue<=1?0:le[de+1]<<8))>>>ue&127}function R(le,me,ue){var de=me&7,pe=me>>>3,xe=(1<<ue)-1,Ce=le[pe]>>>de;return ue<8-de||(Ce|=le[pe+1]<<8-de,ue<16-de)||(Ce|=le[pe+2]<<16-de,ue<24-de)||(Ce|=le[pe+3]<<24-de),Ce&xe}function H(le,me,ue){var de=me&7,pe=me>>>3;return de<=5?le[pe]|=(ue&7)<<de:(le[pe]|=ue<<de&255,le[pe+1]=(ue&7)>>8-de),me+3}function fe(le,me,ue){var de=me&7,pe=me>>>3;return ue=(ue&1)<<de,le[pe]|=ue,me+1}function ye(le,me,ue){var de=me&7,pe=me>>>3;return ue<<=de,le[pe]|=ue&255,ue>>>=8,le[pe+1]=ue,me+8}function he(le,me,ue){var de=me&7,pe=me>>>3;return ue<<=de,le[pe]|=ue&255,ue>>>=8,le[pe+1]=ue&255,le[pe+2]=ue>>>8,me+16}function Ae(le,me){var ue=le.length,de=2*ue>me?2*ue:me+5,pe=0;if(ue>=me)return le;if(Pt){var xe=v4(de);if(le.copy)le.copy(xe);else for(;pe<le.length;++pe)xe[pe]=le[pe];return xe}else if(oe){var Ce=new Uint8Array(de);if(Ce.set)Ce.set(le);else for(;pe<ue;++pe)Ce[pe]=le[pe];return Ce}return le.length=de,le}function De(le){for(var me=new Array(le),ue=0;ue<le;++ue)me[ue]=0;return me}function Pe(le,me,ue){var de=1,pe=0,xe=0,Ce=0,Ue=0,ke=le.length,Re=oe?new Uint16Array(32):De(32);for(xe=0;xe<32;++xe)Re[xe]=0;for(xe=ke;xe<ue;++xe)le[xe]=0;ke=le.length;var je=oe?new Uint16Array(ke):De(ke);for(xe=0;xe<ke;++xe)Re[pe=le[xe]]++,de<pe&&(de=pe),je[xe]=0;for(Re[0]=0,xe=1;xe<=de;++xe)Re[xe+16]=Ue=Ue+Re[xe-1]<<1;for(xe=0;xe<ke;++xe)Ue=le[xe],Ue!=0&&(je[xe]=Re[Ue+16]++);var Ge=0;for(xe=0;xe<ke;++xe)if(Ge=le[xe],Ge!=0)for(Ue=z(je[xe],de)>>de-Ge,Ce=(1<<de+4-Ge)-1;Ce>=0;--Ce)me[Ue|Ce<<Ge]=Ge&15|xe<<4;return de}var We=oe?new Uint16Array(512):De(512),et=oe?new Uint16Array(32):De(32);if(!oe){for(var tt=0;tt<512;++tt)We[tt]=0;for(tt=0;tt<32;++tt)et[tt]=0}(function(){for(var le=[],me=0;me<32;me++)le.push(5);Pe(le,et,32);var ue=[];for(me=0;me<=143;me++)ue.push(8);for(;me<=255;me++)ue.push(9);for(;me<=279;me++)ue.push(7);for(;me<=287;me++)ue.push(8);Pe(ue,We,288)})();var zt=(function(){for(var me=oe?new Uint8Array(32768):[],ue=0,de=0;ue<P.length-1;++ue)for(;de<P[ue+1];++de)me[de]=ue;for(;de<32768;++de)me[de]=29;var pe=oe?new Uint8Array(259):[];for(ue=0,de=0;ue<Y.length-1;++ue)for(;de<Y[ue+1];++de)pe[de]=ue;function xe(Ue,ke){for(var Re=0;Re<Ue.length;){var je=Math.min(65535,Ue.length-Re),Ge=Re+je==Ue.length;for(ke.write_shift(1,+Ge),ke.write_shift(2,je),ke.write_shift(2,~je&65535);je-- >0;)ke[ke.l++]=Ue[Re++]}return ke.l}function Ce(Ue,ke){for(var Re=0,je=0,Ge=oe?new Uint16Array(32768):[];je<Ue.length;){var Ye=Math.min(65535,Ue.length-je);if(Ye<10){for(Re=H(ke,Re,+(je+Ye==Ue.length)),Re&7&&(Re+=8-(Re&7)),ke.l=Re/8|0,ke.write_shift(2,Ye),ke.write_shift(2,~Ye&65535);Ye-- >0;)ke[ke.l++]=Ue[je++];Re=ke.l*8;continue}Re=H(ke,Re,+(je+Ye==Ue.length)+2);for(var Qe=0;Ye-- >0;){var Ke=Ue[je];Qe=(Qe<<5^Ke)&32767;var Je=-1,at=0;if((Je=Ge[Qe])&&(Je|=je&-32768,Je>je&&(Je-=32768),Je<je))for(;Ue[Je+at]==Ue[je+at]&&at<250;)++at;if(at>2){Ke=pe[at],Ke<=22?Re=ye(ke,Re,ee[Ke+1]>>1)-1:(ye(ke,Re,3),Re+=5,ye(ke,Re,ee[Ke-23]>>5),Re+=3);var or=Ke<8?0:Ke-4>>2;or>0&&(he(ke,Re,at-Y[Ke]),Re+=or),Ke=me[je-Je],Re=ye(ke,Re,ee[Ke]>>3),Re-=3;var lr=Ke<4?0:Ke-2>>1;lr>0&&(he(ke,Re,je-Je-P[Ke]),Re+=lr);for(var gr=0;gr<at;++gr)Ge[Qe]=je&32767,Qe=(Qe<<5^Ue[je])&32767,++je;Ye-=at-1}else Ke<=143?Ke=Ke+48:Re=fe(ke,Re,1),Re=ye(ke,Re,ee[Ke]),Ge[Qe]=je&32767,++je}Re=ye(ke,Re,0)-1}return ke.l=(Re+7)/8|0,ke.l}return function(ke,Re){return ke.length<8?xe(ke,Re):Ce(ke,Re)}})();function lt(le){var me=sn(50+Math.floor(le.length*1.1)),ue=zt(le,me);return me.slice(0,ue)}var Ot=oe?new Uint16Array(32768):De(32768),nr=oe?new Uint16Array(32768):De(32768),ht=oe?new Uint16Array(128):De(128),Jt=1,cn=1;function Zt(le,me){var ue=B(le,me)+257;me+=5;var de=B(le,me)+1;me+=5;var pe=we(le,me)+4;me+=4;for(var xe=0,Ce=oe?new Uint8Array(19):De(19),Ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke=1,Re=oe?new Uint8Array(8):De(8),je=oe?new Uint8Array(8):De(8),Ge=Ce.length,Ye=0;Ye<pe;++Ye)Ce[re[Ye]]=xe=U(le,me),ke<xe&&(ke=xe),Re[xe]++,me+=3;var Qe=0;for(Re[0]=0,Ye=1;Ye<=ke;++Ye)je[Ye]=Qe=Qe+Re[Ye-1]<<1;for(Ye=0;Ye<Ge;++Ye)(Qe=Ce[Ye])!=0&&(Ue[Ye]=je[Qe]++);var Ke=0;for(Ye=0;Ye<Ge;++Ye)if(Ke=Ce[Ye],Ke!=0){Qe=ee[Ue[Ye]]>>8-Ke;for(var Je=(1<<7-Ke)-1;Je>=0;--Je)ht[Qe|Je<<Ke]=Ke&7|Ye<<3}var at=[];for(ke=1;at.length<ue+de;)switch(Qe=ht[A(le,me)],me+=Qe&7,Qe>>>=3){case 16:for(xe=3+be(le,me),me+=2,Qe=at[at.length-1];xe-- >0;)at.push(Qe);break;case 17:for(xe=3+U(le,me),me+=3;xe-- >0;)at.push(0);break;case 18:for(xe=11+A(le,me),me+=7;xe-- >0;)at.push(0);break;default:at.push(Qe),ke<Qe&&(ke=Qe);break}var or=at.slice(0,ue),lr=at.slice(ue);for(Ye=ue;Ye<286;++Ye)or[Ye]=0;for(Ye=de;Ye<30;++Ye)lr[Ye]=0;return Jt=Pe(or,Ot,286),cn=Pe(lr,nr,30),me}function go(le,me){if(le[0]==3&&!(le[1]&3))return[bl(me),2];for(var ue=0,de=0,pe=v4(me||1<<18),xe=0,Ce=pe.length>>>0,Ue=0,ke=0;(de&1)==0;){if(de=U(le,ue),ue+=3,de>>>1)de>>1==1?(Ue=9,ke=5):(ue=Zt(le,ue),Ue=Jt,ke=cn);else{ue&7&&(ue+=8-(ue&7));var Re=le[ue>>>3]|le[(ue>>>3)+1]<<8;if(ue+=32,Re>0)for(!me&&Ce<xe+Re&&(pe=Ae(pe,xe+Re),Ce=pe.length);Re-- >0;)pe[xe++]=le[ue>>>3],ue+=8;continue}for(;;){!me&&Ce<xe+32767&&(pe=Ae(pe,xe+32767),Ce=pe.length);var je=R(le,ue,Ue),Ge=de>>>1==1?We[je]:Ot[je];if(ue+=Ge&15,Ge>>>=4,(Ge>>>8&255)===0)pe[xe++]=Ge;else{if(Ge==256)break;Ge-=257;var Ye=Ge<8?0:Ge-4>>2;Ye>5&&(Ye=0);var Qe=xe+Y[Ge];Ye>0&&(Qe+=R(le,ue,Ye),ue+=Ye),je=R(le,ue,ke),Ge=de>>>1==1?et[je]:nr[je],ue+=Ge&15,Ge>>>=4;var Ke=Ge<4?0:Ge-2>>1,Je=P[Ge];for(Ke>0&&(Je+=R(le,ue,Ke),ue+=Ke),!me&&Ce<Qe&&(pe=Ae(pe,Qe+100),Ce=pe.length);xe<Qe;)pe[xe]=pe[xe-Je],++xe}}}return me?[pe,ue+7>>>3]:[pe.slice(0,xe),ue+7>>>3]}function Xa(le,me){var ue=le.slice(le.l||0),de=go(ue,me);return le.l+=de[1],de[0]}function Jn(le,me){if(le)typeof console<"u"&&console.error(me);else throw new Error(me)}function Ca(le,me){var ue=le;Cn(ue,0);var de=[],pe=[],xe={FileIndex:de,FullPaths:pe};j(xe,{root:me.root});for(var Ce=ue.length-4;(ue[Ce]!=80||ue[Ce+1]!=75||ue[Ce+2]!=5||ue[Ce+3]!=6)&&Ce>=0;)--Ce;ue.l=Ce+4,ue.l+=4;var Ue=ue.read_shift(2);ue.l+=6;var ke=ue.read_shift(4);for(ue.l=ke,Ce=0;Ce<Ue;++Ce){ue.l+=20;var Re=ue.read_shift(4),je=ue.read_shift(4),Ge=ue.read_shift(2),Ye=ue.read_shift(2),Qe=ue.read_shift(2);ue.l+=8;var Ke=ue.read_shift(4),Je=o(ue.slice(ue.l+Ge,ue.l+Ge+Ye));ue.l+=Ge+Ye+Qe;var at=ue.l;ue.l=Ke+4,ka(ue,Re,je,xe,Je),ue.l=at}return xe}function ka(le,me,ue,de,pe){le.l+=2;var xe=le.read_shift(2),Ce=le.read_shift(2),Ue=i(le);if(xe&8257)throw new Error("Unsupported ZIP encryption");for(var ke=le.read_shift(4),Re=le.read_shift(4),je=le.read_shift(4),Ge=le.read_shift(2),Ye=le.read_shift(2),Qe="",Ke=0;Ke<Ge;++Ke)Qe+=String.fromCharCode(le[le.l++]);if(Ye){var Je=o(le.slice(le.l,le.l+Ye));(Je[21589]||{}).mt&&(Ue=Je[21589].mt),((pe||{})[21589]||{}).mt&&(Ue=pe[21589].mt)}le.l+=Ye;var at=le.slice(le.l,le.l+Re);switch(Ce){case 8:at=W(le,je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var or=!1;xe&8&&(ke=le.read_shift(4),ke==134695760&&(ke=le.read_shift(4),or=!0),Re=le.read_shift(4),je=le.read_shift(4)),Re!=me&&Jn(or,"Bad compressed size: "+me+" != "+Re),je!=ue&&Jn(or,"Bad uncompressed size: "+ue+" != "+je),fn(de,Qe,at,{unsafe:!0,mt:Ue})}function Zn(le,me){var ue=me||{},de=[],pe=[],xe=sn(1),Ce=ue.compression?8:0,Ue=0,ke=0,Re=0,je=0,Ge=0,Ye=le.FullPaths[0],Qe=Ye,Ke=le.FileIndex[0],Je=[],at=0;for(ke=1;ke<le.FullPaths.length;++ke)if(Qe=le.FullPaths[ke].slice(Ye.length),Ke=le.FileIndex[ke],!(!Ke.size||!Ke.content||Qe=="Sh33tJ5")){var or=je,lr=sn(Qe.length);for(Re=0;Re<Qe.length;++Re)lr.write_shift(1,Qe.charCodeAt(Re)&127);lr=lr.slice(0,lr.l),Je[Ge]=GX.buf(Ke.content,0);var gr=Ke.content;Ce==8&&(gr=K(gr)),xe=sn(30),xe.write_shift(4,67324752),xe.write_shift(2,20),xe.write_shift(2,Ue),xe.write_shift(2,Ce),Ke.mt?a(xe,Ke.mt):xe.write_shift(4,0),xe.write_shift(-4,Je[Ge]),xe.write_shift(4,gr.length),xe.write_shift(4,Ke.content.length),xe.write_shift(2,lr.length),xe.write_shift(2,0),je+=xe.length,de.push(xe),je+=lr.length,de.push(lr),je+=gr.length,de.push(gr),xe=sn(46),xe.write_shift(4,33639248),xe.write_shift(2,0),xe.write_shift(2,20),xe.write_shift(2,Ue),xe.write_shift(2,Ce),xe.write_shift(4,0),xe.write_shift(-4,Je[Ge]),xe.write_shift(4,gr.length),xe.write_shift(4,Ke.content.length),xe.write_shift(2,lr.length),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(4,0),xe.write_shift(4,or),at+=xe.l,pe.push(xe),at+=lr.length,pe.push(lr),++Ge}return xe=sn(22),xe.write_shift(4,101010256),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,Ge),xe.write_shift(2,Ge),xe.write_shift(4,at),xe.write_shift(4,je),xe.write_shift(2,0),Yo([Yo(de),Yo(pe),xe])}var zr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pt(le,me){if(le.ctype)return le.ctype;var ue=le.name||"",de=ue.match(/\.([^\.]+)$/);return de&&zr[de[1]]||me&&(de=(ue=me).match(/[\.\\]([^\.\\])+$/),de&&zr[de[1]])?zr[de[1]]:"application/octet-stream"}function ir(le){for(var me=y4(le),ue=[],de=0;de<me.length;de+=76)ue.push(me.slice(de,de+76));return ue.join(`\r
`)+`\r
`}function Hr(le){var me=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Re){var je=Re.charCodeAt(0).toString(16).toUpperCase();return"="+(je.length==1?"0"+je:je)});me=me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),me.charAt(0)==`
`&&(me="=0D"+me.slice(1)),me=me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ue=[],de=me.split(`\r
`),pe=0;pe<de.length;++pe){var xe=de[pe];if(xe.length==0){ue.push("");continue}for(var Ce=0;Ce<xe.length;){var Ue=76,ke=xe.slice(Ce,Ce+Ue);ke.charAt(Ue-1)=="="?Ue--:ke.charAt(Ue-2)=="="?Ue-=2:ke.charAt(Ue-3)=="="&&(Ue-=3),ke=xe.slice(Ce,Ce+Ue),Ce+=Ue,Ce<xe.length&&(ke+="="),ue.push(ke)}}return ue.join(`\r
`)}function un(le){for(var me=[],ue=0;ue<le.length;++ue){for(var de=le[ue];ue<=le.length&&de.charAt(de.length-1)=="=";)de=de.slice(0,de.length-1)+le[++ue];me.push(de)}for(var pe=0;pe<me.length;++pe)me[pe]=me[pe].replace(/[=][0-9A-Fa-f]{2}/g,function(xe){return String.fromCharCode(parseInt(xe.slice(1),16))});return Fa(me.join(`\r
`))}function Ya(le,me,ue){for(var de="",pe="",xe="",Ce,Ue=0;Ue<10;++Ue){var ke=me[Ue];if(!ke||ke.match(/^\s*$/))break;var Re=ke.match(/^(.*?):\s*([^\s].*)$/);if(Re)switch(Re[1].toLowerCase()){case"content-location":de=Re[2].trim();break;case"content-type":xe=Re[2].trim();break;case"content-transfer-encoding":pe=Re[2].trim();break}}switch(++Ue,pe.toLowerCase()){case"base64":Ce=Fa(Ws(me.slice(Ue).join("")));break;case"quoted-printable":Ce=un(me.slice(Ue));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pe)}var je=fn(le,de.slice(ue.length),Ce,{unsafe:!0});xe&&(je.ctype=xe)}function dr(le,me){if(ie(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ue=me&&me.root||"",de=(Pt&&Buffer.isBuffer(le)?le.toString("binary"):ie(le)).split(`\r
`),pe=0,xe="";for(pe=0;pe<de.length;++pe)if(xe=de[pe],!!/^Content-Location:/i.test(xe)&&(xe=xe.slice(xe.indexOf("file")),ue||(ue=xe.slice(0,xe.lastIndexOf("/")+1)),xe.slice(0,ue.length)!=ue))for(;ue.length>0&&(ue=ue.slice(0,ue.length-1),ue=ue.slice(0,ue.lastIndexOf("/")+1),xe.slice(0,ue.length)!=ue););var Ce=(de[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var Ue="--"+(Ce[1]||""),ke=[],Re=[],je={FileIndex:ke,FullPaths:Re};j(je);var Ge,Ye=0;for(pe=0;pe<de.length;++pe){var Qe=de[pe];Qe!==Ue&&Qe!==Ue+"--"||(Ye++&&Ya(je,de.slice(Ge,pe),ue),Ge=pe)}return je}function Mn(le,me){var ue=me||{},de=ue.boundary||"SheetJS";de="------="+de;for(var pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+de.slice(2)+'"',"","",""],xe=le.FullPaths[0],Ce=xe,Ue=le.FileIndex[0],ke=1;ke<le.FullPaths.length;++ke)if(Ce=le.FullPaths[ke].slice(xe.length),Ue=le.FileIndex[ke],!(!Ue.size||!Ue.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(at){return"_x"+at.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(at){return"_u"+at.charCodeAt(0).toString(16)+"_"});for(var Re=Ue.content,je=Pt&&Buffer.isBuffer(Re)?Re.toString("binary"):ie(Re),Ge=0,Ye=Math.min(1024,je.length),Qe=0,Ke=0;Ke<=Ye;++Ke)(Qe=je.charCodeAt(Ke))>=32&&Qe<128&&++Ge;var Je=Ge>=Ye*4/5;pe.push(de),pe.push("Content-Location: "+(ue.root||"file:///C:/SheetJS/")+Ce),pe.push("Content-Transfer-Encoding: "+(Je?"quoted-printable":"base64")),pe.push("Content-Type: "+pt(Ue,Ce)),pe.push(""),pe.push(Je?Hr(je):ir(je))}return pe.push(de+`--\r
`),pe.join(`\r
`)}function Ei(le){var me={};return j(me,le),me}function fn(le,me,ue,de){var pe=de&&de.unsafe;pe||j(le);var xe=!pe&&Lt.find(le,me);if(!xe){var Ce=le.FullPaths[0];me.slice(0,Ce.length)==Ce?Ce=me:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+me).replace("//","/")),xe={name:s(me),type:2},le.FileIndex.push(xe),le.FullPaths.push(Ce),pe||Lt.utils.cfb_gc(le)}return xe.content=ue,xe.size=ue?ue.length:0,de&&(de.CLSID&&(xe.clsid=de.CLSID),de.mt&&(xe.mt=de.mt),de.ct&&(xe.ct=de.ct)),xe}function Fn(le,me){j(le);var ue=Lt.find(le,me);if(ue){for(var de=0;de<le.FileIndex.length;++de)if(le.FileIndex[de]==ue)return le.FileIndex.splice(de,1),le.FullPaths.splice(de,1),!0}return!1}function xo(le,me,ue){j(le);var de=Lt.find(le,me);if(de){for(var pe=0;pe<le.FileIndex.length;++pe)if(le.FileIndex[pe]==de)return le.FileIndex[pe].name=s(ue),le.FullPaths[pe]=ue,!0}return!1}function ks(le){D(le,!0)}return t.find=ae,t.read=I,t.parse=h,t.write=Ee,t.writeFile=ge,t.utils={cfb_new:Ei,cfb_add:fn,cfb_del:Fn,cfb_mov:xo,cfb_gc:ks,ReadShift:Qd,CheckField:HD,prep_blob:Cn,bconcat:Yo,use_zlib:O,_deflateRaw:lt,_inflateRaw:Xa,consts:Z},t})();function KX(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function gi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function f_(e){for(var t=[],r=gi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var lg=new Date(1899,11,30,0,0,0);function ls(e,t){var r=e.getTime(),n=lg.getTime()+(e.getTimezoneOffset()-lg.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var wD=new Date,XX=lg.getTime()+(wD.getTimezoneOffset()-lg.getTimezoneOffset())*6e4,A4=wD.getTimezoneOffset();function Rx(e){var t=new Date;return t.setTime(e*24*60*60*1e3+XX),t.getTimezoneOffset()!==A4&&t.setTime(t.getTime()+(t.getTimezoneOffset()-A4)*6e4),t}function YX(e){var t=0,r=0,n=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=s.length;++a)if(s[a]){switch(r=1,a>3&&(n=!0),s[a].slice(s[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[a].slice(s[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(s[a],10)}return t}var C4=new Date("2017-02-19T19:06:09.000Z"),ED=isNaN(C4.getFullYear())?new Date("2/19/17"):C4,JX=ED.getFullYear()==2017;function vn(e,t){var r=new Date(e);if(JX)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(ED.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Tc(e,t){if(Pt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Vd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Vd(lD(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Vd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Vd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function Dn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Dn(e[r]));return t}function Cr(e,t){for(var r="";r.length<t;)r+=e;return r}function Ha(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var ZX=["january","february","march","april","may","june","july","august","september","october","november","december"];function Xu(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&ZX.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var QX=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,s){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),i=[a[0]],o=1;o<a.length;++o)i.push(s),i.push(a[o]);return i}})();function _D(e){return e?e.content&&e.type?Tc(e.content,!0):e.data?zd(e.data):e.asNodeBuffer&&Pt?zd(e.asNodeBuffer().toString("binary")):e.asBinary?zd(e.asBinary()):e._data&&e._data.getContent?zd(Tc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function SD(e){if(!e)return null;if(e.data)return g4(e.data);if(e.asNodeBuffer&&Pt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?g4(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function eY(e){return e&&e.name.slice(-4)===".bin"?SD(e):_D(e)}function ha(e,t){for(var r=e.FullPaths||gi(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var i=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||s==i)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function d_(e,t){var r=ha(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Yr(e,t,r){if(!r)return eY(d_(e,t));if(!t)return null;try{return Yr(e,t)}catch{return null}}function Us(e,t,r){if(!r)return _D(d_(e,t));if(!t)return null;try{return Us(e,t)}catch{return null}}function tY(e,t,r){return SD(d_(e,t))}function k4(e){for(var t=e.FullPaths||gi(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function rY(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Pt?n=Dc(r):n=wX(r),Lt.utils.cfb_add(e,t,n)}Lt.utils.cfb_add(e,t,r)}else e.file(t,r)}function TD(e,t){switch(t.type){case"base64":return Lt.read(e,{type:"base64"});case"binary":return Lt.read(e,{type:"binary"});case"buffer":case"array":return Lt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function qd(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var s=n.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var ND=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,nY=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,R4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,sY=/<[^>]*>/g,Xn=ND.match(R4)?R4:sY,aY=/<\w*:/,iY=/<(\/?)\w+:/;function mt(e,t,r){for(var n={},s=0,a=0;s!==e.length&&!((a=e.charCodeAt(s))===32||a===10||a===13);++s);if(t||(n[0]=e.slice(0,s)),s===e.length)return n;var i=e.match(nY),o=0,c="",f=0,h="",m="",x=1;if(i)for(f=0;f!=i.length;++f){for(m=i[f],a=0;a!=m.length&&m.charCodeAt(a)!==61;++a);for(h=m.slice(0,a).trim();m.charCodeAt(a+1)==32;)++a;for(x=(s=m.charCodeAt(a+1))==34||s==39?1:0,c=m.slice(a+1+x,m.length-x),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=c,n[h.toLowerCase()]=c;else{var g=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[g]&&h.slice(o-3,o)=="ext")continue;n[g]=c,n[g.toLowerCase()]=c}}return n}function vi(e){return e.replace(iY,"<$1")}var AD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},oY=f_(AD),Ut=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var s=n+"",a=s.indexOf("<![CDATA[");if(a==-1)return s.replace(e,function(o,c){return AD[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var i=s.indexOf("]]>");return r(s.slice(0,a))+s.slice(a+9,i)+r(s.slice(i+3))}})(),lY=/[&<>'"]/g,cY=/[\u0000-\u001f]/g;function h_(e){var t=e+"";return t.replace(lY,function(r){return oY[r]}).replace(/\n/g,"<br/>").replace(cY,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var O4=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function yr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ov(e){for(var t="",r=0,n=0,s=0,a=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=s&63,t+=String.fromCharCode(i);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(s&63)<<12|(a&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function j4(e){var t=bl(2*e.length),r,n,s=1,a=0,i=0,o;for(n=0;n<e.length;n+=s)s=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),s=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[a++]=i&255,t[a++]=i>>>8,i=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function D4(e){return Dc(e,"binary").toString("utf8")}var Yp="foo bar baz",fr=Pt&&(D4(Yp)==Ov(Yp)&&D4||j4(Yp)==Ov(Yp)&&j4)||Ov,Vd=Pt?function(e){return Dc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Ch=(function(){var e={};return function(r,n){var s=r+"|"+(n||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),CD=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}})(),uY=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),fY=/<\/?(?:vt:)?variant>/g,dY=/<(?:vt:)([^>]*)>([\s\S]*)</;function I4(e,t){var r=mt(e),n=e.match(uY(r.baseType))||[],s=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return s}return n.forEach(function(a){var i=a.replace(fY,"").match(dY);i&&s.push({v:fr(i[2]),t:i[1]})}),s}var hY=/(^\s|\s$|\n)/;function pY(e){return gi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function mY(e,t,r){return"<"+e+(r!=null?pY(r):"")+(t!=null?(t.match(hY)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function p_(e){if(Pt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return fr(Ic(l_(e)));throw new Error("Bad input format: expected Buffer or string")}var kh=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,gY={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},xY=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function yY(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,a=5;a>=0;--a)s=s*256+e[t+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function vY(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,a=0,i=n?-t:t;isFinite(i)?i==0?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(s&15)<<4|a&15,e[r+7]=s>>4|n}var M4=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,a=e[0][n].length;s<a;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},F4=Pt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Dc(t)})):M4(e)}:M4,P4=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(Ji(e,s)));return n.join("").replace(is,"")},m_=Pt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(is,""):P4(e,t,r)}:P4,L4=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},kD=Pt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):L4(e,t,r)}:L4,B4=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(Cu(e,s)));return n.join("")},d0=Pt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):B4(t,r,n)}:B4,RD=function(e,t){var r=Bs(e,t);return r>0?d0(e,t+4,t+4+r-1):""},OD=RD,jD=function(e,t){var r=Bs(e,t);return r>0?d0(e,t+4,t+4+r-1):""},DD=jD,ID=function(e,t){var r=2*Bs(e,t);return r>0?d0(e,t+4,t+4+r-1):""},MD=ID,FD=function(t,r){var n=Bs(t,r);return n>0?m_(t,r+4,r+4+n):""},PD=FD,LD=function(e,t){var r=Bs(e,t);return r>0?d0(e,t+4,t+4+r):""},BD=LD,UD=function(e,t){return yY(e,t)},cg=UD,zD=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Pt&&(OD=function(t,r){if(!Buffer.isBuffer(t))return RD(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},DD=function(t,r){if(!Buffer.isBuffer(t))return jD(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},MD=function(t,r){if(!Buffer.isBuffer(t))return ID(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},PD=function(t,r){if(!Buffer.isBuffer(t))return FD(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},BD=function(t,r){if(!Buffer.isBuffer(t))return LD(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},cg=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):UD(t,r)},zD=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Cu=function(e,t){return e[t]},Ji=function(e,t){return e[t+1]*256+e[t]},bY=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Bs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Jl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},wY=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Qd(e,t){var r="",n,s,a=[],i,o,c,f;switch(t){case"dbcs":if(f=this.l,Pt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Ji(this,f)),f+=2;e*=2;break;case"utf8":r=d0(this,this.l,this.l+e);break;case"utf16le":e*=2,r=m_(this,this.l,this.l+e);break;case"wstr":return Qd.call(this,e,"dbcs");case"lpstr-ansi":r=OD(this,this.l),e=4+Bs(this,this.l);break;case"lpstr-cp":r=DD(this,this.l),e=4+Bs(this,this.l);break;case"lpwstr":r=MD(this,this.l),e=4+2*Bs(this,this.l);break;case"lpp4":e=4+Bs(this,this.l),r=PD(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Bs(this,this.l),r=BD(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Cu(this,this.l+e++))!==0;)a.push(Xp(i));r=a.join("");break;case"_wstr":for(e=0,r="";(i=Ji(this,this.l+e))!==0;)a.push(Xp(i)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",f=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return i=Cu(this,f),this.l=f+1,o=Qd.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Xp(Ji(this,f))),f+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return i=Cu(this,f),this.l=f+1,o=Qd.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Xp(Cu(this,f))),f+=1}r=a.join("");break;default:switch(e){case 1:return n=Cu(this,this.l),this.l++,n;case 2:return n=(t==="i"?bY:Ji)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Jl:wY)(this,this.l),this.l+=4,n):(s=Bs(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=cg(this,this.l):s=cg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=kD(this,this.l,e);break}}return this.l+=e,r}var EY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},_Y=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},SY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function TY(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)SY(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var i=t.charCodeAt(s);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,EY(this,t,this.l);break;case 8:if(n=8,r==="f"){vY(this,t,this.l);break}case 16:break;case-4:n=4,_Y(this,t,this.l);break}return this.l+=n,this}function HD(e,t){var r=kD(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Cn(e,t){e.l=t,e.read_shift=Qd,e.chk=HD,e.write_shift=TY}function Gn(e,t){e.l+=t}function sn(e){var t=bl(e);return Cn(t,0),t}function ho(e,t,r){if(e){var n,s,a;Cn(e,e.l||0);for(var i=e.length,o=0,c=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var f=mg[o]||mg[65535];for(n=e.read_shift(1),a=n&127,s=1;s<4&&n&128;++s)a+=((n=e.read_shift(1))&127)<<7*s;c=e.l+a;var h=f.f&&f.f(e,a,r);if(e.l=c,t(h,f,o))return}}}function k2(){var e=[],t=Pt?256:2048,r=function(f){var h=sn(f);return Cn(h,0),h},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(f){return n&&f<n.length-n.l?n:(s(),n=r(Math.max(f+1,t)))},i=function(){return s(),Yo(e)},o=function(f){s(),n=f,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:i,_bufs:e}}function eh(e,t,r){var n=Dn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function U4(e,t,r){var n=Dn(e);return n.s=eh(n.s,t.s,r),n.e=eh(n.e,t.s,r),n}function th(e,t){if(e.cRel&&e.c<0)for(e=Dn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Dn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=vt(e);return!e.cRel&&e.cRel!=null&&(r=CY(r)),!e.rRel&&e.rRel!=null&&(r=NY(r)),r}function jv(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+an(e.s.c)+":"+(e.e.cRel?"":"$")+an(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+In(e.s.r)+":"+(e.e.rRel?"":"$")+In(e.e.r):th(e.s,t.biff)+":"+th(e.e,t.biff)}function g_(e){return parseInt(AY(e),10)-1}function In(e){return""+(e+1)}function NY(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function AY(e){return e.replace(/\$(\d+)$/,"$1")}function x_(e){for(var t=kY(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function an(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function CY(e){return e.replace(/^([A-Z])/,"$$$1")}function kY(e){return e.replace(/^\$([A-Z])/,"$1")}function RY(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ns(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function vt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Af(e){var t=e.indexOf(":");return t==-1?{s:ns(e),e:ns(e)}:{s:ns(e.slice(0,t)),e:ns(e.slice(t+1))}}function Bt(e,t){return typeof t>"u"||typeof t=="number"?Bt(e.s,e.e):(typeof e!="string"&&(e=vt(e)),typeof t!="string"&&(t=vt(t)),e==t?e:e+":"+t)}function Or(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=e.length;for(r=0;n<a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===a||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function z4(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=_a(e.z,r?ls(t):t)}catch{}try{return e.w=_a((e.XF||{}).numFmtId||(r?14:0),r?ls(t):t)}catch{return""+t}}function uo(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Pc[e.v]||e.v:t==null?z4(e,e.v):z4(e,t))}function Sl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function qD(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,a=e||(s?[]:{}),i=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ns(n.origin):n.origin;i=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=Or(a["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),i==-1&&(f.e.r=i=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[m].length;++x)if(!(typeof t[m][x]>"u")){var g={v:t[m][x]},y=i+m,b=o+x;if(f.s.r>y&&(f.s.r=y),f.s.c>b&&(f.s.c=b),f.e.r<y&&(f.e.r=y),f.e.c<b&&(f.e.c=b),t[m][x]&&typeof t[m][x]=="object"&&!Array.isArray(t[m][x])&&!(t[m][x]instanceof Date))g=t[m][x];else if(Array.isArray(g.v)&&(g.f=t[m][x][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||_t[14],n.cellDates?(g.t="d",g.w=_a(g.z,ls(g.v))):(g.t="n",g.v=ls(g.v),g.w=_a(g.z,g.v))):g.t="s";if(s)a[y]||(a[y]=[]),a[y][b]&&a[y][b].z&&(g.z=a[y][b].z),a[y][b]=g;else{var w=vt({c:b,r:y});a[w]&&a[w].z&&(g.z=a[w].z),a[w]=g}}}return f.s.c<1e7&&(a["!ref"]=Bt(f)),a}function Cf(e,t){return qD(null,e,t)}function OY(e){return e.read_shift(4,"i")}function $n(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function jY(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function y_(e,t){var r=e.l,n=e.read_shift(1),s=$n(e),a=[],i={t:s,h:s};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)a.push(jY(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var DY=y_;function Aa(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Mc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var IY=$n;function v_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var MY=$n,R2=v_;function b_(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?cg([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Jl(t,0)>>2;return r?s/100:s}function VD(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Fc=VD;function Hn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function FY(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var f=dc[s];f&&(t.rgb=Oh(f));break;case 2:t.rgb=Oh([i,o,c]);break;case 3:t.theme=s;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function PY(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function $D(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function LY(e){return $D(e,1)}function BY(e){return $D(e,2)}var w_=2,bs=3,Jp=11,H4=12,ug=19,Zp=64,UY=65,zY=71,HY=4108,qY=4126,gn=80,WD=81,VY=[gn,WD],$Y={1:{n:"CodePage",t:w_},2:{n:"Category",t:gn},3:{n:"PresentationFormat",t:gn},4:{n:"ByteCount",t:bs},5:{n:"LineCount",t:bs},6:{n:"ParagraphCount",t:bs},7:{n:"SlideCount",t:bs},8:{n:"NoteCount",t:bs},9:{n:"HiddenCount",t:bs},10:{n:"MultimediaClipCount",t:bs},11:{n:"ScaleCrop",t:Jp},12:{n:"HeadingPairs",t:HY},13:{n:"TitlesOfParts",t:qY},14:{n:"Manager",t:gn},15:{n:"Company",t:gn},16:{n:"LinksUpToDate",t:Jp},17:{n:"CharacterCount",t:bs},19:{n:"SharedDoc",t:Jp},22:{n:"HyperlinksChanged",t:Jp},23:{n:"AppVersion",t:bs,p:"version"},24:{n:"DigSig",t:UY},26:{n:"ContentType",t:gn},27:{n:"ContentStatus",t:gn},28:{n:"Language",t:gn},29:{n:"Version",t:gn},255:{},2147483648:{n:"Locale",t:ug},2147483651:{n:"Behavior",t:ug},1919054434:{}},WY={1:{n:"CodePage",t:w_},2:{n:"Title",t:gn},3:{n:"Subject",t:gn},4:{n:"Author",t:gn},5:{n:"Keywords",t:gn},6:{n:"Comments",t:gn},7:{n:"Template",t:gn},8:{n:"LastAuthor",t:gn},9:{n:"RevNumber",t:gn},10:{n:"EditTime",t:Zp},11:{n:"LastPrinted",t:Zp},12:{n:"CreatedDate",t:Zp},13:{n:"ModifiedDate",t:Zp},14:{n:"PageCount",t:bs},15:{n:"WordCount",t:bs},16:{n:"CharCount",t:bs},17:{n:"Thumbnail",t:zY},18:{n:"Application",t:gn},19:{n:"DocSecurity",t:bs},255:{},2147483648:{n:"Locale",t:ug},2147483651:{n:"Behavior",t:ug},1919054434:{}},q4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},GY=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function KY(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var XY=KY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),dc=Dn(XY),Pc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},GD={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},V4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function YY(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function JY(e){var t=YY();if(!e||!e.match)return t;var r={};if((e.match(Xn)||[]).forEach(function(n){var s=mt(n);switch(s[0].replace(aY,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":t[V4[s.ContentType]]!==void 0&&t[V4[s.ContentType]].push(s.PartName);break}}),t.xmlns!==gY.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Du={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function O2(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function rh(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Xn)||[]).forEach(function(s){var a=mt(s);if(a[0]==="<Relationship"){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:qd(a.Target,t);r[o]=i,n[a.Id]=i}}),r["!id"]=n,r}var ZY="application/vnd.oasis.opendocument.spreadsheet";function QY(e,t){for(var r=p_(e),n,s;n=kh.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(s=mt(n[0],!1),s.path=="/"&&s.type!==ZY)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var nh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],eJ=(function(){for(var e=new Array(nh.length),t=0;t<nh.length;++t){var r=nh[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function KD(e){var t={};e=fr(e);for(var r=0;r<nh.length;++r){var n=nh[r],s=e.match(eJ[r]);s!=null&&s.length>0&&(t[n[1]]=Ut(s[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=vn(t[n[1]]))}return t}var tJ=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function XD(e,t,r,n){var s=[];if(typeof e=="string")s=I4(e,n);else for(var a=0;a<e.length;++a)s=s.concat(e[a].map(function(h){return{v:h}}));var i=typeof t=="string"?I4(t,n).map(function(h){return h.v}):t,o=0,c=0;if(i.length>0)for(var f=0;f!==s.length;f+=2){switch(c=+s[f+1].v,s[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(o,o+c);break}o+=c}}function rJ(e,t,r){var n={};return t||(t={}),e=fr(e),tJ.forEach(function(s){var a=(e.match(Ch(s[0]))||[])[1];switch(s[2]){case"string":a&&(t[s[1]]=Ut(a));break;case"bool":t[s[1]]=a==="true";break;case"raw":var i=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));i&&i.length>0&&(n[s[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&XD(n.HeadingPairs,n.TitlesOfParts,t,r),t}var nJ=/<[^>]+>[^<]*/g;function sJ(e,t){var r={},n="",s=e.match(nJ);if(s)for(var a=0;a!=s.length;++a){var i=s[a],o=mt(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ut(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),f=c[0].slice(4),h=c[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=Ut(h);break;case"bool":r[n]=yr(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=vn(h);break;case"cy":case"error":r[n]=Ut(h);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,f,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var aJ={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Dv;function iJ(e,t,r){Dv||(Dv=f_(aJ)),t=Dv[t]||t,e[t]=r}function E_(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function YD(e,t,r){var n=e.l,s=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return s}function JD(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function ZD(e,t,r){return t===31?JD(e):YD(e,t,r)}function j2(e,t,r){return ZD(e,t,r===!1?0:4)}function oJ(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return ZD(e,t,0)}function lJ(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var s=e.l;r[n]=e.read_shift(0,"lpwstr").replace(is,""),e.l-s&2&&(e.l+=2)}return r}function cJ(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(is,"");return r}function uJ(e){var t=e.l,r=fg(e,WD);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=fg(e,bs);return[r,n]}function fJ(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(uJ(e));return r}function $4(e,t){for(var r=e.read_shift(4),n={},s=0;s!=r;++s){var a=e.read_shift(4),i=e.read_shift(4);n[a]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(is,"").replace(Hd,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function QD(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function dJ(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function fg(e,t,r){var n=e.read_shift(2),s,a=r||{};if(e.l+=2,t!==H4&&n!==t&&VY.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===H4?n:t){case 2:return s=e.read_shift(2,"i"),a.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return YD(e,n,4).replace(is,"");case 31:return JD(e);case 64:return E_(e);case 65:return QD(e);case 71:return dJ(e);case 80:return j2(e,n,!a.raw).replace(is,"");case 81:return oJ(e,n).replace(is,"");case 4108:return fJ(e);case 4126:case 4127:return n==4127?lJ(e):cJ(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function W4(e,t){var r=e.l,n=e.read_shift(4),s=e.read_shift(4),a=[],i=0,o=0,c=-1,f={};for(i=0;i!=s;++i){var h=e.read_shift(4),m=e.read_shift(4);a[i]=[h,m+r]}a.sort(function(T,_){return T[1]-_[1]});var x={};for(i=0;i!=s;++i){if(e.l!==a[i][1]){var g=!0;if(i>0&&t)switch(t[a[i-1][0]].t){case 2:e.l+2===a[i][1]&&(e.l+=2,g=!1);break;case 80:e.l<=a[i][1]&&(e.l=a[i][1],g=!1);break;case 4108:e.l<=a[i][1]&&(e.l=a[i][1],g=!1);break}if((!t||i==0)&&e.l<=a[i][1]&&(g=!1,e.l=a[i][1]),g)throw new Error("Read Error: Expected address "+a[i][1]+" at "+e.l+" :"+i)}if(t){var y=t[a[i][0]];if(x[y.n]=fg(e,y.t,{raw:!0}),y.p==="version"&&(x[y.n]=String(x[y.n]>>16)+"."+("0000"+String(x[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(x[y.n]){case 0:x[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ba(o=x[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[y.n])}}else if(a[i][0]===1){if(o=x.CodePage=fg(e,w_),Ba(o),c!==-1){var b=e.l;e.l=a[c][1],f=$4(e,o),e.l=b}}else if(a[i][0]===0){if(o===0){c=i,e.l=a[i+1][1];continue}f=$4(e,o)}else{var w=f[a[i][0]],E;switch(e[e.l]){case 65:e.l+=4,E=QD(e);break;case 30:e.l+=4,E=j2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,E=j2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,E=e.read_shift(4,"i");break;case 19:e.l+=4,E=e.read_shift(4);break;case 5:e.l+=4,E=e.read_shift(8,"f");break;case 11:e.l+=4,E=Ir(e,4);break;case 64:e.l+=4,E=vn(E_(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[w]=E}}return e.l=r+n,x}function G4(e,t,r){var n=e.content;if(!n)return{};Cn(n,0);var s,a,i,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),h=n.read_shift(16);if(h!==Lt.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(a=n.read_shift(16),o=n.read_shift(4),s===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);s===2&&(i=n.read_shift(16),c=n.read_shift(4));var m=W4(n,t),x={SystemIdentifier:f};for(var g in m)x[g]=m[g];if(x.FMTID=a,s===1)return x;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var y;try{y=W4(n,null)}catch{}for(g in y)x[g]=y[g];return x.FMTID=[a,i],x}function Ho(e,t){return e.read_shift(t),null}function hJ(e,t,r){for(var n=[],s=e.l+t;e.l<s;)n.push(r(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return n}function Ir(e,t){return e.read_shift(t)===1}function Jr(e){return e.read_shift(2,"u")}function eI(e,t){return hJ(e,t,Jr)}function pJ(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function h0(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var i=n?e.read_shift(n,s):"";return i}function mJ(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,s=r&8,a=1+(r&1),i=0,o,c={};s&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var f=a==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,f);return s&&(e.l+=4*i),n&&(e.l+=o),c.t=h,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Nc(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function p0(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Nc(e,n,r)}function Lc(e,t,r){if(r.biff>5)return p0(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function gJ(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function xJ(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var s=e.read_shift((n?t-24:t)>>1,"utf16le").replace(is,"");return n&&(e.l+=24),s}function yJ(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(a>>1,"utf16le").replace(is,"");return r+i}function vJ(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return xJ(e);case"0303000000000000c000000000000046":return yJ(e);default:throw new Error("Unsupported Moniker "+r)}}function Qp(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(is,""):"";return r}function bJ(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=e.read_shift(2);e.l+=2;var a,i,o,c,f="",h,m;s&16&&(a=Qp(e,r-e.l)),s&128&&(i=Qp(e,r-e.l)),(s&257)===257&&(o=Qp(e,r-e.l)),(s&257)===1&&(c=vJ(e,r-e.l)),s&8&&(f=Qp(e,r-e.l)),s&32&&(h=e.read_shift(16)),s&64&&(m=E_(e)),e.l=r;var x=i||o||c||"";x&&f&&(x+="#"+f),x||(x="#"+f),s&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var g={Target:x};return h&&(g.guid=h),m&&(g.time=m),a&&(g.Tooltip=a),g}function tI(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),s=e.read_shift(1);return[t,r,n,s]}function rI(e,t){var r=tI(e);return r[3]=0,r}function bi(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function wJ(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function EJ(e,t,r){return t===0?"":Lc(e,t,r)}function _J(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),a=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[s,a,i]}function nI(e){var t=e.read_shift(2),r=b_(e);return[t,r]}function SJ(e,t,r){e.l+=4,t-=4;var n=e.l+t,s=h0(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,s}function Ox(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function sI(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),s=e.read_shift(1);return{s:{c:n,r:t},e:{c:s,r}}}var TJ=sI;function aI(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function NJ(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function AJ(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ln(e){e.l+=2,e.l+=e.read_shift(2)}var CJ={0:Ln,4:Ln,5:Ln,6:Ln,7:AJ,8:Ln,9:Ln,10:Ln,11:Ln,12:Ln,13:NJ,14:Ln,15:Ln,16:Ln,17:Ln,18:Ln,19:Ln,20:Ln,21:aI};function kJ(e,t){for(var r=e.l+t,n=[];e.l<r;){var s=e.read_shift(2);e.l-=2;try{n.push(CJ[s](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function em(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function RJ(e,t){return t===0||e.read_shift(2),1200}function OJ(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,s=Lc(e,0,r);return e.read_shift(t+n-e.l),s}function jJ(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function DJ(e,t,r){var n=e.read_shift(4),s=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var i=h0(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:s,dt:a,name:i}}function IJ(e,t){for(var r=e.l+t,n=e.read_shift(4),s=e.read_shift(4),a=[],i=0;i!=s&&e.l<r;++i)a.push(mJ(e));return a.Count=n,a.Unique=s,a}function MJ(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function FJ(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function PJ(e){var t=wJ(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function LJ(e){return e.read_shift(2),e.read_shift(4)}function K4(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var s=e.read_shift(2);r&&r.biff==2&&(n=1-(s>>15),s&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,s]}function BJ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[n,s],Flags:a,CurTab:i,FirstTab:o,Selected:c,TabRatio:f}}function UJ(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function zJ(){}function HJ(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=h0(e,0,r),n}function qJ(e){var t=bi(e);return t.isst=e.read_shift(4),t}function VJ(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,s=bi(e);r.biff==2&&e.l++;var a=p0(e,n-e.l,r);return s.val=a,s}function $J(e,t,r){var n=e.read_shift(2),s=Lc(e,0,r);return[n,s]}var WJ=Lc;function X4(e,t,r){var n=e.l+t,s=r.biff==8||!r.biff?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:a,c:o},e:{r:i,c}}}function GJ(e){var t=e.read_shift(2),r=e.read_shift(2),n=nI(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function KJ(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),a=[];e.l<r;)a.push(nI(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(a.length!=i-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:i,rkrec:a}}function XJ(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(a.length!=i-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:i,ixfe:a}}function YJ(e,t,r,n){var s={},a=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return s.patternType=GY[o>>26],n.cellStyles&&(s.alc=a&7,s.fWrap=a>>3&1,s.alcV=a>>4&7,s.fJustLast=a>>7&1,s.trot=a>>8&255,s.cIndent=a>>16&15,s.fShrinkToFit=a>>20&1,s.iReadOrder=a>>22&2,s.fAtrNum=a>>26&1,s.fAtrFnt=a>>27&1,s.fAtrAlc=a>>28&1,s.fAtrBdr=a>>29&1,s.fAtrPat=a>>30&1,s.fAtrProt=a>>31&1,s.dgLeft=i&15,s.dgRight=i>>4&15,s.dgTop=i>>8&15,s.dgBottom=i>>12&15,s.icvLeft=i>>16&127,s.icvRight=i>>23&127,s.grbitDiag=i>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function JJ(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=YJ(e,t,n.fStyle,r),n}function ZJ(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Y4(e,t,r){var n=bi(e);(r.biff==2||t==9)&&++e.l;var s=pJ(e);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function QJ(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=bi(e),s=Hn(e);return n.val=s,n}var J4=EJ;function eZ(e,t,r){var n=e.l+t,s=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,s];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var i=Nc(e,a),o=[];n>e.l;)o.push(p0(e));return[a,s,i,o]}function Z4(e,t,r){var n=e.read_shift(2),s,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(s=SJ(e,t-2,r)),a.body=s||e.read_shift(t-2),typeof s=="string"&&(a.Name=s),a}var tZ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Q4(e,t,r){var n=e.l+t,s=e.read_shift(2),a=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=Nc(e,i,r);s&32&&(f=tZ[f.charCodeAt(0)]);var h=n-e.l;r&&r.biff==2&&--h;var m=n==e.l||o===0||!(h>0)?[]:Fte(e,h,r,o);return{chKey:a,Name:f,itab:c,rgce:m}}function iI(e,t,r){if(r.biff<8)return rZ(e,t,r);for(var n=[],s=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(_J(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function rZ(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=h0(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function nZ(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),s=e.read_shift(2),a=Nc(e,n,r),i=Nc(e,s,r);return[a,i]}function sZ(e,t,r){var n=sI(e);e.l++;var s=e.read_shift(1);return t-=8,[Pte(e,t,r),s,n]}function e3(e,t,r){var n=TJ(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Ite(e,t,r)]}function aZ(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function iZ(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=Lc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:s},o,i,a]}}function oZ(e,t,r){return iZ(e,t,r)}function lZ(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Ox(e));return r}function cZ(e,t,r){if(r&&r.biff<8)return fZ(e,t,r);var n=aI(e),s=kJ(e,t-22,n[1]);return{cmo:n,ft:s}}var uZ={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=r,{fmt:n}}};function fZ(e,t,r){e.l+=4;var n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((uZ[n]||Gn)(e,t,r)),{cmo:[s,n,a],ft:i}}function dZ(e,t,r){var n=e.l,s="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:i=gJ(e,6,r);var o=e.read_shift(2);e.read_shift(2),Jr(e,2);var c=e.read_shift(2);e.l+=c;for(var f=1;f<e.lens.length-1;++f){if(e.l-n!=e.lens[f])throw new Error("TxO: bad continue record");var h=e[e.l],m=Nc(e,e.lens[f+1]-e.lens[f]-1);if(s+=m,s.length>=(h?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return e.l=n+t,{t:s}}catch{return e.l=n+t,{t:s}}}function hZ(e,t){var r=Ox(e);e.l+=16;var n=bJ(e,t-24);return[r,n]}function pZ(e,t){e.read_shift(2);var r=Ox(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(is,""),[r,n]}function mZ(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=q4[r]||r,r=e.read_shift(2),t[1]=q4[r]||r,t}function gZ(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(rI(e));return r}function xZ(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(rI(e));return r}function yZ(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function oI(e,t,r){if(!r.cellStyles)return Gn(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var f={s,e:a,w:i,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(f.level=c>>8&7),f}function vZ(e,t){var r={};return t<32||(e.l+=16,r.header=Hn(e),r.footer=Hn(e),e.l+=2),r}function bZ(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var s=e.read_shift(1);return e.l+=3,s&16&&(n.area=!0),n}var wZ=bi,EZ=eI,_Z=p0;function SZ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,s}function TZ(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=bi(e);++e.l;var s=Lc(e,t-7,r);return n.t="str",n.val=s,n}function NZ(e){var t=bi(e);++e.l;var r=Hn(e);return t.t="n",t.val=r,t}function AZ(e){var t=bi(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function CZ(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function kZ(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function RZ(e,t,r){var n=e.l+t,s=bi(e),a=e.read_shift(2),i=Nc(e,a,r);return e.l=n,s.t="str",s.val=i,s}var OZ=[2,3,48,49,131,139,140,245],t3=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=f_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var f=[],h=bl(1);switch(c.type){case"base64":h=Fa(Ws(o));break;case"binary":h=Fa(o);break;case"buffer":case"array":h=o;break}Cn(h,0);var m=h.read_shift(1),x=!!(m&136),g=!1,y=!1;switch(m){case 2:break;case 3:break;case 48:g=!0,x=!0;break;case 49:g=!0,x=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var b=0,w=521;m==2&&(b=h.read_shift(2)),h.l+=3,m!=2&&(b=h.read_shift(4)),b>1048576&&(b=1e6),m!=2&&(w=h.read_shift(2));var E=h.read_shift(2),T=c.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(T=e[h[h.l]]),h.l+=1,h.l+=2),y&&(h.l+=36);for(var _=[],S={},C=Math.min(h.length,m==2?521:w-10-(g?264:0)),I=y?32:11;h.l<C&&h[h.l]!=13;)switch(S={},S.name=Nh.utils.decode(T,h.slice(h.l,h.l+I)).replace(/[\u0000\r\n].*$/g,""),h.l+=I,S.type=String.fromCharCode(h.read_shift(1)),m!=2&&!y&&(S.offset=h.read_shift(4)),S.len=h.read_shift(1),m==2&&(S.offset=h.read_shift(2)),S.dec=h.read_shift(1),S.name.length&&_.push(S),m!=2&&(h.l+=y?13:14),S.type){case"B":(!g||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var j=0,q=0;for(f[0]=[],q=0;q!=_.length;++q)f[0][q]=_[q].name;for(;b-- >0;){if(h[h.l]===42){h.l+=E;continue}for(++h.l,f[++j]=[],q=0,q=0;q!=_.length;++q){var D=h.slice(h.l,h.l+_[q].len);h.l+=_[q].len,Cn(D,0);var Q=Nh.utils.decode(T,D);switch(_[q].type){case"C":Q.trim().length&&(f[j][q]=Q.replace(/\s+$/,""));break;case"D":Q.length===8?f[j][q]=new Date(+Q.slice(0,4),+Q.slice(4,6)-1,+Q.slice(6,8)):f[j][q]=Q;break;case"F":f[j][q]=parseFloat(Q.trim());break;case"+":case"I":f[j][q]=y?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(Q.trim().toUpperCase()){case"Y":case"T":f[j][q]=!0;break;case"N":case"F":f[j][q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Q+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[j][q]="##MEMO##"+(y?parseInt(Q.trim(),10):D.read_shift(4));break;case"N":Q=Q.replace(/\u0000/g,"").trim(),Q&&Q!="."&&(f[j][q]=+Q||0);break;case"@":f[j][q]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":f[j][q]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":f[j][q]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[j][q]=-D.read_shift(-8,"f");break;case"B":if(g&&_[q].len==8){f[j][q]=D.read_shift(8,"f");break}case"G":case"P":D.l+=_[q].len;break;case"0":if(_[q].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[q].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=_,f}function n(o,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var h=Cf(r(o,f),f);return h["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,h}function s(o,c){try{return Sl(n(o,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,c){var f=c||{};if(+f.codepage>=0&&Ba(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=k2(),m=L2(o,{header:1,raw:!0,cellDates:!0}),x=m[0],g=m.slice(1),y=o["!cols"]||[],b=0,w=0,E=0,T=1;for(b=0;b<x.length;++b){if(((y[b]||{}).DBF||{}).name){x[b]=y[b].DBF.name,++E;continue}if(x[b]!=null){if(++E,typeof x[b]=="number"&&(x[b]=x[b].toString(10)),typeof x[b]!="string")throw new Error("DBF Invalid column name "+x[b]+" |"+typeof x[b]+"|");if(x.indexOf(x[b])!==b){for(w=0;w<1024;++w)if(x.indexOf(x[b]+"_"+w)==-1){x[b]+="_"+w;break}}}}var _=Or(o["!ref"]),S=[],C=[],I=[];for(b=0;b<=_.e.c-_.s.c;++b){var j="",q="",D=0,Q=[];for(w=0;w<g.length;++w)g[w][b]!=null&&Q.push(g[w][b]);if(Q.length==0||x[b]==null){S[b]="?";continue}for(w=0;w<Q.length;++w){switch(typeof Q[w]){case"number":q="B";break;case"string":q="C";break;case"boolean":q="L";break;case"object":q=Q[w]instanceof Date?"D":"C";break;default:q="C"}D=Math.max(D,String(Q[w]).length),j=j&&j!=q?"C":q}D>250&&(D=250),q=((y[b]||{}).DBF||{}).type,q=="C"&&y[b].DBF.len>D&&(D=y[b].DBF.len),j=="B"&&q=="N"&&(j="N",I[b]=y[b].DBF.dec,D=y[b].DBF.len),C[b]=j=="C"||q=="N"?D:a[j]||0,T+=C[b],S[b]=j}var ae=h.next(32);for(ae.write_shift(4,318902576),ae.write_shift(4,g.length),ae.write_shift(2,296+32*E),ae.write_shift(2,T),b=0;b<4;++b)ae.write_shift(4,0);for(ae.write_shift(4,0|(+t[iD]||3)<<8),b=0,w=0;b<x.length;++b)if(x[b]!=null){var F=h.next(32),X=(x[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,X,"sbcs"),F.write_shift(1,S[b]=="?"?"C":S[b],"sbcs"),F.write_shift(4,w),F.write_shift(1,C[b]||a[S[b]]||0),F.write_shift(1,I[b]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),w+=C[b]||a[S[b]]||0}var M=h.next(264);for(M.write_shift(4,13),b=0;b<65;++b)M.write_shift(4,0);for(b=0;b<g.length;++b){var se=h.next(T);for(se.write_shift(1,0),w=0;w<x.length;++w)if(x[w]!=null)switch(S[w]){case"L":se.write_shift(1,g[b][w]==null?63:g[b][w]?84:70);break;case"B":se.write_shift(8,g[b][w]||0,"f");break;case"N":var J="0";for(typeof g[b][w]=="number"&&(J=g[b][w].toFixed(I[w]||0)),E=0;E<C[w]-J.length;++E)se.write_shift(1,32);se.write_shift(1,J,"sbcs");break;case"D":g[b][w]?(se.write_shift(4,("0000"+g[b][w].getFullYear()).slice(-4),"sbcs"),se.write_shift(2,("00"+(g[b][w].getMonth()+1)).slice(-2),"sbcs"),se.write_shift(2,("00"+g[b][w].getDate()).slice(-2),"sbcs")):se.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(g[b][w]!=null?g[b][w]:"").slice(0,C[w]);for(se.write_shift(1,Z,"sbcs"),E=0;E<C[w]-Z.length;++E)se.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:n,from_sheet:i}})(),jZ=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+gi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,g){var y=e[g];return typeof y=="number"?x4(y):y},n=function(x,g,y){var b=g.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return b==59?x:x4(b)};e["|"]=254;function s(x,g){switch(g.type){case"base64":return a(Ws(x),g);case"binary":return a(x,g);case"buffer":return a(Pt&&Buffer.isBuffer(x)?x.toString("binary"):Ic(x),g);case"array":return a(Tc(x),g)}throw new Error("Unrecognized type "+g.type)}function a(x,g){var y=x.split(/[\n\r]+/),b=-1,w=-1,E=0,T=0,_=[],S=[],C=null,I={},j=[],q=[],D=[],Q=0,ae;for(+g.codepage>=0&&Ba(+g.codepage);E!==y.length;++E){Q=0;var F=y[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),X=F.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),M=X[0],se;if(F.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":X[1].charAt(0)=="P"&&S.push(F.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,Z=!1,ge=!1,ie=!1,Ee=-1,G=-1;for(T=1;T<X.length;++T)switch(X[T].charAt(0)){case"A":break;case"X":w=parseInt(X[T].slice(1))-1,Z=!0;break;case"Y":for(b=parseInt(X[T].slice(1))-1,Z||(w=0),ae=_.length;ae<=b;++ae)_[ae]=[];break;case"K":se=X[T].slice(1),se.charAt(0)==='"'?se=se.slice(1,se.length-1):se==="TRUE"?se=!0:se==="FALSE"?se=!1:isNaN(Ha(se))?isNaN(Xu(se).getDate())||(se=vn(se)):(se=Ha(se),C!==null&&Nf(C)&&(se=Rx(se))),J=!0;break;case"E":ie=!0;var O=Pu(X[T].slice(1),{r:b,c:w});_[b][w]=[_[b][w],O];break;case"S":ge=!0,_[b][w]=[_[b][w],"S5S"];break;case"G":break;case"R":Ee=parseInt(X[T].slice(1))-1;break;case"C":G=parseInt(X[T].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+F)}if(J&&(_[b][w]&&_[b][w].length==2?_[b][w][0]=se:_[b][w]=se,C=null),ge){if(ie)throw new Error("SYLK shared formula cannot have own formula");var W=Ee>-1&&_[Ee][G];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");_[b][w][1]=xI(W[1],{r:b-Ee,c:w-G})}break;case"F":var K=0;for(T=1;T<X.length;++T)switch(X[T].charAt(0)){case"X":w=parseInt(X[T].slice(1))-1,++K;break;case"Y":for(b=parseInt(X[T].slice(1))-1,ae=_.length;ae<=b;++ae)_[ae]=[];break;case"M":Q=parseInt(X[T].slice(1))/20;break;case"F":break;case"G":break;case"P":C=S[parseInt(X[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=X[T].slice(1).split(" "),ae=parseInt(D[0],10);ae<=parseInt(D[1],10);++ae)Q=parseInt(D[2],10),q[ae-1]=Q===0?{hidden:!0}:{wch:Q},Yu(q[ae-1]);break;case"C":w=parseInt(X[T].slice(1))-1,q[w]||(q[w]={});break;case"R":b=parseInt(X[T].slice(1))-1,j[b]||(j[b]={}),Q>0?(j[b].hpt=Q,j[b].hpx=jh(Q)):Q===0&&(j[b].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+F)}K<1&&(C=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+F)}}return j.length>0&&(I["!rows"]=j),q.length>0&&(I["!cols"]=q),g&&g.sheetRows&&(_=_.slice(0,g.sheetRows)),[_,I]}function i(x,g){var y=s(x,g),b=y[0],w=y[1],E=Cf(b,g);return gi(w).forEach(function(T){E[T]=w[T]}),E}function o(x,g){return Sl(i(x,g),g)}function c(x,g,y,b){var w="C;Y"+(y+1)+";X"+(b+1)+";K";switch(x.t){case"n":w+=x.v||0,x.f&&!x.F&&(w+=";E"+yee(x.f,{r:y,c:b}));break;case"b":w+=x.v?"TRUE":"FALSE";break;case"e":w+=x.w||x.v;break;case"d":w+='"'+(x.w||x.v)+'"';break;case"s":w+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(x,g){g.forEach(function(y,b){var w="F;W"+(b+1)+" "+(b+1)+" ";y.hidden?w+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=hg(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=pg(y.wpx)),typeof y.wch=="number"&&(w+=Math.round(y.wch))),w.charAt(w.length-1)!=" "&&x.push(w)})}function h(x,g){g.forEach(function(y,b){var w="F;";y.hidden?w+="M0;":y.hpt?w+="M"+20*y.hpt+";":y.hpx&&(w+="M"+20*pI(y.hpx)+";"),w.length>2&&x.push(w+"R"+(b+1))})}function m(x,g){var y=["ID;PWXL;N;E"],b=[],w=Or(x["!ref"]),E,T=Array.isArray(x),_=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),x["!cols"]&&f(y,x["!cols"]),x["!rows"]&&h(y,x["!rows"]),y.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var S=w.s.r;S<=w.e.r;++S)for(var C=w.s.c;C<=w.e.c;++C){var I=vt({r:S,c:C});E=T?(x[S]||[])[C]:x[I],!(!E||E.v==null&&(!E.f||E.F))&&b.push(c(E,x,S,C))}return y.join(_)+_+b.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:i,from_sheet:m}})(),DZ=(function(){function e(a,i){switch(i.type){case"base64":return t(Ws(a),i);case"binary":return t(a,i);case"buffer":return t(Pt&&Buffer.isBuffer(a)?a.toString("binary"):Ic(a),i);case"array":return t(Tc(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){for(var o=a.split(`
`),c=-1,f=-1,h=0,m=[];h!==o.length;++h){if(o[h].trim()==="BOT"){m[++c]=[],f=0;continue}if(!(c<0)){var x=o[h].trim().split(","),g=x[0],y=x[1];++h;for(var b=o[h]||"";(b.match(/["]/g)||[]).length&1&&h<o.length-1;)b+=`
`+o[++h];switch(b=b.trim(),+g){case-1:if(b==="BOT"){m[++c]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?m[c][f]=!0:b==="FALSE"?m[c][f]=!1:isNaN(Ha(y))?isNaN(Xu(y).getDate())?m[c][f]=y:m[c][f]=vn(y):m[c][f]=Ha(y),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),m[c][f++]=b!==""?b:null;break}if(b==="EOD")break}}return i&&i.sheetRows&&(m=m.slice(0,i.sheetRows)),m}function r(a,i){return Cf(e(a,i),i)}function n(a,i){return Sl(r(a,i),i)}var s=(function(){var a=function(c,f,h,m,x){c.push(f),c.push(h+","+m),c.push('"'+x.replace(/"/g,'""')+'"')},i=function(c,f,h,m){c.push(f+","+h),c.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var f=[],h=Or(c["!ref"]),m,x=Array.isArray(c);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,h.e.r-h.s.r+1,""),a(f,"TUPLES",0,h.e.c-h.s.c+1,""),a(f,"DATA",0,0,"");for(var g=h.s.r;g<=h.e.r;++g){i(f,-1,0,"BOT");for(var y=h.s.c;y<=h.e.c;++y){var b=vt({r:g,c:y});if(m=x?(c[g]||[])[y]:c[b],!m){i(f,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?i(f,1,0,"="+m.f):i(f,1,0,""):i(f,0,w,"V");break;case"b":i(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":i(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=_a(m.z||_t[14],ls(vn(m.v)))),i(f,0,m.w,"V");break;default:i(f,1,0,"")}}}i(f,-1,0,"EOD");var E=`\r
`,T=f.join(E);return T}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),IZ=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,x){for(var g=m.split(`
`),y=-1,b=-1,w=0,E=[];w!==g.length;++w){var T=g[w].trim().split(":");if(T[0]==="cell"){var _=ns(T[1]);if(E.length<=_.r)for(y=E.length;y<=_.r;++y)E[y]||(E[y]=[]);switch(y=_.r,b=_.c,T[2]){case"t":E[y][b]=e(T[3]);break;case"v":E[y][b]=+T[3];break;case"vtf":var S=T[T.length-1];case"vtc":switch(T[3]){case"nl":E[y][b]=!!+T[4];break;default:E[y][b]=+T[4];break}T[2]=="vtf"&&(E[y][b]=[E[y][b],S])}}}return x&&x.sheetRows&&(E=E.slice(0,x.sheetRows)),E}function n(m,x){return Cf(r(m,x),x)}function s(m,x){return Sl(n(m,x),x)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var x=[],g=[],y,b="",w=Af(m["!ref"]),E=Array.isArray(m),T=w.s.r;T<=w.e.r;++T)for(var _=w.s.c;_<=w.e.c;++_)if(b=vt({r:T,c:_}),y=E?(m[T]||[])[_]:m[b],!(!y||y.v==null||y.t==="z")){switch(g=["cell",b,"t"],y.t){case"s":case"str":g.push(t(y.v));break;case"n":y.f?(g[2]="vtf",g[3]="n",g[4]=y.v,g[5]=t(y.f)):(g[2]="v",g[3]=y.v);break;case"b":g[2]="vt"+(y.f?"f":"c"),g[3]="nl",g[4]=y.v?"1":"0",g[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var S=ls(vn(y.v));g[2]="vtc",g[3]="nd",g[4]=""+S,g[5]=y.w||_a(y.z||_t[14],S);break;case"e":continue}x.push(g.join(":"))}return x.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function h(m){return[a,i,o,i,f(m),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:h}})(),Rh=(function(){function e(h,m,x,g,y){y.raw?m[x][g]=h:h===""||(h==="TRUE"?m[x][g]=!0:h==="FALSE"?m[x][g]=!1:isNaN(Ha(h))?isNaN(Xu(h).getDate())?m[x][g]=h:m[x][g]=vn(h):m[x][g]=Ha(h))}function t(h,m){var x=m||{},g=[];if(!h||h.length===0)return g;for(var y=h.split(/[\r\n]/),b=y.length-1;b>=0&&y[b].length===0;)--b;for(var w=10,E=0,T=0;T<=b;++T)E=y[T].indexOf(" "),E==-1?E=y[T].length:E++,w=Math.max(w,E);for(T=0;T<=b;++T){g[T]=[];var _=0;for(e(y[T].slice(0,w).trim(),g,T,_,x),_=1;_<=(y[T].length-w)/10+1;++_)e(y[T].slice(w+(_-1)*10,w+_*10).trim(),g,T,_,x)}return x.sheetRows&&(g=g.slice(0,x.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(h){for(var m={},x=!1,g=0,y=0;g<h.length;++g)(y=h.charCodeAt(g))==34?x=!x:!x&&y in r&&(m[y]=(m[y]||0)+1);y=[];for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&y.push([m[g],g]);if(!y.length){m=n;for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&y.push([m[g],g])}return y.sort(function(b,w){return b[0]-w[0]||n[b[1]]-n[w[1]]}),r[y.pop()[1]]||44}function a(h,m){var x=m||{},g="",y=x.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(g=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(g=h.charAt(4),h=h.slice(6)):g=s(h.slice(0,1024)):x&&x.FS?g=x.FS:g=s(h.slice(0,1024));var w=0,E=0,T=0,_=0,S=0,C=g.charCodeAt(0),I=!1,j=0,q=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var D=x.dateNF!=null?$X(x.dateNF):null;function Q(){var ae=h.slice(_,S),F={};if(ae.charAt(0)=='"'&&ae.charAt(ae.length-1)=='"'&&(ae=ae.slice(1,-1).replace(/""/g,'"')),ae.length===0)F.t="z";else if(x.raw)F.t="s",F.v=ae;else if(ae.trim().length===0)F.t="s",F.v=ae;else if(ae.charCodeAt(0)==61)ae.charCodeAt(1)==34&&ae.charCodeAt(ae.length-1)==34?(F.t="s",F.v=ae.slice(2,-1).replace(/""/g,'"')):bee(ae)?(F.t="n",F.f=ae.slice(1)):(F.t="s",F.v=ae);else if(ae=="TRUE")F.t="b",F.v=!0;else if(ae=="FALSE")F.t="b",F.v=!1;else if(!isNaN(T=Ha(ae)))F.t="n",x.cellText!==!1&&(F.w=ae),F.v=T;else if(!isNaN(Xu(ae).getDate())||D&&ae.match(D)){F.z=x.dateNF||_t[14];var X=0;D&&ae.match(D)&&(ae=WX(ae,x.dateNF,ae.match(D)||[]),X=1),x.cellDates?(F.t="d",F.v=vn(ae,X)):(F.t="n",F.v=ls(vn(ae,X))),x.cellText!==!1&&(F.w=_a(F.z,F.v instanceof Date?ls(F.v):F.v)),x.cellNF||delete F.z}else F.t="s",F.v=ae;if(F.t=="z"||(x.dense?(y[w]||(y[w]=[]),y[w][E]=F):y[vt({c:E,r:w})]=F),_=S+1,q=h.charCodeAt(_),b.e.c<E&&(b.e.c=E),b.e.r<w&&(b.e.r=w),j==C)++E;else if(E=0,++w,x.sheetRows&&x.sheetRows<=w)return!0}e:for(;S<h.length;++S)switch(j=h.charCodeAt(S)){case 34:q===34&&(I=!I);break;case C:case 10:case 13:if(!I&&Q())break e;break}return S-_>0&&Q(),y["!ref"]=Bt(b),y}function i(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,m):Cf(t(h,m),m)}function o(h,m){var x="",g=m.type=="string"?[0,0,0,0]:R_(h,m);switch(m.type){case"base64":x=Ws(h);break;case"binary":x=h;break;case"buffer":m.codepage==65001?x=h.toString("utf8"):m.codepage&&typeof Nh<"u"||(x=Pt&&Buffer.isBuffer(h)?h.toString("binary"):Ic(h));break;case"array":x=Tc(h);break;case"string":x=h;break;default:throw new Error("Unrecognized type "+m.type)}return g[0]==239&&g[1]==187&&g[2]==191?x=fr(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=fr(x):m.type=="binary"&&typeof Nh<"u",x.slice(0,19)=="socialcalc:version:"?IZ.to_sheet(m.type=="string"?x:fr(x),m):i(x,m)}function c(h,m){return Sl(o(h,m),m)}function f(h){for(var m=[],x=Or(h["!ref"]),g,y=Array.isArray(h),b=x.s.r;b<=x.e.r;++b){for(var w=[],E=x.s.c;E<=x.e.c;++E){var T=vt({r:b,c:E});if(g=y?(h[b]||[])[E]:h[T],!g||g.v==null){w.push("          ");continue}for(var _=(g.w||(uo(g),g.w)||"").slice(0,10);_.length<10;)_+=" ";w.push(_+(E===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:f}})();function MZ(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var s=jZ.to_workbook(e,r);return r.WTF=n,s}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return Rh.to_workbook(e,t)}}var sh=(function(){function e(O,W,K){if(O){Cn(O,O.l||0);for(var re=K.Enum||Ee;O.l<O.length;){var Y=O.read_shift(2),P=re[Y]||re[65535],L=O.read_shift(2),oe=O.l+L,ee=P.f&&P.f(O,L,K);if(O.l=oe,W(ee,P,Y))return}}}function t(O,W){switch(W.type){case"base64":return r(Fa(Ws(O)),W);case"binary":return r(Fa(O),W);case"buffer":case"array":return r(O,W)}throw"Unsupported type "+W.type}function r(O,W){if(!O)return O;var K=W||{},re=K.dense?[]:{},Y="Sheet1",P="",L=0,oe={},ee=[],ne=[],z={s:{r:0,c:0},e:{r:0,c:0}},be=K.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)K.Enum=Ee,e(O,function(A,R,H){switch(H){case 0:K.vers=A,A>=4096&&(K.qpro=!0);break;case 6:z=A;break;case 204:A&&(P=A);break;case 222:P=A;break;case 15:case 51:K.qpro||(A[1].v=A[1].v.slice(1));case 13:case 14:case 16:H==14&&(A[2]&112)==112&&(A[2]&15)>1&&(A[2]&15)<15&&(A[1].z=K.dateNF||_t[14],K.cellDates&&(A[1].t="d",A[1].v=Rx(A[1].v))),K.qpro&&A[3]>L&&(re["!ref"]=Bt(z),oe[Y]=re,ee.push(Y),re=K.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},L=A[3],Y=P||"Sheet"+(L+1),P="");var fe=K.dense?(re[A[0].r]||[])[A[0].c]:re[vt(A[0])];if(fe){fe.t=A[1].t,fe.v=A[1].v,A[1].z!=null&&(fe.z=A[1].z),A[1].f!=null&&(fe.f=A[1].f);break}K.dense?(re[A[0].r]||(re[A[0].r]=[]),re[A[0].r][A[0].c]=A[1]):re[vt(A[0])]=A[1];break}},K);else if(O[2]==26||O[2]==14)K.Enum=G,O[2]==14&&(K.qpro=!0,O.l=0),e(O,function(A,R,H){switch(H){case 204:Y=A;break;case 22:A[1].v=A[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(A[3]>L&&(re["!ref"]=Bt(z),oe[Y]=re,ee.push(Y),re=K.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},L=A[3],Y="Sheet"+(L+1)),be>0&&A[0].r>=be)break;K.dense?(re[A[0].r]||(re[A[0].r]=[]),re[A[0].r][A[0].c]=A[1]):re[vt(A[0])]=A[1],z.e.c<A[0].c&&(z.e.c=A[0].c),z.e.r<A[0].r&&(z.e.r=A[0].r);break;case 27:A[14e3]&&(ne[A[14e3][0]]=A[14e3][1]);break;case 1537:ne[A[0]]=A[1],A[0]==L&&(Y=A[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(re["!ref"]=Bt(z),oe[P||Y]=re,ee.push(P||Y),!ne.length)return{SheetNames:ee,Sheets:oe};for(var U={},we=[],B=0;B<ne.length;++B)oe[ee[B]]?(we.push(ne[B]||ee[B]),U[ne[B]]=oe[ne[B]]||oe[ee[B]]):(we.push(ne[B]),U[ne[B]]={"!ref":"A1"});return{SheetNames:we,Sheets:U}}function n(O,W){var K=W||{};if(+K.codepage>=0&&Ba(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var re=k2(),Y=Or(O["!ref"]),P=Array.isArray(O),L=[];Ia(re,0,a(1030)),Ia(re,6,c(Y));for(var oe=Math.min(Y.e.r,8191),ee=Y.s.r;ee<=oe;++ee)for(var ne=In(ee),z=Y.s.c;z<=Y.e.c;++z){ee===Y.s.r&&(L[z]=an(z));var be=L[z]+ne,U=P?(O[ee]||[])[z]:O[be];if(!(!U||U.t=="z"))if(U.t=="n")(U.v|0)==U.v&&U.v>=-32768&&U.v<=32767?Ia(re,13,g(ee,z,U.v)):Ia(re,14,b(ee,z,U.v));else{var we=uo(U);Ia(re,15,m(ee,z,we.slice(0,239)))}}return Ia(re,1),re.end()}function s(O,W){var K=W||{};if(+K.codepage>=0&&Ba(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var re=k2();Ia(re,0,i(O));for(var Y=0,P=0;Y<O.SheetNames.length;++Y)(O.Sheets[O.SheetNames[Y]]||{})["!ref"]&&Ia(re,27,ie(O.SheetNames[Y],P++));var L=0;for(Y=0;Y<O.SheetNames.length;++Y){var oe=O.Sheets[O.SheetNames[Y]];if(!(!oe||!oe["!ref"])){for(var ee=Or(oe["!ref"]),ne=Array.isArray(oe),z=[],be=Math.min(ee.e.r,8191),U=ee.s.r;U<=be;++U)for(var we=In(U),B=ee.s.c;B<=ee.e.c;++B){U===ee.s.r&&(z[B]=an(B));var A=z[B]+we,R=ne?(oe[U]||[])[B]:oe[A];if(!(!R||R.t=="z"))if(R.t=="n")Ia(re,23,Q(U,B,L,R.v));else{var H=uo(R);Ia(re,22,j(U,B,L,H.slice(0,239)))}}++L}}return Ia(re,1),re.end()}function a(O){var W=sn(2);return W.write_shift(2,O),W}function i(O){var W=sn(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var K=0,re=0,Y=0,P=0;P<O.SheetNames.length;++P){var L=O.SheetNames[P],oe=O.Sheets[L];if(!(!oe||!oe["!ref"])){++Y;var ee=Af(oe["!ref"]);K<ee.e.r&&(K=ee.e.r),re<ee.e.c&&(re=ee.e.c)}}return K>8191&&(K=8191),W.write_shift(2,K),W.write_shift(1,Y),W.write_shift(1,re),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(O,W,K){var re={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&K.qpro?(re.s.c=O.read_shift(1),O.l++,re.s.r=O.read_shift(2),re.e.c=O.read_shift(1),O.l++,re.e.r=O.read_shift(2),re):(re.s.c=O.read_shift(2),re.s.r=O.read_shift(2),W==12&&K.qpro&&(O.l+=2),re.e.c=O.read_shift(2),re.e.r=O.read_shift(2),W==12&&K.qpro&&(O.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function c(O){var W=sn(8);return W.write_shift(2,O.s.c),W.write_shift(2,O.s.r),W.write_shift(2,O.e.c),W.write_shift(2,O.e.r),W}function f(O,W,K){var re=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(re[0].c=O.read_shift(1),re[3]=O.read_shift(1),re[0].r=O.read_shift(2),O.l+=2):(re[2]=O.read_shift(1),re[0].c=O.read_shift(2),re[0].r=O.read_shift(2)),re}function h(O,W,K){var re=O.l+W,Y=f(O,W,K);if(Y[1].t="s",K.vers==20768){O.l++;var P=O.read_shift(1);return Y[1].v=O.read_shift(P,"utf8"),Y}return K.qpro&&O.l++,Y[1].v=O.read_shift(re-O.l,"cstr"),Y}function m(O,W,K){var re=sn(7+K.length);re.write_shift(1,255),re.write_shift(2,W),re.write_shift(2,O),re.write_shift(1,39);for(var Y=0;Y<re.length;++Y){var P=K.charCodeAt(Y);re.write_shift(1,P>=128?95:P)}return re.write_shift(1,0),re}function x(O,W,K){var re=f(O,W,K);return re[1].v=O.read_shift(2,"i"),re}function g(O,W,K){var re=sn(7);return re.write_shift(1,255),re.write_shift(2,W),re.write_shift(2,O),re.write_shift(2,K,"i"),re}function y(O,W,K){var re=f(O,W,K);return re[1].v=O.read_shift(8,"f"),re}function b(O,W,K){var re=sn(13);return re.write_shift(1,255),re.write_shift(2,W),re.write_shift(2,O),re.write_shift(8,K,"f"),re}function w(O,W,K){var re=O.l+W,Y=f(O,W,K);if(Y[1].v=O.read_shift(8,"f"),K.qpro)O.l=re;else{var P=O.read_shift(2);S(O.slice(O.l,O.l+P),Y),O.l+=P}return Y}function E(O,W,K){var re=W&32768;return W&=-32769,W=(re?O:0)+(W>=8192?W-16384:W),(re?"":"$")+(K?an(W):In(W))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(O,W){Cn(O,0);for(var K=[],re=0,Y="",P="",L="",oe="";O.l<O.length;){var ee=O[O.l++];switch(ee){case 0:K.push(O.read_shift(8,"f"));break;case 1:P=E(W[0].c,O.read_shift(2),!0),Y=E(W[0].r,O.read_shift(2),!1),K.push(P+Y);break;case 2:{var ne=E(W[0].c,O.read_shift(2),!0),z=E(W[0].r,O.read_shift(2),!1);P=E(W[0].c,O.read_shift(2),!0),Y=E(W[0].r,O.read_shift(2),!1),K.push(ne+z+":"+P+Y)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(O.read_shift(2));break;case 6:{for(var be="";ee=O[O.l++];)be+=String.fromCharCode(ee);K.push('"'+be.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:oe=K.pop(),L=K.pop(),K.push(["AND","OR"][ee-20]+"("+L+","+oe+")");break;default:if(ee<32&&_[ee])oe=K.pop(),L=K.pop(),K.push(L+_[ee]+oe);else if(T[ee]){if(re=T[ee][1],re==69&&(re=O[O.l++]),re>K.length){console.error("WK1 bad formula parse 0x"+ee.toString(16)+":|"+K.join("|")+"|");return}var U=K.slice(-re);K.length-=re,K.push(T[ee][0]+"("+U.join(",")+")")}else return ee<=7?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=24?console.error("WK1 unsupported op "+ee.toString(16)):ee<=30?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=115?console.error("WK1 unsupported function opcode "+ee.toString(16)):console.error("WK1 unrecognized opcode "+ee.toString(16))}}K.length==1?W[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function C(O){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=O.read_shift(2),W[3]=O[O.l++],W[0].c=O[O.l++],W}function I(O,W){var K=C(O);return K[1].t="s",K[1].v=O.read_shift(W-4,"cstr"),K}function j(O,W,K,re){var Y=sn(6+re.length);Y.write_shift(2,O),Y.write_shift(1,K),Y.write_shift(1,W),Y.write_shift(1,39);for(var P=0;P<re.length;++P){var L=re.charCodeAt(P);Y.write_shift(1,L>=128?95:L)}return Y.write_shift(1,0),Y}function q(O,W){var K=C(O);K[1].v=O.read_shift(2);var re=K[1].v>>1;if(K[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return K[1].v=re,K}function D(O,W){var K=C(O),re=O.read_shift(4),Y=O.read_shift(4),P=O.read_shift(2);if(P==65535)return re===0&&Y===3221225472?(K[1].t="e",K[1].v=15):re===0&&Y===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var L=P&32768;return P=(P&32767)-16446,K[1].v=(1-L*2)*(Y*Math.pow(2,P+32)+re*Math.pow(2,P)),K}function Q(O,W,K,re){var Y=sn(14);if(Y.write_shift(2,O),Y.write_shift(1,K),Y.write_shift(1,W),re==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var P=0,L=0,oe=0,ee=0;return re<0&&(P=1,re=-re),L=Math.log2(re)|0,re/=Math.pow(2,L-31),ee=re>>>0,(ee&2147483648)==0&&(re/=2,++L,ee=re>>>0),re-=ee,ee|=2147483648,ee>>>=0,re*=Math.pow(2,32),oe=re>>>0,Y.write_shift(4,oe),Y.write_shift(4,ee),L+=16383+(P?32768:0),Y.write_shift(2,L),Y}function ae(O,W){var K=D(O);return O.l+=W-14,K}function F(O,W){var K=C(O),re=O.read_shift(4);return K[1].v=re>>6,K}function X(O,W){var K=C(O),re=O.read_shift(8,"f");return K[1].v=re,K}function M(O,W){var K=X(O);return O.l+=W-10,K}function se(O,W){return O[O.l+W-1]==0?O.read_shift(W,"cstr"):""}function J(O,W){var K=O[O.l++];K>W-1&&(K=W-1);for(var re="";re.length<K;)re+=String.fromCharCode(O[O.l++]);return re}function Z(O,W,K){if(!(!K.qpro||W<21)){var re=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var Y=O.read_shift(W-21,"cstr");return[re,Y]}}function ge(O,W){for(var K={},re=O.l+W;O.l<re;){var Y=O.read_shift(2);if(Y==14e3){for(K[Y]=[0,""],K[Y][0]=O.read_shift(2);O[O.l];)K[Y][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return K}function ie(O,W){var K=sn(5+O.length);K.write_shift(2,14e3),K.write_shift(2,W);for(var re=0;re<O.length;++re){var Y=O.charCodeAt(re);K[K.l++]=Y>127?95:Y}return K[K.l++]=0,K}var Ee={0:{n:"BOF",f:Jr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:se},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},G={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:q},25:{n:"FORMULA19",f:ae},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ge},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:X},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}})();function FZ(e){var t={},r=e.match(Xn),n=0,s=!1;if(r)for(;n!=r.length;++n){var a=mt(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=i_[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+a[0])}}return t}var PZ=(function(){var e=Ch("t"),t=Ch("rPr");function r(a){var i=a.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:Ut(i[1])},c=a.match(t);return c&&(o.s=FZ(c[1])),o}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(s).map(r).filter(function(o){return o.v})}})(),LZ=(function(){var t=/(\r\n|\n)/g;function r(s,a,i){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),s.b&&(a.push("<b>"),i.push("</b>")),s.i&&(a.push("<i>"),i.push("</i>")),s.strike&&(a.push("<s>"),i.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),s}function n(s){var a=[[],s.v,[]];return s.v?(s.s&&r(s.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),BZ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,UZ=/<(?:\w+:)?r>/,zZ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function __(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ut(fr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=fr(e),r&&(n.h=h_(n.t))):e.match(UZ)&&(n.r=fr(e),n.t=Ut(fr((e.replace(zZ,"").match(BZ)||[]).join("").replace(Xn,""))),r&&(n.h=LZ(PZ(n.r)))),n):{t:""}}var HZ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,qZ=/<(?:\w+:)?(?:si|sstItem)>/g,VZ=/<\/(?:\w+:)?(?:si|sstItem)>/;function $Z(e,t){var r=[],n="";if(!e)return r;var s=e.match(HZ);if(s){n=s[2].replace(qZ,"").split(VZ);for(var a=0;a!=n.length;++a){var i=__(n[a].trim(),t);i!=null&&(r[r.length]=i)}s=mt(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}function WZ(e){return[e.read_shift(4),e.read_shift(4)]}function GZ(e,t){var r=[],n=!1;return ho(e,function(a,i,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function lI(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function no(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function KZ(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=no(e,4),t.U=no(e,4),t.W=no(e,4),t}function XZ(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},s=e.read_shift(4),a=[];s-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function YZ(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(XZ(e));return t}function JZ(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function ZZ(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=no(e,4),t.U=no(e,4),t.W=no(e,4),t}function QZ(e){var t=ZZ(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function cI(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function uI(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function eQ(e){var t=no(e);switch(t.Minor){case 2:return[t.Minor,tQ(e)];case 3:return[t.Minor,rQ()];case 4:return[t.Minor,nQ(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function tQ(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=cI(e,r),s=uI(e,e.length-e.l);return{t:"Std",h:n,v:s}}function rQ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function nQ(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Xn,function(a){var i=mt(a);switch(vi(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function sQ(e,t){var r={},n=r.EncryptionVersionInfo=no(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var s=e.read_shift(4);return t-=4,r.EncryptionHeader=cI(e,s),t-=s,r.EncryptionVerifier=uI(e,t),r}function aQ(e){var t={},r=t.EncryptionVersionInfo=no(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function iQ(e){var t=0,r,n=lI(e),s=n.length+1,a,i,o,c,f;for(r=bl(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)i=r[a],o=(t&16384)===0?0:1,c=t<<1&32767,f=o|c,t=f^i;return t^52811}var fI=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},s=function(i,o){return n(i^o)},a=function(i){for(var o=t[i.length-1],c=104,f=i.length-1;f>=0;--f)for(var h=i[f],m=0;m!=7;++m)h&64&&(o^=r[c]),h*=2,--c;return o};return function(i){for(var o=lI(i),c=a(o),f=o.length,h=bl(16),m=0;m!=16;++m)h[m]=0;var x,g,y;for((f&1)===1&&(x=c>>8,h[f]=s(e[0],x),--f,x=c&255,g=o[o.length-1],h[f]=s(g,x));f>0;)--f,x=c>>8,h[f]=s(o[f],x),--f,x=c&255,h[f]=s(o[f],x);for(f=15,y=15-o.length;y>0;)x=c>>8,h[f]=s(e[y],x),--f,--y,x=c&255,h[f]=s(o[f],x),--f,--y;return h}})(),oQ=function(e,t,r,n,s){s||(s=t),n||(n=fI(e));var a,i;for(a=0;a!=t.length;++a)i=t[a],i^=n[r],i=(i>>5|i<<3)&255,s[a]=i,++r;return[s,r,n]},lQ=function(e){var t=0,r=fI(e);return function(n){var s=oQ("",n,t,r);return t=s[1],s[0]}};function cQ(e,t,r,n){var s={key:Jr(e),verificationBytes:Jr(e)};return r.password&&(s.verifier=iQ(r.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=lQ(r.password)),s}function uQ(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=aQ(e):n.Data=sQ(e,t),n}function fQ(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?uQ(e,t-2,n):cQ(e,r.biff>=8?t:t-2,r,n),n}var dQ=(function(){function e(s,a){switch(a.type){case"base64":return t(Ws(s),a);case"binary":return t(s,a);case"buffer":return t(Pt&&Buffer.isBuffer(s)?s.toString("binary"):Ic(s),a);case"array":return t(Tc(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){var i=a||{},o=i.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,m){Array.isArray(o)&&(o[m]=[]);for(var x=/\\\w+\b/g,g=0,y,b=-1;y=x.exec(h);){switch(y[0]){case"\\cell":var w=h.slice(g,x.lastIndex-y[0].length);if(w[0]==" "&&(w=w.slice(1)),++b,w.length){var E={v:w,t:"s"};Array.isArray(o)?o[m][b]=E:o[vt({r:m,c:b})]=E}break}g=x.lastIndex}b>f.e.c&&(f.e.c=b)}),o["!ref"]=Bt(f),o}function r(s,a){return Sl(e(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],i=Or(s["!ref"]),o,c=Array.isArray(s),f=i.s.r;f<=i.e.r;++f){a.push("\\trowd\\trautofit1");for(var h=i.s.c;h<=i.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=i.s.c;h<=i.e.c;++h){var m=vt({r:f,c:h});o=c?(s[f]||[])[h]:s[m],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(uo(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function hQ(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Oh(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function pQ(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.max(t,r,n),a=Math.min(t,r,n),i=s-a;if(i===0)return[0,0,t];var o=0,c=0,f=s+a;switch(c=i/(f>1?2-f:f),s){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,c,f/2]}function mQ(e){var t=e[0],r=e[1],n=e[2],s=r*2*(n<.5?n:1-n),a=n-s/2,i=[a,a,a],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=s*o,i[0]+=s,i[1]+=c;break;case 1:c=s*(2-o),i[0]+=c,i[1]+=s;break;case 2:c=s*(o-2),i[1]+=s,i[2]+=c;break;case 3:c=s*(4-o),i[1]+=c,i[2]+=s;break;case 4:c=s*(o-4),i[2]+=s,i[0]+=c;break;case 5:c=s*(6-o),i[2]+=c,i[0]+=s;break}for(var f=0;f!=3;++f)i[f]=Math.round(i[f]*255);return i}function dg(e,t){if(t===0)return e;var r=pQ(hQ(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Oh(mQ(r))}var dI=6,gQ=15,xQ=1,rs=dI;function hg(e){return Math.floor((e+Math.round(128/rs)/256)*rs)}function pg(e){return Math.floor((e-5)/rs*100+.5)/100}function D2(e){return Math.round((e*rs+5)/rs*256)/256}function Iv(e){return D2(pg(hg(e)))}function S_(e){var t=Math.abs(e-Iv(e)),r=rs;if(t>.005)for(rs=xQ;rs<gQ;++rs)Math.abs(e-Iv(e))<=t&&(t=Math.abs(e-Iv(e)),r=rs);rs=r}function Yu(e){e.width?(e.wpx=hg(e.width),e.wch=pg(e.wpx),e.MDW=rs):e.wpx?(e.wch=pg(e.wpx),e.width=D2(e.wch),e.MDW=rs):typeof e.wch=="number"&&(e.width=D2(e.wch),e.wpx=hg(e.width),e.MDW=rs),e.customWidth&&delete e.customWidth}var yQ=96,hI=yQ;function pI(e){return e*96/hI}function jh(e){return e*hI/96}var vQ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function bQ(e,t,r,n){t.Borders=[];var s={},a=!1;(e[0].match(Xn)||[]).forEach(function(i){var o=mt(i);switch(vi(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=yr(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=yr(o.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function wQ(e,t,r,n){t.Fills=[];var s={},a=!1;(e[0].match(Xn)||[]).forEach(function(i){var o=mt(i);switch(vi(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function EQ(e,t,r,n){t.Fonts=[];var s={},a=!1;(e[0].match(Xn)||[]).forEach(function(i){var o=mt(i);switch(vi(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=fr(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?yr(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?yr(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?yr(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?yr(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?yr(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?yr(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?yr(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=i_[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=yr(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var c=dc[s.color.index];s.color.index==81&&(c=dc[1]),c||(c=dc[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=dg(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function _Q(e,t,r){t.NumberFmt=[];for(var n=gi(_t),s=0;s<n.length;++s)t.NumberFmt[n[s]]=_t[n[s]];var a=e[0].match(Xn);if(a)for(s=0;s<a.length;++s){var i=mt(a[s]);switch(vi(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ut(fr(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}fc(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var tm=["numFmtId","fillId","fontId","borderId","xfId"],rm=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function SQ(e,t,r){t.CellXf=[];var n,s=!1;(e[0].match(Xn)||[]).forEach(function(a){var i=mt(a),o=0;switch(vi(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<tm.length;++o)n[tm[o]]&&(n[tm[o]]=parseInt(n[tm[o]],10));for(o=0;o<rm.length;++o)n[rm[o]]&&(n[rm[o]]=yr(n[rm[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=yr(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var TQ=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,f){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&_Q(m,h,f),(m=o.match(s))&&EQ(m,h,c,f),(m=o.match(n))&&wQ(m,h,c,f),(m=o.match(a))&&bQ(m,h,c,f),(m=o.match(r))&&SQ(m,h,f),h}})();function NQ(e,t){var r=e.read_shift(2),n=$n(e);return[r,n]}function AQ(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=PY(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=FY(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=$n(e),n}var CQ=Gn;function kQ(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}var RQ=Gn;function OQ(e,t,r){var n={};n.NumberFmt=[];for(var s in _t)n.NumberFmt[s]=_t[s];n.CellXf=[],n.Fonts=[];var a=[],i=!1;return ho(e,function(c,f,h){switch(h){case 44:n.NumberFmt[c[0]]=c[1],fc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=dg(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:a.push(h),i=!0;break;case 38:a.pop(),i=!1;break;default:if(f.T>0)a.push(h);else if(f.T<0)a.pop();else if(!i||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}var jQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function DQ(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Xn)||[]).forEach(function(s){var a=mt(s);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[jQ.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function IQ(){}function MQ(){}var FQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,PQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,LQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function BQ(e,t,r){t.themeElements={};var n;[["clrScheme",FQ,DQ],["fontScheme",PQ,IQ],["fmtScheme",LQ,MQ]].forEach(function(s){if(!(n=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,t,r)})}var UQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function mI(e,t){(!e||e.length===0)&&(e=zQ());var r,n={};if(!(r=e.match(UQ)))throw new Error("themeElements not found in theme");return BQ(r[0],n,t),n.raw=e,n}function zQ(e,t){var r=[ND];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function HQ(e,t,r){var n=e.l+t,s=e.read_shift(4);if(s!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var i;try{i=TD(a,{type:"array"})}catch{return}var o=Us(i,"theme/theme/theme1.xml",!0);if(o)return mI(o,r)}}function qQ(e){return e.read_shift(4)}function VQ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=$Q(e,4);break;case 2:t.xclrValue=tI(e);break;case 3:t.xclrValue=qQ(e);break;case 4:e.l+=4;break}return e.l+=8,t}function $Q(e,t){return Gn(e,t)}function WQ(e,t){return Gn(e,t)}function GQ(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=VQ(e);break;case 6:n[1]=WQ(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function KQ(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),a=[];s-- >0;)a.push(GQ(e,r-e.l));return{ixfe:n,ext:a}}function XQ(e,t){t.forEach(function(r){r[0]})}function YQ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:$n(e)}}function JQ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function ZQ(e){return e.l+=4,e.read_shift(4)!=0}function QQ(e,t,r){var n={Types:[],Cell:[],Value:[]},s=r||{},a=[],i=!1,o=2;return ho(e,function(c,f,h){switch(h){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(m){o==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):o==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:a.push(h),i=!0;break;case 36:a.pop(),i=!1;break;default:if(!f.T){if(!i||s.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function eee(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var s=!1,a=2,i;return e.replace(Xn,function(o){var c=mt(o);switch(vi(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==c.name&&(i=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):a==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function tee(e){var t=[];if(!e)return t;var r=1;return(e.match(Xn)||[]).forEach(function(n){var s=mt(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,t.push(s);break}}),t}function ree(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=vt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function nee(e,t,r){var n=[];return ho(e,function(a,i,o){switch(o){case 63:n.push(a);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function see(e,t,r,n){if(!e)return e;var s=n||{},a=!1;ho(e,function(o,c,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!c.T){if(!a||s.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},s)}function aee(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function r3(e,t,r,n){var s=Array.isArray(e),a;t.forEach(function(i){var o=ns(i.ref);if(s?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[i.ref],!a){a={t:"z"},s?e[o.r][o.c]=a:e[i.ref]=a;var c=Or(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var f=Bt(c);f!==e["!ref"]&&(e["!ref"]=f)}a.c||(a.c=[]);var h={a:i.author,t:i.t,r:i.r,T:r};i.h&&(h.h=i.h);for(var m=a.c.length-1;m>=0;--m){if(!r&&a.c[m].T)return;r&&!a.c[m].T&&a.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(h.a==n[m].id){h.a=n[m].name||h.a;break}}a.c.push(h)})}function iee(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=mt(o[0]),f={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=ns(c.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!m&&!!m[1]&&__(m[1])||{r:"",t:"",h:""};f.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),f.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=x.h),n.push(f)}}}}),n}function oee(e,t){var r=[],n=!1,s={},a=0;return e.replace(Xn,function(o,c){var f=mt(o);switch(vi(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":a=c+o.length;break;case"</text>":s.t=e.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),r}function lee(e,t){var r=[],n=!1;return e.replace(Xn,function(a){var i=mt(a);switch(vi(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return a}),r}function cee(e){var t={};t.iauthor=e.read_shift(4);var r=Fc(e);return t.rfx=r.s,t.ref=vt(r.s),e.l+=16,t}var uee=$n;function fee(e,t){var r=[],n=[],s={},a=!1;return ho(e,function(o,c,f){switch(f){case 632:n.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}var dee="application/vnd.ms-office.vbaProject";function hee(e){var t=Lt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Lt.utils.cfb_add(t,s,e.FileIndex[n].content)}}),Lt.write(t)}function pee(){return{"!type":"dialog"}}function mee(){return{"!type":"dialog"}}function gee(){return{"!type":"macro"}}function xee(){return{"!type":"macro"}}var Pu=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,a,i){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,h=i.length>0?parseInt(i,10)|0:0;return o?h+=t.c:--h,c?f+=t.r:--f,s+(o?"":"$")+an(h)+(c?"":"$")+In(f)}return function(s,a){return t=a,s.replace(e,r)}})(),gI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,yee=(function(){return function(t,r){return t.replace(gI,function(n,s,a,i,o,c){var f=x_(i)-(a?0:r.c),h=g_(c)-(o?0:r.r),m=h==0?"":o?h+1:"["+h+"]",x=f==0?"":a?f+1:"["+f+"]";return s+"R"+m+"C"+x})}})();function xI(e,t){return e.replace(gI,function(r,n,s,a,i,o){return n+(s=="$"?s+a:an(x_(a)+t.c))+(i=="$"?i+o:In(g_(o)+t.r))})}function vee(e,t,r){var n=Af(t),s=n.s,a=ns(r),i={r:a.r-s.r,c:a.c-s.c};return xI(e,i)}function bee(e){return e.length!=1}function n3(e){return e.replace(/_xlfn\./g,"")}function Gr(e){e.l+=1}function wl(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function yI(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return vI(e);r.biff==12&&(n=4)}var s=e.read_shift(n),a=e.read_shift(n),i=wl(e),o=wl(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function vI(e){var t=wl(e),r=wl(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function wee(e,t,r){if(r.biff<8)return vI(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),a=wl(e),i=wl(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}function bI(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Eee(e);var n=e.read_shift(r&&r.biff==12?4:2),s=wl(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Eee(e){var t=wl(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function _ee(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function See(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Tee(e);var s=e.read_shift(n>=12?4:2),a=e.read_shift(2),i=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;s>524287;)s-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:i,rRel:o}}function Tee(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function Nee(e,t,r){var n=(e[e.l++]&96)>>5,s=yI(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Aee(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var i=yI(e,a,r);return[n,s,i]}function Cee(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function kee(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,s]}function Ree(e,t,r){var n=(e[e.l++]&96)>>5,s=wee(e,t-1,r);return[n,s]}function Oee(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function s3(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function jee(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Dee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Iee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Mee(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Fee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function wI(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Pee(e){return e.read_shift(2),wI(e)}function Lee(e){return e.read_shift(2),wI(e)}function Bee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=bI(e,0,r);return[n,s]}function Uee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=See(e,0,r);return[n,s]}function zee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=bI(e,0,r);return[n,s,a]}function Hee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[qte[s],SI[s],n]}function qee(e,t,r){var n=e[e.l++],s=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Vee(e);return[s,(a[0]===0?SI:Hte)[a[1]]]}function Vee(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function $ee(e,t,r){e.l+=r&&r.biff==2?3:4}function Wee(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Gee(e){return e.l++,Pc[e.read_shift(1)]}function Kee(e){return e.l++,e.read_shift(2)}function Xee(e){return e.l++,e.read_shift(1)!==0}function Yee(e){return e.l++,Hn(e)}function Jee(e,t,r){return e.l++,h0(e,t-1,r)}function Zee(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ir(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Pc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Hn(e);break;case 2:r[1]=Lc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Qee(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?Fc:Ox)(e));return s}function ete(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,i=[];a!=n&&(i[a]=[]);++a)for(var o=0;o!=s;++o)i[a][o]=Zee(e,r.biff);return i}function tte(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function rte(e,t,r){if(r.biff==5)return nte(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),a=e.read_shift(4);return[n,s,a]}function nte(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function ste(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function ate(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function ite(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function ote(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,s]}var lte=Gn,cte=Gn,ute=Gn;function m0(e,t,r){return e.l+=2,[_ee(e)]}function T_(e){return e.l+=6,[]}var fte=m0,dte=T_,hte=T_,pte=m0;function EI(e){return e.l+=2,[Jr(e),e.read_shift(2)&1]}var mte=m0,gte=EI,xte=T_,yte=m0,vte=m0,bte=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wte(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),a=e.read_shift(2),i=bte[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:s,C:a}}function Ete(e){return e.l+=2,[e.read_shift(4)]}function _te(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Ste(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Tte(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Nte(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Ate(e){return e.l+=4,[0,0]}var a3={1:{n:"PtgExp",f:Wee},2:{n:"PtgTbl",f:ute},3:{n:"PtgAdd",f:Gr},4:{n:"PtgSub",f:Gr},5:{n:"PtgMul",f:Gr},6:{n:"PtgDiv",f:Gr},7:{n:"PtgPower",f:Gr},8:{n:"PtgConcat",f:Gr},9:{n:"PtgLt",f:Gr},10:{n:"PtgLe",f:Gr},11:{n:"PtgEq",f:Gr},12:{n:"PtgGe",f:Gr},13:{n:"PtgGt",f:Gr},14:{n:"PtgNe",f:Gr},15:{n:"PtgIsect",f:Gr},16:{n:"PtgUnion",f:Gr},17:{n:"PtgRange",f:Gr},18:{n:"PtgUplus",f:Gr},19:{n:"PtgUminus",f:Gr},20:{n:"PtgPercent",f:Gr},21:{n:"PtgParen",f:Gr},22:{n:"PtgMissArg",f:Gr},23:{n:"PtgStr",f:Jee},26:{n:"PtgSheet",f:_te},27:{n:"PtgEndSheet",f:Ste},28:{n:"PtgErr",f:Gee},29:{n:"PtgBool",f:Xee},30:{n:"PtgInt",f:Kee},31:{n:"PtgNum",f:Yee},32:{n:"PtgArray",f:Oee},33:{n:"PtgFunc",f:Hee},34:{n:"PtgFuncVar",f:qee},35:{n:"PtgName",f:tte},36:{n:"PtgRef",f:Bee},37:{n:"PtgArea",f:Nee},38:{n:"PtgMemArea",f:ste},39:{n:"PtgMemErr",f:lte},40:{n:"PtgMemNoMem",f:cte},41:{n:"PtgMemFunc",f:ate},42:{n:"PtgRefErr",f:ite},43:{n:"PtgAreaErr",f:Cee},44:{n:"PtgRefN",f:Uee},45:{n:"PtgAreaN",f:Ree},46:{n:"PtgMemAreaN",f:Tte},47:{n:"PtgMemNoMemN",f:Nte},57:{n:"PtgNameX",f:rte},58:{n:"PtgRef3d",f:zee},59:{n:"PtgArea3d",f:Aee},60:{n:"PtgRefErr3d",f:ote},61:{n:"PtgAreaErr3d",f:kee},255:{}},Cte={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},kte={1:{n:"PtgElfLel",f:EI},2:{n:"PtgElfRw",f:yte},3:{n:"PtgElfCol",f:fte},6:{n:"PtgElfRwV",f:vte},7:{n:"PtgElfColV",f:pte},10:{n:"PtgElfRadical",f:mte},11:{n:"PtgElfRadicalS",f:xte},13:{n:"PtgElfColS",f:dte},15:{n:"PtgElfColSV",f:hte},16:{n:"PtgElfRadicalLel",f:gte},25:{n:"PtgList",f:wte},29:{n:"PtgSxName",f:Ete},255:{}},Rte={0:{n:"PtgAttrNoop",f:Ate},1:{n:"PtgAttrSemi",f:Fee},2:{n:"PtgAttrIf",f:Iee},4:{n:"PtgAttrChoose",f:jee},8:{n:"PtgAttrGoto",f:Dee},16:{n:"PtgAttrSum",f:$ee},32:{n:"PtgAttrBaxcel",f:s3},33:{n:"PtgAttrBaxcel",f:s3},64:{n:"PtgAttrSpace",f:Pee},65:{n:"PtgAttrSpaceSemi",f:Lee},128:{n:"PtgAttrIfError",f:Mee},255:{}};function g0(e,t,r,n){if(n.biff<8)return Gn(e,t);for(var s=e.l+t,a=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=ete(e,0,n),a.push(r[i][1]);break;case"PtgMemArea":r[i][2]=Qee(e,r[i][1],n),a.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),a.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=s-e.l,t!==0&&a.push(Gn(e,t)),a}function x0(e,t,r){for(var n=e.l+t,s,a,i=[];n!=e.l;)t=n-e.l,a=e[e.l],s=a3[a]||a3[Cte[a]],(a===24||a===25)&&(s=(a===24?kte:Rte)[e[e.l+1]]),!s||!s.f?Gn(e,t):i.push([s.n,s.f(e,t,r)]);return i}function Ote(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],a=0;a<n.length;++a){var i=n[a];if(i)switch(i[0]){case 2:s.push('"'+i[1].replace(/"/g,'""')+'"');break;default:s.push(i[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var jte={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Dte(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function _I(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function i3(e,t,r){var n=_I(e,t,r);return n=="#REF"?n:Dte(n,r)}function Un(e,t,r,n,s){var a=s&&s.biff||8,i={s:{c:0,r:0}},o=[],c,f,h,m=0,x=0,g,y="";if(!e[0]||!e[0][0])return"";for(var b=-1,w="",E=0,T=e[0].length;E<T;++E){var _=e[0][E];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),f=o.pop(),b>=0){switch(e[0][b][1][0]){case 0:w=Cr(" ",e[0][b][1][1]);break;case 1:w=Cr("\r",e[0][b][1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}f=f+w,b=-1}o.push(f+jte[_[0]]+c);break;case"PtgIsect":c=o.pop(),f=o.pop(),o.push(f+" "+c);break;case"PtgUnion":c=o.pop(),f=o.pop(),o.push(f+","+c);break;case"PtgRange":c=o.pop(),f=o.pop(),o.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=eh(_[1][1],i,s),o.push(th(h,a));break;case"PtgRefN":h=r?eh(_[1][1],r,s):_[1][1],o.push(th(h,a));break;case"PtgRef3d":m=_[1][1],h=eh(_[1][2],i,s),y=i3(n,m,s),o.push(y+"!"+th(h,a));break;case"PtgFunc":case"PtgFuncVar":var S=_[1][0],C=_[1][1];S||(S=0),S&=127;var I=S==0?[]:o.slice(-S);o.length-=S,C==="User"&&(C=I.shift()),o.push(C+"("+I.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":g=U4(_[1][1],r?{s:r}:i,s),o.push(jv(g,s));break;case"PtgArea":g=U4(_[1][1],i,s),o.push(jv(g,s));break;case"PtgArea3d":m=_[1][1],g=_[1][2],y=i3(n,m,s),o.push(y+"!"+jv(g,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=_[1][2];var j=(n.names||[])[x-1]||(n[0]||[])[x],q=j?j.Name:"SH33TJSNAME"+String(x);q&&q.slice(0,6)=="_xlfn."&&!s.xlfn&&(q=q.slice(6)),o.push(q);break;case"PtgNameX":var D=_[1][1];x=_[1][2];var Q;if(s.biff<=5)D<0&&(D=-D),n[D]&&(Q=n[D][x]);else{var ae="";if(((n[D]||[])[0]||[])[0]==14849||(((n[D]||[])[0]||[])[0]==1025?n[D][x]&&n[D][x].itab>0&&(ae=n.SheetNames[n[D][x].itab-1]+"!"):ae=n.SheetNames[x-1]+"!"),n[D]&&n[D][x])ae+=n[D][x].Name;else if(n[0]&&n[0][x])ae+=n[0][x].Name;else{var F=(_I(n,D,s)||"").split(";;");F[x-1]?ae=F[x-1]:ae+="SH33TJSERRX"}o.push(ae);break}Q||(Q={Name:"SH33TJSERRY"}),o.push(Q.Name);break;case"PtgParen":var X="(",M=")";if(b>=0){switch(w="",e[0][b][1][0]){case 2:X=Cr(" ",e[0][b][1][1])+X;break;case 3:X=Cr("\r",e[0][b][1][1])+X;break;case 4:M=Cr(" ",e[0][b][1][1])+M;break;case 5:M=Cr("\r",e[0][b][1][1])+M;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}o.push(X+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:_[1][1],r:_[1][0]};var se={c:r.c,r:r.r};if(n.sharedf[vt(h)]){var J=n.sharedf[vt(h)];o.push(Un(J,i,se,n,s))}else{var Z=!1;for(c=0;c!=n.arrayf.length;++c)if(f=n.arrayf[c],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){o.push(Un(f[1],i,se,n,s)),Z=!0;break}Z||o.push(_[1])}break;case"PtgArray":o.push("{"+Ote(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var ge=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&b>=0&&ge.indexOf(e[0][E][0])==-1){_=e[0][b];var ie=!0;switch(_[1][0]){case 4:ie=!1;case 0:w=Cr(" ",_[1][1]);break;case 5:ie=!1;case 1:w=Cr("\r",_[1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((ie?w:"")+o.pop()+(ie?"":w)),b=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function Ite(e,t,r){var n=e.l+t,s=r.biff==2?1:2,a,i=e.read_shift(s);if(i==65535)return[[],Gn(e,t-2)];var o=x0(e,i,r);return t!==i+s&&(a=g0(e,t-i-s,o,r)),e.l=n,[o,a]}function Mte(e,t,r){var n=e.l+t,s=r.biff==2?1:2,a,i=e.read_shift(s);if(i==65535)return[[],Gn(e,t-2)];var o=x0(e,i,r);return t!==i+s&&(a=g0(e,t-i-s,o,r)),e.l=n,[o,a]}function Fte(e,t,r,n){var s=e.l+t,a=x0(e,n,r),i;return s!==e.l&&(i=g0(e,s-e.l,a,r)),[a,i]}function Pte(e,t,r){var n=e.l+t,s,a=e.read_shift(2),i=x0(e,a,r);return a==65535?[[],Gn(e,t-2)]:(t!==a+2&&(s=g0(e,n-a-2,i,r)),[i,s])}function Lte(e){var t;if(Ji(e,e.l+6)!==65535)return[Hn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Mv(e,t,r){var n=e.l+t,s=bi(e);r.biff==2&&++e.l;var a=Lte(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Mte(e,n-e.l,r);return{cell:s,val:a[0],formula:o,shared:i>>3&1,tt:a[1]}}function jx(e,t,r){var n=e.read_shift(4),s=x0(e,n,r),a=e.read_shift(4),i=a>0?g0(e,a,s,r):null;return[s,i]}var Bte=jx,Dx=jx,Ute=jx,zte=jx,Hte={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},SI={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},qte={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function o3(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Fv(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var ah={},Lu={};function ih(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function TI(e,t,r,n,s,a){try{n.cellNF&&(e.z=_t[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=vn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(_t[t]==null&&fc(VX[t]||"General",t),e.t==="e")e.w=e.w||Pc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ah(e.v);else if(e.t==="d"){var i=ls(e.v);(i|0)===i?e.w=i.toString(10):e.w=Ah(i)}else{if(e.v===void 0)return"";e.w=Sc(e.v,Lu)}else e.t==="d"?e.w=_a(t,ls(e.v),Lu):e.w=_a(t,e.v,Lu)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=dg(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=dg(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function Vte(e,t){var r=Or(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Bt(r))}var $te=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Wte=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Gte=/<(?:\w:)?hyperlink [^>]*>/mg,Kte=/"(\w*:\w*)"/,Xte=/<(?:\w:)?col\b[^>]*[\/]?>/g,Yte=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Jte=/<(?:\w:)?pageMargins[^>]*\/>/g,NI=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Zte=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Qte=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function ere(e,t,r,n,s,a,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",m=e.match(Wte);m?(f=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):f=h=e;var x=f.match(NI);x?N_(x[0],o,s,r):(x=f.match(Zte))&&tre(x[0],x[1]||"",o,s,r);var g=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var y=f.slice(g,g+50).match(Kte);y&&Vte(o,y[1])}var b=f.match(Qte);b&&b[1]&&ore(b[1],s);var w=[];if(t.cellStyles){var E=f.match(Xte);E&&sre(w,E)}m&&lre(m[1],o,t,c,a,i);var T=h.match(Yte);T&&(o["!autofilter"]=are(T[0]));var _=[],S=h.match($te);if(S)for(g=0;g!=S.length;++g)_[g]=Or(S[g].slice(S[g].indexOf('"')+1));var C=h.match(Gte);C&&rre(o,C,n);var I=h.match(Jte);if(I&&(o["!margins"]=nre(mt(I[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Bt(c)),t.sheetRows>0&&o["!ref"]){var j=Or(o["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Bt(j))}return w.length>0&&(o["!cols"]=w),_.length>0&&(o["!merges"]=_),o}function N_(e,t,r,n){var s=mt(e);r.Sheets[n]||(r.Sheets[n]={}),s.codeName&&(r.Sheets[n].CodeName=Ut(fr(s.codeName)))}function tre(e,t,r,n,s){N_(e.slice(0,e.indexOf(">")),r,n,s)}function rre(e,t,r){for(var n=Array.isArray(e),s=0;s!=t.length;++s){var a=mt(fr(t[s]),!0);if(!a.ref)return;var i=((r||{})["!id"]||[])[a.id];i?(a.Target=i.Target,a.location&&(a.Target+="#"+Ut(a.location))):(a.Target="#"+Ut(a.location),i={Target:a.Target,TargetMode:"Internal"}),a.Rel=i,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Or(a.ref),c=o.s.r;c<=o.e.r;++c)for(var f=o.s.c;f<=o.e.c;++f){var h=vt({c:f,r:c});n?(e[c]||(e[c]=[]),e[c][f]||(e[c][f]={t:"z",v:void 0}),e[c][f].l=a):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=a)}}}function nre(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function sre(e,t){for(var r=!1,n=0;n!=t.length;++n){var s=mt(t[n],!0);s.hidden&&(s.hidden=yr(s.hidden));var a=parseInt(s.min,10)-1,i=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,S_(s.width)),Yu(s);a<=i;)e[a++]=Dn(s)}}function are(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var ire=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ore(e,t){t.Views||(t.Views=[{}]),(e.match(ire)||[]).forEach(function(r,n){var s=mt(r);t.Views[n]||(t.Views[n]={}),+s.zoomScale&&(t.Views[n].zoom=+s.zoomScale),yr(s.rightToLeft)&&(t.Views[n].RTL=!0)})}var lre=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,a=Ch("v"),i=Ch("f");return function(c,f,h,m,x,g){for(var y=0,b="",w=[],E=[],T=0,_=0,S=0,C="",I,j,q=0,D=0,Q,ae,F=0,X=0,M=Array.isArray(g.CellXf),se,J=[],Z=[],ge=Array.isArray(f),ie=[],Ee={},G=!1,O=!!h.sheetStubs,W=c.split(t),K=0,re=W.length;K!=re;++K){b=W[K].trim();var Y=b.length;if(Y!==0){var P=0;e:for(y=0;y<Y;++y)switch(b[y]){case">":if(b[y-1]!="/"){++y;break e}if(h&&h.cellStyles){if(j=mt(b.slice(P,y),!0),q=j.r!=null?parseInt(j.r,10):q+1,D=-1,h.sheetRows&&h.sheetRows<q)continue;Ee={},G=!1,j.ht&&(G=!0,Ee.hpt=parseFloat(j.ht),Ee.hpx=jh(Ee.hpt)),j.hidden=="1"&&(G=!0,Ee.hidden=!0),j.outlineLevel!=null&&(G=!0,Ee.level=+j.outlineLevel),G&&(ie[q-1]=Ee)}break;case"<":P=y;break}if(P>=y)break;if(j=mt(b.slice(P,y),!0),q=j.r!=null?parseInt(j.r,10):q+1,D=-1,!(h.sheetRows&&h.sheetRows<q)){m.s.r>q-1&&(m.s.r=q-1),m.e.r<q-1&&(m.e.r=q-1),h&&h.cellStyles&&(Ee={},G=!1,j.ht&&(G=!0,Ee.hpt=parseFloat(j.ht),Ee.hpx=jh(Ee.hpt)),j.hidden=="1"&&(G=!0,Ee.hidden=!0),j.outlineLevel!=null&&(G=!0,Ee.level=+j.outlineLevel),G&&(ie[q-1]=Ee)),w=b.slice(y).split(e);for(var L=0;L!=w.length&&w[L].trim().charAt(0)=="<";++L);for(w=w.slice(L),y=0;y!=w.length;++y)if(b=w[y].trim(),b.length!==0){if(E=b.match(r),T=y,_=0,S=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,E!=null&&E.length===2){for(T=0,C=E[1],_=0;_!=C.length&&!((S=C.charCodeAt(_)-64)<1||S>26);++_)T=26*T+S;--T,D=T}else++D;for(_=0;_!=b.length&&b.charCodeAt(_)!==62;++_);if(++_,j=mt(b.slice(0,_),!0),j.r||(j.r=vt({r:q-1,c:D})),C=b.slice(_),I={t:""},(E=C.match(a))!=null&&E[1]!==""&&(I.v=Ut(E[1])),h.cellFormula){if((E=C.match(i))!=null&&E[1]!==""){if(I.f=Ut(fr(E[1])).replace(/\r\n/g,`
`),h.xlfn||(I.f=n3(I.f)),E[0].indexOf('t="array"')>-1)I.F=(C.match(s)||[])[1],I.F.indexOf(":")>-1&&J.push([Or(I.F),I.F]);else if(E[0].indexOf('t="shared"')>-1){ae=mt(E[0]);var oe=Ut(fr(E[1]));h.xlfn||(oe=n3(oe)),Z[parseInt(ae.si,10)]=[ae,oe,j.r]}}else(E=C.match(/<f[^>]*\/>/))&&(ae=mt(E[0]),Z[ae.si]&&(I.f=vee(Z[ae.si][1],Z[ae.si][2],j.r)));var ee=ns(j.r);for(_=0;_<J.length;++_)ee.r>=J[_][0].s.r&&ee.r<=J[_][0].e.r&&ee.c>=J[_][0].s.c&&ee.c<=J[_][0].e.c&&(I.F=J[_][1])}if(j.t==null&&I.v===void 0)if(I.f||I.F)I.v=0,I.t="n";else if(O)I.t="z";else continue;else I.t=j.t||"n";switch(m.s.c>D&&(m.s.c=D),m.e.c<D&&(m.e.c=D),I.t){case"n":if(I.v==""||I.v==null){if(!O)continue;I.t="z"}else I.v=parseFloat(I.v);break;case"s":if(typeof I.v>"u"){if(!O)continue;I.t="z"}else Q=ah[parseInt(I.v,10)],I.v=Q.t,I.r=Q.r,h.cellHTML&&(I.h=Q.h);break;case"str":I.t="s",I.v=I.v!=null?fr(I.v):"",h.cellHTML&&(I.h=h_(I.v));break;case"inlineStr":E=C.match(n),I.t="s",E!=null&&(Q=__(E[1]))?(I.v=Q.t,h.cellHTML&&(I.h=Q.h)):I.v="";break;case"b":I.v=yr(I.v);break;case"d":h.cellDates?I.v=vn(I.v,1):(I.v=ls(vn(I.v,1)),I.t="n");break;case"e":(!h||h.cellText!==!1)&&(I.w=I.v),I.v=GD[I.v];break}if(F=X=0,se=null,M&&j.s!==void 0&&(se=g.CellXf[j.s],se!=null&&(se.numFmtId!=null&&(F=se.numFmtId),h.cellStyles&&se.fillId!=null&&(X=se.fillId))),TI(I,F,X,h,x,g),h.cellDates&&M&&I.t=="n"&&Nf(_t[F])&&(I.t="d",I.v=Rx(I.v)),j.cm&&h.xlmeta){var ne=(h.xlmeta.Cell||[])[+j.cm-1];ne&&ne.type=="XLDAPR"&&(I.D=!0)}if(ge){var z=ns(j.r);f[z.r]||(f[z.r]=[]),f[z.r][z.c]=I}else f[j.r]=I}}}}ie.length>0&&(f["!rows"]=ie)}})();function cre(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}var ure=Fc;function fre(){}function dre(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=IY(e),r}function hre(e){var t=Aa(e);return[t]}function pre(e){var t=Mc(e);return[t]}function mre(e){var t=Aa(e),r=e.read_shift(1);return[t,r,"b"]}function gre(e){var t=Mc(e),r=e.read_shift(1);return[t,r,"b"]}function xre(e){var t=Aa(e),r=e.read_shift(1);return[t,r,"e"]}function yre(e){var t=Mc(e),r=e.read_shift(1);return[t,r,"e"]}function vre(e){var t=Aa(e),r=e.read_shift(4);return[t,r,"s"]}function bre(e){var t=Mc(e),r=e.read_shift(4);return[t,r,"s"]}function wre(e){var t=Aa(e),r=Hn(e);return[t,r,"n"]}function AI(e){var t=Mc(e),r=Hn(e);return[t,r,"n"]}function Ere(e){var t=Aa(e),r=b_(e);return[t,r,"n"]}function _re(e){var t=Mc(e),r=b_(e);return[t,r,"n"]}function Sre(e){var t=Aa(e),r=y_(e);return[t,r,"is"]}function Tre(e){var t=Aa(e),r=$n(e);return[t,r,"str"]}function Nre(e){var t=Mc(e),r=$n(e);return[t,r,"str"]}function Are(e,t,r){var n=e.l+t,s=Aa(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"b"];if(r.cellFormula){e.l+=2;var o=Dx(e,n-e.l,r);i[3]=Un(o,null,s,r.supbooks,r)}else e.l=n;return i}function Cre(e,t,r){var n=e.l+t,s=Aa(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"e"];if(r.cellFormula){e.l+=2;var o=Dx(e,n-e.l,r);i[3]=Un(o,null,s,r.supbooks,r)}else e.l=n;return i}function kre(e,t,r){var n=e.l+t,s=Aa(e);s.r=r["!row"];var a=Hn(e),i=[s,a,"n"];if(r.cellFormula){e.l+=2;var o=Dx(e,n-e.l,r);i[3]=Un(o,null,s,r.supbooks,r)}else e.l=n;return i}function Rre(e,t,r){var n=e.l+t,s=Aa(e);s.r=r["!row"];var a=$n(e),i=[s,a,"str"];if(r.cellFormula){e.l+=2;var o=Dx(e,n-e.l,r);i[3]=Un(o,null,s,r.supbooks,r)}else e.l=n;return i}var Ore=Fc;function jre(e,t){var r=e.l+t,n=Fc(e),s=v_(e),a=$n(e),i=$n(e),o=$n(e);e.l=r;var c={rfx:n,relId:s,loc:a,display:o};return i&&(c.Tooltip=i),c}function Dre(){}function Ire(e,t,r){var n=e.l+t,s=VD(e),a=e.read_shift(1),i=[s];if(i[2]=a,r.cellFormula){var o=Bte(e,n-e.l,r);i[1]=o}else e.l=n;return i}function Mre(e,t,r){var n=e.l+t,s=Fc(e),a=[s];if(r.cellFormula){var i=zte(e,n-e.l,r);a[1]=i,e.l=n}else e.l=n;return a}var Fre=["left","right","top","bottom","header","footer"];function Pre(e){var t={};return Fre.forEach(function(r){t[r]=Hn(e)}),t}function Lre(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Bre(){}function Ure(){}function zre(e,t,r,n,s,a,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,x=!1,g,y,b,w,E,T,_,S,C,I=[];o.biff=12,o["!row"]=0;var j=0,q=!1,D=[],Q={},ae=o.supbooks||s.supbooks||[[]];if(ae.sharedf=Q,ae.arrayf=D,ae.SheetNames=s.SheetNames||s.Sheets.map(function(ge){return ge.name}),!o.supbooks&&(o.supbooks=ae,s.Names))for(var F=0;F<s.Names.length;++F)ae[0][F+1]=s.Names[F];var X=[],M=[],se=!1;mg[16]={n:"BrtShortReal",f:AI};var J;if(ho(e,function(ie,Ee,G){if(!x)switch(G){case 148:f=ie;break;case 0:g=ie,o.sheetRows&&o.sheetRows<=g.r&&(x=!0),S=In(w=g.r),o["!row"]=g.r,(ie.hidden||ie.hpt||ie.level!=null)&&(ie.hpt&&(ie.hpx=jh(ie.hpt)),M[ie.r]=ie);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:ie[2]},ie[2]){case"n":y.v=ie[1];break;case"s":_=ah[ie[1]],y.v=_.t,y.r=_.r;break;case"b":y.v=!!ie[1];break;case"e":y.v=ie[1],o.cellText!==!1&&(y.w=Pc[y.v]);break;case"str":y.t="s",y.v=ie[1];break;case"is":y.t="s",y.v=ie[1].t;break}if((b=i.CellXf[ie[0].iStyleRef])&&TI(y,b.numFmtId,null,o,a,i),E=ie[0].c==-1?E+1:ie[0].c,o.dense?(c[w]||(c[w]=[]),c[w][E]=y):c[an(E)+S]=y,o.cellFormula){for(q=!1,j=0;j<D.length;++j){var O=D[j];g.r>=O[0].s.r&&g.r<=O[0].e.r&&E>=O[0].s.c&&E<=O[0].e.c&&(y.F=Bt(O[0]),q=!0)}!q&&ie.length>3&&(y.f=ie[3])}if(h.s.r>g.r&&(h.s.r=g.r),h.s.c>E&&(h.s.c=E),h.e.r<g.r&&(h.e.r=g.r),h.e.c<E&&(h.e.c=E),o.cellDates&&b&&y.t=="n"&&Nf(_t[b.numFmtId])){var W=tc(y.v);W&&(y.t="d",y.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}J&&(J.type=="XLDAPR"&&(y.D=!0),J=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;y={t:"z",v:void 0},E=ie[0].c==-1?E+1:ie[0].c,o.dense?(c[w]||(c[w]=[]),c[w][E]=y):c[an(E)+S]=y,h.s.r>g.r&&(h.s.r=g.r),h.s.c>E&&(h.s.c=E),h.e.r<g.r&&(h.e.r=g.r),h.e.c<E&&(h.e.c=E),J&&(J.type=="XLDAPR"&&(y.D=!0),J=void 0);break;case 176:I.push(ie);break;case 49:J=((o.xlmeta||{}).Cell||[])[ie-1];break;case 494:var K=n["!id"][ie.relId];for(K?(ie.Target=K.Target,ie.loc&&(ie.Target+="#"+ie.loc),ie.Rel=K):ie.relId==""&&(ie.Target="#"+ie.loc),w=ie.rfx.s.r;w<=ie.rfx.e.r;++w)for(E=ie.rfx.s.c;E<=ie.rfx.e.c;++E)o.dense?(c[w]||(c[w]=[]),c[w][E]||(c[w][E]={t:"z",v:void 0}),c[w][E].l=ie):(T=vt({c:E,r:w}),c[T]||(c[T]={t:"z",v:void 0}),c[T].l=ie);break;case 426:if(!o.cellFormula)break;D.push(ie),C=o.dense?c[w][E]:c[an(E)+S],C.f=Un(ie[1],h,{r:g.r,c:E},ae,o),C.F=Bt(ie[0]);break;case 427:if(!o.cellFormula)break;Q[vt(ie[0].s)]=ie[1],C=o.dense?c[w][E]:c[an(E)+S],C.f=Un(ie[1],h,{r:g.r,c:E},ae,o);break;case 60:if(!o.cellStyles)break;for(;ie.e>=ie.s;)X[ie.e--]={width:ie.w/256,hidden:!!(ie.flags&1),level:ie.level},se||(se=!0,S_(ie.w/256)),Yu(X[ie.e+1]);break;case 161:c["!autofilter"]={ref:Bt(ie)};break;case 476:c["!margins"]=ie;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),ie.name&&(s.Sheets[r].CodeName=ie.name),(ie.above||ie.left)&&(c["!outline"]={above:ie.above,left:ie.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),ie.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!Ee.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+G.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(c["!ref"]=Bt(f||h)),o.sheetRows&&c["!ref"]){var Z=Or(c["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>h.e.r&&(Z.e.r=h.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>h.e.c&&(Z.e.c=h.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Bt(Z))}return I.length>0&&(c["!merges"]=I),X.length>0&&(c["!cols"]=X),M.length>0&&(c["!rows"]=M),c}function Hre(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var i=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var s=Ut((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,s,n]}function qre(e,t,r,n,s,a){var i=a||{"!type":"chart"};if(!e)return a;var o=0,c=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var x=Hre(m);h.s.r=h.s.c=0,h.e.c=o,f=an(o),x[0].forEach(function(g,y){i[f+In(y)]={t:"n",v:g,z:x[1]},c=y}),h.e.r<c&&(h.e.r=c),++o}),o>0&&(i["!ref"]=Bt(h)),i}function Vre(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(NI);return o&&N_(o[0],a,s,r),(i=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=i[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function $re(e,t){e.l+=10;var r=$n(e);return{name:r}}function Wre(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i=!1;return ho(e,function(c,f,h){switch(h){case 550:a["!rel"]=c;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),c.name&&(s.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var CI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Gre=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Kre=[],Xre=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function l3(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],s=0;s!=t.length;++s){var a=t[s];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=yr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function c3(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=yr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function kI(e){c3(e.WBProps,CI),c3(e.CalcPr,Xre),l3(e.WBView,Gre),l3(e.Sheets,Kre),Lu.date1904=yr(e.WBProps.date1904)}var Yre="][*?/\\".split("");function Jre(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Yre.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Zre=/<\w+:workbook/;function Qre(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",a={},i=0;if(e.replace(Xn,function(c,f){var h=mt(c);switch(vi(h[0])){case"<?xml":break;case"<workbook":c.match(Zre)&&(s="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=h[s];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":CI.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=yr(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=fr(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Ut(fr(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=fr(h.name),h.comment&&(a.Comment=h.comment),h.localSheetId&&(a.Sheet=+h.localSheetId),yr(h.hidden||"0")&&(a.Hidden=!0),i=f+c.length;break;case"</definedName>":a.Ref=Ut(fr(e.slice(i,f))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),xY.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return kI(r),r}function ene(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=R2(e),r.name=$n(e),r}function tne(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?$n(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function rne(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function nne(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),a=MY(e),i=Ute(e,0,r),o=v_(e);e.l=n;var c={Name:a,Ptg:i};return s<268435455&&(c.Sheet=s),o&&(c.Comment=o),c}function sne(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;t||(t={}),t.biff=12;var a=[],i=[[]];return i.SheetNames=[],i.XTI=[],mg[16]={n:"BrtFRTArchID$",f:rne},ho(e,function(c,f,h){switch(h){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Un(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([h,c]):i[0]=[h,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(h),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!f.T){if(!s||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),kI(r),r.Names=a,r.supbooks=i,r}function ane(e,t,r){return t.slice(-4)===".bin"?sne(e,r):Qre(e,r)}function ine(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?zre(e,n,r,s,a,i,o):ere(e,n,r,s,a,i,o)}function one(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?Wre(e,n,r,s,a):Vre(e,n,r,s,a)}function lne(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?gee():xee()}function cne(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?pee():mee()}function une(e,t,r,n){return t.slice(-4)===".bin"?OQ(e,r,n):TQ(e,r,n)}function fne(e,t,r){return mI(e,r)}function dne(e,t,r){return t.slice(-4)===".bin"?GZ(e,r):$Z(e,r)}function hne(e,t,r){return t.slice(-4)===".bin"?fee(e,r):iee(e,r)}function pne(e,t,r){return t.slice(-4)===".bin"?nee(e):tee(e)}function mne(e,t,r,n){return r.slice(-4)===".bin"?see(e,t,r,n):void 0}function gne(e,t,r){return t.slice(-4)===".bin"?QQ(e,t,r):eee(e,t,r)}var RI=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,OI=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Da(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var s=e.match(RI),a,i,o,c;if(s)for(c=0;c!=s.length;++c)a=s[c].match(OI),(i=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),n[o]=a[2].slice(1,a[2].length-1));return n}function xne(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(RI),s,a,i,o;if(n)for(o=0;o!=n.length;++o)s=n[o].match(OI),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?i="xmlns"+s[1].slice(6):i=s[1].slice(a+1),r[i]=s[2].slice(1,s[2].length-1));return r}var oh;function yne(e,t){var r=oh[e]||Ut(e);return r==="General"?Sc(t):_a(r,t)}function vne(e,t,r,n){var s=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=yr(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=vn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Ut(t)]=s}function bne(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Pc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ah(e.v):e.w=Sc(e.v):e.w=yne(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=oh[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Nf(n)){var s=tc(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(a){if(r.WTF)throw a}}}function wne(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=vQ[n.Pattern]||n.Pattern)}e[t.ID]=t}function Ene(e,t,r,n,s,a,i,o,c,f){var h="General",m=n.StyleID,x={};f=f||{};var g=[],y=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&i&&(m=i.StyleID);a[m]!==void 0&&(a[m].nf&&(h=a[m].nf),a[m].Interior&&g.push(a[m].Interior),!!a[m].Parent);)m=a[m].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=yr(e);break;case"String":n.t="s",n.r=O4(Ut(e)),n.v=e.indexOf("<")>-1?Ut(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(vn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Ut(e):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=GD[e],f.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=O4(t||e));break}if(bne(n,h,f),f.cellFormula!==!1)if(n.Formula){var b=Ut(n.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),n.f=Pu(b,s),delete n.Formula,n.ArrayRange=="RC"?n.F=Pu("RC:RC",s):n.ArrayRange&&(n.F=Pu(n.ArrayRange,s),c.push([Or(n.F),n.F]))}else for(y=0;y<c.length;++y)s.r>=c[y][0].s.r&&s.r<=c[y][0].e.r&&s.c>=c[y][0].s.c&&s.c<=c[y][0].e.c&&(n.F=c[y][1]);f.cellStyles&&(g.forEach(function(w){!x.patternType&&w.patternType&&(x.patternType=w.patternType)}),n.s=x),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function _ne(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Pv(e,t){var r=t||{};vD();var n=zd(p_(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=fr(n));var s=n.slice(0,1024).toLowerCase(),a=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var i=Dn(r);return i.type="string",Rh.to_workbook(n,i)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(R){s.indexOf("<"+R)>=0&&(a=!0)}),a)return jne(n,r);oh={"General Number":"General","General Date":_t[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":_t[15],"Short Date":_t[14],"Long Time":_t[19],"Medium Time":_t[18],"Short Time":_t[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:_t[2],Standard:_t[4],Percent:_t[10],Scientific:_t[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],f,h={},m=[],x=r.dense?[]:{},g="",y={},b={},w=Da('<Data ss:Type="String">'),E=0,T=0,_=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},I={},j="",q=0,D=[],Q={},ae={},F=0,X=[],M=[],se={},J=[],Z,ge=!1,ie=[],Ee=[],G={},O=0,W=0,K={Sheets:[],WBProps:{date1904:!1}},re={};kh.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Y="";o=kh.exec(n);)switch(o[3]=(Y=o[3]).toLowerCase()){case"data":if(Y=="data"){if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Ene(n.slice(E,o.index),j,w,c[c.length-1][0]=="comment"?se:y,{c:T,r:_},C,J[T],b,ie,r):(j="",w=Da(o[0]),E=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(y.c=M),(!r.sheetRows||r.sheetRows>_)&&y.v!==void 0&&(r.dense?(x[_]||(x[_]=[]),x[_][T]=y):x[an(T)+In(_)]=y),y.HRef&&(y.l={Target:Ut(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(O=T+(parseInt(y.MergeAcross,10)|0),W=_+(parseInt(y.MergeDown,10)|0),D.push({s:{c:T,r:_},e:{c:O,r:W}})),!r.sheetStubs)y.MergeAcross?T=O+1:++T;else if(y.MergeAcross||y.MergeDown){for(var P=T;P<=O;++P)for(var L=_;L<=W;++L)(P>T||L>_)&&(r.dense?(x[L]||(x[L]=[]),x[L][P]={t:"z"}):x[an(P)+In(L)]={t:"z"});T=O+1}else++T;else y=xne(o[0]),y.Index&&(T=+y.Index-1),T<S.s.c&&(S.s.c=T),T>S.e.c&&(S.e.c=T),o[0].slice(-2)==="/>"&&++T,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<S.s.r&&(S.s.r=_),_>S.e.r&&(S.e.r=_),o[0].slice(-2)==="/>"&&(b=Da(o[0]),b.Index&&(_=+b.Index-1)),T=0,++_):(b=Da(o[0]),b.Index&&(_=+b.Index-1),G={},(b.AutoFitHeight=="0"||b.Height)&&(G.hpx=parseInt(b.Height,10),G.hpt=pI(G.hpx),Ee[_]=G),b.Hidden=="1"&&(G.hidden=!0,Ee[_]=G));break;case"worksheet":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));m.push(g),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(x["!ref"]=Bt(S),r.sheetRows&&r.sheetRows<=S.e.r&&(x["!fullref"]=x["!ref"],S.e.r=r.sheetRows-1,x["!ref"]=Bt(S))),D.length&&(x["!merges"]=D),J.length>0&&(x["!cols"]=J),Ee.length>0&&(x["!rows"]=Ee),h[g]=x}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=T=0,c.push([o[3],!1]),f=Da(o[0]),g=Ut(f.Name),x=r.dense?[]:{},D=[],ie=[],Ee=[],re={name:g,Hidden:0},K.Sheets.push(re);break;case"table":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),J=[],ge=!1}break;case"style":o[1]==="/"?wne(C,I,r):I=Da(o[0]);break;case"numberformat":I.nf=Ut(Da(o[0]).Format||"General"),oh[I.nf]&&(I.nf=oh[I.nf]);for(var oe=0;oe!=392&&_t[oe]!=I.nf;++oe);if(oe==392){for(oe=57;oe!=392;++oe)if(_t[oe]==null){fc(I.nf,oe);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(Z=Da(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!ge&&Z.wpx>10){ge=!0,rs=dI;for(var ee=0;ee<J.length;++ee)J[ee]&&Yu(J[ee])}ge&&Yu(Z),J[Z.Index-1||J.length]=Z;for(var ne=0;ne<+Z.Span;++ne)J[J.length]=Dn(Z);break;case"namedrange":if(o[1]==="/")break;K.Names||(K.Names=[]);var z=mt(o[0]),be={Name:z.Name,Ref:Pu(z.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(be.Sheet=K.Sheets.length-1),K.Names.push(be);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?j+=n.slice(q,o.index):q=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;I.Interior=Da(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?iJ(Q,Y,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));_ne(se),M.push(se)}else c.push([o[3],!1]),f=Da(o[0]),se={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var U=Da(o[0]);x["!autofilter"]={ref:Pu(U.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return m3(n,r);var we=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:we=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:we=!1}break;case"excelworkbook":switch(o[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:we=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:we=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else F=o.index+o[0].length;break;case"header":x["!margins"]||ih(x["!margins"]={},"xlml"),isNaN(+mt(o[0]).Margin)||(x["!margins"].header=+mt(o[0]).Margin);break;case"footer":x["!margins"]||ih(x["!margins"]={},"xlml"),isNaN(+mt(o[0]).Margin)||(x["!margins"].footer=+mt(o[0]).Margin);break;case"pagemargins":var B=mt(o[0]);x["!margins"]||ih(x["!margins"]={},"xlml"),isNaN(+B.Top)||(x["!margins"].top=+B.Top),isNaN(+B.Left)||(x["!margins"].left=+B.Left),isNaN(+B.Right)||(x["!margins"].right=+B.Right),isNaN(+B.Bottom)||(x["!margins"].bottom=+B.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:we=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:we=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:we=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:we=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:we=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:we=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:we=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:we=!1}break;case"smarttags":break;default:we=!1;break}if(we||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?vne(ae,Y,X,n.slice(F,o.index)):(X=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var A={};return!r.bookSheets&&!r.bookProps&&(A.Sheets=h),A.SheetNames=m,A.Workbook=K,A.SSF=Dn(_t),A.Props=Q,A.Custprops=ae,A}function I2(e,t){switch(k_(t=t||{}),t.type||"base64"){case"base64":return Pv(Ws(e),t);case"binary":case"buffer":case"file":return Pv(e,t);case"array":return Pv(Ic(e),t)}}function Sne(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=LY(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=BY(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Tne=[60,1084,2066,2165,2175];function Nne(e,t,r,n,s){var a=n,i=[],o=r.slice(r.l,r.l+a);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}i.push(o),r.l+=a;for(var c=Ji(r,r.l),f=M2[c],h=0;f!=null&&Tne.indexOf(c)>-1;)a=Ji(r,r.l+2),h=r.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),o=r.slice(h,r.l+4+a),i.push(o),r.l+=4+a,f=M2[c=Ji(r,r.l)];var m=Yo(i);Cn(m,0);var x=0;m.lens=[];for(var g=0;g<i.length;++g)m.lens.push(x),x+=i[g].length;if(m.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+n;return t.f(m,m.length,s)}function ii(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=_t[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Pc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ah(e.v):e.w=Sc(e.v):e.w=_a(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&Nf(_t[n]||String(n))){var s=tc(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function nm(e,t,r){return{v:e,ixfe:t,t:r}}function Ane(e,t){var r={opts:{}},n={},s=t.dense?[]:{},a={},i={},o=null,c=[],f="",h={},m,x="",g,y,b,w,E={},T=[],_,S,C=[],I=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},q={},D=function(lt){return lt<8?dc[lt]:lt<64&&I[lt-8]||dc[lt]},Q=function(lt,Ot,nr){var ht=Ot.XF.data;if(!(!ht||!ht.patternType||!nr||!nr.cellStyles)){Ot.s={},Ot.s.patternType=ht.patternType;var Jt;(Jt=Oh(D(ht.icvFore)))&&(Ot.s.fgColor={rgb:Jt}),(Jt=Oh(D(ht.icvBack)))&&(Ot.s.bgColor={rgb:Jt})}},ae=function(lt,Ot,nr){if(!(G>1)&&!(nr.sheetRows&&lt.r>=nr.sheetRows)){if(nr.cellStyles&&Ot.XF&&Ot.XF.data&&Q(lt,Ot,nr),delete Ot.ixfe,delete Ot.XF,m=lt,x=vt(lt),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),lt.r<i.s.r&&(i.s.r=lt.r),lt.c<i.s.c&&(i.s.c=lt.c),lt.r+1>i.e.r&&(i.e.r=lt.r+1),lt.c+1>i.e.c&&(i.e.c=lt.c+1),nr.cellFormula&&Ot.f){for(var ht=0;ht<T.length;++ht)if(!(T[ht][0].s.c>lt.c||T[ht][0].s.r>lt.r)&&!(T[ht][0].e.c<lt.c||T[ht][0].e.r<lt.r)){Ot.F=Bt(T[ht][0]),(T[ht][0].s.c!=lt.c||T[ht][0].s.r!=lt.r)&&delete Ot.f,Ot.f&&(Ot.f=""+Un(T[ht][1],i,lt,ie,F));break}}nr.dense?(s[lt.r]||(s[lt.r]=[]),s[lt.r][lt.c]=Ot):s[x]=Ot}},F={enc:!1,sbcch:0,snames:[],sharedf:E,arrayf:T,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var X,M=[],se=[],J=[],Z=[],ge=!1,ie=[];ie.SheetNames=F.snames,ie.sharedf=F.sharedf,ie.arrayf=F.arrayf,ie.names=[],ie.XTI=[];var Ee=0,G=0,O=0,W=[],K=[],re;F.codepage=1200,Ba(1200);for(var Y=!1;e.l<e.length-1;){var P=e.l,L=e.read_shift(2);if(L===0&&Ee===10)break;var oe=e.l===e.length?0:e.read_shift(2),ee=M2[L];if(ee&&ee.f){if(t.bookSheets&&Ee===133&&L!==133)break;if(Ee=L,ee.r===2||ee.r==12){var ne=e.read_shift(2);if(oe-=2,!F.enc&&ne!==L&&((ne&255)<<8|ne>>8)!==L)throw new Error("rt mismatch: "+ne+"!="+L);ee.r==12&&(e.l+=10,oe-=10)}var z={};if(L===10?z=ee.f(e,oe,F):z=Nne(L,ee,e,oe,F),G==0&&[9,521,1033,2057].indexOf(Ee)===-1)continue;switch(L){case 34:r.opts.Date1904=j.WBProps.date1904=z;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=z,!t.password)throw new Error("File is password-protected");if(z.valid==null)throw new Error("Encryption scheme unsupported");if(!z.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=z;break;case 66:var be=Number(z);switch(be){case 21010:be=1200;break;case 32768:be=1e4;break;case 32769:be=1252;break}Ba(F.codepage=be),Y=!0;break;case 317:F.rrtabid=z;break;case 25:F.winlocked=z;break;case 439:r.opts.RefreshAll=z;break;case 12:r.opts.CalcCount=z;break;case 16:r.opts.CalcDelta=z;break;case 17:r.opts.CalcIter=z;break;case 13:r.opts.CalcMode=z;break;case 14:r.opts.CalcPrecision=z;break;case 95:r.opts.CalcSaveRecalc=z;break;case 15:F.CalcRefMode=z;break;case 2211:r.opts.FullCalc=z;break;case 129:z.fDialog&&(s["!type"]="dialog"),z.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),z.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:C.push(z);break;case 430:ie.push([z]),ie[ie.length-1].XTI=[];break;case 35:case 547:ie[ie.length-1].push(z);break;case 24:case 536:re={Name:z.Name,Ref:Un(z.rgce,i,null,ie,F)},z.itab>0&&(re.Sheet=z.itab-1),ie.names.push(re),ie[0]||(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].push(z),z.Name=="_xlnm._FilterDatabase"&&z.itab>0&&z.rgce&&z.rgce[0]&&z.rgce[0][0]&&z.rgce[0][0][0]=="PtgArea3d"&&(K[z.itab-1]={ref:Bt(z.rgce[0][0][1][2])});break;case 22:F.ExternCount=z;break;case 23:ie.length==0&&(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].XTI=ie[ie.length-1].XTI.concat(z),ie.XTI=ie.XTI.concat(z);break;case 2196:if(F.biff<8)break;re!=null&&(re.Comment=z[1]);break;case 18:s["!protect"]=z;break;case 19:z!==0&&F.WTF&&console.error("Password verifier: "+z);break;case 133:a[z.pos]=z,F.snames.push(z.name);break;case 10:{if(--G)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,s["!ref"]=Bt(i),t.sheetRows&&t.sheetRows<=i.e.r){var U=i.e.r;i.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Bt(i),i.e.r=U}i.e.r++,i.e.c++}M.length>0&&(s["!merges"]=M),se.length>0&&(s["!objects"]=se),J.length>0&&(s["!cols"]=J),Z.length>0&&(s["!rows"]=Z),j.Sheets.push(q)}f===""?h=s:n[f]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[L]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[z.BIFFVer]||8),F.biffguess=z.BIFFVer==0,z.BIFFVer==0&&z.dt==4096&&(F.biff=5,Y=!0,Ba(F.codepage=28591)),F.biff==8&&z.BIFFVer==0&&z.dt==16&&(F.biff=2),G++)break;if(s=t.dense?[]:{},F.biff<8&&!Y&&(Y=!0,Ba(F.codepage=t.codepage||1252)),F.biff<5||z.BIFFVer==0&&z.dt==4096){f===""&&(f="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var we={pos:e.l-oe,name:f};a[we.pos]=we,F.snames.push(f)}else f=(a[P]||{name:""}).name;z.dt==32&&(s["!type"]="chart"),z.dt==64&&(s["!type"]="macro"),M=[],se=[],F.arrayf=T=[],J=[],Z=[],ge=!1,q={Hidden:(a[P]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[z.r]||[])[z.c]:s[vt({c:z.c,r:z.r})])&&++z.c,_={ixfe:z.ixfe,XF:C[z.ixfe]||{},v:z.val,t:"n"},O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 5:case 517:_={ixfe:z.ixfe,XF:C[z.ixfe],v:z.val,t:z.t},O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 638:_={ixfe:z.ixfe,XF:C[z.ixfe],v:z.rknum,t:"n"},O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 189:for(var B=z.c;B<=z.C;++B){var A=z.rkrec[B-z.c][0];_={ixfe:A,XF:C[A],v:z.rkrec[B-z.c][1],t:"n"},O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae({c:B,r:z.r},_,t)}break;case 6:case 518:case 1030:{if(z.val=="String"){o=z;break}if(_=nm(z.val,z.cell.ixfe,z.tt),_.XF=C[_.ixfe],t.cellFormula){var R=z.formula;if(R&&R[0]&&R[0][0]&&R[0][0][0]=="PtgExp"){var H=R[0][0][1][0],fe=R[0][0][1][1],ye=vt({r:H,c:fe});E[ye]?_.f=""+Un(z.formula,i,z.cell,ie,F):_.F=((t.dense?(s[H]||[])[fe]:s[ye])||{}).F}else _.f=""+Un(z.formula,i,z.cell,ie,F)}O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae(z.cell,_,t),o=z}break;case 7:case 519:if(o)o.val=z,_=nm(z,o.cell.ixfe,"s"),_.XF=C[_.ixfe],t.cellFormula&&(_.f=""+Un(o.formula,i,o.cell,ie,F)),O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae(o.cell,_,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{T.push(z);var he=vt(z[0].s);if(g=t.dense?(s[z[0].s.r]||[])[z[0].s.c]:s[he],t.cellFormula&&g){if(!o||!he||!g)break;g.f=""+Un(z[1],i,z[0],ie,F),g.F=Bt(z[0])}}break;case 1212:{if(!t.cellFormula)break;if(x){if(!o)break;E[vt(o.cell)]=z[0],g=t.dense?(s[o.cell.r]||[])[o.cell.c]:s[vt(o.cell)],(g||{}).f=""+Un(z[0],i,m,ie,F)}}break;case 253:_=nm(c[z.isst].t,z.ixfe,"s"),c[z.isst].h&&(_.h=c[z.isst].h),_.XF=C[_.ixfe],O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:z.ixfe,XF:C[z.ixfe],t:"z"},O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t));break;case 190:if(t.sheetStubs)for(var Ae=z.c;Ae<=z.C;++Ae){var De=z.ixfe[Ae-z.c];_={ixfe:De,XF:C[De],t:"z"},O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae({c:Ae,r:z.r},_,t)}break;case 214:case 516:case 4:_=nm(z.val,z.ixfe,"s"),_.XF=C[_.ixfe],O>0&&(_.z=W[_.ixfe>>8&63]),ii(_,t,r.opts.Date1904),ae({c:z.c,r:z.r},_,t);break;case 0:case 512:G===1&&(i=z);break;case 252:c=z;break;case 1054:if(F.biff==4){W[O++]=z[1];for(var Pe=0;Pe<O+163&&_t[Pe]!=z[1];++Pe);Pe>=163&&fc(z[1],O+163)}else fc(z[1],z[0]);break;case 30:{W[O++]=z;for(var We=0;We<O+163&&_t[We]!=z;++We);We>=163&&fc(z,O+163)}break;case 229:M=M.concat(z);break;case 93:se[z.cmo[0]]=F.lastobj=z;break;case 438:F.lastobj.TxO=z;break;case 127:F.lastobj.ImData=z;break;case 440:for(w=z[0].s.r;w<=z[0].e.r;++w)for(b=z[0].s.c;b<=z[0].e.c;++b)g=t.dense?(s[w]||[])[b]:s[vt({c:b,r:w})],g&&(g.l=z[1]);break;case 2048:for(w=z[0].s.r;w<=z[0].e.r;++w)for(b=z[0].s.c;b<=z[0].e.c;++b)g=t.dense?(s[w]||[])[b]:s[vt({c:b,r:w})],g&&g.l&&(g.l.Tooltip=z[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;g=t.dense?(s[z[0].r]||[])[z[0].c]:s[vt(z[0])];var et=se[z[2]];g||(t.dense?(s[z[0].r]||(s[z[0].r]=[]),g=s[z[0].r][z[0].c]={t:"z"}):g=s[vt(z[0])]={t:"z"},i.e.r=Math.max(i.e.r,z[0].r),i.s.r=Math.min(i.s.r,z[0].r),i.e.c=Math.max(i.e.c,z[0].c),i.s.c=Math.min(i.s.c,z[0].c)),g.c||(g.c=[]),y={a:z[1],t:et.TxO.t},g.c.push(y)}break;case 2173:XQ(C[z.ixfe],z.ext);break;case 125:{if(!F.cellStyles)break;for(;z.e>=z.s;)J[z.e--]={width:z.w/256,level:z.level||0,hidden:!!(z.flags&1)},ge||(ge=!0,S_(z.w/256)),Yu(J[z.e+1])}break;case 520:{var tt={};z.level!=null&&(Z[z.r]=tt,tt.level=z.level),z.hidden&&(Z[z.r]=tt,tt.hidden=!0),z.hpt&&(Z[z.r]=tt,tt.hpt=z.hpt,tt.hpx=jh(z.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||ih(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[L]]=z;break;case 161:s["!margins"]||ih(s["!margins"]={}),s["!margins"].header=z.header,s["!margins"].footer=z.footer;break;case 574:z.RTL&&(j.Views[0].RTL=!0);break;case 146:I=z;break;case 2198:X=z;break;case 140:S=z;break;case 442:f?q.CodeName=z||q.name:j.WBProps.CodeName=z||"ThisWorkbook";break}}else ee||console.error("Missing Info for XLS Record 0x"+L.toString(16)),e.l+=oe}return r.SheetNames=gi(a).sort(function(zt,lt){return Number(zt)-Number(lt)}).map(function(zt){return a[zt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&K.forEach(function(zt,lt){r.Sheets[r.SheetNames[lt]]["!autofilter"]=zt}),r.Strings=c,r.SSF=Dn(_t),F.enc&&(r.Encryption=F.enc),X&&(r.Themes=X),r.Metadata={},S!==void 0&&(r.Metadata.Country=S),ie.names.length>0&&(j.Names=ie.names),r.Workbook=j,r}var u3={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Cne(e,t,r){var n=Lt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=G4(n,$Y,u3.DSI);for(var a in s)t[a]=s[a]}catch(f){if(r.WTF)throw f}var i=Lt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=G4(i,WY,u3.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(XD(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function jI(e,t){t||(t={}),k_(t),oD(),t.codepage&&o_(t.codepage);var r,n;if(e.FullPaths){if(Lt.find(e,"/encryption"))throw new Error("File is password-protected");r=Lt.find(e,"!CompObj"),n=Lt.find(e,"/Workbook")||Lt.find(e,"/Book")}else{switch(t.type){case"base64":e=Fa(Ws(e));break;case"binary":e=Fa(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Cn(e,0),n={content:e}}var s,a;if(r&&Sne(r),t.bookProps&&!t.bookSheets)s={};else{var i=Pt?"buffer":"array";if(n&&n.content)s=Ane(n.content,t);else if((a=Lt.find(e,"PerfectOffice_MAIN"))&&a.content)s=sh.to_workbook(a.content,(t.type=i,t));else if((a=Lt.find(e,"NativeContent_MAIN"))&&a.content)s=sh.to_workbook(a.content,(t.type=i,t));else throw(a=Lt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Lt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=hee(e))}var o={};return e.FullPaths&&Cne(e,o,t),s.Props=s.Custprops=o,t.bookFiles&&(s.cfb=e),s}var mg={0:{f:cre},1:{f:hre},2:{f:Ere},3:{f:xre},4:{f:mre},5:{f:wre},6:{f:Tre},7:{f:vre},8:{f:Rre},9:{f:kre},10:{f:Are},11:{f:Cre},12:{f:pre},13:{f:_re},14:{f:yre},15:{f:gre},16:{f:AI},17:{f:Nre},18:{f:bre},19:{f:y_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:nne},40:{},42:{},43:{f:AQ},44:{f:NQ},45:{f:CQ},46:{f:RQ},47:{f:kQ},48:{},49:{f:OY},50:{},51:{f:JQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:oI},62:{f:Sre},63:{f:ree},64:{f:Bre},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Gn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Lre},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:dre},148:{f:ure,p:16},151:{f:Dre},152:{},153:{f:tne},154:{},155:{},156:{f:ene},157:{},158:{},159:{T:1,f:WZ},160:{T:-1},161:{T:1,f:Fc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ore},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:YQ},336:{T:-1},337:{f:ZQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:R2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:iI},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ire},427:{f:Mre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Pre},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:fre},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:jre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:R2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uee},633:{T:1},634:{T:-1},635:{T:1,f:cee},636:{T:-1},637:{f:DY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:$re},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ure},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},M2={6:{f:Mv},10:{f:Ho},12:{f:Jr},13:{f:Jr},14:{f:Ir},15:{f:Ir},16:{f:Hn},17:{f:Ir},18:{f:Ir},19:{f:Jr},20:{f:J4},21:{f:J4},23:{f:iI},24:{f:Q4},25:{f:Ir},26:{},27:{},28:{f:oZ},29:{},34:{f:Ir},35:{f:Z4},38:{f:Hn},39:{f:Hn},40:{f:Hn},41:{f:Hn},42:{f:Ir},43:{f:Ir},47:{f:fQ},49:{f:HJ},51:{f:Jr},60:{},61:{f:BJ},64:{f:Ir},65:{f:zJ},66:{f:Jr},77:{},80:{},81:{},82:{},85:{f:Jr},89:{},90:{},91:{},92:{f:OJ},93:{f:cZ},94:{},95:{f:Ir},96:{},97:{},99:{f:Ir},125:{f:oI},128:{f:ZJ},129:{f:jJ},130:{f:Jr},131:{f:Ir},132:{f:Ir},133:{f:DJ},134:{},140:{f:mZ},141:{f:Jr},144:{},146:{f:xZ},151:{},152:{},153:{},154:{},155:{},156:{f:Jr},157:{},158:{},160:{f:EZ},161:{f:vZ},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:KJ},190:{f:XJ},193:{f:Ho},197:{},198:{},199:{},200:{},201:{},202:{f:Ir},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Jr},220:{},221:{f:Ir},222:{},224:{f:JJ},225:{f:RJ},226:{f:Ho},227:{},229:{f:lZ},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:IJ},253:{f:qJ},255:{f:MJ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:eI},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ir},353:{f:Ho},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:eZ},431:{f:Ir},432:{},433:{},434:{},437:{},438:{f:dZ},439:{f:Ir},440:{f:hZ},441:{},442:{f:p0},443:{},444:{f:Jr},445:{},446:{},448:{f:Ho},449:{f:LJ,r:2},450:{f:Ho},512:{f:X4},513:{f:wZ},515:{f:QJ},516:{f:VJ},517:{f:Y4},519:{f:_Z},520:{f:FJ},523:{},545:{f:e3},549:{f:K4},566:{},574:{f:UJ},638:{f:GJ},659:{},1048:{},1054:{f:$J},1084:{},1212:{f:sZ},2048:{f:pZ},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:em},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ho},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:yZ,r:12},2173:{f:KQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ir,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:nZ,r:12},2197:{},2198:{f:HQ,r:12},2199:{},2200:{},2201:{},2202:{f:aZ,r:12},2203:{f:Ho},2204:{},2205:{},2206:{},2207:{},2211:{f:PJ},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Jr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:bZ},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:gZ},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:X4},1:{},2:{f:AZ},3:{f:NZ},4:{f:TZ},5:{f:Y4},7:{f:CZ},8:{},9:{f:em},11:{},22:{f:Jr},30:{f:WJ},31:{},32:{},33:{f:e3},36:{},37:{f:K4},50:{f:kZ},62:{},52:{},67:{},68:{f:Jr},69:{},86:{},126:{},127:{f:SZ},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:RZ},223:{},234:{},354:{},421:{},518:{f:Mv},521:{f:em},536:{f:Q4},547:{f:Z4},561:{},579:{},1030:{f:Mv},1033:{f:em},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ia(e,t,r,n){var s=t;if(!isNaN(s)){var a=(r||[]).length||0,i=e.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&zD(r)&&e.push(r)}}function f3(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),i=s.index,o=a&&a.index||e.length,c=QX(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,m=0,x=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(i=0;i<c.length;++i){var b=c[i].trim(),w=b.slice(0,3).toLowerCase();if(w=="<tr"){if(++f,r.sheetRows&&r.sheetRows<=f){--f;break}h=0;continue}if(!(w!="<td"&&w!="<th")){var E=b.split(/<\/t[dh]>/i);for(o=0;o<E.length;++o){var T=E[o].trim();if(T.match(/<t[dh]/i)){for(var _=T,S=0;_.charAt(0)=="<"&&(S=_.indexOf(">"))>-1;)_=_.slice(S+1);for(var C=0;C<y.length;++C){var I=y[C];I.s.c==h&&I.s.r<f&&f<=I.e.r&&(h=I.e.c+1,C=-1)}var j=mt(T.slice(0,T.indexOf(">")));x=j.colspan?+j.colspan:1,((m=+j.rowspan)>1||x>1)&&y.push({s:{r:f,c:h},e:{r:f+(m||1)-1,c:h+x-1}});var q=j.t||j["data-t"]||"";if(!_.length){h+=x;continue}if(_=CD(_),g.s.r>f&&(g.s.r=f),g.e.r<f&&(g.e.r=f),g.s.c>h&&(g.s.c=h),g.e.c<h&&(g.e.c=h),!_.length){h+=x;continue}var D={t:"s",v:_};r.raw||!_.trim().length||q=="s"||(_==="TRUE"?D={t:"b",v:!0}:_==="FALSE"?D={t:"b",v:!1}:isNaN(Ha(_))?isNaN(Xu(_).getDate())||(D={t:"d",v:vn(_)},r.cellDates||(D={t:"n",v:ls(D.v)}),D.z=r.dateNF||_t[14]):D={t:"n",v:Ha(_)}),r.dense?(n[f]||(n[f]=[]),n[f][h]=D):n[vt({r:f,c:h})]=D,h+=x}}}}return n["!ref"]=Bt(g),y.length&&(n["!merges"]=y),n}function kne(e,t,r,n){for(var s=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,c=0,f=0;f<s.length;++f)if(!(s[f].s.r>r||s[f].s.c>i)&&!(s[f].e.r<r||s[f].e.c<i)){if(s[f].s.r<r||s[f].s.c<i){o=-1;break}o=s[f].e.r-s[f].s.r+1,c=s[f].e.c-s[f].s.c+1;break}if(!(o<0)){var h=vt({r,c:i}),m=n.dense?(e[r]||[])[i]:e[h],x=m&&m.v!=null&&(m.h||h_(m.w||(uo(m),m.w)||""))||"",g={};o>1&&(g.rowspan=o),c>1&&(g.colspan=c),n.editable?x='<span contenteditable="true">'+x+"</span>":m&&(g["data-t"]=m&&m.t||"z",m.v!=null&&(g["data-v"]=m.v),m.z!=null&&(g["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),g.id=(n.id||"sjs")+"-"+h,a.push(mY("td",x,g))}}var y="<tr>";return y+a.join("")+"</tr>"}var Rne='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',One="</body></html>";function jne(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Sl(f3(r[0],t),t);var n=O_();return r.forEach(function(s,a){j_(n,f3(s,t),"Sheet"+(a+1))}),n}function Dne(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Ine(e,t){var r=t||{},n=r.header!=null?r.header:Rne,s=r.footer!=null?r.footer:One,a=[n],i=Af(e["!ref"]);r.dense=Array.isArray(e),a.push(Dne(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)a.push(kne(e,i,o,r));return a.push("</table>"+s),a.join("")}function DI(e,t,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var i=typeof n.origin=="string"?ns(n.origin):n.origin;s=i.r,a=i.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:s,c:a}};if(e["!ref"]){var h=Af(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),s==-1&&(f.e.r=s=h.e.r+1)}var m=[],x=0,g=e["!rows"]||(e["!rows"]=[]),y=0,b=0,w=0,E=0,T=0,_=0;for(e["!cols"]||(e["!cols"]=[]);y<o.length&&b<c;++y){var S=o[y];if(d3(S)){if(n.display)continue;g[b]={hidden:!0}}var C=S.children;for(w=E=0;w<C.length;++w){var I=C[w];if(!(n.display&&d3(I))){var j=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):CD(I.innerHTML),q=I.getAttribute("data-z")||I.getAttribute("z");for(x=0;x<m.length;++x){var D=m[x];D.s.c==E+a&&D.s.r<b+s&&b+s<=D.e.r&&(E=D.e.c+1-a,x=-1)}_=+I.getAttribute("colspan")||1,((T=+I.getAttribute("rowspan")||1)>1||_>1)&&m.push({s:{r:b+s,c:E+a},e:{r:b+s+(T||1)-1,c:E+a+(_||1)-1}});var Q={t:"s",v:j},ae=I.getAttribute("data-t")||I.getAttribute("t")||"";j!=null&&(j.length==0?Q.t=ae||"z":n.raw||j.trim().length==0||ae=="s"||(j==="TRUE"?Q={t:"b",v:!0}:j==="FALSE"?Q={t:"b",v:!1}:isNaN(Ha(j))?isNaN(Xu(j).getDate())||(Q={t:"d",v:vn(j)},n.cellDates||(Q={t:"n",v:ls(Q.v)}),Q.z=n.dateNF||_t[14]):Q={t:"n",v:Ha(j)})),Q.z===void 0&&q!=null&&(Q.z=q);var F="",X=I.getElementsByTagName("A");if(X&&X.length)for(var M=0;M<X.length&&!(X[M].hasAttribute("href")&&(F=X[M].getAttribute("href"),F.charAt(0)!="#"));++M);F&&F.charAt(0)!="#"&&(Q.l={Target:F}),n.dense?(e[b+s]||(e[b+s]=[]),e[b+s][E+a]=Q):e[vt({c:E+a,r:b+s})]=Q,f.e.c<E+a&&(f.e.c=E+a),E+=_}}++b}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,b-1+s),e["!ref"]=Bt(f),b>=c&&(e["!fullref"]=Bt((f.e.r=o.length-y+b-1+s,f))),e}function II(e,t){var r=t||{},n=r.dense?[]:{};return DI(n,e,t)}function Mne(e,t){return Sl(II(e,t),t)}function d3(e){var t="",r=Fne(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Fne(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Pne(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ut(t.replace(/<[^>]*>/g,""));return[r]}var h3={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function MI(e,t){var r=t||{},n=p_(e),s=[],a,i,o={name:""},c="",f=0,h,m,x={},g=[],y=r.dense?[]:{},b,w,E={value:""},T="",_=0,S=[],C=-1,I=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},q=0,D={},Q=[],ae={},F=0,X=0,M=[],se=1,J=1,Z=[],ge={Names:[]},ie={},Ee=["",""],G=[],O={},W="",K=0,re=!1,Y=!1,P=0;for(kh.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=kh.exec(n);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?y["!ref"]=Bt(j):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(y["!fullref"]=y["!ref"],j.e.r=r.sheetRows-1,y["!ref"]=Bt(j)),Q.length&&(y["!merges"]=Q),M.length&&(y["!rows"]=M),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),g.push(h.name),x[h.name]=y,Y=!1):b[0].charAt(b[0].length-2)!=="/"&&(h=mt(b[0],!1),C=I=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,y=r.dense?[]:{},Q=[],M=[],Y=!0);break;case"table-row-group":b[1]==="/"?--q:++q;break;case"table-row":case"":if(b[1]==="/"){C+=se,se=1;break}if(m=mt(b[0],!1),m.?C=m.-1:C==-1&&(C=0),se=+m["number-rows-repeated"]||1,se<10)for(P=0;P<se;++P)q>0&&(M[C+P]={level:q});I=-1;break;case"covered-table-cell":b[1]!=="/"&&++I,r.sheetStubs&&(r.dense?(y[C]||(y[C]=[]),y[C][I]={t:"z"}):y[vt({r:C,c:I})]={t:"z"}),T="",S=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++I,E=mt(b[0],!1),J=parseInt(E["number-columns-repeated"]||"1",10),w={t:"z",v:null},E.formula&&r.cellFormula!=!1&&(w.f=o3(Ut(E.formula))),(E.||E["value-type"])=="string"&&(w.t="s",w.v=Ut(E["string-value"]||""),r.dense?(y[C]||(y[C]=[]),y[C][I]=w):y[vt({r:C,c:I})]=w),I+=J-1;else if(b[1]!=="/"){++I,T="",_=0,S=[],J=1;var L=se?C+se-1:C;if(I>j.e.c&&(j.e.c=I),I<j.s.c&&(j.s.c=I),C<j.s.r&&(j.s.r=C),L>j.e.r&&(j.e.r=L),E=mt(b[0],!1),G=[],O={},w={t:E.||E["value-type"],v:null},r.cellFormula)if(E.formula&&(E.formula=Ut(E.formula)),E["number-matrix-columns-spanned"]&&E["number-matrix-rows-spanned"]&&(F=parseInt(E["number-matrix-rows-spanned"],10)||0,X=parseInt(E["number-matrix-columns-spanned"],10)||0,ae={s:{r:C,c:I},e:{r:C+F-1,c:I+X-1}},w.F=Bt(ae),Z.push([ae,w.F])),E.formula)w.f=o3(E.formula);else for(P=0;P<Z.length;++P)C>=Z[P][0].s.r&&C<=Z[P][0].e.r&&I>=Z[P][0].s.c&&I<=Z[P][0].e.c&&(w.F=Z[P][1]);switch((E["number-columns-spanned"]||E["number-rows-spanned"])&&(F=parseInt(E["number-rows-spanned"],10)||0,X=parseInt(E["number-columns-spanned"],10)||0,ae={s:{r:C,c:I},e:{r:C+F-1,c:I+X-1}},Q.push(ae)),E["number-columns-repeated"]&&(J=parseInt(E["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=yr(E["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(E.value);break;case"percentage":w.t="n",w.v=parseFloat(E.value);break;case"currency":w.t="n",w.v=parseFloat(E.value);break;case"date":w.t="d",w.v=vn(E["date-value"]),r.cellDates||(w.t="n",w.v=ls(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=YX(E["time-value"])/86400,r.cellDates&&(w.t="d",w.v=Rx(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(E.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",E["string-value"]!=null&&(T=Ut(E["string-value"]),S=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(re=!1,w.t==="s"&&(w.v=T||"",S.length&&(w.R=S),re=_==0),ie.Target&&(w.l=ie),G.length>0&&(w.c=G,G=[]),T&&r.cellText!==!1&&(w.w=T),re&&(w.t="z",delete w.v),(!re||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=C))for(var oe=0;oe<se;++oe){if(J=parseInt(E["number-columns-repeated"]||"1",10),r.dense)for(y[C+oe]||(y[C+oe]=[]),y[C+oe][I]=oe==0?w:Dn(w);--J>0;)y[C+oe][I+J]=Dn(w);else for(y[vt({r:C+oe,c:I})]=w;--J>0;)y[vt({r:C+oe,c:I+J})]=Dn(w);j.e.c<=I&&(j.e.c=I)}J=parseInt(E["number-columns-repeated"]||"1",10),I+=J-1,J=0,w={},T="",S=[]}ie={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a;O.t=T,S.length&&(O.R=S),O.a=W,G.push(O)}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);W="",K=0,T="",_=0,S=[];break;case"creator":b[1]==="/"?W=n.slice(K,b.index):K=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);T="",_=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(D[o.name]=c,(a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(c="",o=mt(b[0],!1),s.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":i=mt(b[0],!1),c+=h3[b[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":i=mt(b[0],!1),c+=h3[b[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(f,b.index);break}else f=b.index+b[0].length;break;case"named-range":i=mt(b[0],!1),Ee=Fv(i["cell-range-address"]);var ee={Name:i.name,Ref:Ee[0]+"!"+Ee[1]};Y&&(ee.Sheet=g.length),ge.Names.push(ee);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(b[1]==="/"&&(!E||!E["string-value"])){var ne=Pne(n.slice(_,b.index));T=(T.length>0?T+`
`:"")+ne[0]}else mt(b[0],!1),_=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{Ee=Fv(mt(b[0])["target-range-address"]),x[Ee[0]]["!autofilter"]={ref:Ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(ie=mt(b[0],!1),!ie.href)break;ie.Target=Ut(ie.href),delete ie.href,ie.Target.charAt(0)=="#"&&ie.Target.indexOf(".")>-1?(Ee=Fv(ie.Target.slice(1)),ie.Target="#"+Ee[0]+"!"+Ee[1]):ie.Target.match(/^\.\.[\\\/]/)&&(ie.Target=ie.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var z={Sheets:x,SheetNames:g,Workbook:ge};return r.bookSheets&&delete z.Sheets,z}function p3(e,t){t=t||{},ha(e,"META-INF/manifest.xml")&&QY(Yr(e,"META-INF/manifest.xml"),t);var r=Us(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=MI(fr(r),t);return ha(e,"meta.xml")&&(n.Props=KD(Yr(e,"meta.xml"))),n}function m3(e,t){return MI(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function A_(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function F2(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):fr(Ic(e))}function P2(e){var t=e.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function g3(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Lne(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,s=t+13;s>=t;--s)n=n*256+e[s];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Dh(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function on(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Vn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=Dh(e,r),a=s&7;s=Math.floor(s/8);var i=0,o;if(s==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=Dh(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var f={data:o,type:a};t[s]==null?t[s]=[f]:t[s].push(f)}return t}function C_(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Bne(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=Dh(e,n),a=Vn(e.slice(n[0],n[0]+s));n[0]+=s;var i={id:on(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=Vn(o.data),f=on(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=a[3])!=null&&t[0]&&(i.merge=on(a[3][0].data)>>>0>0),r.push(i)}return r}function Une(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Dh(t,r),s=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}s.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,f=0;if(a==1?(f=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[P2(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(s.push(s[0].slice(-c)),f-=c;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-c,-c+f))}}var h=P2(s);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function zne(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Une(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return P2(t)}function Hne(e,t,r,n){var s=A_(e),a=s.getUint32(4,!0),i=(n>1?12:8)+g3(a&(n>1?3470:398))*4,o=-1,c=-1,f=NaN,h=new Date(2001,0,1);a&512&&(o=s.getUint32(i,!0),i+=4),i+=g3(a&(n>1?12288:4096))*4,a&16&&(c=s.getUint32(i,!0),i+=4),a&32&&(f=s.getFloat64(i,!0),i+=8),a&64&&(h.setTime(h.getTime()+s.getFloat64(i,!0)*1e3),i+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:f};break;case 3:m={t:"s",v:t[c]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(c>-1)m={t:"s",v:t[c]};else if(!isNaN(f))m={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function qne(e,t,r){var n=A_(e),s=n.getUint32(8,!0),a=12,i=-1,o=-1,c=NaN,f=NaN,h=new Date(2001,0,1);s&1&&(c=Lne(e,a),a+=16),s&2&&(f=n.getFloat64(a,!0),a+=8),s&4&&(h.setTime(h.getTime()+n.getFloat64(a,!0)*1e3),a+=8),s&8&&(o=n.getUint32(a,!0),a+=4),s&16&&(i=n.getUint32(a,!0),a+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:c};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(i>-1)m={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return m}function Vne(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Hne(e,t,r,e[0]);case 5:return qne(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ul(e){var t=Vn(e);return Dh(t[1][0].data)}function x3(e,t){var r=Vn(t.data),n=on(r[1][0].data),s=r[3],a=[];return(s||[]).forEach(function(i){var o=Vn(i.data),c=on(o[1][0].data)>>>0;switch(n){case 1:a[c]=F2(o[3][0].data);break;case 8:{var f=e[ul(o[9][0].data)][0],h=Vn(f.data),m=e[ul(h[1][0].data)][0],x=on(m.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var g=Vn(m.data);a[c]=g[3].map(function(y){return F2(y.data)}).join("")}break}}),a}function $ne(e,t){var r,n,s,a,i,o,c,f,h,m,x,g,y,b,w=Vn(e),E=on(w[1][0].data)>>>0,T=on(w[2][0].data)>>>0,_=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&on(w[8][0].data)>0||!1,S,C;if((a=(s=w[7])==null?void 0:s[0])!=null&&a.data&&t!=0)S=(o=(i=w[7])==null?void 0:i[0])==null?void 0:o.data,C=(f=(c=w[6])==null?void 0:c[0])==null?void 0:f.data;else if((m=(h=w[4])==null?void 0:h[0])!=null&&m.data&&t!=1)S=(g=(x=w[4])==null?void 0:x[0])==null?void 0:g.data,C=(b=(y=w[3])==null?void 0:y[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var I=_?4:1,j=A_(S),q=[],D=0;D<S.length/2;++D){var Q=j.getUint16(D*2,!0);Q<65535&&q.push([D,Q])}if(q.length!=T)throw"Expected ".concat(T," cells, found ").concat(q.length);var ae=[];for(D=0;D<q.length-1;++D)ae[q[D][0]]=C.subarray(q[D][1]*I,q[D+1][1]*I);return q.length>=1&&(ae[q[q.length-1][0]]=C.subarray(q[q.length-1][1]*I)),{R:E,cells:ae}}function Wne(e,t){var r,n=Vn(t.data),s=(r=n==null?void 0:n[7])!=null&&r[0]?on(n[7][0].data)>>>0>0?1:0:-1,a=C_(n[5],function(i){return $ne(i,s)});return{nrows:on(n[4][0].data)>>>0,data:a.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(c,f){if(i[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));i[o.R][f]=c}),i},[])}}function Gne(e,t,r){var n,s=Vn(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(on(s[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(a.e.c=(on(s[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=Bt(a);var i=Vn(s[4][0].data),o=x3(e,e[ul(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?x3(e,e[ul(i[17][0].data)][0]):[],f=Vn(i[3][0].data),h=0;f[1].forEach(function(m){var x=Vn(m.data),g=e[ul(x[2][0].data)][0],y=on(g.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var b=Wne(e,g);b.data.forEach(function(w,E){w.forEach(function(T,_){var S=vt({r:h+E,c:_}),C=Vne(T,o,c);C&&(r[S]=C)})}),h+=b.nrows})}function Kne(e,t){var r=Vn(t.data),n={"!ref":"A1"},s=e[ul(r[2][0].data)],a=on(s[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Gne(e,s[0],n),n}function Xne(e,t){var r,n=Vn(t.data),s={name:(r=n[1])!=null&&r[0]?F2(n[1][0].data):"",sheets:[]},a=C_(n[2],ul);return a.forEach(function(i){e[i].forEach(function(o){var c=on(o.meta[1][0].data);c==6e3&&s.sheets.push(Kne(e,o))})}),s}function Yne(e,t){var r=O_(),n=Vn(t.data),s=C_(n[1],ul);if(s.forEach(function(a){e[a].forEach(function(i){var o=on(i.meta[1][0].data);if(o==2){var c=Xne(e,i);c.sheets.forEach(function(f,h){j_(r,f,h==0?c.name:c.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Lv(e){var t,r,n,s,a={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var f;try{f=zne(c.content)}catch(m){return console.log("?? "+c.content.length+" "+(m.message||m))}var h;try{h=Bne(f)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){a[m.id]=m.messages,i.push(m.id)})}}),!i.length)throw new Error("File has no messages");var o=((s=(n=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&on(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||i.forEach(function(c){a[c].forEach(function(f){var h=on(f.meta[1][0].data)>>>0;if(h==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Yne(a,o)}function Jne(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function k_(e){Jne([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Zne(e){return Du.WS.indexOf(e)>-1?"sheet":e==Du.CS?"chart":e==Du.DS?"dialog":e==Du.MS?"macro":e&&e.length?e:"sheet"}function Qne(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Zne(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function ese(e,t,r,n,s,a,i,o,c,f,h,m){try{a[n]=rh(Us(e,r,!0),t);var x=Yr(e,t),g;switch(o){case"sheet":g=ine(x,t,s,c,a[n],f,h,m);break;case"chart":if(g=one(x,t,s,c,a[n],f,h,m),!g||!g["!drawel"])break;var y=qd(g["!drawel"].Target,t),b=O2(y),w=aee(Us(e,y,!0),rh(Us(e,b,!0),y)),E=qd(w,y),T=O2(E);g=qre(Us(e,E,!0),E,c,rh(Us(e,T,!0),E),f,g);break;case"macro":g=lne(x,t,s,c,a[n],f,h,m);break;case"dialog":g=cne(x,t,s,c,a[n],f,h,m);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=g;var _=[];a&&a[n]&&gi(a[n]).forEach(function(S){var C="";if(a[n][S].Type==Du.CMNT){C=qd(a[n][S].Target,t);var I=hne(Yr(e,C,!0),C,c);if(!I||!I.length)return;r3(g,I,!1)}a[n][S].Type==Du.TCMNT&&(C=qd(a[n][S].Target,t),_=_.concat(oee(Yr(e,C,!0),c)))}),_&&_.length&&r3(g,_,!0,c.people||[])}catch(S){if(c.WTF)throw S}}function la(e){return e.charAt(0)=="/"?e.slice(1):e}function tse(e,t){if(vD(),t=t||{},k_(t),ha(e,"META-INF/manifest.xml")||ha(e,"objectdata.xml"))return p3(e,t);if(ha(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Lv<"u"){if(e.FileIndex)return Lv(e);var r=Lt.utils.cfb_new();return k4(e).forEach(function(M){rY(r,M,tY(e,M))}),Lv(r)}throw new Error("Unsupported NUMBERS file")}if(!ha(e,"[Content_Types].xml"))throw ha(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ha(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=k4(e),s=JY(Us(e,"[Content_Types].xml")),a=!1,i,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",Yr(e,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!Yr(e,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),a=!0}s.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},f={};if(!t.bookSheets&&!t.bookProps){if(ah=[],s.sst)try{ah=dne(Yr(e,la(s.sst)),s.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&s.themes.length&&(c=fne(Us(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(f=une(Yr(e,la(s.style)),s.style,c,t))}s.links.map(function(M){try{var se=rh(Us(e,O2(la(M))),M);return mne(Yr(e,la(M)),se,M,t)}catch{}});var h=ane(Yr(e,la(s.workbooks[0])),s.workbooks[0],t),m={},x="";s.coreprops.length&&(x=Yr(e,la(s.coreprops[0]),!0),x&&(m=KD(x)),s.extprops.length!==0&&(x=Yr(e,la(s.extprops[0]),!0),x&&rJ(x,m,t)));var g={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(x=Us(e,la(s.custprops[0]),!0),x&&(g=sJ(x,t)));var y={};if((t.bookSheets||t.bookProps)&&(h.Sheets?i=h.Sheets.map(function(se){return se.name}):m.Worksheets&&m.SheetNames.length>0&&(i=m.SheetNames),t.bookProps&&(y.Props=m,y.Custprops=g),t.bookSheets&&typeof i<"u"&&(y.SheetNames=i),t.bookSheets?y.SheetNames:t.bookProps))return y;i={};var b={};t.bookDeps&&s.calcchain&&(b=pne(Yr(e,la(s.calcchain)),s.calcchain));var w=0,E={},T,_;{var S=h.Sheets;m.Worksheets=S.length,m.SheetNames=[];for(var C=0;C!=S.length;++C)m.SheetNames[C]=S[C].name}var I=a?"bin":"xml",j=s.workbooks[0].lastIndexOf("/"),q=(s.workbooks[0].slice(0,j+1)+"_rels/"+s.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");ha(e,q)||(q="xl/_rels/workbook."+I+".rels");var D=rh(Us(e,q,!0),q.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=gne(Yr(e,la(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=lee(Yr(e,la(s.people[0])),t)),D&&(D=Qne(D,h.Sheets));var Q=Yr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=m.Worksheets;++w){var ae="sheet";if(D&&D[w]?(T="xl/"+D[w][1].replace(/[\/]?xl\//,""),ha(e,T)||(T=D[w][1]),ha(e,T)||(T=q.replace(/_rels\/.*$/,"")+D[w][1]),ae=D[w][2]):(T="xl/worksheets/sheet"+(w+1-Q)+"."+I,T=T.replace(/sheet0\./,"sheet.")),_=T.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(m.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,X=0;X!=t.sheets.length;++X)typeof t.sheets[X]=="number"&&t.sheets[X]==w&&(F=1),typeof t.sheets[X]=="string"&&t.sheets[X].toLowerCase()==m.SheetNames[w].toLowerCase()&&(F=1);if(!F)continue e}}ese(e,T,_,m.SheetNames[w],w,E,i,ae,t,h,c,f)}return y={Directory:s,Workbook:h,Props:m,Custprops:g,Deps:b,Sheets:i,SheetNames:m.SheetNames,Strings:ah,Styles:f,Themes:c,SSF:Dn(_t)},t&&t.bookFiles&&(e.files?(y.keys=n,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(M,se){M=M.replace(/^Root Entry[\/]/,""),y.keys.push(M),y.files[M]=e.FileIndex[se]}))),t&&t.bookVBA&&(s.vba.length>0?y.vbaraw=Yr(e,la(s.vba[0]),!0):s.defaults&&s.defaults.bin===dee&&(y.vbaraw=Yr(e,"xl/vbaProject.bin",!0))),y}function rse(e,t){var r=t||{},n="Workbook",s=Lt.find(e,n);try{if(n="/!DataSpaces/Version",s=Lt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(KZ(s.content),n="/!DataSpaces/DataSpaceMap",s=Lt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=YZ(s.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Lt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=JZ(s.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Lt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);QZ(s.content)}catch{}if(n="/EncryptionInfo",s=Lt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=eQ(s.content);if(n="/EncryptedPackage",s=Lt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function R_(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ws(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function nse(e,t){return Lt.find(e,"EncryptedPackage")?rse(e,t):jI(e,t)}function sse(e,t){var r,n=e,s=t||{};return s.type||(s.type=Pt&&Buffer.isBuffer(e)?"buffer":"base64"),r=TD(n,s),tse(r,s)}function FI(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return I2(e.slice(r),t);default:break e}return Rh.to_workbook(e,t)}function ase(e,t){var r="",n=R_(e,t);switch(t.type){case"base64":r=Ws(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Tc(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=fr(r)),t.type="binary",FI(r,t)}function ise(e,t){var r=e;return t.type=="base64"&&(r=Ws(r)),r=Nh.utils.decode(1200,r.slice(2),"str"),t.type="binary",FI(r,t)}function ose(e){return e.match(/[^\x00-\x7F]/)?Vd(e):e}function Bv(e,t,r,n){return n?(r.type="string",Rh.to_workbook(e,r)):Rh.to_workbook(t,r)}function gg(e,t){oD();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return gg(new Uint8Array(e),(r=Dn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,s=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Lu={},r.dateNF&&(Lu.dateNF=r.dateNF),r.type||(r.type=Pt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Pt?"buffer":"binary",n=KX(e),typeof Uint8Array<"u"&&!Pt&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=ose(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=Dn(r),r.type="array",gg(l_(n),r)}switch((s=R_(n,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return nse(Lt.read(n,r),r);break;case 9:if(s[1]<=8)return jI(n,r);break;case 60:return I2(n,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return MZ(n,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return DZ.to_workbook(n,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?sse(n,r):Bv(e,n,r,a);case 239:return s[3]===60?I2(n,r):Bv(e,n,r,a);case 255:if(s[1]===254)return ise(n,r);if(s[1]===0&&s[2]===2&&s[3]===0)return sh.to_workbook(n,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return sh.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return t3.to_workbook(n,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return dQ.to_workbook(n,r);break;case 10:case 13:case 32:return ase(n,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return OZ.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?t3.to_workbook(n,r):Bv(e,n,r,a)}function lse(e,t,r,n,s,a,i,o){var c=In(r),f=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,x=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!i||e[r])for(var g=t.s.c;g<=t.e.c;++g){var y=i?e[r][g]:e[n[g]+c];if(y===void 0||y.t===void 0){if(f===void 0)continue;a[g]!=null&&(x[a[g]]=f);continue}var b=y.v;switch(y.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(a[g]!=null){if(b==null)if(y.t=="e"&&b===null)x[a[g]]=null;else if(f!==void 0)x[a[g]]=f;else if(h&&b===null)x[a[g]]=null;else continue;else x[a[g]]=h&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?b:uo(y,b,o);b!=null&&(m=!1)}}return{row:x,isempty:m}}function L2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],i=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":c=Or(h);break;case"number":c=Or(e["!ref"]),c.s.r=h;break;default:c=h}n>0&&(s=0);var m=In(c.s.r),x=[],g=[],y=0,b=0,w=Array.isArray(e),E=c.s.r,T=0,_={};w&&!e[E]&&(e[E]=[]);var S=f.skipHidden&&e["!cols"]||[],C=f.skipHidden&&e["!rows"]||[];for(T=c.s.c;T<=c.e.c;++T)if(!(S[T]||{}).hidden)switch(x[T]=an(T),r=w?e[E][T]:e[x[T]+m],n){case 1:a[T]=T-c.s.c;break;case 2:a[T]=x[T];break;case 3:a[T]=f.header[T-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=uo(r,null,f),b=_[i]||0,!b)_[i]=1;else{do o=i+"_"+b++;while(_[o]);_[i]=b,_[o]=1}a[T]=o}for(E=c.s.r+s;E<=c.e.r;++E)if(!(C[E]||{}).hidden){var I=lse(e,c,E,x,n,a,w,f);(I.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(g[y++]=I.row)}return g.length=y,g}var y3=/"/g;function cse(e,t,r,n,s,a,i,o){for(var c=!0,f=[],h="",m=In(r),x=t.s.c;x<=t.e.c;++x)if(n[x]){var g=o.dense?(e[r]||[])[x]:e[n[x]+m];if(g==null)h="";else if(g.v!=null){c=!1,h=""+(o.rawNumbers&&g.t=="n"?g.v:uo(g,null,o));for(var y=0,b=0;y!==h.length;++y)if((b=h.charCodeAt(y))===s||b===a||b===34||o.forceQuotes){h='"'+h.replace(y3,'""')+'"';break}h=="ID"&&(h='"ID"')}else g.f!=null&&!g.F?(c=!1,h="="+g.f,h.indexOf(",")>=0&&(h='"'+h.replace(y3,'""')+'"')):h="";f.push(h)}return o.blankrows===!1&&c?null:f.join(i)}function PI(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=Or(e["!ref"]),a=n.FS!==void 0?n.FS:",",i=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),h="",m=[];n.dense=Array.isArray(e);for(var x=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],y=s.s.c;y<=s.e.c;++y)(x[y]||{}).hidden||(m[y]=an(y));for(var b=0,w=s.s.r;w<=s.e.r;++w)(g[w]||{}).hidden||(h=cse(e,s,w,m,i,c,a,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((b++?o:"")+h)));return delete n.dense,r.join("")}function use(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=PI(e,t);return r}function fse(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=Or(e["!ref"]),a="",i=[],o,c=[],f=Array.isArray(e);for(o=s.s.c;o<=s.e.c;++o)i[o]=an(o);for(var h=s.s.r;h<=s.e.r;++h)for(a=In(h),o=s.s.c;o<=s.e.c;++o)if(t=i[o]+a,r=f?(e[h]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function LI(e,t,r){var n=r||{},s=+!n.skipHeader,a=e||{},i=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ns(n.origin):n.origin;i=c.r,o=c.c}var f,h={s:{c:0,r:0},e:{c:o,r:i+t.length-1+s}};if(a["!ref"]){var m=Or(a["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),i==-1&&(i=m.e.r+1,h.e.r=i+t.length-1+s)}else i==-1&&(i=0,h.e.r=t.length-1+s);var x=n.header||[],g=0;t.forEach(function(b,w){gi(b).forEach(function(E){(g=x.indexOf(E))==-1&&(x[g=x.length]=E);var T=b[E],_="z",S="",C=vt({c:o+g,r:i+w+s});f=Ih(a,C),T&&typeof T=="object"&&!(T instanceof Date)?a[C]=T:(typeof T=="number"?_="n":typeof T=="boolean"?_="b":typeof T=="string"?_="s":T instanceof Date?(_="d",n.cellDates||(_="n",T=ls(T)),S=n.dateNF||_t[14]):T===null&&n.nullError&&(_="e",T=0),f?(f.t=_,f.v=T,delete f.w,delete f.R,S&&(f.z=S)):a[C]=f={t:_,v:T},S&&(f.z=S))})}),h.e.c=Math.max(h.e.c,o+x.length-1);var y=In(i);if(s)for(g=0;g<x.length;++g)a[an(g+o)+y]={t:"s",v:x[g]};return a["!ref"]=Bt(h),a}function dse(e,t){return LI(null,e,t)}function Ih(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ns(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ih(e,vt(t)):Ih(e,vt({r:t,c:r||0}))}function hse(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function O_(){return{SheetNames:[],Sheets:{}}}function j_(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=i+s)!=-1;++s);}if(Jre(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function pse(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=hse(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function mse(e,t){return e.z=t,e}function BI(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function gse(e,t,r){return BI(e,"#"+t,r)}function xse(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function yse(e,t,r,n){for(var s=typeof t!="string"?t:Or(t),a=typeof t=="string"?t:Bt(t),i=s.s.r;i<=s.e.r;++i)for(var o=s.s.c;o<=s.e.c;++o){var c=Ih(e,i,o);c.t="n",c.F=a,delete c.v,i==s.s.r&&o==s.s.c&&(c.f=r,n&&(c.D=!0))}return e}var UI={encode_col:an,encode_row:In,encode_cell:vt,encode_range:Bt,decode_col:x_,decode_row:g_,split_cell:RY,decode_cell:ns,decode_range:Af,format_cell:uo,sheet_add_aoa:qD,sheet_add_json:LI,sheet_add_dom:DI,aoa_to_sheet:Cf,json_to_sheet:dse,table_to_sheet:II,table_to_book:Mne,sheet_to_csv:PI,sheet_to_txt:use,sheet_to_json:L2,sheet_to_html:Ine,sheet_to_formulae:fse,sheet_to_row_object_array:L2,sheet_get_cell:Ih,book_new:O_,book_append_sheet:j_,book_set_sheet_visibility:pse,cell_set_number_format:mse,cell_set_hyperlink:BI,cell_set_internal_link:gse,cell_add_comment:xse,sheet_set_array_formula:yse,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ix=({clients:e,selectedClient:t,onClientSelect:r,placeholder:n="Choose an approved client...",disabled:s=!1,className:a="",allowAll:i=!1,allLabel:o="All Clients",compact:c=!1})=>{const[f,h]=te.useState(!1),[m,x]=te.useState(""),g=te.useRef(null);te.useEffect(()=>{const T=_=>{g.current&&!g.current.contains(_.target)&&h(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const y=e.find(T=>T.client_id===t),b=i&&t===0,w=()=>{s||(h(!f),f||x(""))},E=e.filter(T=>T.company_name.toLowerCase().includes(m.toLowerCase()));return d.jsxs("div",{className:`relative group/select ${a}`,ref:g,children:[d.jsxs("div",{onClick:w,className:`w-full pl-4 pr-3.25 ${c?"py-3":"py-4"} text-slate-500 bg-slate-50/50 border ${c?"rounded-xl":"rounded-2xl"} outline-none font-medium flex items-center justify-between transition-all ${s?"opacity-60 cursor-not-allowed bg-slate-50":"cursor-pointer"} border-slate-200 hover:border-slate-300"
        }`,children:[d.jsxs("div",{className:"flex items-center text-sm gap-3 w-full overflow-hidden",children:[d.jsx(qs,{className:`w-5 h-5 shrink-0 transition-colors ${f?"text-[#3399cc]":"text-slate-400"}`,size:18}),d.jsx("span",{className:"block truncate text-slate-500",children:b?o:y?`${y.company_name} (${y.contract_number||"No Contract"})`:n})]}),d.jsx(YE,{className:`w-4.25 h-4 shrink-0 text-slate-400 transition-transform duration-200 ${f?"rotate-180 text-[#3399cc]":""}`})]}),f&&d.jsxs("div",{className:"absolute top-full left-0 w-full mt-2 bg-white border border-slate-100 rounded-2xl shadow-xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200 origin-top",children:[d.jsx("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50",children:d.jsxs("div",{className:"relative",children:[d.jsx(jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),d.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search by company name...",value:m,onChange:T=>x(T.target.value),className:"w-full pl-9 pr-3 py-2 text-sm border border-slate-200 rounded-xl outline-none focus:border-[#3399cc] bg-white transition-colors",onClick:T=>T.stopPropagation()})]})}),d.jsxs("div",{className:"max-h-60 overflow-y-auto py-2 custom-scrollbar",children:[i&&d.jsxs("div",{onClick:()=>{r(0),h(!1)},className:`px-4 py-3 mx-2 rounded-xl cursor-pointer transition-colors text-sm font-medium flex items-center justify-between
                    ${t===0?"bg-slate-100 text-[#3399cc]":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}`,children:[d.jsx("span",{className:"font-semibold",children:o}),t===0&&d.jsx(gl,{size:16,className:"text-[#3399cc] shrink-0 ml-2"})]}),E.length===0?d.jsxs("div",{className:"px-4 py-8 text-slate-400 text-sm text-center italic",children:['No clients found matching "',m,'"']}):E.map(T=>d.jsxs("div",{onClick:()=>{r(T.client_id),h(!1)},className:`px-4 py-3 mx-2 rounded-xl cursor-pointer transition-colors text-sm font-medium group flex items-center justify-between
                    ${t===T.client_id?"bg-slate-100 text-[#3399cc]":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                  `,children:[d.jsxs("div",{className:"flex flex-col overflow-hidden",children:[d.jsx("span",{className:"font-semibold uppercase truncate",children:T.company_name}),T.contract_number&&d.jsxs("span",{className:`text-xs mt-1 transition-colors truncate ${t===T.client_id?"text-[#3399cc]/70":"text-slate-400 group-hover:text-slate-500"}`,children:["Contract: ",T.contract_number]})]}),t===T.client_id&&d.jsx(gl,{size:16,className:"text-[#3399cc] shrink-0 ml-2"})]},T.client_id))]})]})]})},vse=()=>{var F,X;const e=rn(),[t,r]=te.useState([]),[n,s]=te.useState(0),[a,i]=te.useState(null),[o,c]=te.useState(!1),[f,h]=te.useState(!0),[m,x]=te.useState(null),[g,y]=te.useState(null),[b,w]=te.useState(!1);te.useEffect(()=>{E()},[]);const E=async()=>{try{h(!0);const M=await Tt.get("clients/approved");r(M.data)}catch{kt.error("Failed to load approved clients")}finally{h(!1)}},T=async M=>{i(M),x(null),await q(M)},_=async M=>{var J;const se=((J=M.target.files)==null?void 0:J[0])??null;if(!se){i(null),y(null);return}await T(se)},{isDragging:S,handleDragOver:C,handleDragLeave:I,handleDrop:j}=aD({onFileDrop:T,onInvalidFile:M=>x(M)}),q=async M=>{try{const se=await M.arrayBuffer(),J=new Uint8Array(se),Z=gg(J,{type:"array"}),ge=Z.SheetNames.find(G=>G.trim().toUpperCase()==="PRODUCTS");if(!ge){y(null),x("No 'PRODUCTS' tab found in the uploaded file.");return}const ie=Z.Sheets[ge],Ee=UI.sheet_to_json(ie);y(Ee.slice(0,10))}catch(se){console.error("Preview failed:",se),y(null)}},D=()=>{if(n===0){x("Please select a client to associate with these products");return}if(!a){x("Please select a file to upload");return}x(null),w(!0)},Q=async()=>{if(n===0){x("Please select a client to associate with these products");return}if(!a){x("Please select a file to upload");return}c(!0),x(null);const M=new FormData;M.append("file",a);try{await Tt.post(`/upload/${n}`,M,{headers:{"Content-Type":"multipart/form-data"}}),kt.success("Upload received! Your product catalog is being processed in the background."),i(null),y(null)}catch(se){kt.error((se==null?void 0:se.message)??"Upload failed")}finally{c(!1),w(!1)}},ae=()=>!g||g.length===0?[]:Object.keys(g[0]);return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 to-slate-100 p-6 md:p-10",children:[d.jsx(vl,{isOpen:b,onClose:()=>w(!1),onConfirm:Q,title:"Confirm GSA Product Upload",message:d.jsxs(d.Fragment,{children:["Are you sure you want to upload the product catalog for"," ",d.jsx("span",{className:"font-bold text-slate-800",children:(F=t.find(M=>M.client_id===n))==null?void 0:F.company_name}),"?"]}),details:[{label:"Client",value:((X=t.find(M=>M.client_id===n))==null?void 0:X.company_name)||""},{label:"File",value:(a==null?void 0:a.name)||""},{label:"Size",value:`${(((a==null?void 0:a.size)||0)/1024).toFixed(1)} KB`}],warning:{message:"This action will update the product catalog for the selected client. Existing products may be updated or replaced.",type:"amber"},confirmText:"Yes, Upload Catalog",cancelText:"Cancel",isSubmitting:o,variant:"emerald"}),d.jsxs("div",{className:" mx-auto",children:[d.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium group",children:[d.jsx(co,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back"]}),d.jsxs("div",{className:"mb-10",children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Upload GSA Products Catalog"}),d.jsx("p",{className:"text-slate-500 mt-1",children:"Update your product catalog by uploading an Excel spreadsheet."})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[d.jsxs("div",{className:"bg-white rounded-4xl shadow-sm border border-slate-200 p-8 md:p-10 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-8 pointer-events-none opacity-5",children:d.jsx(T2,{size:120})}),d.jsxs("div",{className:"space-y-8 relative",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"w-6 h-6 rounded-full bg-[#3399cc] text-white flex items-center justify-center text-xs font-bold",children:"1"}),d.jsx("label",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider",children:"Select Client"})]}),f?d.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl",children:[d.jsx(Wt,{className:"w-5 h-5 animate-spin text-[#24578f]"}),d.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Fetching approved clients..."})]}):d.jsx(Ix,{clients:t,selectedClient:n,onClientSelect:s})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"w-6 h-6 rounded-full bg-[#3399cc] text-white flex items-center justify-center text-xs font-bold",children:"2"}),d.jsx("label",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider",children:"Upload Spreadsheet"})]}),a?d.jsxs("div",{className:"flex items-center justify-between p-6 bg-blue-50 border border-blue-100 rounded-2xl",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-[#3399cc] rounded-xl flex items-center justify-center text-white",children:d.jsx(T2,{size:24})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-slate-900 truncate max-w-50 md:max-w-xs",children:a.name}),d.jsxs("p",{className:"text-xs text-slate-500",children:[(a.size/1024).toFixed(1)," KB  Ready to upload"]})]})]}),d.jsx("button",{onClick:()=>{i(null),y(null)},className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-red-500 transition-all",children:d.jsx(wr,{size:20})})]}):d.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-56 border-2 border-dashed rounded-4xl cursor-pointer transition-all ${S?"border-[#3399cc] bg-blue-50/60 scale-[1.01]":"border-slate-200 bg-slate-50/50 hover:border-[#3399cc] hover:bg-blue-50/30"}`,onDragOver:C,onDragLeave:I,onDrop:j,children:[d.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center",children:[d.jsx("div",{className:`w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mb-4 transition-transform ${S?"scale-110":"group-hover:scale-110"}`,children:d.jsx(xl,{className:`w-8 h-8 ${S?"text-[#2b82ad]":"text-[#3399cc]"}`})}),d.jsx("p",{className:"text-base font-bold text-slate-700 mb-1",children:S?"Drop your file here":"Drag & drop or click to browse"}),d.jsx("p",{className:"text-sm text-slate-400",children:"Excel (.xlsx or .xls) files only"})]}),d.jsx("input",{id:"file-input",type:"file",accept:".xlsx,.xls",onChange:_,className:"hidden"})]})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{onClick:D,disabled:o||!a||n===0||!(g!=null&&g.length),className:"w-full bg-[#3399cc] text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-3 transition-all hover:bg-[#2b82ad] disabled:opacity-40 disabled:grayscale shadow-lg shadow-blue-200 hover:shadow-xl active:scale-[0.98]",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Wt,{className:"w-5 h-5 animate-spin"})," Processing Upload..."]}):d.jsxs(d.Fragment,{children:[d.jsx(xl,{size:20})," Start Product Import"," ",d.jsx(Sh,{size:18})]})})}),m&&d.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[d.jsx(_f,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),d.jsx("p",{className:"text-sm text-red-700 font-medium",children:m})]})]})]}),g&&g.length>0&&d.jsxs("div",{className:"bg-white rounded-4xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[d.jsx("h2",{className:"text-sm font-black text-slate-400 uppercase tracking-[0.2em]",children:"Data Preview (First 10 Rows)"}),d.jsx("span",{className:"text-[10px] font-bold bg-slate-200 text-slate-600 px-2 py-0.5 rounded uppercase",children:"Read Only"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse",children:[d.jsx("thead",{children:d.jsx("tr",{className:"bg-white",children:ae().map(M=>d.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-wider border-b border-slate-100",children:M},M))})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:g.map((M,se)=>d.jsx("tr",{className:"hover:bg-slate-50/50 transition-colors",children:ae().map(J=>d.jsx("td",{className:"px-6 py-4 text-xs font-semibold text-slate-600 whitespace-nowrap",children:M[J]!=null?String(M[J]):""},J))},se))})]})})]})]})]})]})},bse={async getAllClients(){return(await Tt.get("/clients")).data},async getApprovedClients(){return(await Tt.get("/clients/approved")).data}};function wse({onUploadClick:e,onExportClick:t,isExporting:r=!1,totalCount:n}){return d.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center md:justify-between gap-6 mb-12 mx-auto",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Products"}),d.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Catalog management and inventory overview"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-[#3399cc] text-white px-6 py-2.5 rounded-xl font-semibold hover:bg-[#2b82ad] transition-all shadow-md hover:shadow-lg active:scale-95",children:[d.jsx(xl,{size:18}),"Upload GSA"]}),t&&d.jsxs("button",{onClick:t,disabled:r,className:"flex items-center justify-center gap-2 bg-white text-slate-700 border border-slate-200 px-6 py-2.5 rounded-xl font-semibold hover:bg-slate-50 transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(eg,{size:18}),"Export"]})]})]})}function Ese({searchTerm:e,onSearchChange:t,clients:r,selectedClient:n,onClientSelect:s,isLoading:a=!1}){const i=o=>{if(o===0)s(null);else{const c=r.find(f=>f.client_id===o);s(c??null)}};return d.jsxs("div",{className:"mx-auto bg-white p-4 rounded-4xl shadow-sm border border-slate-100 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:[d.jsxs("div",{className:"relative flex-1 w-full",children:[d.jsx(jc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),d.jsx("input",{type:"text",placeholder:"Search by name, manufacturer, or part number...",value:e,onChange:o=>t(o.target.value),className:"w-full pl-14 pr-6 py-3.5 rounded-2xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20  bg-slate-50/50 text-slate-700 placeholder:text-slate-400 transition-all font-medium"})]}),d.jsx("div",{className:"w-full lg:w-80",children:a?d.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 border border-slate-200 rounded-2xl",children:[d.jsx(Wt,{className:"w-5 h-5 animate-spin text-[#24578f]"}),d.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Fetching approved clients..."})]}):d.jsx(Ix,{clients:r,selectedClient:(n==null?void 0:n.client_id)??0,onClientSelect:i,allowAll:!0,allLabel:"All Clients",placeholder:"Filter by client..."})})]})}const zI=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"-";function _se({product:e,onClick:t}){return d.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors cursor-pointer group",onClick:t,children:[d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("div",{className:"text-sm font-bold text-slate-800 group-hover:text-[#3399cc] transition-colors",children:e.item_name}),e.item_description&&d.jsx("div",{className:"text-xs text-slate-500 mt-1 truncate max-w-62.5 font-medium",children:e.item_description})]}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-extrabold uppercase tracking-wider ${e.item_type==="A"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:e.item_type==="A"?"Accessory":"Base"})}),d.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 font-semibold",children:e.client_name}),d.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:e.manufacturer}),d.jsx("td",{className:"px-6 py-4 text-sm font-mono text-slate-600 font-medium",children:e.manufacturer_part_number}),d.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:zI(e.commercial_list_price)}),d.jsx("td",{className:"px-6 py-4 text-sm font-mono text-slate-600",children:e.uom})]})}function Sse({products:e,totalItems:t,loading:r,selectedClient:n,currentPage:s,totalPages:a,itemsPerPage:i,startIndex:o,onProductClick:c,onPageChange:f}){return d.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden relative transition-all",children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:[d.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Item Description"}),d.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Type"}),d.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Client"}),d.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Manufacturer"}),d.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"MFR Part #"}),d.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Price"}),d.jsx("th",{className:"text-left px-6 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"UOM"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:r?d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"px-6 py-32",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading Products..."})]})})}):e.length>0?e.map(h=>d.jsx(_se,{product:h,onClick:()=>c(h)},h.product_id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"px-6 py-20",children:d.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center mb-4 border border-slate-100",children:d.jsx(JE,{className:"w-8 h-8 text-slate-300"})}),d.jsx("h3",{className:"text-base font-bold text-slate-500",children:n?"No products found for this client":"No products found"})]})})})})]})}),d.jsx(yl,{currentPage:s,totalItems:t,itemsPerPage:i,onPageChange:f,label:"products"})]})}function Tse({product:e,onClose:t}){return d.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/40 transition-opacity",onClick:t}),d.jsxs("div",{className:"relative w-full max-w-lg bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-start justify-between bg-white sticky top-0 z-10",children:[d.jsxs("div",{className:"pr-8",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${e.item_type==="A"?"bg-blue-100 text-blue-700":"bg-emerald-100 text-emerald-700"}`,children:e.item_type==="A"?"Accessory":"Base Product"}),e.hazmat&&d.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-[10px] font-bold uppercase",children:"Hazmat"})]}),d.jsx("h2",{className:"text-xl font-bold text-slate-900 leading-tight",children:e.item_name}),d.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium italic",children:e.item_description})]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-900",children:d.jsx(wr,{size:24})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 scrollbar-thin",children:[e.photo_path&&d.jsx("div",{className:"w-full h-48 bg-slate-50 rounded-2xl border border-slate-100 overflow-hidden flex items-center justify-center",children:d.jsx("img",{src:e.photo_path,alt:e.item_name,className:"h-full w-full object-contain p-4",onError:r=>r.currentTarget.style.display="none"})}),d.jsxs(Ad,{title:"Core Identifiers",children:[d.jsx(pn,{label:"Client",value:e.client_name}),d.jsx(pn,{label:"Client Part #",value:e.client_part_number}),d.jsx(pn,{label:"Mfr Part #",value:e.manufacturer_part_number}),d.jsx(pn,{label:"Manufacturer",value:e.manufacturer})]}),d.jsxs(Ad,{title:"Physical Specifications",children:[d.jsx(pn,{label:"Dimensions (L x W x H)",value:e.length?`${e.length} x ${e.width} x ${e.height} ${e.physical_uom||""}`:null}),d.jsx(pn,{label:"Weight",value:e.weight_lbs?`${e.weight_lbs} lbs`:null}),d.jsx(pn,{label:"Warranty",value:e.warranty_period}),d.jsx(pn,{label:"Quantity per Pack",value:`${e.quantity_per_pack||1} ${e.quantity_unit_uom||""}`})]}),d.jsxs(Ad,{title:"Pricing & Classification",children:[d.jsx(pn,{label:"Commercial List Price",value:zI(e.commercial_list_price)}),d.jsx(pn,{label:"UOM",value:e.uom}),d.jsx(pn,{label:"SIN",value:e.sin}),d.jsx(pn,{label:"NSN",value:e.nsn}),d.jsx(pn,{label:"UPC",value:e.upc}),d.jsx(pn,{label:"UNSPSC",value:e.unspsc})]}),d.jsxs(Ad,{title:"Compliance & Environment",children:[d.jsx(pn,{label:"Country of Origin",value:e.country_of_origin}),d.jsx(pn,{label:"Recycled Content",value:e.recycled_content_percent?`${e.recycled_content_percent}%`:"0%"}),d.jsx(pn,{label:"Hazmat Status",value:e.hazmat?"Yes":"No"}),d.jsx(pn,{label:"Product Info Code",value:e.product_info_code})]}),d.jsx(Ad,{title:"Resources & Links",children:d.jsxs("div",{className:"col-span-2 flex flex-col gap-3",children:[e.product_url&&d.jsxs("a",{href:e.product_url,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-3 text-slate-700 hover:text-[#3399cc] font-semibold text-sm bg-slate-50 p-4 rounded-xl border border-slate-100 transition-all hover:border-[#3399cc]/30",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Xj,{size:16})," Product Page"]}),d.jsx(jn,{size:14,className:"text-slate-400"})]}),e.url_508&&d.jsxs("a",{target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-3 text-slate-700 hover:text-[#3399cc] font-semibold text-sm bg-slate-50 p-4 rounded-xl border border-slate-100 transition-all hover:border-[#3399cc]/30",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(gl,{size:16,className:"text-emerald-500"})," 508 Compliance Link"]}),d.jsx(jn,{size:14,className:"text-slate-400"})]})]})}),d.jsx("div",{className:"pt-6 border-t border-slate-100",children:d.jsxs("div",{className:"flex justify-between text-[10px] font-medium text-slate-400 uppercase tracking-tighter",children:[d.jsxs("span",{children:["Created:"," ",e.created_time?new Date(e.created_time).toLocaleDateString("en-US"):"N/A"]}),d.jsxs("span",{children:["Last Updated:"," ",e.updated_time?new Date(e.updated_time).toLocaleDateString("en-US"):"N/A"]})]})})]})]})]})}function Ad({title:e,children:t}){return d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-5",children:e}),d.jsx("div",{className:"grid grid-cols-2 gap-y-8 gap-x-4",children:t})]})}function pn({label:e,value:t}){return d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 tracking-wide",children:e}),d.jsx("p",{className:"text-sm font-bold text-slate-800",children:t??""})]})}function Nse(){const e=rn(),[t,r]=te.useState([]),[n,s]=te.useState([]),[a,i]=te.useState(null),[o,c]=te.useState(!0),[f,h]=te.useState(!0),[m,x]=te.useState(""),g=t_(m,500),[y,b]=te.useState(1),[w,E]=te.useState(null),[T,_]=te.useState(!1),[S,C]=te.useState(!1),[I,j]=te.useState(0),[q,D]=te.useState(0),[Q,ae]=te.useState(0),F=50,X=async(ie,Ee,G)=>{try{c(!0);const O=await Zd.getAllProducts({page:ie,page_size:F,search:Ee||void 0,client_id:G});r(O.items),j(O.total),D(O.total_pages)}catch(O){(O==null?void 0:O.status)===404?(r([]),j(0)):kt.error((O==null?void 0:O.message)||"Failed to load products.")}finally{c(!1)}},M=async ie=>{try{const Ee=await Zd.getAllProducts({page:1,page_size:1,client_id:ie});ae(Ee.total)}catch(Ee){console.error("Failed to fetch exportable count:",Ee),ae(0)}};te.useEffect(()=>{(async()=>{try{h(!0);const Ee=await bse.getApprovedClients();s(Ee)}catch(Ee){kt.error((Ee==null?void 0:Ee.message)||"Failed to load clients.")}finally{h(!1)}})()},[]),te.useEffect(()=>{X(y,g,w==null?void 0:w.client_id)},[y,g,w]),te.useEffect(()=>{M(w==null?void 0:w.client_id)},[w]);const se=ie=>{E(ie),b(1)},J=ie=>{x(ie),b(1)},Z=(y-1)*F,ge=async()=>{try{_(!0);const ie=await Zd.exportProducts(w==null?void 0:w.client_id),Ee=window.URL.createObjectURL(ie),G=document.createElement("a");G.href=Ee;const O=new Date().toISOString().split("T")[0];w?G.download=`${w.company_name}_products_${O}.xlsx`:G.download=`all_products_${O}.xlsx`,document.body.appendChild(G),G.click(),window.URL.revokeObjectURL(Ee),document.body.removeChild(G),kt.success("Export completed successfully."),C(!1)}catch(ie){kt.error((ie==null?void 0:ie.message)||"Failed to export products.")}finally{_(!1)}};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-6 lg:p-10 space-y-10",children:[d.jsxs("div",{className:"mx-auto",children:[d.jsx(wse,{onUploadClick:()=>e("/gsa-products/upload"),onExportClick:()=>C(!0),isExporting:T,totalCount:I}),d.jsx(Ese,{searchTerm:m,onSearchChange:J,clients:n,selectedClient:w,onClientSelect:se,isLoading:f}),d.jsx(Sse,{products:t,totalItems:I,loading:o,selectedClient:w,currentPage:y,totalPages:q,itemsPerPage:F,startIndex:Z,onProductClick:i,onPageChange:b})]}),a&&d.jsx(Tse,{product:a,onClose:()=>i(null)}),d.jsx(vl,{isOpen:S,onClose:()=>C(!1),onConfirm:ge,title:"Export GSA Products",message:w?d.jsxs(d.Fragment,{children:["Export all products for ",d.jsx("span",{className:"font-bold text-slate-800",children:w.company_name})," to Excel?"]}):"Export all products across all clients to Excel?",details:[{label:"Client",value:(w==null?void 0:w.company_name)??"All Clients"},{label:"Total Products",value:Q.toLocaleString()}],confirmText:"Yes, Export",cancelText:"Cancel",isSubmitting:T,variant:"blue"})]})}const lh=async e=>(await Tt.get("/jobs",{params:e})).data,HI=async(e,t)=>(await Tt.get(`/jobs/${e}`,{params:t})).data,Ase=async e=>(await Tt.post(`/jobs/${e}/status?action=approve`)).data,Cse=async e=>(await Tt.post(`/jobs/${e}/status?action=reject`)).data,qI=async e=>(await Tt.get("/export/price-modifications",{params:e,paramsSerializer:{indexes:null},responseType:"blob"})).data,VI=(e,t)=>{const r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)},$I=te.createContext(void 0),kse=({children:e})=>{const[t,r]=te.useState(null);return d.jsx($I.Provider,{value:{selectedJobId:t,setSelectedJobId:r},children:e||d.jsx(Ex,{})})},Mx=()=>{const e=te.useContext($I);if(e===void 0)throw new Error("useAnalysis must be used within an AnalysisProvider");return e},v3=e=>e?new Date(e).toLocaleTimeString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"",D_=e=>{const t={additions:0,deletions:0,priceIncreases:0,priceDecreases:0,descriptionChanges:0};return e&&(t.additions=e.NEW_PRODUCT||0,t.deletions=e.REMOVED_PRODUCT||0,t.priceIncreases=e.PRICE_INCREASE||0,t.priceDecreases=e.PRICE_DECREASE||0,t.descriptionChanges=e.DESCRIPTION_CHANGE||0),t},Rse=({steps:e,currentStep:t})=>d.jsx("div",{className:"flex items-center gap-2 p-2 rounded-2xl bg-white shadow-sm overflow-x-auto",children:e.map(r=>d.jsxs("div",{className:"flex items-center shrink-0",children:[d.jsxs("div",{className:`h-10 px-4 flex items-center gap-3 rounded-3xl transition-all ${t===r.id?"bg-[#3399cc] text-white shadow-lg":"text-slate-400"}`,children:[d.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border ${t===r.id?"border-white/30":"border-slate-200"}`,children:t>r.id?d.jsx(gl,{className:"w-3 h-3"}):r.id}),d.jsx("p",{className:"text-xs font-bold uppercase tracking-widest hidden sm:block",children:r.title})]}),r.id<4&&d.jsx("div",{className:"w-4 h-px bg-slate-200 mx-1"})]},r.id))}),Ose=({clients:e,selectedClient:t,onClientSelect:r,onContinue:n,error:s,errorVariant:a="error",isLoading:i=!1})=>d.jsxs("div",{className:"group bg-white/80 backdrop-blur-md rounded-3xl border border-slate-200 shadow-2xl shadow-slate-200/60 overflow-visible z-10 relative",children:[d.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/30",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[d.jsx("div",{className:"p-2.5 bg-cyan-50 rounded-xl shadow-sm ring-1 ring-cyan-100",children:d.jsx(qs,{className:"w-5 h-5 text-[#3399cc]"})}),d.jsx("h3",{className:"text-xl font-semibold text-slate-800 tracking-tight",children:"Select Client"})]}),d.jsx("p",{className:"text-sm text-slate-500",children:"Choose the client for analysis"})]}),d.jsxs("div",{className:"p-8 space-y-8 relative",children:[i?d.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 border border-slate-200 rounded-2xl",children:[d.jsx(Wt,{className:"w-5 h-5 animate-spin text-[#24578f]"}),d.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Fetching approved clients..."})]}):d.jsx(Ix,{clients:e,selectedClient:t,onClientSelect:r}),s&&d.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-2 animate-in fade-in slide-in-from-top-1 ${a==="warning"?"bg-amber-50 text-amber-700 border border-amber-100":a==="info"?"bg-blue-50 text-blue-700 border border-blue-100":"bg-red-50 text-red-700 border border-red-100"}`,children:[a==="warning"?d.jsx(u0,{className:"w-5 h-5 shrink-0"}):a==="info"?d.jsx(ZE,{className:"w-5 h-5 shrink-0"}):d.jsx(_f,{className:"w-5 h-5 shrink-0"}),d.jsx("span",{className:"text-sm font-medium",children:s})]}),d.jsx("div",{className:"flex justify-end pt-2",children:d.jsxs("button",{onClick:n,disabled:!t,className:"btn-primary",children:["Continue ",d.jsx(jn,{className:"w-4 h-4 ml-1"})]})})]})]}),jse=({file:e,uploadedFileName:t,previewData:r,totalRows:n,isParsingFile:s,error:a,errorVariant:i="error",onFileChange:o,onFileDrop:c,onInvalidFile:f,onBack:h,onContinue:m,onClearFile:x})=>{const{isDragging:g,handleDragOver:y,handleDragLeave:b,handleDrop:w}=aD({onFileDrop:c,onInvalidFile:f});return d.jsxs("div",{className:"group bg-white/80 backdrop-blur-md rounded-3xl border border-slate-200 shadow-2xl shadow-slate-200/60 overflow-hidden",children:[d.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/30",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"p-2.5 bg-cyan-50 rounded-xl shadow-sm ring-1 ring-cyan-100",children:d.jsx(T2,{className:"w-5 h-5 text-[#3399cc]"})}),d.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Upload Commercial Pricelist"})]}),d.jsx("p",{className:"text-sm text-slate-500",children:"Upload the updated commercial pricelist (Excel format)"})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("input",{id:"file-upload-input",type:"file",className:"hidden",accept:".xlsx,.xls",onChange:o}),d.jsx("div",{className:`border-2 border-dashed rounded-xl p-12 text-center transition-all cursor-pointer ${e?"border-emerald-500 bg-emerald-50":g?"border-[#3399cc] bg-cyan-50/70 scale-[1.01]":"border-slate-300 hover:border-[#3399cc] hover:bg-cyan-50/50"}`,onClick:o,onDragOver:y,onDragLeave:b,onDrop:w,children:e?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"w-16 h-16 mx-auto rounded-xl bg-emerald-100 flex items-center justify-center",children:d.jsx(gl,{className:"w-8 h-8 text-emerald-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-900",children:t}),d.jsx("p",{className:"text-sm text-slate-500",children:"Click to replace"})]})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:`w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto transition-transform ${g?"scale-110":""}`,children:d.jsx(xl,{className:`w-8 h-8 ${g?"text-[#2b82ad]":"text-[#3399cc]"}`})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-900",children:g?"Drop your file here":"Drag & drop or click to browse"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Excel (.xlsx or .xls) files only"})]})]})}),s&&d.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4 flex items-center gap-3",children:[d.jsx(Wt,{className:"w-5 h-5 animate-spin text-[#24578f] shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-xs font-bold text-slate-600 mb-1.5",children:"Parsing file, please wait"}),d.jsx("div",{className:"w-full h-1.5 bg-slate-200 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[#3399cc] rounded-full animate-[progress_1.2s_ease-in-out_infinite]",style:{width:"60%"}})})]})]}),!s&&r&&r.length>0&&d.jsxs("div",{className:"mt-6 border border-slate-200 rounded-xl overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-50 px-4 py-2 border-b border-slate-200 flex justify-between items-center",children:[d.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:["Data Preview (10 of ",n," rows)"]}),d.jsx("button",{onClick:x,className:"text-slate-400 hover:text-red-500",children:d.jsx(wr,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"max-h-105 overflow-auto",children:d.jsxs("table",{className:"w-full text-[11px] text-left border-collapse",children:[d.jsx("thead",{className:"sticky top-0 z-10",children:d.jsx("tr",{className:"bg-slate-100 border-b border-slate-200",children:Object.keys(r[0]).map(E=>d.jsx("th",{className:"px-4 py-2 font-bold text-slate-700 whitespace-nowrap",children:E},E))})}),d.jsx("tbody",{children:r.slice(0,10).map((E,T)=>d.jsx("tr",{className:"bg-white hover:bg-slate-50 border-b border-slate-50 transition-colors",children:Object.values(E).map((_,S)=>d.jsx("td",{className:"px-4 py-2 text-slate-600 whitespace-nowrap",children:String(_)},S))},T))})]})})]}),a&&d.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-2 animate-in fade-in slide-in-from-top-1 ${i==="warning"?"bg-amber-50 text-amber-700 border border-amber-100":i==="info"?"bg-blue-50 text-blue-700 border border-blue-100":"bg-red-50 text-red-700 border border-red-100"}`,children:[i==="warning"?d.jsx(u0,{className:"w-5 h-5 shrink-0"}):i==="info"?d.jsx(ZE,{className:"w-5 h-5 shrink-0"}):d.jsx(_f,{className:"w-5 h-5 shrink-0"}),d.jsx("span",{className:"text-sm font-medium",children:a})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("button",{onClick:h,className:"btn-secondary",children:[d.jsx(co,{className:"w-4 h-4"})," Back"]}),d.jsxs("button",{onClick:m,disabled:!e||s||!r,className:"btn-primary",children:["Continue ",d.jsx(jn,{className:"w-4 h-4"})]})]})]})]})},Dse=({activeClient:e,uploadedFileName:t,totalRows:r,isAnalyzing:n,error:s,errorVariant:a="error",onBack:i,onRunAnalysis:o})=>d.jsxs("div",{className:"group bg-white/80 backdrop-blur-md rounded-3xl border border-slate-200 shadow-2xl shadow-slate-200/60 overflow-hidden",children:[d.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/30",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"p-2.5 bg-cyan-50 rounded-xl shadow-sm ring-1 ring-cyan-100",children:d.jsx(VG,{className:"w-5 h-5 text-[#3399cc]"})}),d.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Run Analysis"})]}),d.jsx("p",{className:"text-sm text-slate-500",children:"Compare uploaded data with GSA contract data"})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full mb-10",children:[d.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:d.jsx(qs,{className:"w-5 h-5 text-[#3399cc]"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Client Name"}),d.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(e==null?void 0:e.company_name)||"N/A"})]})]}),d.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:d.jsx(tg,{className:"w-5 h-5 text-emerald-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Contract Number"}),d.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(e==null?void 0:e.contract_number)||"No Contract"})]})]}),d.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:d.jsx(qn,{className:"w-5 h-5 text-indigo-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"File Name"}),d.jsx("p",{className:"text-sm font-semibold text-slate-700 max-w-70",children:t})]})]}),d.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:d.jsx(HW,{className:"w-5 h-5 text-orange-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Total Rows"}),d.jsx("p",{className:"text-sm font-semibold text-slate-700",children:r.toLocaleString()})]})]})]}),s&&d.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-2 animate-in fade-in slide-in-from-top-1 ${a==="warning"?"bg-amber-50 text-amber-700 border border-amber-100":a==="info"?"bg-blue-50 text-blue-700 border border-blue-100":"bg-red-50 text-red-700 border border-red-100"}`,children:[a==="warning"?d.jsx(u0,{className:"w-5 h-5 shrink-0"}):a==="info"?d.jsx(ZE,{className:"w-5 h-5 shrink-0"}):d.jsx(_f,{className:"w-5 h-5 shrink-0"}),d.jsx("span",{className:"text-sm font-medium",children:s})]}),d.jsxs("div",{className:"flex justify-between pt-4",children:[d.jsxs("button",{onClick:i,disabled:n,className:"btn-secondary",children:[d.jsx(co,{className:"w-4 h-4"})," Back"]}),d.jsx("button",{onClick:o,disabled:n,className:"btn-primary",children:n?d.jsxs(d.Fragment,{children:[d.jsx(Wt,{className:"w-5 h-5 animate-spin"})," Analyzing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(AG,{className:"w-4 h-4 fill-current"})," Run Analysis"]})})]})]})]}),Ise=({label:e,value:t,icon:r,variant:n="blue"})=>{const a={emerald:{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-100",iconBg:"bg-emerald-100/50"},red:{bg:"bg-red-50",text:"text-red-600",border:"border-red-100",iconBg:"bg-red-100/50"},amber:{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-100",iconBg:"bg-amber-100/50"},cyan:{bg:"bg-cyan-50",text:"text-[#3399cc]",border:"border-cyan-100",iconBg:"bg-cyan-100/50"},blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-100",iconBg:"bg-blue-100/50"}}[n];return d.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm h-full hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-12 h-12 rounded-2xl ${a.iconBg} flex items-center justify-center ${a.text}`,children:Ve.cloneElement(r,{size:20})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-2xl font-bold text-slate-900 tabular-nums leading-none",children:t.toLocaleString()}),d.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mt-1.5",children:e})]})]})})},Cd=[{id:"NEW_PRODUCT",label:"Additions",icon:Nx,variant:"emerald"},{id:"REMOVED_PRODUCT",label:"Deletions",icon:Yj,variant:"red"},{id:"PRICE_INCREASE",label:" Price Increases",icon:c0,variant:"amber"},{id:"PRICE_DECREASE",label:"Price Decreases",icon:l0,variant:"cyan"},{id:"DESCRIPTION_CHANGE",label:"Description Changes",icon:Sf,variant:"blue"}],WI=({actions:e,actionSummary:t,totalActions:r,totalPages:n,currentPage:s,activeTab:a,onTabChange:i,onPageChange:o,onExport:c,isLoading:f=!1,isExporting:h=!1})=>{const[m,x]=te.useState(!1),[g,y]=te.useState([]),b=7;Ve.useEffect(()=>{const _=Cd.filter(S=>(t[S.id]||0)>0).map(S=>S.id);_.length>0&&g.length===0&&y(_)},[t]);const w=a==="DESCRIPTION_CHANGE",E=a==="PRICE_INCREASE"||a==="PRICE_DECREASE",T=a==="NEW_PRODUCT"||a==="REMOVED_PRODUCT";return d.jsxs("div",{className:"space-y-6",children:[d.jsx(vl,{isOpen:m,onClose:()=>x(!1),onConfirm:async()=>{await c(g),x(!1)},title:"Export Analysis Results",message:"This will download the selected modification categories as an Excel file.",confirmText:"Yes, Export",cancelText:"Cancel",isSubmitting:h,variant:"blue"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:Cd.map(_=>d.jsx(Ise,{label:_.label,value:t[_.id]||0,icon:d.jsx(_.icon,{className:"w-4 h-4"}),variant:_.variant},_.id))}),d.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 flex items-center justify-between gap-4",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Analysis Results"}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[d.jsx("div",{className:"flex flex-wrap gap-3 p-1.5 bg-slate-50 border border-slate-200 rounded-xl",children:Cd.map(_=>{const S=(t[_.id]||0)>0,C=g.includes(_.id);return d.jsxs("label",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all border ${C?`bg-white border-${_.variant}-200 text-slate-900 shadow-xs`:"bg-transparent border-transparent text-slate-400"} ${S?"cursor-pointer hover:text-slate-600":"opacity-40 cursor-not-allowed"}`,children:[d.jsx("input",{type:"checkbox",className:"sr-only",checked:C,disabled:!S,onChange:()=>{S&&y(I=>I.includes(_.id)?I.filter(j=>j!==_.id):[...I,_.id])}}),d.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-all ${C?`bg-${_.variant}-100/50 border-${_.variant}-500 text-${_.variant}-600`:"bg-white border-slate-300"}`,children:C&&d.jsx("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M0 11l2-2 5 5L18 3l2 2L7 18z"})})}),d.jsx("span",{className:"text-xs font-bold leading-none select-none",children:_.label})]},_.id)})}),d.jsxs("button",{onClick:()=>x(!0),disabled:g.length===0||h,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-bold text-sm transition-all border ${g.length===0?"bg-slate-50 text-slate-300 border-slate-100 cursor-not-allowed":"bg-white text-slate-700 border-slate-200 hover:bg-slate-100 active:scale-95"}`,children:[d.jsx(eg,{size:16}),g.length===Cd.length?"Export All":`Export (${g.length})`]})]})]}),d.jsx("div",{className:"px-6 pt-4",children:d.jsx("div",{className:"bg-slate-100/80 p-1 rounded-2xl flex items-center w-full ",children:Cd.map(_=>d.jsxs("button",{onClick:()=>i(_.id),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-sm font-bold transition-all
                       ${a===_.id?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[d.jsx(_.icon,{size:14,className:a===_.id?`text-${_.variant}-600`:""}),_.label]},_.id))})}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"border border-slate-100 rounded-xl overflow-hidden",children:d.jsxs("table",{className:"w-full text-sm table-fixed",children:[d.jsx("thead",{className:"bg-slate-50/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Part Number"}),d.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Product Name"}),w&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Old Description"}),d.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"New Description"})]}),E&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Old List Price"}),d.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"New List Price"})]}),T&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Description"}),d.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"List Price"})]})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:f?d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"px-6 py-16 text-center",children:d.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading analysis results..."})]})})}):e.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"p-10 text-center text-slate-400 italic",children:"No modifications found for this category."})}):e.map((_,S)=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"p-3 font-mono text-xs text-slate-500",children:_.manufacturer_part_number||"N/A"}),d.jsx("td",{className:"p-3 font-medium text-slate-900",children:_.product_name||"Unknown Product"}),w&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"p-3 text-xs text-slate-400 truncate max-w-60",children:_.old_description||"-"}),d.jsx("td",{className:"p-3 text-xs text-slate-700",children:_.new_description||"-"})]}),E&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"p-3 text-right text-slate-400 tabular-nums",children:_.old_price?`$${Number(_.old_price).toLocaleString()}`:"-"}),d.jsx("td",{className:"p-3 text-right font-bold text-slate-900 tabular-nums",children:_.new_price?`$${Number(_.new_price).toLocaleString()}`:"-"})]}),T&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"p-3 text-xs text-slate-700 truncate max-w-60",children:_.new_description||_.old_description||"-"}),d.jsx("td",{className:"p-3 text-right font-bold text-slate-900 tabular-nums",children:_.new_price??_.old_price?`$${Number(_.new_price??_.old_price).toLocaleString()}`:"-"})]})]},S))})]})})}),d.jsx(yl,{currentPage:s,totalItems:r,itemsPerPage:b,onPageChange:o})]})]})},Mse=({actions:e,actionSummary:t,totalActions:r,totalPages:n,currentPage:s,activeTab:a,onTabChange:i,onPageChange:o,onExport:c,onReset:f,onGenerateDocuments:h,isLoading:m=!1,isExporting:x=!1})=>d.jsxs("div",{className:"space-y-6",children:[d.jsx(WI,{actions:e,actionSummary:t,totalActions:r,totalPages:n,currentPage:s,activeTab:a,onTabChange:i,onPageChange:o,onExport:c,isLoading:m,isExporting:x}),d.jsxs("div",{className:"flex justify-between items-center pt-4",children:[d.jsx("button",{onClick:f,className:"btn-secondary",children:"Start New Analysis"}),d.jsxs("button",{onClick:h,className:"btn-primary",children:["Generate Documents ",d.jsx(Sh,{className:"w-4 h-4"})]})]})]}),Fse=[{id:1,title:"Select Client",description:"Choose a client"},{id:2,title:"Upload Pricelist",description:"Upload Excel file"},{id:3,title:"Run Analysis",description:"Process data"},{id:4,title:"Review Results",description:"Review and export"}];function Pse(){const e=rn(),{setSelectedJobId:t}=Mx(),[r,n]=te.useState(1),[s,a]=te.useState(null),[i,o]=te.useState(!1),[c,f]=te.useState(!1),[h,m]=te.useState([]),[x,g]=te.useState(!0),[y,b]=te.useState(null),[w,E]=te.useState("error"),[T,_]=te.useState(null),[S,C]=te.useState(""),[I,j]=te.useState(null),[q,D]=te.useState(null),[Q,ae]=te.useState(null),[F,X]=te.useState(0),[M,se]=te.useState(!1),[J,Z]=te.useState(!1);te.useEffect(()=>{W()},[]);const[ge,ie]=te.useState("NEW_PRODUCT"),[Ee,G]=te.useState(1),O=7;te.useEffect(()=>{r===4&&(I!=null&&I.job_id)&&K(I.job_id)},[r,ge,Ee,I==null?void 0:I.job_id]);const W=async()=>{try{g(!0);const z=await Tt.get("/clients/approved");m(z.data)}catch(z){console.error("Failed to fetch clients:",z)}finally{g(!1)}},K=async z=>{try{se(!0);const be=await HI(z,{page:Ee,page_size:O,action_type:ge}),U={...be,summary:D_(be.action_summary)};D(U)}catch(be){console.error("Failed to fetch job details:",be),kt.error("Failed to load analysis results")}finally{se(!1)}},re=async z=>{var we,B;if(z.type==="click"){(we=document.getElementById("file-upload-input"))==null||we.click();return}const U=((B=z.target.files)==null?void 0:B[0])??null;U&&await P(U)},Y=async z=>{await P(z)},P=async z=>{if(!z.name.match(/\.(xlsx|xls)$/i)){b("Invalid format. Please select an Excel (.xlsx or .xls) file");return}_(z),C(z.name),b(null),E("error"),ae(null),Z(!0);try{const be=await z.arrayBuffer(),U=new Uint8Array(be),we=gg(U,{type:"array"}),B=we.Sheets[we.SheetNames[0]],A=UI.sheet_to_json(B,{defval:""});if(A.length===0){b("The uploaded Excel file contains no data rows."),_(null),ae(null),X(0);return}X(A.length),ae(A)}finally{Z(!1)}},L=async()=>{if(!T||!s){b("Missing file or client selection");return}o(!0),b(null),E("error");const z=new FormData;z.append("file",T);try{const be=await Tt.post(`/cpl/${s}`,z,{headers:{"Content-Type":"multipart/form-data"}});j(be.data),t(be.data.job_id),n(4),o(!1)}catch(be){o(!1),kt.error((be==null?void 0:be.message)??"Analysis failed. Please try again.")}},oe=()=>{n(1),a(null),_(null),C(""),j(null),t(null),D(null),ae(null),X(0),b(null),E("error"),ie("NEW_PRODUCT"),G(1)},ee=h.find(z=>z.client_id===s),ne=()=>{switch(r){case 1:return d.jsx(Ose,{clients:h,selectedClient:s??0,onClientSelect:z=>{a(z),b(null),E("error")},onContinue:()=>{if(!ee){b("Please select a client.");return}if(!ee.has_products){b(d.jsxs("span",{children:["Please complete uploading initial GSA products for selected client before running Price List Analysis."," ",d.jsx(lo,{to:"/gsa-products/upload",className:"underline font-semibold hover:text-yellow-800 transition-colors",children:"Click here to upload"})]})),E("warning");return}b(null),E("error"),n(2)},error:y,errorVariant:w,isLoading:x});case 2:return d.jsx(jse,{file:T,uploadedFileName:S,previewData:Q,totalRows:F,isParsingFile:J,error:y,errorVariant:w,onFileChange:re,onFileDrop:Y,onInvalidFile:z=>b(z),onBack:()=>{n(1),_(null),ae(null),b(null)},onContinue:()=>{n(3),b(null),E("error")},onClearFile:()=>{_(null),ae(null)}});case 3:return d.jsx(Dse,{activeClient:ee,uploadedFileName:S,totalRows:F,isAnalyzing:i,error:y,errorVariant:w,onBack:()=>{n(2),j(null),b(null)},onRunAnalysis:L});case 4:return d.jsx(Mse,{actions:(q==null?void 0:q.modifications_actions)||[],actionSummary:(q==null?void 0:q.action_summary)||{},totalActions:(q==null?void 0:q.total_actions)||0,totalPages:(q==null?void 0:q.total_pages)||0,currentPage:Ee,activeTab:ge,isLoading:M,isExporting:c,onTabChange:z=>{ie(z),G(1)},onPageChange:z=>G(z),onExport:async z=>{try{f(!0);const be=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-"),U=(ee==null?void 0:ee.company_name.replace(/\s+/g,"-"))||"Client",we=(ee==null?void 0:ee.contract_number)||"NoContract",B=`${U}_${we}_modifications_${be}.xlsx`,A=await qI({job_id:I==null?void 0:I.job_id,types:z});VI(A,B),kt.success("Analysis export complete")}catch(be){console.error("Export failed:",be),kt.error("Failed to export analysis")}finally{f(!1)}},onReset:oe,onGenerateDocuments:()=>e(`/documents?job_id=${I==null?void 0:I.job_id}`)});default:return null}};return d.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-6 lg:p-10 space-y-10",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Price List Analysis"}),d.jsx("p",{className:"text-slate-500 font-medium",children:"Compare commercial pricelists with GSA contract data"})]}),d.jsx(Rse,{steps:Fse,currentStep:r}),d.jsx("div",{className:"w-full",children:ne()})]})}const Bm=[{id:"add-product",name:"Additions",description:"Request to add new products to an existing GSA contract",icon:"Plus",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_additions",label:"SIN",type:"text",behavior:"editable",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"solicitationNumber",label:"Solicitation Number",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"refresh",label:"Refresh Number",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"coo",label:"Country of Origin",type:"text",behavior:"manual",section:"Request Details"},{id:"basicDiscount",label:"GSA Basic Discount",type:"text",behavior:"manual",section:"Request Details"},{id:"numberOfProductsAdded",label:"Number of Products Added",type:"number",behavior:"readonly",section:"Request Details"},{id:"quantityVolumeDiscount",label:"Quantity / Volume Discount",type:"text",behavior:"readonly",section:"Request Details"},{id:"otherDiscounts",label:"Other Discounts / Concessions",type:"text",behavior:"readonly",section:"Request Details"},{id:"additionRationale",label:"Addition Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"deliveryAroNormal",label:"Delivery ARO  Normal",type:"text",behavior:"readonly",section:"Logistics & Compliance"},{id:"deliveryAroExpedited",label:"Delivery ARO  Expedited",type:"text",behavior:"readonly",section:"Logistics & Compliance"},{id:"fobTerms",label:"FOB Terms",type:"text",behavior:"readonly",section:"Logistics & Compliance"},{id:"energyStarCompliance",label:"Energy Star Compliance",type:"select",behavior:"readonly",section:"Logistics & Compliance",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"na",label:"Not Applicable"}]}]},{id:"delete-product",name:"Deletions",description:"Request to remove products from an existing GSA contract",icon:"Trash2",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_deletions",label:"SIN",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"numberOfProductsDeleted",label:"Number of Products Deleted",type:"number",behavior:"readonly",section:"Request Details"},{id:"deletionRationale",label:"Deletional Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]}]},{id:"price-increase",name:"Price Increase",description:"Economic Price Adjustment for price increases based on index changes",icon:"TrendingUp",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_price_increase",label:"SIN",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"priceIncreased",label:"Number of Products Price Increased",type:"number",behavior:"readonly",section:"Request Details"},{id:"requestedIncrease",label:"Requested Increase (%)",type:"percentage",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"increaseRationale",label:"Increase Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"backgroundInfo",label:"Background Information",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]}]},{id:"price-decrease",name:"Price Decrease",description:"Economic Price Adjustment for price decreases based on index changes",icon:"TrendingDown",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_price_decrease",label:"SIN",type:"text",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"priceDecreased",label:"Number of Products Price Decreased",type:"number",behavior:"readonly",section:"Request Details"},{id:"requestedDecrease",label:"Requested Decrease (%)",type:"percentage",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"decreaseRationale",label:"Decrease Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]}]},{id:"description-change",name:"Description Changes",description:"Request to modify product descriptions without price changes",icon:"FileEdit",fields:[{id:"contractNumber",label:"Contract Number",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"companyName",label:"Company Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"salutation",label:"Salutation",type:"select",behavior:"manual",section:"Contract & Contact Info",options:[{value:"Mr.",label:"Mr."},{value:"Ms.",label:"Ms."},{value:"Mrs.",label:"Mrs."}],validation:[{type:"required",message:"Required"}],width:"w-1/4"},{id:"contractorName",label:"Contracting Officer",type:"text",behavior:"editable",section:"Contract & Contact Info",width:"w-3/4",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeAddressLine",label:"GSA Office Address Line",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeCity",label:"GSA Office City",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeState",label:"GSA Office State",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"gsaOfficeZip",label:"GSA Office ZIP Code",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"consultantName",label:"Consultant Name",type:"text",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantEmail",label:"Consultant Email",type:"email",behavior:"readonly",section:"Contract & Contact Info"},{id:"consultantPhone",label:"Consultant Phone",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorTitle",label:"Authorized Negotiator Title",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"negotiatorName",label:"Authorized Negotiator Name",type:"text",behavior:"manual",section:"Contract & Contact Info",validation:[{type:"required",message:"Required"}]},{id:"sin_description_change",label:"SIN",type:"text",behavior:"editable",section:"Request Details",validation:[{type:"required",message:"Required"}]},{id:"descriptionChanged",label:"Number of Products Changed",type:"number",behavior:"readonly",section:"Request Details"},{id:"modificationRationale",label:"Description Change Rationale",type:"textarea",behavior:"manual",section:"Request Details",validation:[{type:"required",message:"Required"}]}]}],Lse=e=>Bm.find(t=>t.id===e),Bse=async e=>(await Tt.get(`/generate/${e}`)).data,Use=e=>{const t=e.client||{},r=e.client_contract||{},n=e.modification_summary||{},s=r.discounts||{},a=r.delivery||{},i=r.address||{},o=r.other||{},c=e.negotiator||{};return{companyName:t.company_name,companyLogo:t.logo,contractNumber:r.contract_number,contractorName:r.contract_officer_name,contractorAddress:i.contract_officer_address,contractorCity:i.contract_officer_city,contractorState:i.contract_officer_state,contractorZip:i.contract_officer_zip,gsaOfficeAddressLine:i.contract_officer_address,gsaOfficeCity:i.contract_officer_city,gsaOfficeState:i.contract_officer_state,gsaOfficeZip:i.contract_officer_zip,gsaOfficeCityStateZip:`${i.contract_officer_city||""}, ${i.contract_officer_state||""}, ${i.contract_officer_zip||""}`.trim(),negotiatorName:c.name,deliveryAroNormal:a.normal_delivery_time,deliveryAroExpedited:a.expedited_delivery_time,fobTerms:o.fob_term,coo:r.origin_country,basicDiscount:s.gsa_proposed_discount,quantityVolumeDiscount:s.q_v_discount,otherDiscounts:o.additional_concessions,energyStarCompliance:(()=>{var h;const f=(h=o.energy_star_compliance)==null?void 0:h.toLowerCase();return f==="yes"?"yes":f==="no"?"no":f==="applicable"||f==="not applicable"||f==="n/a"?"na":""})(),numberOfProductsAdded:n.products_added,numberOfProductsDeleted:n.products_deleted,descriptionChanged:n.description_changed,numberOfItemsChanged:n.description_changed,priceIncreased:n.price_increased,priceDecreased:n.price_decreased,requestedIncrease:n.price_increased>0?"":void 0,requestedDecrease:n.price_decreased>0?"":void 0,totalSins:e.total_sins,...(()=>{const f=(m,x)=>{var y;const g=(y=e.sin_groups_by_action)==null?void 0:y[m];return Array.isArray(g)?g.join(", "):Array.isArray(x)?x.join(", "):x&&typeof x=="object"?Object.keys(x).join(", "):""},h=e.sin_groups;return{sinsFormatted:f("ALL",h),sin_additions:f("ADDED_PRODUCT",h),sin_deletions:f("REMOVED_PRODUCT",h),sin_price_increase:f("PRICE_INCREASE",h),sin_price_decrease:f("PRICE_DECREASE",h),sin_description_change:f("DESCRIPTION_CHANGE",h)}})()}},GI=te.createContext(void 0),zse=({children:e})=>{const{user:t}=Ga(),[r,n]=te.useState("select-type"),[s,a]=te.useState(null),[i,o]=te.useState(null),[c,f]=te.useState({}),[h,m]=te.useState([]),[x,g]=te.useState([]),[y,b]=te.useState(null),[w,E]=te.useState(null),[T,_]=te.useState(null),S=te.useCallback(async(Q,ae)=>{const F=Lse(Q);if(F){o(F),a(Q);try{let X={},M=null;ae&&(ae===T&&w?M=w:(n("load-config"),M=await Bse(ae),E(M),_(ae))),M&&(X=Use(M),b(M.modification_summary)),t&&(X.consultantName=t.name,X.consultantEmail=t.email,X.consultantPhone=t.phone_no);const se={};F.fields.forEach(J=>{X[J.id]!==void 0?se[J.id]=X[J.id]:J.defaultValue!==void 0&&(se[J.id]=J.defaultValue)}),f(J=>{const Z={...J};return Object.keys(se).forEach(ge=>{(ge.toLowerCase().includes("numberof")||ge.toLowerCase().includes("priceincreased")||ge.toLowerCase().includes("pricedecreased")||ge.toLowerCase().includes("descriptionchanged")||J[ge]===void 0||J[ge]==="")&&(Z[ge]=se[ge])}),X.companyLogo&&(Z.companyLogo=X.companyLogo),Z})}catch(X){console.error("Prefill failed:",X)}}},[t,T,w,n]),C=te.useCallback((Q,ae)=>{f(F=>({...F,[Q]:ae})),m(F=>F.filter(X=>X.fieldId!==Q))},[]),I=te.useCallback(()=>{if(!i)return!1;const Q=[];return i.fields.forEach(ae=>{var Z;const F=c[ae.id],X=typeof F=="string"?F.trim():F,M=ae.label;if(((Z=ae.validation)==null?void 0:Z.some(ge=>ge.type==="required"))&&!X&&X!==0&&(typeof X!="string"||X.trim()==="")){Q.push({fieldId:ae.id,message:`${M} is required`});return}if(!X&&X!==0)return;let J=null;if(ae.type==="email")J=Tf(String(X));else if(ae.id.toLowerCase().includes("phone")||ae.id.toLowerCase().includes("phoneno"))J=Cx(String(X),M);else if(ae.id.toLowerCase().includes("name")&&!ae.id.toLowerCase().includes("company"))J=f0(String(X));else if(ae.id.toLowerCase().includes("zip")||ae.id.toLowerCase().includes("postal"))J=kx(String(X));else if(ae.type==="number"||ae.type==="percentage"){const ge=Number(X);isNaN(ge)?J=`${M} must be a valid number`:ge<0&&(J=`${M} must be a positive number`)}J&&Q.push({fieldId:ae.id,message:J})}),m(Q),Q.length===0},[i,c]),j=te.useCallback(()=>{n("select-type"),a(null),o(null),f({}),m([]),b(null),E(null),_(null)},[]),q=te.useCallback(()=>{const Q=`DOC-${Date.now().toString(36).toUpperCase()}`,ae=x.filter(F=>F.documentType===s).length;return{id:Q,documentType:(i==null?void 0:i.name)||"",version:`v1.${ae}`,generatedBy:(t==null?void 0:t.name)||"Unknown User",generatedAt:new Date().toISOString(),data:{...c}}},[i,x,c,s,t]),D=te.useCallback(Q=>{g(ae=>[Q,...ae])},[]);return d.jsx(GI.Provider,{value:{currentStep:r,setCurrentStep:n,selectedDocumentType:s,setSelectedDocumentType:a,documentConfig:i,formData:c,setFormData:f,updateField:C,validationErrors:h,setValidationErrors:m,validateForm:I,documentHistory:x,addToHistory:D,loadDocumentConfig:S,resetWorkflow:j,generateDocument:q,analysisSummary:y},children:e})},I_=()=>{const e=te.useContext(GI);if(!e)throw new Error("useDocument must be used within a DocumentProvider");return e},Hse={"add-product":{primary:"#059669",bg:"bg-emerald-50",border:"border-emerald-200",hoverBorder:"hover:border-emerald-500/40",iconBg:"bg-emerald-100",iconColor:"#059669",dotBg:"bg-emerald-600",chevron:"text-emerald-600"},"delete-product":{primary:"#DC2626",bg:"bg-red-50/50",border:"border-red-200",hoverBorder:"hover:border-red-500/40",iconBg:"bg-red-100",iconColor:"#DC2626",dotBg:"bg-red-500",chevron:"text-red-500"},"price-increase":{primary:"#d97706",bg:"bg-amber-50/50",border:"border-amber-200",hoverBorder:"hover:border-amber-500/40",iconBg:"bg-amber-100",iconColor:"#d97706",dotBg:"bg-amber-600",chevron:"text-amber-600"},"price-decrease":{primary:"#0891B2",bg:"bg-cyan-50/50",border:"border-cyan-200",hoverBorder:"hover:border-cyan-500/40",iconBg:"bg-cyan-100",iconColor:"#0891B2",dotBg:"bg-cyan-600",chevron:"text-cyan-600"},"description-change":{primary:"#2563EB",bg:"bg-blue-50/50",border:"border-blue-200",hoverBorder:"hover:border-blue-500/40",iconBg:"bg-blue-100",iconColor:"#2563EB",dotBg:"bg-blue-600",chevron:"text-blue-600"}},qse={Plus:Nx,Trash2:GG,TrendingUp:c0,TrendingDown:l0,FileEdit:Sf},Vse=({config:e,isSelected:t,onSelect:r,count:n,variant:s="grid"})=>{const a=qse[e.icon]||Sf,i=Hse[e.id];return s==="horizontal"?d.jsxs("div",{onClick:r,className:`
          group cursor-pointer transition-all duration-300
          px-6 py-4 rounded-2xl relative overflow-hidden flex items-center gap-4 shrink-0
          ${t?`bg-white shadow-md border ${i.border} scale-[1.02]`:`bg-white backdrop-blur-sm shadow-sm  border-slate-200 hover:shadow-md ${i.hoverBorder} hover:scale-[1.01]`}
        `,children:[d.jsx("div",{className:`
            w-10 h-10 rounded-xl flex items-center justify-center shrink-0
            transition-all duration-300
            ${t?`${i.iconBg} shadow-lg shadow-black/10`:`bg-slate-100 group-hover:${i.bg}`}
          `,children:d.jsx(a,{className:`w-5 h-5 transition-all duration-300 ${t?"scale-110":"group-hover:scale-110"}`,style:{color:i.iconColor}})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-sm text-slate-900 tracking-tight truncate",children:e.name}),n!==void 0&&d.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5 animate-in fade-in slide-in-from-left-1 duration-500",children:[n," ",n===1?"modification":"modifications"]})]}),t&&d.jsx("div",{className:`absolute top-2 right-2 w-1.5 h-1.5 rounded-full ${i.dotBg} animate-pulse`})]}):d.jsxs("div",{onClick:r,className:`
        group cursor-pointer transition-all duration-300
        p-8 rounded-3xl relative overflow-hidden
        ${t?`bg-white shadow-xl border-2 ${i.border} scale-[1.02]`:`bg-white/80 backdrop-blur-sm shadow-sm border border-slate-200 hover:shadow-lg ${i.hoverBorder} hover:scale-[1.01]`}
      `,children:[t&&d.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{background:`linear-gradient(135deg, ${i.primary} 0%, transparent 100%)`}}),d.jsxs("div",{className:"flex items-start gap-6 relative z-10",children:[d.jsx("div",{className:`
            w-14 h-14 rounded-2xl flex items-center justify-center shrink-0
            transition-all duration-300
            ${t?"shadow-lg shadow-black/10":`bg-slate-50 border border-slate-200 group-hover:${i.bg} group-hover:border-black/5`}
          `,style:t?{backgroundColor:i.iconColor}:{},children:d.jsx(a,{className:`w-6 h-6 transition-all duration-300 ${t?"scale-110":"group-hover:scale-110"}`,style:{color:"#ffffff"},strokeWidth:2.5})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-bold text-lg text-slate-900 tracking-tight",children:e.name}),n!==void 0&&d.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${i.bg} ${i.chevron} border ${i.border} animate-in zoom-in duration-500`,children:n})]}),d.jsx(jn,{className:`w-5 h-5 transition-all duration-300 shrink-0 ${t?`${i.chevron} translate-x-1`:`text-slate-300 group-hover:${i.chevron} group-hover:translate-x-1`}`})]}),d.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed",children:e.description})]})]}),t&&d.jsx("div",{className:`absolute top-4 right-4 w-2 h-2 rounded-full ${i.dotBg} animate-pulse`})]})};function $se(){var T;const{documentConfig:e,formData:t,updateField:r,validateForm:n,setCurrentStep:s,validationErrors:a}=I_(),i=rn(),[o,c]=te.useState(""),f={muted:"#627383",border:"#d9e0e8",secondaryBg:"#f8fafc"},h=`
    w-full mt-2 px-4 py-3 rounded-xl border transition-all text-sm font-medium
    focus:outline-none focus:ring-4 focus:ring-[#24548f]/5 focus:border-[#24548f]
    placeholder:text-slate-400
  `,m=`
    w-full mt-2 px-4 py-3 rounded-xl border bg-[#f8fafc] text-[#627383] 
    cursor-not-allowed border-[#d9e0e8] font-medium text-sm
  `,x=te.useMemo(()=>e!=null&&e.fields?e.fields.reduce((_,S)=>{const C=S.section||"General Information";return _[C]||(_[C]=[]),_[C].push(S),_},{}):{},[e]),g=te.useMemo(()=>Object.keys(x),[x]);te.useEffect(()=>{g.length!==0&&(g.includes(o)||c(g[0]))},[g,o]);const y=()=>{n()&&s("preview")},b=_=>{var C;const S=((C=x[_])==null?void 0:C.map(I=>I.id))||[];return a.some(I=>S.includes(I.fieldId))};if(!e)return d.jsx("div",{className:"min-h-100 flex items-center justify-center text-slate-500 font-bold",children:"Please select a document type first."});const w=_=>{switch(_){case"number":case"email":case"password":case"date":return _;default:return"text"}},E=g.indexOf(o);return d.jsxs("div",{className:"animate-fade-in  mx-auto",children:[d.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-slate-200",children:g.map(_=>{const S=o===_,C=b(_);return d.jsxs("button",{onClick:()=>c(_),className:`px-6 py-4 text-xs font-bold uppercase tracking-widest transition-all border-b-2 relative ${S?"border-[#24548f] text-[#24548f]":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[_,C&&d.jsxs("span",{className:"absolute top-3 right-2 flex h-2 w-2",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]})]},_)})}),d.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden min-h-100 animate-slide-up",children:d.jsx("div",{className:"p-8 flex flex-wrap -mx-4 gap-y-6",children:(T=x[o])==null?void 0:T.map(_=>{var j,q,D;const S=_.behavior==="readonly",C=a.some(Q=>Q.fieldId===_.id),I=_.width||(_.type==="textarea"?"w-full":"w-full md:w-1/2");return d.jsxs("div",{className:`${I} px-4`,children:[d.jsxs("label",{className:"text-sm font-black ml-1",style:{color:f.muted},children:[_.label," ",((j=_.validation)==null?void 0:j.some(Q=>Q.type==="required"))&&d.jsx("span",{className:"text-red-500 mr-1",children:"*"})]}),_.type==="textarea"?d.jsx("textarea",{value:t[_.id]||"",onChange:Q=>r(_.id,Q.target.value),disabled:S,placeholder:_.placeholder,className:`${S?m:h} min-h-30 resize-none`,style:{borderColor:f.border,backgroundColor:S?f.secondaryBg:"white"}}):_.type==="select"?d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:t[_.id]||"",onChange:Q=>r(_.id,Q.target.value),disabled:S,className:`${S?m:h} appearance-none pr-8`,style:{borderColor:f.border,backgroundColor:S?f.secondaryBg:"white"},children:[d.jsxs("option",{value:"",disabled:!0,children:["Select ",_.label]}),(q=_.options)==null?void 0:q.map(Q=>d.jsx("option",{value:Q.value,children:Q.label},Q.value))]}),d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:d.jsx(jn,{className:"w-4 h-4 text-gray-400 rotate-90"})})]}):d.jsx("input",{type:w(_.type),value:t[_.id]||"",onChange:Q=>r(_.id,Q.target.value),disabled:S,placeholder:_.placeholder,className:S?m:h,style:{borderColor:f.border,backgroundColor:S?f.secondaryBg:"white"}}),C&&d.jsx("div",{className:"flex items-center gap-1 mt-1.5 ml-1 text-red-600",children:d.jsx("p",{className:"text-xs",children:((D=a.find(Q=>Q.fieldId===_.id))==null?void 0:D.message)||"This field is required"})})]},_.id)})})}),d.jsxs("div",{className:"mt-8 flex items-center justify-between pb-10",children:[E===0?d.jsxs("button",{onClick:()=>i(-1),className:"flex items-center gap-2 px-5 py-3 rounded-xl font-medium text-sm bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition-colors",children:[d.jsx(co,{className:"w-4 h-4"}),"Back"]}):d.jsxs("button",{onClick:()=>E>0?c(g[E-1]):s("select-type"),className:"flex items-center gap-2 px-5 py-3 rounded-xl font-medium text-sm bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition-colors",children:[d.jsx(co,{className:"w-4 h-4"}),"Previous Section"]}),E===g.length-1?d.jsxs("button",{onClick:y,className:"btn-primary",children:["Review & Continue",d.jsx(jn,{className:"w-4 h-4",strokeWidth:3})]}):d.jsxs("button",{onClick:()=>c(g[E+1]),className:"btn-primary",children:["Next Section",d.jsx(jn,{className:"w-4 h-4"})]})]})]})}const Wse=e=>{switch(e){case"addition":case"add-product":case"add-product-modification":return"addition";case"deletion":case"delete-product":return"deletion";case"price-increase":return"price-increase";case"price-decrease":return"price-decrease";case"description-change":return"description-change";default:return console.error("No template mapped for documentId:",e),null}},Gse=({data:e})=>d.jsxs("div",{className:"relative text-[14px] leading-[1.6] text-foreground px-12 py-10",style:{fontFamily:"'Times New Roman', Times, serif"},children:[d.jsx("div",{className:"absolute top-8 right-10",children:d.jsx("img",{src:e.companyLogo,alt:"Company Logo",className:"h-[70px] w-auto object-contain"})}),d.jsx("p",{className:"mb-6",children:e.submissionDate}),d.jsxs("p",{className:"mb-6",children:["Attn: ",e.contractorName," (",e.contractNumber,") ",d.jsx("br",{}),"General Services Administration ",d.jsx("br",{}),e.gsaOfficeAddressLine," ",d.jsx("br",{}),e.gsaOfficeCityStateZip]}),d.jsx("div",{className:"mb-6",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Re:"})," ",d.jsx("strong",{children:e.companyName}),d.jsx("br",{}),d.jsxs("strong",{children:["Add Product Modification to GSA Contract"," ",d.jsx("strong",{children:e.contractNumber})]})]})}),d.jsxs("p",{className:"mb-4",children:["Dear ",e.salutation," ",e.contractorName]}),d.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of an Add Product Modification to GSA Schedule Contract"," ",d.jsx("strong",{children:e.contractNumber}),"."," ",d.jsx("strong",{children:e.companyName})," would like to add"," ",d.jsx("strong",{children:e.numberOfProductsAdded})," products under"," ",d.jsx("strong",{children:e.totalSins})," SIN(s) [",d.jsx("strong",{children:e.sin_additions}),"]. We would like to add these products because ",d.jsx("strong",{children:e.additionRationale}),"."]}),d.jsxs("ul",{className:"list-disc ml-6 mb-4 space-y-1",children:[d.jsxs("li",{children:["We certify that these products are TAA Compliant in accordance with 52.225-6 TRADE AGREEMENTS CERTIFICATE (MAY 2014). The Country of Origin for the added products is"," ",d.jsx("strong",{children:e!=null&&e.coo&&e.coo.trim()!==""&&e.coo!=="undefined"?e.coo:""}),"."]}),d.jsxs("li",{children:["GSA Basic Discount: ",d.jsx("strong",{children:e.basicDiscount})," %"]}),d.jsxs("li",{children:["Number of products added:"," ",d.jsx("strong",{children:e.numberOfProductsAdded||"0"})]}),d.jsxs("li",{children:["Quantity / Volume Discount:"," ",d.jsx("strong",{children:e.quantityVolumeDiscount||"None"})]}),d.jsxs("li",{children:["Other Discounts / Concessions:"," ",d.jsx("strong",{children:e.otherDiscounts||""})]}),d.jsxs("li",{children:["Delivery After Receipt of Order (ARO):",d.jsxs("ul",{className:"list-disc ml-6",children:[d.jsxs("li",{children:["Normal: ",d.jsx("strong",{children:e.deliveryAroNormal})]}),d.jsxs("li",{children:["Expedited: ",d.jsx("strong",{children:e.deliveryAroExpedited})]})]})]}),d.jsxs("li",{children:["FOB Terms: ",d.jsx("strong",{children:e.fobTerms})]}),d.jsx("li",{children:"There have been (no) changes to our Commercial Sales Practices."}),d.jsxs("li",{children:["Energy Star Compliance:"," ",e.energyStarCompliance==="yes"?d.jsx("strong",{children:"Yes"}):e.energyStarCompliance==="no"?d.jsx("strong",{children:"No"}):e.energyStarCompliance==="na"?d.jsx("strong",{children:"Not Applicable"}):""]}),d.jsxs("li",{children:["This modification is submitted under Solicitation",d.jsx("strong",{children:` ${e.solicitationNumber}`})," Refresh"," ",d.jsx("strong",{children:e.refresh}),"."]}),d.jsx("li",{children:"The items being added are not identical/substantially similar to previously deleted items that had a lower Schedule price."}),d.jsx("li",{children:"No hazardous materials will be delivered under this contract."}),d.jsx("li",{children:"Place of Performance per FAR 52.215-6 (see current Solicitation)."}),d.jsx("li",{children:"If applicable : State whether EPA method and mechanism are the same as currently awarded product(s) and/or SIN(s) or propose EPA method and mechanism"})]}),d.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete and accurate. All other terms and conditions remain the same."}),d.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",d.jsx("strong",{children:e.consultantName})," at The Winvale Group at"," ",d.jsx("strong",{children:e.consultantPhone})," or"," ",d.jsx("strong",{children:e.consultantEmail}),"."]}),d.jsx("p",{className:"mb-4",children:"Sincerely,"}),d.jsx("div",{children:d.jsxs("p",{children:["_________________________________",d.jsx("br",{}),e.negotiatorName||"AUTHORIZED NEGOTIATOR NAME",d.jsx("br",{}),e.negotiatorTitle||"[Title]","  Authorized to sign on behalf of"," ",e.companyName||"COMPANY NAME"]})})]}),Kse=({data:e})=>(console.log("DeletionTemplate data:",e),console.log("companyLogo value:",e==null?void 0:e.companyLogo),d.jsxs("div",{className:"relative text-[14px] leading-[1.6] text-foreground px-12 py-10",style:{fontFamily:"'Times New Roman', Times, serif"},children:[d.jsx("div",{className:"absolute top-8 right-10",children:d.jsx("img",{src:e==null?void 0:e.companyLogo,alt:"Company Logo",className:"h-17.5 w-auto object-contain"})}),d.jsx("p",{className:"mb-6",children:(e==null?void 0:e.submissionDate)||"DATE"}),d.jsxs("p",{className:"mb-6",children:["Attn: ",e==null?void 0:e.contractorName," (",e==null?void 0:e.contractNumber,") ",d.jsx("br",{}),"General Services Administration ",d.jsx("br",{}),e==null?void 0:e.gsaOfficeAddressLine," ",d.jsx("br",{}),e==null?void 0:e.gsaOfficeCityStateZip]}),d.jsx("div",{className:"mb-6",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Re:"})," ",d.jsx("strong",{children:e==null?void 0:e.companyName}),d.jsx("br",{}),d.jsxs("strong",{children:["Deletion Modification to GSA Contract"," ",e==null?void 0:e.contractNumber]})]})}),d.jsxs("p",{className:"mb-4",children:["Dear ",e==null?void 0:e.salutation," ",e==null?void 0:e.contractorName]}),d.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of a Deletion Modification to GSA Schedule Contract"," ",d.jsx("strong",{children:e==null?void 0:e.contractNumber}),". The modification consists of the deletion of ",d.jsx("strong",{children:e==null?void 0:e.numberOfProductsDeleted})," item(s) listed under ",d.jsx("strong",{children:e==null?void 0:e.totalSins})," SIN(s) [",d.jsx("strong",{children:e==null?void 0:e.sin_deletions}),"]. These products are being removed because ",d.jsx("strong",{children:e==null?void 0:e.deletionRationale}),"."]}),d.jsxs("p",{className:"mb-0",children:[e==null?void 0:e.companyName," states the following:"]}),d.jsx("ol",{className:"ml-10 space-y-1 list-outside",style:{listStyleType:"lower-alpha"},children:d.jsx("li",{children:"The items being deleted will not be added at a later date with a higher price without justification for such higher price."})}),d.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete and accurate. All other terms and conditions remain the same."}),d.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",d.jsx("strong",{children:e==null?void 0:e.consultantName})," of The Winvale Group at"," ",d.jsx("strong",{children:e==null?void 0:e.consultantPhone})," or"," ",d.jsx("strong",{children:e==null?void 0:e.consultantEmail}),"."]}),d.jsx("p",{className:"mb-4",children:"Sincerely,"}),d.jsx("div",{children:d.jsxs("p",{children:["_________________________________",d.jsx("br",{}),(e==null?void 0:e.negotiatorName)||"AUTHORIZED NEGOTIATOR NAME",d.jsx("br",{}),(e==null?void 0:e.negotiatorTitle)||"[Title]","  Authorized to sign on behalf of"," ",(e==null?void 0:e.companyName)||"COMPANY NAME"]})})]})),Xse=({data:e})=>d.jsxs("div",{className:"relative text-[13px] leading-[1.6] text-foreground px-8 py-6",children:[d.jsx("div",{className:"absolute top-8 right-10",children:d.jsx("img",{src:e.companyLogo,alt:"Company Logo",className:"h-[70px] w-auto object-contain"})}),d.jsx("p",{className:"mb-4",children:e.submissionDate}),d.jsxs("p",{className:"mb-4",children:["Attn: ",e.contractorName," (",e.contractNumber,") ",d.jsx("br",{}),"General Services Administration ",d.jsx("br",{}),e.gsaOfficeAddressLine," ",d.jsx("br",{}),e.gsaOfficeCityStateZip]}),d.jsx("div",{className:"mb-4",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Re:"})," ",d.jsx("strong",{children:e.companyName}),d.jsx("br",{}),d.jsxs("strong",{children:["Product Descriptive Change Modification to GSA Contract"," ",d.jsx("strong",{children:e.contractNumber})]})]})}),d.jsxs("p",{className:"mb-3",children:["Dear ",e.salutation," ",e.contractorName]}),d.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of a product descriptive modification to GSA Schedule Contract"," ",d.jsx("strong",{children:e.contractNumber})," under"," ",d.jsx("strong",{children:e.totalSins})," SIN(s) [",d.jsx("strong",{children:e.sin_description_change}),"]. The modification consists of descriptive changes for ",d.jsx("strong",{children:e.descriptionChanged})," ","item(s) due to ",d.jsx("strong",{children:e.modificationRationale}),". These revisions will not result in any changes to the GSA price."]}),d.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete and accurate. All other terms and conditions remain the same."}),d.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",d.jsx("strong",{children:e.consultantName})," at"," ",d.jsx("strong",{children:e.consultantPhone})," or"," ",d.jsx("strong",{children:e.consultantEmail}),"."]}),d.jsx("p",{className:"mb-4",children:"Respectfully,"}),d.jsx("div",{children:d.jsxs("p",{children:["_________________________________",d.jsx("br",{}),e.negotiatorName||"AUTHORIZED NEGOTIATOR NAME",d.jsx("br",{}),e.negotiatorTitle||"[Title]","  Authorized to sign on behalf of"," ",e.companyName||"COMPANY NAME"]})})]}),Yse=({data:e})=>d.jsxs("div",{className:"relative text-[14px] leading-[1.6] text-foreground px-12 py-10",style:{fontFamily:"'Times New Roman', Times, serif"},children:[d.jsx("div",{className:"absolute top-8 right-10",children:d.jsx("img",{src:e.companyLogo,alt:"Company Logo",className:"h-[70px] w-auto object-contain"})}),d.jsx("p",{className:"mb-6",children:e.submissionDate}),d.jsxs("p",{className:"mb-6",children:["Attn: ",e.contractorName," (",e.contractNumber,") ",d.jsx("br",{}),"General Services Administration ",d.jsx("br",{}),e.gsaOfficeAddressLine," ",d.jsx("br",{}),e.gsaOfficeCityStateZip]}),d.jsx("div",{className:"mb-6",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Re:"})," ",d.jsx("strong",{children:e.companyName}),d.jsx("br",{}),d.jsxs("strong",{children:["EPA Modification Based on a Commercial Price List to GSA Contract"," ",d.jsx("strong",{children:e.contractNumber})]})]})}),d.jsxs("p",{className:"mb-4",children:["Dear ",e.salutation," ",e.contractorName]}),d.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of an Economic Price Adjustment (EPA) increase based on a Commercial Price List to GSA Schedule Contract ",d.jsx("strong",{children:e.contractNumber})," under"," ",d.jsx("strong",{children:e.totalSins})," SIN(s) [",d.jsx("strong",{children:e.sin_price_increase}),"]. This request is in accordance with EPA Clause GSAM 538.270-4(a)(3). The modification consists of a price increase of"," ",d.jsxs("strong",{children:[e.requestedIncrease||e.priceIncreasePercent,"%"]})," ","for ",d.jsx("strong",{children:e.priceIncreased})," item(s) due to"," ",d.jsx("strong",{children:e.increaseRationale}),"."]}),d.jsxs("ul",{className:"list-[lower-alpha] ml-10 mb-4 space-y-2",children:[d.jsx("li",{children:e.backgroundInfo||"[Background information regarding your current prices, the applicable wage determination price levels (if applicable), and the increases necessary for your company.]"}),d.jsx("li",{children:e.justification||"[Justification for increase. If the EPA requested exceeds the allowable Ceiling Limit, provide specific justification and attach supporting documentation to the modification.] "}),d.jsxs("li",{children:[e.companyName," acknowledges that the proposed price increase will not become effective until the Contracting Officer executes the completed modification."]}),d.jsx("li",{children:"All prices offered to GSA include the current Industrial Funding Fee (IFF)."}),d.jsx("li",{children:e.cspStatement||"For non-TDR only: Statement that Commercial Sales Practices (CSP) Information in accordance with GSAR 552.238-81 PRICE REDUCTIONS (see most current Solicitation for clause/deviation effective date) previously submitted with the initial award (or contract modification) or CSP-1 has not changed, if applicable. If CSP has changed, provide updated CSP-1 in eMod."}),d.jsx("li",{children:e.confirmStatement||"This request conforms to the agreed upon EPA method."})]}),d.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete and accurate. All other terms and conditions remain the same."}),d.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",d.jsx("strong",{children:e.consultantName})," at The Winvale Group at"," ",d.jsx("strong",{children:e.consultantPhone})," or"," ",d.jsx("strong",{children:e.consultantEmail}),"."]}),d.jsx("p",{className:"mb-4",children:"Respectfully,"}),d.jsx("div",{children:d.jsxs("p",{children:["_________________________________",d.jsx("br",{}),e.negotiatorName||"AUTHORIZED NEGOTIATOR NAME",d.jsx("br",{}),e.negotiatorTitle||"[Title]","  Authorized to sign on behalf of"," ",e.companyName||"COMPANY NAME"]})})]}),Jse=({data:e})=>d.jsxs("div",{className:"relative text-[14px] leading-[1.6] text-foreground px-12 py-10",style:{fontFamily:"'Times New Roman', Times, serif"},children:[d.jsx("div",{className:"absolute top-8 right-10",children:d.jsx("img",{src:e.companyLogo,alt:"Company Logo",className:"h-17.5 w-auto object-contain"})}),d.jsx("p",{className:"mb-6",children:e.submissionDate}),d.jsxs("p",{className:"mb-6",children:["Attn: ",e.contractorName," (",e.contractNumber,") ",d.jsx("br",{}),"General Services Administration ",d.jsx("br",{}),e.gsaOfficeAddressLine," ",d.jsx("br",{}),e.gsaOfficeCityStateZip]}),d.jsx("div",{className:"mb-6",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Re:"})," ",d.jsx("strong",{children:e.companyName}),d.jsx("br",{}),d.jsxs("strong",{children:["Price Reduction Modification Based on a Commercial Price List to GSA Contract ",e.contractNumber]})]})}),d.jsxs("p",{className:"mb-4",children:["Dear ",e.salutation," ",e.contractorName,","]}),d.jsxs("p",{className:"mb-4",children:["The purpose of this letter is to request your approval of a price reduction modification based on a Commercial Price List to GSA Schedule Contract ",d.jsx("strong",{children:e.contractNumber})," under"," ",d.jsx("strong",{children:e.totalSins})," SIN(s) [",d.jsx("strong",{children:e.sin_price_decrease}),"]. This request is in accordance with EPA Clause GSAM 538.270-4(a)(3). The modification consists of a price decrease of"," ",d.jsxs("strong",{children:[e.requestedDecrease||e.priceDecreasePercent,"%"]})," ","for ",d.jsx("strong",{children:e.priceDecreased})," item(s) due to"," ",d.jsx("strong",{children:e.decreaseRationale}),"."]}),d.jsxs("ul",{className:"list-disc ml-10 mb-4 space-y-2",children:[d.jsxs("li",{children:[e.companyName," acknowledges that this proposed price decrease will go into effect immediately, as of the date of submission."]}),d.jsx("li",{children:"All prices offered to GSA include the current IFF."}),d.jsx("li",{children:e.cspStatement||"For non-TDR contracts only: Commercial Sales Practices (CSP) information previously submitted in accordance with GSAR 552.238-81 Price Reductions remains accurate and unchanged. If CSP information has changed, an updated CSP-1 has been provided within eMod."})]}),d.jsx("p",{className:"mb-4",children:"I certify to the best of my knowledge that the information I provided is current, complete, and accurate. All other terms and conditions remain the same."}),d.jsxs("p",{className:"mb-4",children:["If you have any questions regarding this request, please contact"," ",d.jsx("strong",{children:e.consultantName})," at The Winvale Group at"," ",d.jsx("strong",{children:e.consultantPhone})," or"," ",d.jsx("strong",{children:e.consultantEmail}),"."]}),d.jsx("p",{className:"mb-4",children:"Respectfully ,"}),d.jsx("div",{children:d.jsxs("p",{children:["_________________________________",d.jsx("br",{}),e.negotiatorName||"AUTHORIZED NEGOTIATOR NAME",d.jsx("br",{}),e.negotiatorTitle||"[Title]","  Authorized to sign on behalf of"," ",e.companyName||"COMPANY NAME"]})})]}),Zse=({documentId:e,data:t})=>{const r=Wse(e);return d.jsx("div",{id:"document-export-root",className:"bg-white text-black w-full",children:(()=>{switch(r){case"addition":return d.jsx(Gse,{data:t});case"deletion":return d.jsx(Kse,{data:t});case"description-change":return d.jsx(Xse,{data:t});case"price-increase":return d.jsx(Yse,{data:t});case"price-decrease":return d.jsx(Jse,{data:t});default:return null}})()})};var Uv={exports:{}},zv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b3;function Qse(){if(b3)return zv;b3=1;var e=Gh();function t(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,a=e.useLayoutEffect,i=e.useDebugValue;function o(m,x){var g=x(),y=n({inst:{value:g,getSnapshot:x}}),b=y[0].inst,w=y[1];return a(function(){b.value=g,b.getSnapshot=x,c(b)&&w({inst:b})},[m,g,x]),s(function(){return c(b)&&w({inst:b}),m(function(){c(b)&&w({inst:b})})},[m]),i(g),g}function c(m){var x=m.getSnapshot;m=m.value;try{var g=x();return!r(m,g)}catch{return!0}}function f(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return zv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,zv}var w3;function KI(){return w3||(w3=1,Uv.exports=Qse()),Uv.exports}var XI=KI();function An(e){this.content=e}An.prototype={constructor:An,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var n=r&&r!=e?this.remove(r):this,s=n.find(e),a=n.content.slice();return s==-1?a.push(r||e,t):(a[s+1]=t,r&&(a[s]=r)),new An(a)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new An(r)},addToStart:function(e,t){return new An([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new An(r)},addBefore:function(e,t,r){var n=this.remove(t),s=n.content.slice(),a=n.find(e);return s.splice(a==-1?s.length:a,0,t,r),new An(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=An.from(e),e.size?new An(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=An.from(e),e.size?new An(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=An.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}};An.from=function(e){if(e instanceof An)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new An(t)};function YI(e,t,r){for(let n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:r;let s=e.child(n),a=t.child(n);if(s==a){r+=s.nodeSize;continue}if(!s.sameMarkup(a))return r;if(s.isText&&s.text!=a.text){for(let i=0;s.text[i]==a.text[i];i++)r++;return r}if(s.content.size||a.content.size){let i=YI(s.content,a.content,r+1);if(i!=null)return i}r+=s.nodeSize}}function JI(e,t,r,n){for(let s=e.childCount,a=t.childCount;;){if(s==0||a==0)return s==a?null:{a:r,b:n};let i=e.child(--s),o=t.child(--a),c=i.nodeSize;if(i==o){r-=c,n-=c;continue}if(!i.sameMarkup(o))return{a:r,b:n};if(i.isText&&i.text!=o.text){let f=0,h=Math.min(i.text.length,o.text.length);for(;f<h&&i.text[i.text.length-f-1]==o.text[o.text.length-f-1];)f++,r--,n--;return{a:r,b:n}}if(i.content.size||o.content.size){let f=JI(i.content,o.content,r-1,n-1);if(f)return f}r-=c,n-=c}}class $e{constructor(t,r){if(this.content=t,this.size=r||0,r==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,r,n,s=0,a){for(let i=0,o=0;o<r;i++){let c=this.content[i],f=o+c.nodeSize;if(f>t&&n(c,s+o,a||null,i)!==!1&&c.content.size){let h=o+1;c.nodesBetween(Math.max(0,t-h),Math.min(c.content.size,r-h),n,s+h)}o=f}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,n,s){let a="",i=!0;return this.nodesBetween(t,r,(o,c)=>{let f=o.isText?o.text.slice(Math.max(t,c)-c,r-c):o.isLeaf?s?typeof s=="function"?s(o):s:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&f||o.isTextblock)&&n&&(i?i=!1:a+=n),a+=f},0),a}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,n=t.firstChild,s=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),a=1);a<t.content.length;a++)s.push(t.content[a]);return new $e(s,this.size+t.size)}cut(t,r=this.size){if(t==0&&r==this.size)return this;let n=[],s=0;if(r>t)for(let a=0,i=0;i<r;a++){let o=this.content[a],c=i+o.nodeSize;c>t&&((i<t||c>r)&&(o.isText?o=o.cut(Math.max(0,t-i),Math.min(o.text.length,r-i)):o=o.cut(Math.max(0,t-i-1),Math.min(o.content.size,r-i-1))),n.push(o),s+=o.nodeSize),i=c}return new $e(n,s)}cutByIndex(t,r){return t==r?$e.empty:t==0&&r==this.content.length?this:new $e(this.content.slice(t,r))}replaceChild(t,r){let n=this.content[t];if(n==r)return this;let s=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return s[t]=r,new $e(s,a)}addToStart(t){return new $e([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new $e(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];t(s,n,r),n+=s.nodeSize}}findDiffStart(t,r=0){return YI(this,t,r)}findDiffEnd(t,r=this.size,n=t.size){return JI(this,t,r,n)}findIndex(t){if(t==0)return sm(0,t);if(t==this.size)return sm(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let s=this.child(r),a=n+s.nodeSize;if(a>=t)return a==t?sm(r+1,a):sm(r,n);n=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return $e.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new $e(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return $e.empty;let r,n=0;for(let s=0;s<t.length;s++){let a=t[s];n+=a.nodeSize,s&&a.isText&&t[s-1].sameMarkup(a)?(r||(r=t.slice(0,s)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new $e(r||t,n)}static from(t){if(!t)return $e.empty;if(t instanceof $e)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new $e([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$e.empty=new $e([],0);const Hv={index:0,offset:0};function sm(e,t){return Hv.index=e,Hv.offset=t,Hv}function xg(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!xg(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!xg(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let ar=class B2{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(this.eq(a))return t;if(this.type.excludes(a.type))r||(r=t.slice(0,s));else{if(a.type.excludes(this.type))return t;!n&&a.type.rank>this.type.rank&&(r||(r=t.slice(0,s)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=t.slice()),n||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&xg(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(r[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return B2.none;if(t instanceof B2)return[t];let r=t.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};ar.none=[];class yg extends Error{}class rt{constructor(t,r,n){this.content=t,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let n=QI(this.content,t+this.openStart,r);return n&&new rt(n,this.openStart,this.openEnd)}removeBetween(t,r){return new rt(ZI(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return rt.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new rt($e.fromJSON(t,r.content),n,s)}static maxOpen(t,r=!0){let n=0,s=0;for(let a=t.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=t.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)s++;return new rt(t,n,s)}}rt.empty=new rt($e.empty,0,0);function ZI(e,t,r){let{index:n,offset:s}=e.findIndex(t),a=e.maybeChild(n),{index:i,offset:o}=e.findIndex(r);if(s==t||a.isText){if(o!=r&&!e.child(i).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(n!=i)throw new RangeError("Removing non-flat range");return e.replaceChild(n,a.copy(ZI(a.content,t-s-1,r-s-1)))}function QI(e,t,r,n){let{index:s,offset:a}=e.findIndex(t),i=e.maybeChild(s);if(a==t||i.isText)return n&&!n.canReplace(s,s,r)?null:e.cut(0,t).append(r).append(e.cut(t));let o=QI(i.content,t-a-1,r,i);return o&&e.replaceChild(s,i.copy(o))}function eae(e,t,r){if(r.openStart>e.depth)throw new yg("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new yg("Inconsistent open depths");return e8(e,t,r,0)}function e8(e,t,r,n){let s=e.index(n),a=e.node(n);if(s==t.index(n)&&n<e.depth-r.openStart){let i=e8(e,t,r,n+1);return a.copy(a.content.replaceChild(s,i))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==n&&t.depth==n){let i=e.parent,o=i.content;return pc(i,o.cut(0,e.parentOffset).append(r.content).append(o.cut(t.parentOffset)))}else{let{start:i,end:o}=tae(r,e);return pc(a,r8(e,i,o,t,n))}else return pc(a,vg(e,t,n))}function t8(e,t){if(!t.type.compatibleContent(e.type))throw new yg("Cannot join "+t.type.name+" onto "+e.type.name)}function U2(e,t,r){let n=e.node(r);return t8(n,t.node(r)),n}function hc(e,t){let r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function ch(e,t,r,n){let s=(t||e).node(r),a=0,i=t?t.index(r):s.childCount;e&&(a=e.index(r),e.depth>r?a++:e.textOffset&&(hc(e.nodeAfter,n),a++));for(let o=a;o<i;o++)hc(s.child(o),n);t&&t.depth==r&&t.textOffset&&hc(t.nodeBefore,n)}function pc(e,t){return e.type.checkContent(t),e.copy(t)}function r8(e,t,r,n,s){let a=e.depth>s&&U2(e,t,s+1),i=n.depth>s&&U2(r,n,s+1),o=[];return ch(null,e,s,o),a&&i&&t.index(s)==r.index(s)?(t8(a,i),hc(pc(a,r8(e,t,r,n,s+1)),o)):(a&&hc(pc(a,vg(e,t,s+1)),o),ch(t,r,s,o),i&&hc(pc(i,vg(r,n,s+1)),o)),ch(n,null,s,o),new $e(o)}function vg(e,t,r){let n=[];if(ch(null,e,r,n),e.depth>r){let s=U2(e,t,r+1);hc(pc(s,vg(e,t,r+1)),n)}return ch(t,null,r,n),new $e(n)}function tae(e,t){let r=t.depth-e.openStart,s=t.node(r).copy(e.content);for(let a=r-1;a>=0;a--)s=t.node(a).copy($e.from(s));return{start:s.resolveNoCache(e.openStart+r),end:s.resolveNoCache(s.content.size-e.openEnd-r)}}class Mh{constructor(t,r,n){this.pos=t,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=t.child(r);return n?t.child(r).cut(n):s}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):t==0?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let a=0;a<t;a++)s+=n.child(a).nodeSize;return s}marks(){let t=this.parent,r=this.index();if(t.content.size==0)return ar.none;if(this.textOffset)return t.child(r).marks;let n=t.maybeChild(r-1),s=t.maybeChild(r);if(!n){let o=n;n=s,s=o}let a=n.marks;for(var i=0;i<a.length;i++)a[i].type.spec.inclusive===!1&&(!s||!a[i].isInSet(s.marks))&&(a=a[i--].removeFromSet(a));return a}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=t.parent.maybeChild(t.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!s||!n[a].isInSet(s.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!r||r(this.node(n))))return new bg(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,a=r;for(let i=t;;){let{index:o,offset:c}=i.content.findIndex(a),f=a-c;if(n.push(i,o,s+c),!f||(i=i.child(o),i.isText))break;a=f-1,s+=c+1}return new Mh(r,n,a)}static resolveCached(t,r){let n=E3.get(t);if(n)for(let a=0;a<n.elts.length;a++){let i=n.elts[a];if(i.pos==r)return i}else E3.set(t,n=new rae);let s=n.elts[n.i]=Mh.resolve(t,r);return n.i=(n.i+1)%nae,s}}class rae{constructor(){this.elts=[],this.i=0}}const nae=12,E3=new WeakMap;class bg{constructor(t,r,n){this.$from=t,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const sae=Object.create(null);class qa{constructor(t,r,n,s=ar.none){this.type=t,this.attrs=r,this.marks=s,this.content=n||$e.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,n,s=0){this.content.nodesBetween(t,r,n,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,n,s){return this.content.textBetween(t,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,n){return this.type==t&&xg(this.attrs,r||t.defaultAttrs||sae)&&ar.sameSet(this.marks,n||ar.none)}copy(t=null){return t==this.content?this:new qa(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new qa(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,n=!1){if(t==r)return rt.empty;let s=this.resolve(t),a=this.resolve(r),i=n?0:s.sharedDepth(r),o=s.start(i),f=s.node(i).content.cut(s.pos-o,a.pos-o);return new rt(f,s.depth-i,a.depth-i)}replace(t,r,n){return eae(this.resolve(t),this.resolve(r),n)}nodeAt(t){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(t);if(r=r.maybeChild(n),!r)return null;if(s==t||r.isText)return r;t-=s+1}}childAfter(t){let{index:r,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(t){return Mh.resolveCached(this,t)}resolveNoCache(t){return Mh.resolve(this,t)}rangeHasMark(t,r,n){let s=!1;return r>t&&this.nodesBetween(t,r,a=>(n.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),n8(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,n=$e.empty,s=0,a=n.childCount){let i=this.contentMatchAt(t).matchFragment(n,s,a),o=i&&i.matchFragment(this.content,r);if(!o||!o.validEnd)return!1;for(let c=s;c<a;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(t,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(t).matchType(n),i=a&&a.matchFragment(this.content,r);return i?i.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=ar.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!ar.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,n)}let s=$e.fromJSON(t,r.content),a=t.nodeType(r.type).create(r.attrs,s,n);return a.type.checkAttrs(a.attrs),a}}qa.prototype.text=void 0;class wg extends qa{constructor(t,r,n,s){if(super(t,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):n8(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new wg(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new wg(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return t==0&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function n8(e,t){for(let r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}class Ac{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let n=new aae(t,r);if(n.next==null)return Ac.empty;let s=s8(n);n.next&&n.err("Unexpected trailing text");let a=dae(fae(s));return hae(a,n),a}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,n=t.childCount){let s=this;for(let a=r;s&&a<n;a++)s=s.matchType(t.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let n=0;n<t.next.length;n++)if(this.next[r].type==t.next[n].type)return!0;return!1}fillBefore(t,r=!1,n=0){let s=[this];function a(i,o){let c=i.matchFragment(t,n);if(c&&(!r||c.validEnd))return $e.from(o.map(f=>f.createAndFill()));for(let f=0;f<i.next.length;f++){let{type:h,next:m}=i.next[f];if(!(h.isText||h.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let x=a(m,o.concat(h));if(x)return x}}return null}return a(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),a=s.match;if(a.matchType(t)){let i=[];for(let o=s;o.type;o=o.via)i.push(o.type);return i.reverse()}for(let i=0;i<a.next.length;i++){let{type:o,next:c}=a.next[i];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in r)&&(!s.type||c.validEnd)&&(n.push({match:o.contentMatch,type:o,via:s}),r[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function r(n){t.push(n);for(let s=0;s<n.next.length;s++)t.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),t.map((n,s)=>{let a=s+(n.validEnd?"*":" ")+" ";for(let i=0;i<n.next.length;i++)a+=(i?", ":"")+n.next[i].type.name+"->"+t.indexOf(n.next[i].next);return a}).join(`
`)}}Ac.empty=new Ac(!0);class aae{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function s8(e){let t=[];do t.push(iae(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function iae(e){let t=[];do t.push(oae(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function oae(e){let t=uae(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=lae(e,t);else break;return t}function _3(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function lae(e,t){let r=_3(e),n=r;return e.eat(",")&&(e.next!="}"?n=_3(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:t}}function cae(e,t){let r=e.nodeTypes,n=r[t];if(n)return[n];let s=[];for(let a in r){let i=r[a];i.isInGroup(t)&&s.push(i)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function uae(e){if(e.eat("(")){let t=s8(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=cae(e,e.next).map(r=>(e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function fae(e){let t=[[]];return s(a(e,0),r()),t;function r(){return t.push([])-1}function n(i,o,c){let f={term:c,to:o};return t[i].push(f),f}function s(i,o){i.forEach(c=>c.to=o)}function a(i,o){if(i.type=="choice")return i.exprs.reduce((c,f)=>c.concat(a(f,o)),[]);if(i.type=="seq")for(let c=0;;c++){let f=a(i.exprs[c],o);if(c==i.exprs.length-1)return f;s(f,o=r())}else if(i.type=="star"){let c=r();return n(o,c),s(a(i.expr,c),c),[n(c)]}else if(i.type=="plus"){let c=r();return s(a(i.expr,o),c),s(a(i.expr,c),c),[n(c)]}else{if(i.type=="opt")return[n(o)].concat(a(i.expr,o));if(i.type=="range"){let c=o;for(let f=0;f<i.min;f++){let h=r();s(a(i.expr,c),h),c=h}if(i.max==-1)s(a(i.expr,c),c);else for(let f=i.min;f<i.max;f++){let h=r();n(c,h),s(a(i.expr,c),h),c=h}return[n(c)]}else{if(i.type=="name")return[n(o,void 0,i.value)];throw new Error("Unknown expr type")}}}}function a8(e,t){return t-e}function S3(e,t){let r=[];return n(t),r.sort(a8);function n(s){let a=e[s];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(s);for(let i=0;i<a.length;i++){let{term:o,to:c}=a[i];!o&&r.indexOf(c)==-1&&n(c)}}}function dae(e){let t=Object.create(null);return r(S3(e,0));function r(n){let s=[];n.forEach(i=>{e[i].forEach(({term:o,to:c})=>{if(!o)return;let f;for(let h=0;h<s.length;h++)s[h][0]==o&&(f=s[h][1]);S3(e,c).forEach(h=>{f||s.push([o,f=[]]),f.indexOf(h)==-1&&f.push(h)})})});let a=t[n.join(",")]=new Ac(n.indexOf(e.length-1)>-1);for(let i=0;i<s.length;i++){let o=s[i][1].sort(a8);a.next.push({type:s[i][0],next:t[o.join(",")]||r(o)})}return a}}function hae(e,t){for(let r=0,n=[e];r<n.length;r++){let s=n[r],a=!s.validEnd,i=[];for(let o=0;o<s.next.length;o++){let{type:c,next:f}=s.next[o];i.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),n.indexOf(f)==-1&&n.push(f)}a&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function i8(e){let t=Object.create(null);for(let r in e){let n=e[r];if(!n.hasDefault)return null;t[r]=n.default}return t}function o8(e,t){let r=Object.create(null);for(let n in e){let s=t&&t[n];if(s===void 0){let a=e[n];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function l8(e,t,r,n){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in e){let a=e[s];a.validate&&a.validate(t[s])}}function c8(e,t){let r=Object.create(null);if(t)for(let n in t)r[n]=new mae(e,n,t[n]);return r}let T3=class u8{constructor(t,r,n){this.name=t,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=c8(t,n.attrs),this.defaultAttrs=i8(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ac.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:o8(this.attrs,t)}create(t=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new qa(this,this.computeAttrs(t),$e.from(r),ar.setFrom(n))}createChecked(t=null,r,n){return r=$e.from(r),this.checkContent(r),new qa(this,this.computeAttrs(t),r,ar.setFrom(n))}createAndFill(t=null,r,n){if(t=this.computeAttrs(t),r=$e.from(r),r.size){let i=this.contentMatch.fillBefore(r);if(!i)return null;r=i.append(r)}let s=this.contentMatch.matchFragment(r),a=s&&s.fillBefore($e.empty,!0);return a?new qa(this,t,r.append(a),ar.setFrom(n)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){l8(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let r;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?r&&r.push(t[n]):r||(r=t.slice(0,n));return r?r.length?r:ar.none:t}static compile(t,r){let n=Object.create(null);t.forEach((a,i)=>n[a]=new u8(a,r,i));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function pae(e,t,r){let n=r.split("|");return s=>{let a=s===null?"null":typeof s;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${e}, got ${a}`)}}class mae{constructor(t,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?pae(t,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Fx{constructor(t,r,n,s){this.name=t,this.rank=r,this.schema=n,this.spec=s,this.attrs=c8(t,s.attrs),this.excluded=null;let a=i8(this.attrs);this.instance=a?new ar(this,a):null}create(t=null){return!t&&this.instance?this.instance:new ar(this,o8(this.attrs,t))}static compile(t,r){let n=Object.create(null),s=0;return t.forEach((a,i)=>n[a]=new Fx(a,s++,r,i)),n}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}checkAttrs(t){l8(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class f8{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in t)r[s]=t[s];r.nodes=An.from(t.nodes),r.marks=An.from(t.marks||{}),this.nodes=T3.compile(this.spec.nodes,this),this.marks=Fx.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],i=a.spec.content||"",o=a.spec.marks;if(a.contentMatch=n[i]||(n[i]=Ac.parse(i,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=o=="_"?null:o?N3(this,o.split(" ")):o==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],i=a.spec.excludes;a.excluded=i==null?[a]:i==""?[]:N3(this,i.split(" "))}this.nodeFromJSON=s=>qa.fromJSON(this,s),this.markFromJSON=s=>ar.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,n,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof T3){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(r,n,s)}text(t,r){let n=this.nodes.text;return new wg(n,n.defaultAttrs,t,ar.setFrom(r))}mark(t,r){return typeof t=="string"&&(t=this.marks[t]),t.create(r)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}function N3(e,t){let r=[];for(let n=0;n<t.length;n++){let s=t[n],a=e.marks[s],i=a;if(a)r.push(a);else for(let o in e.marks){let c=e.marks[o];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&r.push(i=c)}if(!i)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return r}function gae(e){return e.tag!=null}function xae(e){return e.style!=null}class fl{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(gae(s))this.tags.push(s);else if(xae(s)){let a=/[^=]*/.exec(s.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=t.nodes[s.node];return a.contentMatch.matchType(a)})}parse(t,r={}){let n=new C3(this,r,!1);return n.addAll(t,ar.none,r.from,r.to),n.finish()}parseSlice(t,r={}){let n=new C3(this,r,!0);return n.addAll(t,ar.none,r.from,r.to),rt.maxOpen(n.finish())}matchTag(t,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(bae(t,a.tag)&&(a.namespace===void 0||t.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let i=a.getAttrs(t);if(i===!1)continue;a.attrs=i||void 0}return a}}}matchStyle(t,r,n,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let i=this.styles[a],o=i.style;if(!(o.indexOf(t)!=0||i.context&&!n.matchesContext(i.context)||o.length>t.length&&(o.charCodeAt(t.length)!=61||o.slice(t.length+1)!=r))){if(i.getAttrs){let c=i.getAttrs(r);if(c===!1)continue;i.attrs=c||void 0}return i}}}static schemaRules(t){let r=[];function n(s){let a=s.priority==null?50:s.priority,i=0;for(;i<r.length;i++){let o=r[i];if((o.priority==null?50:o.priority)<a)break}r.splice(i,0,s)}for(let s in t.marks){let a=t.marks[s].spec.parseDOM;a&&a.forEach(i=>{n(i=k3(i)),i.mark||i.ignore||i.clearMark||(i.mark=s)})}for(let s in t.nodes){let a=t.nodes[s].spec.parseDOM;a&&a.forEach(i=>{n(i=k3(i)),i.node||i.ignore||i.mark||(i.node=s)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new fl(t,fl.schemaRules(t)))}}const d8={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},yae={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},h8={ol:!0,ul:!0},Fh=1,z2=2,uh=4;function A3(e,t,r){return t!=null?(t?Fh:0)|(t==="full"?z2:0):e&&e.whitespace=="pre"?Fh|z2:r&~uh}class am{constructor(t,r,n,s,a,i){this.type=t,this.attrs=r,this.marks=n,this.solid=s,this.options=i,this.content=[],this.activeMarks=ar.none,this.match=a||(i&uh?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore($e.from(t));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(t.type))?(this.match=n,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Fh)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let r=$e.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore($e.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!d8.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class C3{constructor(t,r,n){this.parser=t,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=r.topNode,a,i=A3(null,r.preserveWhitespace,0)|(n?uh:0);s?a=new am(s.type,s.attrs,ar.none,!0,r.topMatch||s.type.contentMatch,i):n?a=new am(null,null,ar.none,!0,null,i):a=new am(t.schema.topNodeType,null,ar.none,!0,null,i),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,r){t.nodeType==3?this.addTextNode(t,r):t.nodeType==1&&this.addElement(t,r)}addTextNode(t,r){let n=t.nodeValue,s=this.top,a=s.options&z2?"full":this.localPreserveWS||(s.options&Fh)>0,{schema:i}=this.parser;if(a==="full"||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(a)if(a==="full")n=n.replace(/\r\n?/g,`
`);else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let o=n.split(/\r?\n|\r/);for(let c=0;c<o.length;c++)c&&this.insertNode(i.linebreakReplacement.create(),r,!0),o[c]&&this.insertNode(i.text(o[c]),r,!/\S/.test(o[c]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],c=t.previousSibling;(!o||c&&c.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),r,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,r,n){let s=this.localPreserveWS,a=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let i=t.nodeName.toLowerCase(),o;h8.hasOwnProperty(i)&&this.parser.normalizeLists&&vae(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,n));e:if(c?c.ignore:yae.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let f,h=this.needsBlock;if(d8.hasOwnProperty(i))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),f=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,r);break e}let m=c&&c.skip?r:this.readStyles(t,r);m&&this.addAll(t,m),f&&this.sync(a),this.needsBlock=h}else{let f=this.readStyles(t,r);f&&this.addElementByRule(t,c,f,c.consuming===!1?o:void 0)}this.localPreserveWS=s}leafFallback(t,r){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),r)}ignoreFallback(t,r){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(t,r){let n=t.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],i=n.getPropertyValue(a);if(i)for(let o=void 0;;){let c=this.parser.matchStyle(a,i,this,o);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(f=>!c.clearMark(f)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)o=c;else break}}return r}addElementByRule(t,r,n,s){let a,i;if(r.node)if(i=this.parser.schema.nodes[r.node],i.isLeaf)this.insertNode(i.create(r.attrs),n,t.nodeName=="BR")||this.leafFallback(t,n);else{let c=this.enter(i,r.attrs||null,n,r.preserveWhitespace);c&&(a=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let o=this.top;if(i&&i.isLeaf)this.findInside(t);else if(s)this.addElement(t,n,s);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=t;typeof r.contentElement=="string"?c=t.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(t):r.contentElement&&(c=r.contentElement),this.findAround(t,c,!0),this.addAll(c,n),this.findAround(t,c,!1)}a&&this.sync(o)&&this.open--}addAll(t,r,n,s){let a=n||0;for(let i=n?t.childNodes[n]:t.firstChild,o=s==null?null:t.childNodes[s];i!=o;i=i.nextSibling,++a)this.findAtPoint(t,a),this.addDOM(i,r);this.findAtPoint(t,a)}findPlace(t,r,n){let s,a;for(let i=this.open,o=0;i>=0;i--){let c=this.nodes[i],f=c.findWrapping(t);if(f&&(!s||s.length>f.length+o)&&(s=f,a=c,!f.length))break;if(c.solid){if(n)break;o+=2}}if(!s)return null;this.sync(a);for(let i=0;i<s.length;i++)r=this.enterInner(s[i],null,r,!1);return r}insertNode(t,r,n){if(t.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(r=this.enterInner(a,null,r))}let s=this.findPlace(t,r,n);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(t.type));let i=ar.none;for(let o of s.concat(t.marks))(a.type?a.type.allowsMarkType(o.type):R3(o.type,t.type))&&(i=o.addToSet(i));return a.content.push(t.mark(i)),!0}return!1}enter(t,r,n,s){let a=this.findPlace(t.create(r),n,!1);return a&&(a=this.enterInner(t,r,n,!0,s)),a}enterInner(t,r,n,s=!1,a){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(t);let o=A3(t,a,i.options);i.options&uh&&i.content.length==0&&(o|=uh);let c=ar.none;return n=n.filter(f=>(i.type?i.type.allowsMarkType(f.type):R3(f.type,t))?(c=f.addToSet(c),!1):!0),this.nodes.push(new am(t,r,c,s,null,o)),this.open++,n}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let r=this.open;r>=0;r--){if(this.nodes[r]==t)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Fh)}return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)t+=n[s].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,n){if(t!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(s?0:1),i=(o,c)=>{for(;o>=0;o--){let f=r[o];if(f==""){if(o==r.length-1||o==0)continue;for(;c>=a;c--)if(i(o-1,c))return!0;return!1}else{let h=c>0||c==0&&s?this.nodes[c].type:n&&c>=a?n.node(c-a).type:null;if(!h||h.name!=f&&!h.isInGroup(f))return!1;c--}}return!0};return i(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let n=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function vae(e){for(let t=e.firstChild,r=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&h8.hasOwnProperty(n)&&r?(r.appendChild(t),t=r):n=="li"?r=t:n&&(r=null)}}function bae(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function k3(e){let t={};for(let r in e)t[r]=e[r];return t}function R3(e,t){let r=t.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(e))continue;let a=[],i=o=>{a.push(o);for(let c=0;c<o.edgeCount;c++){let{type:f,next:h}=o.edge(c);if(f==t||a.indexOf(h)<0&&i(h))return!0}};if(i(s.contentMatch))return!0}}class Bc{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},n){n||(n=qv(r).createDocumentFragment());let s=n,a=[];return t.forEach(i=>{if(a.length||i.marks.length){let o=0,c=0;for(;o<a.length&&c<i.marks.length;){let f=i.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(a[o][0])||f.type.spec.spanning===!1)break;o++,c++}for(;o<a.length;)s=a.pop()[1];for(;c<i.marks.length;){let f=i.marks[c++],h=this.serializeMark(f,i.isInline,r);h&&(a.push([f,s]),s.appendChild(h.dom),s=h.contentDOM||h.dom)}}s.appendChild(this.serializeNodeInner(i,r))}),n}serializeNodeInner(t,r){let{dom:n,contentDOM:s}=Um(qv(r),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,s)}return n}serializeNode(t,r={}){let n=this.serializeNodeInner(t,r);for(let s=t.marks.length-1;s>=0;s--){let a=this.serializeMark(t.marks[s],t.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(t,r,n={}){let s=this.marks[t.type.name];return s&&Um(qv(n),s(t,r),null,t.attrs)}static renderSpec(t,r,n=null,s){return Um(t,r,n,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Bc(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=O3(t.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(t){return O3(t.marks)}}function O3(e){let t={};for(let r in e){let n=e[r].spec.toDOM;n&&(t[r]=n)}return t}function qv(e){return e.document||window.document}const j3=new WeakMap;function wae(e){let t=j3.get(e);return t===void 0&&j3.set(e,t=Eae(e)),t}function Eae(e){let t=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(e),t}function Um(e,t,r,n){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=wae(n))&&a.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=s.indexOf(" ");i>0&&(r=s.slice(0,i),s=s.slice(i+1));let o,c=r?e.createElementNS(r,s):e.createElement(s),f=t[1],h=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){h=2;for(let m in f)if(f[m]!=null){let x=m.indexOf(" ");x>0?c.setAttributeNS(m.slice(0,x),m.slice(x+1),f[m]):m=="style"&&c.style?c.style.cssText=f[m]:c.setAttribute(m,f[m])}}for(let m=h;m<t.length;m++){let x=t[m];if(x===0){if(m<t.length-1||m>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:y}=Um(e,x,r,n);if(c.appendChild(g),y){if(o)throw new RangeError("Multiple content holes");o=y}}}return{dom:c,contentDOM:o}}const p8=65535,m8=Math.pow(2,16);function _ae(e,t){return e+t*m8}function D3(e){return e&p8}function Sae(e){return(e-(e&p8))/m8}const g8=1,x8=2,zm=4,y8=8;class H2{constructor(t,r,n){this.pos=t,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&y8)>0}get deletedBefore(){return(this.delInfo&(g8|zm))>0}get deletedAfter(){return(this.delInfo&(x8|zm))>0}get deletedAcross(){return(this.delInfo&zm)>0}}class zs{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&zs.empty)return zs.empty}recover(t){let r=0,n=D3(t);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+Sae(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,n){let s=0,a=this.inverted?2:1,i=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?s:0);if(c>t)break;let f=this.ranges[o+a],h=this.ranges[o+i],m=c+f;if(t<=m){let x=f?t==c?-1:t==m?1:r:r,g=c+s+(x<0?0:h);if(n)return g;let y=t==(r<0?c:m)?null:_ae(o/3,t-c),b=t==c?x8:t==m?g8:zm;return(r<0?t!=c:t!=m)&&(b|=y8),new H2(g,b,y)}s+=h-f}return n?t+s:new H2(t+s,0,null)}touches(t,r){let n=0,s=D3(r),a=this.inverted?2:1,i=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?n:0);if(c>t)break;let f=this.ranges[o+a],h=c+f;if(t<=h&&o==s*3)return!0;n+=this.ranges[o+i]-f}return!1}forEach(t){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let i=this.ranges[s],o=i-(this.inverted?a:0),c=i+(this.inverted?0:a),f=this.ranges[s+r],h=this.ranges[s+n];t(o,o+f,c,c+h),a+=h-f}}invert(){return new zs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?zs.empty:new zs(t<0?[0,-t,0]:[0,0,t])}}zs.empty=new zs([]);class Ph{constructor(t,r,n=0,s=t?t.length:0){this.mirror=r,this.from=n,this.to=s,this._maps=t||[],this.ownData=!(t||r)}get maps(){return this._maps}slice(t=0,r=this.maps.length){return new Ph(this._maps,this.mirror,t,r)}appendMap(t,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(t){for(let r=0,n=this._maps.length;r<t._maps.length;r++){let s=t.getMirror(r);this.appendMap(t._maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(t){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,n=this._maps.length+t._maps.length;r>=0;r--){let s=t.getMirror(r);this.appendMap(t._maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let t=new Ph;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,n){let s=0;for(let a=this.from;a<this.to;a++){let i=this._maps[a],o=i.mapResult(t,r);if(o.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,t=this._maps[c].recover(o.recover);continue}}s|=o.delInfo,t=o.pos}return n?t:new H2(t,s,null)}}const Vv=Object.create(null);class Yn{getMap(){return zs.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Vv[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in Vv)throw new RangeError("Duplicate use of step JSON ID "+t);return Vv[t]=r,r.prototype.jsonID=t,r}}class Zr{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new Zr(t,null)}static fail(t){return new Zr(null,t)}static fromReplace(t,r,n,s){try{return Zr.ok(t.replace(r,n,s))}catch(a){if(a instanceof yg)return Zr.fail(a.message);throw a}}}function M_(e,t,r){let n=[];for(let s=0;s<e.childCount;s++){let a=e.child(s);a.content.size&&(a=a.copy(M_(a.content,t,a))),a.isInline&&(a=t(a,r,s)),n.push(a)}return $e.fromArray(n)}class nl extends Yn{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=t.resolve(this.from),s=n.node(n.sharedDepth(this.to)),a=new rt(M_(r.content,(i,o)=>!i.isAtom||!o.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),s),r.openStart,r.openEnd);return Zr.fromReplace(t,this.from,this.to,a)}invert(){return new za(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new nl(r.pos,n.pos,this.mark)}merge(t){return t instanceof nl&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new nl(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new nl(r.from,r.to,t.markFromJSON(r.mark))}}Yn.jsonID("addMark",nl);class za extends Yn{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=new rt(M_(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),r.openStart,r.openEnd);return Zr.fromReplace(t,this.from,this.to,n)}invert(){return new nl(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new za(r.pos,n.pos,this.mark)}merge(t){return t instanceof za&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new za(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new za(r.from,r.to,t.markFromJSON(r.mark))}}Yn.jsonID("removeMark",za);class sl extends Yn{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Zr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Zr.fromReplace(t,this.pos,this.pos+1,new rt($e.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new sl(this.pos,r.marks[s]);return new sl(this.pos,this.mark)}}return new Cc(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new sl(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new sl(r.pos,t.markFromJSON(r.mark))}}Yn.jsonID("addNodeMark",sl);class Cc extends Yn{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Zr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Zr.fromReplace(t,this.pos,this.pos+1,new rt($e.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new sl(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Cc(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Cc(r.pos,t.markFromJSON(r.mark))}}Yn.jsonID("removeNodeMark",Cc);class xn extends Yn{constructor(t,r,n,s=!1){super(),this.from=t,this.to=r,this.slice=n,this.structure=s}apply(t){return this.structure&&q2(t,this.from,this.to)?Zr.fail("Structure replace would overwrite content"):Zr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new zs([this.from,this.to-this.from,this.slice.size])}invert(t){return new xn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new xn(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof xn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let r=this.slice.size+t.slice.size==0?rt.empty:new rt(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new xn(this.from,this.to+(t.to-t.from),r,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let r=this.slice.size+t.slice.size==0?rt.empty:new rt(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new xn(t.from,this.to,r,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new xn(r.from,r.to,rt.fromJSON(t,r.slice),!!r.structure)}}Yn.jsonID("replace",xn);class bn extends Yn{constructor(t,r,n,s,a,i,o=!1){super(),this.from=t,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=a,this.insert=i,this.structure=o}apply(t){if(this.structure&&(q2(t,this.from,this.gapFrom)||q2(t,this.gapTo,this.to)))return Zr.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Zr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Zr.fromReplace(t,this.from,this.to,n):Zr.fail("Content does not fit in gap")}getMap(){return new zs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new bn(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:t.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||a>n.pos?null:new bn(r.pos,n.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bn(r.from,r.to,r.gapFrom,r.gapTo,rt.fromJSON(t,r.slice),r.insert,!!r.structure)}}Yn.jsonID("replaceAround",bn);function q2(e,t,r){let n=e.resolve(t),s=r-t,a=n.depth;for(;s>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,s--;if(s>0){let i=n.node(a).maybeChild(n.indexAfter(a));for(;s>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,s--}}return!1}function Tae(e,t,r,n){let s=[],a=[],i,o;e.doc.nodesBetween(t,r,(c,f,h)=>{if(!c.isInline)return;let m=c.marks;if(!n.isInSet(m)&&h.type.allowsMarkType(n.type)){let x=Math.max(f,t),g=Math.min(f+c.nodeSize,r),y=n.addToSet(m);for(let b=0;b<m.length;b++)m[b].isInSet(y)||(i&&i.to==x&&i.mark.eq(m[b])?i.to=g:s.push(i=new za(x,g,m[b])));o&&o.to==x?o.to=g:a.push(o=new nl(x,g,n))}}),s.forEach(c=>e.step(c)),a.forEach(c=>e.step(c))}function Nae(e,t,r,n){let s=[],a=0;e.doc.nodesBetween(t,r,(i,o)=>{if(!i.isInline)return;a++;let c=null;if(n instanceof Fx){let f=i.marks,h;for(;h=n.isInSet(f);)(c||(c=[])).push(h),f=h.removeFromSet(f)}else n?n.isInSet(i.marks)&&(c=[n]):c=i.marks;if(c&&c.length){let f=Math.min(o+i.nodeSize,r);for(let h=0;h<c.length;h++){let m=c[h],x;for(let g=0;g<s.length;g++){let y=s[g];y.step==a-1&&m.eq(s[g].style)&&(x=y)}x?(x.to=f,x.step=a):s.push({style:m,from:Math.max(o,t),to:f,step:a})}}}),s.forEach(i=>e.step(new za(i.from,i.to,i.style)))}function F_(e,t,r,n=r.contentMatch,s=!0){let a=e.doc.nodeAt(t),i=[],o=t+1;for(let c=0;c<a.childCount;c++){let f=a.child(c),h=o+f.nodeSize,m=n.matchType(f.type);if(!m)i.push(new xn(o,h,rt.empty));else{n=m;for(let x=0;x<f.marks.length;x++)r.allowsMarkType(f.marks[x].type)||e.step(new za(o,h,f.marks[x]));if(s&&f.isText&&r.whitespace!="pre"){let x,g=/\r?\n|\r/g,y;for(;x=g.exec(f.text);)y||(y=new rt($e.from(r.schema.text(" ",r.allowedMarks(f.marks))),0,0)),i.push(new xn(o+x.index,o+x.index+x[0].length,y))}}o=h}if(!n.validEnd){let c=n.fillBefore($e.empty,!0);e.replace(o,o,new rt(c,0,0))}for(let c=i.length-1;c>=0;c--)e.step(i[c])}function Aae(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function kf(e){let r=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,s=0,a=0;;--n){let i=e.$from.node(n),o=e.$from.index(n)+s,c=e.$to.indexAfter(n)-a;if(n<e.depth&&i.canReplace(o,c,r))return n;if(n==0||i.type.spec.isolating||!Aae(i,o,c))break;o&&(s=1),c<i.childCount&&(a=1)}return null}function Cae(e,t,r){let{$from:n,$to:s,depth:a}=t,i=n.before(a+1),o=s.after(a+1),c=i,f=o,h=$e.empty,m=0;for(let y=a,b=!1;y>r;y--)b||n.index(y)>0?(b=!0,h=$e.from(n.node(y).copy(h)),m++):c--;let x=$e.empty,g=0;for(let y=a,b=!1;y>r;y--)b||s.after(y+1)<s.end(y)?(b=!0,x=$e.from(s.node(y).copy(x)),g++):f++;e.step(new bn(c,f,i,o,new rt(h.append(x),m,g),h.size-m,!0))}function P_(e,t,r=null,n=e){let s=kae(e,t),a=s&&Rae(n,t);return a?s.map(I3).concat({type:t,attrs:r}).concat(a.map(I3)):null}function I3(e){return{type:e,attrs:null}}function kae(e,t){let{parent:r,startIndex:n,endIndex:s}=e,a=r.contentMatchAt(n).findWrapping(t);if(!a)return null;let i=a.length?a[0]:t;return r.canReplaceWith(n,s,i)?a:null}function Rae(e,t){let{parent:r,startIndex:n,endIndex:s}=e,a=r.child(n),i=t.contentMatch.findWrapping(a.type);if(!i)return null;let c=(i.length?i[i.length-1]:t).contentMatch;for(let f=n;c&&f<s;f++)c=c.matchType(r.child(f).type);return!c||!c.validEnd?null:i}function Oae(e,t,r){let n=$e.empty;for(let i=r.length-1;i>=0;i--){if(n.size){let o=r[i].type.contentMatch.matchFragment(n);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=$e.from(r[i].type.create(r[i].attrs,n))}let s=t.start,a=t.end;e.step(new bn(s,a,s,a,new rt(n,0,0),r.length,!0))}function jae(e,t,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,r,(i,o)=>{let c=typeof s=="function"?s(i):s;if(i.isTextblock&&!i.hasMarkup(n,c)&&Dae(e.doc,e.mapping.slice(a).map(o),n)){let f=null;if(n.schema.linebreakReplacement){let g=n.whitespace=="pre",y=!!n.contentMatch.matchType(n.schema.linebreakReplacement);g&&!y?f=!1:!g&&y&&(f=!0)}f===!1&&b8(e,i,o,a),F_(e,e.mapping.slice(a).map(o,1),n,void 0,f===null);let h=e.mapping.slice(a),m=h.map(o,1),x=h.map(o+i.nodeSize,1);return e.step(new bn(m,x,m+1,x-1,new rt($e.from(n.create(c,null,i.marks)),0,0),1,!0)),f===!0&&v8(e,i,o,a),!1}})}function v8(e,t,r,n){t.forEach((s,a)=>{if(s.isText){let i,o=/\r?\n|\r/g;for(;i=o.exec(s.text);){let c=e.mapping.slice(n).map(r+1+a+i.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function b8(e,t,r,n){t.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let i=e.mapping.slice(n).map(r+1+a);e.replaceWith(i,i+1,t.type.schema.text(`
`))}})}function Dae(e,t,r){let n=e.resolve(t),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function Iae(e,t,r,n,s){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let i=r.create(n,null,s||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,i);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);e.step(new bn(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new rt($e.from(i),0,0),1,!0))}function so(e,t,r=1,n){let s=e.resolve(t),a=s.depth-r,i=n&&n[n.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!i.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,h=r-2;f>a;f--,h--){let m=s.node(f),x=s.index(f);if(m.type.spec.isolating)return!1;let g=m.content.cutByIndex(x,m.childCount),y=n&&n[h+1];y&&(g=g.replaceChild(0,y.type.create(y.attrs)));let b=n&&n[h]||m;if(!m.canReplace(x+1,m.childCount)||!b.type.validContent(g))return!1}let o=s.indexAfter(a),c=n&&n[0];return s.node(a).canReplaceWith(o,o,c?c.type:s.node(a+1).type)}function Mae(e,t,r=1,n){let s=e.doc.resolve(t),a=$e.empty,i=$e.empty;for(let o=s.depth,c=s.depth-r,f=r-1;o>c;o--,f--){a=$e.from(s.node(o).copy(a));let h=n&&n[f];i=$e.from(h?h.type.create(h.attrs,i):s.node(o).copy(i))}e.step(new xn(t,t,new rt(a.append(i),r,r),!0))}function Tl(e,t){let r=e.resolve(t),n=r.index();return w8(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function Fae(e,t){t.content.size||e.type.compatibleContent(t.type);let r=e.contentMatchAt(e.childCount),{linebreakReplacement:n}=e.type.schema;for(let s=0;s<t.childCount;s++){let a=t.child(s),i=a.type==n?e.type.schema.nodes.text:a.type;if(r=r.matchType(i),!r||!e.type.allowsMarks(a.marks))return!1}return r.validEnd}function w8(e,t){return!!(e&&t&&!e.isLeaf&&Fae(e,t))}function Px(e,t,r=-1){let n=e.resolve(t);for(let s=n.depth;;s--){let a,i,o=n.index(s);if(s==n.depth?(a=n.nodeBefore,i=n.nodeAfter):r>0?(a=n.node(s+1),o++,i=n.node(s).maybeChild(o)):(a=n.node(s).maybeChild(o-1),i=n.node(s+1)),a&&!a.isTextblock&&w8(a,i)&&n.node(s).canReplace(o,o+1))return t;if(s==0)break;t=r<0?n.before(s):n.after(s)}}function Pae(e,t,r){let n=null,{linebreakReplacement:s}=e.doc.type.schema,a=e.doc.resolve(t-r),i=a.node().type;if(s&&i.inlineContent){let h=i.whitespace=="pre",m=!!i.contentMatch.matchType(s);h&&!m?n=!1:!h&&m&&(n=!0)}let o=e.steps.length;if(n===!1){let h=e.doc.resolve(t+r);b8(e,h.node(),h.before(),o)}i.inlineContent&&F_(e,t+r-1,i,a.node().contentMatchAt(a.index()),n==null);let c=e.mapping.slice(o),f=c.map(t-r);if(e.step(new xn(f,c.map(t+r,-1),rt.empty,!0)),n===!0){let h=e.doc.resolve(f);v8(e,h.node(),h.before(),e.steps.length)}return e}function Lae(e,t,r){let n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),r))return t;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let a=n.index(s);if(n.node(s).canReplaceWith(a,a,r))return n.before(s+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let a=n.indexAfter(s);if(n.node(s).canReplaceWith(a,a,r))return n.after(s+1);if(a<n.node(s).childCount)return null}return null}function E8(e,t,r){let n=e.resolve(t);if(!r.content.size)return t;let s=r.content;for(let a=0;a<r.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let i=n.depth;i>=0;i--){let o=i==n.depth?0:n.pos<=(n.start(i+1)+n.end(i+1))/2?-1:1,c=n.index(i)+(o>0?1:0),f=n.node(i),h=!1;if(a==1)h=f.canReplace(c,c,s);else{let m=f.contentMatchAt(c).findWrapping(s.firstChild.type);h=m&&f.canReplaceWith(c,c,m[0])}if(h)return o==0?n.pos:o<0?n.before(i+1):n.after(i+1)}return null}function Lx(e,t,r=t,n=rt.empty){if(t==r&&!n.size)return null;let s=e.resolve(t),a=e.resolve(r);return _8(s,a,n)?new xn(t,r,n):new Bae(s,a,n).fit()}function _8(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}class Bae{constructor(t,r,n){this.$from=t,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=$e.empty;for(let s=0;s<=t.depth;s++){let a=t.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=$e.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(t<0?this.$to:n.doc.resolve(t));if(!s)return null;let a=this.placed,i=n.depth,o=s.depth;for(;i&&o&&a.childCount==1;)a=a.firstChild.content,i--,o--;let c=new rt(a,i,o);return t>-1?new bn(n.pos,t,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new xn(n.pos,s.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<t;n++){let a=r.firstChild;if(r.childCount>1&&(s=0),a.type.spec.isolating&&s<=n){t=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?t:this.unplaced.openStart;n>=0;n--){let s,a=null;n?(a=$v(this.unplaced.content,n-1).firstChild,s=a.content):s=this.unplaced.content;let i=s.firstChild;for(let o=this.depth;o>=0;o--){let{type:c,match:f}=this.frontier[o],h,m=null;if(r==1&&(i?f.matchType(i.type)||(m=f.fillBefore($e.from(i),!1)):a&&c.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:o,parent:a,inject:m};if(r==2&&i&&(h=f.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:o,parent:a,wrap:h};if(a&&f.matchType(a.type))break}}}openMore(){let{content:t,openStart:r,openEnd:n}=this.unplaced,s=$v(t,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new rt(t,r+1,Math.max(n,s.size+r>=t.size-n?r+1:0)),!0)}dropNode(){let{content:t,openStart:r,openEnd:n}=this.unplaced,s=$v(t,r);if(s.childCount<=1&&r>0){let a=t.size-r<=r+s.size;this.unplaced=new rt($d(t,r-1,1),r-1,a?r-1:n)}else this.unplaced=new rt($d(t,r,1),r,n)}placeNodes({sliceDepth:t,frontierDepth:r,parent:n,inject:s,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let b=0;b<a.length;b++)this.openFrontierNode(a[b]);let i=this.unplaced,o=n?n.content:i.content,c=i.openStart-t,f=0,h=[],{match:m,type:x}=this.frontier[r];if(s){for(let b=0;b<s.childCount;b++)h.push(s.child(b));m=m.matchFragment(s)}let g=o.size+t-(i.content.size-i.openEnd);for(;f<o.childCount;){let b=o.child(f),w=m.matchType(b.type);if(!w)break;f++,(f>1||c==0||b.content.size)&&(m=w,h.push(S8(b.mark(x.allowedMarks(b.marks)),f==1?c:0,f==o.childCount?g:-1)))}let y=f==o.childCount;y||(g=-1),this.placed=Wd(this.placed,r,$e.from(h)),this.frontier[r].match=m,y&&g<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,w=o;b<g;b++){let E=w.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),w=E.content}this.unplaced=y?t==0?rt.empty:new rt($d(i.content,t-1,1),t-1,g<0?i.openEnd:t-1):new rt($d(i.content,t,f),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],r;if(!t.type.isTextblock||!Wv(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],a=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),i=Wv(t,r,s,n,a);if(i){for(let o=r-1;o>=0;o--){let{match:c,type:f}=this.frontier[o],h=Wv(t,o,f,c,!0);if(!h||h.childCount)continue e}return{depth:r,fit:i,move:a?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Wd(this.placed,r.depth,r.fit)),t=r.move;for(let n=r.depth+1;n<=t.depth;n++){let s=t.node(n),a=s.type.contentMatch.fillBefore(s.content,!0,t.index(n));this.openFrontierNode(s.type,s.attrs,a)}return t}openFrontierNode(t,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Wd(this.placed,this.depth,$e.from(t.create(r,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore($e.empty,!0);r.childCount&&(this.placed=Wd(this.placed,this.frontier.length,r))}}function $d(e,t,r){return t==0?e.cutByIndex(r,e.childCount):e.replaceChild(0,e.firstChild.copy($d(e.firstChild.content,t-1,r)))}function Wd(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(Wd(e.lastChild.content,t-1,r)))}function $v(e,t){for(let r=0;r<t;r++)e=e.firstChild.content;return e}function S8(e,t,r){if(t<=0)return e;let n=e.content;return t>1&&(n=n.replaceChild(0,S8(n.firstChild,t-1,n.childCount==1?r-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore($e.empty,!0)))),e.copy(n)}function Wv(e,t,r,n,s){let a=e.node(t),i=s?e.indexAfter(t):e.index(t);if(i==a.childCount&&!r.compatibleContent(a.type))return null;let o=n.fillBefore(a.content,!0,i);return o&&!Uae(r,a.content,i)?o:null}function Uae(e,t,r){for(let n=r;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function zae(e){return e.spec.defining||e.spec.definingForContent}function Hae(e,t,r,n){if(!n.size)return e.deleteRange(t,r);let s=e.doc.resolve(t),a=e.doc.resolve(r);if(_8(s,a,n))return e.step(new xn(t,r,n));let i=N8(s,a);i[i.length-1]==0&&i.pop();let o=-(s.depth+1);i.unshift(o);for(let x=s.depth,g=s.pos-1;x>0;x--,g--){let y=s.node(x).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;i.indexOf(x)>-1?o=x:s.before(x)==g&&i.splice(1,0,-x)}let c=i.indexOf(o),f=[],h=n.openStart;for(let x=n.content,g=0;;g++){let y=x.firstChild;if(f.push(y),g==n.openStart)break;x=y.content}for(let x=h-1;x>=0;x--){let g=f[x],y=zae(g.type);if(y&&!g.sameMarkup(s.node(Math.abs(o)-1)))h=x;else if(y||!g.type.isTextblock)break}for(let x=n.openStart;x>=0;x--){let g=(x+h+1)%(n.openStart+1),y=f[g];if(y)for(let b=0;b<i.length;b++){let w=i[(b+c)%i.length],E=!0;w<0&&(E=!1,w=-w);let T=s.node(w-1),_=s.index(w-1);if(T.canReplaceWith(_,_,y.type,y.marks))return e.replace(s.before(w),E?a.after(w):r,new rt(T8(n.content,0,n.openStart,g),g,n.openEnd))}}let m=e.steps.length;for(let x=i.length-1;x>=0&&(e.replace(t,r,n),!(e.steps.length>m));x--){let g=i[x];g<0||(t=s.before(g),r=a.after(g))}}function T8(e,t,r,n,s){if(t<r){let a=e.firstChild;e=e.replaceChild(0,a.copy(T8(a.content,t+1,r,n,a)))}if(t>n){let a=s.contentMatchAt(0),i=a.fillBefore(e).append(e);e=i.append(a.matchFragment(i).fillBefore($e.empty,!0))}return e}function qae(e,t,r,n){if(!n.isInline&&t==r&&e.doc.resolve(t).parent.content.size){let s=Lae(e.doc,t,n.type);s!=null&&(t=r=s)}e.replaceRange(t,r,new rt($e.from(n),0,0))}function Vae(e,t,r){let n=e.doc.resolve(t),s=e.doc.resolve(r),a=N8(n,s);for(let i=0;i<a.length;i++){let o=a[i],c=i==a.length-1;if(c&&o==0||n.node(o).type.contentMatch.validEnd)return e.delete(n.start(o),s.end(o));if(o>0&&(c||n.node(o-1).canReplace(n.index(o-1),s.indexAfter(o-1))))return e.delete(n.before(o),s.after(o))}for(let i=1;i<=n.depth&&i<=s.depth;i++)if(t-n.start(i)==n.depth-i&&r>n.end(i)&&s.end(i)-r!=s.depth-i&&n.start(i-1)==s.start(i-1)&&n.node(i-1).canReplace(n.index(i-1),s.index(i-1)))return e.delete(n.before(i),r);e.delete(t,r)}function N8(e,t){let r=[],n=Math.min(e.depth,t.depth);for(let s=n;s>=0;s--){let a=e.start(s);if(a<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(a==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==a-1)&&r.push(s)}return r}class Bu extends Yn{constructor(t,r,n){super(),this.pos=t,this.attr=r,this.value=n}apply(t){let r=t.nodeAt(this.pos);if(!r)return Zr.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return Zr.fromReplace(t,this.pos,this.pos+1,new rt($e.from(s),0,r.isLeaf?0:1))}getMap(){return zs.empty}invert(t){return new Bu(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Bu(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Bu(r.pos,r.attr,r.value)}}Yn.jsonID("attr",Bu);class Lh extends Yn{constructor(t,r){super(),this.attr=t,this.value=r}apply(t){let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let n=t.type.create(r,t.content,t.marks);return Zr.ok(n)}getMap(){return zs.empty}invert(t){return new Lh(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Lh(r.attr,r.value)}}Yn.jsonID("docAttr",Lh);let Ju=class extends Error{};Ju=function e(t){let r=Error.call(this,t);return r.__proto__=e.prototype,r};Ju.prototype=Object.create(Error.prototype);Ju.prototype.constructor=Ju;Ju.prototype.name="TransformError";class A8{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Ph}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new Ju(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}changedRange(){let t=1e9,r=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let s=this.mapping.maps[n];n&&(t=s.map(t,1),r=s.map(r,-1)),s.forEach((a,i,o,c)=>{t=Math.min(t,o),r=Math.max(r,c)})}return t==1e9?null:{from:t,to:r}}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,n=rt.empty){let s=Lx(this.doc,t,r,n);return s&&this.step(s),this}replaceWith(t,r,n){return this.replace(t,r,new rt($e.from(n),0,0))}delete(t,r){return this.replace(t,r,rt.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,n){return Hae(this,t,r,n),this}replaceRangeWith(t,r,n){return qae(this,t,r,n),this}deleteRange(t,r){return Vae(this,t,r),this}lift(t,r){return Cae(this,t,r),this}join(t,r=1){return Pae(this,t,r),this}wrap(t,r){return Oae(this,t,r),this}setBlockType(t,r=t,n,s=null){return jae(this,t,r,n,s),this}setNodeMarkup(t,r,n=null,s){return Iae(this,t,r,n,s),this}setNodeAttribute(t,r,n){return this.step(new Bu(t,r,n)),this}setDocAttribute(t,r){return this.step(new Lh(t,r)),this}addNodeMark(t,r){return this.step(new sl(t,r)),this}removeNodeMark(t,r){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(r instanceof ar)r.isInSet(n.marks)&&this.step(new Cc(t,r));else{let s=n.marks,a,i=[];for(;a=r.isInSet(s);)i.push(new Cc(t,a)),s=a.removeFromSet(s);for(let o=i.length-1;o>=0;o--)this.step(i[o])}return this}split(t,r=1,n){return Mae(this,t,r,n),this}addMark(t,r,n){return Tae(this,t,r,n),this}removeMark(t,r,n){return Nae(this,t,r,n),this}clearIncompatible(t,r,n){return F_(this,t,r,n),this}}const Gv=Object.create(null);class Ct{constructor(t,r,n){this.$anchor=t,this.$head=r,this.ranges=n||[new $ae(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=rt.empty){let n=r.content.lastChild,s=null;for(let o=0;o<r.openEnd;o++)s=n,n=n.lastChild;let a=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:c,$to:f}=i[o],h=t.mapping.slice(a);t.replaceRange(h.map(c.pos),h.map(f.pos),o?rt.empty:r),o==0&&P3(t,a,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,r){let n=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:i,$to:o}=s[a],c=t.mapping.slice(n),f=c.map(i.pos),h=c.map(o.pos);a?t.deleteRange(f,h):(t.replaceRangeWith(f,h,r),P3(t,n,r.isInline?-1:1))}}static findFrom(t,r,n=!1){let s=t.parent.inlineContent?new xt(t):ku(t.node(0),t.parent,t.pos,t.index(),r,n);if(s)return s;for(let a=t.depth-1;a>=0;a--){let i=r<0?ku(t.node(0),t.node(a),t.before(a+1),t.index(a),r,n):ku(t.node(0),t.node(a),t.after(a+1),t.index(a)+1,r,n);if(i)return i}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new Vs(t.node(0))}static atStart(t){return ku(t,t,0,0,1)||new Vs(t)}static atEnd(t){return ku(t,t,t.content.size,t.childCount,-1)||new Vs(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Gv[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in Gv)throw new RangeError("Duplicate use of selection JSON ID "+t);return Gv[t]=r,r.prototype.jsonID=t,r}getBookmark(){return xt.between(this.$anchor,this.$head).getBookmark()}}Ct.prototype.visible=!0;class $ae{constructor(t,r){this.$from=t,this.$to=r}}let M3=!1;function F3(e){!M3&&!e.parent.inlineContent&&(M3=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class xt extends Ct{constructor(t,r=t){F3(t),F3(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let n=t.resolve(r.map(this.head));if(!n.parent.inlineContent)return Ct.near(n);let s=t.resolve(r.map(this.anchor));return new xt(s.parent.inlineContent?s:n,n)}replace(t,r=rt.empty){if(super.replace(t,r),r==rt.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof xt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Bx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new xt(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,n=r){let s=t.resolve(r);return new this(s,n==r?s:t.resolve(n))}static between(t,r,n){let s=t.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let a=Ct.findFrom(r,n,!0)||Ct.findFrom(r,-n,!0);if(a)r=a.$head;else return Ct.near(r,n)}return t.parent.inlineContent||(s==0?t=r:(t=(Ct.findFrom(t,-n,!0)||Ct.findFrom(t,n,!0)).$anchor,t.pos<r.pos!=s<0&&(t=r))),new xt(t,r)}}Ct.jsonID("text",xt);class Bx{constructor(t,r){this.anchor=t,this.head=r}map(t){return new Bx(t.map(this.anchor),t.map(this.head))}resolve(t){return xt.between(t.resolve(this.anchor),t.resolve(this.head))}}class ft extends Ct{constructor(t){let r=t.nodeAfter,n=t.node(0).resolve(t.pos+r.nodeSize);super(t,n),this.node=r}map(t,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),a=t.resolve(s);return n?Ct.near(a):new ft(a)}content(){return new rt($e.from(this.node),0,0)}eq(t){return t instanceof ft&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new L_(this.anchor)}static fromJSON(t,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ft(t.resolve(r.anchor))}static create(t,r){return new ft(t.resolve(r))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ft.prototype.visible=!1;Ct.jsonID("node",ft);class L_{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:n}=t.mapResult(this.anchor);return r?new Bx(n,n):new L_(n)}resolve(t){let r=t.resolve(this.anchor),n=r.nodeAfter;return n&&ft.isSelectable(n)?new ft(r):Ct.near(r)}}class Vs extends Ct{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=rt.empty){if(r==rt.empty){t.delete(0,t.doc.content.size);let n=Ct.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new Vs(t)}map(t){return new Vs(t)}eq(t){return t instanceof Vs}getBookmark(){return Wae}}Ct.jsonID("all",Vs);const Wae={map(){return this},resolve(e){return new Vs(e)}};function ku(e,t,r,n,s,a=!1){if(t.inlineContent)return xt.create(e,r);for(let i=n-(s>0?0:1);s>0?i<t.childCount:i>=0;i+=s){let o=t.child(i);if(o.isAtom){if(!a&&ft.isSelectable(o))return ft.create(e,r-(s<0?o.nodeSize:0))}else{let c=ku(e,o,r+s,s<0?o.childCount:0,s,a);if(c)return c}r+=o.nodeSize*s}return null}function P3(e,t,r){let n=e.steps.length-1;if(n<t)return;let s=e.steps[n];if(!(s instanceof xn||s instanceof bn))return;let a=e.mapping.maps[n],i;a.forEach((o,c,f,h)=>{i==null&&(i=h)}),e.setSelection(Ct.near(e.doc.resolve(i),r))}const L3=1,im=2,B3=4;class Gae extends A8{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|L3)&~im,this.storedMarks=null,this}get selectionSet(){return(this.updated&L3)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=im,this}ensureMarks(t){return ar.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&im)>0}addStep(t,r){super.addStep(t,r),this.updated=this.updated&~im,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let n=this.selection;return r&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||ar.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,n){let s=this.doc.type.schema;if(r==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(n==null&&(n=r),!t)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let i=this.doc.resolve(r);a=n==r?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(t,a)),!this.selection.empty&&this.selection.to==r+t.length&&this.setSelection(Ct.near(this.selection.$to)),this}}setMeta(t,r){return this.meta[typeof t=="string"?t:t.key]=r,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=B3,this}get scrolledIntoView(){return(this.updated&B3)>0}}function U3(e,t){return!t||!e?e:e.bind(t)}class Gd{constructor(t,r,n){this.name=t,this.init=U3(r.init,n),this.apply=U3(r.apply,n)}}const Kae=[new Gd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Gd("selection",{init(e,t){return e.selection||Ct.atStart(t.doc)},apply(e){return e.selection}}),new Gd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,r,n){return n.selection.$cursor?e.storedMarks:null}}),new Gd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Kv{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Kae.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Gd(n.key,n.spec.state,n))})}}class Iu{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],n=this.applyInner(t),s=null;for(;;){let a=!1;for(let i=0;i<this.config.plugins.length;i++){let o=this.config.plugins[i];if(o.spec.appendTransaction){let c=s?s[i].n:0,f=s?s[i].state:this,h=c<r.length&&o.spec.appendTransaction.call(o,c?r.slice(c):r,f,n);if(h&&n.filterTransaction(h,i)){if(h.setMeta("appendedTransaction",t),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<i?{state:n,n:r.length}:{state:this,n:0})}r.push(h),n=n.applyInner(h),a=!0}s&&(s[i]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Iu(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let a=n[s];r[a.name]=a.apply(t,this[a.name],this,r)}return r}get tr(){return new Gae(this)}static create(t){let r=new Kv(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new Iu(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(t,n);return n}reconfigure(t){let r=new Kv(this.schema,t.plugins),n=r.fields,s=new Iu(r);for(let a=0;a<n.length;a++){let i=n[a].name;s[i]=this.hasOwnProperty(i)?this[i]:n[a].init(t,s)}return s}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[n],a=s.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(s,this[s.key]))}return r}static fromJSON(t,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new Kv(t.schema,t.plugins),a=new Iu(s);return s.fields.forEach(i=>{if(i.name=="doc")a.doc=qa.fromJSON(t.schema,r.doc);else if(i.name=="selection")a.selection=Ct.fromJSON(a.doc,r.selection);else if(i.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let o in n){let c=n[o],f=c.spec.state;if(c.key==i.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(r,o)){a[i.name]=f.fromJSON.call(c,t,r[o],a);return}}a[i.name]=i.init(t,a)}}),a}}function C8(e,t,r){for(let n in e){let s=e[n];s instanceof Function?s=s.bind(t):n=="handleDOMEvents"&&(s=C8(s,t,{})),r[n]=s}return r}class Er{constructor(t){this.spec=t,this.props={},t.props&&C8(t.props,this,this.props),this.key=t.key?t.key.key:k8("plugin")}getState(t){return t[this.key]}}const Xv=Object.create(null);function k8(e){return e in Xv?e+"$"+ ++Xv[e]:(Xv[e]=0,e+"$")}class ln{constructor(t="key"){this.key=k8(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const B_=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function R8(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("backward",e):r.parentOffset>0)?null:r}const O8=(e,t,r)=>{let n=R8(e,r);if(!n)return!1;let s=U_(n);if(!s){let i=n.blockRange(),o=i&&kf(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)}let a=s.nodeBefore;if(U8(e,s,t,-1))return!0;if(n.parent.content.size==0&&(Zu(a,"end")||ft.isSelectable(a)))for(let i=n.depth;;i--){let o=Lx(e.doc,n.before(i),n.after(i),rt.empty);if(o&&o.slice.size<o.to-o.from){if(t){let c=e.tr.step(o);c.setSelection(Zu(a,"end")?Ct.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):ft.create(c.doc,s.pos-a.nodeSize)),t(c.scrollIntoView())}return!0}if(i==1||n.node(i-1).childCount>1)break}return a.isAtom&&s.depth==n.depth-1?(t&&t(e.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},Xae=(e,t,r)=>{let n=R8(e,r);if(!n)return!1;let s=U_(n);return s?j8(e,s,t):!1},Yae=(e,t,r)=>{let n=I8(e,r);if(!n)return!1;let s=z_(n);return s?j8(e,s,t):!1};function j8(e,t,r){let n=t.nodeBefore,s=n,a=t.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let h=s.lastChild;if(!h)return!1;s=h}let i=t.nodeAfter,o=i,c=t.pos+1;for(;!o.isTextblock;c++){if(o.type.spec.isolating)return!1;let h=o.firstChild;if(!h)return!1;o=h}let f=Lx(e.doc,a,c,rt.empty);if(!f||f.from!=a||f instanceof xn&&f.slice.size>=c-a)return!1;if(r){let h=e.tr.step(f);h.setSelection(xt.create(h.doc,a)),r(h.scrollIntoView())}return!0}function Zu(e,t,r=!1){for(let n=e;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const D8=(e,t,r)=>{let{$head:n,empty:s}=e.selection,a=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):n.parentOffset>0)return!1;a=U_(n)}let i=a&&a.nodeBefore;return!i||!ft.isSelectable(i)?!1:(t&&t(e.tr.setSelection(ft.create(e.doc,a.pos-i.nodeSize)).scrollIntoView()),!0)};function U_(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function I8(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)?null:r}const M8=(e,t,r)=>{let n=I8(e,r);if(!n)return!1;let s=z_(n);if(!s)return!1;let a=s.nodeAfter;if(U8(e,s,t,1))return!0;if(n.parent.content.size==0&&(Zu(a,"start")||ft.isSelectable(a))){let i=Lx(e.doc,n.before(),n.after(),rt.empty);if(i&&i.slice.size<i.to-i.from){if(t){let o=e.tr.step(i);o.setSelection(Zu(a,"start")?Ct.findFrom(o.doc.resolve(o.mapping.map(s.pos)),1):ft.create(o.doc,o.mapping.map(s.pos))),t(o.scrollIntoView())}return!0}}return a.isAtom&&s.depth==n.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},F8=(e,t,r)=>{let{$head:n,empty:s}=e.selection,a=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)return!1;a=z_(n)}let i=a&&a.nodeAfter;return!i||!ft.isSelectable(i)?!1:(t&&t(e.tr.setSelection(ft.create(e.doc,a.pos)).scrollIntoView()),!0)};function z_(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}const Jae=(e,t)=>{let r=e.selection,n=r instanceof ft,s;if(n){if(r.node.isTextblock||!Tl(e.doc,r.from))return!1;s=r.from}else if(s=Px(e.doc,r.from,-1),s==null)return!1;if(t){let a=e.tr.join(s);n&&a.setSelection(ft.create(a.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),t(a.scrollIntoView())}return!0},Zae=(e,t)=>{let r=e.selection,n;if(r instanceof ft){if(r.node.isTextblock||!Tl(e.doc,r.to))return!1;n=r.to}else if(n=Px(e.doc,r.to,1),n==null)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},Qae=(e,t)=>{let{$from:r,$to:n}=e.selection,s=r.blockRange(n),a=s&&kf(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)},P8=(e,t)=>{let{$head:r,$anchor:n}=e.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function H_(e){for(let t=0;t<e.edgeCount;t++){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const eie=(e,t)=>{let{$head:r,$anchor:n}=e.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),a=r.indexAfter(-1),i=H_(s.contentMatchAt(a));if(!i||!s.canReplaceWith(a,a,i))return!1;if(t){let o=r.after(),c=e.tr.replaceWith(o,o,i.createAndFill());c.setSelection(Ct.near(c.doc.resolve(o),1)),t(c.scrollIntoView())}return!0},L8=(e,t)=>{let r=e.selection,{$from:n,$to:s}=r;if(r instanceof Vs||n.parent.inlineContent||s.parent.inlineContent)return!1;let a=H_(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){let i=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,o=e.tr.insert(i,a.createAndFill());o.setSelection(xt.create(o.doc,i+1)),t(o.scrollIntoView())}return!0},B8=(e,t)=>{let{$cursor:r}=e.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(so(e.doc,a))return t&&t(e.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),s=n&&kf(n);return s==null?!1:(t&&t(e.tr.lift(n,s).scrollIntoView()),!0)};function tie(e){return(t,r)=>{let{$from:n,$to:s}=t.selection;if(t.selection instanceof ft&&t.selection.node.isBlock)return!n.parentOffset||!so(t.doc,n.pos)?!1:(r&&r(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],i,o,c=!1,f=!1;for(let g=n.depth;;g--)if(n.node(g).isBlock){c=n.end(g)==n.pos+(n.depth-g),f=n.start(g)==n.pos-(n.depth-g),o=H_(n.node(g-1).contentMatchAt(n.indexAfter(g-1))),a.unshift(c&&o?{type:o}:null),i=g;break}else{if(g==1)return!1;a.unshift(null)}let h=t.tr;(t.selection instanceof xt||t.selection instanceof Vs)&&h.deleteSelection();let m=h.mapping.map(n.pos),x=so(h.doc,m,a.length,a);if(x||(a[0]=o?{type:o}:null,x=so(h.doc,m,a.length,a)),!x)return!1;if(h.split(m,a.length,a),!c&&f&&n.node(i).type!=o){let g=h.mapping.map(n.before(i)),y=h.doc.resolve(g);o&&n.node(i-1).canReplaceWith(y.index(),y.index()+1,o)&&h.setNodeMarkup(h.mapping.map(n.before(i)),o)}return r&&r(h.scrollIntoView()),!0}}const rie=tie(),nie=(e,t)=>{let{$from:r,to:n}=e.selection,s,a=r.sharedDepth(n);return a==0?!1:(s=r.before(a),t&&t(e.tr.setSelection(ft.create(e.doc,s))),!0)};function sie(e,t,r){let n=t.nodeBefore,s=t.nodeAfter,a=t.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&t.parent.canReplace(a-1,a)?(r&&r(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(a,a+1)||!(s.isTextblock||Tl(e.doc,t.pos))?!1:(r&&r(e.tr.join(t.pos).scrollIntoView()),!0)}function U8(e,t,r,n){let s=t.nodeBefore,a=t.nodeAfter,i,o,c=s.type.spec.isolating||a.type.spec.isolating;if(!c&&sie(e,t,r))return!0;let f=!c&&t.parent.canReplace(t.index(),t.index()+1);if(f&&(i=(o=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&o.matchType(i[0]||a.type).validEnd){if(r){let g=t.pos+a.nodeSize,y=$e.empty;for(let E=i.length-1;E>=0;E--)y=$e.from(i[E].create(null,y));y=$e.from(s.copy(y));let b=e.tr.step(new bn(t.pos-1,g,t.pos,g,new rt(y,1,0),i.length,!0)),w=b.doc.resolve(g+2*i.length);w.nodeAfter&&w.nodeAfter.type==s.type&&Tl(b.doc,w.pos)&&b.join(w.pos),r(b.scrollIntoView())}return!0}let h=a.type.spec.isolating||n>0&&c?null:Ct.findFrom(t,1),m=h&&h.$from.blockRange(h.$to),x=m&&kf(m);if(x!=null&&x>=t.depth)return r&&r(e.tr.lift(m,x).scrollIntoView()),!0;if(f&&Zu(a,"start",!0)&&Zu(s,"end")){let g=s,y=[];for(;y.push(g),!g.isTextblock;)g=g.lastChild;let b=a,w=1;for(;!b.isTextblock;b=b.firstChild)w++;if(g.canReplace(g.childCount,g.childCount,b.content)){if(r){let E=$e.empty;for(let _=y.length-1;_>=0;_--)E=$e.from(y[_].copy(E));let T=e.tr.step(new bn(t.pos-y.length,t.pos+a.nodeSize,t.pos+w,t.pos+a.nodeSize-w,new rt(E,y.length,0),0,!0));r(T.scrollIntoView())}return!0}}return!1}function z8(e){return function(t,r){let n=t.selection,s=e<0?n.$from:n.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(r&&r(t.tr.setSelection(xt.create(t.doc,e<0?s.start(a):s.end(a)))),!0):!1}}const aie=z8(-1),iie=z8(1);function oie(e,t=null){return function(r,n){let{$from:s,$to:a}=r.selection,i=s.blockRange(a),o=i&&P_(i,e,t);return o?(n&&n(r.tr.wrap(i,o).scrollIntoView()),!0):!1}}function z3(e,t=null){return function(r,n){let s=!1;for(let a=0;a<r.selection.ranges.length&&!s;a++){let{$from:{pos:i},$to:{pos:o}}=r.selection.ranges[a];r.doc.nodesBetween(i,o,(c,f)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)s=!0;else{let h=r.doc.resolve(f),m=h.index();s=h.parent.canReplaceWith(m,m+1,e)}})}if(!s)return!1;if(n){let a=r.tr;for(let i=0;i<r.selection.ranges.length;i++){let{$from:{pos:o},$to:{pos:c}}=r.selection.ranges[i];a.setBlockType(o,c,e,t)}n(a.scrollIntoView())}return!0}}function q_(...e){return function(t,r,n){for(let s=0;s<e.length;s++)if(e[s](t,r,n))return!0;return!1}}q_(B_,O8,D8);q_(B_,M8,F8);q_(P8,L8,B8,rie);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function lie(e,t=null){return function(r,n){let{$from:s,$to:a}=r.selection,i=s.blockRange(a);if(!i)return!1;let o=n?r.tr:null;return cie(o,i,e,t)?(n&&n(o.scrollIntoView()),!0):!1}}function cie(e,t,r,n=null){let s=!1,a=t,i=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(r)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let c=i.resolve(t.start-2);a=new bg(c,c,t.depth),t.endIndex<t.parent.childCount&&(t=new bg(t.$from,i.resolve(t.$to.end(t.depth)),t.depth)),s=!0}let o=P_(a,r,n,t);return o?(e&&uie(e,t,o,s,r),!0):!1}function uie(e,t,r,n,s){let a=$e.empty;for(let h=r.length-1;h>=0;h--)a=$e.from(r[h].type.create(r[h].attrs,a));e.step(new bn(t.start-(n?2:0),t.end,t.start,t.end,new rt(a,0,0),r.length,!0));let i=0;for(let h=0;h<r.length;h++)r[h].type==s&&(i=h+1);let o=r.length-i,c=t.start+r.length-(n?2:0),f=t.parent;for(let h=t.startIndex,m=t.endIndex,x=!0;h<m;h++,x=!1)!x&&so(e.doc,c,o)&&(e.split(c,o),c+=2*o),c+=f.child(h).nodeSize;return e}function fie(e){return function(t,r){let{$from:n,$to:s}=t.selection,a=n.blockRange(s,i=>i.childCount>0&&i.firstChild.type==e);return a?r?n.node(a.depth-1).type==e?die(t,r,e,a):hie(t,r,a):!0:!1}}function die(e,t,r,n){let s=e.tr,a=n.end,i=n.$to.end(n.depth);a<i&&(s.step(new bn(a-1,i,a,i,new rt($e.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new bg(s.doc.resolve(n.$from.pos),s.doc.resolve(i),n.depth));const o=kf(n);if(o==null)return!1;s.lift(n,o);let c=s.doc.resolve(s.mapping.map(a,-1)-1);return Tl(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),t(s.scrollIntoView()),!0}function hie(e,t,r){let n=e.tr,s=r.parent;for(let g=r.end,y=r.endIndex-1,b=r.startIndex;y>b;y--)g-=s.child(y).nodeSize,n.delete(g-1,g+1);let a=n.doc.resolve(r.start),i=a.nodeAfter;if(n.mapping.map(r.end)!=r.start+a.nodeAfter.nodeSize)return!1;let o=r.startIndex==0,c=r.endIndex==s.childCount,f=a.node(-1),h=a.index(-1);if(!f.canReplace(h+(o?0:1),h+1,i.content.append(c?$e.empty:$e.from(s))))return!1;let m=a.pos,x=m+i.nodeSize;return n.step(new bn(m-(o?1:0),x+(c?1:0),m+1,x-1,new rt((o?$e.empty:$e.from(s.copy($e.empty))).append(c?$e.empty:$e.from(s.copy($e.empty))),o?0:1,c?0:1),o?0:1)),t(n.scrollIntoView()),!0}function pie(e){return function(t,r){let{$from:n,$to:s}=t.selection,a=n.blockRange(s,f=>f.childCount>0&&f.firstChild.type==e);if(!a)return!1;let i=a.startIndex;if(i==0)return!1;let o=a.parent,c=o.child(i-1);if(c.type!=e)return!1;if(r){let f=c.lastChild&&c.lastChild.type==o.type,h=$e.from(f?e.create():null),m=new rt($e.from(e.create(null,$e.from(o.type.create(null,h)))),f?3:1,0),x=a.start,g=a.end;r(t.tr.step(new bn(x-(f?3:1),g,x,g,m,1,!0)).scrollIntoView())}return!0}}const kn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Qu=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let V2=null;const Ki=function(e,t,r){let n=V2||(V2=document.createRange());return n.setEnd(e,r??e.nodeValue.length),n.setStart(e,t||0),n},mie=function(){V2=null},kc=function(e,t,r,n){return r&&(H3(e,t,r,n,-1)||H3(e,t,r,n,1))},gie=/^(img|br|input|textarea|hr)$/i;function H3(e,t,r,n,s){for(var a;;){if(e==r&&t==n)return!0;if(t==(s<0?0:xa(e))){let i=e.parentNode;if(!i||i.nodeType!=1||y0(e)||gie.test(e.nodeName)||e.contentEditable=="false")return!1;t=kn(e)+(s<0?0:1),e=i}else if(e.nodeType==1){let i=e.childNodes[t+(s<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((a=i.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)t+=s;else return!1;else e=i,t=s<0?xa(e):0}else return!1}}function xa(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function xie(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=xa(e)}else if(e.parentNode&&!y0(e))t=kn(e),e=e.parentNode;else return null}}function yie(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!y0(e))t=kn(e)+1,e=e.parentNode;else return null}}function vie(e,t,r){for(let n=t==0,s=t==xa(e);n||s;){if(e==r)return!0;let a=kn(e);if(e=e.parentNode,!e)return!1;n=n&&a==0,s=s&&a==xa(e)}}function y0(e){let t;for(let r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Ux=function(e){return e.focusNode&&kc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Zl(e,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function bie(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function wie(e,t,r){if(e.caretPositionFromPoint)try{let n=e.caretPositionFromPoint(t,r);if(n)return{node:n.offsetNode,offset:Math.min(xa(n.offsetNode),n.offset)}}catch{}if(e.caretRangeFromPoint){let n=e.caretRangeFromPoint(t,r);if(n)return{node:n.startContainer,offset:Math.min(xa(n.startContainer),n.startOffset)}}}const xi=typeof navigator<"u"?navigator:null,q3=typeof document<"u"?document:null,Nl=xi&&xi.userAgent||"",$2=/Edge\/(\d+)/.exec(Nl),H8=/MSIE \d/.exec(Nl),W2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Nl),Ss=!!(H8||W2||$2),dl=H8?document.documentMode:W2?+W2[1]:$2?+$2[1]:0,va=!Ss&&/gecko\/(\d+)/i.test(Nl);va&&+(/Firefox\/(\d+)/.exec(Nl)||[0,0])[1];const G2=!Ss&&/Chrome\/(\d+)/.exec(Nl),On=!!G2,q8=G2?+G2[1]:0,Kn=!Ss&&!!xi&&/Apple Computer/.test(xi.vendor),ef=Kn&&(/Mobile\/\w+/.test(Nl)||!!xi&&xi.maxTouchPoints>2),ga=ef||(xi?/Mac/.test(xi.platform):!1),V8=xi?/Win/.test(xi.platform):!1,Zi=/Android \d/.test(Nl),v0=!!q3&&"webkitFontSmoothing"in q3.documentElement.style,Eie=v0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _ie(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function zi(e,t){return typeof e=="number"?e:e[t]}function Sie(e){let t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*n}}function V3(e,t,r){let n=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let i=r||e.dom;i;){if(i.nodeType!=1){i=Qu(i);continue}let o=i,c=o==a.body,f=c?_ie(a):Sie(o),h=0,m=0;if(t.top<f.top+zi(n,"top")?m=-(f.top-t.top+zi(s,"top")):t.bottom>f.bottom-zi(n,"bottom")&&(m=t.bottom-t.top>f.bottom-f.top?t.top+zi(s,"top")-f.top:t.bottom-f.bottom+zi(s,"bottom")),t.left<f.left+zi(n,"left")?h=-(f.left-t.left+zi(s,"left")):t.right>f.right-zi(n,"right")&&(h=t.right-f.right+zi(s,"right")),h||m)if(c)a.defaultView.scrollBy(h,m);else{let g=o.scrollLeft,y=o.scrollTop;m&&(o.scrollTop+=m),h&&(o.scrollLeft+=h);let b=o.scrollLeft-g,w=o.scrollTop-y;t={left:t.left-b,top:t.top-w,right:t.right-b,bottom:t.bottom-w}}let x=c?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(x))break;i=x=="absolute"?i.offsetParent:Qu(i)}}function Tie(e){let t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),n,s;for(let a=(t.left+t.right)/2,i=r+1;i<Math.min(innerHeight,t.bottom);i+=5){let o=e.root.elementFromPoint(a,i);if(!o||o==e.dom||!e.dom.contains(o))continue;let c=o.getBoundingClientRect();if(c.top>=r-20){n=o,s=c.top;break}}return{refDOM:n,refTop:s,stack:$8(e.dom)}}function $8(e){let t=[],r=e.ownerDocument;for(let n=e;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),e!=r);n=Qu(n));return t}function Nie({refDOM:e,refTop:t,stack:r}){let n=e?e.getBoundingClientRect().top:0;W8(r,n==0?0:n-t)}function W8(e,t){for(let r=0;r<e.length;r++){let{dom:n,top:s,left:a}=e[r];n.scrollTop!=s+t&&(n.scrollTop=s+t),n.scrollLeft!=a&&(n.scrollLeft=a)}}let Su=null;function Aie(e){if(e.setActive)return e.setActive();if(Su)return e.focus(Su);let t=$8(e);e.focus(Su==null?{get preventScroll(){return Su={preventScroll:!0},!0}}:void 0),Su||(Su=!1,W8(t,0))}function G8(e,t){let r,n=2e8,s,a=0,i=t.top,o=t.top,c,f;for(let h=e.firstChild,m=0;h;h=h.nextSibling,m++){let x;if(h.nodeType==1)x=h.getClientRects();else if(h.nodeType==3)x=Ki(h).getClientRects();else continue;for(let g=0;g<x.length;g++){let y=x[g];if(y.top<=i&&y.bottom>=o){i=Math.max(y.bottom,i),o=Math.min(y.top,o);let b=y.left>t.left?y.left-t.left:y.right<t.left?t.left-y.right:0;if(b<n){r=h,n=b,s=b&&r.nodeType==3?{left:y.right<t.left?y.right:y.left,top:t.top}:t,h.nodeType==1&&b&&(a=m+(t.left>=(y.left+y.right)/2?1:0));continue}}else y.top>t.top&&!c&&y.left<=t.left&&y.right>=t.left&&(c=h,f={left:Math.max(y.left,Math.min(y.right,t.left)),top:y.top});!r&&(t.left>=y.right&&t.top>=y.top||t.left>=y.left&&t.top>=y.bottom)&&(a=m+1)}}return!r&&c&&(r=c,s=f,n=0),r&&r.nodeType==3?Cie(r,s):!r||n&&r.nodeType==1?{node:e,offset:a}:G8(r,s)}function Cie(e,t){let r=e.nodeValue.length,n=document.createRange(),s;for(let a=0;a<r;a++){n.setEnd(e,a+1),n.setStart(e,a);let i=$o(n,1);if(i.top!=i.bottom&&V_(t,i)){s={node:e,offset:a+(t.left>=(i.left+i.right)/2?1:0)};break}}return n.detach(),s||{node:e,offset:0}}function V_(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function kie(e,t){let r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function Rie(e,t,r){let{node:n,offset:s}=G8(t,r),a=-1;if(n.nodeType==1&&!n.firstChild){let i=n.getBoundingClientRect();a=i.left!=i.right&&r.left>(i.left+i.right)/2?1:-1}return e.docView.posFromDOM(n,s,a)}function Oie(e,t,r,n){let s=-1;for(let a=t,i=!1;a!=e.dom;){let o=e.docView.nearestDesc(a,!0),c;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((c=o.dom.getBoundingClientRect()).width||c.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!i&&c.left>n.left||c.top>n.top?s=o.posBefore:(!i&&c.right<n.left||c.bottom<n.top)&&(s=o.posAfter),i=!0),!o.contentDOM&&s<0&&!o.node.isText))return(o.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?o.posBefore:o.posAfter;a=o.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,r,-1)}function K8(e,t,r){let n=e.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-r.top)/(r.bottom-r.top))-2)),a=s;;){let i=e.childNodes[a];if(i.nodeType==1){let o=i.getClientRects();for(let c=0;c<o.length;c++){let f=o[c];if(V_(t,f))return K8(i,t,f)}}if((a=(a+1)%n)==s)break}return e}function jie(e,t){let r=e.dom.ownerDocument,n,s=0,a=wie(r,t.left,t.top);a&&({node:n,offset:s}=a);let i=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top),o;if(!i||!e.dom.contains(i.nodeType!=1?i.parentNode:i)){let f=e.dom.getBoundingClientRect();if(!V_(t,f)||(i=K8(e.dom,t,f),!i))return null}if(Kn)for(let f=i;n&&f;f=Qu(f))f.draggable&&(n=void 0);if(i=kie(i,t),n){if(va&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let h=n.childNodes[s],m;h.nodeName=="IMG"&&(m=h.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&s++}let f;v0&&s&&n.nodeType==1&&(f=n.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=t.top&&s--,n==e.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(o=Oie(e,n,s,t))}o==null&&(o=Rie(e,i,t));let c=e.docView.nearestDesc(i,!0);return{pos:o,inside:c?c.posAtStart-c.border:-1}}function $3(e){return e.top<e.bottom||e.left<e.right}function $o(e,t){let r=e.getClientRects();if(r.length){let n=r[t<0?0:r.length-1];if($3(n))return n}return Array.prototype.find.call(r,$3)||e.getBoundingClientRect()}const Die=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function X8(e,t,r){let{node:n,offset:s,atom:a}=e.docView.domFromPos(t,r<0?-1:1),i=v0||va;if(n.nodeType==3)if(i&&(Die.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let c=$o(Ki(n,s,s),r);if(va&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let f=$o(Ki(n,s-1,s-1),-1);if(f.top==c.top){let h=$o(Ki(n,s,s+1),-1);if(h.top!=c.top)return kd(h,h.left<f.left)}}return c}else{let c=s,f=s,h=r<0?1:-1;return r<0&&!s?(f++,h=-1):r>=0&&s==n.nodeValue.length?(c--,h=1):r<0?c--:f++,kd($o(Ki(n,c,f),h),h<0)}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(a==null&&s&&(r<0||s==xa(n))){let c=n.childNodes[s-1];if(c.nodeType==1)return Yv(c.getBoundingClientRect(),!1)}if(a==null&&s<xa(n)){let c=n.childNodes[s];if(c.nodeType==1)return Yv(c.getBoundingClientRect(),!0)}return Yv(n.getBoundingClientRect(),r>=0)}if(a==null&&s&&(r<0||s==xa(n))){let c=n.childNodes[s-1],f=c.nodeType==3?Ki(c,xa(c)-(i?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return kd($o(f,1),!1)}if(a==null&&s<xa(n)){let c=n.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?Ki(c,0,i?0:1):c.nodeType==1?c:null:null;if(f)return kd($o(f,-1),!0)}return kd($o(n.nodeType==3?Ki(n):n,-r),r>=0)}function kd(e,t){if(e.width==0)return e;let r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function Yv(e,t){if(e.height==0)return e;let r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function Y8(e,t,r){let n=e.state,s=e.root.activeElement;n!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return r()}finally{n!=t&&e.updateState(n),s!=e.dom&&s&&s.focus()}}function Iie(e,t,r){let n=t.selection,s=r=="up"?n.$from:n.$to;return Y8(e,t,()=>{let{node:a}=e.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let o=e.docView.nearestDesc(a,!0);if(!o)break;if(o.node.isBlock){a=o.contentDOM||o.dom;break}a=o.dom.parentNode}let i=X8(e,s.pos,1);for(let o=a.firstChild;o;o=o.nextSibling){let c;if(o.nodeType==1)c=o.getClientRects();else if(o.nodeType==3)c=Ki(o,0,o.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let h=c[f];if(h.bottom>h.top+1&&(r=="up"?i.top-h.top>(h.bottom-i.top)*2:h.bottom-i.bottom>(i.bottom-h.top)*2))return!1}}return!0})}const Mie=/[\u0590-\u08ac]/;function Fie(e,t,r){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,a=!s,i=s==n.parent.content.size,o=e.domSelection();return o?!Mie.test(n.parent.textContent)||!o.modify?r=="left"||r=="backward"?a:i:Y8(e,t,()=>{let{focusNode:c,focusOffset:f,anchorNode:h,anchorOffset:m}=e.domSelectionRange(),x=o.caretBidiLevel;o.modify("move",r,"character");let g=n.depth?e.docView.domAfterPos(n.before()):e.dom,{focusNode:y,focusOffset:b}=e.domSelectionRange(),w=y&&!g.contains(y.nodeType==1?y:y.parentNode)||c==y&&f==b;try{o.collapse(h,m),c&&(c!=h||f!=m)&&o.extend&&o.extend(c,f)}catch{}return x!=null&&(o.caretBidiLevel=x),w}):n.pos==n.start()||n.pos==n.end()}let W3=null,G3=null,K3=!1;function Pie(e,t,r){return W3==t&&G3==r?K3:(W3=t,G3=r,K3=r=="up"||r=="down"?Iie(e,t,r):Fie(e,t,r))}const ba=0,X3=1,rc=2,yi=3;class b0{constructor(t,r,n,s){this.parent=t,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=ba,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==t)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let a,i;if(t==this.contentDOM)a=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.previousSibling}for(;a&&!((i=a.pmViewDesc)&&i.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(i)+i.size:this.posAtStart}else{let a,i;if(t==this.contentDOM)a=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((i=a.pmViewDesc)&&i.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(i):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=r>kn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=t;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&r==t.childNodes.length)for(let a=t;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let n=!0,s=t;s;s=s.parentNode){let a=this.getDesc(s),i;if(a&&(!r||a.node))if(n&&(i=a.nodeDOM)&&!(i.nodeType==1?i.contains(t.nodeType==1?t:t.parentNode):i==t))n=!1;else return a}}getDesc(t){let r=t.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(t,r,n){for(let s=t;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(t,r,n)}return-1}descAt(t){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],a=n+s.size;if(n==t&&a!=n){for(;!s.border&&s.children.length;)for(let i=0;i<s.children.length;i++){let o=s.children[i];if(o.size){s=o;break}}return s}if(t<a)return s.descAt(t-n-s.border);n=a}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,s=0;for(let a=0;n<this.children.length;n++){let i=this.children[n],o=a+i.size;if(o>t||i instanceof Z8){s=t-a;break}a=o}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof J8&&a.side>=0;n--);if(r<=0){let a,i=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,i=!1);return a&&r&&i&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?kn(a.dom)+1:0}}else{let a,i=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,i=!1);return a&&i&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?kn(a.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let i=n,o=0;;o++){let c=this.children[o],f=i+c.size;if(s==-1&&t<=f){let h=i+c.border;if(t>=h&&r<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,r,h);t=i;for(let m=o;m>0;m--){let x=this.children[m-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){s=kn(x.dom)+1;break}t-=x.size}s==-1&&(s=0)}if(s>-1&&(f>r||o==this.children.length-1)){r=f;for(let h=o+1;h<this.children.length;h++){let m=this.children[h];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){a=kn(m.dom);break}r+=m.size}a==-1&&(a=this.contentDOM.childNodes.length);break}i=f}return{node:this.contentDOM,from:t,to:r,fromOffset:s,toOffset:a}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:n}=this.domFromPos(t,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n]}setSelection(t,r,n,s=!1){let a=Math.min(t,r),i=Math.max(t,r);for(let g=0,y=0;g<this.children.length;g++){let b=this.children[g],w=y+b.size;if(a>y&&i<w)return b.setSelection(t-y-b.border,r-y-b.border,n,s);y=w}let o=this.domFromPos(t,t?-1:1),c=r==t?o:this.domFromPos(r,r?-1:1),f=n.root.getSelection(),h=n.domSelectionRange(),m=!1;if((va||Kn)&&t==r){let{node:g,offset:y}=o;if(g.nodeType==3){if(m=!!(y&&g.nodeValue[y-1]==`
`),m&&y==g.nodeValue.length)for(let b=g,w;b;b=b.parentNode){if(w=b.nextSibling){w.nodeName=="BR"&&(o=c={node:w.parentNode,offset:kn(w)+1});break}let E=b.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let b=g.childNodes[y-1];m=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(va&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let g=h.focusNode.childNodes[h.focusOffset];g&&g.contentEditable=="false"&&(s=!0)}if(!(s||m&&Kn)&&kc(o.node,o.offset,h.anchorNode,h.anchorOffset)&&kc(c.node,c.offset,h.focusNode,h.focusOffset))return;let x=!1;if((f.extend||t==r)&&!(m&&va)){f.collapse(o.node,o.offset);try{t!=r&&f.extend(c.node,c.offset),x=!0}catch{}}if(!x){if(t>r){let y=o;o=c,c=y}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(o.node,o.offset),f.removeAllRanges(),f.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let n=0,s=0;s<this.children.length;s++){let a=this.children[s],i=n+a.size;if(n==i?t<=i&&r>=n:t<i&&r>n){let o=n+a.border,c=i-a.border;if(t>=o&&r<=c){this.dirty=t==n||r==i?rc:X3,t==o&&r==c&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=yi:a.markDirty(t-o,r-o);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?rc:yi}n=i}this.dirty=rc}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let n=t==1?rc:X3;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class J8 extends b0{constructor(t,r,n,s){let a,i=r.type.toDOM;if(typeof i=="function"&&(i=i(n,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(i.nodeType!=1){let o=document.createElement("span");o.appendChild(i),i=o}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(t,[],i,null),this.widget=r,this.widget=r,a=this}matchesWidget(t){return this.dirty==ba&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return r?r(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Lie extends b0{constructor(t,r,n,s){super(t,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Rc extends b0{constructor(t,r,n,s,a){super(t,[],n,s),this.mark=r,this.spec=a}static create(t,r,n,s){let a=s.nodeViews[r.type.name],i=a&&a(r,s,n);return(!i||!i.dom)&&(i=Bc.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Rc(t,r,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&yi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=yi&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),this.dirty!=ba){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=ba}}slice(t,r,n){let s=Rc.create(this.parent,this.mark,!0,n),a=this.children,i=this.size;r<i&&(a=X2(a,r,i,n)),t>0&&(a=X2(a,0,t,n));for(let o=0;o<a.length;o++)a[o].parent=s;return s.children=a,s}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class hl extends b0{constructor(t,r,n,s,a,i,o,c,f){super(t,[],a,i),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=o}static create(t,r,n,s,a,i){let o=a.nodeViews[r.type.name],c,f=o&&o(r,a,()=>{if(!c)return i;if(c.parent)return c.parent.posBeforeChild(c)},n,s),h=f&&f.dom,m=f&&f.contentDOM;if(r.isText){if(!h)h=document.createTextNode(r.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:m}=Bc.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),r.type.spec.draggable&&(h.draggable=!0));let x=h;return h=tM(h,n,r),f?c=new Bie(t,r,n,s,h,m||null,x,f,a,i+1):r.isText?new zx(t,r,n,s,h,x,a):new hl(t,r,n,s,h,m||null,x,a,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>$e.empty)}return t}matchesNode(t,r,n){return this.dirty==ba&&t.eq(this.node)&&Eg(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let n=this.node.inlineContent,s=r,a=t.composing?this.localCompositionInfo(t,r):null,i=a&&a.pos>-1?a:null,o=a&&a.pos<0,c=new zie(this,i&&i.node,t);Vie(this.node,this.innerDeco,(f,h,m)=>{f.spec.marks?c.syncToMarks(f.spec.marks,n,t,h):f.type.side>=0&&!m&&c.syncToMarks(h==this.node.childCount?ar.none:this.node.child(h).marks,n,t,h),c.placeWidget(f,t,s)},(f,h,m,x)=>{c.syncToMarks(f.marks,n,t,x);let g;c.findNodeMatch(f,h,m,x)||o&&t.state.selection.from>s&&t.state.selection.to<s+f.nodeSize&&(g=c.findIndexWithChild(a.node))>-1&&c.updateNodeAt(f,h,m,g,t)||c.updateNextNode(f,h,m,t,x,s)||c.addNode(f,h,m,t,s),s+=f.nodeSize}),c.syncToMarks([],n,t,0),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==rc)&&(i&&this.protectLocalComposition(t,i),Q8(this.contentDOM,this.children,t),ef&&$ie(this.dom))}localCompositionInfo(t,r){let{from:n,to:s}=t.state.selection;if(!(t.state.selection instanceof xt)||n<r||s>r+this.node.content.size)return null;let a=t.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let i=a.nodeValue,o=Wie(this.node.content,i,n-r,s-r);return o<0?null:{node:a,pos:o,text:i}}else return{node:a,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let i=new Lie(this,a,r,s);t.input.compositionNodes.push(i),this.children=X2(this.children,n,n+s.length,t,i)}update(t,r,n,s){return this.dirty==yi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,r,n,s),!0)}updateInner(t,r,n,s){this.updateOuterDeco(r),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=ba}updateOuterDeco(t){if(Eg(t,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=eM(this.dom,this.nodeDOM,K2(this.outerDeco,this.node,r),K2(t,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Y3(e,t,r,n,s){tM(n,t,e);let a=new hl(void 0,e,t,r,n,n,n,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class zx extends hl{constructor(t,r,n,s,a,i,o){super(t,r,n,s,a,null,i,o,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,n,s){return this.dirty==yi||this.dirty!=ba&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=ba||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=ba,!0)}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,n){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,r,n){let s=this.node.cut(t,r),a=document.createTextNode(s.text);return new zx(this.parent,s,this.outerDeco,this.innerDeco,a,a,n)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(t==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=yi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Z8 extends b0{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ba&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Bie extends hl{constructor(t,r,n,s,a,i,o,c,f,h){super(t,r,n,s,a,i,o,f,h),this.spec=c}update(t,r,n,s){if(this.dirty==yi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let a=this.spec.update(t,r,n);return a&&this.updateInner(t,r,n,s),a}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,n,s){this.spec.setSelection?this.spec.setSelection(t,r,n.root):super.setSelection(t,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Q8(e,t,r){let n=e.firstChild,s=!1;for(let a=0;a<t.length;a++){let i=t[a],o=i.dom;if(o.parentNode==e){for(;o!=n;)n=J3(n),s=!0;n=n.nextSibling}else s=!0,e.insertBefore(o,n);if(i instanceof Rc){let c=n?n.previousSibling:e.lastChild;Q8(i.contentDOM,i.children,r),n=c?c.nextSibling:e.firstChild}}for(;n;)n=J3(n),s=!0;s&&r.trackWrites==e&&(r.trackWrites=null)}const fh=function(e){e&&(this.nodeName=e)};fh.prototype=Object.create(null);const nc=[new fh];function K2(e,t,r){if(e.length==0)return nc;let n=r?nc[0]:new fh,s=[n];for(let a=0;a<e.length;a++){let i=e[a].type.attrs;if(i){i.nodeName&&s.push(n=new fh(i.nodeName));for(let o in i){let c=i[o];c!=null&&(r&&s.length==1&&s.push(n=new fh(t.isInline?"span":"div")),o=="class"?n.class=(n.class?n.class+" ":"")+c:o=="style"?n.style=(n.style?n.style+";":"")+c:o!="nodeName"&&(n[o]=c))}}}return s}function eM(e,t,r,n){if(r==nc&&n==nc)return t;let s=t;for(let a=0;a<n.length;a++){let i=n[a],o=r[a];if(a){let c;o&&o.nodeName==i.nodeName&&s!=e&&(c=s.parentNode)&&c.nodeName.toLowerCase()==i.nodeName||(c=document.createElement(i.nodeName),c.pmIsDeco=!0,c.appendChild(s),o=nc[0]),s=c}Uie(s,o||nc[0],i)}return s}function Uie(e,t,r){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&e.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=t[n]&&e.setAttribute(n,r[n]);if(t.class!=r.class){let n=t.class?t.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)s.indexOf(n[a])==-1&&e.classList.remove(n[a]);for(let a=0;a<s.length;a++)n.indexOf(s[a])==-1&&e.classList.add(s[a]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(t.style);)e.style.removeProperty(s[1])}r.style&&(e.style.cssText+=r.style)}}function tM(e,t,r){return eM(e,e,nc,K2(t,r,e.nodeType!=1))}function Eg(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function J3(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class zie{constructor(t,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Hie(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let n=t;n<r;n++)this.top.children[n].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,n,s){let a=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;a<o&&(a==i-1?this.top:this.stack[a+1<<1]).matchesMark(t[a])&&t[a].type.spec.spanning!==!1;)a++;for(;a<i;)this.destroyRest(),this.top.dirty=ba,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let c=-1,f=this.top.children.length;s<this.preMatch.index&&(f=Math.min(this.index+3,f));for(let h=this.index;h<f;h++){let m=this.top.children[h];if(m.matchesMark(t[i])&&!this.isLocked(m.dom)){c=h;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let h=Rc.create(this.top,t[i],r,n);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,i++}}findNodeMatch(t,r,n,s){let a=-1,i;if(s>=this.preMatch.index&&(i=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&i.matchesNode(t,r,n))a=this.top.children.indexOf(i,this.index);else for(let o=this.index,c=Math.min(this.top.children.length,o+5);o<c;o++){let f=this.top.children[o];if(f.matchesNode(t,r,n)&&!this.preMatch.matched.has(f)){a=o;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(t,r,n,s,a){let i=this.top.children[s];return i.dirty==yi&&i.dom==i.contentDOM&&(i.dirty=rc),i.update(t,r,n,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}t=r}}updateNextNode(t,r,n,s,a,i){for(let o=this.index;o<this.top.children.length;o++){let c=this.top.children[o];if(c instanceof hl){let f=this.preMatch.matched.get(c);if(f!=null&&f!=a)return!1;let h=c.dom,m,x=this.isLocked(h)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=yi&&Eg(r,c.outerDeco));if(!x&&c.update(t,r,n,s))return this.destroyBetween(this.index,o),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!x&&(m=this.recreateWrapper(c,t,r,n,s,i)))return this.destroyBetween(this.index,o),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=rc,m.updateChildren(s,i+1),m.dirty=ba),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,n,s,a,i){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content)||!Eg(n,t.outerDeco)||!s.eq(t.innerDeco))return null;let o=hl.create(this.top,r,n,s,a,i);if(o.contentDOM){o.children=t.children,t.children=[];for(let c of o.children)c.parent=o}return t.destroy(),o}addNode(t,r,n,s,a){let i=hl.create(this.top,t,r,n,s,a);i.contentDOM&&i.updateChildren(s,a+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(t,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new J8(this.top,t,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof Rc;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof zx)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Kn||On)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new Z8(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Hie(e,t){let r=t,n=r.children.length,s=e.childCount,a=new Map,i=[];e:for(;s>0;){let o;for(;;)if(n){let f=r.children[n-1];if(f instanceof Rc)r=f,n=f.children.length;else{o=f,n--;break}}else{if(r==t)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=o.node;if(c){if(c!=e.child(s-1))break;--s,a.set(o,s),i.push(o)}}return{index:s,matched:a,matches:i.reverse()}}function qie(e,t){return e.type.side-t.type.side}function Vie(e,t,r,n){let s=t.locals(e),a=0;if(s.length==0){for(let f=0;f<e.childCount;f++){let h=e.child(f);n(h,s,t.forChild(a,h),f),a+=h.nodeSize}return}let i=0,o=[],c=null;for(let f=0;;){let h,m;for(;i<s.length&&s[i].to==a;){let w=s[i++];w.widget&&(h?(m||(m=[h])).push(w):h=w)}if(h)if(m){m.sort(qie);for(let w=0;w<m.length;w++)r(m[w],f,!!c)}else r(h,f,!!c);let x,g;if(c)g=-1,x=c,c=null;else if(f<e.childCount)g=f,x=e.child(f++);else break;for(let w=0;w<o.length;w++)o[w].to<=a&&o.splice(w--,1);for(;i<s.length&&s[i].from<=a&&s[i].to>a;)o.push(s[i++]);let y=a+x.nodeSize;if(x.isText){let w=y;i<s.length&&s[i].from<w&&(w=s[i].from);for(let E=0;E<o.length;E++)o[E].to<w&&(w=o[E].to);w<y&&(c=x.cut(w-a),x=x.cut(0,w-a),y=w,g=-1)}else for(;i<s.length&&s[i].to<y;)i++;let b=x.isInline&&!x.isLeaf?o.filter(w=>!w.inline):o.slice();n(x,b,t.forChild(a,x),g),a=y}}function $ie(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Wie(e,t,r,n){for(let s=0,a=0;s<e.childCount&&a<=n;){let i=e.child(s++),o=a;if(a+=i.nodeSize,!i.isText)continue;let c=i.text;for(;s<e.childCount;){let f=e.child(s++);if(a+=f.nodeSize,!f.isText)break;c+=f.text}if(a>=r){if(a>=n&&c.slice(n-t.length-o,n-o)==t)return n-t.length;let f=o<n?c.lastIndexOf(t,n-o-1):-1;if(f>=0&&f+t.length+o>=r)return o+f;if(r==n&&c.length>=n+t.length-o&&c.slice(n-o,n-o+t.length)==t)return n}}return-1}function X2(e,t,r,n,s){let a=[];for(let i=0,o=0;i<e.length;i++){let c=e[i],f=o,h=o+=c.size;f>=r||h<=t?a.push(c):(f<t&&a.push(c.slice(0,t-f,n)),s&&(a.push(s),s=void 0),h>r&&a.push(c.slice(r-f,c.size,n)))}return a}function $_(e,t=null){let r=e.domSelectionRange(),n=e.state.doc;if(!r.focusNode)return null;let s=e.docView.nearestDesc(r.focusNode),a=s&&s.size==0,i=e.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(i<0)return null;let o=n.resolve(i),c,f;if(Ux(r)){for(c=i;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&ft.isSelectable(m)&&s.parent&&!(m.isInline&&vie(r.focusNode,r.focusOffset,s.dom))){let x=s.posBefore;f=new ft(i==x?o:n.resolve(x))}}else{if(r instanceof e.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=i,x=i;for(let g=0;g<r.rangeCount;g++){let y=r.getRangeAt(g);m=Math.min(m,e.docView.posFromDOM(y.startContainer,y.startOffset,1)),x=Math.max(x,e.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(m<0)return null;[c,i]=x==e.state.selection.anchor?[x,m]:[m,x],o=n.resolve(i)}else c=e.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let h=n.resolve(c);if(!f){let m=t=="pointer"||e.state.selection.head<o.pos&&!a?1:-1;f=W_(e,h,o,m)}return f}function rM(e){return e.editable?e.hasFocus():sM(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ao(e,t=!1){let r=e.state.selection;if(nM(e,r),!!rM(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&On){let n=e.domSelectionRange(),s=e.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&kc(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Kie(e);else{let{anchor:n,head:s}=r,a,i;Z3&&!(r instanceof xt)&&(r.$from.parent.inlineContent||(a=Q3(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(i=Q3(e,r.to))),e.docView.setSelection(n,s,e,t),Z3&&(a&&eR(a),i&&eR(i)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Gie(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Z3=Kn||On&&q8<63;function Q3(e,t){let{node:r,offset:n}=e.docView.domFromPos(t,0),s=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(Kn&&s&&s.contentEditable=="false")return Jv(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return Jv(s);if(a)return Jv(a)}}function Jv(e){return e.contentEditable="true",Kn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function eR(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Gie(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let r=e.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!rM(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Kie(e){let t=e.domSelection();if(!t)return;let r=e.cursorWrapper.dom,n=r.nodeName=="IMG";n?t.collapse(r.parentNode,kn(r)+1):t.collapse(r,0),!n&&!e.state.selection.visible&&Ss&&dl<=11&&(r.disabled=!0,r.disabled=!1)}function nM(e,t){if(t instanceof ft){let r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(tR(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else tR(e)}function tR(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function W_(e,t,r,n){return e.someProp("createSelectionBetween",s=>s(e,t,r))||xt.between(t,r,n)}function rR(e){return e.editable&&!e.hasFocus()?!1:sM(e)}function sM(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Xie(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.domSelectionRange();return kc(t.node,t.offset,r.anchorNode,r.anchorOffset)}function Y2(e,t){let{$anchor:r,$head:n}=e.selection,s=t>0?r.max(n):r.min(n),a=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return a&&Ct.findFrom(a,t)}function Wo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function nR(e,t,r){let n=e.state.selection;if(n instanceof xt)if(r.indexOf("s")>-1){let{$head:s}=n,a=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let i=e.state.doc.resolve(s.pos+a.nodeSize*(t<0?-1:1));return Wo(e,new xt(n.$anchor,i))}else if(n.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=Y2(e.state,t);return s&&s instanceof ft?Wo(e,s):!1}else if(!(ga&&r.indexOf("m")>-1)){let s=n.$head,a=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,i;if(!a||a.isText)return!1;let o=t<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(i=e.docView.descAt(o))&&!i.contentDOM?ft.isSelectable(a)?Wo(e,new ft(t<0?e.state.doc.resolve(s.pos-a.nodeSize):s)):v0?Wo(e,new xt(e.state.doc.resolve(t<0?o:o+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof ft&&n.node.isInline)return Wo(e,new xt(t>0?n.$to:n.$from));{let s=Y2(e.state,t);return s?Wo(e,s):!1}}}function _g(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function dh(e,t){let r=e.pmViewDesc;return r&&r.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Tu(e,t){return t<0?Yie(e):Jie(e)}function Yie(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let s,a,i=!1;for(va&&r.nodeType==1&&n<_g(r)&&dh(r.childNodes[n],-1)&&(i=!0);;)if(n>0){if(r.nodeType!=1)break;{let o=r.childNodes[n-1];if(dh(o,-1))s=r,a=--n;else if(o.nodeType==3)r=o,n=r.nodeValue.length;else break}}else{if(aM(r))break;{let o=r.previousSibling;for(;o&&dh(o,-1);)s=r.parentNode,a=kn(o),o=o.previousSibling;if(o)r=o,n=_g(r);else{if(r=r.parentNode,r==e.dom)break;n=0}}}i?J2(e,r,n):s&&J2(e,s,a)}function Jie(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let s=_g(r),a,i;for(;;)if(n<s){if(r.nodeType!=1)break;let o=r.childNodes[n];if(dh(o,1))a=r,i=++n;else break}else{if(aM(r))break;{let o=r.nextSibling;for(;o&&dh(o,1);)a=o.parentNode,i=kn(o)+1,o=o.nextSibling;if(o)r=o,n=0,s=_g(r);else{if(r=r.parentNode,r==e.dom)break;n=s=0}}}a&&J2(e,a,i)}function aM(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Zie(e,t){for(;e&&t==e.childNodes.length&&!y0(e);)t=kn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let r=e.childNodes[t];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=0}}function Qie(e,t){for(;e&&!t&&!y0(e);)t=kn(e),e=e.parentNode;for(;e&&t;){let r=e.childNodes[t-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=e.childNodes.length}}function J2(e,t,r){if(t.nodeType!=3){let a,i;(i=Zie(t,r))?(t=i,r=0):(a=Qie(t,r))&&(t=a,r=a.nodeValue.length)}let n=e.domSelection();if(!n)return;if(Ux(n)){let a=document.createRange();a.setEnd(t,r),a.setStart(t,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(t,r);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&ao(e)},50)}function sR(e,t){let r=e.state.doc.resolve(t);if(!(On||V8)&&r.parent.inlineContent){let s=e.coordsAtPos(t);if(t>r.start()){let a=e.coordsAtPos(t-1),i=(a.top+a.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(t<r.end()){let a=e.coordsAtPos(t+1),i=(a.top+a.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function aR(e,t,r){let n=e.state.selection;if(n instanceof xt&&!n.empty||r.indexOf("s")>-1||ga&&r.indexOf("m")>-1)return!1;let{$from:s,$to:a}=n;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let i=Y2(e.state,t);if(i&&i instanceof ft)return Wo(e,i)}if(!s.parent.inlineContent){let i=t<0?s:a,o=n instanceof Vs?Ct.near(i,t):Ct.findFrom(i,t);return o?Wo(e,o):!1}return!1}function iR(e,t){if(!(e.state.selection instanceof xt))return!0;let{$head:r,$anchor:n,empty:s}=e.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let i=e.state.tr;return t<0?i.delete(r.pos-a.nodeSize,r.pos):i.delete(r.pos,r.pos+a.nodeSize),e.dispatch(i),!0}return!1}function oR(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function eoe(e){if(!Kn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(t&&t.nodeType==1&&r==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;oR(e,n,"true"),setTimeout(()=>oR(e,n,"false"),20)}return!1}function toe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function roe(e,t){let r=t.keyCode,n=toe(t);if(r==8||ga&&r==72&&n=="c")return iR(e,-1)||Tu(e,-1);if(r==46&&!t.shiftKey||ga&&r==68&&n=="c")return iR(e,1)||Tu(e,1);if(r==13||r==27)return!0;if(r==37||ga&&r==66&&n=="c"){let s=r==37?sR(e,e.state.selection.from)=="ltr"?-1:1:-1;return nR(e,s,n)||Tu(e,s)}else if(r==39||ga&&r==70&&n=="c"){let s=r==39?sR(e,e.state.selection.from)=="ltr"?1:-1:1;return nR(e,s,n)||Tu(e,s)}else{if(r==38||ga&&r==80&&n=="c")return aR(e,-1,n)||Tu(e,-1);if(r==40||ga&&r==78&&n=="c")return eoe(e)||aR(e,1,n)||Tu(e,1);if(n==(ga?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function G_(e,t){e.someProp("transformCopied",g=>{t=g(t,e)});let r=[],{content:n,openStart:s,openEnd:a}=t;for(;s>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,a--;let g=n.firstChild;r.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),n=g.content}let i=e.someProp("clipboardSerializer")||Bc.fromSchema(e.state.schema),o=fM(),c=o.createElement("div");c.appendChild(i.serializeFragment(n,{document:o}));let f=c.firstChild,h,m=0;for(;f&&f.nodeType==1&&(h=uM[f.nodeName.toLowerCase()]);){for(let g=h.length-1;g>=0;g--){let y=o.createElement(h[g]);for(;c.firstChild;)y.appendChild(c.firstChild);c.appendChild(y),m++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${a}${m?` -${m}`:""} ${JSON.stringify(r)}`);let x=e.someProp("clipboardTextSerializer",g=>g(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:c,text:x,slice:t}}function iM(e,t,r,n,s){let a=s.parent.type.spec.code,i,o;if(!r&&!t)return null;let c=!!t&&(n||a||!r);if(c){if(e.someProp("transformPastedText",x=>{t=x(t,a||n,e)}),a)return o=new rt($e.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",x=>{o=x(o,e,!0)}),o;let m=e.someProp("clipboardTextParser",x=>x(t,s,n,e));if(m)o=m;else{let x=s.marks(),{schema:g}=e.state,y=Bc.fromSchema(g);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(b=>{let w=i.appendChild(document.createElement("p"));b&&w.appendChild(y.serializeNode(g.text(b,x)))})}}else e.someProp("transformPastedHTML",m=>{r=m(r,e)}),i=ioe(r),v0&&ooe(i);let f=i&&i.querySelector("[data-pm-slice]"),h=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let m=+h[3];m>0;m--){let x=i.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;i=x}if(o||(o=(e.someProp("clipboardParser")||e.someProp("domParser")||fl.fromSchema(e.state.schema)).parseSlice(i,{preserveWhitespace:!!(c||h),context:s,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!noe.test(x.parentNode.nodeName)?{ignore:!0}:null}})),h)o=loe(lR(o,+h[1],+h[2]),h[4]);else if(o=rt.maxOpen(soe(o.content,s),!0),o.openStart||o.openEnd){let m=0,x=0;for(let g=o.content.firstChild;m<o.openStart&&!g.type.spec.isolating;m++,g=g.firstChild);for(let g=o.content.lastChild;x<o.openEnd&&!g.type.spec.isolating;x++,g=g.lastChild);o=lR(o,m,x)}return e.someProp("transformPasted",m=>{o=m(o,e,c)}),o}const noe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function soe(e,t){if(e.childCount<2)return e;for(let r=t.depth;r>=0;r--){let s=t.node(r).contentMatchAt(t.index(r)),a,i=[];if(e.forEach(o=>{if(!i)return;let c=s.findWrapping(o.type),f;if(!c)return i=null;if(f=i.length&&a.length&&lM(c,a,o,i[i.length-1],0))i[i.length-1]=f;else{i.length&&(i[i.length-1]=cM(i[i.length-1],a.length));let h=oM(o,c);i.push(h),s=s.matchType(h.type),a=c}}),i)return $e.from(i)}return e}function oM(e,t,r=0){for(let n=t.length-1;n>=r;n--)e=t[n].create(null,$e.from(e));return e}function lM(e,t,r,n,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let a=lM(e,t,r,n.lastChild,s+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(s==e.length-1?r.type:e[s+1]))return n.copy(n.content.append($e.from(oM(r,e,s+1))))}}function cM(e,t){if(t==0)return e;let r=e.content.replaceChild(e.childCount-1,cM(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore($e.empty,!0);return e.copy(r.append(n))}function Z2(e,t,r,n,s,a){let i=t<0?e.firstChild:e.lastChild,o=i.content;return e.childCount>1&&(a=0),s<n-1&&(o=Z2(o,t,r,n,s+1,a)),s>=r&&(o=t<0?i.contentMatchAt(0).fillBefore(o,a<=s).append(o):o.append(i.contentMatchAt(i.childCount).fillBefore($e.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,i.copy(o))}function lR(e,t,r){return t<e.openStart&&(e=new rt(Z2(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new rt(Z2(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}const uM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let cR=null;function fM(){return cR||(cR=document.implementation.createHTMLDocument("title"))}let Zv=null;function aoe(e){let t=window.trustedTypes;return t?(Zv||(Zv=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Zv.createHTML(e)):e}function ioe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let r=fM().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),s;if((s=n&&uM[n[1].toLowerCase()])&&(e=s.map(a=>"<"+a+">").join("")+e+s.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=aoe(e),s)for(let a=0;a<s.length;a++)r=r.querySelector(s[a])||r;return r}function ooe(e){let t=e.querySelectorAll(On?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let n=t[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function loe(e,t){if(!e.size)return e;let r=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}let{content:s,openStart:a,openEnd:i}=e;for(let o=n.length-2;o>=0;o-=2){let c=r.nodes[n[o]];if(!c||c.hasRequiredAttrs())break;s=$e.from(c.create(n[o+1],s)),a++,i++}return new rt(s,a,i)}const cs={},us={},coe={touchstart:!0,touchmove:!0};class uoe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function foe(e){for(let t in cs){let r=cs[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=n=>{hoe(e,n)&&!K_(e,n)&&(e.editable||!(n.type in us))&&r(e,n)},coe[t]?{passive:!0}:void 0)}Kn&&e.dom.addEventListener("input",()=>null),Q2(e)}function al(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function doe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Q2(e){e.someProp("handleDOMEvents",t=>{for(let r in t)e.input.eventHandlers[r]||e.dom.addEventListener(r,e.input.eventHandlers[r]=n=>K_(e,n))})}function K_(e,t){return e.someProp("handleDOMEvents",r=>{let n=r[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function hoe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function poe(e,t){!K_(e,t)&&cs[t.type]&&(e.editable||!(t.type in us))&&cs[t.type](e,t)}us.keydown=(e,t)=>{let r=t;if(e.input.shiftKey=r.keyCode==16||r.shiftKey,!hM(e,r)&&(e.input.lastKeyCode=r.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Zi&&On&&r.keyCode==13)))if(r.keyCode!=229&&e.domObserver.forceFlush(),ef&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();e.input.lastIOSEnter=n,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==n&&(e.someProp("handleKeyDown",s=>s(e,Zl(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",n=>n(e,r))||roe(e,r)?r.preventDefault():al(e,"key")};us.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};us.keypress=(e,t)=>{let r=t;if(hM(e,r)||!r.charCode||r.ctrlKey&&!r.altKey||ga&&r.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,r))){r.preventDefault();return}let n=e.state.selection;if(!(n instanceof xt)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode),a=()=>e.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",i=>i(e,n.$from.pos,n.$to.pos,s,a))&&e.dispatch(a()),r.preventDefault()}};function Hx(e){return{left:e.clientX,top:e.clientY}}function moe(e,t){let r=t.x-e.clientX,n=t.y-e.clientY;return r*r+n*n<100}function X_(e,t,r,n,s){if(n==-1)return!1;let a=e.state.doc.resolve(n);for(let i=a.depth+1;i>0;i--)if(e.someProp(t,o=>i>a.depth?o(e,r,a.nodeAfter,a.before(i),s,!0):o(e,r,a.node(i),a.before(i),s,!1)))return!0;return!1}function Uu(e,t,r){if(e.focused||e.focus(),e.state.selection.eq(t))return;let n=e.state.tr.setSelection(t);n.setMeta("pointer",!0),e.dispatch(n)}function goe(e,t){if(t==-1)return!1;let r=e.state.doc.resolve(t),n=r.nodeAfter;return n&&n.isAtom&&ft.isSelectable(n)?(Uu(e,new ft(r)),!0):!1}function xoe(e,t){if(t==-1)return!1;let r=e.state.selection,n,s;r instanceof ft&&(n=r.node);let a=e.state.doc.resolve(t);for(let i=a.depth+1;i>0;i--){let o=i>a.depth?a.nodeAfter:a.node(i);if(ft.isSelectable(o)){n&&r.$from.depth>0&&i>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?s=a.before(r.$from.depth):s=a.before(i);break}}return s!=null?(Uu(e,ft.create(e.state.doc,s)),!0):!1}function yoe(e,t,r,n,s){return X_(e,"handleClickOn",t,r,n)||e.someProp("handleClick",a=>a(e,t,n))||(s?xoe(e,r):goe(e,r))}function voe(e,t,r,n){return X_(e,"handleDoubleClickOn",t,r,n)||e.someProp("handleDoubleClick",s=>s(e,t,n))}function boe(e,t,r,n){return X_(e,"handleTripleClickOn",t,r,n)||e.someProp("handleTripleClick",s=>s(e,t,n))||woe(e,r,n)}function woe(e,t,r){if(r.button!=0)return!1;let n=e.state.doc;if(t==-1)return n.inlineContent?(Uu(e,xt.create(n,0,n.content.size)),!0):!1;let s=n.resolve(t);for(let a=s.depth+1;a>0;a--){let i=a>s.depth?s.nodeAfter:s.node(a),o=s.before(a);if(i.inlineContent)Uu(e,xt.create(n,o+1,o+1+i.content.size));else if(ft.isSelectable(i))Uu(e,ft.create(n,o));else continue;return!0}}function Y_(e){return Sg(e)}const dM=ga?"metaKey":"ctrlKey";cs.mousedown=(e,t)=>{let r=t;e.input.shiftKey=r.shiftKey;let n=Y_(e),s=Date.now(),a="singleClick";s-e.input.lastClick.time<500&&moe(r,e.input.lastClick)&&!r[dM]&&e.input.lastClick.button==r.button&&(e.input.lastClick.type=="singleClick"?a="doubleClick":e.input.lastClick.type=="doubleClick"&&(a="tripleClick")),e.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:a,button:r.button};let i=e.posAtCoords(Hx(r));i&&(a=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Eoe(e,i,r,!!n)):(a=="doubleClick"?voe:boe)(e,i.pos,i.inside,r)?r.preventDefault():al(e,"pointer"))};class Eoe{constructor(t,r,n,s){this.view=t,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[dM],this.allowDefault=n.shiftKey;let a,i;if(r.inside>-1)a=t.state.doc.nodeAt(r.inside),i=r.inside;else{let h=t.state.doc.resolve(r.pos);a=h.parent,i=h.depth?h.before():0}const o=s?null:n.target,c=o?t.docView.nearestDesc(o,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:f}=t.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||f instanceof ft&&f.from<=i&&f.to>i)&&(this.mightDrag={node:a,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&va&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),al(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ao(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Hx(t))),this.updateAllowDefault(t),this.allowDefault||!r?al(this.view,"pointer"):yoe(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Kn&&this.mightDrag&&!this.mightDrag.node.isAtom||On&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Uu(this.view,Ct.near(this.view.state.doc.resolve(r.pos))),t.preventDefault()):al(this.view,"pointer")}move(t){this.updateAllowDefault(t),al(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}cs.touchstart=e=>{e.input.lastTouch=Date.now(),Y_(e),al(e,"pointer")};cs.touchmove=e=>{e.input.lastTouch=Date.now(),al(e,"pointer")};cs.contextmenu=e=>Y_(e);function hM(e,t){return e.composing?!0:Kn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const _oe=Zi?5e3:-1;us.compositionstart=us.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,r=t.selection.$to;if(t.selection instanceof xt&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||On&&V8&&Soe(e)))e.markCursor=e.state.storedMarks||r.marks(),Sg(e,!0),e.markCursor=null;else if(Sg(e,!t.selection.empty),va&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=e.domSelectionRange();for(let s=n.focusNode,a=n.focusOffset;s&&s.nodeType==1&&a!=0;){let i=a<0?s.lastChild:s.childNodes[a-1];if(!i)break;if(i.nodeType==3){let o=e.domSelection();o&&o.collapse(i,i.nodeValue.length);break}else s=i,a=-1}}e.input.composing=!0}pM(e,_oe)};function Soe(e){let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(!t||t.nodeType!=1||r>=t.childNodes.length)return!1;let n=t.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}us.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.badSafariComposition?e.domObserver.forceFlush():e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,pM(e,20))};function pM(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Sg(e),t))}function mM(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Noe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Toe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let r=xie(t.focusNode,t.focusOffset),n=yie(t.focusNode,t.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,a=e.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!s||!s.isText(n.nodeValue))return n;if(e.input.compositionNode==n){let i=r.pmViewDesc;if(!(!i||!i.isText(r.nodeValue)))return n}}return r||n}function Noe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Sg(e,t=!1){if(!(Zi&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),mM(e),t||e.docView&&e.docView.dirty){let r=$_(e),n=e.state.selection;return r&&!r.eq(n)?e.dispatch(e.state.tr.setSelection(r)):(e.markCursor||t)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function Aoe(e,t){if(!e.dom.parentNode)return;let r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}const Bh=Ss&&dl<15||ef&&Eie<604;cs.copy=us.cut=(e,t)=>{let r=t,n=e.state.selection,s=r.type=="cut";if(n.empty)return;let a=Bh?null:r.clipboardData,i=n.content(),{dom:o,text:c}=G_(e,i);a?(r.preventDefault(),a.clearData(),a.setData("text/html",o.innerHTML),a.setData("text/plain",c)):Aoe(e,o),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Coe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function koe(e,t){if(!e.dom.parentNode)return;let r=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Uh(e,n.value,null,s,t):Uh(e,n.textContent,n.innerHTML,s,t)},50)}function Uh(e,t,r,n,s){let a=iM(e,t,r,n,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,s,a||rt.empty)))return!0;if(!a)return!1;let i=Coe(a),o=i?e.state.tr.replaceSelectionWith(i,n):e.state.tr.replaceSelection(a);return e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gM(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let r=e.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}us.paste=(e,t)=>{let r=t;if(e.composing&&!Zi)return;let n=Bh?null:r.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;n&&Uh(e,gM(n),n.getData("text/html"),s,r)?r.preventDefault():koe(e,r)};class xM{constructor(t,r,n){this.slice=t,this.move=r,this.node=n}}const Roe=ga?"altKey":"ctrlKey";function yM(e,t){let r=e.someProp("dragCopies",n=>!n(t));return r??!t[Roe]}cs.dragstart=(e,t)=>{let r=t,n=e.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=e.state.selection,a=s.empty?null:e.posAtCoords(Hx(r)),i;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof ft?s.to-1:s.to))){if(n&&n.mightDrag)i=ft.create(e.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=e.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(i=ft.create(e.state.doc,m.posBefore))}}let o=(i||e.state.selection).content(),{dom:c,text:f,slice:h}=G_(e,o);(!r.dataTransfer.files.length||!On||q8>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Bh?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",Bh||r.dataTransfer.setData("text/plain",f),e.dragging=new xM(h,yM(e,r),i)};cs.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};us.dragover=us.dragenter=(e,t)=>t.preventDefault();us.drop=(e,t)=>{try{Ooe(e,t,e.dragging)}finally{e.dragging=null}};function Ooe(e,t,r){if(!t.dataTransfer)return;let n=e.posAtCoords(Hx(t));if(!n)return;let s=e.state.doc.resolve(n.pos),a=r&&r.slice;a?e.someProp("transformPasted",g=>{a=g(a,e,!1)}):a=iM(e,gM(t.dataTransfer),Bh?null:t.dataTransfer.getData("text/html"),!1,s);let i=!!(r&&yM(e,t));if(e.someProp("handleDrop",g=>g(e,t,a||rt.empty,i))){t.preventDefault();return}if(!a)return;t.preventDefault();let o=a?E8(e.state.doc,s.pos,a):s.pos;o==null&&(o=s.pos);let c=e.state.tr;if(i){let{node:g}=r;g?g.replace(c):c.deleteSelection()}let f=c.mapping.map(o),h=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,m=c.doc;if(h?c.replaceRangeWith(f,f,a.content.firstChild):c.replaceRange(f,f,a),c.doc.eq(m))return;let x=c.doc.resolve(f);if(h&&ft.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new ft(x));else{let g=c.mapping.map(o);c.mapping.maps[c.mapping.maps.length-1].forEach((y,b,w,E)=>g=E),c.setSelection(W_(e,x,c.doc.resolve(g)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}cs.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&ao(e)},20))};cs.blur=(e,t)=>{let r=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),r.relatedTarget&&e.dom.contains(r.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};cs.beforeinput=(e,t)=>{if(On&&Zi&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",a=>a(e,Zl(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in us)cs[e]=us[e];function zh(e,t){if(e==t)return!0;for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}class Tg{constructor(t,r){this.toDOM=t,this.spec=r||mc,this.side=this.spec.side||0}map(t,r,n,s){let{pos:a,deleted:i}=t.mapResult(r.from+s,this.side<0?-1:1);return i?null:new ss(a-n,a-n,this)}valid(){return!0}eq(t){return this==t||t instanceof Tg&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&zh(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class pl{constructor(t,r){this.attrs=t,this.spec=r||mc}map(t,r,n,s){let a=t.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,i=t.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return a>=i?null:new ss(a,i,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof pl&&zh(this.attrs,t.attrs)&&zh(this.spec,t.spec)}static is(t){return t.type instanceof pl}destroy(){}}class J_{constructor(t,r){this.attrs=t,this.spec=r||mc}map(t,r,n,s){let a=t.mapResult(r.from+s,1);if(a.deleted)return null;let i=t.mapResult(r.to+s,-1);return i.deleted||i.pos<=a.pos?null:new ss(a.pos-n,i.pos-n,this)}valid(t,r){let{index:n,offset:s}=t.content.findIndex(r.from),a;return s==r.from&&!(a=t.child(n)).isText&&s+a.nodeSize==r.to}eq(t){return this==t||t instanceof J_&&zh(this.attrs,t.attrs)&&zh(this.spec,t.spec)}destroy(){}}class ss{constructor(t,r,n){this.from=t,this.to=r,this.type=n}copy(t,r){return new ss(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,n){return this.type.map(t,this,r,n)}static widget(t,r,n){return new ss(t,t,new Tg(r,n))}static inline(t,r,n,s){return new ss(t,r,new pl(n,s))}static node(t,r,n,s){return new ss(t,r,new J_(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof pl}get widget(){return this.type instanceof Tg}}const Ru=[],mc={};class br{constructor(t,r){this.local=t.length?t:Ru,this.children=r.length?r:Ru}static create(t,r){return r.length?Ng(r,t,0,mc):Bn}find(t,r,n){let s=[];return this.findInner(t??0,r??1e9,s,0,n),s}findInner(t,r,n,s,a){for(let i=0;i<this.local.length;i++){let o=this.local[i];o.from<=r&&o.to>=t&&(!a||a(o.spec))&&n.push(o.copy(o.from+s,o.to+s))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<r&&this.children[i+1]>t){let o=this.children[i]+1;this.children[i+2].findInner(t-o,r-o,n,s+o,a)}}map(t,r,n){return this==Bn||t.maps.length==0?this:this.mapInner(t,r,0,0,n||mc)}mapInner(t,r,n,s,a){let i;for(let o=0;o<this.local.length;o++){let c=this.local[o].map(t,n,s);c&&c.type.valid(r,c)?(i||(i=[])).push(c):a.onRemove&&a.onRemove(this.local[o].spec)}return this.children.length?joe(this.children,i||[],t,r,n,s,a):i?new br(i.sort(gc),Ru):Bn}add(t,r){return r.length?this==Bn?br.create(t,r):this.addInner(t,r,0):this}addInner(t,r,n){let s,a=0;t.forEach((o,c)=>{let f=c+n,h;if(h=bM(r,o,f)){for(s||(s=this.children.slice());a<s.length&&s[a]<c;)a+=3;s[a]==c?s[a+2]=s[a+2].addInner(o,h,f+1):s.splice(a,0,c,c+o.nodeSize,Ng(h,o,f+1,mc)),a+=3}});let i=vM(a?wM(r):r,-n);for(let o=0;o<i.length;o++)i[o].type.valid(t,i[o])||i.splice(o--,1);return new br(i.length?this.local.concat(i).sort(gc):this.local,s||this.children)}remove(t){return t.length==0||this==Bn?this:this.removeInner(t,0)}removeInner(t,r){let n=this.children,s=this.local;for(let a=0;a<n.length;a+=3){let i,o=n[a]+r,c=n[a+1]+r;for(let h=0,m;h<t.length;h++)(m=t[h])&&m.from>o&&m.to<c&&(t[h]=null,(i||(i=[])).push(m));if(!i)continue;n==this.children&&(n=this.children.slice());let f=n[a+2].removeInner(i,o+1);f!=Bn?n[a+2]=f:(n.splice(a,3),a-=3)}if(s.length){for(let a=0,i;a<t.length;a++)if(i=t[a])for(let o=0;o<s.length;o++)s[o].eq(i,r)&&(s==this.local&&(s=this.local.slice()),s.splice(o--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new br(s,n):Bn}forChild(t,r){if(this==Bn)return this;if(r.isLeaf)return br.empty;let n,s;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}let a=t+1,i=a+r.content.size;for(let o=0;o<this.local.length;o++){let c=this.local[o];if(c.from<i&&c.to>a&&c.type instanceof pl){let f=Math.max(a,c.from)-a,h=Math.min(i,c.to)-a;f<h&&(s||(s=[])).push(c.copy(f,h))}}if(s){let o=new br(s.sort(gc),Ru);return n?new Jo([o,n]):o}return n||Bn}eq(t){if(this==t)return!0;if(!(t instanceof br)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return Z_(this.localsInner(t))}localsInner(t){if(this==Bn)return Ru;if(t.inlineContent||!this.local.some(pl.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof pl||r.push(this.local[n]);return r}forEachSet(t){t(this)}}br.empty=new br([],[]);br.removeOverlap=Z_;const Bn=br.empty;class Jo{constructor(t){this.members=t}map(t,r){const n=this.members.map(s=>s.map(t,r,mc));return Jo.from(n)}forChild(t,r){if(r.isLeaf)return br.empty;let n=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(t,r);a!=Bn&&(a instanceof Jo?n=n.concat(a.members):n.push(a))}return Jo.from(n)}eq(t){if(!(t instanceof Jo)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,n=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(t);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let i=0;i<a.length;i++)r.push(a[i])}}return r?Z_(n?r:r.sort(gc)):Ru}static from(t){switch(t.length){case 0:return Bn;case 1:return t[0];default:return new Jo(t.every(r=>r instanceof br)?t:t.reduce((r,n)=>r.concat(n instanceof br?n:n.members),[]))}}forEachSet(t){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(t)}}function joe(e,t,r,n,s,a,i){let o=e.slice();for(let f=0,h=a;f<r.maps.length;f++){let m=0;r.maps[f].forEach((x,g,y,b)=>{let w=b-y-(g-x);for(let E=0;E<o.length;E+=3){let T=o[E+1];if(T<0||x>T+h-m)continue;let _=o[E]+h-m;g>=_?o[E+1]=x<=_?-2:-1:x>=h&&w&&(o[E]+=w,o[E+1]+=w)}m+=w}),h=r.maps[f].map(h,-1)}let c=!1;for(let f=0;f<o.length;f+=3)if(o[f+1]<0){if(o[f+1]==-2){c=!0,o[f+1]=-1;continue}let h=r.map(e[f]+a),m=h-s;if(m<0||m>=n.content.size){c=!0;continue}let x=r.map(e[f+1]+a,-1),g=x-s,{index:y,offset:b}=n.content.findIndex(m),w=n.maybeChild(y);if(w&&b==m&&b+w.nodeSize==g){let E=o[f+2].mapInner(r,w,h+1,e[f]+a+1,i);E!=Bn?(o[f]=m,o[f+1]=g,o[f+2]=E):(o[f+1]=-2,c=!0)}else c=!0}if(c){let f=Doe(o,e,t,r,s,a,i),h=Ng(f,n,0,i);t=h.local;for(let m=0;m<o.length;m+=3)o[m+1]<0&&(o.splice(m,3),m-=3);for(let m=0,x=0;m<h.children.length;m+=3){let g=h.children[m];for(;x<o.length&&o[x]<g;)x+=3;o.splice(x,0,h.children[m],h.children[m+1],h.children[m+2])}}return new br(t.sort(gc),o)}function vM(e,t){if(!t||!e.length)return e;let r=[];for(let n=0;n<e.length;n++){let s=e[n];r.push(new ss(s.from+t,s.to+t,s.type))}return r}function Doe(e,t,r,n,s,a,i){function o(c,f){for(let h=0;h<c.local.length;h++){let m=c.local[h].map(n,s,f);m?r.push(m):i.onRemove&&i.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)o(c.children[h+2],c.children[h]+f+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&o(e[c+2],t[c]+a+1);return r}function bM(e,t,r){if(t.isLeaf)return null;let n=r+t.nodeSize,s=null;for(let a=0,i;a<e.length;a++)(i=e[a])&&i.from>r&&i.to<n&&((s||(s=[])).push(i),e[a]=null);return s}function wM(e){let t=[];for(let r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function Ng(e,t,r,n){let s=[],a=!1;t.forEach((o,c)=>{let f=bM(e,o,c+r);if(f){a=!0;let h=Ng(f,o,r+c+1,n);h!=Bn&&s.push(c,c+o.nodeSize,h)}});let i=vM(a?wM(e):e,-r).sort(gc);for(let o=0;o<i.length;o++)i[o].type.valid(t,i[o])||(n.onRemove&&n.onRemove(i[o].spec),i.splice(o--,1));return i.length||s.length?new br(i,s):Bn}function gc(e,t){return e.from-t.from||e.to-t.to}function Z_(e){let t=e;for(let r=0;r<t.length-1;r++){let n=t[r];if(n.from!=n.to)for(let s=r+1;s<t.length;s++){let a=t[s];if(a.from==n.from){a.to!=n.to&&(t==e&&(t=e.slice()),t[s]=a.copy(a.from,n.to),uR(t,s+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(t==e&&(t=e.slice()),t[r]=n.copy(n.from,a.from),uR(t,s,n.copy(a.from,n.to)));break}}}return t}function uR(e,t,r){for(;t<e.length&&gc(r,e[t])>0;)t++;e.splice(t,0,r)}function Qv(e){let t=[];return e.someProp("decorations",r=>{let n=r(e.state);n&&n!=Bn&&t.push(n)}),e.cursorWrapper&&t.push(br.create(e.state.doc,[e.cursorWrapper.deco])),Jo.from(t)}const Ioe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Moe=Ss&&dl<=11;class Foe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Poe{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Foe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Ss&&dl<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():Kn&&t.composing&&n.some(s=>s.type=="childList"&&s.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),Moe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ioe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(rR(this.view)){if(this.suppressingSelectionUpdates)return ao(this.view);if(Ss&&dl<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&kc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let r=new Set,n;for(let a=t.focusNode;a;a=Qu(a))r.add(a);for(let a=t.anchorNode;a;a=Qu(a))if(r.has(a)){n=a;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&rR(t)&&!this.ignoreSelectionChange(n),a=-1,i=-1,o=!1,c=[];if(t.editable)for(let h=0;h<r.length;h++){let m=this.registerMutation(r[h],c);m&&(a=a<0?m.from:Math.min(m.from,a),i=i<0?m.to:Math.max(m.to,i),m.typeOver&&(o=!0))}if(c.some(h=>h.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let h of c)if(h.nodeName=="BR"&&h.parentNode){let m=h.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&h.parentNode.removeChild(h)}}else if(va&&c.length){let h=c.filter(m=>m.nodeName=="BR");if(h.length==2){let[m,x]=h;m.parentNode&&m.parentNode.parentNode==x.parentNode?x.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let x of h){let g=x.parentNode;g&&g.nodeName=="LI"&&(!m||Uoe(t,m)!=g)&&x.remove()}}}let f=null;a<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Ux(n)&&(f=$_(t))&&f.eq(Ct.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,ao(t),this.currentSelection.set(n),t.scrollToSelection()):(a>-1||s)&&(a>-1&&(t.docView.markDirty(a,i),Loe(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,zoe(t,c)),this.handleDOMChange(a,i,o,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||ao(t),this.currentSelection.set(n))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let h=0;h<t.addedNodes.length;h++){let m=t.addedNodes[h];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let s=t.previousSibling,a=t.nextSibling;if(Ss&&dl<=11&&t.addedNodes.length)for(let h=0;h<t.addedNodes.length;h++){let{previousSibling:m,nextSibling:x}=t.addedNodes[h];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(s=m),(!x||Array.prototype.indexOf.call(t.addedNodes,x)<0)&&(a=x)}let i=s&&s.parentNode==t.target?kn(s)+1:0,o=n.localPosFromDOM(t.target,i,-1),c=a&&a.parentNode==t.target?kn(a):t.target.childNodes.length,f=n.localPosFromDOM(t.target,c,1);return{from:o,to:f}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let fR=new WeakMap,dR=!1;function Loe(e){if(!fR.has(e)&&(fR.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=va,dR)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),dR=!0}}function hR(e,t){let r=t.startContainer,n=t.startOffset,s=t.endContainer,a=t.endOffset,i=e.domAtPos(e.state.selection.anchor);return kc(i.node,i.offset,s,a)&&([r,n,s,a]=[s,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:a}}function Boe(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return hR(e,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0),r?hR(e,r):null}function Uoe(e,t){for(let r=t.parentNode;r&&r!=e.dom;r=r.parentNode){let n=e.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function zoe(e,t){var r;let{focusNode:n,focusOffset:s}=e.domSelectionRange();for(let a of t)if(((r=a.parentNode)===null||r===void 0?void 0:r.nodeName)=="TR"){let i=a.nextSibling;for(;i&&i.nodeName!="TD"&&i.nodeName!="TH";)i=i.nextSibling;if(i){let o=i;for(;;){let c=o.firstChild;if(!c||c.nodeType!=1||c.contentEditable=="false"||/^(BR|IMG)$/.test(c.nodeName))break;o=c}o.insertBefore(a,o.firstChild),n==a&&e.domSelection().collapse(a,s)}else a.parentNode.removeChild(a)}}function Hoe(e,t,r){let{node:n,fromOffset:s,toOffset:a,from:i,to:o}=e.docView.parseRange(t,r),c=e.domSelectionRange(),f,h=c.anchorNode;if(h&&e.dom.contains(h.nodeType==1?h:h.parentNode)&&(f=[{node:h,offset:c.anchorOffset}],Ux(c)||f.push({node:c.focusNode,offset:c.focusOffset})),On&&e.input.lastKeyCode===8)for(let w=a;w>s;w--){let E=n.childNodes[w-1],T=E.pmViewDesc;if(E.nodeName=="BR"&&!T){a=w;break}if(!T||T.size)break}let m=e.state.doc,x=e.someProp("domParser")||fl.fromSchema(e.state.schema),g=m.resolve(i),y=null,b=x.parse(n,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:s,to:a,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:qoe,context:g});if(f&&f[0].pos!=null){let w=f[0].pos,E=f[1]&&f[1].pos;E==null&&(E=w),y={anchor:w+i,head:E+i}}return{doc:b,sel:y,from:i,to:o}}function qoe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Kn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||Kn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Voe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function $oe(e,t,r,n,s){let a=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let j=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,q=$_(e,j);if(q&&!e.state.selection.eq(q)){if(On&&Zi&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",Q=>Q(e,Zl(13,"Enter"))))return;let D=e.state.tr.setSelection(q);j=="pointer"?D.setMeta("pointer",!0):j=="key"&&D.scrollIntoView(),a&&D.setMeta("composition",a),e.dispatch(D)}return}let i=e.state.doc.resolve(t),o=i.sharedDepth(r);t=i.before(o+1),r=e.state.doc.resolve(r).after(o+1);let c=e.state.selection,f=Hoe(e,t,r),h=e.state.doc,m=h.slice(f.from,f.to),x,g;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(x=e.state.selection.to,g="end"):(x=e.state.selection.from,g="start"),e.input.lastKeyCode=null;let y=Koe(m.content,f.doc.content,f.from,x,g);if(y&&e.input.domChangeCount++,(ef&&e.input.lastIOSEnter>Date.now()-225||Zi)&&s.some(j=>j.nodeType==1&&!Voe.test(j.nodeName))&&(!y||y.endA>=y.endB)&&e.someProp("handleKeyDown",j=>j(e,Zl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!y)if(n&&c instanceof xt&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))y={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){let j=pR(e,e.state.doc,f.sel);if(j&&!j.eq(e.state.selection)){let q=e.state.tr.setSelection(j);a&&q.setMeta("composition",a),e.dispatch(q)}}return}e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof xt&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2&&e.state.selection.from>=f.from?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&e.state.selection.to<=f.to&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),Ss&&dl<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>f.from&&f.doc.textBetween(y.start-f.from-1,y.start-f.from+1)==" "&&(y.start--,y.endA--,y.endB--);let b=f.doc.resolveNoCache(y.start-f.from),w=f.doc.resolveNoCache(y.endB-f.from),E=h.resolve(y.start),T=b.sameParent(w)&&b.parent.inlineContent&&E.end()>=y.endA;if((ef&&e.input.lastIOSEnter>Date.now()-225&&(!T||s.some(j=>j.nodeName=="DIV"||j.nodeName=="P"))||!T&&b.pos<f.doc.content.size&&(!b.sameParent(w)||!b.parent.inlineContent)&&b.pos<w.pos&&!/\S/.test(f.doc.textBetween(b.pos,w.pos,"","")))&&e.someProp("handleKeyDown",j=>j(e,Zl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>y.start&&Goe(h,y.start,y.endA,b,w)&&e.someProp("handleKeyDown",j=>j(e,Zl(8,"Backspace")))){Zi&&On&&e.domObserver.suppressSelectionUpdates();return}On&&y.endB==y.start&&(e.input.lastChromeDelete=Date.now()),Zi&&!T&&b.start()!=w.start()&&w.parentOffset==0&&b.depth==w.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==y.endA&&(y.endB-=2,w=f.doc.resolveNoCache(y.endB-f.from),setTimeout(()=>{e.someProp("handleKeyDown",function(j){return j(e,Zl(13,"Enter"))})},20));let _=y.start,S=y.endA,C=j=>{let q=j||e.state.tr.replace(_,S,f.doc.slice(y.start-f.from,y.endB-f.from));if(f.sel){let D=pR(e,q.doc,f.sel);D&&!(On&&e.composing&&D.empty&&(y.start!=y.endB||e.input.lastChromeDelete<Date.now()-100)&&(D.head==_||D.head==q.mapping.map(S)-1)||Ss&&D.empty&&D.head==_)&&q.setSelection(D)}return a&&q.setMeta("composition",a),q.scrollIntoView()},I;if(T)if(b.pos==w.pos){Ss&&dl<=11&&b.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>ao(e),20));let j=C(e.state.tr.delete(_,S)),q=h.resolve(y.start).marksAcross(h.resolve(y.endA));q&&j.ensureMarks(q),e.dispatch(j)}else if(y.endA==y.endB&&(I=Woe(b.parent.content.cut(b.parentOffset,w.parentOffset),E.parent.content.cut(E.parentOffset,y.endA-E.start())))){let j=C(e.state.tr);I.type=="add"?j.addMark(_,S,I.mark):j.removeMark(_,S,I.mark),e.dispatch(j)}else if(b.parent.child(b.index()).isText&&b.index()==w.index()-(w.textOffset?0:1)){let j=b.parent.textBetween(b.parentOffset,w.parentOffset),q=()=>C(e.state.tr.insertText(j,_,S));e.someProp("handleTextInput",D=>D(e,_,S,j,q))||e.dispatch(q())}else e.dispatch(C());else e.dispatch(C())}function pR(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:W_(e,t.resolve(r.anchor),t.resolve(r.head))}function Woe(e,t){let r=e.firstChild.marks,n=t.firstChild.marks,s=r,a=n,i,o,c;for(let h=0;h<n.length;h++)s=n[h].removeFromSet(s);for(let h=0;h<r.length;h++)a=r[h].removeFromSet(a);if(s.length==1&&a.length==0)o=s[0],i="add",c=h=>h.mark(o.addToSet(h.marks));else if(s.length==0&&a.length==1)o=a[0],i="remove",c=h=>h.mark(o.removeFromSet(h.marks));else return null;let f=[];for(let h=0;h<t.childCount;h++)f.push(c(t.child(h)));if($e.from(f).eq(e))return{mark:o,type:i}}function Goe(e,t,r,n,s){if(r-t<=s.pos-n.pos||eb(n,!0,!1)<s.pos)return!1;let a=e.resolve(t);if(!n.parent.isTextblock){let o=a.nodeAfter;return o!=null&&r==t+o.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let i=e.resolve(eb(a,!0,!0));return!i.parent.isTextblock||i.pos>r||eb(i,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(i.parent.content)}function eb(e,t,r){let n=e.depth,s=t?e.end():e.pos;for(;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,s++,t=!1;if(r){let a=e.node(n).maybeChild(e.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function Koe(e,t,r,n,s){let a=e.findDiffStart(t,r);if(a==null)return null;let{a:i,b:o}=e.findDiffEnd(t,r+e.size,r+t.size);if(s=="end"){let c=Math.max(0,a-Math.min(i,o));n-=i+c-a}if(i<a&&e.size<t.size){let c=n<=a&&n>=i?a-n:0;a-=c,a&&a<t.size&&mR(t.textBetween(a-1,a+1))&&(a+=c?1:-1),o=a+(o-i),i=a}else if(o<a){let c=n<=a&&n>=o?a-n:0;a-=c,a&&a<e.size&&mR(e.textBetween(a-1,a+1))&&(a+=c?1:-1),i=a+(i-o),o=a}return{start:a,endA:i,endB:o}}function mR(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),r=e.charCodeAt(1);return t>=56320&&t<=57343&&r>=55296&&r<=56319}class EM{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new uoe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(bR),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=yR(this),xR(this),this.nodeViews=vR(this),this.docView=Y3(this.state.doc,gR(this),Qv(this),this.dom,this),this.domObserver=new Poe(this,(n,s,a,i)=>$oe(this,n,s,a,i)),this.domObserver.start(),foe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Q2(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(bR),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in t)r[n]=t[n];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){var n;let s=this.state,a=!1,i=!1;t.storedMarks&&this.composing&&(mM(this),i=!0),this.state=t;let o=s.plugins!=t.plugins||this._props.plugins!=r.plugins;if(o||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let g=vR(this);Yoe(g,this.nodeViews)&&(this.nodeViews=g,a=!0)}(o||r.handleDOMEvents!=this._props.handleDOMEvents)&&Q2(this),this.editable=yR(this),xR(this);let c=Qv(this),f=gR(this),h=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=a||!this.docView.matchesNode(t.doc,f,c);(m||!t.selection.eq(s.selection))&&(i=!0);let x=h=="preserve"&&i&&this.dom.style.overflowAnchor==null&&Tie(this);if(i){this.domObserver.stop();let g=m&&(Ss||On)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&Xoe(s.selection,t.selection);if(m){let y=On?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Toe(this)),(a||!this.docView.update(t.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=Y3(t.doc,f,c,this.dom,this)),y&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Xie(this))?ao(this,g):(nM(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():x&&Nie(x)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof ft){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&V3(this,r.getBoundingClientRect(),t)}else V3(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,t)}}updateDraggedNode(t,r){let n=t.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(s=a)}this.dragging=new xM(t.slice,t.move,s<0?void 0:ft.create(this.state.doc,s))}someProp(t,r){let n=this._props&&this._props[t],s;if(n!=null&&(s=r?r(n):n))return s;for(let i=0;i<this.directPlugins.length;i++){let o=this.directPlugins[i].props[t];if(o!=null&&(s=r?r(o):o))return s}let a=this.state.plugins;if(a)for(let i=0;i<a.length;i++){let o=a[i].props[t];if(o!=null&&(s=r?r(o):o))return s}}hasFocus(){if(Ss){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Aie(this.dom),ao(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return t||document}updateRoot(){this._root=null}posAtCoords(t){return jie(this,t)}coordsAtPos(t,r=1){return X8(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,n=-1){let s=this.docView.posFromDOM(t,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,r){return Pie(this,r||this.state,t)}pasteHTML(t,r){return Uh(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return Uh(this,t,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(t){return G_(this,t)}destroy(){this.docView&&(doe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Qv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mie())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return poe(this,t)}domSelectionRange(){let t=this.domSelection();return t?Kn&&this.root.nodeType===11&&bie(this.dom.ownerDocument)==this.dom&&Boe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EM.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function gR(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(e.state)),r)for(let n in r)n=="class"?t.class+=" "+r[n]:n=="style"?t.style=(t.style?t.style+";":"")+r[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(r[n]))}),t.translate||(t.translate="no"),[ss.node(0,e.state.doc.content.size,t)]}function xR(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ss.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function yR(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Xoe(e,t){let r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function vR(e){let t=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=n[s])}return e.someProp("nodeViews",r),e.someProp("markViews",r),t}function Yoe(e,t){let r=0,n=0;for(let s in e){if(e[s]!=t[s])return!0;r++}for(let s in t)n++;return r!=n}function bR(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var El={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ag={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Joe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Zoe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Rn=0;Rn<10;Rn++)El[48+Rn]=El[96+Rn]=String(Rn);for(var Rn=1;Rn<=24;Rn++)El[Rn+111]="F"+Rn;for(var Rn=65;Rn<=90;Rn++)El[Rn]=String.fromCharCode(Rn+32),Ag[Rn]=String.fromCharCode(Rn);for(var tb in El)Ag.hasOwnProperty(tb)||(Ag[tb]=El[tb]);function Qoe(e){var t=Joe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Zoe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?Ag:El)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const ele=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),tle=typeof navigator<"u"&&/Win/.test(navigator.platform);function rle(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");let n,s,a,i;for(let o=0;o<t.length-1;o++){let c=t[o];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))ele?i=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),i&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function nle(e){let t=Object.create(null);for(let r in e)t[rle(r)]=e[r];return t}function rb(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function sle(e){return new Er({props:{handleKeyDown:_M(e)}})}function _M(e){let t=nle(e);return function(r,n){let s=Qoe(n),a,i=t[rb(s,n)];if(i&&i(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let o=t[rb(s,n,!1)];if(o&&o(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(tle&&n.ctrlKey&&n.altKey)&&(a=El[n.keyCode])&&a!=s){let o=t[rb(a,n)];if(o&&o(r.state,r.dispatch,r))return!0}}return!1}}var ale=Object.defineProperty,Q_=(e,t)=>{for(var r in t)ale(e,r,{get:t[r],enumerable:!0})};function qx(e){const{state:t,transaction:r}=e;let{selection:n}=r,{doc:s}=r,{storedMarks:a}=r;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return a},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,a=r.storedMarks,r}}}var Vx=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:n}=t,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([i,o])=>[i,(...f)=>{const h=o(...f)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:n,state:s}=this,{view:a}=n,i=[],o=!!e,c=e||s.tr,f=()=>(!o&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(r).map(([m,x])=>[m,(...y)=>{const b=this.buildProps(c,t),w=x(...y)(b);return i.push(w),h}])),run:f};return h}createCan(e){const{rawCommands:t,state:r}=this,n=!1,s=e||r.tr,a=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(t).map(([o,c])=>[o,(...f)=>c(...f)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(e,t=!0){const{rawCommands:r,editor:n,state:s}=this,{view:a}=n,i={tr:e,editor:n,view:a,state:qx({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([o,c])=>[o,(...f)=>c(...f)(i)]))}};return i}},SM={};Q_(SM,{blur:()=>ile,clearContent:()=>ole,clearNodes:()=>lle,command:()=>cle,createParagraphNear:()=>ule,cut:()=>fle,deleteCurrentNode:()=>dle,deleteNode:()=>hle,deleteRange:()=>ple,deleteSelection:()=>mle,enter:()=>gle,exitCode:()=>xle,extendMarkRange:()=>yle,first:()=>vle,focus:()=>wle,forEach:()=>Ele,insertContent:()=>_le,insertContentAt:()=>Nle,joinBackward:()=>kle,joinDown:()=>Cle,joinForward:()=>Rle,joinItemBackward:()=>Ole,joinItemForward:()=>jle,joinTextblockBackward:()=>Dle,joinTextblockForward:()=>Ile,joinUp:()=>Ale,keyboardShortcut:()=>Fle,lift:()=>Ple,liftEmptyBlock:()=>Lle,liftListItem:()=>Ble,newlineInCode:()=>Ule,resetAttributes:()=>zle,scrollIntoView:()=>Hle,selectAll:()=>qle,selectNodeBackward:()=>Vle,selectNodeForward:()=>$le,selectParentNode:()=>Wle,selectTextblockEnd:()=>Gle,selectTextblockStart:()=>Kle,setContent:()=>Xle,setMark:()=>mce,setMeta:()=>gce,setNode:()=>xce,setNodeSelection:()=>yce,setTextDirection:()=>vce,setTextSelection:()=>bce,sinkListItem:()=>wce,splitBlock:()=>Ece,splitListItem:()=>_ce,toggleList:()=>Sce,toggleMark:()=>Tce,toggleNode:()=>Nce,toggleWrap:()=>Ace,undoInputRule:()=>Cce,unsetAllMarks:()=>kce,unsetMark:()=>Rce,unsetTextDirection:()=>Oce,updateAttributes:()=>jce,wrapIn:()=>Dce,wrapInList:()=>Ice});var ile=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),ole=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),lle=()=>({state:e,tr:t,dispatch:r})=>{const{selection:n}=t,{ranges:s}=n;return r&&s.forEach(({$from:a,$to:i})=>{e.doc.nodesBetween(a.pos,i.pos,(o,c)=>{if(o.type.isText)return;const{doc:f,mapping:h}=t,m=f.resolve(h.map(c)),x=f.resolve(h.map(c+o.nodeSize)),g=m.blockRange(x);if(!g)return;const y=kf(g);if(o.type.isTextblock){const{defaultType:b}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(g.start,b)}(y||y===0)&&t.lift(g,y)})}),!0},cle=e=>t=>e(t),ule=()=>({state:e,dispatch:t})=>L8(e,t),fle=(e,t)=>({editor:r,tr:n})=>{const{state:s}=r,a=s.doc.slice(e.from,e.to);n.deleteRange(e.from,e.to);const i=n.mapping.map(t);return n.insert(i,a.content),n.setSelection(new xt(n.doc.resolve(Math.max(i-1,0)))),!0},dle=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,n=r.$anchor.node();if(n.content.size>0)return!1;const s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===n.type){if(t){const o=s.before(a),c=s.after(a);e.delete(o,c).scrollIntoView()}return!0}return!1};function Qr(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var hle=e=>({tr:t,state:r,dispatch:n})=>{const s=Qr(e,r.schema),a=t.selection.$anchor;for(let i=a.depth;i>0;i-=1)if(a.node(i).type===s){if(n){const c=a.before(i),f=a.after(i);t.delete(c,f).scrollIntoView()}return!0}return!1},ple=e=>({tr:t,dispatch:r})=>{const{from:n,to:s}=e;return r&&t.delete(n,s),!0},mle=()=>({state:e,dispatch:t})=>B_(e,t),gle=()=>({commands:e})=>e.keyboardShortcut("Enter"),xle=()=>({state:e,dispatch:t})=>eie(e,t);function eS(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Cg(e,t,r={strict:!0}){const n=Object.keys(t);return n.length?n.every(s=>r.strict?t[s]===e[s]:eS(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function TM(e,t,r={}){return e.find(n=>n.type===t&&Cg(Object.fromEntries(Object.keys(r).map(s=>[s,n.attrs[s]])),r))}function wR(e,t,r={}){return!!TM(e,t,r)}function tS(e,t,r){var n;if(!e||!t)return;let s=e.parent.childAfter(e.parentOffset);if((!s.node||!s.node.marks.some(h=>h.type===t))&&(s=e.parent.childBefore(e.parentOffset)),!s.node||!s.node.marks.some(h=>h.type===t)||(r=r||((n=s.node.marks[0])==null?void 0:n.attrs),!TM([...s.node.marks],t,r)))return;let i=s.index,o=e.start()+s.offset,c=i+1,f=o+s.node.nodeSize;for(;i>0&&wR([...e.parent.child(i-1).marks],t,r);)i-=1,o-=e.parent.child(i).nodeSize;for(;c<e.parent.childCount&&wR([...e.parent.child(c).marks],t,r);)f+=e.parent.child(c).nodeSize,c+=1;return{from:o,to:f}}function po(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var yle=(e,t={})=>({tr:r,state:n,dispatch:s})=>{const a=po(e,n.schema),{doc:i,selection:o}=r,{$from:c,from:f,to:h}=o;if(s){const m=tS(c,a,t);if(m&&m.from<=f&&m.to>=h){const x=xt.create(i,m.from,m.to);r.setSelection(x)}}return!0},vle=e=>t=>{const r=typeof e=="function"?e(t):e;for(let n=0;n<r.length;n+=1)if(r[n](t))return!0;return!1};function NM(e){return e instanceof xt}function sc(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function AM(e,t=null){if(!t)return null;const r=Ct.atStart(e),n=Ct.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return n;const s=r.from,a=n.to;return t==="all"?xt.create(e,sc(0,s,a),sc(e.content.size,s,a)):xt.create(e,sc(t,s,a),sc(t,s,a))}function ER(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function kg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function ble(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var wle=(e=null,t={})=>({editor:r,view:n,tr:s,dispatch:a})=>{t={scrollIntoView:!0,...t};const i=()=>{(kg()||ER())&&n.dom.focus(),ble()&&!kg()&&!ER()&&n.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),t!=null&&t.scrollIntoView&&r.commands.scrollIntoView())})};try{if(n.hasFocus()&&e===null||e===!1)return!0}catch{return!1}if(a&&e===null&&!NM(r.state.selection))return i(),!0;const o=AM(s.doc,e)||r.state.selection,c=r.state.selection.eq(o);return a&&(c||s.setSelection(o),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),i()),!0},Ele=(e,t)=>r=>e.every((n,s)=>t(n,{...r,index:s})),_le=(e,t)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},e,t),CM=e=>{const t=e.childNodes;for(let r=t.length-1;r>=0;r-=1){const n=t[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?e.removeChild(n):n.nodeType===1&&CM(n)}return e};function om(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,r=new window.DOMParser().parseFromString(t,"text/html").body;return CM(r)}function Hh(e,t,r){if(e instanceof qa||e instanceof $e)return e;r={slice:!0,parseOptions:{},...r};const n=typeof e=="object"&&e!==null,s=typeof e=="string";if(n)try{if(Array.isArray(e)&&e.length>0)return $e.fromArray(e.map(o=>t.nodeFromJSON(o)));const i=t.nodeFromJSON(e);return r.errorOnInvalidContent&&i.check(),i}catch(a){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",a),Hh("",t,r)}if(s){if(r.errorOnInvalidContent){let i=!1,o="";const c=new f8({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(i=!0,o=typeof f=="string"?f:f.outerHTML,null)}]}})});if(r.slice?fl.fromSchema(c).parseSlice(om(e),r.parseOptions):fl.fromSchema(c).parse(om(e),r.parseOptions),r.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const a=fl.fromSchema(t);return r.slice?a.parseSlice(om(e),r.parseOptions).content:a.parse(om(e),r.parseOptions)}return Hh("",t,r)}function Sle(e,t,r){const n=e.steps.length-1;if(n<t)return;const s=e.steps[n];if(!(s instanceof xn||s instanceof bn))return;const a=e.mapping.maps[n];let i=0;a.forEach((o,c,f,h)=>{i===0&&(i=h)}),e.setSelection(Ct.near(e.doc.resolve(i),r))}var Tle=e=>!("type"in e),Nle=(e,t,r)=>({tr:n,dispatch:s,editor:a})=>{var i;if(s){r={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let o;const c=w=>{a.emit("contentError",{editor:a,error:w,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{Hh(t,a.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(w){c(w)}try{o=Hh(t,a.schema,{parseOptions:f,errorOnInvalidContent:(i=r.errorOnInvalidContent)!=null?i:a.options.enableContentCheck})}catch(w){return c(w),!1}let{from:h,to:m}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},x=!0,g=!0;if((Tle(o)?o:[o]).forEach(w=>{w.check(),x=x?w.isText&&w.marks.length===0:!1,g=g?w.isBlock:!1}),h===m&&g){const{parent:w}=n.doc.resolve(h);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(h-=1,m+=1)}let b;if(x){if(Array.isArray(t))b=t.map(w=>w.text||"").join("");else if(t instanceof $e){let w="";t.forEach(E=>{E.text&&(w+=E.text)}),b=w}else typeof t=="object"&&t&&t.text?b=t.text:b=t;n.insertText(b,h,m)}else{b=o;const w=n.doc.resolve(h),E=w.node(),T=w.parentOffset===0,_=E.isText||E.isTextblock,S=E.content.size>0;T&&_&&S&&(h=Math.max(0,h-1)),n.replaceWith(h,m,b)}r.updateSelection&&Sle(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:h,text:b}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:h,text:b})}return!0},Ale=()=>({state:e,dispatch:t})=>Jae(e,t),Cle=()=>({state:e,dispatch:t})=>Zae(e,t),kle=()=>({state:e,dispatch:t})=>O8(e,t),Rle=()=>({state:e,dispatch:t})=>M8(e,t),Ole=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Px(e.doc,e.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},jle=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Px(e.doc,e.selection.$from.pos,1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},Dle=()=>({state:e,dispatch:t})=>Xae(e,t),Ile=()=>({state:e,dispatch:t})=>Yae(e,t);function kM(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Mle(e){const t=e.split(/-(?!$)/);let r=t[t.length-1];r==="Space"&&(r=" ");let n,s,a,i;for(let o=0;o<t.length-1;o+=1){const c=t[o];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))kg()||kM()?i=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),i&&(r=`Meta-${r}`),a&&(r=`Shift-${r}`),r}var Fle=e=>({editor:t,view:r,tr:n,dispatch:s})=>{const a=Mle(e).split(/-(?!$)/),i=a.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),o=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{r.someProp("handleKeyDown",f=>f(r,o))});return c==null||c.steps.forEach(f=>{const h=f.map(n.mapping);h&&s&&n.maybeStep(h)}),!0};function _l(e,t,r={}){const{from:n,to:s,empty:a}=e.selection,i=t?Qr(t,e.schema):null,o=[];e.doc.nodesBetween(n,s,(m,x)=>{if(m.isText)return;const g=Math.max(n,x),y=Math.min(s,x+m.nodeSize);o.push({node:m,from:g,to:y})});const c=s-n,f=o.filter(m=>i?i.name===m.node.type.name:!0).filter(m=>Cg(m.node.attrs,r,{strict:!1}));return a?!!f.length:f.reduce((m,x)=>m+x.to-x.from,0)>=c}var Ple=(e,t={})=>({state:r,dispatch:n})=>{const s=Qr(e,r.schema);return _l(r,s,t)?Qae(r,n):!1},Lle=()=>({state:e,dispatch:t})=>B8(e,t),Ble=e=>({state:t,dispatch:r})=>{const n=Qr(e,t.schema);return fie(n)(t,r)},Ule=()=>({state:e,dispatch:t})=>P8(e,t);function $x(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function _R(e,t){const r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,s)=>(r.includes(s)||(n[s]=e[s]),n),{})}var zle=(e,t)=>({tr:r,state:n,dispatch:s})=>{let a=null,i=null;const o=$x(typeof e=="string"?e:e.name,n.schema);if(!o)return!1;o==="node"&&(a=Qr(e,n.schema)),o==="mark"&&(i=po(e,n.schema));let c=!1;return r.selection.ranges.forEach(f=>{n.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,m)=>{a&&a===h.type&&(c=!0,s&&r.setNodeMarkup(m,void 0,_R(h.attrs,t))),i&&h.marks.length&&h.marks.forEach(x=>{i===x.type&&(c=!0,s&&r.addMark(m,m+h.nodeSize,i.create(_R(x.attrs,t))))})})}),c},Hle=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),qle=()=>({tr:e,dispatch:t})=>{if(t){const r=new Vs(e.doc);e.setSelection(r)}return!0},Vle=()=>({state:e,dispatch:t})=>D8(e,t),$le=()=>({state:e,dispatch:t})=>F8(e,t),Wle=()=>({state:e,dispatch:t})=>nie(e,t),Gle=()=>({state:e,dispatch:t})=>iie(e,t),Kle=()=>({state:e,dispatch:t})=>aie(e,t);function eE(e,t,r={},n={}){return Hh(e,t,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var Xle=(e,{errorOnInvalidContent:t,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:s,tr:a,dispatch:i,commands:o})=>{const{doc:c}=a;if(n.preserveWhitespace!=="full"){const f=eE(e,s.schema,n,{errorOnInvalidContent:t??s.options.enableContentCheck});return i&&a.replaceWith(0,c.content.size,f).setMeta("preventUpdate",!r),!0}return i&&a.setMeta("preventUpdate",!r),o.insertContentAt({from:0,to:c.content.size},e,{parseOptions:n,errorOnInvalidContent:t??s.options.enableContentCheck})};function RM(e,t){const r=po(t,e.schema),{from:n,to:s,empty:a}=e.selection,i=[];a?(e.storedMarks&&i.push(...e.storedMarks),i.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,s,c=>{i.push(...c.marks)});const o=i.find(c=>c.type.name===r.name);return o?{...o.attrs}:{}}function OM(e,t){const r=new A8(e);return t.forEach(n=>{n.steps.forEach(s=>{r.step(s)})}),r}function Yle(e){for(let t=0;t<e.edgeCount;t+=1){const{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function Jle(e,t,r){const n=[];return e.nodesBetween(t.from,t.to,(s,a)=>{r(s)&&n.push({node:s,pos:a})}),n}function Zle(e,t){for(let r=e.depth;r>0;r-=1){const n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}}function Wx(e){return t=>Zle(t.$from,e)}function ct(e,t,r){return e.config[t]===void 0&&e.parent?ct(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind({...r,parent:e.parent?ct(e.parent,t,r):null}):e.config[t]}function rS(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},n=ct(t,"addExtensions",r);return n?[t,...rS(n())]:t}).flat(10)}function nS(e,t){const r=Bc.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function jM(e){return typeof e=="function"}function Xt(e,t=void 0,...r){return jM(e)?t?e.bind(t)(...r):e(...r):e}function Qle(e={}){return Object.keys(e).length===0&&e.constructor===Object}function tf(e){const t=e.filter(s=>s.type==="extension"),r=e.filter(s=>s.type==="node"),n=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:n}}function DM(e){const t=[],{nodeExtensions:r,markExtensions:n}=tf(e),s=[...r,...n],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1},i=r.filter(f=>f.name!=="text").map(f=>f.name),o=n.map(f=>f.name),c=[...i,...o];return e.forEach(f=>{const h={name:f.name,options:f.options,storage:f.storage,extensions:s},m=ct(f,"addGlobalAttributes",h);if(!m)return;m().forEach(g=>{let y;Array.isArray(g.types)?y=g.types:g.types==="*"?y=c:g.types==="nodes"?y=i:g.types==="marks"?y=o:y=[],y.forEach(b=>{Object.entries(g.attributes).forEach(([w,E])=>{t.push({type:b,name:w,attribute:{...a,...E}})})})})}),s.forEach(f=>{const h={name:f.name,options:f.options,storage:f.storage},m=ct(f,"addAttributes",h);if(!m)return;const x=m();Object.entries(x).forEach(([g,y])=>{const b={...a,...y};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,t.push({type:f.name,name:g,attribute:b})})}),t}function Pr(...e){return e.filter(t=>!!t).reduce((t,r)=>{const n={...t};return Object.entries(r).forEach(([s,a])=>{if(!n[s]){n[s]=a;return}if(s==="class"){const o=a?String(a).split(" "):[],c=n[s]?n[s].split(" "):[],f=o.filter(h=>!c.includes(h));n[s]=[...c,...f].join(" ")}else if(s==="style"){const o=a?a.split(";").map(h=>h.trim()).filter(Boolean):[],c=n[s]?n[s].split(";").map(h=>h.trim()).filter(Boolean):[],f=new Map;c.forEach(h=>{const[m,x]=h.split(":").map(g=>g.trim());f.set(m,x)}),o.forEach(h=>{const[m,x]=h.split(":").map(g=>g.trim());f.set(m,x)}),n[s]=Array.from(f.entries()).map(([h,m])=>`${h}: ${m}`).join("; ")}else n[s]=a}),n},{})}function qh(e,t){return t.filter(r=>r.type===e.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,n)=>Pr(r,n),{})}function ece(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function SR(e,t){return"style"in e?e:{...e,getAttrs:r=>{const n=e.getAttrs?e.getAttrs(r):e.attrs;if(n===!1)return!1;const s=t.reduce((a,i)=>{const o=i.attribute.parseHTML?i.attribute.parseHTML(r):ece(r.getAttribute(i.name));return o==null?a:{...a,[i.name]:o}},{});return{...n,...s}}}}function TR(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&Qle(r)?!1:r!=null))}function NR(e){var t,r;const n={};return!((t=e==null?void 0:e.attribute)!=null&&t.isRequired)&&"default"in((e==null?void 0:e.attribute)||{})&&(n.default=e.attribute.default),((r=e==null?void 0:e.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=e.attribute.validate),[e.name,n]}function tce(e,t){var r;const n=DM(e),{nodeExtensions:s,markExtensions:a}=tf(e),i=(r=s.find(f=>ct(f,"topNode")))==null?void 0:r.name,o=Object.fromEntries(s.map(f=>{const h=n.filter(E=>E.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:t},x=e.reduce((E,T)=>{const _=ct(T,"extendNodeSchema",m);return{...E,..._?_(f):{}}},{}),g=TR({...x,content:Xt(ct(f,"content",m)),marks:Xt(ct(f,"marks",m)),group:Xt(ct(f,"group",m)),inline:Xt(ct(f,"inline",m)),atom:Xt(ct(f,"atom",m)),selectable:Xt(ct(f,"selectable",m)),draggable:Xt(ct(f,"draggable",m)),code:Xt(ct(f,"code",m)),whitespace:Xt(ct(f,"whitespace",m)),linebreakReplacement:Xt(ct(f,"linebreakReplacement",m)),defining:Xt(ct(f,"defining",m)),isolating:Xt(ct(f,"isolating",m)),attrs:Object.fromEntries(h.map(NR))}),y=Xt(ct(f,"parseHTML",m));y&&(g.parseDOM=y.map(E=>SR(E,h)));const b=ct(f,"renderHTML",m);b&&(g.toDOM=E=>b({node:E,HTMLAttributes:qh(E,h)}));const w=ct(f,"renderText",m);return w&&(g.toText=w),[f.name,g]})),c=Object.fromEntries(a.map(f=>{const h=n.filter(w=>w.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:t},x=e.reduce((w,E)=>{const T=ct(E,"extendMarkSchema",m);return{...w,...T?T(f):{}}},{}),g=TR({...x,inclusive:Xt(ct(f,"inclusive",m)),excludes:Xt(ct(f,"excludes",m)),group:Xt(ct(f,"group",m)),spanning:Xt(ct(f,"spanning",m)),code:Xt(ct(f,"code",m)),attrs:Object.fromEntries(h.map(NR))}),y=Xt(ct(f,"parseHTML",m));y&&(g.parseDOM=y.map(w=>SR(w,h)));const b=ct(f,"renderHTML",m);return b&&(g.toDOM=w=>b({mark:w,HTMLAttributes:qh(w,h)})),[f.name,g]}));return new f8({topNode:i,nodes:o,marks:c})}function rce(e){const t=e.filter((r,n)=>e.indexOf(r)!==n);return Array.from(new Set(t))}function hh(e){return e.sort((r,n)=>{const s=ct(r,"priority")||100,a=ct(n,"priority")||100;return s>a?-1:s<a?1:0})}function IM(e){const t=hh(rS(e)),r=rce(t.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),t}function MM(e,t,r){const{from:n,to:s}=t,{blockSeparator:a=`

`,textSerializers:i={}}=r||{};let o="";return e.nodesBetween(n,s,(c,f,h,m)=>{var x;c.isBlock&&f>n&&(o+=a);const g=i==null?void 0:i[c.type.name];if(g)return h&&(o+=g({node:c,pos:f,parent:h,index:m,range:t})),!1;c.isText&&(o+=(x=c==null?void 0:c.text)==null?void 0:x.slice(Math.max(n,f)-f,s-f))}),o}function nce(e,t){const r={from:0,to:e.content.size};return MM(e,r,t)}function FM(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}function sce(e,t){const r=Qr(t,e.schema),{from:n,to:s}=e.selection,a=[];e.doc.nodesBetween(n,s,o=>{a.push(o)});const i=a.reverse().find(o=>o.type.name===r.name);return i?{...i.attrs}:{}}function PM(e,t){const r=$x(typeof t=="string"?t:t.name,e.schema);return r==="node"?sce(e,t):r==="mark"?RM(e,t):{}}function ace(e,t=JSON.stringify){const r={};return e.filter(n=>{const s=t(n);return Object.prototype.hasOwnProperty.call(r,s)?!1:r[s]=!0})}function ice(e){const t=ace(e);return t.length===1?t:t.filter((r,n)=>!t.filter((a,i)=>i!==n).some(a=>r.oldRange.from>=a.oldRange.from&&r.oldRange.to<=a.oldRange.to&&r.newRange.from>=a.newRange.from&&r.newRange.to<=a.newRange.to))}function LM(e){const{mapping:t,steps:r}=e,n=[];return t.maps.forEach((s,a)=>{const i=[];if(s.ranges.length)s.forEach((o,c)=>{i.push({from:o,to:c})});else{const{from:o,to:c}=r[a];if(o===void 0||c===void 0)return;i.push({from:o,to:c})}i.forEach(({from:o,to:c})=>{const f=t.slice(a).map(o,-1),h=t.slice(a).map(c),m=t.invert().map(f,-1),x=t.invert().map(h);n.push({oldRange:{from:m,to:x},newRange:{from:f,to:h}})})}),ice(n)}function sS(e,t,r){const n=[];return e===t?r.resolve(e).marks().forEach(s=>{const a=r.resolve(e),i=tS(a,s.type);i&&n.push({mark:s,...i})}):r.nodesBetween(e,t,(s,a)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(i=>({from:a,to:a+s.nodeSize,mark:i})))}),n}var oce=(e,t,r,n=20)=>{const s=e.doc.resolve(r);let a=n,i=null;for(;a>0&&i===null;){const o=s.node(a);(o==null?void 0:o.type.name)===t?i=o:a-=1}return[i,a]};function Rd(e,t){return t.nodes[e]||t.marks[e]||null}function Hm(e,t,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=e.find(a=>a.type===t&&a.name===n);return s?s.attribute.keepOnSplit:!1}))}var lce=(e,t=500)=>{let r="";const n=e.parentOffset;return e.parent.nodesBetween(Math.max(0,n-t),n,(s,a,i,o)=>{var c,f;const h=((f=(c=s.type.spec).toText)==null?void 0:f.call(c,{node:s,pos:a,parent:i,index:o}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?h:h.slice(0,Math.max(0,n-a))}),r};function tE(e,t,r={}){const{empty:n,ranges:s}=e.selection,a=t?po(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>a?a.name===m.type.name:!0).find(m=>Cg(m.attrs,r,{strict:!1}));let i=0;const o=[];if(s.forEach(({$from:m,$to:x})=>{const g=m.pos,y=x.pos;e.doc.nodesBetween(g,y,(b,w)=>{if(a&&b.inlineContent&&!b.type.allowsMarkType(a))return!1;if(!b.isText&&!b.marks.length)return;const E=Math.max(g,w),T=Math.min(y,w+b.nodeSize),_=T-E;i+=_,o.push(...b.marks.map(S=>({mark:S,from:E,to:T})))})}),i===0)return!1;const c=o.filter(m=>a?a.name===m.mark.type.name:!0).filter(m=>Cg(m.mark.attrs,r,{strict:!1})).reduce((m,x)=>m+x.to-x.from,0),f=o.filter(m=>a?m.mark.type!==a&&m.mark.type.excludes(a):!0).reduce((m,x)=>m+x.to-x.from,0);return(c>0?c+f:c)>=i}function cce(e,t,r={}){if(!t)return _l(e,null,r)||tE(e,null,r);const n=$x(t,e.schema);return n==="node"?_l(e,t,r):n==="mark"?tE(e,t,r):!1}var uce=(e,t)=>{const{$from:r,$to:n,$anchor:s}=e.selection;if(t){const a=Wx(o=>o.type.name===t)(e.selection);if(!a)return!1;const i=e.doc.resolve(a.pos+1);return s.pos+1===i.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},fce=e=>{const{$from:t,$to:r}=e.selection;return!(t.parentOffset>0||t.pos!==r.pos)};function AR(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function CR(e,t){const{nodeExtensions:r}=tf(t),n=r.find(i=>i.name===e);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},a=Xt(ct(n,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function Gx(e,{checkChildren:t=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((n=e.text)!=null?n:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let s=!0;return e.content.forEach(a=>{s!==!1&&(Gx(a,{ignoreWhitespace:r,checkChildren:t})||(s=!1))}),s}return!1}function BM(e){return e instanceof ft}var UM=class zM{constructor(t){this.position=t}static fromJSON(t){return new zM(t.position)}toJSON(){return{position:this.position}}};function dce(e,t){const r=t.mapping.mapResult(e.position);return{position:new UM(r.pos),mapResult:r}}function hce(e){return new UM(e)}function pce(e,t,r){var n;const{selection:s}=t;let a=null;if(NM(s)&&(a=s.$cursor),a){const o=(n=e.storedMarks)!=null?n:a.marks();return a.parent.type.allowsMarkType(r)&&(!!r.isInSet(o)||!o.some(f=>f.type.excludes(r)))}const{ranges:i}=s;return i.some(({$from:o,$to:c})=>{let f=o.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(r):!1;return e.doc.nodesBetween(o.pos,c.pos,(h,m,x)=>{if(f)return!1;if(h.isInline){const g=!x||x.type.allowsMarkType(r),y=!!r.isInSet(h.marks)||!h.marks.some(b=>b.type.excludes(r));f=g&&y}return!f}),f})}var mce=(e,t={})=>({tr:r,state:n,dispatch:s})=>{const{selection:a}=r,{empty:i,ranges:o}=a,c=po(e,n.schema);if(s)if(i){const f=RM(n,c);r.addStoredMark(c.create({...f,...t}))}else o.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;n.doc.nodesBetween(h,m,(x,g)=>{const y=Math.max(g,h),b=Math.min(g+x.nodeSize,m);x.marks.find(E=>E.type===c)?x.marks.forEach(E=>{c===E.type&&r.addMark(y,b,c.create({...E.attrs,...t}))}):r.addMark(y,b,c.create(t))})});return pce(n,r,c)},gce=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0),xce=(e,t={})=>({state:r,dispatch:n,chain:s})=>{const a=Qr(e,r.schema);let i;return r.selection.$anchor.sameParent(r.selection.$head)&&(i=r.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:o})=>z3(a,{...i,...t})(r)?!0:o.clearNodes()).command(({state:o})=>z3(a,{...i,...t})(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},yce=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,s=sc(e,0,n.content.size),a=ft.create(n,s);t.setSelection(a)}return!0},vce=(e,t)=>({tr:r,state:n,dispatch:s})=>{const{selection:a}=n;let i,o;return typeof t=="number"?(i=t,o=t):t&&"from"in t&&"to"in t?(i=t.from,o=t.to):(i=a.from,o=a.to),s&&r.doc.nodesBetween(i,o,(c,f)=>{c.isText||r.setNodeMarkup(f,void 0,{...c.attrs,dir:e})}),!0},bce=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,{from:s,to:a}=typeof e=="number"?{from:e,to:e}:e,i=xt.atStart(n).from,o=xt.atEnd(n).to,c=sc(s,i,o),f=sc(a,i,o),h=xt.create(n,c,f);t.setSelection(h)}return!0},wce=e=>({state:t,dispatch:r})=>{const n=Qr(e,t.schema);return pie(n)(t,r)};function kR(e,t){const r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){const n=r.filter(s=>t==null?void 0:t.includes(s.type.name));e.tr.ensureMarks(n)}}var Ece=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:n,editor:s})=>{const{selection:a,doc:i}=t,{$from:o,$to:c}=a,f=s.extensionManager.attributes,h=Hm(f,o.node().type.name,o.node().attrs);if(a instanceof ft&&a.node.isBlock)return!o.parentOffset||!so(i,o.pos)?!1:(n&&(e&&kR(r,s.extensionManager.splittableMarks),t.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,x=o.depth===0?void 0:Yle(o.node(-1).contentMatchAt(o.indexAfter(-1)));let g=m&&x?[{type:x,attrs:h}]:void 0,y=so(t.doc,t.mapping.map(o.pos),1,g);if(!g&&!y&&so(t.doc,t.mapping.map(o.pos),1,x?[{type:x}]:void 0)&&(y=!0,g=x?[{type:x,attrs:h}]:void 0),n){if(y&&(a instanceof xt&&t.deleteSelection(),t.split(t.mapping.map(o.pos),1,g),x&&!m&&!o.parentOffset&&o.parent.type!==x)){const b=t.mapping.map(o.before()),w=t.doc.resolve(b);o.node(-1).canReplaceWith(w.index(),w.index()+1,x)&&t.setNodeMarkup(t.mapping.map(o.before()),x)}e&&kR(r,s.extensionManager.splittableMarks),t.scrollIntoView()}return y},_ce=(e,t={})=>({tr:r,state:n,dispatch:s,editor:a})=>{var i;const o=Qr(e,n.schema),{$from:c,$to:f}=n.selection,h=n.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(f))return!1;const m=c.node(-1);if(m.type!==o)return!1;const x=a.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==o||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let E=$e.empty;const T=c.index(-1)?1:c.index(-2)?2:3;for(let q=c.depth-T;q>=c.depth-3;q-=1)E=$e.from(c.node(q).copy(E));const _=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,S={...Hm(x,c.node().type.name,c.node().attrs),...t},C=((i=o.contentMatch.defaultType)==null?void 0:i.createAndFill(S))||void 0;E=E.append($e.from(o.createAndFill(null,C)||void 0));const I=c.before(c.depth-(T-1));r.replace(I,c.after(-_),new rt(E,4-T,0));let j=-1;r.doc.nodesBetween(I,r.doc.content.size,(q,D)=>{if(j>-1)return!1;q.isTextblock&&q.content.size===0&&(j=D+1)}),j>-1&&r.setSelection(xt.near(r.doc.resolve(j))),r.scrollIntoView()}return!0}const g=f.pos===c.end()?m.contentMatchAt(0).defaultType:null,y={...Hm(x,m.type.name,m.attrs),...t},b={...Hm(x,c.node().type.name,c.node().attrs),...t};r.delete(c.pos,f.pos);const w=g?[{type:o,attrs:y},{type:g,attrs:b}]:[{type:o,attrs:y}];if(!so(r.doc,c.pos,2))return!1;if(s){const{selection:E,storedMarks:T}=n,{splittableMarks:_}=a.extensionManager,S=T||E.$to.parentOffset&&E.$from.marks();if(r.split(c.pos,2,w).scrollIntoView(),!S||!s)return!0;const C=S.filter(I=>_.includes(I.type.name));r.ensureMarks(C)}return!0},nb=(e,t)=>{const r=Wx(i=>i.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=e.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Tl(e.doc,r.pos)&&e.join(r.pos),!0},sb=(e,t)=>{const r=Wx(i=>i.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=e.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Tl(e.doc,n)&&e.join(n),!0},Sce=(e,t,r,n={})=>({editor:s,tr:a,state:i,dispatch:o,chain:c,commands:f,can:h})=>{const{extensions:m,splittableMarks:x}=s.extensionManager,g=Qr(e,i.schema),y=Qr(t,i.schema),{selection:b,storedMarks:w}=i,{$from:E,$to:T}=b,_=E.blockRange(T),S=w||b.$to.parentOffset&&b.$from.marks();if(!_)return!1;const C=Wx(I=>CR(I.type.name,m))(b);if(_.depth>=1&&C&&_.depth-C.depth<=1){if(C.node.type===g)return f.liftListItem(y);if(CR(C.node.type.name,m)&&g.validContent(C.node.content)&&o)return c().command(()=>(a.setNodeMarkup(C.pos,g),!0)).command(()=>nb(a,g)).command(()=>sb(a,g)).run()}return!r||!S||!o?c().command(()=>h().wrapInList(g,n)?!0:f.clearNodes()).wrapInList(g,n).command(()=>nb(a,g)).command(()=>sb(a,g)).run():c().command(()=>{const I=h().wrapInList(g,n),j=S.filter(q=>x.includes(q.type.name));return a.ensureMarks(j),I?!0:f.clearNodes()}).wrapInList(g,n).command(()=>nb(a,g)).command(()=>sb(a,g)).run()},Tce=(e,t={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:a=!1}=r,i=po(e,n.schema);return tE(n,i,t)?s.unsetMark(i,{extendEmptyMarkRange:a}):s.setMark(i,t)},Nce=(e,t,r={})=>({state:n,commands:s})=>{const a=Qr(e,n.schema),i=Qr(t,n.schema),o=_l(n,a,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),o?s.setNode(i,c):s.setNode(a,{...c,...r})},Ace=(e,t={})=>({state:r,commands:n})=>{const s=Qr(e,r.schema);return _l(r,s,t)?n.lift(s):n.wrapIn(s,t)},Cce=()=>({state:e,dispatch:t})=>{const r=e.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let a;if(s.spec.isInputRules&&(a=s.getState(e))){if(t){const i=e.tr,o=a.transform;for(let c=o.steps.length-1;c>=0;c-=1)i.step(o.steps[c].invert(o.docs[c]));if(a.text){const c=i.doc.resolve(a.from).marks();i.replaceWith(a.from,a.to,e.schema.text(a.text,c))}else i.delete(a.from,a.to)}return!0}}return!1},kce=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,{empty:n,ranges:s}=r;return n||t&&s.forEach(a=>{e.removeMark(a.$from.pos,a.$to.pos)}),!0},Rce=(e,t={})=>({tr:r,state:n,dispatch:s})=>{var a;const{extendEmptyMarkRange:i=!1}=t,{selection:o}=r,c=po(e,n.schema),{$from:f,empty:h,ranges:m}=o;if(!s)return!0;if(h&&i){let{from:x,to:g}=o;const y=(a=f.marks().find(w=>w.type===c))==null?void 0:a.attrs,b=tS(f,c,y);b&&(x=b.from,g=b.to),r.removeMark(x,g,c)}else m.forEach(x=>{r.removeMark(x.$from.pos,x.$to.pos,c)});return r.removeStoredMark(c),!0},Oce=e=>({tr:t,state:r,dispatch:n})=>{const{selection:s}=r;let a,i;return typeof e=="number"?(a=e,i=e):e&&"from"in e&&"to"in e?(a=e.from,i=e.to):(a=s.from,i=s.to),n&&t.doc.nodesBetween(a,i,(o,c)=>{if(o.isText)return;const f={...o.attrs};delete f.dir,t.setNodeMarkup(c,void 0,f)}),!0},jce=(e,t={})=>({tr:r,state:n,dispatch:s})=>{let a=null,i=null;const o=$x(typeof e=="string"?e:e.name,n.schema);if(!o)return!1;o==="node"&&(a=Qr(e,n.schema)),o==="mark"&&(i=po(e,n.schema));let c=!1;return r.selection.ranges.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;let x,g,y,b;r.selection.empty?n.doc.nodesBetween(h,m,(w,E)=>{a&&a===w.type&&(c=!0,y=Math.max(E,h),b=Math.min(E+w.nodeSize,m),x=E,g=w)}):n.doc.nodesBetween(h,m,(w,E)=>{E<h&&a&&a===w.type&&(c=!0,y=Math.max(E,h),b=Math.min(E+w.nodeSize,m),x=E,g=w),E>=h&&E<=m&&(a&&a===w.type&&(c=!0,s&&r.setNodeMarkup(E,void 0,{...w.attrs,...t})),i&&w.marks.length&&w.marks.forEach(T=>{if(i===T.type&&(c=!0,s)){const _=Math.max(E,h),S=Math.min(E+w.nodeSize,m);r.addMark(_,S,i.create({...T.attrs,...t}))}}))}),g&&(x!==void 0&&s&&r.setNodeMarkup(x,void 0,{...g.attrs,...t}),i&&g.marks.length&&g.marks.forEach(w=>{i===w.type&&s&&r.addMark(y,b,i.create({...w.attrs,...t}))}))}),c},Dce=(e,t={})=>({state:r,dispatch:n})=>{const s=Qr(e,r.schema);return oie(s,t)(r,n)},Ice=(e,t={})=>({state:r,dispatch:n})=>{const s=Qr(e,r.schema);return lie(s,t)(r,n)},Mce=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(n=>n.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(n=>n!==t):delete this.callbacks[e]),this}once(e,t){const r=(...n)=>{this.off(e,r),t.apply(this,n)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},Kx=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},Fce=(e,t)=>{if(eS(t))return t.exec(e);const r=t(e);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=e,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function lm(e){var t;const{editor:r,from:n,to:s,text:a,rules:i,plugin:o}=e,{view:c}=r;if(c.composing)return!1;const f=c.state.doc.resolve(n);if(f.parent.type.spec.code||(t=f.nodeBefore||f.nodeAfter)!=null&&t.marks.find(x=>x.type.spec.code))return!1;let h=!1;const m=lce(f)+a;return i.forEach(x=>{if(h)return;const g=Fce(m,x.find);if(!g)return;const y=c.state.tr,b=qx({state:c.state,transaction:y}),w={from:n-(g[0].length-a.length),to:s},{commands:E,chain:T,can:_}=new Vx({editor:r,state:b});x.handler({state:b,range:w,match:g,commands:E,chain:T,can:_})===null||!y.steps.length||(x.undoable&&y.setMeta(o,{transform:y,from:n,to:s,text:a}),c.dispatch(y),h=!0)}),h}function Pce(e){const{editor:t,rules:r}=e,n=new Er({state:{init(){return null},apply(s,a,i){const o=s.getMeta(n);if(o)return o;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:h}=c;typeof h=="string"?h=h:h=nS($e.from(h),i.schema);const{from:m}=c,x=m+h.length;lm({editor:t,from:m,to:x,text:h,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,i,o){return lm({editor:t,from:a,to:i,text:o,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&lm({editor:t,from:a.pos,to:a.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:i}=s.state.selection;return i?lm({editor:t,from:i.pos,to:i.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function Lce(e){return Object.prototype.toString.call(e).slice(8,-1)}function cm(e){return Lce(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function HM(e,t){const r={...e};return cm(e)&&cm(t)&&Object.keys(t).forEach(n=>{cm(t[n])&&cm(e[n])?r[n]=HM(e[n],t[n]):r[n]=t[n]}),r}var aS=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Xt(ct(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Xt(ct(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>HM(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Uc=class qM extends aS{constructor(){super(...arguments),this.type="mark"}static create(t={}){const r=typeof t=="function"?t():t;return new qM(r)}static handleExit({editor:t,mark:r}){const{tr:n}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const i=s.marks();if(!!!i.find(f=>(f==null?void 0:f.type.name)===r.name))return!1;const c=i.find(f=>(f==null?void 0:f.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",s.pos),t.view.dispatch(n),!0}return!1}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Bce(e){return typeof e=="number"}var Uce=class{constructor(e){this.find=e.find,this.handler=e.handler}},zce=(e,t,r)=>{if(eS(t))return[...e.matchAll(t)];const n=t(e,r);return n?n.map(s=>{const a=[s.text];return a.index=s.index,a.input=e,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function Hce(e){const{editor:t,state:r,from:n,to:s,rule:a,pasteEvent:i,dropEvent:o}=e,{commands:c,chain:f,can:h}=new Vx({editor:t,state:r}),m=[];return r.doc.nodesBetween(n,s,(g,y)=>{var b,w,E,T,_;if((w=(b=g.type)==null?void 0:b.spec)!=null&&w.code||!(g.isText||g.isTextblock||g.isInline))return;const S=(_=(T=(E=g.content)==null?void 0:E.size)!=null?T:g.nodeSize)!=null?_:0,C=Math.max(n,y),I=Math.min(s,y+S);if(C>=I)return;const j=g.isText?g.text||"":g.textBetween(C-y,I-y,void 0,"");zce(j,a.find,i).forEach(D=>{if(D.index===void 0)return;const Q=C+D.index+1,ae=Q+D[0].length,F={from:r.tr.mapping.map(Q),to:r.tr.mapping.map(ae)},X=a.handler({state:r,range:F,match:D,commands:c,chain:f,can:h,pasteEvent:i,dropEvent:o});m.push(X)})}),m.every(g=>g!==null)}var um=null,qce=e=>{var t;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=r.clipboardData)==null||t.setData("text/html",e),r};function Vce(e){const{editor:t,rules:r}=e;let n=null,s=!1,a=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const c=({state:h,from:m,to:x,rule:g,pasteEvt:y})=>{const b=h.tr,w=qx({state:h,transaction:b});if(!(!Hce({editor:t,state:w,from:Math.max(m-1,0),to:x.b-1,rule:g,pasteEvent:y,dropEvent:o})||!b.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return r.map(h=>new Er({view(m){const x=y=>{var b;n=(b=m.dom.parentElement)!=null&&b.contains(y.target)?m.dom.parentElement:null,n&&(um=t)},g=()=>{um&&(um=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(m,x)=>{if(a=n===m.dom.parentElement,o=x,!a){const g=um;g!=null&&g.isEditable&&setTimeout(()=>{const y=g.state.selection;y&&g.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(m,x)=>{var g;const y=(g=x.clipboardData)==null?void 0:g.getData("text/html");return i=x,s=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(m,x,g)=>{const y=m[0],b=y.getMeta("uiEvent")==="paste"&&!s,w=y.getMeta("uiEvent")==="drop"&&!a,E=y.getMeta("applyPasteRules"),T=!!E;if(!b&&!w&&!T)return;if(T){let{text:C}=E;typeof C=="string"?C=C:C=nS($e.from(C),g.schema);const{from:I}=E,j=I+C.length,q=qce(C);return c({rule:h,state:g,from:I,to:{b:j},pasteEvt:q})}const _=x.doc.content.findDiffStart(g.doc.content),S=x.doc.content.findDiffEnd(g.doc.content);if(!(!Bce(_)||!S||_===S.b))return c({rule:h,state:g,from:_,to:S,pasteEvt:i})}}))}var Xx=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=IM(e),this.schema=tce(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Rd(t.name,this.schema)},n=ct(t,"addCommands",r);return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this;return hh([...this.extensions].reverse()).flatMap(n=>{const s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Rd(n.name,this.schema)},a=[],i=ct(n,"addKeyboardShortcuts",s);let o={};if(n.type==="mark"&&ct(n,"exitable",s)&&(o.ArrowRight=()=>Uc.handleExit({editor:e,mark:n})),i){const x=Object.fromEntries(Object.entries(i()).map(([g,y])=>[g,()=>y({editor:e})]));o={...o,...x}}const c=sle(o);a.push(c);const f=ct(n,"addInputRules",s);if(AR(n,e.options.enableInputRules)&&f){const x=f();if(x&&x.length){const g=Pce({editor:e,rules:x}),y=Array.isArray(g)?g:[g];a.push(...y)}}const h=ct(n,"addPasteRules",s);if(AR(n,e.options.enablePasteRules)&&h){const x=h();if(x&&x.length){const g=Vce({editor:e,rules:x});a.push(...g)}}const m=ct(n,"addProseMirrorPlugins",s);if(m){const x=m();a.push(...x)}return a})}get attributes(){return DM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=tf(this.extensions);return Object.fromEntries(t.filter(r=>!!ct(r,"addNodeView")).map(r=>{const n=this.attributes.filter(c=>c.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:Qr(r.name,this.schema)},a=ct(r,"addNodeView",s);if(!a)return[];const i=a();if(!i)return[];const o=(c,f,h,m,x)=>{const g=qh(c,n);return i({node:c,view:f,getPos:h,decorations:m,innerDecorations:x,editor:e,extension:r,HTMLAttributes:g})};return[r.name,o]}))}dispatchTransaction(e){const{editor:t}=this;return hh([...this.extensions].reverse()).reduceRight((n,s)=>{const a={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:Rd(s.name,this.schema)},i=ct(s,"dispatchTransaction",a);return i?o=>{i.call(a,{transaction:o,next:n})}:n},e)}transformPastedHTML(e){const{editor:t}=this;return hh([...this.extensions]).reduce((n,s)=>{const a={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:Rd(s.name,this.schema)},i=ct(s,"transformPastedHTML",a);return i?(o,c)=>{const f=n(o,c);return i.call(a,f)}:n},e||(n=>n))}get markViews(){const{editor:e}=this,{markExtensions:t}=tf(this.extensions);return Object.fromEntries(t.filter(r=>!!ct(r,"addMarkView")).map(r=>{const n=this.attributes.filter(o=>o.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:po(r.name,this.schema)},a=ct(r,"addMarkView",s);if(!a)return[];const i=(o,c,f)=>{const h=qh(o,n);return a()({mark:o,view:c,inline:f,editor:e,extension:r,HTMLAttributes:h,updateAttributes:m=>{aue(o,e,m)}})};return[r.name,i]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var r;const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Rd(t.name,this.schema)};t.type==="mark"&&((r=Xt(ct(t,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(t.name);const s=ct(t,"onBeforeCreate",n),a=ct(t,"onCreate",n),i=ct(t,"onUpdate",n),o=ct(t,"onSelectionUpdate",n),c=ct(t,"onTransaction",n),f=ct(t,"onFocus",n),h=ct(t,"onBlur",n),m=ct(t,"onDestroy",n);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),i&&this.editor.on("update",i),o&&this.editor.on("selectionUpdate",o),c&&this.editor.on("transaction",c),f&&this.editor.on("focus",f),h&&this.editor.on("blur",h),m&&this.editor.on("destroy",m)})}};Xx.resolve=IM;Xx.sort=hh;Xx.flatten=rS;var $ce={};Q_($ce,{ClipboardTextSerializer:()=>$M,Commands:()=>WM,Delete:()=>GM,Drop:()=>KM,Editable:()=>XM,FocusEvents:()=>JM,Keymap:()=>ZM,Paste:()=>QM,Tabindex:()=>eF,TextDirection:()=>tF,focusEventsPluginKey:()=>YM});var Lr=class VM extends aS{constructor(){super(...arguments),this.type="extension"}static create(t={}){const r=typeof t=="function"?t():t;return new VM(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}},$M=Lr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Er({key:new ln("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:r}=e,{doc:n,selection:s}=t,{ranges:a}=s,i=Math.min(...a.map(h=>h.$from.pos)),o=Math.max(...a.map(h=>h.$to.pos)),c=FM(r);return MM(n,{from:i,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),WM=Lr.create({name:"commands",addCommands(){return{...SM}}}),GM=Lr.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var r,n,s;const a=()=>{var i,o,c,f;if((f=(c=(o=(i=this.editor.options.coreExtensionOptions)==null?void 0:i.delete)==null?void 0:o.filterTransaction)==null?void 0:c.call(o,e))!=null?f:e.getMeta("y-sync$"))return;const h=OM(e.before,[e,...t]);LM(h).forEach(g=>{h.mapping.mapResult(g.oldRange.from).deletedAfter&&h.mapping.mapResult(g.oldRange.to).deletedBefore&&h.before.nodesBetween(g.oldRange.from,g.oldRange.to,(y,b)=>{const w=b+y.nodeSize-2,E=g.oldRange.from<=b&&w<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:y,from:b,to:w,newFrom:h.mapping.map(b),newTo:h.mapping.map(w),deletedRange:g.oldRange,newRange:g.newRange,partial:!E,editor:this.editor,transaction:e,combinedTransform:h})})});const x=h.mapping;h.steps.forEach((g,y)=>{var b,w;if(g instanceof za){const E=x.slice(y).map(g.from,-1),T=x.slice(y).map(g.to),_=x.invert().map(E,-1),S=x.invert().map(T),C=(b=h.doc.nodeAt(E-1))==null?void 0:b.marks.some(j=>j.eq(g.mark)),I=(w=h.doc.nodeAt(T))==null?void 0:w.marks.some(j=>j.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:_,to:S},newRange:{from:E,to:T},partial:!!(I||C),editor:this.editor,transaction:e,combinedTransform:h})}})};(s=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||s?setTimeout(a,0):a()}}),KM=Lr.create({name:"drop",addProseMirrorPlugins(){return[new Er({key:new ln("tiptapDrop"),props:{handleDrop:(e,t,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:r,moved:n})}}})]}}),XM=Lr.create({name:"editable",addProseMirrorPlugins(){return[new Er({key:new ln("editable"),props:{editable:()=>this.editor.options.editable}})]}}),YM=new ln("focusEvents"),JM=Lr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Er({key:YM,props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;const n=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,r)=>{e.isFocused=!1;const n=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),ZM=Lr.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:o})=>{const{selection:c,doc:f}=o,{empty:h,$anchor:m}=c,{pos:x,parent:g}=m,y=m.parent.isTextblock&&x>0?o.doc.resolve(x-1):m,b=y.parent.type.spec.isolating,w=m.pos-m.parentOffset,E=b&&y.parent.childCount===1?w===m.pos:Ct.atStart(f).from===x;return!h||!g.type.isTextblock||g.textContent.length||!E||E&&m.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},a={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return kg()||kM()?a:s},addProseMirrorPlugins(){return[new Er({key:new ln("clearDocument"),appendTransaction:(e,t,r)=>{if(e.some(b=>b.getMeta("composition")))return;const n=e.some(b=>b.docChanged)&&!t.doc.eq(r.doc),s=e.some(b=>b.getMeta("preventClearDocument"));if(!n||s)return;const{empty:a,from:i,to:o}=t.selection,c=Ct.atStart(t.doc).from,f=Ct.atEnd(t.doc).to;if(a||!(i===c&&o===f)||!Gx(r.doc))return;const x=r.tr,g=qx({state:r,transaction:x}),{commands:y}=new Vx({editor:this.editor,state:g});if(y.clearNodes(),!!x.steps.length)return x}})]}}),QM=Lr.create({name:"paste",addProseMirrorPlugins(){return[new Er({key:new ln("tiptapPaste"),props:{handlePaste:(e,t,r)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:r})}}})]}}),eF=Lr.create({name:"tabindex",addProseMirrorPlugins(){return[new Er({key:new ln("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),tF=Lr.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=tf(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const r=t.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Er({key:new ln("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),Wce=class Kd{constructor(t,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=r,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(t);return new Kd(r,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Kd(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Kd(t,this.editor)}get children(){const t=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,a=r.isAtom&&!r.isText,i=r.isInline,o=this.pos+n+(a?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(o);if(!s&&!i&&c.depth<=this.depth)return;const f=new Kd(c,this.editor,s,s||i?r:null);s&&(f.actualDepth=this.depth+1),t.push(f)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===t)if(Object.keys(r).length>0){const a=s.node.attrs,i=Object.keys(r);for(let o=0;o<i.length;o+=1){const c=i[o];if(a[c]!==r[c])break}}else n=s;s=s.parent}return n}querySelector(t,r={}){return this.querySelectorAll(t,r,!0)[0]||null}querySelectorAll(t,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(r);return this.children.forEach(i=>{n&&s.length>0||(i.node.type.name===t&&a.every(c=>r[c]===i.node.attrs[c])&&s.push(i),!(n&&s.length>0)&&(s=s.concat(i.querySelectorAll(t,r,n))))}),s}setAttribute(t){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(r)}},Gce=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Kce(e,t,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}var Xce=class extends Mce{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:dce,createMappablePosition:hce},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:a})=>this.options.onDrop(n,s,a)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),this.on("delete",this.options.onDelete);const t=this.createDoc(),r=AM(t,this.options.autofocus);this.editorState=Iu.create({doc:t,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Kce(Gce,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const r=jM(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=r.filter(i=>!i.key.startsWith(a))}),t.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[XM,$M.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),WM,JM,ZM,eF,KM,QM,GM,tF.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Xx(n,this)}createCommandManager(){this.commandManager=new Vx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=eE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=eE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:r}=this.options,n=t.dispatchTransaction||this.dispatchTransaction.bind(this),s=r?this.extensionManager.dispatchTransaction(n):n,a=t.transformPastedHTML,i=this.extensionManager.transformPastedHTML(a);this.editorView=new EM(e,{...t,attributes:{role:"textbox",...t==null?void 0:t.attributes},dispatchTransaction:s,transformPastedHTML:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.prependClass(),this.injectCSS();const c=this.view.dom;c.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(f=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(f)});return}const{state:t,transactions:r}=this.state.applyTransaction(e),n=!this.state.selection.eq(t.selection),s=r.includes(e),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!s)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=r.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),o=i==null?void 0:i.getMeta("focus"),c=i==null?void 0:i.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:i}),c&&this.emit("blur",{editor:this,event:c.event,transaction:i}),!(e.getMeta("preventUpdate")||!r.some(f=>f.docChanged)||a.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return PM(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,n=typeof e=="string"?t:e;return cce(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return nS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return nce(this.state.doc,{blockSeparator:t,textSerializers:{...FM(this.schema),...r}})}get isEmpty(){return Gx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Wce(t,this)}get $doc(){return this.$pos(0)}};function rf(e){return new Kx({find:e.find,handler:({state:t,range:r,match:n})=>{const s=Xt(e.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:a}=t,i=n[n.length-1],o=n[0];if(i){const c=o.search(/\S/),f=r.from+o.indexOf(i),h=f+i.length;if(sS(r.from,r.to,t.doc).filter(g=>g.mark.type.excluded.find(b=>b===e.type&&b!==g.mark.type)).filter(g=>g.to>f).length)return null;h<r.to&&a.delete(h,r.to),f>r.from&&a.delete(r.from+c,f);const x=r.from+c+i.length;a.addMark(r.from+c,x,e.type.create(s||{})),a.removeStoredMark(e.type)}},undoable:e.undoable})}function rF(e){return new Kx({find:e.find,handler:({state:t,range:r,match:n})=>{const s=Xt(e.getAttributes,void 0,n)||{},{tr:a}=t,i=r.from;let o=r.to;const c=e.type.create(s);if(n[1]){const f=n[0].lastIndexOf(n[1]);let h=i+f;h>o?h=o:o=h+n[1].length;const m=n[0][n[0].length-1];a.insertText(m,i+n[0].length-1),a.replaceWith(h,o,c)}else if(n[0]){const f=e.type.isInline?i:i-1;a.insert(f,e.type.create(s)).delete(a.mapping.map(i),a.mapping.map(o))}a.scrollIntoView()},undoable:e.undoable})}function rE(e){return new Kx({find:e.find,handler:({state:t,range:r,match:n})=>{const s=t.doc.resolve(r.from),a=Xt(e.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,a)},undoable:e.undoable})}function nf(e){return new Kx({find:e.find,handler:({state:t,range:r,match:n,chain:s})=>{const a=Xt(e.getAttributes,void 0,n)||{},i=t.tr.delete(r.from,r.to),c=i.doc.resolve(r.from).blockRange(),f=c&&P_(c,e.type,a);if(!f)return null;if(i.wrap(c,f),e.keepMarks&&e.editor){const{selection:m,storedMarks:x}=t,{splittableMarks:g}=e.editor.extensionManager,y=x||m.$to.parentOffset&&m.$from.marks();if(y){const b=y.filter(w=>g.includes(w.type.name));i.ensureMarks(b)}}if(e.keepAttributes){const m=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,a).run()}const h=i.doc.resolve(r.from-1).nodeBefore;h&&h.type===e.type&&Tl(i.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(n,h))&&i.join(r.from-1)},undoable:e.undoable})}var Yce=e=>"touches"in e,Jce=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=o=>{if(!this.isResizing||!this.activeHandle)return;const c=o.clientX-this.startX,f=o.clientY-this.startY;this.handleResize(c,f)},this.handleTouchMove=o=>{if(!this.isResizing||!this.activeHandle)return;const c=o.touches[0];if(!c)return;const f=c.clientX-this.startX,h=c.clientY-this.startY;this.handleResize(f,h)},this.handleMouseUp=()=>{if(!this.isResizing)return;const o=this.element.offsetWidth,c=this.element.offsetHeight;this.onCommit(o,c),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,r,n,s,a,i;this.node=e.node,this.editor=e.editor,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(r=e.options)!=null&&r.max&&(this.maxSize=e.options.max),(n=e==null?void 0:e.options)!=null&&n.directions&&(this.directions=e.options.directions),(s=e.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(a=e.options)!=null&&a.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),(i=e.options)!=null&&i.createCustomHandle&&(this.createCustomHandle=e.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var e;return(e=this.contentElement)!=null?e:null}handleEditorUpdate(){const e=this.editor.isEditable;e!==this.lastEditableState&&(this.lastEditableState=e,e?e&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(e,t,r){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const r=t.includes("top"),n=t.includes("bottom"),s=t.includes("left"),a=t.includes("right");r&&(e.style.top="0"),n&&(e.style.bottom="0"),s&&(e.style.left="0"),a&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{let t;this.createCustomHandle?t=this.createCustomHandle(e):t=this.createHandle(e),t instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${e}") did not return an HTMLElement. Falling back to default handle.`),t=this.createHandle(e)),this.createCustomHandle||this.positionHandle(t,e),t.addEventListener("mousedown",r=>this.handleResizeStart(r,e)),t.addEventListener("touchstart",r=>this.handleResizeStart(r,e)),this.handleMap.set(e,t),this.wrapper.appendChild(t)})}removeHandles(){this.handleMap.forEach(e=>e.remove()),this.handleMap.clear()}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,Yce(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:n,height:s}=this.calculateNewDimensions(this.activeHandle,e,t),a=this.applyConstraints(n,s,r);this.element.style.width=`${a.width}px`,this.element.style.height=`${a.height}px`,this.onResize&&this.onResize(a.width,a.height)}calculateNewDimensions(e,t,r){let n=this.startWidth,s=this.startHeight;const a=e.includes("right"),i=e.includes("left"),o=e.includes("bottom"),c=e.includes("top");return a?n=this.startWidth+t:i&&(n=this.startWidth-t),o?s=this.startHeight+r:c&&(s=this.startHeight-r),(e==="right"||e==="left")&&(n=this.startWidth+(a?t:-t)),(e==="top"||e==="bottom")&&(s=this.startHeight+(o?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(n,s,e):{width:n,height:s}}applyConstraints(e,t,r){var n,s,a,i;if(!r){let f=Math.max(this.minSize.width,e),h=Math.max(this.minSize.height,t);return(n=this.maxSize)!=null&&n.width&&(f=Math.min(this.maxSize.width,f)),(s=this.maxSize)!=null&&s.height&&(h=Math.min(this.maxSize.height,h)),{width:f,height:h}}let o=e,c=t;return o<this.minSize.width&&(o=this.minSize.width,c=o/this.aspectRatio),c<this.minSize.height&&(c=this.minSize.height,o=c*this.aspectRatio),(a=this.maxSize)!=null&&a.width&&o>this.maxSize.width&&(o=this.maxSize.width,c=o/this.aspectRatio),(i=this.maxSize)!=null&&i.height&&c>this.maxSize.height&&(c=this.maxSize.height,o=c*this.aspectRatio),{width:o,height:c}}applyAspectRatio(e,t,r){const n=r==="left"||r==="right",s=r==="top"||r==="bottom";return n?{width:e,height:e/this.aspectRatio}:s?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function Zce(e,t){const{selection:r}=e,{$from:n}=r;if(r instanceof ft){const a=n.index();return n.parent.canReplaceWith(a,a+1,t)}let s=n.depth;for(;s>=0;){const a=n.index(s);if(n.node(s).contentMatchAt(a).matchType(t))return!0;s-=1}return!1}var Qce={};Q_(Qce,{createAtomBlockMarkdownSpec:()=>eue,createBlockMarkdownSpec:()=>tue,createInlineMarkdownSpec:()=>sue,parseAttributes:()=>iS,parseIndentedBlocks:()=>nE,renderNestedMarkdownContent:()=>lS,serializeAttributes:()=>oS});function iS(e){if(!(e!=null&&e.trim()))return{};const t={},r=[],n=e.replace(/["']([^"']*)["']/g,f=>(r.push(f),`__QUOTED_${r.length-1}__`)),s=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const f=s.map(h=>h.trim().slice(1));t.class=f.join(" ")}const a=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(t.id=a[1]);const i=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(i)).forEach(([,f,h])=>{var m;const x=parseInt(((m=h.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),g=r[x];g&&(t[f]=g.slice(1,-1))});const c=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(h=>{h.match(/^[a-zA-Z][\w-]*$/)&&(t[h]=!0)}),t}function oS(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(n=>t.push(`.${n}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?t.push(r):n!==!1&&n!=null&&t.push(`${r}="${String(n)}"`))}),t.join(" ")}function eue(e){const{nodeName:t,name:r,parseAttributes:n=iS,serializeAttributes:s=oS,defaultAttributes:a={},requiredAttributes:i=[],allowedAttributes:o}=e,c=r||t,f=h=>{if(!o)return h;const m={};return o.forEach(x=>{x in h&&(m[x]=h[x])}),m};return{parseMarkdown:(h,m)=>{const x={...a,...h.attributes};return m.createNode(t,x,[])},markdownTokenizer:{name:t,level:"block",start(h){var m;const x=new RegExp(`^:::${c}(?:\\s|$)`,"m"),g=(m=h.match(x))==null?void 0:m.index;return g!==void 0?g:-1},tokenize(h,m,x){const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),y=h.match(g);if(!y)return;const b=y[1]||"",w=n(b);if(!i.find(T=>!(T in w)))return{type:t,raw:y[0],attributes:w}}},renderMarkdown:h=>{const m=f(h.attrs||{}),x=s(m),g=x?` {${x}}`:"";return`:::${c}${g} :::`}}}function tue(e){const{nodeName:t,name:r,getContent:n,parseAttributes:s=iS,serializeAttributes:a=oS,defaultAttributes:i={},content:o="block",allowedAttributes:c}=e,f=r||t,h=m=>{if(!c)return m;const x={};return c.forEach(g=>{g in m&&(x[g]=m[g])}),x};return{parseMarkdown:(m,x)=>{let g;if(n){const b=n(m);g=typeof b=="string"?[{type:"text",text:b}]:b}else o==="block"?g=x.parseChildren(m.tokens||[]):g=x.parseInline(m.tokens||[]);const y={...i,...m.attributes};return x.createNode(t,y,g)},markdownTokenizer:{name:t,level:"block",start(m){var x;const g=new RegExp(`^:::${f}`,"m"),y=(x=m.match(g))==null?void 0:x.index;return y!==void 0?y:-1},tokenize(m,x,g){var y;const b=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=m.match(b);if(!w)return;const[E,T=""]=w,_=s(T);let S=1;const C=E.length;let I="";const j=/^:::([\w-]*)(\s.*)?/gm,q=m.slice(C);for(j.lastIndex=0;;){const D=j.exec(q);if(D===null)break;const Q=D.index,ae=D[1];if(!((y=D[2])!=null&&y.endsWith(":::"))){if(ae)S+=1;else if(S-=1,S===0){const F=q.slice(0,Q);I=F.trim();const X=m.slice(0,C+Q+D[0].length);let M=[];if(I)if(o==="block")for(M=g.blockTokens(F),M.forEach(se=>{se.text&&(!se.tokens||se.tokens.length===0)&&(se.tokens=g.inlineTokens(se.text))});M.length>0;){const se=M[M.length-1];if(se.type==="paragraph"&&(!se.text||se.text.trim()===""))M.pop();else break}else M=g.inlineTokens(I);return{type:t,raw:X,attributes:_,content:I,tokens:M}}}}}},renderMarkdown:(m,x)=>{const g=h(m.attrs||{}),y=a(g),b=y?` {${y}}`:"",w=x.renderChildren(m.content||[],`

`);return`:::${f}${b}

${w}

:::`}}}function rue(e){if(!e.trim())return{};const t={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(e);for(;n!==null;){const[,s,a,i]=n;t[s]=a||i,n=r.exec(e)}return t}function nue(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,r])=>`${t}="${r}"`).join(" ")}function sue(e){const{nodeName:t,name:r,getContent:n,parseAttributes:s=rue,serializeAttributes:a=nue,defaultAttributes:i={},selfClosing:o=!1,allowedAttributes:c}=e,f=r||t,h=x=>{if(!c)return x;const g={};return c.forEach(y=>{const b=typeof y=="string"?y:y.name,w=typeof y=="string"?void 0:y.skipIfDefault;if(b in x){const E=x[b];if(w!==void 0&&E===w)return;g[b]=E}}),g},m=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,g)=>{const y={...i,...x.attributes};if(o)return g.createNode(t,y);const b=n?n(x):x.content||"";return b?g.createNode(t,y,[g.createTextNode(b)]):g.createNode(t,y,[])},markdownTokenizer:{name:t,level:"inline",start(x){const g=o?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),y=x.match(g),b=y==null?void 0:y.index;return b!==void 0?b:-1},tokenize(x,g,y){const b=o?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),w=x.match(b);if(!w)return;let E="",T="";if(o){const[,S]=w;T=S}else{const[,S,C]=w;T=S,E=C||""}const _=s(T.trim());return{type:t,raw:w[0],content:E.trim(),attributes:_}}},renderMarkdown:x=>{let g="";n?g=n(x):x.content&&x.content.length>0&&(g=x.content.filter(E=>E.type==="text").map(E=>E.text).join(""));const y=h(x.attrs||{}),b=a(y),w=b?` ${b}`:"";return o?`[${f}${w}]`:`[${f}${w}]${g}[/${f}]`}}}function nE(e,t,r){var n,s,a,i;const o=e.split(`
`),c=[];let f="",h=0;const m=t.baseIndentSize||2;for(;h<o.length;){const x=o[h],g=x.match(t.itemPattern);if(!g){if(c.length>0)break;if(x.trim()===""){h+=1,f=`${f}${x}
`;continue}else return}const y=t.extractItemData(g),{indentLevel:b,mainContent:w}=y;f=`${f}${x}
`;const E=[w];for(h+=1;h<o.length;){const C=o[h];if(C.trim()===""){const j=o.slice(h+1).findIndex(Q=>Q.trim()!=="");if(j===-1)break;if((((s=(n=o[h+1+j].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:s.length)||0)>b){E.push(C),f=`${f}${C}
`,h+=1;continue}else break}if((((i=(a=C.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:i.length)||0)>b)E.push(C),f=`${f}${C}
`,h+=1;else break}let T;const _=E.slice(1);if(_.length>0){const C=_.map(I=>I.slice(b+m)).join(`
`);C.trim()&&(t.customNestedParser?T=t.customNestedParser(C):T=r.blockTokens(C))}const S=t.createToken(y,T);c.push(S)}if(c.length!==0)return{items:c,raw:f}}function lS(e,t,r,n){if(!e||!Array.isArray(e.content))return"";const s=typeof r=="function"?r(n):r,[a,...i]=e.content,o=t.renderChildren([a]),c=[`${s}${o}`];return i&&i.length>0&&i.forEach(f=>{const h=t.renderChildren([f]);if(h){const m=h.split(`
`).map(x=>x?t.indent(x):"").join(`
`);c.push(m)}}),c.join(`
`)}function aue(e,t,r={}){const{state:n}=t,{doc:s,tr:a}=n,i=e;s.descendants((o,c)=>{const f=a.mapping.map(c),h=a.mapping.map(c)+o.nodeSize;let m=null;if(o.marks.forEach(g=>{if(g!==i)return!1;m=g}),!m)return;let x=!1;if(Object.keys(r).forEach(g=>{r[g]!==m.attrs[g]&&(x=!0)}),x){const g=e.type.create({...e.attrs,...r});a.removeMark(f,h,e.type),a.addMark(f,h,g)}}),a.docChanged&&t.view.dispatch(a)}var Cs=class nF extends aS{constructor(){super(...arguments),this.type="node"}static create(t={}){const r=typeof t=="function"?t():t;return new nF(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Oc(e){return new Uce({find:e.find,handler:({state:t,range:r,match:n,pasteEvent:s})=>{const a=Xt(e.getAttributes,void 0,n,s);if(a===!1||a===null)return null;const{tr:i}=t,o=n[n.length-1],c=n[0];let f=r.to;if(o){const h=c.search(/\S/),m=r.from+c.indexOf(o),x=m+o.length;if(sS(r.from,r.to,t.doc).filter(y=>y.mark.type.excluded.find(w=>w===e.type&&w!==y.mark.type)).filter(y=>y.to>m).length)return null;x<r.to&&i.delete(x,r.to),m>r.from&&i.delete(r.from+h,m),f=r.from+h+o.length,i.addMark(r.from+h,f,e.type.create(a||{})),i.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:iue,getOwnPropertySymbols:oue}=Object,{hasOwnProperty:lue}=Object.prototype;function ab(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function fm(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:a}=s,i=a.get(r),o=a.get(n);if(i&&o)return i===n&&o===r;a.set(r,n),a.set(n,r);const c=e(r,n,s);return a.delete(r),a.delete(n),c}}function cue(e){return e!=null?e[Symbol.toStringTag]:void 0}function RR(e){return iue(e).concat(oue(e))}const uue=Object.hasOwn||((e,t)=>lue.call(e,t));function zc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const fue="__v",due="__o",hue="_owner",{getOwnPropertyDescriptor:OR,keys:jR}=Object;function pue(e,t){return e.byteLength===t.byteLength&&Rg(new Uint8Array(e),new Uint8Array(t))}function mue(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function gue(e,t){return e.byteLength===t.byteLength&&Rg(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function xue(e,t){return zc(e.getTime(),t.getTime())}function yue(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function vue(e,t){return e===t}function DR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),a=e.entries();let i,o,c=0;for(;(i=a.next())&&!i.done;){const f=t.entries();let h=!1,m=0;for(;(o=f.next())&&!o.done;){if(s[m]){m++;continue}const x=i.value,g=o.value;if(r.equals(x[0],g[0],c,m,e,t,r)&&r.equals(x[1],g[1],x[0],g[0],e,t,r)){h=s[m]=!0;break}m++}if(!h)return!1;c++}return!0}const bue=zc;function wue(e,t,r){const n=jR(e);let s=n.length;if(jR(t).length!==s)return!1;for(;s-- >0;)if(!sF(e,t,r,n[s]))return!1;return!0}function Od(e,t,r){const n=RR(e);let s=n.length;if(RR(t).length!==s)return!1;let a,i,o;for(;s-- >0;)if(a=n[s],!sF(e,t,r,a)||(i=OR(e,a),o=OR(t,a),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable)))return!1;return!0}function Eue(e,t){return zc(e.valueOf(),t.valueOf())}function _ue(e,t){return e.source===t.source&&e.flags===t.flags}function IR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),a=e.values();let i,o;for(;(i=a.next())&&!i.done;){const c=t.values();let f=!1,h=0;for(;(o=c.next())&&!o.done;){if(!s[h]&&r.equals(i.value,o.value,i.value,o.value,e,t,r)){f=s[h]=!0;break}h++}if(!f)return!1}return!0}function Rg(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Sue(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function sF(e,t,r,n){return(n===hue||n===due||n===fue)&&(e.$$typeof||t.$$typeof)?!0:uue(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Tue="[object ArrayBuffer]",Nue="[object Arguments]",Aue="[object Boolean]",Cue="[object DataView]",kue="[object Date]",Rue="[object Error]",Oue="[object Map]",jue="[object Number]",Due="[object Object]",Iue="[object RegExp]",Mue="[object Set]",Fue="[object String]",Pue={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Lue="[object URL]",Bue=Object.prototype.toString;function Uue({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:a,areMapsEqual:i,areNumbersEqual:o,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:x,areUrlsEqual:g,unknownTagComparators:y}){return function(w,E,T){if(w===E)return!0;if(w==null||E==null)return!1;const _=typeof w;if(_!==typeof E)return!1;if(_!=="object")return _==="number"?o(w,E,T):_==="function"?a(w,E,T):!1;const S=w.constructor;if(S!==E.constructor)return!1;if(S===Object)return c(w,E,T);if(Array.isArray(w))return t(w,E,T);if(S===Date)return n(w,E,T);if(S===RegExp)return h(w,E,T);if(S===Map)return i(w,E,T);if(S===Set)return m(w,E,T);const C=Bue.call(w);if(C===kue)return n(w,E,T);if(C===Iue)return h(w,E,T);if(C===Oue)return i(w,E,T);if(C===Mue)return m(w,E,T);if(C===Due)return typeof w.then!="function"&&typeof E.then!="function"&&c(w,E,T);if(C===Lue)return g(w,E,T);if(C===Rue)return s(w,E,T);if(C===Nue)return c(w,E,T);if(Pue[C])return x(w,E,T);if(C===Tue)return e(w,E,T);if(C===Cue)return r(w,E,T);if(C===Aue||C===jue||C===Fue)return f(w,E,T);if(y){let I=y[C];if(!I){const j=cue(w);j&&(I=y[j])}if(I)return I(w,E,T)}return!1}}function zue({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:pue,areArraysEqual:r?Od:mue,areDataViewsEqual:gue,areDatesEqual:xue,areErrorsEqual:yue,areFunctionsEqual:vue,areMapsEqual:r?ab(DR,Od):DR,areNumbersEqual:bue,areObjectsEqual:r?Od:wue,arePrimitiveWrappersEqual:Eue,areRegExpsEqual:_ue,areSetsEqual:r?ab(IR,Od):IR,areTypedArraysEqual:r?ab(Rg,Od):Rg,areUrlsEqual:Sue,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=fm(n.areArraysEqual),a=fm(n.areMapsEqual),i=fm(n.areObjectsEqual),o=fm(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:i,areSetsEqual:o})}return n}function Hue(e){return function(t,r,n,s,a,i,o){return e(t,r,o)}}function que({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(o,c){const{cache:f=e?new WeakMap:void 0,meta:h}=r();return t(o,c,{cache:f,equals:n,meta:h,strict:s})};if(e)return function(o,c){return t(o,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const a={cache:void 0,equals:n,meta:void 0,strict:s};return function(o,c){return t(o,c,a)}}const Vue=Al();Al({strict:!0});Al({circular:!0});Al({circular:!0,strict:!0});Al({createInternalComparator:()=>zc});Al({strict:!0,createInternalComparator:()=>zc});Al({circular:!0,createInternalComparator:()=>zc});Al({circular:!0,createInternalComparator:()=>zc,strict:!0});function Al(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,a=zue(e),i=Uue(a),o=r?r(i):Hue(i);return que({circular:t,comparator:i,createState:n,equals:o,strict:s})}var ib={exports:{}},ob={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR;function $ue(){if(MR)return ob;MR=1;var e=Gh(),t=KI();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return ob.useSyncExternalStoreWithSelector=function(f,h,m,x,g){var y=a(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=o(function(){function E(I){if(!T){if(T=!0,_=I,I=x(I),g!==void 0&&b.hasValue){var j=b.value;if(g(j,I))return S=j}return S=I}if(j=S,n(_,I))return j;var q=x(I);return g!==void 0&&g(j,q)?(_=I,j):(_=I,S=q)}var T=!1,_,S,C=m===void 0?null:m;return[function(){return E(h())},C===null?void 0:function(){return E(C())}]},[h,m,x,g]);var w=s(f,y[0],y[1]);return i(function(){b.hasValue=!0,b.value=w},[w]),c(w),w},ob}var FR;function Wue(){return FR||(FR=1,ib.exports=$ue()),ib.exports}var Gue=Wue(),Kue=(...e)=>t=>{e.forEach(r=>{typeof r=="function"?r(t):r&&(r.current=t)})},Xue=({contentComponent:e})=>{const t=XI.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return d.jsx(d.Fragment,{children:Object.values(t)})};function Yue(){const e=new Set;let t={};return{subscribe(r){return e.add(r),()=>{e.delete(r)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(r,n){t={...t,[r]:Wj.createPortal(n.reactElement,n.element,r)},e.forEach(s=>s())},removeRenderer(r){const n={...t};delete n[r],t=n,e.forEach(s=>s())}}}var Jue=class extends Ve.Component{constructor(e){var t;super(e),this.editorContentRef=Ve.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&((e=t.view.dom)!=null&&e.parentNode)){if(t.contentComponent)return;const r=this.editorContentRef.current;r.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:r}),t.contentComponent=Yue(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.parentNode))return;const r=document.createElement("div");r.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:r})}catch{}}}render(){const{editor:e,innerRef:t,...r}=this.props;return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:Kue(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&d.jsx(Xue,{contentComponent:e.contentComponent})]})}},Zue=te.forwardRef((e,t)=>{const r=Ve.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Ve.createElement(Jue,{key:r,innerRef:t,...e})}),aF=Ve.memo(Zue),Que=typeof window<"u"?te.useLayoutEffect:te.useEffect,efe=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}};function tfe(e){var t;const[r]=te.useState(()=>new efe(e.editor)),n=Gue.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:Vue);return Que(()=>r.watch(e.editor),[e.editor,r]),te.useDebugValue(n),n}var rfe=!1,sE=typeof window>"u",nfe=sE||!!(typeof window<"u"&&window.next),sfe=class iF{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?sE||nfe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...n)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)==null?void 0:a.call(s,...n)},onBlur:(...n)=>{var s,a;return(a=(s=this.options.current).onBlur)==null?void 0:a.call(s,...n)},onCreate:(...n)=>{var s,a;return(a=(s=this.options.current).onCreate)==null?void 0:a.call(s,...n)},onDestroy:(...n)=>{var s,a;return(a=(s=this.options.current).onDestroy)==null?void 0:a.call(s,...n)},onFocus:(...n)=>{var s,a;return(a=(s=this.options.current).onFocus)==null?void 0:a.call(s,...n)},onSelectionUpdate:(...n)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)==null?void 0:a.call(s,...n)},onTransaction:(...n)=>{var s,a;return(a=(s=this.options.current).onTransaction)==null?void 0:a.call(s,...n)},onUpdate:(...n)=>{var s,a;return(a=(s=this.options.current).onUpdate)==null?void 0:a.call(s,...n)},onContentError:(...n)=>{var s,a;return(a=(s=this.options.current).onContentError)==null?void 0:a.call(s,...n)},onDrop:(...n)=>{var s,a;return(a=(s=this.options.current).onDrop)==null?void 0:a.call(s,...n)},onPaste:(...n)=>{var s,a;return(a=(s=this.options.current).onPaste)==null?void 0:a.call(s,...n)},onDelete:(...n)=>{var s,a;return(a=(s=this.options.current).onDelete)==null?void 0:a.call(s,...n)}};return new Xce(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,r){return Object.keys(t).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&t.extensions&&r.extensions?t.extensions.length!==r.extensions.length?!1:t.extensions.every((s,a)=>{var i;return s===((i=r.extensions)==null?void 0:i[a])}):t[n]===r[n])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?iF.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((n,s)=>n===t[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function afe(e={},t=[]){const r=te.useRef(e);r.current=e;const[n]=te.useState(()=>new sfe(r)),s=XI.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return te.useDebugValue(s),te.useEffect(n.onRender(t)),tfe({editor:s,selector:({transactionNumber:a})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&a===0?0:a+1}),s}var oF=te.createContext({editor:null});oF.Consumer;var ife=te.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),ofe=()=>te.useContext(ife);Ve.forwardRef((e,t)=>{const{onDragStart:r}=ofe(),n=e.as||"div";return d.jsx(n,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...e.style}})});Ve.createContext({markViewContentRef:()=>{}});var cS=te.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});cS.displayName="TiptapContext";var lfe=()=>te.useContext(cS);function lF({editor:e,instance:t,children:r}){const n=e??t;if(!n)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const s=te.useMemo(()=>({editor:n}),[n]),a=te.useMemo(()=>({editor:n}),[n]);return d.jsx(oF.Provider,{value:a,children:d.jsx(cS.Provider,{value:s,children:r})})}lF.displayName="Tiptap";function cF({...e}){const{editor:t}=lfe();return d.jsx(aF,{editor:t,...e})}cF.displayName="Tiptap.Content";Object.assign(lF,{Content:cF});var Og=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:r,...n}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,n,r]},cfe=/^\s*>\s$/,ufe=Cs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return Og("blockquote",{...Pr(this.options.HTMLAttributes,e),children:Og("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const r=">",n=[];return e.content.forEach(s=>{const o=t.renderChildren([s]).split(`
`).map(c=>c.trim()===""?r:`${r} ${c}`);n.push(o.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[nf({find:cfe,type:this.type})]}}),ffe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,dfe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,hfe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,pfe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,mfe=Uc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return Og("strong",{...Pr(this.options.HTMLAttributes,e),children:Og("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[rf({find:ffe,type:this.type}),rf({find:hfe,type:this.type})]},addPasteRules(){return[Oc({find:dfe,type:this.type}),Oc({find:pfe,type:this.type})]}}),gfe=/(^|[^`])`([^`]+)`(?!`)$/,xfe=/(^|[^`])`([^`]+)`(?!`)/g,yfe=Uc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Pr(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[rf({find:gfe,type:this.type})]},addPasteRules(){return[Oc({find:xfe,type:this.type})]}}),lb=4,vfe=/^```([a-z]+)?[\s\n]$/,bfe=/^~~~([a-z]+)?[\s\n]$/,wfe=Cs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:lb,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:r}=this.options;if(!r)return null;const a=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(i=>i.startsWith(r)).map(i=>i.replace(r,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Pr(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var r;return((r=e.raw)==null?void 0:r.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var r;let n="";const s=((r=e.attrs)==null?void 0:r.language)||"";return e.content?n=[`\`\`\`${s}`,t.renderChildren(e.content),"```"].join(`
`):n=`\`\`\`${s}

\`\`\``,n},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,r=t.pos===1;return!e||t.parent.type.name!==this.name?!1:r||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:lb,{state:n}=e,{selection:s}=n,{$from:a,empty:i}=s;if(a.parent.type!==this.type)return!1;const o=" ".repeat(r);return i?e.commands.insertContent(o):e.commands.command(({tr:c})=>{const{from:f,to:h}=s,g=n.doc.textBetween(f,h,`
`,`
`).split(`
`).map(y=>o+y).join(`
`);return c.replaceWith(f,h,n.schema.text(g)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:lb,{state:n}=e,{selection:s}=n,{$from:a,empty:i}=s;return a.parent.type!==this.type?!1:i?e.commands.command(({tr:o})=>{var c;const{pos:f}=a,h=a.start(),m=a.end(),g=n.doc.textBetween(h,m,`
`,`
`).split(`
`);let y=0,b=0;const w=f-h;for(let I=0;I<g.length;I+=1){if(b+g[I].length>=w){y=I;break}b+=g[I].length+1}const T=((c=g[y].match(/^ */))==null?void 0:c[0])||"",_=Math.min(T.length,r);if(_===0)return!0;let S=h;for(let I=0;I<y;I+=1)S+=g[I].length+1;return o.delete(S,S+_),f-S<=_&&o.setSelection(xt.create(o.doc,S)),!0}):e.commands.command(({tr:o})=>{const{from:c,to:f}=s,x=n.doc.textBetween(c,f,`
`,`
`).split(`
`).map(g=>{var y;const b=((y=g.match(/^ */))==null?void 0:y[0])||"",w=Math.min(b.length,r);return g.slice(w)}).join(`
`);return o.replaceWith(c,f,n.schema.text(x)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:r}=t,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const a=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith(`

`);return!a||!i?!1:e.chain().command(({tr:o})=>(o.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:r,doc:n}=t,{$from:s,empty:a}=r;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const o=s.after();return o===void 0?!1:n.nodeAt(o)?e.commands.command(({tr:f})=>(f.setSelection(Ct.near(n.resolve(o))),!0)):e.commands.exitCode()}}},addInputRules(){return[rE({find:vfe,type:this.type,getAttributes:e=>({language:e[1]})}),rE({find:bfe,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Er({key:new ln("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const r=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,a=s==null?void 0:s.mode;if(!r||!a)return!1;const{tr:i,schema:o}=e.state,c=o.text(r.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:a},c)),i.selection.$from.parent.type!==this.type&&i.setSelection(xt.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),e.dispatch(i),!0}}})]}}),Efe=Cs.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),_fe=Cs.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Pr(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:s,storedMarks:a}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:o}=n.extensionManager,c=a||s.$to.parentOffset&&s.$from.marks();return t().insertContent({type:this.name}).command(({tr:f,dispatch:h})=>{if(h&&c&&i){const m=c.filter(x=>o.includes(x.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Sfe=Cs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Pr(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var r;const n=(r=e.attrs)!=null&&r.level?parseInt(e.attrs.level,10):1,s="#".repeat(n);return e.content?`${s} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>rE({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),Tfe=Cs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Pr(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!Zce(t,t.schema.nodes[this.name]))return!1;const{selection:r}=t,{$to:n}=r,s=e();return BM(r)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:a,tr:i,dispatch:o})=>{if(o){const{$to:c}=i.selection,f=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?i.setSelection(xt.create(i.doc,c.pos+1)):c.nodeAfter.isBlock?i.setSelection(ft.create(i.doc,c.pos)):i.setSelection(xt.create(i.doc,c.pos));else{const h=a.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=h==null?void 0:h.create();m&&(i.insert(f,m),i.setSelection(xt.create(i.doc,f+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[rF({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Nfe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Afe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Cfe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,kfe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Rfe=Uc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Pr(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[rf({find:Nfe,type:this.type}),rf({find:Cfe,type:this.type})]},addPasteRules(){return[Oc({find:Afe,type:this.type}),Oc({find:kfe,type:this.type})]}});const Ofe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",jfe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",aE="numeric",iE="ascii",oE="alpha",ph="asciinumeric",Xd="alphanumeric",lE="domain",uF="emoji",Dfe="scheme",Ife="slashscheme",cb="whitespace";function Mfe(e,t){return e in t||(t[e]=[]),t[e]}function ac(e,t,r){t[aE]&&(t[ph]=!0,t[Xd]=!0),t[iE]&&(t[ph]=!0,t[oE]=!0),t[ph]&&(t[Xd]=!0),t[oE]&&(t[Xd]=!0),t[Xd]&&(t[lE]=!0),t[uF]&&(t[lE]=!0);for(const n in t){const s=Mfe(n,r);s.indexOf(e)<0&&s.push(e)}}function Ffe(e,t){const r={};for(const n in t)t[n].indexOf(e)>=0&&(r[n]=!0);return r}function ws(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}ws.groups={};ws.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let n=0;n<t.jr.length;n++){const s=t.jr[n][0],a=t.jr[n][1];if(a&&s.test(e))return a}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,n){for(let s=0;s<e.length;s++)this.tt(e[s],t,r,n)},tr(e,t,r,n){n=n||ws.groups;let s;return t&&t.j?s=t:(s=new ws(t),r&&n&&ac(t,r,n)),this.jr.push([e,s]),s},ts(e,t,r,n){let s=this;const a=e.length;if(!a)return s;for(let i=0;i<a-1;i++)s=s.tt(e[i]);return s.tt(e[a-1],t,r,n)},tt(e,t,r,n){n=n||ws.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const a=t;let i,o=s.go(e);if(o?(i=new ws,Object.assign(i.j,o.j),i.jr.push.apply(i.jr,o.jr),i.jd=o.jd,i.t=o.t):i=new ws,a){if(n)if(i.t&&typeof i.t=="string"){const c=Object.assign(Ffe(i.t,n),r);ac(a,c,n)}else r&&ac(a,r,n);i.t=a}return s.j[e]=i,i}};const Nt=(e,t,r,n,s)=>e.ta(t,r,n,s),Tr=(e,t,r,n,s)=>e.tr(t,r,n,s),PR=(e,t,r,n,s)=>e.ts(t,r,n,s),Xe=(e,t,r,n,s)=>e.tt(t,r,n,s),Wi="WORD",cE="UWORD",fF="ASCIINUMERICAL",dF="ALPHANUMERICAL",Vh="LOCALHOST",uE="TLD",fE="UTLD",qm="SCHEME",Ou="SLASH_SCHEME",uS="NUM",dE="WS",fS="NL",mh="OPENBRACE",gh="CLOSEBRACE",jg="OPENBRACKET",Dg="CLOSEBRACKET",Ig="OPENPAREN",Mg="CLOSEPAREN",Fg="OPENANGLEBRACKET",Pg="CLOSEANGLEBRACKET",Lg="FULLWIDTHLEFTPAREN",Bg="FULLWIDTHRIGHTPAREN",Ug="LEFTCORNERBRACKET",zg="RIGHTCORNERBRACKET",Hg="LEFTWHITECORNERBRACKET",qg="RIGHTWHITECORNERBRACKET",Vg="FULLWIDTHLESSTHAN",$g="FULLWIDTHGREATERTHAN",Wg="AMPERSAND",Gg="APOSTROPHE",Kg="ASTERISK",Go="AT",Xg="BACKSLASH",Yg="BACKTICK",Jg="CARET",Zo="COLON",dS="COMMA",Zg="DOLLAR",ci="DOT",Qg="EQUALS",hS="EXCLAMATION",da="HYPHEN",xh="PERCENT",ex="PIPE",tx="PLUS",rx="POUND",yh="QUERY",pS="QUOTE",hF="FULLWIDTHMIDDLEDOT",mS="SEMI",ui="SLASH",vh="TILDE",nx="UNDERSCORE",pF="EMOJI",sx="SYM";var mF=Object.freeze({__proto__:null,ALPHANUMERICAL:dF,AMPERSAND:Wg,APOSTROPHE:Gg,ASCIINUMERICAL:fF,ASTERISK:Kg,AT:Go,BACKSLASH:Xg,BACKTICK:Yg,CARET:Jg,CLOSEANGLEBRACKET:Pg,CLOSEBRACE:gh,CLOSEBRACKET:Dg,CLOSEPAREN:Mg,COLON:Zo,COMMA:dS,DOLLAR:Zg,DOT:ci,EMOJI:pF,EQUALS:Qg,EXCLAMATION:hS,FULLWIDTHGREATERTHAN:$g,FULLWIDTHLEFTPAREN:Lg,FULLWIDTHLESSTHAN:Vg,FULLWIDTHMIDDLEDOT:hF,FULLWIDTHRIGHTPAREN:Bg,HYPHEN:da,LEFTCORNERBRACKET:Ug,LEFTWHITECORNERBRACKET:Hg,LOCALHOST:Vh,NL:fS,NUM:uS,OPENANGLEBRACKET:Fg,OPENBRACE:mh,OPENBRACKET:jg,OPENPAREN:Ig,PERCENT:xh,PIPE:ex,PLUS:tx,POUND:rx,QUERY:yh,QUOTE:pS,RIGHTCORNERBRACKET:zg,RIGHTWHITECORNERBRACKET:qg,SCHEME:qm,SEMI:mS,SLASH:ui,SLASH_SCHEME:Ou,SYM:sx,TILDE:vh,TLD:uE,UNDERSCORE:nx,UTLD:fE,UWORD:cE,WORD:Wi,WS:dE});const Hi=/[a-z]/,jd=new RegExp("\\p{L}","u"),ub=new RegExp("\\p{Emoji}","u"),qi=/\d/,fb=/\s/,LR="\r",db=`
`,Pfe="",Lfe="",hb="";let dm=null,hm=null;function Bfe(e=[]){const t={};ws.groups=t;const r=new ws;dm==null&&(dm=BR(Ofe)),hm==null&&(hm=BR(jfe)),Xe(r,"'",Gg),Xe(r,"{",mh),Xe(r,"}",gh),Xe(r,"[",jg),Xe(r,"]",Dg),Xe(r,"(",Ig),Xe(r,")",Mg),Xe(r,"<",Fg),Xe(r,">",Pg),Xe(r,"",Lg),Xe(r,"",Bg),Xe(r,"",Ug),Xe(r,"",zg),Xe(r,"",Hg),Xe(r,"",qg),Xe(r,"",Vg),Xe(r,"",$g),Xe(r,"&",Wg),Xe(r,"*",Kg),Xe(r,"@",Go),Xe(r,"`",Yg),Xe(r,"^",Jg),Xe(r,":",Zo),Xe(r,",",dS),Xe(r,"$",Zg),Xe(r,".",ci),Xe(r,"=",Qg),Xe(r,"!",hS),Xe(r,"-",da),Xe(r,"%",xh),Xe(r,"|",ex),Xe(r,"+",tx),Xe(r,"#",rx),Xe(r,"?",yh),Xe(r,'"',pS),Xe(r,"/",ui),Xe(r,";",mS),Xe(r,"~",vh),Xe(r,"_",nx),Xe(r,"\\",Xg),Xe(r,"",hF);const n=Tr(r,qi,uS,{[aE]:!0});Tr(n,qi,n);const s=Tr(n,Hi,fF,{[ph]:!0}),a=Tr(n,jd,dF,{[Xd]:!0}),i=Tr(r,Hi,Wi,{[iE]:!0});Tr(i,qi,s),Tr(i,Hi,i),Tr(s,qi,s),Tr(s,Hi,s);const o=Tr(r,jd,cE,{[oE]:!0});Tr(o,Hi),Tr(o,qi,a),Tr(o,jd,o),Tr(a,qi,a),Tr(a,Hi),Tr(a,jd,a);const c=Xe(r,db,fS,{[cb]:!0}),f=Xe(r,LR,dE,{[cb]:!0}),h=Tr(r,fb,dE,{[cb]:!0});Xe(r,hb,h),Xe(f,db,c),Xe(f,hb,h),Tr(f,fb,h),Xe(h,LR),Xe(h,db),Tr(h,fb,h),Xe(h,hb,h);const m=Tr(r,ub,pF,{[uF]:!0});Xe(m,"#"),Tr(m,ub,m),Xe(m,Pfe,m);const x=Xe(m,Lfe);Xe(x,"#"),Tr(x,ub,m);const g=[[Hi,i],[qi,s]],y=[[Hi,null],[jd,o],[qi,a]];for(let b=0;b<dm.length;b++)qo(r,dm[b],uE,Wi,g);for(let b=0;b<hm.length;b++)qo(r,hm[b],fE,cE,y);ac(uE,{tld:!0,ascii:!0},t),ac(fE,{utld:!0,alpha:!0},t),qo(r,"file",qm,Wi,g),qo(r,"mailto",qm,Wi,g),qo(r,"http",Ou,Wi,g),qo(r,"https",Ou,Wi,g),qo(r,"ftp",Ou,Wi,g),qo(r,"ftps",Ou,Wi,g),ac(qm,{scheme:!0,ascii:!0},t),ac(Ou,{slashscheme:!0,ascii:!0},t),e=e.sort((b,w)=>b[0]>w[0]?1:-1);for(let b=0;b<e.length;b++){const w=e[b][0],T=e[b][1]?{[Dfe]:!0}:{[Ife]:!0};w.indexOf("-")>=0?T[lE]=!0:Hi.test(w)?qi.test(w)?T[ph]=!0:T[iE]=!0:T[aE]=!0,PR(r,w,w,T)}return PR(r,"localhost",Vh,{ascii:!0}),r.jd=new ws(sx),{start:r,tokens:Object.assign({groups:t},mF)}}function gF(e,t){const r=Ufe(t.replace(/[A-Z]/g,o=>o.toLowerCase())),n=r.length,s=[];let a=0,i=0;for(;i<n;){let o=e,c=null,f=0,h=null,m=-1,x=-1;for(;i<n&&(c=o.go(r[i]));)o=c,o.accepts()?(m=0,x=0,h=o):m>=0&&(m+=r[i].length,x++),f+=r[i].length,a+=r[i].length,i++;a-=m,i-=x,f-=m,s.push({t:h.t,v:t.slice(a-f,a),s:a-f,e:a})}return s}function Ufe(e){const t=[],r=e.length;let n=0;for(;n<r;){let s=e.charCodeAt(n),a,i=s<55296||s>56319||n+1===r||(a=e.charCodeAt(n+1))<56320||a>57343?e[n]:e.slice(n,n+2);t.push(i),n+=i.length}return t}function qo(e,t,r,n,s){let a;const i=t.length;for(let o=0;o<i-1;o++){const c=t[o];e.j[c]?a=e.j[c]:(a=new ws(n),a.jr=s.slice(),e.j[c]=a),e=a}return a=new ws(r),a.jr=s.slice(),e.j[t[i-1]]=a,a}function BR(e){const t=[],r=[];let n=0,s="0123456789";for(;n<e.length;){let a=0;for(;s.indexOf(e[n+a])>=0;)a++;if(a>0){t.push(r.join(""));for(let i=parseInt(e.substring(n,n+a),10);i>0;i--)r.pop();n+=a}else r.push(e[n]),n++}return t}const $h={defaultProtocol:"http",events:null,format:UR,formatHref:UR,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function gS(e,t=null){let r=Object.assign({},$h);e&&(r=Object.assign(r,e instanceof gS?e.o:e));const n=r.ignoreTags,s=[];for(let a=0;a<n.length;a++)s.push(n[a].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=s}gS.prototype={o:$h,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const n=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:$h[e],typeof s=="function"&&n&&(s=s(t,r))):typeof s=="function"&&n&&(s=s(t,r.t,r)),s)},getObj(e,t,r){let n=this.o[e];return typeof n=="function"&&t!=null&&(n=n(t,r.t,r)),n},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function UR(e){return e}function xF(e,t){this.t="token",this.v=e,this.tk=t}xF.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),n=e.get("format",t,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=$h.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",r,this),s=e.get("tagName",r,t),a=this.toFormattedString(e),i={},o=e.get("className",r,t),c=e.get("target",r,t),f=e.get("rel",r,t),h=e.getObj("attributes",r,t),m=e.getObj("events",r,t);return i.href=n,o&&(i.class=o),c&&(i.target=c),f&&(i.rel=f),h&&Object.assign(i,h),{tagName:s,attributes:i,content:a,eventListeners:m}}};function Yx(e,t){class r extends xF{constructor(s,a){super(s,a),this.t=e}}for(const n in t)r.prototype[n]=t[n];return r.t=e,r}const zR=Yx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),HR=Yx("text"),zfe=Yx("nl"),pm=Yx("url",{isLink:!0,toHref(e=$h.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Vh&&e[1].t===Zo}}),ca=e=>new ws(e);function Hfe({groups:e}){const t=e.domain.concat([Wg,Kg,Go,Xg,Yg,Jg,Zg,Qg,da,uS,xh,ex,tx,rx,ui,sx,vh,nx]),r=[Gg,Zo,dS,ci,hS,xh,yh,pS,mS,Fg,Pg,mh,gh,Dg,jg,Ig,Mg,Lg,Bg,Ug,zg,Hg,qg,Vg,$g],n=[Wg,Gg,Kg,Xg,Yg,Jg,Zg,Qg,da,mh,gh,xh,ex,tx,rx,yh,ui,sx,vh,nx],s=ca(),a=Xe(s,vh);Nt(a,n,a),Nt(a,e.domain,a);const i=ca(),o=ca(),c=ca();Nt(s,e.domain,i),Nt(s,e.scheme,o),Nt(s,e.slashscheme,c),Nt(i,n,a),Nt(i,e.domain,i);const f=Xe(i,Go);Xe(a,Go,f),Xe(o,Go,f),Xe(c,Go,f);const h=Xe(a,ci);Nt(h,n,a),Nt(h,e.domain,a);const m=ca();Nt(f,e.domain,m),Nt(m,e.domain,m);const x=Xe(m,ci);Nt(x,e.domain,m);const g=ca(zR);Nt(x,e.tld,g),Nt(x,e.utld,g),Xe(f,Vh,g);const y=Xe(m,da);Xe(y,da,y),Nt(y,e.domain,m),Nt(g,e.domain,m),Xe(g,ci,x),Xe(g,da,y);const b=Xe(g,Zo);Nt(b,e.numeric,zR);const w=Xe(i,da),E=Xe(i,ci);Xe(w,da,w),Nt(w,e.domain,i),Nt(E,n,a),Nt(E,e.domain,i);const T=ca(pm);Nt(E,e.tld,T),Nt(E,e.utld,T),Nt(T,e.domain,i),Nt(T,n,a),Xe(T,ci,E),Xe(T,da,w),Xe(T,Go,f);const _=Xe(T,Zo),S=ca(pm);Nt(_,e.numeric,S);const C=ca(pm),I=ca();Nt(C,t,C),Nt(C,r,I),Nt(I,t,C),Nt(I,r,I),Xe(T,ui,C),Xe(S,ui,C);const j=Xe(o,Zo),q=Xe(c,Zo),D=Xe(q,ui),Q=Xe(D,ui);Nt(o,e.domain,i),Xe(o,ci,E),Xe(o,da,w),Nt(c,e.domain,i),Xe(c,ci,E),Xe(c,da,w),Nt(j,e.domain,C),Xe(j,ui,C),Xe(j,yh,C),Nt(Q,e.domain,C),Nt(Q,t,C),Xe(Q,ui,C);const ae=[[mh,gh],[jg,Dg],[Ig,Mg],[Fg,Pg],[Lg,Bg],[Ug,zg],[Hg,qg],[Vg,$g]];for(let F=0;F<ae.length;F++){const[X,M]=ae[F],se=Xe(C,X);Xe(I,X,se),Xe(se,M,C);const J=ca(pm);Nt(se,t,J);const Z=ca();Nt(se,r),Nt(J,t,J),Nt(J,r,Z),Nt(Z,t,J),Nt(Z,r,Z),Xe(J,M,C),Xe(Z,M,C)}return Xe(s,Vh,T),Xe(s,fS,zfe),{start:s,tokens:mF}}function qfe(e,t,r){let n=r.length,s=0,a=[],i=[];for(;s<n;){let o=e,c=null,f=null,h=0,m=null,x=-1;for(;s<n&&!(c=o.go(r[s].t));)i.push(r[s++]);for(;s<n&&(f=c||o.go(r[s].t));)c=null,o=f,o.accepts()?(x=0,m=o):x>=0&&x++,s++,h++;if(x<0)s-=h,s<n&&(i.push(r[s]),s++);else{i.length>0&&(a.push(pb(HR,t,i)),i=[]),s-=x,h-=x;const g=m.t,y=r.slice(s-h,s);a.push(pb(g,t,y))}}return i.length>0&&a.push(pb(HR,t,i)),a}function pb(e,t,r){const n=r[0].s,s=r[r.length-1].e,a=t.slice(n,s);return new e(a,r)}const Vfe=typeof console<"u"&&console&&console.warn||(()=>{}),$fe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",mr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Wfe(){return ws.groups={},mr.scanner=null,mr.parser=null,mr.tokenQueue=[],mr.pluginQueue=[],mr.customSchemes=[],mr.initialized=!1,mr}function qR(e,t=!1){if(mr.initialized&&Vfe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${$fe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);mr.customSchemes.push([e,t])}function Gfe(){mr.scanner=Bfe(mr.customSchemes);for(let e=0;e<mr.tokenQueue.length;e++)mr.tokenQueue[e][1]({scanner:mr.scanner});mr.parser=Hfe(mr.scanner.tokens);for(let e=0;e<mr.pluginQueue.length;e++)mr.pluginQueue[e][1]({scanner:mr.scanner,parser:mr.parser});return mr.initialized=!0,mr}function xS(e){return mr.initialized||Gfe(),qfe(mr.parser.start,e,gF(mr.scanner.start,e))}xS.scan=gF;function yF(e,t=null,r=null){if(t&&typeof t=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);r=t,t=null}const n=new gS(r),s=xS(e),a=[];for(let i=0;i<s.length;i++){const o=s[i];o.isLink&&(!t||o.t===t)&&n.check(o)&&a.push(o.toFormattedObject(n))}return a}var yS="[\0- -\u2029]",Kfe=new RegExp(yS),Xfe=new RegExp(`${yS}$`),Yfe=new RegExp(yS,"g");function Jfe(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function Zfe(e){return new Er({key:new ln("autolink"),appendTransaction:(t,r,n)=>{const s=t.some(f=>f.docChanged)&&!r.doc.eq(n.doc),a=t.some(f=>f.getMeta("preventAutolink"));if(!s||a)return;const{tr:i}=n,o=OM(r.doc,[...t]);if(LM(o).forEach(({newRange:f})=>{const h=Jle(n.doc,f,g=>g.isTextblock);let m,x;if(h.length>1)m=h[0],x=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(h.length){const g=n.doc.textBetween(f.from,f.to," "," ");if(!Xfe.test(g))return;m=h[0],x=n.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&x){const g=x.split(Kfe).filter(Boolean);if(g.length<=0)return!1;const y=g[g.length-1],b=m.pos+x.lastIndexOf(y);if(!y)return!1;const w=xS(y).map(E=>E.toObject(e.defaultProtocol));if(!Jfe(w))return!1;w.filter(E=>E.isLink).map(E=>({...E,from:b+E.start+1,to:b+E.end+1})).filter(E=>n.schema.marks.code?!n.doc.rangeHasMark(E.from,E.to,n.schema.marks.code):!0).filter(E=>e.validate(E.value)).filter(E=>e.shouldAutoLink(E.value)).forEach(E=>{sS(E.from,E.to,n.doc).some(T=>T.mark.type===e.type)||i.addMark(E.from,E.to,e.type.create({href:E.href}))})}}),!!i.steps.length)return i}})}function Qfe(e){return new Er({key:new ln("handleClickLink"),props:{handleClick:(t,r,n)=>{var s,a;if(n.button!==0||!t.editable)return!1;let i=null;if(n.target instanceof HTMLAnchorElement)i=n.target;else{const c=n.target;if(!c)return!1;const f=e.editor.view.dom;i=c.closest("a"),i&&!f.contains(i)&&(i=null)}if(!i)return!1;let o=!1;if(e.enableClickSelection&&(o=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){const c=PM(t.state,e.type.name),f=(s=i.href)!=null?s:c.href,h=(a=i.target)!=null?a:c.target;f&&(window.open(f,h),o=!0)}return o}}})}function ede(e){return new Er({key:new ln("handlePasteLink"),props:{handlePaste:(t,r,n)=>{const{shouldAutoLink:s}=e,{state:a}=t,{selection:i}=a,{empty:o}=i;if(o)return!1;let c="";n.content.forEach(h=>{c+=h.textContent});const f=yF(c,{defaultProtocol:e.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!f||s!==void 0&&!s(f.value)?!1:e.editor.commands.setMark(e.type,{href:f.href})}}})}function Gl(e,t){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&r.push(s)}),!e||e.replace(Yfe,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var vF=Uc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){qR(e);return}qR(e.scheme,e.optionalSlashes)})},onDestroy(){Wfe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Gl(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),r=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||r&&!e.includes("@"))return!0;const s=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:r=>!!Gl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Gl(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Pr(this.options.HTMLAttributes,e),0]:["a",Pr(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var r,n,s,a;const i=(n=(r=e.attrs)==null?void 0:r.href)!=null?n:"",o=(a=(s=e.attrs)==null?void 0:s.title)!=null?a:"",c=t.renderChildren(e);return o?`[${c}](${i} "${o}")`:`[${c}](${i})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Gl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:r}=e||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Gl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Oc({find:e=>{const t=[];if(e){const{protocols:r,defaultProtocol:n}=this.options,s=yF(e).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:i=>!!Gl(i,r),protocols:r,defaultProtocol:n}));s.length&&s.forEach(a=>{this.options.shouldAutoLink(a.value)&&t.push({text:a.value,data:{href:a.href},index:a.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:r}=this.options;return this.options.autolink&&e.push(Zfe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!Gl(s,t),protocols:t,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),e.push(Qfe({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(ede({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),tde=vF,rde=Object.defineProperty,nde=(e,t)=>{for(var r in t)rde(e,r,{get:t[r],enumerable:!0})},sde="listItem",VR="textStyle",$R=/^\s*([-+*])\s$/,bF=Cs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Pr(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(sde,this.editor.getAttributes(VR)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=nf({find:$R,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=nf({find:$R,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(VR),editor:this.editor})),[e]}}),wF=Cs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Pr(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let r=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(s=>s.type==="paragraph"))r=t.parseChildren(e.tokens);else{const s=e.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(r=[{type:"paragraph",content:t.parseInline(s.tokens)}],e.tokens.length>1){const i=e.tokens.slice(1),o=t.parseChildren(i);r.push(...o)}}else r=t.parseChildren(e.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(e,t,r)=>lS(e,t,n=>{var s,a;return n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${(((a=(s=n.meta)==null?void 0:s.parentAttrs)==null?void 0:a.start)||1)+n.index}. `:"- "},r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ade={};nde(ade,{findListItemPos:()=>w0,getNextListDepth:()=>vS,handleBackspace:()=>hE,handleDelete:()=>pE,hasListBefore:()=>EF,hasListItemAfter:()=>ide,hasListItemBefore:()=>_F,listItemHasSubList:()=>SF,nextListIsDeeper:()=>TF,nextListIsHigher:()=>NF});var w0=(e,t)=>{const{$from:r}=t.selection,n=Qr(e,t.schema);let s=null,a=r.depth,i=r.pos,o=null;for(;a>0&&o===null;)s=r.node(a),s.type===n?o=a:(a-=1,i-=1);return o===null?null:{$pos:t.doc.resolve(i),depth:o}},vS=(e,t)=>{const r=w0(e,t);if(!r)return!1;const[,n]=oce(t,e,r.$pos.pos+4);return n},EF=(e,t,r)=>{const{$anchor:n}=e.selection,s=Math.max(0,n.pos-2),a=e.doc.resolve(s).node();return!(!a||!r.includes(a.type.name))},_F=(e,t)=>{var r;const{$anchor:n}=t.selection,s=t.doc.resolve(n.pos-2);return!(s.index()===0||((r=s.nodeBefore)==null?void 0:r.type.name)!==e)},SF=(e,t,r)=>{if(!r)return!1;const n=Qr(e,t.schema);let s=!1;return r.descendants(a=>{a.type===n&&(s=!0)}),s},hE=(e,t,r)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!_l(e.state,t)&&EF(e.state,t,r)){const{$anchor:o}=e.state.selection,c=e.state.doc.resolve(o.before()-1),f=[];c.node().descendants((x,g)=>{x.type.name===t&&f.push({node:x,pos:g})});const h=f.at(-1);if(!h)return!1;const m=e.state.doc.resolve(c.start()+h.pos+1);return e.chain().cut({from:o.start()-1,to:o.end()+1},m.end()).joinForward().run()}if(!_l(e.state,t)||!fce(e.state))return!1;const n=w0(t,e.state);if(!n)return!1;const a=e.state.doc.resolve(n.$pos.pos-2).node(n.depth),i=SF(t,e.state,a);return _F(t,e.state)&&!i?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},TF=(e,t)=>{const r=vS(e,t),n=w0(e,t);return!n||!r?!1:r>n.depth},NF=(e,t)=>{const r=vS(e,t),n=w0(e,t);return!n||!r?!1:r<n.depth},pE=(e,t)=>{if(!_l(e.state,t)||!uce(e.state,t))return!1;const{selection:r}=e.state,{$from:n,$to:s}=r;return!r.empty&&n.sameParent(s)?!1:TF(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():NF(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},ide=(e,t)=>{var r;const{$anchor:n}=t.selection,s=t.doc.resolve(n.pos-n.parentOffset-2);return!(s.index()===s.parent.childCount-1||((r=s.nodeAfter)==null?void 0:r.type.name)!==e)},AF=Lr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&pE(e,r)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&pE(e,r)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&hE(e,r,n)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&hE(e,r,n)&&(t=!0)}),t}}}}),WR=/^(\s*)(\d+)\.\s+(.*)$/,ode=/^\s/;function lde(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r],a=s.match(WR);if(!a)break;const[,i,o,c]=a,f=i.length;let h=c,m=r+1;const x=[s];for(;m<e.length;){const g=e[m];if(g.match(WR))break;if(g.trim()==="")x.push(g),h+=`
`,m+=1;else if(g.match(ode))x.push(g),h+=`
${g.slice(f+2)}`,m+=1;else break}t.push({indent:f,number:parseInt(o,10),content:h.trim(),raw:x.join(`
`)}),n=m,r=m}return[t,n]}function CF(e,t,r){var n;const s=[];let a=0;for(;a<e.length;){const i=e[a];if(i.indent===t){const o=i.content.split(`
`),c=((n=o[0])==null?void 0:n.trim())||"",f=[];c&&f.push({type:"paragraph",raw:c,tokens:r.inlineTokens(c)});const h=o.slice(1).join(`
`).trim();if(h){const g=r.blockTokens(h);f.push(...g)}let m=a+1;const x=[];for(;m<e.length&&e[m].indent>t;)x.push(e[m]),m+=1;if(x.length>0){const g=Math.min(...x.map(b=>b.indent)),y=CF(x,g,r);f.push({type:"list",ordered:!0,start:x[0].number,items:y,raw:x.map(b=>b.raw).join(`
`)})}s.push({type:"list_item",raw:i.raw,tokens:f}),a=m}else a+=1}return s}function cde(e,t){return e.map(r=>{if(r.type!=="list_item")return t.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")n.push(...t.parseChildren([s]));else if(s.type==="text"&&s.tokens){const a=t.parseChildren([s]);n.push({type:"paragraph",content:a})}else{const a=t.parseChildren([s]);a.length>0&&n.push(...a)}}),{type:"listItem",content:n}})}var ude="listItem",GR="textStyle",KR=/^(\d+)\.\s$/,kF=Cs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...r}=e;return t===1?["ol",Pr(this.options.HTMLAttributes,r),0]:["ol",Pr(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const r=e.start||1,n=e.items?cde(e.items,t):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),r=t==null?void 0:t.index;return r!==void 0?r:-1},tokenize:(e,t,r)=>{var n;const s=e.split(`
`),[a,i]=lde(s);if(a.length===0)return;const o=CF(a,0,r);return o.length===0?void 0:{type:"list",ordered:!0,start:((n=a[0])==null?void 0:n.number)||1,items:o,raw:s.slice(0,i).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ude,this.editor.getAttributes(GR)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=nf({find:KR,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=nf({find:KR,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(GR)}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1],editor:this.editor})),[e]}}),fde=/^\s*(\[([( |x])?\])\s$/,dde=Cs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Pr(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const r=[];if(e.tokens&&e.tokens.length>0?r.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?r.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):r.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const n=t.parseChildren(e.nestedTokens);r.push(...n)}return t.createNode("taskItem",{checked:e.checked||!1},r)},renderMarkdown:(e,t)=>{var r;const s=`- [${(r=e.attrs)!=null&&r.checked?"x":" "}] `;return lS(e,t,s)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:r,editor:n})=>{const s=document.createElement("li"),a=document.createElement("label"),i=document.createElement("span"),o=document.createElement("input"),c=document.createElement("div"),f=m=>{var x,g;o.ariaLabel=((g=(x=this.options.a11y)==null?void 0:x.checkboxLabel)==null?void 0:g.call(x,m,o.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};f(e),a.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",m=>m.preventDefault()),o.addEventListener("change",m=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:x}=m.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const y=r();if(typeof y!="number")return!1;const b=g.doc.nodeAt(y);return g.setNodeMarkup(y,void 0,{...b==null?void 0:b.attrs,checked:x}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,x)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,x])=>{s.setAttribute(m,x)}),s.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,a.append(o,i),s.append(a,c),Object.entries(t).forEach(([m,x])=>{s.setAttribute(m,x)});let h=new Set(Object.keys(t));return{dom:s,contentDOM:c,update:m=>{if(m.type!==this.type)return!1;s.dataset.checked=m.attrs.checked,o.checked=m.attrs.checked,f(m);const x=n.extensionManager.attributes,g=qh(m,x),y=new Set(Object.keys(g)),b=this.options.HTMLAttributes;return h.forEach(w=>{y.has(w)||(w in b?s.setAttribute(w,b[w]):s.removeAttribute(w))}),Object.entries(g).forEach(([w,E])=>{E==null?w in b?s.setAttribute(w,b[w]):s.removeAttribute(w):s.setAttribute(w,E)}),h=y,!0}}}},addInputRules(){return[nf({find:fde,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),hde=Cs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Pr(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const r=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return r!==void 0?r:-1},tokenize(e,t,r){const n=a=>{const i=nE(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,c)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:r.inlineTokens(o.mainContent),nestedTokens:c}),customNestedParser:n},r);return i?[{type:"taskList",raw:i.raw,items:i.items}]:r.blockTokens(a)},s=nE(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,i)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:r.inlineTokens(a.mainContent),nestedTokens:i}),customNestedParser:n},r);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Lr.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(bF.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(wF.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(AF.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(kF.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(dde.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(hde.configure(this.options.taskList)),e}});var XR="&nbsp;",pde="",mde=Cs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Pr(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const r=e.tokens||[];if(r.length===1&&r[0].type==="image")return t.parseChildren([r[0]]);const n=t.parseInline(r);return n.length===1&&n[0].type==="text"&&(n[0].text===XR||n[0].text===pde)?t.createNode("paragraph",void 0,[]):t.createNode("paragraph",void 0,n)},renderMarkdown:(e,t)=>{if(!e)return"";const r=Array.isArray(e.content)?e.content:[];return r.length===0?XR:t.renderChildren(r)},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),gde=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,xde=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,yde=Uc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Pr(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[rf({find:gde,type:this.type})]},addPasteRules(){return[Oc({find:xde,type:this.type})]}}),vde=Cs.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),RF=Uc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Pr(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,r){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!s)return;const a=s[2].trim();return{type:"underline",raw:s[0],text:a,tokens:r.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),bde=RF;function wde(e={}){return new Er({view(t){return new Ede(t,e)}})}class Ede{constructor(t,r){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=i=>{this[s](i)};return t.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:t,handler:r})=>this.editorView.dom.removeEventListener(t,r))}update(t,r){this.cursorPos!=null&&r.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),r=!t.parent.inlineContent,n,s=this.editorView.dom,a=s.getBoundingClientRect(),i=a.width/s.offsetWidth,o=a.height/s.offsetHeight;if(r){let m=t.nodeBefore,x=t.nodeAfter;if(m||x){let g=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(g){let y=g.getBoundingClientRect(),b=m?y.bottom:y.top;m&&x&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*o;n={left:y.left,right:y.right,top:b-w,bottom:b+w}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*i;n={left:m.left-x,right:m.left+x,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let f,h;if(!c||c==document.body&&getComputedStyle(c).position=="static")f=-pageXOffset,h=-pageYOffset;else{let m=c.getBoundingClientRect(),x=m.width/c.offsetWidth,g=m.height/c.offsetHeight;f=m.left-c.scrollLeft*x,h=m.top-c.scrollTop*g}this.element.style.left=(n.left-f)/i+"px",this.element.style.top=(n.top-h)/o+"px",this.element.style.width=(n.right-n.left)/i+"px",this.element.style.height=(n.bottom-n.top)/o+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,r,t):s;if(r&&!a){let i=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=E8(this.editorView.state.doc,i,this.editorView.dragging.slice);o!=null&&(i=o)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class kr extends Ct{constructor(t){super(t,t)}map(t,r){let n=t.resolve(r.map(this.head));return kr.valid(n)?new kr(n):Ct.near(n)}content(){return rt.empty}eq(t){return t instanceof kr&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new kr(t.resolve(r.pos))}getBookmark(){return new bS(this.anchor)}static valid(t){let r=t.parent;if(r.isTextblock||!_de(t)||!Sde(t))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,r,n=!1){e:for(;;){if(!n&&kr.valid(t))return t;let s=t.pos,a=null;for(let i=t.depth;;i--){let o=t.node(i);if(r>0?t.indexAfter(i)<o.childCount:t.index(i)>0){a=o.child(r>0?t.indexAfter(i):t.index(i)-1);break}else if(i==0)return null;s+=r;let c=t.doc.resolve(s);if(kr.valid(c))return c}for(;;){let i=r>0?a.firstChild:a.lastChild;if(!i){if(a.isAtom&&!a.isText&&!ft.isSelectable(a)){t=t.doc.resolve(s+a.nodeSize*r),n=!1;continue e}break}a=i,s+=r;let o=t.doc.resolve(s);if(kr.valid(o))return o}return null}}}kr.prototype.visible=!1;kr.findFrom=kr.findGapCursorFrom;Ct.jsonID("gapcursor",kr);class bS{constructor(t){this.pos=t}map(t){return new bS(t.map(this.pos))}resolve(t){let r=t.resolve(this.pos);return kr.valid(r)?new kr(r):Ct.near(r)}}function OF(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function _de(e){for(let t=e.depth;t>=0;t--){let r=e.index(t),n=e.node(t);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||OF(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Sde(e){for(let t=e.depth;t>=0;t--){let r=e.indexAfter(t),n=e.node(t);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||OF(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Tde(){return new Er({props:{decorations:kde,createSelectionBetween(e,t,r){return t.pos==r.pos&&kr.valid(r)?new kr(r):null},handleClick:Ade,handleKeyDown:Nde,handleDOMEvents:{beforeinput:Cde}}})}const Nde=_M({ArrowLeft:mm("horiz",-1),ArrowRight:mm("horiz",1),ArrowUp:mm("vert",-1),ArrowDown:mm("vert",1)});function mm(e,t){const r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,s,a){let i=n.selection,o=t>0?i.$to:i.$from,c=i.empty;if(i instanceof xt){if(!a.endOfTextblock(r)||o.depth==0)return!1;c=!1,o=n.doc.resolve(t>0?o.after():o.before())}let f=kr.findGapCursorFrom(o,t,c);return f?(s&&s(n.tr.setSelection(new kr(f))),!0):!1}}function Ade(e,t,r){if(!e||!e.editable)return!1;let n=e.state.doc.resolve(t);if(!kr.valid(n))return!1;let s=e.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&ft.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new kr(n))),!0)}function Cde(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof kr))return!1;let{$from:r}=e.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!n)return!1;let s=$e.empty;for(let i=n.length-1;i>=0;i--)s=$e.from(n[i].createAndFill(null,s));let a=e.state.tr.replace(r.pos,r.pos,new rt(s,0,0));return a.setSelection(xt.near(a.doc.resolve(r.pos+1))),e.dispatch(a),!1}function kde(e){if(!(e.selection instanceof kr))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",br.create(e.doc,[ss.widget(e.selection.head,t,{key:"gapcursor"})])}var ax=200,wn=function(){};wn.prototype.append=function(t){return t.length?(t=wn.from(t),!this.length&&t||t.length<ax&&this.leafAppend(t)||this.length<ax&&t.leafPrepend(this)||this.appendInner(t)):this};wn.prototype.prepend=function(t){return t.length?wn.from(t).append(this):this};wn.prototype.appendInner=function(t){return new Rde(this,t)};wn.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.length),t>=r?wn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))};wn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};wn.prototype.forEach=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(t,r,n,0):this.forEachInvertedInner(t,r,n,0)};wn.prototype.map=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(a,i){return s.push(t(a,i))},r,n),s};wn.from=function(t){return t instanceof wn?t:t&&t.length?new jF(t):wn.empty};var jF=(function(e){function t(n){e.call(this),this.values=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new t(this.values.slice(s,a))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,a,i,o){for(var c=a;c<i;c++)if(s(this.values[c],o+c)===!1)return!1},t.prototype.forEachInvertedInner=function(s,a,i,o){for(var c=a-1;c>=i;c--)if(s(this.values[c],o+c)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=ax)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=ax)return new t(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t})(wn);wn.empty=new jF([]);var Rde=(function(e){function t(r,n){e.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,s,a,i){var o=this.left.length;if(s<o&&this.left.forEachInner(n,s,Math.min(a,o),i)===!1||a>o&&this.right.forEachInner(n,Math.max(s-o,0),Math.min(this.length,a)-o,i+o)===!1)return!1},t.prototype.forEachInvertedInner=function(n,s,a,i){var o=this.left.length;if(s>o&&this.right.forEachInvertedInner(n,s-o,Math.max(a,o)-o,i+o)===!1||a<o&&this.left.forEachInvertedInner(n,Math.min(s,o),a,i)===!1)return!1},t.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(n,s):n>=a?this.right.slice(n-a,s-a):this.left.slice(n,a).append(this.right.slice(0,s-a))},t.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new t(s,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t})(wn);const Ode=500;class Pa{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,a;r&&(s=this.remapping(n,this.items.length),a=s.maps.length);let i=t.tr,o,c,f=[],h=[];return this.items.forEach((m,x)=>{if(!m.step){s||(s=this.remapping(n,x+1),a=s.maps.length),a--,h.push(m);return}if(s){h.push(new Vo(m.map));let g=m.step.map(s.slice(a)),y;g&&i.maybeStep(g).doc&&(y=i.mapping.maps[i.mapping.maps.length-1],f.push(new Vo(y,void 0,void 0,f.length+h.length))),a--,y&&s.appendMap(y,a)}else i.maybeStep(m.step);if(m.selection)return o=s?m.selection.map(s.slice(a)):m.selection,c=new Pa(this.items.slice(0,n).append(h.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:i,selection:o}}addTransform(t,r,n,s){let a=[],i=this.eventCount,o=this.items,c=!s&&o.length?o.get(o.length-1):null;for(let h=0;h<t.steps.length;h++){let m=t.steps[h].invert(t.docs[h]),x=new Vo(t.mapping.maps[h],m,r),g;(g=c&&c.merge(x))&&(x=g,h?a.pop():o=o.slice(0,o.length-1)),a.push(x),r&&(i++,r=void 0),s||(c=x)}let f=i-n.depth;return f>Dde&&(o=jde(o,f),i-=f),new Pa(o.append(a),i)}remapping(t,r){let n=new Ph;return this.items.forEach((s,a)=>{let i=s.mirrorOffset!=null&&a-s.mirrorOffset>=t?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,i)},t,r),n}addMaps(t){return this.eventCount==0?this:new Pa(this.items.append(t.map(r=>new Vo(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),a=t.mapping,i=t.steps.length,o=this.eventCount;this.items.forEach(x=>{x.selection&&o--},s);let c=r;this.items.forEach(x=>{let g=a.getMirror(--c);if(g==null)return;i=Math.min(i,g);let y=a.maps[g];if(x.step){let b=t.steps[g].invert(t.docs[g]),w=x.selection&&x.selection.map(a.slice(c+1,g));w&&o++,n.push(new Vo(y,b,w))}else n.push(new Vo(y))},s);let f=[];for(let x=r;x<i;x++)f.push(new Vo(a.maps[x]));let h=this.items.slice(0,s).append(f).append(n),m=new Pa(h,o);return m.emptyItemCount()>Ode&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),n=r.maps.length,s=[],a=0;return this.items.forEach((i,o)=>{if(o>=t)s.push(i),i.selection&&a++;else if(i.step){let c=i.step.map(r.slice(n)),f=c&&c.getMap();if(n--,f&&r.appendMap(f,n),c){let h=i.selection&&i.selection.map(r.slice(n));h&&a++;let m=new Vo(f.invert(),c,h),x,g=s.length-1;(x=s.length&&s[g].merge(m))?s[g]=x:s.push(m)}}else i.map&&n--},this.items.length,0),new Pa(wn.from(s.reverse()),a)}}Pa.empty=new Pa(wn.empty,0);function jde(e,t){let r;return e.forEach((n,s)=>{if(n.selection&&t--==0)return r=s,!1}),e.slice(r)}let Vo=class DF{constructor(t,r,n,s){this.map=t,this.step=r,this.selection=n,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new DF(r.getMap().invert(),r,this.selection)}}};class Ko{constructor(t,r,n,s,a){this.done=t,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=a}}const Dde=20;function Ide(e,t,r,n){let s=r.getMeta(xc),a;if(s)return s.historyState;r.getMeta(Pde)&&(e=new Ko(e.done,e.undone,null,0,-1));let i=r.getMeta("appendedTransaction");if(r.steps.length==0)return e;if(i&&i.getMeta(xc))return i.getMeta(xc).redo?new Ko(e.done.addTransform(r,void 0,n,Vm(t)),e.undone,YR(r.mapping.maps),e.prevTime,e.prevComposition):new Ko(e.done,e.undone.addTransform(r,void 0,n,Vm(t)),null,e.prevTime,e.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let o=r.getMeta("composition"),c=e.prevTime==0||!i&&e.prevComposition!=o&&(e.prevTime<(r.time||0)-n.newGroupDelay||!Mde(r,e.prevRanges)),f=i?mb(e.prevRanges,r.mapping):YR(r.mapping.maps);return new Ko(e.done.addTransform(r,c?t.selection.getBookmark():void 0,n,Vm(t)),Pa.empty,f,r.time,o??e.prevComposition)}else return(a=r.getMeta("rebased"))?new Ko(e.done.rebased(r,a),e.undone.rebased(r,a),mb(e.prevRanges,r.mapping),e.prevTime,e.prevComposition):new Ko(e.done.addMaps(r.mapping.maps),e.undone.addMaps(r.mapping.maps),mb(e.prevRanges,r.mapping),e.prevTime,e.prevComposition)}function Mde(e,t){if(!t)return!1;if(!e.docChanged)return!0;let r=!1;return e.mapping.maps[0].forEach((n,s)=>{for(let a=0;a<t.length;a+=2)n<=t[a+1]&&s>=t[a]&&(r=!0)}),r}function YR(e){let t=[];for(let r=e.length-1;r>=0&&t.length==0;r--)e[r].forEach((n,s,a,i)=>t.push(a,i));return t}function mb(e,t){if(!e)return null;let r=[];for(let n=0;n<e.length;n+=2){let s=t.map(e[n],1),a=t.map(e[n+1],-1);s<=a&&r.push(s,a)}return r}function Fde(e,t,r){let n=Vm(t),s=xc.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,n);if(!a)return null;let i=a.selection.resolve(a.transform.doc),o=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),s,n),c=new Ko(r?o:a.remaining,r?a.remaining:o,null,0,-1);return a.transform.setSelection(i).setMeta(xc,{redo:r,historyState:c})}let gb=!1,JR=null;function Vm(e){let t=e.plugins;if(JR!=t){gb=!1,JR=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){gb=!0;break}}return gb}const xc=new ln("history"),Pde=new ln("closeHistory");function Lde(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Er({key:xc,state:{init(){return new Ko(Pa.empty,Pa.empty,null,0,-1)},apply(t,r,n){return Ide(r,n,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,r){let n=r.inputType,s=n=="historyUndo"?MF:n=="historyRedo"?FF:null;return!s||!t.editable?!1:(r.preventDefault(),s(t.state,t.dispatch))}}}})}function IF(e,t){return(r,n)=>{let s=xc.getState(r);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(n){let a=Fde(s,r,e);a&&n(t?a.scrollIntoView():a)}return!0}}const MF=IF(!1,!0),FF=IF(!0,!0);Lr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const n=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(n)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,r=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let e=!1;return[new Er({key:new ln("characterCount"),appendTransaction:(t,r,n)=>{if(e)return;const s=this.options.limit;if(s==null||s===0){e=!0;return}const a=this.storage.characters({node:n.doc});if(a>s){const i=a-s,o=0,c=i;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const f=n.tr.deleteRange(o,c);return e=!0,f}e=!0},filterTransaction:(t,r)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const s=this.storage.characters({node:r.doc}),a=this.storage.characters({node:t.doc});if(a<=n||s>n&&a>n&&a<=s)return!0;if(s>n&&a>n&&a>s||!t.getMeta("paste"))return!1;const o=t.selection.$head.pos,c=a-n,f=o-c,h=o;return t.deleteRange(f,h),!(this.storage.characters({node:t.doc})>n)}})]}});var Bde=Lr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[wde(this.options)]}});Lr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Er({key:new ln("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:s}=t,a=[];if(!r||!n)return br.create(e,[]);let i=0;this.options.mode==="deepest"&&e.descendants((c,f)=>{if(c.isText)return;if(!(s>=f&&s<=f+c.nodeSize-1))return!1;i+=1});let o=0;return e.descendants((c,f)=>{if(c.isText||!(s>=f&&s<=f+c.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&i-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";a.push(ss.node(f,f+c.nodeSize,{class:this.options.className}))}),br.create(e,a)}}})]}});var Ude=Lr.create({name:"gapCursor",addProseMirrorPlugins(){return[Tde()]},extendNodeSchema(e){var t;const r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Xt(ct(e,"allowGapCursor",r)))!=null?t:null}}}),ZR="placeholder";function zde(e){return e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}Lr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:ZR,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const e=this.options.dataAttribute?`data-${zde(this.options.dataAttribute)}`:`data-${ZR}`;return[new Er({key:new ln("placeholder"),props:{decorations:({doc:t,selection:r})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=r,a=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((o,c)=>{const f=s>=c&&s<=c+o.nodeSize,h=!o.isLeaf&&Gx(o);if((f||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];i&&m.push(this.options.emptyEditorClass);const x=ss.node(c,c+o.nodeSize,{class:m.join(" "),[e]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:c,hasAnchor:f}):this.options.placeholder});a.push(x)}return this.options.includeChildren}),br.create(t,a)}}})]}});Lr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Er({key:new ln("selection"),props:{decorations(r){return r.selection.empty||e.isFocused||!e.isEditable||BM(r.selection)||e.view.dragging?null:br.create(r.doc,[ss.inline(r.selection.from,r.selection.to,{class:t.className})])}}})]}});function QR({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var Hde=Lr.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new ln(this.name),r=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(r).includes(s.name));return[new Er({key:t,appendTransaction:(s,a,i)=>{const{doc:o,tr:c,schema:f}=i,h=t.getState(i),m=o.content.size,x=f.nodes[r];if(h)return c.insert(m,x.create())},state:{init:(s,a)=>{const i=a.tr.doc.lastChild;return!QR({node:i,types:n})},apply:(s,a)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return a;const i=s.doc.lastChild;return!QR({node:i,types:n})}}})]}}),qde=Lr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>MF(e,t),redo:()=>({state:e,dispatch:t})=>FF(e,t)}},addProseMirrorPlugins(){return[Lde(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Vde=Lr.create({name:"starterKit",addExtensions(){var e,t,r,n;const s=[];return this.options.bold!==!1&&s.push(mfe.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(ufe.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(bF.configure(this.options.bulletList)),this.options.code!==!1&&s.push(yfe.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(wfe.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Efe.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Bde.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Ude.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(_fe.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(Sfe.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(qde.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(Tfe.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(Rfe.configure(this.options.italic)),this.options.listItem!==!1&&s.push(wF.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(AF.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&s.push(vF.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&s.push(kF.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(mde.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(yde.configure(this.options.strike)),this.options.text!==!1&&s.push(vde.configure(this.options.text)),this.options.underline!==!1&&s.push(RF.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&s.push(Hde.configure((n=this.options)==null?void 0:n.trailingNode)),s}}),$de=Vde,Wde=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Gde=Cs.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Pr(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,r,n,s,a,i;const o=(r=(t=e.attrs)==null?void 0:t.src)!=null?r:"",c=(s=(n=e.attrs)==null?void 0:n.alt)!=null?s:"",f=(i=(a=e.attrs)==null?void 0:a.title)!=null?i:"";return f?`![${c}](${o} "${f}")`:`![${c}](${o})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:e,minWidth:t,minHeight:r,alwaysPreserveAspectRatio:n}=this.options.resize;return({node:s,getPos:a,HTMLAttributes:i,editor:o})=>{const c=document.createElement("img");Object.entries(i).forEach(([m,x])=>{if(x!=null)switch(m){case"width":case"height":break;default:c.setAttribute(m,x);break}}),c.src=i.src;const f=new Jce({element:c,editor:o,node:s,getPos:a,onResize:(m,x)=>{c.style.width=`${m}px`,c.style.height=`${x}px`},onCommit:(m,x)=>{const g=a();g!==void 0&&this.editor.chain().setNodeSelection(g).updateAttributes(this.name,{width:m,height:x}).run()},onUpdate:(m,x,g)=>m.type===s.type,options:{directions:e,min:{width:t,height:r},preserveAspectRatio:n===!0}}),h=f.dom;return h.style.visibility="hidden",h.style.pointerEvents="none",c.onload=()=>{h.style.visibility="",h.style.pointerEvents=""},f}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[rF({find:Wde,type:this.type,getAttributes:e=>{const[,,t,r,n]=e;return{src:r,alt:t,title:n}}})]}}),Kde=Gde;const Xde=({editor:e})=>{if(!e)return null;const t=r=>`
        p-2 rounded-lg transition-all
        ${r?"bg-blue-100 text-blue-600 shadow-inner":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}
    `;return d.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 bg-white border-b border-slate-200 sticky top-0 z-10",children:[d.jsx("button",{onClick:()=>e.chain().focus().toggleBold().run(),className:t(e.isActive("bold")),children:d.jsx(fW,{size:18})}),d.jsx("button",{onClick:()=>e.chain().focus().toggleItalic().run(),className:t(e.isActive("italic")),children:d.jsx(eG,{size:18})}),d.jsx("button",{onClick:()=>e.chain().focus().toggleUnderline().run(),className:t(e.isActive("underline")),children:d.jsx(eK,{size:18})}),d.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),d.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:t(e.isActive("heading",{level:1})),children:d.jsx(VW,{size:18})}),d.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:t(e.isActive("heading",{level:2})),children:d.jsx(WW,{size:18})}),d.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),d.jsx("button",{onClick:()=>e.chain().focus().toggleBulletList().run(),className:t(e.isActive("bulletList")),children:d.jsx(iG,{size:18})}),d.jsx("button",{onClick:()=>e.chain().focus().toggleOrderedList().run(),className:t(e.isActive("orderedList")),children:d.jsx(sG,{size:18})}),d.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),d.jsx("button",{onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().undo(),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 disabled:opacity-30",children:d.jsx(jG,{size:18})}),d.jsx("button",{onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().redo(),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 disabled:opacity-30",children:d.jsx(IG,{size:18})})]})},Yde=({content:e,onChange:t,editable:r=!0})=>{const n=afe({extensions:[$de,bde,tde.configure({openOnClick:!1}),Kde.configure({allowBase64:!0,HTMLAttributes:{class:"editor-image"}})],content:e,editable:r,onUpdate:({editor:s})=>{t(s.getJSON(),s.getHTML())},editorProps:{attributes:{class:"prose prose-slate max-w-none focus:outline-none min-h-[700px] p-16 text-slate-800 leading-normal tiptap-editor",style:"font-family: 'Times New Roman', serif; font-size: 11pt;"}}});return Ve.useEffect(()=>{n&&n.setEditable(r)},[n,r]),Ve.useEffect(()=>{if(!n)return;const s=()=>{document.querySelectorAll(".tiptap-editor .absolute img, .tiptap-editor .editor-image").forEach(i=>{i.style.setProperty("height","100px","important"),i.style.setProperty("width","auto","important"),i.style.setProperty("max-width","200px","important"),i.style.setProperty("object-fit","contain","important")})};return s(),n.on("update",s),()=>{n.off("update",s)}},[n]),d.jsxs("div",{className:"w-full overflow-hidden transition-shadow duration-300",children:[d.jsx("style",{children:`
                .tiptap-editor p {
                    margin-top: 0 !important;
                    margin-bottom: 1.25em !important;
                    line-height: 1.6 !important;
                }
                .tiptap-editor ul {
                    list-style-type: disc !important;
                    margin-bottom: 1.25em !important;
                    padding-left: 1.5em !important;
                }
                .tiptap-editor ol {
                    list-style-type: lower-alpha !important;
                    margin-bottom: 1.25em !important;
                    padding-left: 1.5em !important;
                }
                .tiptap-editor li p {
                    margin-bottom: 0.5em !important;
                }
                .tiptap-editor h1 { margin-bottom: 0.5em !important; }
                .tiptap-editor h2 { margin-bottom: 0.5em !important; }

                .tiptap-editor {
                    position: relative !important;
                }

                .tiptap-editor img {
                    display: block;
                    height: 100px !important;
                    width: auto !important;
                    max-width: 200px !important;
                    object-fit: contain !important;
                    margin-left: auto !important;
                    margin-bottom: 1em !important;
                }

                .tiptap-editor .absolute {
                    position: absolute !important;
                    z-index: 5;
                }

                .tiptap-editor .top-8 { top: 2rem !important; }
                .tiptap-editor .right-10 { right: 2.5rem !important; }
            `}),r&&d.jsx(Xde,{editor:n}),d.jsx("div",{className:"p-4 bg-white min-h-200 flex justify-center overflow-y-auto",children:d.jsx("div",{className:"bg-white border border-slate-200 shadow-md w-full max-w-212.5 min-h-275 ring-1 ring-slate-900/5",children:d.jsx(aF,{editor:n})})})]})};var Jde=Object.defineProperty,Zde=Object.defineProperties,Qde=Object.getOwnPropertyDescriptors,e5=Object.getOwnPropertySymbols,ehe=Object.prototype.hasOwnProperty,the=Object.prototype.propertyIsEnumerable,mE=(e,t,r)=>t in e?Jde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,At=(e,t)=>{for(var r in t||(t={}))ehe.call(t,r)&&mE(e,r,t[r]);if(e5)for(var r of e5(t))the.call(t,r)&&mE(e,r,t[r]);return e},fo=(e,t)=>Zde(e,Qde(t)),Fe=(e,t,r)=>mE(e,typeof t!="symbol"?t+"":t,r),rhe=(e,t,r)=>new Promise((n,s)=>{var a=c=>{try{o(r.next(c))}catch(f){s(f)}},i=c=>{try{o(r.throw(c))}catch(f){s(f)}},o=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,i);o((r=r.apply(e,t)).next())});class ix{constructor(t){Fe(this,"rootKey"),this.rootKey=t}}const nhe=Object.seal({});class Le extends ix{constructor(t){super(t),Fe(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const n=this.root.map(s=>s instanceof ix?s.prepForXml(t):s).filter(s=>s!==void 0);return t.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:nhe}}addChildElement(t){return this.root.push(t),this}}class Jx extends Le{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class it extends ix{constructor(t){super("_attr"),Fe(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([n,s])=>{if(s!==void 0){const a=this.xmlKeys&&this.xmlKeys[n]||n;r[a]=s}}),{_attr:r}}}class E0 extends ix{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:s,value:a})=>fo(At({},n),{[s]:a}),{})}}}class Br extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xb={},gm={exports:{}},t5;function ES(){if(t5)return gm.exports;t5=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(C,I,j){return Function.prototype.apply.call(C,I,j)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:r=function(C){return Object.getOwnPropertyNames(C)};function n(S){console&&console.warn&&console.warn(S)}var s=Number.isNaN||function(C){return C!==C};function a(){a.init.call(this)}gm.exports=a,gm.exports.once=E,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");i=S}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function c(S){return S._maxListeners===void 0?a.defaultMaxListeners:S._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(C){for(var I=[],j=1;j<arguments.length;j++)I.push(arguments[j]);var q=C==="error",D=this._events;if(D!==void 0)q=q&&D.error===void 0;else if(!q)return!1;if(q){var Q;if(I.length>0&&(Q=I[0]),Q instanceof Error)throw Q;var ae=new Error("Unhandled error."+(Q?" ("+Q.message+")":""));throw ae.context=Q,ae}var F=D[C];if(F===void 0)return!1;if(typeof F=="function")t(F,this,I);else for(var X=F.length,M=y(F,X),j=0;j<X;++j)t(M[j],this,I);return!0};function f(S,C,I,j){var q,D,Q;if(o(I),D=S._events,D===void 0?(D=S._events=Object.create(null),S._eventsCount=0):(D.newListener!==void 0&&(S.emit("newListener",C,I.listener?I.listener:I),D=S._events),Q=D[C]),Q===void 0)Q=D[C]=I,++S._eventsCount;else if(typeof Q=="function"?Q=D[C]=j?[I,Q]:[Q,I]:j?Q.unshift(I):Q.push(I),q=c(S),q>0&&Q.length>q&&!Q.warned){Q.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+Q.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=S,ae.type=C,ae.count=Q.length,n(ae)}return S}a.prototype.addListener=function(C,I){return f(this,C,I,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(C,I){return f(this,C,I,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(S,C,I){var j={fired:!1,wrapFn:void 0,target:S,type:C,listener:I},q=h.bind(j);return q.listener=I,j.wrapFn=q,q}a.prototype.once=function(C,I){return o(I),this.on(C,m(this,C,I)),this},a.prototype.prependOnceListener=function(C,I){return o(I),this.prependListener(C,m(this,C,I)),this},a.prototype.removeListener=function(C,I){var j,q,D,Q,ae;if(o(I),q=this._events,q===void 0)return this;if(j=q[C],j===void 0)return this;if(j===I||j.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete q[C],q.removeListener&&this.emit("removeListener",C,j.listener||I));else if(typeof j!="function"){for(D=-1,Q=j.length-1;Q>=0;Q--)if(j[Q]===I||j[Q].listener===I){ae=j[Q].listener,D=Q;break}if(D<0)return this;D===0?j.shift():b(j,D),j.length===1&&(q[C]=j[0]),q.removeListener!==void 0&&this.emit("removeListener",C,ae||I)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(C){var I,j,q;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[C]),this;if(arguments.length===0){var D=Object.keys(j),Q;for(q=0;q<D.length;++q)Q=D[q],Q!=="removeListener"&&this.removeAllListeners(Q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=j[C],typeof I=="function")this.removeListener(C,I);else if(I!==void 0)for(q=I.length-1;q>=0;q--)this.removeListener(C,I[q]);return this};function x(S,C,I){var j=S._events;if(j===void 0)return[];var q=j[C];return q===void 0?[]:typeof q=="function"?I?[q.listener||q]:[q]:I?w(q):y(q,q.length)}a.prototype.listeners=function(C){return x(this,C,!0)},a.prototype.rawListeners=function(C){return x(this,C,!1)},a.listenerCount=function(S,C){return typeof S.listenerCount=="function"?S.listenerCount(C):g.call(S,C)},a.prototype.listenerCount=g;function g(S){var C=this._events;if(C!==void 0){var I=C[S];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(S,C){for(var I=new Array(C),j=0;j<C;++j)I[j]=S[j];return I}function b(S,C){for(;C+1<S.length;C++)S[C]=S[C+1];S.pop()}function w(S){for(var C=new Array(S.length),I=0;I<C.length;++I)C[I]=S[I].listener||S[I];return C}function E(S,C){return new Promise(function(I,j){function q(Q){S.removeListener(C,D),j(Q)}function D(){typeof S.removeListener=="function"&&S.removeListener("error",q),I([].slice.call(arguments))}_(S,C,D,{once:!0}),C!=="error"&&T(S,q,{once:!0})})}function T(S,C,I){typeof S.on=="function"&&_(S,"error",C,I)}function _(S,C,I,j){if(typeof S.on=="function")j.once?S.once(C,I):S.on(C,I);else if(typeof S.addEventListener=="function")S.addEventListener(C,function q(D){j.once&&S.removeEventListener(C,q),I(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return gm.exports}var xm={exports:{}},r5;function Cl(){return r5||(r5=1,typeof Object.create=="function"?xm.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:xm.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),xm.exports}function she(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PF={exports:{}},Ur=PF.exports={},fi,di;function gE(){throw new Error("setTimeout has not been defined")}function xE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?fi=setTimeout:fi=gE}catch{fi=gE}try{typeof clearTimeout=="function"?di=clearTimeout:di=xE}catch{di=xE}})();function LF(e){if(fi===setTimeout)return setTimeout(e,0);if((fi===gE||!fi)&&setTimeout)return fi=setTimeout,setTimeout(e,0);try{return fi(e,0)}catch{try{return fi.call(null,e,0)}catch{return fi.call(this,e,0)}}}function ahe(e){if(di===clearTimeout)return clearTimeout(e);if((di===xE||!di)&&clearTimeout)return di=clearTimeout,clearTimeout(e);try{return di(e)}catch{try{return di.call(null,e)}catch{return di.call(this,e)}}}var Qi=[],zu=!1,ic,$m=-1;function ihe(){!zu||!ic||(zu=!1,ic.length?Qi=ic.concat(Qi):$m=-1,Qi.length&&BF())}function BF(){if(!zu){var e=LF(ihe);zu=!0;for(var t=Qi.length;t;){for(ic=Qi,Qi=[];++$m<t;)ic&&ic[$m].run();$m=-1,t=Qi.length}ic=null,zu=!1,ahe(e)}}Ur.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Qi.push(new UF(e,t)),Qi.length===1&&!zu&&LF(BF)};function UF(e,t){this.fun=e,this.array=t}UF.prototype.run=function(){this.fun.apply(null,this.array)};Ur.title="browser";Ur.browser=!0;Ur.env={};Ur.argv=[];Ur.version="";Ur.versions={};function mo(){}Ur.on=mo;Ur.addListener=mo;Ur.once=mo;Ur.off=mo;Ur.removeListener=mo;Ur.removeAllListeners=mo;Ur.emit=mo;Ur.prependListener=mo;Ur.prependOnceListener=mo;Ur.listeners=function(e){return[]};Ur.binding=function(e){throw new Error("process.binding is not supported")};Ur.cwd=function(){return"/"};Ur.chdir=function(e){throw new Error("process.chdir is not supported")};Ur.umask=function(){return 0};var ohe=PF.exports;const Rt=she(ohe);var yb,n5;function zF(){return n5||(n5=1,yb=ES().EventEmitter),yb}var vb={},Dd={},s5;function lhe(){if(s5)return Dd;s5=1,Dd.byteLength=o,Dd.toByteArray=f,Dd.fromByteArray=x;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=n.length;s<a;++s)e[s]=n[s],t[n.charCodeAt(s)]=s;t[45]=62,t[95]=63;function i(g){var y=g.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=g.indexOf("=");b===-1&&(b=y);var w=b===y?0:4-b%4;return[b,w]}function o(g){var y=i(g),b=y[0],w=y[1];return(b+w)*3/4-w}function c(g,y,b){return(y+b)*3/4-b}function f(g){var y,b=i(g),w=b[0],E=b[1],T=new r(c(g,w,E)),_=0,S=E>0?w-4:w,C;for(C=0;C<S;C+=4)y=t[g.charCodeAt(C)]<<18|t[g.charCodeAt(C+1)]<<12|t[g.charCodeAt(C+2)]<<6|t[g.charCodeAt(C+3)],T[_++]=y>>16&255,T[_++]=y>>8&255,T[_++]=y&255;return E===2&&(y=t[g.charCodeAt(C)]<<2|t[g.charCodeAt(C+1)]>>4,T[_++]=y&255),E===1&&(y=t[g.charCodeAt(C)]<<10|t[g.charCodeAt(C+1)]<<4|t[g.charCodeAt(C+2)]>>2,T[_++]=y>>8&255,T[_++]=y&255),T}function h(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function m(g,y,b){for(var w,E=[],T=y;T<b;T+=3)w=(g[T]<<16&16711680)+(g[T+1]<<8&65280)+(g[T+2]&255),E.push(h(w));return E.join("")}function x(g){for(var y,b=g.length,w=b%3,E=[],T=16383,_=0,S=b-w;_<S;_+=T)E.push(m(g,_,_+T>S?S:_+T));return w===1?(y=g[b-1],E.push(e[y>>2]+e[y<<4&63]+"==")):w===2&&(y=(g[b-2]<<8)+g[b-1],E.push(e[y>>10]+e[y>>4&63]+e[y<<2&63]+"=")),E.join("")}return Dd}var ym={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var a5;function che(){return a5||(a5=1,ym.read=function(e,t,r,n,s){var a,i,o=s*8-n-1,c=(1<<o)-1,f=c>>1,h=-7,m=r?s-1:0,x=r?-1:1,g=e[t+m];for(m+=x,a=g&(1<<-h)-1,g>>=-h,h+=o;h>0;a=a*256+e[t+m],m+=x,h-=8);for(i=a&(1<<-h)-1,a>>=-h,h+=n;h>0;i=i*256+e[t+m],m+=x,h-=8);if(a===0)a=1-f;else{if(a===c)return i?NaN:(g?-1:1)*(1/0);i=i+Math.pow(2,n),a=a-f}return(g?-1:1)*i*Math.pow(2,a-n)},ym.write=function(e,t,r,n,s,a){var i,o,c,f=a*8-s-1,h=(1<<f)-1,m=h>>1,x=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:a-1,y=n?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=h):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),i+m>=1?t+=x/c:t+=x*Math.pow(2,1-m),t*c>=2&&(i++,c/=2),i+m>=h?(o=0,i=h):i+m>=1?(o=(t*c-1)*Math.pow(2,s),i=i+m):(o=t*Math.pow(2,m-1)*Math.pow(2,s),i=0));s>=8;e[r+g]=o&255,g+=y,o/=256,s-=8);for(i=i<<s|o,f+=s;f>0;e[r+g]=i&255,g+=y,i/=256,f-=8);e[r+g-y]|=b*128}),ym}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var i5;function Zx(){return i5||(i5=1,(function(e){var t=lhe(),r=che(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;var s=2147483647;e.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var B=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(B,A),B.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(B){if(B>s)throw new RangeError('The value "'+B+'" is invalid for option "size"');var A=new Uint8Array(B);return Object.setPrototypeOf(A,o.prototype),A}function o(B,A,R){if(typeof B=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(B)}return c(B,A,R)}o.poolSize=8192;function c(B,A,R){if(typeof B=="string")return x(B,A);if(ArrayBuffer.isView(B))return y(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(be(B,ArrayBuffer)||B&&be(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(B,SharedArrayBuffer)||B&&be(B.buffer,SharedArrayBuffer)))return b(B,A,R);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var H=B.valueOf&&B.valueOf();if(H!=null&&H!==B)return o.from(H,A,R);var fe=w(B);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return o.from(B[Symbol.toPrimitive]("string"),A,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}o.from=function(B,A,R){return c(B,A,R)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function h(B,A,R){return f(B),B<=0?i(B):A!==void 0?typeof R=="string"?i(B).fill(A,R):i(B).fill(A):i(B)}o.alloc=function(B,A,R){return h(B,A,R)};function m(B){return f(B),i(B<0?0:E(B)|0)}o.allocUnsafe=function(B){return m(B)},o.allocUnsafeSlow=function(B){return m(B)};function x(B,A){if((typeof A!="string"||A==="")&&(A="utf8"),!o.isEncoding(A))throw new TypeError("Unknown encoding: "+A);var R=_(B,A)|0,H=i(R),fe=H.write(B,A);return fe!==R&&(H=H.slice(0,fe)),H}function g(B){for(var A=B.length<0?0:E(B.length)|0,R=i(A),H=0;H<A;H+=1)R[H]=B[H]&255;return R}function y(B){if(be(B,Uint8Array)){var A=new Uint8Array(B);return b(A.buffer,A.byteOffset,A.byteLength)}return g(B)}function b(B,A,R){if(A<0||B.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<A+(R||0))throw new RangeError('"length" is outside of buffer bounds');var H;return A===void 0&&R===void 0?H=new Uint8Array(B):R===void 0?H=new Uint8Array(B,A):H=new Uint8Array(B,A,R),Object.setPrototypeOf(H,o.prototype),H}function w(B){if(o.isBuffer(B)){var A=E(B.length)|0,R=i(A);return R.length===0||B.copy(R,0,0,A),R}if(B.length!==void 0)return typeof B.length!="number"||U(B.length)?i(0):g(B);if(B.type==="Buffer"&&Array.isArray(B.data))return g(B.data)}function E(B){if(B>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return B|0}function T(B){return+B!=B&&(B=0),o.alloc(+B)}o.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==o.prototype},o.compare=function(A,R){if(be(A,Uint8Array)&&(A=o.from(A,A.offset,A.byteLength)),be(R,Uint8Array)&&(R=o.from(R,R.offset,R.byteLength)),!o.isBuffer(A)||!o.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===R)return 0;for(var H=A.length,fe=R.length,ye=0,he=Math.min(H,fe);ye<he;++ye)if(A[ye]!==R[ye]){H=A[ye],fe=R[ye];break}return H<fe?-1:fe<H?1:0},o.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(A,R){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return o.alloc(0);var H;if(R===void 0)for(R=0,H=0;H<A.length;++H)R+=A[H].length;var fe=o.allocUnsafe(R),ye=0;for(H=0;H<A.length;++H){var he=A[H];if(be(he,Uint8Array))ye+he.length>fe.length?o.from(he).copy(fe,ye):Uint8Array.prototype.set.call(fe,he,ye);else if(o.isBuffer(he))he.copy(fe,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=he.length}return fe};function _(B,A){if(o.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||be(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var R=B.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&R===0)return 0;for(var fe=!1;;)switch(A){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return L(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return ne(B).length;default:if(fe)return H?-1:L(B).length;A=(""+A).toLowerCase(),fe=!0}}o.byteLength=_;function S(B,A,R){var H=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,A>>>=0,R<=A))return"";for(B||(B="utf8");;)switch(B){case"hex":return ie(this,A,R);case"utf8":case"utf-8":return M(this,A,R);case"ascii":return Z(this,A,R);case"latin1":case"binary":return ge(this,A,R);case"base64":return X(this,A,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,A,R);default:if(H)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),H=!0}}o.prototype._isBuffer=!0;function C(B,A,R){var H=B[A];B[A]=B[R],B[R]=H}o.prototype.swap16=function(){var A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<A;R+=2)C(this,R,R+1);return this},o.prototype.swap32=function(){var A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<A;R+=4)C(this,R,R+3),C(this,R+1,R+2);return this},o.prototype.swap64=function(){var A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<A;R+=8)C(this,R,R+7),C(this,R+1,R+6),C(this,R+2,R+5),C(this,R+3,R+4);return this},o.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?M(this,0,A):S.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(A){if(!o.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:o.compare(this,A)===0},o.prototype.inspect=function(){var A="",R=e.INSPECT_MAX_BYTES;return A=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(A+=" ... "),"<Buffer "+A+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(A,R,H,fe,ye){if(be(A,Uint8Array)&&(A=o.from(A,A.offset,A.byteLength)),!o.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(R===void 0&&(R=0),H===void 0&&(H=A?A.length:0),fe===void 0&&(fe=0),ye===void 0&&(ye=this.length),R<0||H>A.length||fe<0||ye>this.length)throw new RangeError("out of range index");if(fe>=ye&&R>=H)return 0;if(fe>=ye)return-1;if(R>=H)return 1;if(R>>>=0,H>>>=0,fe>>>=0,ye>>>=0,this===A)return 0;for(var he=ye-fe,Ae=H-R,De=Math.min(he,Ae),Pe=this.slice(fe,ye),We=A.slice(R,H),et=0;et<De;++et)if(Pe[et]!==We[et]){he=Pe[et],Ae=We[et];break}return he<Ae?-1:Ae<he?1:0};function I(B,A,R,H,fe){if(B.length===0)return-1;if(typeof R=="string"?(H=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,U(R)&&(R=fe?0:B.length-1),R<0&&(R=B.length+R),R>=B.length){if(fe)return-1;R=B.length-1}else if(R<0)if(fe)R=0;else return-1;if(typeof A=="string"&&(A=o.from(A,H)),o.isBuffer(A))return A.length===0?-1:j(B,A,R,H,fe);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(B,A,R):Uint8Array.prototype.lastIndexOf.call(B,A,R):j(B,[A],R,H,fe);throw new TypeError("val must be string, number or Buffer")}function j(B,A,R,H,fe){var ye=1,he=B.length,Ae=A.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(B.length<2||A.length<2)return-1;ye=2,he/=2,Ae/=2,R/=2}function De(zt,lt){return ye===1?zt[lt]:zt.readUInt16BE(lt*ye)}var Pe;if(fe){var We=-1;for(Pe=R;Pe<he;Pe++)if(De(B,Pe)===De(A,We===-1?0:Pe-We)){if(We===-1&&(We=Pe),Pe-We+1===Ae)return We*ye}else We!==-1&&(Pe-=Pe-We),We=-1}else for(R+Ae>he&&(R=he-Ae),Pe=R;Pe>=0;Pe--){for(var et=!0,tt=0;tt<Ae;tt++)if(De(B,Pe+tt)!==De(A,tt)){et=!1;break}if(et)return Pe}return-1}o.prototype.includes=function(A,R,H){return this.indexOf(A,R,H)!==-1},o.prototype.indexOf=function(A,R,H){return I(this,A,R,H,!0)},o.prototype.lastIndexOf=function(A,R,H){return I(this,A,R,H,!1)};function q(B,A,R,H){R=Number(R)||0;var fe=B.length-R;H?(H=Number(H),H>fe&&(H=fe)):H=fe;var ye=A.length;H>ye/2&&(H=ye/2);for(var he=0;he<H;++he){var Ae=parseInt(A.substr(he*2,2),16);if(U(Ae))return he;B[R+he]=Ae}return he}function D(B,A,R,H){return z(L(A,B.length-R),B,R,H)}function Q(B,A,R,H){return z(oe(A),B,R,H)}function ae(B,A,R,H){return z(ne(A),B,R,H)}function F(B,A,R,H){return z(ee(A,B.length-R),B,R,H)}o.prototype.write=function(A,R,H,fe){if(R===void 0)fe="utf8",H=this.length,R=0;else if(H===void 0&&typeof R=="string")fe=R,H=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(H)?(H=H>>>0,fe===void 0&&(fe="utf8")):(fe=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-R;if((H===void 0||H>ye)&&(H=ye),A.length>0&&(H<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");for(var he=!1;;)switch(fe){case"hex":return q(this,A,R,H);case"utf8":case"utf-8":return D(this,A,R,H);case"ascii":case"latin1":case"binary":return Q(this,A,R,H);case"base64":return ae(this,A,R,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,A,R,H);default:if(he)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),he=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(B,A,R){return A===0&&R===B.length?t.fromByteArray(B):t.fromByteArray(B.slice(A,R))}function M(B,A,R){R=Math.min(B.length,R);for(var H=[],fe=A;fe<R;){var ye=B[fe],he=null,Ae=ye>239?4:ye>223?3:ye>191?2:1;if(fe+Ae<=R){var De,Pe,We,et;switch(Ae){case 1:ye<128&&(he=ye);break;case 2:De=B[fe+1],(De&192)===128&&(et=(ye&31)<<6|De&63,et>127&&(he=et));break;case 3:De=B[fe+1],Pe=B[fe+2],(De&192)===128&&(Pe&192)===128&&(et=(ye&15)<<12|(De&63)<<6|Pe&63,et>2047&&(et<55296||et>57343)&&(he=et));break;case 4:De=B[fe+1],Pe=B[fe+2],We=B[fe+3],(De&192)===128&&(Pe&192)===128&&(We&192)===128&&(et=(ye&15)<<18|(De&63)<<12|(Pe&63)<<6|We&63,et>65535&&et<1114112&&(he=et))}}he===null?(he=65533,Ae=1):he>65535&&(he-=65536,H.push(he>>>10&1023|55296),he=56320|he&1023),H.push(he),fe+=Ae}return J(H)}var se=4096;function J(B){var A=B.length;if(A<=se)return String.fromCharCode.apply(String,B);for(var R="",H=0;H<A;)R+=String.fromCharCode.apply(String,B.slice(H,H+=se));return R}function Z(B,A,R){var H="";R=Math.min(B.length,R);for(var fe=A;fe<R;++fe)H+=String.fromCharCode(B[fe]&127);return H}function ge(B,A,R){var H="";R=Math.min(B.length,R);for(var fe=A;fe<R;++fe)H+=String.fromCharCode(B[fe]);return H}function ie(B,A,R){var H=B.length;(!A||A<0)&&(A=0),(!R||R<0||R>H)&&(R=H);for(var fe="",ye=A;ye<R;++ye)fe+=we[B[ye]];return fe}function Ee(B,A,R){for(var H=B.slice(A,R),fe="",ye=0;ye<H.length-1;ye+=2)fe+=String.fromCharCode(H[ye]+H[ye+1]*256);return fe}o.prototype.slice=function(A,R){var H=this.length;A=~~A,R=R===void 0?H:~~R,A<0?(A+=H,A<0&&(A=0)):A>H&&(A=H),R<0?(R+=H,R<0&&(R=0)):R>H&&(R=H),R<A&&(R=A);var fe=this.subarray(A,R);return Object.setPrototypeOf(fe,o.prototype),fe};function G(B,A,R){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+A>R)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(A,R,H){A=A>>>0,R=R>>>0,H||G(A,R,this.length);for(var fe=this[A],ye=1,he=0;++he<R&&(ye*=256);)fe+=this[A+he]*ye;return fe},o.prototype.readUintBE=o.prototype.readUIntBE=function(A,R,H){A=A>>>0,R=R>>>0,H||G(A,R,this.length);for(var fe=this[A+--R],ye=1;R>0&&(ye*=256);)fe+=this[A+--R]*ye;return fe},o.prototype.readUint8=o.prototype.readUInt8=function(A,R){return A=A>>>0,R||G(A,1,this.length),this[A]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(A,R){return A=A>>>0,R||G(A,2,this.length),this[A]|this[A+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(A,R){return A=A>>>0,R||G(A,2,this.length),this[A]<<8|this[A+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(A,R){return A=A>>>0,R||G(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(A,R){return A=A>>>0,R||G(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},o.prototype.readIntLE=function(A,R,H){A=A>>>0,R=R>>>0,H||G(A,R,this.length);for(var fe=this[A],ye=1,he=0;++he<R&&(ye*=256);)fe+=this[A+he]*ye;return ye*=128,fe>=ye&&(fe-=Math.pow(2,8*R)),fe},o.prototype.readIntBE=function(A,R,H){A=A>>>0,R=R>>>0,H||G(A,R,this.length);for(var fe=R,ye=1,he=this[A+--fe];fe>0&&(ye*=256);)he+=this[A+--fe]*ye;return ye*=128,he>=ye&&(he-=Math.pow(2,8*R)),he},o.prototype.readInt8=function(A,R){return A=A>>>0,R||G(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},o.prototype.readInt16LE=function(A,R){A=A>>>0,R||G(A,2,this.length);var H=this[A]|this[A+1]<<8;return H&32768?H|4294901760:H},o.prototype.readInt16BE=function(A,R){A=A>>>0,R||G(A,2,this.length);var H=this[A+1]|this[A]<<8;return H&32768?H|4294901760:H},o.prototype.readInt32LE=function(A,R){return A=A>>>0,R||G(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},o.prototype.readInt32BE=function(A,R){return A=A>>>0,R||G(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},o.prototype.readFloatLE=function(A,R){return A=A>>>0,R||G(A,4,this.length),r.read(this,A,!0,23,4)},o.prototype.readFloatBE=function(A,R){return A=A>>>0,R||G(A,4,this.length),r.read(this,A,!1,23,4)},o.prototype.readDoubleLE=function(A,R){return A=A>>>0,R||G(A,8,this.length),r.read(this,A,!0,52,8)},o.prototype.readDoubleBE=function(A,R){return A=A>>>0,R||G(A,8,this.length),r.read(this,A,!1,52,8)};function O(B,A,R,H,fe,ye){if(!o.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>fe||A<ye)throw new RangeError('"value" argument is out of bounds');if(R+H>B.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(A,R,H,fe){if(A=+A,R=R>>>0,H=H>>>0,!fe){var ye=Math.pow(2,8*H)-1;O(this,A,R,H,ye,0)}var he=1,Ae=0;for(this[R]=A&255;++Ae<H&&(he*=256);)this[R+Ae]=A/he&255;return R+H},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(A,R,H,fe){if(A=+A,R=R>>>0,H=H>>>0,!fe){var ye=Math.pow(2,8*H)-1;O(this,A,R,H,ye,0)}var he=H-1,Ae=1;for(this[R+he]=A&255;--he>=0&&(Ae*=256);)this[R+he]=A/Ae&255;return R+H},o.prototype.writeUint8=o.prototype.writeUInt8=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,1,255,0),this[R]=A&255,R+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,2,65535,0),this[R]=A&255,this[R+1]=A>>>8,R+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,2,65535,0),this[R]=A>>>8,this[R+1]=A&255,R+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,4,4294967295,0),this[R+3]=A>>>24,this[R+2]=A>>>16,this[R+1]=A>>>8,this[R]=A&255,R+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,4,4294967295,0),this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=A&255,R+4},o.prototype.writeIntLE=function(A,R,H,fe){if(A=+A,R=R>>>0,!fe){var ye=Math.pow(2,8*H-1);O(this,A,R,H,ye-1,-ye)}var he=0,Ae=1,De=0;for(this[R]=A&255;++he<H&&(Ae*=256);)A<0&&De===0&&this[R+he-1]!==0&&(De=1),this[R+he]=(A/Ae>>0)-De&255;return R+H},o.prototype.writeIntBE=function(A,R,H,fe){if(A=+A,R=R>>>0,!fe){var ye=Math.pow(2,8*H-1);O(this,A,R,H,ye-1,-ye)}var he=H-1,Ae=1,De=0;for(this[R+he]=A&255;--he>=0&&(Ae*=256);)A<0&&De===0&&this[R+he+1]!==0&&(De=1),this[R+he]=(A/Ae>>0)-De&255;return R+H},o.prototype.writeInt8=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,1,127,-128),A<0&&(A=255+A+1),this[R]=A&255,R+1},o.prototype.writeInt16LE=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,2,32767,-32768),this[R]=A&255,this[R+1]=A>>>8,R+2},o.prototype.writeInt16BE=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,2,32767,-32768),this[R]=A>>>8,this[R+1]=A&255,R+2},o.prototype.writeInt32LE=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,4,2147483647,-2147483648),this[R]=A&255,this[R+1]=A>>>8,this[R+2]=A>>>16,this[R+3]=A>>>24,R+4},o.prototype.writeInt32BE=function(A,R,H){return A=+A,R=R>>>0,H||O(this,A,R,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=A&255,R+4};function W(B,A,R,H,fe,ye){if(R+H>B.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function K(B,A,R,H,fe){return A=+A,R=R>>>0,fe||W(B,A,R,4),r.write(B,A,R,H,23,4),R+4}o.prototype.writeFloatLE=function(A,R,H){return K(this,A,R,!0,H)},o.prototype.writeFloatBE=function(A,R,H){return K(this,A,R,!1,H)};function re(B,A,R,H,fe){return A=+A,R=R>>>0,fe||W(B,A,R,8),r.write(B,A,R,H,52,8),R+8}o.prototype.writeDoubleLE=function(A,R,H){return re(this,A,R,!0,H)},o.prototype.writeDoubleBE=function(A,R,H){return re(this,A,R,!1,H)},o.prototype.copy=function(A,R,H,fe){if(!o.isBuffer(A))throw new TypeError("argument should be a Buffer");if(H||(H=0),!fe&&fe!==0&&(fe=this.length),R>=A.length&&(R=A.length),R||(R=0),fe>0&&fe<H&&(fe=H),fe===H||A.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),A.length-R<fe-H&&(fe=A.length-R+H);var ye=fe-H;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,H,fe):Uint8Array.prototype.set.call(A,this.subarray(H,fe),R),ye},o.prototype.fill=function(A,R,H,fe){if(typeof A=="string"){if(typeof R=="string"?(fe=R,R=0,H=this.length):typeof H=="string"&&(fe=H,H=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!o.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(A.length===1){var ye=A.charCodeAt(0);(fe==="utf8"&&ye<128||fe==="latin1")&&(A=ye)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(R<0||this.length<R||this.length<H)throw new RangeError("Out of range index");if(H<=R)return this;R=R>>>0,H=H===void 0?this.length:H>>>0,A||(A=0);var he;if(typeof A=="number")for(he=R;he<H;++he)this[he]=A;else{var Ae=o.isBuffer(A)?A:o.from(A,fe),De=Ae.length;if(De===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(he=0;he<H-R;++he)this[he+R]=Ae[he%De]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function P(B){if(B=B.split("=")[0],B=B.trim().replace(Y,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function L(B,A){A=A||1/0;for(var R,H=B.length,fe=null,ye=[],he=0;he<H;++he){if(R=B.charCodeAt(he),R>55295&&R<57344){if(!fe){if(R>56319){(A-=3)>-1&&ye.push(239,191,189);continue}else if(he+1===H){(A-=3)>-1&&ye.push(239,191,189);continue}fe=R;continue}if(R<56320){(A-=3)>-1&&ye.push(239,191,189),fe=R;continue}R=(fe-55296<<10|R-56320)+65536}else fe&&(A-=3)>-1&&ye.push(239,191,189);if(fe=null,R<128){if((A-=1)<0)break;ye.push(R)}else if(R<2048){if((A-=2)<0)break;ye.push(R>>6|192,R&63|128)}else if(R<65536){if((A-=3)<0)break;ye.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((A-=4)<0)break;ye.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ye}function oe(B){for(var A=[],R=0;R<B.length;++R)A.push(B.charCodeAt(R)&255);return A}function ee(B,A){for(var R,H,fe,ye=[],he=0;he<B.length&&!((A-=2)<0);++he)R=B.charCodeAt(he),H=R>>8,fe=R%256,ye.push(fe),ye.push(H);return ye}function ne(B){return t.toByteArray(P(B))}function z(B,A,R,H){for(var fe=0;fe<H&&!(fe+R>=A.length||fe>=B.length);++fe)A[fe+R]=B[fe];return fe}function be(B,A){return B instanceof A||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===A.name}function U(B){return B!==B}var we=(function(){for(var B="0123456789abcdef",A=new Array(256),R=0;R<16;++R)for(var H=R*16,fe=0;fe<16;++fe)A[H+fe]=B[R]+B[fe];return A})()})(vb)),vb}var bb={},wb={},Eb,o5;function HF(){return o5||(o5=1,Eb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;t[r]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==s||o.enumerable!==!0)return!1}return!0}),Eb}var _b,l5;function _S(){if(l5)return _b;l5=1;var e=HF();return _b=function(){return e()&&!!Symbol.toStringTag},_b}var Sb,c5;function qF(){return c5||(c5=1,Sb=Object),Sb}var Tb,u5;function uhe(){return u5||(u5=1,Tb=Error),Tb}var Nb,f5;function fhe(){return f5||(f5=1,Nb=EvalError),Nb}var Ab,d5;function dhe(){return d5||(d5=1,Ab=RangeError),Ab}var Cb,h5;function hhe(){return h5||(h5=1,Cb=ReferenceError),Cb}var kb,p5;function VF(){return p5||(p5=1,kb=SyntaxError),kb}var Rb,m5;function _0(){return m5||(m5=1,Rb=TypeError),Rb}var Ob,g5;function phe(){return g5||(g5=1,Ob=URIError),Ob}var jb,x5;function mhe(){return x5||(x5=1,jb=Math.abs),jb}var Db,y5;function ghe(){return y5||(y5=1,Db=Math.floor),Db}var Ib,v5;function xhe(){return v5||(v5=1,Ib=Math.max),Ib}var Mb,b5;function yhe(){return b5||(b5=1,Mb=Math.min),Mb}var Fb,w5;function vhe(){return w5||(w5=1,Fb=Math.pow),Fb}var Pb,E5;function bhe(){return E5||(E5=1,Pb=Math.round),Pb}var Lb,_5;function whe(){return _5||(_5=1,Lb=Number.isNaN||function(t){return t!==t}),Lb}var Bb,S5;function Ehe(){if(S5)return Bb;S5=1;var e=whe();return Bb=function(r){return e(r)||r===0?r:r<0?-1:1},Bb}var Ub,T5;function _he(){return T5||(T5=1,Ub=Object.getOwnPropertyDescriptor),Ub}var zb,N5;function S0(){if(N5)return zb;N5=1;var e=_he();if(e)try{e([],"length")}catch{e=null}return zb=e,zb}var Hb,A5;function Qx(){if(A5)return Hb;A5=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Hb=e,Hb}var qb,C5;function She(){if(C5)return qb;C5=1;var e=typeof Symbol<"u"&&Symbol,t=HF();return qb=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},qb}var Vb,k5;function $F(){return k5||(k5=1,Vb=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Vb}var $b,R5;function WF(){if(R5)return $b;R5=1;var e=qF();return $b=e.getPrototypeOf||null,$b}var Wb,O5;function The(){if(O5)return Wb;O5=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(c,f){for(var h=[],m=0;m<c.length;m+=1)h[m]=c[m];for(var x=0;x<f.length;x+=1)h[x+c.length]=f[x];return h},a=function(c,f){for(var h=[],m=f,x=0;m<c.length;m+=1,x+=1)h[x]=c[m];return h},i=function(o,c){for(var f="",h=0;h<o.length;h+=1)f+=o[h],h+1<o.length&&(f+=c);return f};return Wb=function(c){var f=this;if(typeof f!="function"||t.apply(f)!==n)throw new TypeError(e+f);for(var h=a(arguments,1),m,x=function(){if(this instanceof m){var E=f.apply(this,s(h,arguments));return Object(E)===E?E:this}return f.apply(c,s(h,arguments))},g=r(0,f.length-h.length),y=[],b=0;b<g;b++)y[b]="$"+b;if(m=Function("binder","return function ("+i(y,",")+"){ return binder.apply(this,arguments); }")(x),f.prototype){var w=function(){};w.prototype=f.prototype,m.prototype=new w,w.prototype=null}return m},Wb}var Gb,j5;function T0(){if(j5)return Gb;j5=1;var e=The();return Gb=Function.prototype.bind||e,Gb}var Kb,D5;function SS(){return D5||(D5=1,Kb=Function.prototype.call),Kb}var Xb,I5;function GF(){return I5||(I5=1,Xb=Function.prototype.apply),Xb}var Yb,M5;function Nhe(){return M5||(M5=1,Yb=typeof Reflect<"u"&&Reflect&&Reflect.apply),Yb}var Jb,F5;function Ahe(){if(F5)return Jb;F5=1;var e=T0(),t=GF(),r=SS(),n=Nhe();return Jb=n||e.call(r,t),Jb}var Zb,P5;function Che(){if(P5)return Zb;P5=1;var e=T0(),t=_0(),r=SS(),n=Ahe();return Zb=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return n(e,r,a)},Zb}var Qb,L5;function khe(){if(L5)return Qb;L5=1;var e=Che(),t=S0(),r;try{r=[].__proto__===Array.prototype}catch(i){if(!i||typeof i!="object"||!("code"in i)||i.code!=="ERR_PROTO_ACCESS")throw i}var n=!!r&&t&&t(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return Qb=n&&typeof n.get=="function"?e([n.get]):typeof a=="function"?(function(o){return a(o==null?o:s(o))}):!1,Qb}var ew,B5;function Rhe(){if(B5)return ew;B5=1;var e=$F(),t=WF(),r=khe();return ew=e?function(s){return e(s)}:t?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return t(s)}:r?function(s){return r(s)}:null,ew}var tw,U5;function Ohe(){if(U5)return tw;U5=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=T0();return tw=r.call(e,t),tw}var rw,z5;function TS(){if(z5)return rw;z5=1;var e,t=qF(),r=uhe(),n=fhe(),s=dhe(),a=hhe(),i=VF(),o=_0(),c=phe(),f=mhe(),h=ghe(),m=xhe(),x=yhe(),g=vhe(),y=bhe(),b=Ehe(),w=Function,E=function(oe){try{return w('"use strict"; return ('+oe+").constructor;")()}catch{}},T=S0(),_=Qx(),S=function(){throw new o},C=T?(function(){try{return arguments.callee,S}catch{try{return T(arguments,"callee").get}catch{return S}}})():S,I=She()(),j=Rhe(),q=WF(),D=$F(),Q=GF(),ae=SS(),F={},X=typeof Uint8Array>"u"||!j?e:j(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":I&&j?j([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":F,"%AsyncGenerator%":F,"%AsyncGeneratorFunction%":F,"%AsyncIteratorPrototype%":F,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":F,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&j?j(j([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!I||!j?e:j(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!I||!j?e:j(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&j?j(""[Symbol.iterator]()):e,"%Symbol%":I?Symbol:e,"%SyntaxError%":i,"%ThrowTypeError%":C,"%TypedArray%":X,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":ae,"%Function.prototype.apply%":Q,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":q,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":m,"%Math.min%":x,"%Math.pow%":g,"%Math.round%":y,"%Math.sign%":b,"%Reflect.getPrototypeOf%":D};if(j)try{null.error}catch(oe){var se=j(j(oe));M["%Error.prototype%"]=se}var J=function oe(ee){var ne;if(ee==="%AsyncFunction%")ne=E("async function () {}");else if(ee==="%GeneratorFunction%")ne=E("function* () {}");else if(ee==="%AsyncGeneratorFunction%")ne=E("async function* () {}");else if(ee==="%AsyncGenerator%"){var z=oe("%AsyncGeneratorFunction%");z&&(ne=z.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var be=oe("%AsyncGenerator%");be&&j&&(ne=j(be.prototype))}return M[ee]=ne,ne},Z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ge=T0(),ie=Ohe(),Ee=ge.call(ae,Array.prototype.concat),G=ge.call(Q,Array.prototype.splice),O=ge.call(ae,String.prototype.replace),W=ge.call(ae,String.prototype.slice),K=ge.call(ae,RegExp.prototype.exec),re=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,P=function(ee){var ne=W(ee,0,1),z=W(ee,-1);if(ne==="%"&&z!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(z==="%"&&ne!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var be=[];return O(ee,re,function(U,we,B,A){be[be.length]=B?O(A,Y,"$1"):we||U}),be},L=function(ee,ne){var z=ee,be;if(ie(Z,z)&&(be=Z[z],z="%"+be[0]+"%"),ie(M,z)){var U=M[z];if(U===F&&(U=J(z)),typeof U>"u"&&!ne)throw new o("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:be,name:z,value:U}}throw new i("intrinsic "+ee+" does not exist!")};return rw=function(ee,ne){if(typeof ee!="string"||ee.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ne!="boolean")throw new o('"allowMissing" argument must be a boolean');if(K(/^%?[^%]*%?$/,ee)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var z=P(ee),be=z.length>0?z[0]:"",U=L("%"+be+"%",ne),we=U.name,B=U.value,A=!1,R=U.alias;R&&(be=R[0],G(z,Ee([0,1],R)));for(var H=1,fe=!0;H<z.length;H+=1){var ye=z[H],he=W(ye,0,1),Ae=W(ye,-1);if((he==='"'||he==="'"||he==="`"||Ae==='"'||Ae==="'"||Ae==="`")&&he!==Ae)throw new i("property names with quotes must have matching quotes");if((ye==="constructor"||!fe)&&(A=!0),be+="."+ye,we="%"+be+"%",ie(M,we))B=M[we];else if(B!=null){if(!(ye in B)){if(!ne)throw new o("base intrinsic for "+ee+" exists, but the property is not available.");return}if(T&&H+1>=z.length){var De=T(B,ye);fe=!!De,fe&&"get"in De&&!("originalValue"in De.get)?B=De.get:B=B[ye]}else fe=ie(B,ye),B=B[ye];fe&&!A&&(M[we]=B)}}return B},rw}var nw={exports:{}},sw,H5;function jhe(){if(H5)return sw;H5=1;var e=Qx(),t=VF(),r=_0(),n=S0();return sw=function(a,i,o){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof i!="string"&&typeof i!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,x=!!n&&n(a,i);if(e)e(a,i,{configurable:h===null&&x?x.configurable:!h,enumerable:c===null&&x?x.enumerable:!c,value:o,writable:f===null&&x?x.writable:!f});else if(m||!c&&!f&&!h)a[i]=o;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},sw}var aw,q5;function Dhe(){if(q5)return aw;q5=1;var e=Qx(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},aw=t,aw}var iw,V5;function Ihe(){if(V5)return iw;V5=1;var e=TS(),t=jhe(),r=Dhe()(),n=S0(),s=_0(),a=e("%Math.floor%");return iw=function(o,c){if(typeof o!="function")throw new s("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new s("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],h=!0,m=!0;if("length"in o&&n){var x=n(o,"length");x&&!x.configurable&&(h=!1),x&&!x.writable&&(m=!1)}return(h||m||!f)&&(r?t(o,"length",c,!0,!0):t(o,"length",c)),o},iw}var $5;function KF(){return $5||($5=1,(function(e){var t=T0(),r=TS(),n=Ihe(),s=_0(),a=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||t.call(i,a),c=Qx(),f=r("%Math.max%");e.exports=function(x){if(typeof x!="function")throw new s("a function is required");var g=o(t,i,arguments);return n(g,1+f(0,x.length-(arguments.length-1)),!0)};var h=function(){return o(t,a,arguments)};c?c(e.exports,"apply",{value:h}):e.exports.apply=h})(nw)),nw.exports}var ow,W5;function XF(){if(W5)return ow;W5=1;var e=TS(),t=KF(),r=t(e("String.prototype.indexOf"));return ow=function(s,a){var i=e(s,!!a);return typeof i=="function"&&r(s,".prototype.")>-1?t(i):i},ow}var lw,G5;function Mhe(){if(G5)return lw;G5=1;var e=_S()(),t=XF(),r=t("Object.prototype.toString"),n=function(o){return e&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},s=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},a=(function(){return n(arguments)})();return n.isLegacyArguments=s,lw=a?n:s,lw}var cw,K5;function Fhe(){if(K5)return cw;K5=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=_S()(),s=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},i;return cw=function(c){if(typeof c!="function")return!1;if(r.test(t.call(c)))return!0;if(!n){var f=e.call(c);return f==="[object GeneratorFunction]"}if(!s)return!1;if(typeof i>"u"){var h=a();i=h?s(h):!1}return s(c)===i},cw}var uw,X5;function Phe(){if(X5)return uw;X5=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(T){T!==n&&(t=null)}else t=null;var s=/^\s*class\b/,a=function(_){try{var S=e.call(_);return s.test(S)}catch{return!1}},i=function(_){try{return a(_)?!1:(e.call(_),!0)}catch{return!1}},o=Object.prototype.toString,c="[object Object]",f="[object Function]",h="[object GeneratorFunction]",m="[object HTMLAllCollection]",x="[object HTML document.all class]",g="[object HTMLCollection]",y=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var E=document.all;o.call(E)===o.call(document.all)&&(w=function(_){if((b||!_)&&(typeof _>"u"||typeof _=="object"))try{var S=o.call(_);return(S===m||S===x||S===g||S===c)&&_("")==null}catch{}return!1})}return uw=t?function(_){if(w(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{t(_,null,r)}catch(S){if(S!==n)return!1}return!a(_)&&i(_)}:function(_){if(w(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(y)return i(_);if(a(_))return!1;var S=o.call(_);return S!==f&&S!==h&&!/^\[object HTML/.test(S)?!1:i(_)},uw}var fw,Y5;function Lhe(){if(Y5)return fw;Y5=1;var e=Phe(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(c,f,h){for(var m=0,x=c.length;m<x;m++)r.call(c,m)&&(h==null?f(c[m],m,c):f.call(h,c[m],m,c))},s=function(c,f,h){for(var m=0,x=c.length;m<x;m++)h==null?f(c.charAt(m),m,c):f.call(h,c.charAt(m),m,c)},a=function(c,f,h){for(var m in c)r.call(c,m)&&(h==null?f(c[m],m,c):f.call(h,c[m],m,c))},i=function(c,f,h){if(!e(f))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=h),t.call(c)==="[object Array]"?n(c,f,m):typeof c=="string"?s(c,f,m):a(c,f,m)};return fw=i,fw}var dw,J5;function Bhe(){return J5||(J5=1,dw=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),dw}var hw,Z5;function Uhe(){if(Z5)return hw;Z5=1;var e=Bhe(),t=typeof globalThis>"u"?pi:globalThis;return hw=function(){for(var n=[],s=0;s<e.length;s++)typeof t[e[s]]=="function"&&(n[n.length]=e[s]);return n},hw}var pw,Q5;function YF(){if(Q5)return pw;Q5=1;var e=Lhe(),t=Uhe(),r=KF(),n=XF(),s=S0(),a=n("Object.prototype.toString"),i=_S()(),o=typeof globalThis>"u"?pi:globalThis,c=t(),f=n("String.prototype.slice"),h=Object.getPrototypeOf,m=n("Array.prototype.indexOf",!0)||function(w,E){for(var T=0;T<w.length;T+=1)if(w[T]===E)return T;return-1},x={__proto__:null};i&&s&&h?e(c,function(b){var w=new o[b];if(Symbol.toStringTag in w){var E=h(w),T=s(E,Symbol.toStringTag);if(!T){var _=h(E);T=s(_,Symbol.toStringTag)}x["$"+b]=r(T.get)}}):e(c,function(b){var w=new o[b],E=w.slice||w.set;E&&(x["$"+b]=r(E))});var g=function(w){var E=!1;return e(x,function(T,_){if(!E)try{"$"+T(w)===_&&(E=f(_,1))}catch{}}),E},y=function(w){var E=!1;return e(x,function(T,_){if(!E)try{T(w),E=f(_,1)}catch{}}),E};return pw=function(w){if(!w||typeof w!="object")return!1;if(!i){var E=f(a(w),8,-1);return m(c,E)>-1?E:E!=="Object"?!1:y(w)}return s?g(w):null},pw}var mw,e6;function zhe(){if(e6)return mw;e6=1;var e=YF();return mw=function(r){return!!e(r)},mw}var t6;function Hhe(){return t6||(t6=1,(function(e){var t=Mhe(),r=Fhe(),n=YF(),s=zhe();function a(H){return H.call.bind(H)}var i=typeof BigInt<"u",o=typeof Symbol<"u",c=a(Object.prototype.toString),f=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),m=a(Boolean.prototype.valueOf);if(i)var x=a(BigInt.prototype.valueOf);if(o)var g=a(Symbol.prototype.valueOf);function y(H,fe){if(typeof H!="object")return!1;try{return fe(H),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=s;function b(H){return typeof Promise<"u"&&H instanceof Promise||H!==null&&typeof H=="object"&&typeof H.then=="function"&&typeof H.catch=="function"}e.isPromise=b;function w(H){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(H):s(H)||W(H)}e.isArrayBufferView=w;function E(H){return n(H)==="Uint8Array"}e.isUint8Array=E;function T(H){return n(H)==="Uint8ClampedArray"}e.isUint8ClampedArray=T;function _(H){return n(H)==="Uint16Array"}e.isUint16Array=_;function S(H){return n(H)==="Uint32Array"}e.isUint32Array=S;function C(H){return n(H)==="Int8Array"}e.isInt8Array=C;function I(H){return n(H)==="Int16Array"}e.isInt16Array=I;function j(H){return n(H)==="Int32Array"}e.isInt32Array=j;function q(H){return n(H)==="Float32Array"}e.isFloat32Array=q;function D(H){return n(H)==="Float64Array"}e.isFloat64Array=D;function Q(H){return n(H)==="BigInt64Array"}e.isBigInt64Array=Q;function ae(H){return n(H)==="BigUint64Array"}e.isBigUint64Array=ae;function F(H){return c(H)==="[object Map]"}F.working=typeof Map<"u"&&F(new Map);function X(H){return typeof Map>"u"?!1:F.working?F(H):H instanceof Map}e.isMap=X;function M(H){return c(H)==="[object Set]"}M.working=typeof Set<"u"&&M(new Set);function se(H){return typeof Set>"u"?!1:M.working?M(H):H instanceof Set}e.isSet=se;function J(H){return c(H)==="[object WeakMap]"}J.working=typeof WeakMap<"u"&&J(new WeakMap);function Z(H){return typeof WeakMap>"u"?!1:J.working?J(H):H instanceof WeakMap}e.isWeakMap=Z;function ge(H){return c(H)==="[object WeakSet]"}ge.working=typeof WeakSet<"u"&&ge(new WeakSet);function ie(H){return ge(H)}e.isWeakSet=ie;function Ee(H){return c(H)==="[object ArrayBuffer]"}Ee.working=typeof ArrayBuffer<"u"&&Ee(new ArrayBuffer);function G(H){return typeof ArrayBuffer>"u"?!1:Ee.working?Ee(H):H instanceof ArrayBuffer}e.isArrayBuffer=G;function O(H){return c(H)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function W(H){return typeof DataView>"u"?!1:O.working?O(H):H instanceof DataView}e.isDataView=W;var K=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(H){return c(H)==="[object SharedArrayBuffer]"}function Y(H){return typeof K>"u"?!1:(typeof re.working>"u"&&(re.working=re(new K)),re.working?re(H):H instanceof K)}e.isSharedArrayBuffer=Y;function P(H){return c(H)==="[object AsyncFunction]"}e.isAsyncFunction=P;function L(H){return c(H)==="[object Map Iterator]"}e.isMapIterator=L;function oe(H){return c(H)==="[object Set Iterator]"}e.isSetIterator=oe;function ee(H){return c(H)==="[object Generator]"}e.isGeneratorObject=ee;function ne(H){return c(H)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=ne;function z(H){return y(H,f)}e.isNumberObject=z;function be(H){return y(H,h)}e.isStringObject=be;function U(H){return y(H,m)}e.isBooleanObject=U;function we(H){return i&&y(H,x)}e.isBigIntObject=we;function B(H){return o&&y(H,g)}e.isSymbolObject=B;function A(H){return z(H)||be(H)||U(H)||we(H)||B(H)}e.isBoxedPrimitive=A;function R(H){return typeof Uint8Array<"u"&&(G(H)||Y(H))}e.isAnyArrayBuffer=R,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(H){Object.defineProperty(e,H,{enumerable:!1,value:function(){throw new Error(H+" is not supported in userland")}})})})(wb)),wb}var gw,r6;function qhe(){return r6||(r6=1,gw=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),gw}var n6;function JF(){return n6||(n6=1,(function(e){var t=Object.getOwnPropertyDescriptors||function(W){for(var K=Object.keys(W),re={},Y=0;Y<K.length;Y++)re[K[Y]]=Object.getOwnPropertyDescriptor(W,K[Y]);return re},r=/%[sdj%]/g;e.format=function(O){if(!C(O)){for(var W=[],K=0;K<arguments.length;K++)W.push(i(arguments[K]));return W.join(" ")}for(var K=1,re=arguments,Y=re.length,P=String(O).replace(r,function(oe){if(oe==="%%")return"%";if(K>=Y)return oe;switch(oe){case"%s":return String(re[K++]);case"%d":return Number(re[K++]);case"%j":try{return JSON.stringify(re[K++])}catch{return"[Circular]"}default:return oe}}),L=re[K];K<Y;L=re[++K])T(L)||!D(L)?P+=" "+L:P+=" "+i(L);return P},e.deprecate=function(O,W){if(typeof Rt<"u"&&Rt.noDeprecation===!0)return O;if(typeof Rt>"u")return function(){return e.deprecate(O,W).apply(this,arguments)};var K=!1;function re(){if(!K){if(Rt.throwDeprecation)throw new Error(W);Rt.traceDeprecation?console.trace(W):console.error(W),K=!0}return O.apply(this,arguments)}return re};var n={},s=/^$/;if(Rt.env.NODE_DEBUG){var a=Rt.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}e.debuglog=function(O){if(O=O.toUpperCase(),!n[O])if(s.test(O)){var W=Rt.pid;n[O]=function(){var K=e.format.apply(e,arguments);console.error("%s %d: %s",O,W,K)}}else n[O]=function(){};return n[O]};function i(O,W){var K={seen:[],stylize:c};return arguments.length>=3&&(K.depth=arguments[2]),arguments.length>=4&&(K.colors=arguments[3]),E(W)?K.showHidden=W:W&&e._extend(K,W),j(K.showHidden)&&(K.showHidden=!1),j(K.depth)&&(K.depth=2),j(K.colors)&&(K.colors=!1),j(K.customInspect)&&(K.customInspect=!0),K.colors&&(K.stylize=o),h(K,O,K.depth)}e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(O,W){var K=i.styles[W];return K?"\x1B["+i.colors[K][0]+"m"+O+"\x1B["+i.colors[K][1]+"m":O}function c(O,W){return O}function f(O){var W={};return O.forEach(function(K,re){W[K]=!0}),W}function h(O,W,K){if(O.customInspect&&W&&F(W.inspect)&&W.inspect!==e.inspect&&!(W.constructor&&W.constructor.prototype===W)){var re=W.inspect(K,O);return C(re)||(re=h(O,re,K)),re}var Y=m(O,W);if(Y)return Y;var P=Object.keys(W),L=f(P);if(O.showHidden&&(P=Object.getOwnPropertyNames(W)),ae(W)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return x(W);if(P.length===0){if(F(W)){var oe=W.name?": "+W.name:"";return O.stylize("[Function"+oe+"]","special")}if(q(W))return O.stylize(RegExp.prototype.toString.call(W),"regexp");if(Q(W))return O.stylize(Date.prototype.toString.call(W),"date");if(ae(W))return x(W)}var ee="",ne=!1,z=["{","}"];if(w(W)&&(ne=!0,z=["[","]"]),F(W)){var be=W.name?": "+W.name:"";ee=" [Function"+be+"]"}if(q(W)&&(ee=" "+RegExp.prototype.toString.call(W)),Q(W)&&(ee=" "+Date.prototype.toUTCString.call(W)),ae(W)&&(ee=" "+x(W)),P.length===0&&(!ne||W.length==0))return z[0]+ee+z[1];if(K<0)return q(W)?O.stylize(RegExp.prototype.toString.call(W),"regexp"):O.stylize("[Object]","special");O.seen.push(W);var U;return ne?U=g(O,W,K,L,P):U=P.map(function(we){return y(O,W,K,L,we,ne)}),O.seen.pop(),b(U,ee,z)}function m(O,W){if(j(W))return O.stylize("undefined","undefined");if(C(W)){var K="'"+JSON.stringify(W).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(K,"string")}if(S(W))return O.stylize(""+W,"number");if(E(W))return O.stylize(""+W,"boolean");if(T(W))return O.stylize("null","null")}function x(O){return"["+Error.prototype.toString.call(O)+"]"}function g(O,W,K,re,Y){for(var P=[],L=0,oe=W.length;L<oe;++L)ge(W,String(L))?P.push(y(O,W,K,re,String(L),!0)):P.push("");return Y.forEach(function(ee){ee.match(/^\d+$/)||P.push(y(O,W,K,re,ee,!0))}),P}function y(O,W,K,re,Y,P){var L,oe,ee;if(ee=Object.getOwnPropertyDescriptor(W,Y)||{value:W[Y]},ee.get?ee.set?oe=O.stylize("[Getter/Setter]","special"):oe=O.stylize("[Getter]","special"):ee.set&&(oe=O.stylize("[Setter]","special")),ge(re,Y)||(L="["+Y+"]"),oe||(O.seen.indexOf(ee.value)<0?(T(K)?oe=h(O,ee.value,null):oe=h(O,ee.value,K-1),oe.indexOf(`
`)>-1&&(P?oe=oe.split(`
`).map(function(ne){return"  "+ne}).join(`
`).slice(2):oe=`
`+oe.split(`
`).map(function(ne){return"   "+ne}).join(`
`))):oe=O.stylize("[Circular]","special")),j(L)){if(P&&Y.match(/^\d+$/))return oe;L=JSON.stringify(""+Y),L.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.slice(1,-1),L=O.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=O.stylize(L,"string"))}return L+": "+oe}function b(O,W,K){var re=O.reduce(function(Y,P){return P.indexOf(`
`)>=0,Y+P.replace(/\u001b\[\d\d?m/g,"").length+1},0);return re>60?K[0]+(W===""?"":W+`
 `)+" "+O.join(`,
  `)+" "+K[1]:K[0]+W+" "+O.join(", ")+" "+K[1]}e.types=Hhe();function w(O){return Array.isArray(O)}e.isArray=w;function E(O){return typeof O=="boolean"}e.isBoolean=E;function T(O){return O===null}e.isNull=T;function _(O){return O==null}e.isNullOrUndefined=_;function S(O){return typeof O=="number"}e.isNumber=S;function C(O){return typeof O=="string"}e.isString=C;function I(O){return typeof O=="symbol"}e.isSymbol=I;function j(O){return O===void 0}e.isUndefined=j;function q(O){return D(O)&&M(O)==="[object RegExp]"}e.isRegExp=q,e.types.isRegExp=q;function D(O){return typeof O=="object"&&O!==null}e.isObject=D;function Q(O){return D(O)&&M(O)==="[object Date]"}e.isDate=Q,e.types.isDate=Q;function ae(O){return D(O)&&(M(O)==="[object Error]"||O instanceof Error)}e.isError=ae,e.types.isNativeError=ae;function F(O){return typeof O=="function"}e.isFunction=F;function X(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}e.isPrimitive=X,e.isBuffer=qhe();function M(O){return Object.prototype.toString.call(O)}function se(O){return O<10?"0"+O.toString(10):O.toString(10)}var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z(){var O=new Date,W=[se(O.getHours()),se(O.getMinutes()),se(O.getSeconds())].join(":");return[O.getDate(),J[O.getMonth()],W].join(" ")}e.log=function(){console.log("%s - %s",Z(),e.format.apply(e,arguments))},e.inherits=Cl(),e._extend=function(O,W){if(!W||!D(W))return O;for(var K=Object.keys(W),re=K.length;re--;)O[K[re]]=W[K[re]];return O};function ge(O,W){return Object.prototype.hasOwnProperty.call(O,W)}var ie=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');if(ie&&W[ie]){var K=W[ie];if(typeof K!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(K,ie,{value:K,enumerable:!1,writable:!1,configurable:!0}),K}function K(){for(var re,Y,P=new Promise(function(ee,ne){re=ee,Y=ne}),L=[],oe=0;oe<arguments.length;oe++)L.push(arguments[oe]);L.push(function(ee,ne){ee?Y(ee):re(ne)});try{W.apply(this,L)}catch(ee){Y(ee)}return P}return Object.setPrototypeOf(K,Object.getPrototypeOf(W)),ie&&Object.defineProperty(K,ie,{value:K,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(K,t(W))},e.promisify.custom=ie;function Ee(O,W){if(!O){var K=new Error("Promise was rejected with a falsy value");K.reason=O,O=K}return W(O)}function G(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function W(){for(var K=[],re=0;re<arguments.length;re++)K.push(arguments[re]);var Y=K.pop();if(typeof Y!="function")throw new TypeError("The last argument must be of type Function");var P=this,L=function(){return Y.apply(P,arguments)};O.apply(this,K).then(function(oe){Rt.nextTick(L.bind(null,null,oe))},function(oe){Rt.nextTick(Ee.bind(null,oe,L))})}return Object.setPrototypeOf(W,Object.getPrototypeOf(O)),Object.defineProperties(W,t(O)),W}e.callbackify=G})(bb)),bb}var xw,s6;function Vhe(){if(s6)return xw;s6=1;function e(x,g){var y=Object.keys(x);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(x);g&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(x,w).enumerable})),y.push.apply(y,b)}return y}function t(x){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?e(Object(y),!0).forEach(function(b){r(x,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(y)):e(Object(y)).forEach(function(b){Object.defineProperty(x,b,Object.getOwnPropertyDescriptor(y,b))})}return x}function r(x,g,y){return g in x?Object.defineProperty(x,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):x[g]=y,x}function n(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function s(x,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}function a(x,g,y){return g&&s(x.prototype,g),x}var i=Zx(),o=i.Buffer,c=JF(),f=c.inspect,h=f&&f.custom||"inspect";function m(x,g,y){o.prototype.copy.call(x,g,y)}return xw=(function(){function x(){n(this,x),this.head=null,this.tail=null,this.length=0}return a(x,[{key:"push",value:function(y){var b={data:y,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(y){var b={data:y,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var b=this.head,w=""+b.data;b=b.next;)w+=y+b.data;return w}},{key:"concat",value:function(y){if(this.length===0)return o.alloc(0);for(var b=o.allocUnsafe(y>>>0),w=this.head,E=0;w;)m(w.data,b,E),E+=w.data.length,w=w.next;return b}},{key:"consume",value:function(y,b){var w;return y<this.head.data.length?(w=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?w=this.shift():w=b?this._getString(y):this._getBuffer(y),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var b=this.head,w=1,E=b.data;for(y-=E.length;b=b.next;){var T=b.data,_=y>T.length?T.length:y;if(_===T.length?E+=T:E+=T.slice(0,y),y-=_,y===0){_===T.length?(++w,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=T.slice(_));break}++w}return this.length-=w,E}},{key:"_getBuffer",value:function(y){var b=o.allocUnsafe(y),w=this.head,E=1;for(w.data.copy(b),y-=w.data.length;w=w.next;){var T=w.data,_=y>T.length?T.length:y;if(T.copy(b,b.length-y,0,_),y-=_,y===0){_===T.length?(++E,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=T.slice(_));break}++E}return this.length-=E,b}},{key:h,value:function(y,b){return f(this,t({},b,{depth:0,customInspect:!1}))}}]),x})(),xw}var yw,a6;function ZF(){if(a6)return yw;a6=1;function e(i,o){var c=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(o?o(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Rt.nextTick(s,this,i)):Rt.nextTick(s,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(m){!o&&m?c._writableState?c._writableState.errorEmitted?Rt.nextTick(r,c):(c._writableState.errorEmitted=!0,Rt.nextTick(t,c,m)):Rt.nextTick(t,c,m):o?(Rt.nextTick(r,c),o(m)):Rt.nextTick(r,c)}),this)}function t(i,o){s(i,o),r(i)}function r(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(i,o){i.emit("error",o)}function a(i,o){var c=i._readableState,f=i._writableState;c&&c.autoDestroy||f&&f.autoDestroy?i.destroy(o):i.emit("error",o)}return yw={destroy:e,undestroy:n,errorOrDestroy:a},yw}var vw={},i6;function Rf(){if(i6)return vw;i6=1;function e(o,c){o.prototype=Object.create(c.prototype),o.prototype.constructor=o,o.__proto__=c}var t={};function r(o,c,f){f||(f=Error);function h(x,g,y){return typeof c=="string"?c:c(x,g,y)}var m=(function(x){e(g,x);function g(y,b,w){return x.call(this,h(y,b,w))||this}return g})(f);m.prototype.name=f.name,m.prototype.code=o,t[o]=m}function n(o,c){if(Array.isArray(o)){var f=o.length;return o=o.map(function(h){return String(h)}),f>2?"one of ".concat(c," ").concat(o.slice(0,f-1).join(", "),", or ")+o[f-1]:f===2?"one of ".concat(c," ").concat(o[0]," or ").concat(o[1]):"of ".concat(c," ").concat(o[0])}else return"of ".concat(c," ").concat(String(o))}function s(o,c,f){return o.substr(0,c.length)===c}function a(o,c,f){return(f===void 0||f>o.length)&&(f=o.length),o.substring(f-c.length,f)===c}function i(o,c,f){return typeof f!="number"&&(f=0),f+c.length>o.length?!1:o.indexOf(c,f)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,c){return'The value "'+c+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,c,f){var h;typeof c=="string"&&s(c,"not ")?(h="must not be",c=c.replace(/^not /,"")):h="must be";var m;if(a(o," argument"))m="The ".concat(o," ").concat(h," ").concat(n(c,"type"));else{var x=i(o,".")?"property":"argument";m='The "'.concat(o,'" ').concat(x," ").concat(h," ").concat(n(c,"type"))}return m+=". Received type ".concat(typeof f),m},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),vw.codes=t,vw}var bw,o6;function QF(){if(o6)return bw;o6=1;var e=Rf().codes.ERR_INVALID_OPT_VALUE;function t(n,s,a){return n.highWaterMark!=null?n.highWaterMark:s?n[a]:null}function r(n,s,a,i){var o=t(s,i,a);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var c=i?a:"highWaterMark";throw new e(c,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return bw={getHighWaterMark:r},bw}var ww,l6;function $he(){if(l6)return ww;l6=1,ww=e;function e(r,n){if(t("noDeprecation"))return r;var s=!1;function a(){if(!s){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),s=!0}return r.apply(this,arguments)}return a}function t(r){try{if(!pi.localStorage)return!1}catch{return!1}var n=pi.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return ww}var Ew,c6;function eP(){if(c6)return Ew;c6=1,Ew=q;function e(Y){var P=this;this.next=null,this.entry=null,this.finish=function(){re(P,Y)}}var t;q.WritableState=I;var r={deprecate:$he()},n=zF(),s=Zx().Buffer,a=pi.Uint8Array||function(){};function i(Y){return s.from(Y)}function o(Y){return s.isBuffer(Y)||Y instanceof a}var c=ZF(),f=QF(),h=f.getHighWaterMark,m=Rf().codes,x=m.ERR_INVALID_ARG_TYPE,g=m.ERR_METHOD_NOT_IMPLEMENTED,y=m.ERR_MULTIPLE_CALLBACK,b=m.ERR_STREAM_CANNOT_PIPE,w=m.ERR_STREAM_DESTROYED,E=m.ERR_STREAM_NULL_VALUES,T=m.ERR_STREAM_WRITE_AFTER_END,_=m.ERR_UNKNOWN_ENCODING,S=c.errorOrDestroy;Cl()(q,n);function C(){}function I(Y,P,L){t=t||sf(),Y=Y||{},typeof L!="boolean"&&(L=P instanceof t),this.objectMode=!!Y.objectMode,L&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=h(this,Y,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var oe=Y.decodeStrings===!1;this.decodeStrings=!oe,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ee){J(P,ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var P=this.bufferedRequest,L=[];P;)L.push(P),P=P.next;return L},(function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var j;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(j=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(P){return j.call(this,P)?!0:this!==q?!1:P&&P._writableState instanceof I}})):j=function(P){return P instanceof this};function q(Y){t=t||sf();var P=this instanceof t;if(!P&&!j.call(q,this))return new q(Y);this._writableState=new I(Y,this,P),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),n.call(this)}q.prototype.pipe=function(){S(this,new b)};function D(Y,P){var L=new T;S(Y,L),Rt.nextTick(P,L)}function Q(Y,P,L,oe){var ee;return L===null?ee=new E:typeof L!="string"&&!P.objectMode&&(ee=new x("chunk",["string","Buffer"],L)),ee?(S(Y,ee),Rt.nextTick(oe,ee),!1):!0}q.prototype.write=function(Y,P,L){var oe=this._writableState,ee=!1,ne=!oe.objectMode&&o(Y);return ne&&!s.isBuffer(Y)&&(Y=i(Y)),typeof P=="function"&&(L=P,P=null),ne?P="buffer":P||(P=oe.defaultEncoding),typeof L!="function"&&(L=C),oe.ending?D(this,L):(ne||Q(this,oe,Y,L))&&(oe.pendingcb++,ee=F(this,oe,ne,Y,P,L)),ee},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&ie(this,Y))},q.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new _(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ae(Y,P,L){return!Y.objectMode&&Y.decodeStrings!==!1&&typeof P=="string"&&(P=s.from(P,L)),P}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(Y,P,L,oe,ee,ne){if(!L){var z=ae(P,oe,ee);oe!==z&&(L=!0,ee="buffer",oe=z)}var be=P.objectMode?1:oe.length;P.length+=be;var U=P.length<P.highWaterMark;if(U||(P.needDrain=!0),P.writing||P.corked){var we=P.lastBufferedRequest;P.lastBufferedRequest={chunk:oe,encoding:ee,isBuf:L,callback:ne,next:null},we?we.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else X(Y,P,!1,be,oe,ee,ne);return U}function X(Y,P,L,oe,ee,ne,z){P.writelen=oe,P.writecb=z,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new w("write")):L?Y._writev(ee,P.onwrite):Y._write(ee,ne,P.onwrite),P.sync=!1}function M(Y,P,L,oe,ee){--P.pendingcb,L?(Rt.nextTick(ee,oe),Rt.nextTick(W,Y,P),Y._writableState.errorEmitted=!0,S(Y,oe)):(ee(oe),Y._writableState.errorEmitted=!0,S(Y,oe),W(Y,P))}function se(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function J(Y,P){var L=Y._writableState,oe=L.sync,ee=L.writecb;if(typeof ee!="function")throw new y;if(se(L),P)M(Y,L,oe,P,ee);else{var ne=Ee(L)||Y.destroyed;!ne&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&ie(Y,L),oe?Rt.nextTick(Z,Y,L,ne,ee):Z(Y,L,ne,ee)}}function Z(Y,P,L,oe){L||ge(Y,P),P.pendingcb--,oe(),W(Y,P)}function ge(Y,P){P.length===0&&P.needDrain&&(P.needDrain=!1,Y.emit("drain"))}function ie(Y,P){P.bufferProcessing=!0;var L=P.bufferedRequest;if(Y._writev&&L&&L.next){var oe=P.bufferedRequestCount,ee=new Array(oe),ne=P.corkedRequestsFree;ne.entry=L;for(var z=0,be=!0;L;)ee[z]=L,L.isBuf||(be=!1),L=L.next,z+=1;ee.allBuffers=be,X(Y,P,!0,P.length,ee,"",ne.finish),P.pendingcb++,P.lastBufferedRequest=null,ne.next?(P.corkedRequestsFree=ne.next,ne.next=null):P.corkedRequestsFree=new e(P),P.bufferedRequestCount=0}else{for(;L;){var U=L.chunk,we=L.encoding,B=L.callback,A=P.objectMode?1:U.length;if(X(Y,P,!1,A,U,we,B),L=L.next,P.bufferedRequestCount--,P.writing)break}L===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=L,P.bufferProcessing=!1}q.prototype._write=function(Y,P,L){L(new g("_write()"))},q.prototype._writev=null,q.prototype.end=function(Y,P,L){var oe=this._writableState;return typeof Y=="function"?(L=Y,Y=null,P=null):typeof P=="function"&&(L=P,P=null),Y!=null&&this.write(Y,P),oe.corked&&(oe.corked=1,this.uncork()),oe.ending||K(this,oe,L),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ee(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function G(Y,P){Y._final(function(L){P.pendingcb--,L&&S(Y,L),P.prefinished=!0,Y.emit("prefinish"),W(Y,P)})}function O(Y,P){!P.prefinished&&!P.finalCalled&&(typeof Y._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,Rt.nextTick(G,Y,P)):(P.prefinished=!0,Y.emit("prefinish")))}function W(Y,P){var L=Ee(P);if(L&&(O(Y,P),P.pendingcb===0&&(P.finished=!0,Y.emit("finish"),P.autoDestroy))){var oe=Y._readableState;(!oe||oe.autoDestroy&&oe.endEmitted)&&Y.destroy()}return L}function K(Y,P,L){P.ending=!0,W(Y,P),L&&(P.finished?Rt.nextTick(L):Y.once("finish",L)),P.ended=!0,Y.writable=!1}function re(Y,P,L){var oe=Y.entry;for(Y.entry=null;oe;){var ee=oe.callback;P.pendingcb--,ee(L),oe=oe.next}P.corkedRequestsFree.next=Y}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),q.prototype.destroy=c.destroy,q.prototype._undestroy=c.undestroy,q.prototype._destroy=function(Y,P){P(Y)},Ew}var _w,u6;function sf(){if(u6)return _w;u6=1;var e=Object.keys||function(f){var h=[];for(var m in f)h.push(m);return h};_w=i;var t=tP(),r=eP();Cl()(i,t);for(var n=e(r.prototype),s=0;s<n.length;s++){var a=n[s];i.prototype[a]||(i.prototype[a]=r.prototype[a])}function i(f){if(!(this instanceof i))return new i(f);t.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Rt.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),_w}var Sw={},vm={exports:{}},f6;function Whe(){return f6||(f6=1,(function(e,t){var r=Zx(),n=r.Buffer;function s(i,o){for(var c in i)o[c]=i[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=a);function a(i,o,c){return n(i,o,c)}s(n,a),a.from=function(i,o,c){if(typeof i=="number")throw new TypeError("Argument must not be a number");return n(i,o,c)},a.alloc=function(i,o,c){if(typeof i!="number")throw new TypeError("Argument must be a number");var f=n(i);return o!==void 0?typeof c=="string"?f.fill(o,c):f.fill(o):f.fill(0),f},a.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return n(i)},a.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(i)}})(vm,vm.exports)),vm.exports}var d6;function yE(){if(d6)return Sw;d6=1;var e=Whe().Buffer,t=e.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(E){if(!E)return"utf8";for(var T;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(T)return;E=(""+E).toLowerCase(),T=!0}}function n(E){var T=r(E);if(typeof T!="string"&&(e.isEncoding===t||!t(E)))throw new Error("Unknown encoding: "+E);return T||E}Sw.StringDecoder=s;function s(E){this.encoding=n(E);var T;switch(this.encoding){case"utf16le":this.text=m,this.end=x,T=4;break;case"utf8":this.fillLast=c,T=4;break;case"base64":this.text=g,this.end=y,T=3;break;default:this.write=b,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(T)}s.prototype.write=function(E){if(E.length===0)return"";var T,_;if(this.lastNeed){if(T=this.fillLast(E),T===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<E.length?T?T+this.text(E,_):this.text(E,_):T||""},s.prototype.end=h,s.prototype.text=f,s.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function a(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function i(E,T,_){var S=T.length-1;if(S<_)return 0;var C=a(T[S]);return C>=0?(C>0&&(E.lastNeed=C-1),C):--S<_||C===-2?0:(C=a(T[S]),C>=0?(C>0&&(E.lastNeed=C-2),C):--S<_||C===-2?0:(C=a(T[S]),C>=0?(C>0&&(C===2?C=0:E.lastNeed=C-3),C):0))}function o(E,T,_){if((T[0]&192)!==128)return E.lastNeed=0,"";if(E.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return E.lastNeed=1,"";if(E.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return E.lastNeed=2,""}}function c(E){var T=this.lastTotal-this.lastNeed,_=o(this,E);if(_!==void 0)return _;if(this.lastNeed<=E.length)return E.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,T,0,E.length),this.lastNeed-=E.length}function f(E,T){var _=i(this,E,T);if(!this.lastNeed)return E.toString("utf8",T);this.lastTotal=_;var S=E.length-(_-this.lastNeed);return E.copy(this.lastChar,0,S),E.toString("utf8",T,S)}function h(E){var T=E&&E.length?this.write(E):"";return this.lastNeed?T+"":T}function m(E,T){if((E.length-T)%2===0){var _=E.toString("utf16le",T);if(_){var S=_.charCodeAt(_.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",T,E.length-1)}function x(E){var T=E&&E.length?this.write(E):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,_)}return T}function g(E,T){var _=(E.length-T)%3;return _===0?E.toString("base64",T):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",T,E.length-_))}function y(E){var T=E&&E.length?this.write(E):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function b(E){return E.toString(this.encoding)}function w(E){return E&&E.length?this.write(E):""}return Sw}var Tw,h6;function NS(){if(h6)return Tw;h6=1;var e=Rf().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var i=!1;return function(){if(!i){i=!0;for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];a.apply(this,c)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function s(a,i,o){if(typeof i=="function")return s(a,null,i);i||(i={}),o=t(o||r);var c=i.readable||i.readable!==!1&&a.readable,f=i.writable||i.writable!==!1&&a.writable,h=function(){a.writable||x()},m=a._writableState&&a._writableState.finished,x=function(){f=!1,m=!0,c||o.call(a)},g=a._readableState&&a._readableState.endEmitted,y=function(){c=!1,g=!0,f||o.call(a)},b=function(_){o.call(a,_)},w=function(){var _;if(c&&!g)return(!a._readableState||!a._readableState.ended)&&(_=new e),o.call(a,_);if(f&&!m)return(!a._writableState||!a._writableState.ended)&&(_=new e),o.call(a,_)},E=function(){a.req.on("finish",x)};return n(a)?(a.on("complete",x),a.on("abort",w),a.req?E():a.on("request",E)):f&&!a._writableState&&(a.on("end",h),a.on("close",h)),a.on("end",y),a.on("finish",x),i.error!==!1&&a.on("error",b),a.on("close",w),function(){a.removeListener("complete",x),a.removeListener("abort",w),a.removeListener("request",E),a.req&&a.req.removeListener("finish",x),a.removeListener("end",h),a.removeListener("close",h),a.removeListener("finish",x),a.removeListener("end",y),a.removeListener("error",b),a.removeListener("close",w)}}return Tw=s,Tw}var Nw,p6;function Ghe(){if(p6)return Nw;p6=1;var e;function t(E,T,_){return T in E?Object.defineProperty(E,T,{value:_,enumerable:!0,configurable:!0,writable:!0}):E[T]=_,E}var r=NS(),n=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),i=Symbol("ended"),o=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function h(E,T){return{value:E,done:T}}function m(E){var T=E[n];if(T!==null){var _=E[f].read();_!==null&&(E[o]=null,E[n]=null,E[s]=null,T(h(_,!1)))}}function x(E){Rt.nextTick(m,E)}function g(E,T){return function(_,S){E.then(function(){if(T[i]){_(h(void 0,!0));return}T[c](_,S)},S)}}var y=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((e={get stream(){return this[f]},next:function(){var T=this,_=this[a];if(_!==null)return Promise.reject(_);if(this[i])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(j,q){Rt.nextTick(function(){T[a]?q(T[a]):j(h(void 0,!0))})});var S=this[o],C;if(S)C=new Promise(g(S,this));else{var I=this[f].read();if(I!==null)return Promise.resolve(h(I,!1));C=new Promise(this[c])}return this[o]=C,C}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var T=this;return new Promise(function(_,S){T[f].destroy(null,function(C){if(C){S(C);return}_(h(void 0,!0))})})}),e),y),w=function(T){var _,S=Object.create(b,(_={},t(_,f,{value:T,writable:!0}),t(_,n,{value:null,writable:!0}),t(_,s,{value:null,writable:!0}),t(_,a,{value:null,writable:!0}),t(_,i,{value:T._readableState.endEmitted,writable:!0}),t(_,c,{value:function(I,j){var q=S[f].read();q?(S[o]=null,S[n]=null,S[s]=null,I(h(q,!1))):(S[n]=I,S[s]=j)},writable:!0}),_));return S[o]=null,r(T,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=S[s];I!==null&&(S[o]=null,S[n]=null,S[s]=null,I(C)),S[a]=C;return}var j=S[n];j!==null&&(S[o]=null,S[n]=null,S[s]=null,j(h(void 0,!0))),S[i]=!0}),T.on("readable",x.bind(null,S)),S};return Nw=w,Nw}var Aw,m6;function Khe(){return m6||(m6=1,Aw=function(){throw new Error("Readable.from is not available in the browser")}),Aw}var Cw,g6;function tP(){if(g6)return Cw;g6=1,Cw=D;var e;D.ReadableState=q,ES().EventEmitter;var t=function(z,be){return z.listeners(be).length},r=zF(),n=Zx().Buffer,s=pi.Uint8Array||function(){};function a(ne){return n.from(ne)}function i(ne){return n.isBuffer(ne)||ne instanceof s}var o=JF(),c;o&&o.debuglog?c=o.debuglog("stream"):c=function(){};var f=Vhe(),h=ZF(),m=QF(),x=m.getHighWaterMark,g=Rf().codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,T,_,S;Cl()(D,r);var C=h.errorOrDestroy,I=["error","close","destroy","pause","resume"];function j(ne,z,be){if(typeof ne.prependListener=="function")return ne.prependListener(z,be);!ne._events||!ne._events[z]?ne.on(z,be):Array.isArray(ne._events[z])?ne._events[z].unshift(be):ne._events[z]=[be,ne._events[z]]}function q(ne,z,be){e=e||sf(),ne=ne||{},typeof be!="boolean"&&(be=z instanceof e),this.objectMode=!!ne.objectMode,be&&(this.objectMode=this.objectMode||!!ne.readableObjectMode),this.highWaterMark=x(this,ne,"readableHighWaterMark",be),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ne.emitClose!==!1,this.autoDestroy=!!ne.autoDestroy,this.destroyed=!1,this.defaultEncoding=ne.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ne.encoding&&(T||(T=yE().StringDecoder),this.decoder=new T(ne.encoding),this.encoding=ne.encoding)}function D(ne){if(e=e||sf(),!(this instanceof D))return new D(ne);var z=this instanceof e;this._readableState=new q(ne,this,z),this.readable=!0,ne&&(typeof ne.read=="function"&&(this._read=ne.read),typeof ne.destroy=="function"&&(this._destroy=ne.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),D.prototype.destroy=h.destroy,D.prototype._undestroy=h.undestroy,D.prototype._destroy=function(ne,z){z(ne)},D.prototype.push=function(ne,z){var be=this._readableState,U;return be.objectMode?U=!0:typeof ne=="string"&&(z=z||be.defaultEncoding,z!==be.encoding&&(ne=n.from(ne,z),z=""),U=!0),Q(this,ne,z,!1,U)},D.prototype.unshift=function(ne){return Q(this,ne,null,!0,!1)};function Q(ne,z,be,U,we){c("readableAddChunk",z);var B=ne._readableState;if(z===null)B.reading=!1,J(ne,B);else{var A;if(we||(A=F(B,z)),A)C(ne,A);else if(B.objectMode||z&&z.length>0)if(typeof z!="string"&&!B.objectMode&&Object.getPrototypeOf(z)!==n.prototype&&(z=a(z)),U)B.endEmitted?C(ne,new E):ae(ne,B,z,!0);else if(B.ended)C(ne,new b);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!be?(z=B.decoder.write(z),B.objectMode||z.length!==0?ae(ne,B,z,!1):ie(ne,B)):ae(ne,B,z,!1)}else U||(B.reading=!1,ie(ne,B))}return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function ae(ne,z,be,U){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,ne.emit("data",be)):(z.length+=z.objectMode?1:be.length,U?z.buffer.unshift(be):z.buffer.push(be),z.needReadable&&Z(ne)),ie(ne,z)}function F(ne,z){var be;return!i(z)&&typeof z!="string"&&z!==void 0&&!ne.objectMode&&(be=new y("chunk",["string","Buffer","Uint8Array"],z)),be}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(ne){T||(T=yE().StringDecoder);var z=new T(ne);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var be=this._readableState.buffer.head,U="";be!==null;)U+=z.write(be.data),be=be.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var X=1073741824;function M(ne){return ne>=X?ne=X:(ne--,ne|=ne>>>1,ne|=ne>>>2,ne|=ne>>>4,ne|=ne>>>8,ne|=ne>>>16,ne++),ne}function se(ne,z){return ne<=0||z.length===0&&z.ended?0:z.objectMode?1:ne!==ne?z.flowing&&z.length?z.buffer.head.data.length:z.length:(ne>z.highWaterMark&&(z.highWaterMark=M(ne)),ne<=z.length?ne:z.ended?z.length:(z.needReadable=!0,0))}D.prototype.read=function(ne){c("read",ne),ne=parseInt(ne,10);var z=this._readableState,be=ne;if(ne!==0&&(z.emittedReadable=!1),ne===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return c("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?L(this):Z(this),null;if(ne=se(ne,z),ne===0&&z.ended)return z.length===0&&L(this),null;var U=z.needReadable;c("need readable",U),(z.length===0||z.length-ne<z.highWaterMark)&&(U=!0,c("length less than watermark",U)),z.ended||z.reading?(U=!1,c("reading or ended",U)):U&&(c("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(ne=se(be,z)));var we;return ne>0?we=P(ne,z):we=null,we===null?(z.needReadable=z.length<=z.highWaterMark,ne=0):(z.length-=ne,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),be!==ne&&z.ended&&L(this)),we!==null&&this.emit("data",we),we};function J(ne,z){if(c("onEofChunk"),!z.ended){if(z.decoder){var be=z.decoder.end();be&&be.length&&(z.buffer.push(be),z.length+=z.objectMode?1:be.length)}z.ended=!0,z.sync?Z(ne):(z.needReadable=!1,z.emittedReadable||(z.emittedReadable=!0,ge(ne)))}}function Z(ne){var z=ne._readableState;c("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(c("emitReadable",z.flowing),z.emittedReadable=!0,Rt.nextTick(ge,ne))}function ge(ne){var z=ne._readableState;c("emitReadable_",z.destroyed,z.length,z.ended),!z.destroyed&&(z.length||z.ended)&&(ne.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,Y(ne)}function ie(ne,z){z.readingMore||(z.readingMore=!0,Rt.nextTick(Ee,ne,z))}function Ee(ne,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var be=z.length;if(c("maybeReadMore read 0"),ne.read(0),be===z.length)break}z.readingMore=!1}D.prototype._read=function(ne){C(this,new w("_read()"))},D.prototype.pipe=function(ne,z){var be=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=ne;break;case 1:U.pipes=[U.pipes,ne];break;default:U.pipes.push(ne);break}U.pipesCount+=1,c("pipe count=%d opts=%j",U.pipesCount,z);var we=(!z||z.end!==!1)&&ne!==Rt.stdout&&ne!==Rt.stderr,B=we?R:We;U.endEmitted?Rt.nextTick(B):be.once("end",B),ne.on("unpipe",A);function A(et,tt){c("onunpipe"),et===be&&tt&&tt.hasUnpiped===!1&&(tt.hasUnpiped=!0,ye())}function R(){c("onend"),ne.end()}var H=G(be);ne.on("drain",H);var fe=!1;function ye(){c("cleanup"),ne.removeListener("close",De),ne.removeListener("finish",Pe),ne.removeListener("drain",H),ne.removeListener("error",Ae),ne.removeListener("unpipe",A),be.removeListener("end",R),be.removeListener("end",We),be.removeListener("data",he),fe=!0,U.awaitDrain&&(!ne._writableState||ne._writableState.needDrain)&&H()}be.on("data",he);function he(et){c("ondata");var tt=ne.write(et);c("dest.write",tt),tt===!1&&((U.pipesCount===1&&U.pipes===ne||U.pipesCount>1&&ee(U.pipes,ne)!==-1)&&!fe&&(c("false write response, pause",U.awaitDrain),U.awaitDrain++),be.pause())}function Ae(et){c("onerror",et),We(),ne.removeListener("error",Ae),t(ne,"error")===0&&C(ne,et)}j(ne,"error",Ae);function De(){ne.removeListener("finish",Pe),We()}ne.once("close",De);function Pe(){c("onfinish"),ne.removeListener("close",De),We()}ne.once("finish",Pe);function We(){c("unpipe"),be.unpipe(ne)}return ne.emit("pipe",be),U.flowing||(c("pipe resume"),be.resume()),ne};function G(ne){return function(){var be=ne._readableState;c("pipeOnDrain",be.awaitDrain),be.awaitDrain&&be.awaitDrain--,be.awaitDrain===0&&t(ne,"data")&&(be.flowing=!0,Y(ne))}}D.prototype.unpipe=function(ne){var z=this._readableState,be={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return ne&&ne!==z.pipes?this:(ne||(ne=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,ne&&ne.emit("unpipe",this,be),this);if(!ne){var U=z.pipes,we=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var B=0;B<we;B++)U[B].emit("unpipe",this,{hasUnpiped:!1});return this}var A=ee(z.pipes,ne);return A===-1?this:(z.pipes.splice(A,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),ne.emit("unpipe",this,be),this)},D.prototype.on=function(ne,z){var be=r.prototype.on.call(this,ne,z),U=this._readableState;return ne==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):ne==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,c("on readable",U.length,U.reading),U.length?Z(this):U.reading||Rt.nextTick(W,this)),be},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(ne,z){var be=r.prototype.removeListener.call(this,ne,z);return ne==="readable"&&Rt.nextTick(O,this),be},D.prototype.removeAllListeners=function(ne){var z=r.prototype.removeAllListeners.apply(this,arguments);return(ne==="readable"||ne===void 0)&&Rt.nextTick(O,this),z};function O(ne){var z=ne._readableState;z.readableListening=ne.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:ne.listenerCount("data")>0&&ne.resume()}function W(ne){c("readable nexttick read 0"),ne.read(0)}D.prototype.resume=function(){var ne=this._readableState;return ne.flowing||(c("resume"),ne.flowing=!ne.readableListening,K(this,ne)),ne.paused=!1,this};function K(ne,z){z.resumeScheduled||(z.resumeScheduled=!0,Rt.nextTick(re,ne,z))}function re(ne,z){c("resume",z.reading),z.reading||ne.read(0),z.resumeScheduled=!1,ne.emit("resume"),Y(ne),z.flowing&&!z.reading&&ne.read(0)}D.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Y(ne){var z=ne._readableState;for(c("flow",z.flowing);z.flowing&&ne.read()!==null;);}D.prototype.wrap=function(ne){var z=this,be=this._readableState,U=!1;ne.on("end",function(){if(c("wrapped end"),be.decoder&&!be.ended){var A=be.decoder.end();A&&A.length&&z.push(A)}z.push(null)}),ne.on("data",function(A){if(c("wrapped data"),be.decoder&&(A=be.decoder.write(A)),!(be.objectMode&&A==null)&&!(!be.objectMode&&(!A||!A.length))){var R=z.push(A);R||(U=!0,ne.pause())}});for(var we in ne)this[we]===void 0&&typeof ne[we]=="function"&&(this[we]=(function(R){return function(){return ne[R].apply(ne,arguments)}})(we));for(var B=0;B<I.length;B++)ne.on(I[B],this.emit.bind(this,I[B]));return this._read=function(A){c("wrapped _read",A),U&&(U=!1,ne.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=Ghe()),_(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),D._fromList=P,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(ne,z){if(z.length===0)return null;var be;return z.objectMode?be=z.buffer.shift():!ne||ne>=z.length?(z.decoder?be=z.buffer.join(""):z.buffer.length===1?be=z.buffer.first():be=z.buffer.concat(z.length),z.buffer.clear()):be=z.buffer.consume(ne,z.decoder),be}function L(ne){var z=ne._readableState;c("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,Rt.nextTick(oe,z,ne))}function oe(ne,z){if(c("endReadableNT",ne.endEmitted,ne.length),!ne.endEmitted&&ne.length===0&&(ne.endEmitted=!0,z.readable=!1,z.emit("end"),ne.autoDestroy)){var be=z._writableState;(!be||be.autoDestroy&&be.finished)&&z.destroy()}}typeof Symbol=="function"&&(D.from=function(ne,z){return S===void 0&&(S=Khe()),S(D,ne,z)});function ee(ne,z){for(var be=0,U=ne.length;be<U;be++)if(ne[be]===z)return be;return-1}return Cw}var kw,x6;function rP(){if(x6)return kw;x6=1,kw=o;var e=Rf().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=e.ERR_TRANSFORM_WITH_LENGTH_0,a=sf();Cl()(o,a);function i(h,m){var x=this._transformState;x.transforming=!1;var g=x.writecb;if(g===null)return this.emit("error",new r);x.writechunk=null,x.writecb=null,m!=null&&this.push(m),g(h);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function o(h){if(!(this instanceof o))return new o(h);a.call(this,h),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",c)}function c(){var h=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,x){f(h,m,x)}):f(this,null,null)}o.prototype.push=function(h,m){return this._transformState.needTransform=!1,a.prototype.push.call(this,h,m)},o.prototype._transform=function(h,m,x){x(new t("_transform()"))},o.prototype._write=function(h,m,x){var g=this._transformState;if(g.writecb=x,g.writechunk=h,g.writeencoding=m,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},o.prototype._read=function(h){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},o.prototype._destroy=function(h,m){a.prototype._destroy.call(this,h,function(x){m(x)})};function f(h,m,x){if(m)return h.emit("error",m);if(x!=null&&h.push(x),h._writableState.length)throw new s;if(h._transformState.transforming)throw new n;return h.push(null)}return kw}var Rw,y6;function Xhe(){if(y6)return Rw;y6=1,Rw=t;var e=rP();Cl()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,s){s(null,r)},Rw}var Ow,v6;function Yhe(){if(v6)return Ow;v6=1;var e;function t(x){var g=!1;return function(){g||(g=!0,x.apply(void 0,arguments))}}var r=Rf().codes,n=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(x){if(x)throw x}function i(x){return x.setHeader&&typeof x.abort=="function"}function o(x,g,y,b){b=t(b);var w=!1;x.on("close",function(){w=!0}),e===void 0&&(e=NS()),e(x,{readable:g,writable:y},function(T){if(T)return b(T);w=!0,b()});var E=!1;return function(T){if(!w&&!E){if(E=!0,i(x))return x.abort();if(typeof x.destroy=="function")return x.destroy();b(T||new s("pipe"))}}}function c(x){x()}function f(x,g){return x.pipe(g)}function h(x){return!x.length||typeof x[x.length-1]!="function"?a:x.pop()}function m(){for(var x=arguments.length,g=new Array(x),y=0;y<x;y++)g[y]=arguments[y];var b=h(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new n("streams");var w,E=g.map(function(T,_){var S=_<g.length-1,C=_>0;return o(T,S,C,function(I){w||(w=I),I&&E.forEach(c),!S&&(E.forEach(c),b(w))})});return g.reduce(f)}return Ow=m,Ow}var jw,b6;function AS(){if(b6)return jw;b6=1,jw=r;var e=ES().EventEmitter,t=Cl();t(r,e),r.Readable=tP(),r.Writable=eP(),r.Duplex=sf(),r.Transform=rP(),r.PassThrough=Xhe(),r.finished=NS(),r.pipeline=Yhe(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,s){var a=this;function i(g){n.writable&&n.write(g)===!1&&a.pause&&a.pause()}a.on("data",i);function o(){a.readable&&a.resume&&a.resume()}n.on("drain",o),!n._isStdio&&(!s||s.end!==!1)&&(a.on("end",f),a.on("close",h));var c=!1;function f(){c||(c=!0,n.end())}function h(){c||(c=!0,typeof n.destroy=="function"&&n.destroy())}function m(g){if(x(),e.listenerCount(this,"error")===0)throw g}a.on("error",m),n.on("error",m);function x(){a.removeListener("data",i),n.removeListener("drain",o),a.removeListener("end",f),a.removeListener("close",h),a.removeListener("error",m),n.removeListener("error",m),a.removeListener("end",x),a.removeListener("close",x),n.removeListener("close",x)}return a.on("end",x),a.on("close",x),n.on("close",x),n.emit("pipe",a),n},jw}var w6;function Jhe(){return w6||(w6=1,(function(e){(function(t){t.parser=function(P,L){return new n(P,L)},t.SAXParser=n,t.SAXStream=h,t.createStream=f,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(P,L){if(!(this instanceof n))return new n(P,L);var oe=this;a(oe),oe.q=oe.c="",oe.bufferCheckPosition=t.MAX_BUFFER_LENGTH,oe.opt=L||{},oe.opt.lowercase=oe.opt.lowercase||oe.opt.lowercasetags,oe.looseCase=oe.opt.lowercase?"toLowerCase":"toUpperCase",oe.tags=[],oe.closed=oe.closedRoot=oe.sawRoot=!1,oe.tag=oe.error=null,oe.strict=!!P,oe.noscript=!!(P||oe.opt.noscript),oe.state=D.BEGIN,oe.strictEntities=oe.opt.strictEntities,oe.ENTITIES=oe.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),oe.attribList=[],oe.opt.xmlns&&(oe.ns=Object.create(b)),oe.trackPosition=oe.opt.position!==!1,oe.trackPosition&&(oe.position=oe.line=oe.column=0),ae(oe,"onready")}Object.create||(Object.create=function(P){function L(){}L.prototype=P;var oe=new L;return oe}),Object.keys||(Object.keys=function(P){var L=[];for(var oe in P)P.hasOwnProperty(oe)&&L.push(oe);return L});function s(P){for(var L=Math.max(t.MAX_BUFFER_LENGTH,10),oe=0,ee=0,ne=r.length;ee<ne;ee++){var z=P[r[ee]].length;if(z>L)switch(r[ee]){case"textNode":X(P);break;case"cdata":F(P,"oncdata",P.cdata),P.cdata="";break;case"script":F(P,"onscript",P.script),P.script="";break;default:se(P,"Max buffer length exceeded: "+r[ee])}oe=Math.max(oe,z)}var be=t.MAX_BUFFER_LENGTH-oe;P.bufferCheckPosition=be+P.position}function a(P){for(var L=0,oe=r.length;L<oe;L++)P[r[L]]=""}function i(P){X(P),P.cdata!==""&&(F(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(F(P,"onscript",P.script),P.script="")}n.prototype={end:function(){J(this)},write:Y,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){i(this)}};var o;try{o=AS().Stream}catch{o=function(){}}var c=t.EVENTS.filter(function(P){return P!=="error"&&P!=="end"});function f(P,L){return new h(P,L)}function h(P,L){if(!(this instanceof h))return new h(P,L);o.apply(this),this._parser=new n(P,L),this.writable=!0,this.readable=!0;var oe=this;this._parser.onend=function(){oe.emit("end")},this._parser.onerror=function(ee){oe.emit("error",ee),oe._parser.error=null},this._decoder=null,c.forEach(function(ee){Object.defineProperty(oe,"on"+ee,{get:function(){return oe._parser["on"+ee]},set:function(ne){if(!ne)return oe.removeAllListeners(ee),oe._parser["on"+ee]=ne,ne;oe.on(ee,ne)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(o.prototype,{constructor:{value:h}}),h.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var L=yE().StringDecoder;this._decoder=new L("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},h.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},h.prototype.on=function(P,L){var oe=this;return!oe._parser["on"+P]&&c.indexOf(P)!==-1&&(oe._parser["on"+P]=function(){var ee=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ee.splice(0,0,P),oe.emit.apply(oe,ee)}),o.prototype.on.call(oe,P,L)};var m="[CDATA[",x="DOCTYPE",g="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",b={xml:g,xmlns:y},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function S(P){return P===" "||P===`
`||P==="\r"||P==="	"}function C(P){return P==='"'||P==="'"}function I(P){return P===">"||S(P)}function j(P,L){return P.test(L)}function q(P,L){return!j(P,L)}var D=0;t.STATE={BEGIN:D++,BEGIN_WHITESPACE:D++,TEXT:D++,TEXT_ENTITY:D++,OPEN_WAKA:D++,SGML_DECL:D++,SGML_DECL_QUOTED:D++,DOCTYPE:D++,DOCTYPE_QUOTED:D++,DOCTYPE_DTD:D++,DOCTYPE_DTD_QUOTED:D++,COMMENT_STARTING:D++,COMMENT:D++,COMMENT_ENDING:D++,COMMENT_ENDED:D++,CDATA:D++,CDATA_ENDING:D++,CDATA_ENDING_2:D++,PROC_INST:D++,PROC_INST_BODY:D++,PROC_INST_ENDING:D++,OPEN_TAG:D++,OPEN_TAG_SLASH:D++,ATTRIB:D++,ATTRIB_NAME:D++,ATTRIB_NAME_SAW_WHITE:D++,ATTRIB_VALUE:D++,ATTRIB_VALUE_QUOTED:D++,ATTRIB_VALUE_CLOSED:D++,ATTRIB_VALUE_UNQUOTED:D++,ATTRIB_VALUE_ENTITY_Q:D++,ATTRIB_VALUE_ENTITY_U:D++,CLOSE_TAG:D++,CLOSE_TAG_SAW_WHITE:D++,SCRIPT:D++,SCRIPT_ENDING:D++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(P){var L=t.ENTITIES[P],oe=typeof L=="number"?String.fromCharCode(L):L;t.ENTITIES[P]=oe});for(var Q in t.STATE)t.STATE[t.STATE[Q]]=Q;D=t.STATE;function ae(P,L,oe){P[L]&&P[L](oe)}function F(P,L,oe){P.textNode&&X(P),ae(P,L,oe)}function X(P){P.textNode=M(P.opt,P.textNode),P.textNode&&ae(P,"ontext",P.textNode),P.textNode=""}function M(P,L){return P.trim&&(L=L.trim()),P.normalize&&(L=L.replace(/\s+/g," ")),L}function se(P,L){return X(P),P.trackPosition&&(L+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),L=new Error(L),P.error=L,ae(P,"onerror",L),P}function J(P){return P.sawRoot&&!P.closedRoot&&Z(P,"Unclosed root tag"),P.state!==D.BEGIN&&P.state!==D.BEGIN_WHITESPACE&&P.state!==D.TEXT&&se(P,"Unexpected end"),X(P),P.c="",P.closed=!0,ae(P,"onend"),n.call(P,P.strict,P.opt),P}function Z(P,L){if(typeof P!="object"||!(P instanceof n))throw new Error("bad call to strictFail");P.strict&&se(P,L)}function ge(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var L=P.tags[P.tags.length-1]||P,oe=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(oe.ns=L.ns),P.attribList.length=0,F(P,"onopentagstart",oe)}function ie(P,L){var oe=P.indexOf(":"),ee=oe<0?["",P]:P.split(":"),ne=ee[0],z=ee[1];return L&&P==="xmlns"&&(ne="xmlns",z=""),{prefix:ne,local:z}}function Ee(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName)){P.attribName=P.attribValue="";return}if(P.opt.xmlns){var L=ie(P.attribName,!0),oe=L.prefix,ee=L.local;if(oe==="xmlns")if(ee==="xml"&&P.attribValue!==g)Z(P,"xml: prefix must be bound to "+g+`
Actual: `+P.attribValue);else if(ee==="xmlns"&&P.attribValue!==y)Z(P,"xmlns: prefix must be bound to "+y+`
Actual: `+P.attribValue);else{var ne=P.tag,z=P.tags[P.tags.length-1]||P;ne.ns===z.ns&&(ne.ns=Object.create(z.ns)),ne.ns[ee]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,F(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}function G(P,L){if(P.opt.xmlns){var oe=P.tag,ee=ie(P.tagName);oe.prefix=ee.prefix,oe.local=ee.local,oe.uri=oe.ns[ee.prefix]||"",oe.prefix&&!oe.uri&&(Z(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),oe.uri=ee.prefix);var ne=P.tags[P.tags.length-1]||P;oe.ns&&ne.ns!==oe.ns&&Object.keys(oe.ns).forEach(function(he){F(P,"onopennamespace",{prefix:he,uri:oe.ns[he]})});for(var z=0,be=P.attribList.length;z<be;z++){var U=P.attribList[z],we=U[0],B=U[1],A=ie(we,!0),R=A.prefix,H=A.local,fe=R===""?"":oe.ns[R]||"",ye={name:we,value:B,prefix:R,local:H,uri:fe};R&&R!=="xmlns"&&!fe&&(Z(P,"Unbound namespace prefix: "+JSON.stringify(R)),ye.uri=R),P.tag.attributes[we]=ye,F(P,"onattribute",ye)}P.attribList.length=0}P.tag.isSelfClosing=!!L,P.sawRoot=!0,P.tags.push(P.tag),F(P,"onopentag",P.tag),L||(!P.noscript&&P.tagName.toLowerCase()==="script"?P.state=D.SCRIPT:P.state=D.TEXT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function O(P){if(!P.tagName){Z(P,"Weird empty close tag."),P.textNode+="</>",P.state=D.TEXT;return}if(P.script){if(P.tagName!=="script"){P.script+="</"+P.tagName+">",P.tagName="",P.state=D.SCRIPT;return}F(P,"onscript",P.script),P.script=""}var L=P.tags.length,oe=P.tagName;P.strict||(oe=oe[P.looseCase]());for(var ee=oe;L--;){var ne=P.tags[L];if(ne.name!==ee)Z(P,"Unexpected close tag");else break}if(L<0){Z(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",P.state=D.TEXT;return}P.tagName=oe;for(var z=P.tags.length;z-- >L;){var be=P.tag=P.tags.pop();P.tagName=P.tag.name,F(P,"onclosetag",P.tagName);var U={};for(var we in be.ns)U[we]=be.ns[we];var B=P.tags[P.tags.length-1]||P;P.opt.xmlns&&be.ns!==B.ns&&Object.keys(be.ns).forEach(function(A){var R=be.ns[A];F(P,"onclosenamespace",{prefix:A,uri:R})})}L===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=D.TEXT}function W(P){var L=P.entity,oe=L.toLowerCase(),ee,ne="";return P.ENTITIES[L]?P.ENTITIES[L]:P.ENTITIES[oe]?P.ENTITIES[oe]:(L=oe,L.charAt(0)==="#"&&(L.charAt(1)==="x"?(L=L.slice(2),ee=parseInt(L,16),ne=ee.toString(16)):(L=L.slice(1),ee=parseInt(L,10),ne=ee.toString(10))),L=L.replace(/^0+/,""),isNaN(ee)||ne.toLowerCase()!==L?(Z(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(ee))}function K(P,L){L==="<"?(P.state=D.OPEN_WAKA,P.startTagPosition=P.position):S(L)||(Z(P,"Non-whitespace before first tag."),P.textNode=L,P.state=D.TEXT)}function re(P,L){var oe="";return L<P.length&&(oe=P.charAt(L)),oe}function Y(P){var L=this;if(this.error)throw this.error;if(L.closed)return se(L,"Cannot write after close. Assign an onready handler.");if(P===null)return J(L);typeof P=="object"&&(P=P.toString());for(var oe=0,ee="";ee=re(P,oe++),L.c=ee,!!ee;)switch(L.trackPosition&&(L.position++,ee===`
`?(L.line++,L.column=0):L.column++),L.state){case D.BEGIN:if(L.state=D.BEGIN_WHITESPACE,ee==="\uFEFF")continue;K(L,ee);continue;case D.BEGIN_WHITESPACE:K(L,ee);continue;case D.TEXT:if(L.sawRoot&&!L.closedRoot){for(var ne=oe-1;ee&&ee!=="<"&&ee!=="&";)ee=re(P,oe++),ee&&L.trackPosition&&(L.position++,ee===`
`?(L.line++,L.column=0):L.column++);L.textNode+=P.substring(ne,oe-1)}ee==="<"&&!(L.sawRoot&&L.closedRoot&&!L.strict)?(L.state=D.OPEN_WAKA,L.startTagPosition=L.position):(!S(ee)&&(!L.sawRoot||L.closedRoot)&&Z(L,"Text data outside of root node."),ee==="&"?L.state=D.TEXT_ENTITY:L.textNode+=ee);continue;case D.SCRIPT:ee==="<"?L.state=D.SCRIPT_ENDING:L.script+=ee;continue;case D.SCRIPT_ENDING:ee==="/"?L.state=D.CLOSE_TAG:(L.script+="<"+ee,L.state=D.SCRIPT);continue;case D.OPEN_WAKA:if(ee==="!")L.state=D.SGML_DECL,L.sgmlDecl="";else if(!S(ee))if(j(w,ee))L.state=D.OPEN_TAG,L.tagName=ee;else if(ee==="/")L.state=D.CLOSE_TAG,L.tagName="";else if(ee==="?")L.state=D.PROC_INST,L.procInstName=L.procInstBody="";else{if(Z(L,"Unencoded <"),L.startTagPosition+1<L.position){var z=L.position-L.startTagPosition;ee=new Array(z).join(" ")+ee}L.textNode+="<"+ee,L.state=D.TEXT}continue;case D.SGML_DECL:(L.sgmlDecl+ee).toUpperCase()===m?(F(L,"onopencdata"),L.state=D.CDATA,L.sgmlDecl="",L.cdata=""):L.sgmlDecl+ee==="--"?(L.state=D.COMMENT,L.comment="",L.sgmlDecl=""):(L.sgmlDecl+ee).toUpperCase()===x?(L.state=D.DOCTYPE,(L.doctype||L.sawRoot)&&Z(L,"Inappropriately located doctype declaration"),L.doctype="",L.sgmlDecl=""):ee===">"?(F(L,"onsgmldeclaration",L.sgmlDecl),L.sgmlDecl="",L.state=D.TEXT):(C(ee)&&(L.state=D.SGML_DECL_QUOTED),L.sgmlDecl+=ee);continue;case D.SGML_DECL_QUOTED:ee===L.q&&(L.state=D.SGML_DECL,L.q=""),L.sgmlDecl+=ee;continue;case D.DOCTYPE:ee===">"?(L.state=D.TEXT,F(L,"ondoctype",L.doctype),L.doctype=!0):(L.doctype+=ee,ee==="["?L.state=D.DOCTYPE_DTD:C(ee)&&(L.state=D.DOCTYPE_QUOTED,L.q=ee));continue;case D.DOCTYPE_QUOTED:L.doctype+=ee,ee===L.q&&(L.q="",L.state=D.DOCTYPE);continue;case D.DOCTYPE_DTD:L.doctype+=ee,ee==="]"?L.state=D.DOCTYPE:C(ee)&&(L.state=D.DOCTYPE_DTD_QUOTED,L.q=ee);continue;case D.DOCTYPE_DTD_QUOTED:L.doctype+=ee,ee===L.q&&(L.state=D.DOCTYPE_DTD,L.q="");continue;case D.COMMENT:ee==="-"?L.state=D.COMMENT_ENDING:L.comment+=ee;continue;case D.COMMENT_ENDING:ee==="-"?(L.state=D.COMMENT_ENDED,L.comment=M(L.opt,L.comment),L.comment&&F(L,"oncomment",L.comment),L.comment=""):(L.comment+="-"+ee,L.state=D.COMMENT);continue;case D.COMMENT_ENDED:ee!==">"?(Z(L,"Malformed comment"),L.comment+="--"+ee,L.state=D.COMMENT):L.state=D.TEXT;continue;case D.CDATA:ee==="]"?L.state=D.CDATA_ENDING:L.cdata+=ee;continue;case D.CDATA_ENDING:ee==="]"?L.state=D.CDATA_ENDING_2:(L.cdata+="]"+ee,L.state=D.CDATA);continue;case D.CDATA_ENDING_2:ee===">"?(L.cdata&&F(L,"oncdata",L.cdata),F(L,"onclosecdata"),L.cdata="",L.state=D.TEXT):ee==="]"?L.cdata+="]":(L.cdata+="]]"+ee,L.state=D.CDATA);continue;case D.PROC_INST:ee==="?"?L.state=D.PROC_INST_ENDING:S(ee)?L.state=D.PROC_INST_BODY:L.procInstName+=ee;continue;case D.PROC_INST_BODY:if(!L.procInstBody&&S(ee))continue;ee==="?"?L.state=D.PROC_INST_ENDING:L.procInstBody+=ee;continue;case D.PROC_INST_ENDING:ee===">"?(F(L,"onprocessinginstruction",{name:L.procInstName,body:L.procInstBody}),L.procInstName=L.procInstBody="",L.state=D.TEXT):(L.procInstBody+="?"+ee,L.state=D.PROC_INST_BODY);continue;case D.OPEN_TAG:j(E,ee)?L.tagName+=ee:(ge(L),ee===">"?G(L):ee==="/"?L.state=D.OPEN_TAG_SLASH:(S(ee)||Z(L,"Invalid character in tag name"),L.state=D.ATTRIB));continue;case D.OPEN_TAG_SLASH:ee===">"?(G(L,!0),O(L)):(Z(L,"Forward-slash in opening tag not followed by >"),L.state=D.ATTRIB);continue;case D.ATTRIB:if(S(ee))continue;ee===">"?G(L):ee==="/"?L.state=D.OPEN_TAG_SLASH:j(w,ee)?(L.attribName=ee,L.attribValue="",L.state=D.ATTRIB_NAME):Z(L,"Invalid attribute name");continue;case D.ATTRIB_NAME:ee==="="?L.state=D.ATTRIB_VALUE:ee===">"?(Z(L,"Attribute without value"),L.attribValue=L.attribName,Ee(L),G(L)):S(ee)?L.state=D.ATTRIB_NAME_SAW_WHITE:j(E,ee)?L.attribName+=ee:Z(L,"Invalid attribute name");continue;case D.ATTRIB_NAME_SAW_WHITE:if(ee==="=")L.state=D.ATTRIB_VALUE;else{if(S(ee))continue;Z(L,"Attribute without value"),L.tag.attributes[L.attribName]="",L.attribValue="",F(L,"onattribute",{name:L.attribName,value:""}),L.attribName="",ee===">"?G(L):j(w,ee)?(L.attribName=ee,L.state=D.ATTRIB_NAME):(Z(L,"Invalid attribute name"),L.state=D.ATTRIB)}continue;case D.ATTRIB_VALUE:if(S(ee))continue;C(ee)?(L.q=ee,L.state=D.ATTRIB_VALUE_QUOTED):(Z(L,"Unquoted attribute value"),L.state=D.ATTRIB_VALUE_UNQUOTED,L.attribValue=ee);continue;case D.ATTRIB_VALUE_QUOTED:if(ee!==L.q){ee==="&"?L.state=D.ATTRIB_VALUE_ENTITY_Q:L.attribValue+=ee;continue}Ee(L),L.q="",L.state=D.ATTRIB_VALUE_CLOSED;continue;case D.ATTRIB_VALUE_CLOSED:S(ee)?L.state=D.ATTRIB:ee===">"?G(L):ee==="/"?L.state=D.OPEN_TAG_SLASH:j(w,ee)?(Z(L,"No whitespace between attributes"),L.attribName=ee,L.attribValue="",L.state=D.ATTRIB_NAME):Z(L,"Invalid attribute name");continue;case D.ATTRIB_VALUE_UNQUOTED:if(!I(ee)){ee==="&"?L.state=D.ATTRIB_VALUE_ENTITY_U:L.attribValue+=ee;continue}Ee(L),ee===">"?G(L):L.state=D.ATTRIB;continue;case D.CLOSE_TAG:if(L.tagName)ee===">"?O(L):j(E,ee)?L.tagName+=ee:L.script?(L.script+="</"+L.tagName,L.tagName="",L.state=D.SCRIPT):(S(ee)||Z(L,"Invalid tagname in closing tag"),L.state=D.CLOSE_TAG_SAW_WHITE);else{if(S(ee))continue;q(w,ee)?L.script?(L.script+="</"+ee,L.state=D.SCRIPT):Z(L,"Invalid tagname in closing tag."):L.tagName=ee}continue;case D.CLOSE_TAG_SAW_WHITE:if(S(ee))continue;ee===">"?O(L):Z(L,"Invalid characters in closing tag");continue;case D.TEXT_ENTITY:case D.ATTRIB_VALUE_ENTITY_Q:case D.ATTRIB_VALUE_ENTITY_U:var be,U;switch(L.state){case D.TEXT_ENTITY:be=D.TEXT,U="textNode";break;case D.ATTRIB_VALUE_ENTITY_Q:be=D.ATTRIB_VALUE_QUOTED,U="attribValue";break;case D.ATTRIB_VALUE_ENTITY_U:be=D.ATTRIB_VALUE_UNQUOTED,U="attribValue";break}ee===";"?(L[U]+=W(L),L.entity="",L.state=be):j(L.entity.length?_:T,ee)?L.entity+=ee:(Z(L,"Invalid character in entity name"),L[U]+="&"+L.entity+ee,L.entity="",L.state=be);continue;default:throw new Error(L,"Unknown state: "+L.state)}return L.position>=L.bufferCheckPosition&&s(L),L}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var P=String.fromCharCode,L=Math.floor,oe=function(){var ee=16384,ne=[],z,be,U=-1,we=arguments.length;if(!we)return"";for(var B="";++U<we;){var A=Number(arguments[U]);if(!isFinite(A)||A<0||A>1114111||L(A)!==A)throw RangeError("Invalid code point: "+A);A<=65535?ne.push(A):(A-=65536,z=(A>>10)+55296,be=A%1024+56320,ne.push(z,be)),(U+1===we||ne.length>ee)&&(B+=P.apply(null,ne),ne.length=0)}return B};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:oe,configurable:!0,writable:!0}):String.fromCodePoint=oe})()})(e)})(xb)),xb}var Dw,E6;function CS(){return E6||(E6=1,Dw={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}),Dw}var Iw,_6;function kS(){if(_6)return Iw;_6=1;var e=CS().isArray;return Iw={copyOptions:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!e(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},Iw}var Mw,S6;function nP(){if(S6)return Mw;S6=1;var e=Jhe(),t=kS(),r=CS().isArray,n,s;function a(E){return n=t.copyOptions(E),t.ensureFlagExists("ignoreDeclaration",n),t.ensureFlagExists("ignoreInstruction",n),t.ensureFlagExists("ignoreAttributes",n),t.ensureFlagExists("ignoreText",n),t.ensureFlagExists("ignoreComment",n),t.ensureFlagExists("ignoreCdata",n),t.ensureFlagExists("ignoreDoctype",n),t.ensureFlagExists("compact",n),t.ensureFlagExists("alwaysChildren",n),t.ensureFlagExists("addParent",n),t.ensureFlagExists("trim",n),t.ensureFlagExists("nativeType",n),t.ensureFlagExists("nativeTypeAttributes",n),t.ensureFlagExists("sanitize",n),t.ensureFlagExists("instructionHasAttributes",n),t.ensureFlagExists("captureSpacesBetweenElements",n),t.ensureAlwaysArrayExists(n),t.ensureKeyExists("declaration",n),t.ensureKeyExists("instruction",n),t.ensureKeyExists("attributes",n),t.ensureKeyExists("text",n),t.ensureKeyExists("comment",n),t.ensureKeyExists("cdata",n),t.ensureKeyExists("doctype",n),t.ensureKeyExists("type",n),t.ensureKeyExists("name",n),t.ensureKeyExists("elements",n),t.ensureKeyExists("parent",n),t.checkFnExists("doctype",n),t.checkFnExists("instruction",n),t.checkFnExists("cdata",n),t.checkFnExists("comment",n),t.checkFnExists("text",n),t.checkFnExists("instructionName",n),t.checkFnExists("elementName",n),t.checkFnExists("attributeName",n),t.checkFnExists("attributeValue",n),t.checkFnExists("attributes",n),n}function i(E){var T=Number(E);if(!isNaN(T))return T;var _=E.toLowerCase();return _==="true"?!0:_==="false"?!1:E}function o(E,T){var _;if(n.compact){if(!s[n[E+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[E+"Key"])!==-1:n.alwaysArray)&&(s[n[E+"Key"]]=[]),s[n[E+"Key"]]&&!r(s[n[E+"Key"]])&&(s[n[E+"Key"]]=[s[n[E+"Key"]]]),E+"Fn"in n&&typeof T=="string"&&(T=n[E+"Fn"](T,s)),E==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(_ in T)if(T.hasOwnProperty(_))if("instructionFn"in n)T[_]=n.instructionFn(T[_],_,s);else{var S=T[_];delete T[_],T[n.instructionNameFn(_,S,s)]=S}}r(s[n[E+"Key"]])?s[n[E+"Key"]].push(T):s[n[E+"Key"]]=T}else{s[n.elementsKey]||(s[n.elementsKey]=[]);var C={};if(C[n.typeKey]=E,E==="instruction"){for(_ in T)if(T.hasOwnProperty(_))break;C[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(_,T,s):_,n.instructionHasAttributes?(C[n.attributesKey]=T[_][n.attributesKey],"instructionFn"in n&&(C[n.attributesKey]=n.instructionFn(C[n.attributesKey],_,s))):("instructionFn"in n&&(T[_]=n.instructionFn(T[_],_,s)),C[n.instructionKey]=T[_])}else E+"Fn"in n&&(T=n[E+"Fn"](T,s)),C[n[E+"Key"]]=T;n.addParent&&(C[n.parentKey]=s),s[n.elementsKey].push(C)}}function c(E){if("attributesFn"in n&&E&&(E=n.attributesFn(E,s)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&E){var T;for(T in E)if(E.hasOwnProperty(T)&&(n.trim&&(E[T]=E[T].trim()),n.nativeTypeAttributes&&(E[T]=i(E[T])),"attributeValueFn"in n&&(E[T]=n.attributeValueFn(E[T],T,s)),"attributeNameFn"in n)){var _=E[T];delete E[T],E[n.attributeNameFn(T,E[T],s)]=_}}return E}function f(E){var T={};if(E.body&&(E.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var _=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,S;(S=_.exec(E.body))!==null;)T[S[1]]=S[2]||S[3]||S[4];T=c(T)}if(E.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;s[n.declarationKey]={},Object.keys(T).length&&(s[n.declarationKey][n.attributesKey]=T),n.addParent&&(s[n.declarationKey][n.parentKey]=s)}else{if(n.ignoreInstruction)return;n.trim&&(E.body=E.body.trim());var C={};n.instructionHasAttributes&&Object.keys(T).length?(C[E.name]={},C[E.name][n.attributesKey]=T):C[E.name]=E.body,o("instruction",C)}}function h(E,T){var _;if(typeof E=="object"&&(T=E.attributes,E=E.name),T=c(T),"elementNameFn"in n&&(E=n.elementNameFn(E,s)),n.compact){if(_={},!n.ignoreAttributes&&T&&Object.keys(T).length){_[n.attributesKey]={};var S;for(S in T)T.hasOwnProperty(S)&&(_[n.attributesKey][S]=T[S])}!(E in s)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(E)!==-1:n.alwaysArray)&&(s[E]=[]),s[E]&&!r(s[E])&&(s[E]=[s[E]]),r(s[E])?s[E].push(_):s[E]=_}else s[n.elementsKey]||(s[n.elementsKey]=[]),_={},_[n.typeKey]="element",_[n.nameKey]=E,!n.ignoreAttributes&&T&&Object.keys(T).length&&(_[n.attributesKey]=T),n.alwaysChildren&&(_[n.elementsKey]=[]),s[n.elementsKey].push(_);_[n.parentKey]=s,s=_}function m(E){n.ignoreText||!E.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(E=E.trim()),n.nativeType&&(E=i(E)),n.sanitize&&(E=E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",E))}function x(E){n.ignoreComment||(n.trim&&(E=E.trim()),o("comment",E))}function g(E){var T=s[n.parentKey];n.addParent||delete s[n.parentKey],s=T}function y(E){n.ignoreCdata||(n.trim&&(E=E.trim()),o("cdata",E))}function b(E){n.ignoreDoctype||(E=E.replace(/^ /,""),n.trim&&(E=E.trim()),o("doctype",E))}function w(E){E.note=E}return Mw=function(E,T){var _=e.parser(!0,{}),S={};if(s=S,n=a(T),_.opt={strictEntities:!0},_.onopentag=h,_.ontext=m,_.oncomment=x,_.onclosetag=g,_.onerror=w,_.oncdata=y,_.ondoctype=b,_.onprocessinginstruction=f,_.write(E).close(),S[n.elementsKey]){var C=S[n.elementsKey];delete S[n.elementsKey],S[n.elementsKey]=C,delete S.text}return S},Mw}var Fw,T6;function Zhe(){if(T6)return Fw;T6=1;var e=kS(),t=nP();function r(n){var s=e.copyOptions(n);return e.ensureSpacesExists(s),s}return Fw=function(n,s){var a,i,o,c;return a=r(s),i=t(n,a),c="compact"in a&&a.compact?"_parent":"parent","addParent"in a&&a.addParent?o=JSON.stringify(i,function(f,h){return f===c?"_":h},a.spaces):o=JSON.stringify(i,null,a.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Fw}var Pw,N6;function sP(){if(N6)return Pw;N6=1;var e=kS(),t=CS().isArray,r,n;function s(_){var S=e.copyOptions(_);return e.ensureFlagExists("ignoreDeclaration",S),e.ensureFlagExists("ignoreInstruction",S),e.ensureFlagExists("ignoreAttributes",S),e.ensureFlagExists("ignoreText",S),e.ensureFlagExists("ignoreComment",S),e.ensureFlagExists("ignoreCdata",S),e.ensureFlagExists("ignoreDoctype",S),e.ensureFlagExists("compact",S),e.ensureFlagExists("indentText",S),e.ensureFlagExists("indentCdata",S),e.ensureFlagExists("indentAttributes",S),e.ensureFlagExists("indentInstruction",S),e.ensureFlagExists("fullTagEmptyElement",S),e.ensureFlagExists("noQuotesForNativeAttributes",S),e.ensureSpacesExists(S),typeof S.spaces=="number"&&(S.spaces=Array(S.spaces+1).join(" ")),e.ensureKeyExists("declaration",S),e.ensureKeyExists("instruction",S),e.ensureKeyExists("attributes",S),e.ensureKeyExists("text",S),e.ensureKeyExists("comment",S),e.ensureKeyExists("cdata",S),e.ensureKeyExists("doctype",S),e.ensureKeyExists("type",S),e.ensureKeyExists("name",S),e.ensureKeyExists("elements",S),e.checkFnExists("doctype",S),e.checkFnExists("instruction",S),e.checkFnExists("cdata",S),e.checkFnExists("comment",S),e.checkFnExists("text",S),e.checkFnExists("instructionName",S),e.checkFnExists("elementName",S),e.checkFnExists("attributeName",S),e.checkFnExists("attributeValue",S),e.checkFnExists("attributes",S),e.checkFnExists("fullTagEmptyElement",S),S}function a(_,S,C){return(!C&&_.spaces?`
`:"")+Array(S+1).join(_.spaces)}function i(_,S,C){if(S.ignoreAttributes)return"";"attributesFn"in S&&(_=S.attributesFn(_,n,r));var I,j,q,D,Q=[];for(I in _)_.hasOwnProperty(I)&&_[I]!==null&&_[I]!==void 0&&(D=S.noQuotesForNativeAttributes&&typeof _[I]!="string"?"":'"',j=""+_[I],j=j.replace(/"/g,"&quot;"),q="attributeNameFn"in S?S.attributeNameFn(I,j,n,r):I,Q.push(S.spaces&&S.indentAttributes?a(S,C+1,!1):" "),Q.push(q+"="+D+("attributeValueFn"in S?S.attributeValueFn(j,I,n,r):j)+D));return _&&Object.keys(_).length&&S.spaces&&S.indentAttributes&&Q.push(a(S,C,!1)),Q.join("")}function o(_,S,C){return r=_,n="xml",S.ignoreDeclaration?"":"<?xml"+i(_[S.attributesKey],S,C)+"?>"}function c(_,S,C){if(S.ignoreInstruction)return"";var I;for(I in _)if(_.hasOwnProperty(I))break;var j="instructionNameFn"in S?S.instructionNameFn(I,_[I],n,r):I;if(typeof _[I]=="object")return r=_,n=j,"<?"+j+i(_[I][S.attributesKey],S,C)+"?>";var q=_[I]?_[I]:"";return"instructionFn"in S&&(q=S.instructionFn(q,I,n,r)),"<?"+j+(q?" "+q:"")+"?>"}function f(_,S){return S.ignoreComment?"":"<!--"+("commentFn"in S?S.commentFn(_,n,r):_)+"-->"}function h(_,S){return S.ignoreCdata?"":"<![CDATA["+("cdataFn"in S?S.cdataFn(_,n,r):_.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function m(_,S){return S.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in S?S.doctypeFn(_,n,r):_)+">"}function x(_,S){return S.ignoreText?"":(_=""+_,_=_.replace(/&amp;/g,"&"),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in S?S.textFn(_,n,r):_)}function g(_,S){var C;if(_.elements&&_.elements.length)for(C=0;C<_.elements.length;++C)switch(_.elements[C][S.typeKey]){case"text":if(S.indentText)return!0;break;case"cdata":if(S.indentCdata)return!0;break;case"instruction":if(S.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function y(_,S,C){r=_,n=_.name;var I=[],j="elementNameFn"in S?S.elementNameFn(_.name,_):_.name;I.push("<"+j),_[S.attributesKey]&&I.push(i(_[S.attributesKey],S,C));var q=_[S.elementsKey]&&_[S.elementsKey].length||_[S.attributesKey]&&_[S.attributesKey]["xml:space"]==="preserve";return q||("fullTagEmptyElementFn"in S?q=S.fullTagEmptyElementFn(_.name,_):q=S.fullTagEmptyElement),q?(I.push(">"),_[S.elementsKey]&&_[S.elementsKey].length&&(I.push(b(_[S.elementsKey],S,C+1)),r=_,n=_.name),I.push(S.spaces&&g(_,S)?`
`+Array(C+1).join(S.spaces):""),I.push("</"+j+">")):I.push("/>"),I.join("")}function b(_,S,C,I){return _.reduce(function(j,q){var D=a(S,C,I&&!j);switch(q.type){case"element":return j+D+y(q,S,C);case"comment":return j+D+f(q[S.commentKey],S);case"doctype":return j+D+m(q[S.doctypeKey],S);case"cdata":return j+(S.indentCdata?D:"")+h(q[S.cdataKey],S);case"text":return j+(S.indentText?D:"")+x(q[S.textKey],S);case"instruction":var Q={};return Q[q[S.nameKey]]=q[S.attributesKey]?q:q[S.instructionKey],j+(S.indentInstruction?D:"")+c(Q,S,C)}},"")}function w(_,S,C){var I;for(I in _)if(_.hasOwnProperty(I))switch(I){case S.parentKey:case S.attributesKey:break;case S.textKey:if(S.indentText||C)return!0;break;case S.cdataKey:if(S.indentCdata||C)return!0;break;case S.instructionKey:if(S.indentInstruction||C)return!0;break;case S.doctypeKey:case S.commentKey:return!0;default:return!0}return!1}function E(_,S,C,I,j){r=_,n=S;var q="elementNameFn"in C?C.elementNameFn(S,_):S;if(typeof _>"u"||_===null||_==="")return"fullTagEmptyElementFn"in C&&C.fullTagEmptyElementFn(S,_)||C.fullTagEmptyElement?"<"+q+"></"+q+">":"<"+q+"/>";var D=[];if(S){if(D.push("<"+q),typeof _!="object")return D.push(">"+x(_,C)+"</"+q+">"),D.join("");_[C.attributesKey]&&D.push(i(_[C.attributesKey],C,I));var Q=w(_,C,!0)||_[C.attributesKey]&&_[C.attributesKey]["xml:space"]==="preserve";if(Q||("fullTagEmptyElementFn"in C?Q=C.fullTagEmptyElementFn(S,_):Q=C.fullTagEmptyElement),Q)D.push(">");else return D.push("/>"),D.join("")}return D.push(T(_,C,I+1,!1)),r=_,n=S,S&&D.push((j?a(C,I,!1):"")+"</"+q+">"),D.join("")}function T(_,S,C,I){var j,q,D,Q=[];for(q in _)if(_.hasOwnProperty(q))for(D=t(_[q])?_[q]:[_[q]],j=0;j<D.length;++j){switch(q){case S.declarationKey:Q.push(o(D[j],S,C));break;case S.instructionKey:Q.push((S.indentInstruction?a(S,C,I):"")+c(D[j],S,C));break;case S.attributesKey:case S.parentKey:break;case S.textKey:Q.push((S.indentText?a(S,C,I):"")+x(D[j],S));break;case S.cdataKey:Q.push((S.indentCdata?a(S,C,I):"")+h(D[j],S));break;case S.doctypeKey:Q.push(a(S,C,I)+m(D[j],S));break;case S.commentKey:Q.push(a(S,C,I)+f(D[j],S));break;default:Q.push(a(S,C,I)+E(D[j],q,S,C,w(D[j],S)))}I=I&&!Q.length}return Q.join("")}return Pw=function(_,S){S=s(S);var C=[];return r=_,n="_root_",S.compact?C.push(T(_,S,0,!0)):(_[S.declarationKey]&&C.push(o(_[S.declarationKey],S,0)),_[S.elementsKey]&&_[S.elementsKey].length&&C.push(b(_[S.elementsKey],S,0,!C.length))),C.join("")},Pw}var Lw,A6;function Qhe(){if(A6)return Lw;A6=1;var e=sP();return Lw=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return e(n,r)},Lw}var Bw,C6;function e0e(){if(C6)return Bw;C6=1;var e=nP(),t=Zhe(),r=sP(),n=Qhe();return Bw={xml2js:e,xml2json:t,js2xml:r,json2xml:n},Bw}var aP=e0e();const RS=e=>{switch(e.type){case void 0:case"element":const t=new r0e(e.name,e.attributes),r=e.elements||[];for(const n of r){const s=RS(n);s!==void 0&&t.push(s)}return t;case"text":return e.text;default:return}};class t0e extends it{}class r0e extends Le{static fromXmlString(t){const r=aP.xml2js(t,{compact:!1});return RS(r)}constructor(t,r){super(t),r&&this.root.push(new t0e(r))}push(t){this.root.push(t)}}class n0e extends Le{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class iP extends Le{constructor(t,r){super(t),r&&(this.root=r.root)}}const Ns=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},e1=e=>{const t=Ns(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},oP=(e,t)=>{const r=t*2;if(e.length!==r||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},k6=e=>oP(e,1),lP=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},cP=e=>{const t=lP(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},af=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return oP(t,3)},oc=e=>typeof e=="string"?lP(e):Ns(e),s0e=e=>typeof e=="string"?cP(e):e1(e),La=e=>typeof e=="string"?cP(e):e1(e),a0e=e1,i0e=e1,o0e=e=>e.toISOString();class qe extends Le{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new Br({val:r}))}}class Uw extends Le{constructor(t,r){super(t),this.root.push(new Br({val:s0e(r)}))}}class Hu extends Le{constructor(t,r){super(t),this.root.push(new Br({val:r}))}}const Id=(e,t)=>new Yt({name:e,attributes:{value:{key:"w:val",value:t}}});class bh extends Le{constructor(t,r){super(t),this.root.push(new Br({val:r}))}}class Kl extends Le{constructor(t,r){super(t),this.root.push(r)}}class Yt extends Le{constructor({name:t,attributes:r,children:n}){super(t),r&&this.root.push(new E0(r)),n&&this.root.push(...n)}}const pa={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class l0e extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class c0e extends Le{constructor(t){super("w:jc"),this.root.push(new l0e({val:t}))}}class Ar extends Le{constructor(t,{color:r,size:n,space:s,style:a}){super(t),this.root.push(new u0e({style:a,color:r===void 0?void 0:af(r),size:n===void 0?void 0:a0e(n),space:s===void 0?void 0:i0e(s)}))}}class u0e extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const OS={SINGLE:"single",NONE:"none"};class f0e extends Jx{constructor(t){super("w:pBdr"),t.top&&this.root.push(new Ar("w:top",t.top)),t.bottom&&this.root.push(new Ar("w:bottom",t.bottom)),t.left&&this.root.push(new Ar("w:left",t.left)),t.right&&this.root.push(new Ar("w:right",t.right))}}class d0e extends Le{constructor(){super("w:pBdr");const t=new Ar("w:bottom",{color:"auto",space:1,style:OS.SINGLE,size:6});this.root.push(t)}}class h0e extends Le{constructor({start:t,end:r,left:n,right:s,hanging:a,firstLine:i}){super("w:ind"),this.root.push(new E0({start:{key:"w:start",value:t===void 0?void 0:oc(t)},end:{key:"w:end",value:r===void 0?void 0:oc(r)},left:{key:"w:left",value:n===void 0?void 0:oc(n)},right:{key:"w:right",value:s===void 0?void 0:oc(s)},hanging:{key:"w:hanging",value:a===void 0?void 0:La(a)},firstLine:{key:"w:firstLine",value:i===void 0?void 0:La(i)}}))}}let p0e=class extends Le{constructor(){super("w:br")}};const jS={BEGIN:"begin",END:"end",SEPARATE:"separate"};class DS extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class bm extends Le{constructor(t){super("w:fldChar"),this.root.push(new DS({type:jS.BEGIN,dirty:t}))}}class wm extends Le{constructor(t){super("w:fldChar"),this.root.push(new DS({type:jS.SEPARATE,dirty:t}))}}class Em extends Le{constructor(t){super("w:fldChar"),this.root.push(new DS({type:jS.END,dirty:t}))}}const of={DEFAULT:"default",PRESERVE:"preserve"};class lf extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{space:"xml:space"})}}class m0e extends Le{constructor(){super("w:instrText"),this.root.push(new lf({space:of.PRESERVE})),this.root.push("PAGE")}}class g0e extends Le{constructor(){super("w:instrText"),this.root.push(new lf({space:of.PRESERVE})),this.root.push("NUMPAGES")}}class x0e extends Le{constructor(){super("w:instrText"),this.root.push(new lf({space:of.PRESERVE})),this.root.push("SECTIONPAGES")}}class y0e extends Le{constructor(){super("w:instrText"),this.root.push(new lf({space:of.PRESERVE})),this.root.push("SECTION")}}class v0e extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class uP extends Le{constructor({fill:t,color:r,type:n}){super("w:shd"),this.root.push(new v0e({fill:t===void 0?void 0:af(t),color:r===void 0?void 0:af(r),type:n}))}}class b0e extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const w0e={DOT:"dot"};class E0e extends Le{constructor(t){super("w:em"),this.root.push(new Br({val:t}))}}class _0e extends E0e{constructor(t=w0e.DOT){super(t)}}class S0e extends Le{constructor(t){super("w:spacing"),this.root.push(new Br({val:oc(t)}))}}class T0e extends Le{constructor(t){super("w:color"),this.root.push(new Br({val:af(t)}))}}class N0e extends Le{constructor(t){super("w:highlight"),this.root.push(new Br({val:t}))}}class A0e extends Le{constructor(t){super("w:highlightCs"),this.root.push(new Br({val:t}))}}const C0e=e=>new Yt({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class R6 extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class zw extends Le{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const n=t;this.root.push(new R6({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=t;this.root.push(new R6(n))}}}let fP=class extends Le{constructor(t){super("w:vertAlign"),this.root.push(new Br({val:t}))}};class k0e extends fP{constructor(){super("superscript")}}class R0e extends fP{constructor(){super("subscript")}}const dP={SINGLE:"single"};class O0e extends Le{constructor(t=dP.SINGLE,r){super("w:u"),this.root.push(new Br({val:t,color:r===void 0?void 0:af(r)}))}}class Hc extends Jx{constructor(t){var r,n;if(super("w:rPr"),!t)return;t.style&&this.push(new Hu("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new zw(t.font)):"name"in t.font?this.push(new zw(t.font.name,t.font.hint)):this.push(new zw(t.font))),t.bold!==void 0&&this.push(new qe("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new qe("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new qe("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new qe("w:iCs",(n=t.italicsComplexScript)!=null?n:t.italics)),t.smallCaps!==void 0?this.push(new qe("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new qe("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new qe("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new qe("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new qe("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new qe("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new qe("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new qe("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new qe("w:vanish",t.vanish)),t.color&&this.push(new T0e(t.color)),t.characterSpacing&&this.push(new S0e(t.characterSpacing)),t.scale!==void 0&&this.push(new bh("w:w",t.scale)),t.kern&&this.push(new Uw("w:kern",t.kern)),t.position&&this.push(new Hu("w:position",t.position)),t.size!==void 0&&this.push(new Uw("w:sz",t.size));const s=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;s&&this.push(new Uw("w:szCs",s)),t.highlight&&this.push(new N0e(t.highlight));const a=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;a&&this.push(new A0e(a)),t.underline&&this.push(new O0e(t.underline.type,t.underline.color)),t.effect&&this.push(new Hu("w:effect",t.effect)),t.border&&this.push(new Ar("w:bdr",t.border)),t.shading&&this.push(new uP(t.shading)),t.subScript&&this.push(new R0e),t.superScript&&this.push(new k0e),t.rightToLeft!==void 0&&this.push(new qe("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new _0e(t.emphasisMark.type)),t.language&&this.push(C0e(t.language)),t.specVanish&&this.push(new qe("w:specVanish",t.vanish)),t.math&&this.push(new qe("w:oMath",t.math)),t.revision&&this.push(new j0e(t.revision))}push(t){this.root.push(t)}}class j0e extends Le{constructor(t){super("w:rPrChange"),this.root.push(new b0e({id:t.id,author:t.author,date:t.date})),this.addChildElement(new Hc(t))}}class O6 extends Le{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new lf({space:of.PRESERVE})),this.root.push(t)):(this.root.push(new lf({space:(r=t.space)!=null?r:of.DEFAULT})),this.root.push(t.text))}}const _m={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class N0 extends Le{constructor(t){if(super("w:r"),Fe(this,"properties"),this.properties=new Hc(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new p0e);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case _m.CURRENT:this.root.push(new bm),this.root.push(new m0e),this.root.push(new wm),this.root.push(new Em);break;case _m.TOTAL_PAGES:this.root.push(new bm),this.root.push(new g0e),this.root.push(new wm),this.root.push(new Em);break;case _m.TOTAL_PAGES_IN_SECTION:this.root.push(new bm),this.root.push(new x0e),this.root.push(new wm),this.root.push(new Em);break;case _m.CURRENT_SECTION:this.root.push(new bm),this.root.push(new y0e),this.root.push(new wm),this.root.push(new Em);break;default:this.root.push(new O6(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new O6(t.text))}}class Ql extends N0{constructor(t){super(typeof t=="string"?{text:t}:t)}}var Hw={},rr={},qw,j6;function A0(){if(j6)return qw;j6=1,qw=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,s){if(r!=n)throw new Error(s||"Assertion failed: "+r+" != "+n)},qw}var D6;function wi(){if(D6)return rr;D6=1;var e=A0(),t=Cl();rr.inherits=t;function r(F,X){return(F.charCodeAt(X)&64512)!==55296||X<0||X+1>=F.length?!1:(F.charCodeAt(X+1)&64512)===56320}function n(F,X){if(Array.isArray(F))return F.slice();if(!F)return[];var M=[];if(typeof F=="string")if(X){if(X==="hex")for(F=F.replace(/[^a-z0-9]+/ig,""),F.length%2!==0&&(F="0"+F),J=0;J<F.length;J+=2)M.push(parseInt(F[J]+F[J+1],16))}else for(var se=0,J=0;J<F.length;J++){var Z=F.charCodeAt(J);Z<128?M[se++]=Z:Z<2048?(M[se++]=Z>>6|192,M[se++]=Z&63|128):r(F,J)?(Z=65536+((Z&1023)<<10)+(F.charCodeAt(++J)&1023),M[se++]=Z>>18|240,M[se++]=Z>>12&63|128,M[se++]=Z>>6&63|128,M[se++]=Z&63|128):(M[se++]=Z>>12|224,M[se++]=Z>>6&63|128,M[se++]=Z&63|128)}else for(J=0;J<F.length;J++)M[J]=F[J]|0;return M}rr.toArray=n;function s(F){for(var X="",M=0;M<F.length;M++)X+=o(F[M].toString(16));return X}rr.toHex=s;function a(F){var X=F>>>24|F>>>8&65280|F<<8&16711680|(F&255)<<24;return X>>>0}rr.htonl=a;function i(F,X){for(var M="",se=0;se<F.length;se++){var J=F[se];X==="little"&&(J=a(J)),M+=c(J.toString(16))}return M}rr.toHex32=i;function o(F){return F.length===1?"0"+F:F}rr.zero2=o;function c(F){return F.length===7?"0"+F:F.length===6?"00"+F:F.length===5?"000"+F:F.length===4?"0000"+F:F.length===3?"00000"+F:F.length===2?"000000"+F:F.length===1?"0000000"+F:F}rr.zero8=c;function f(F,X,M,se){var J=M-X;e(J%4===0);for(var Z=new Array(J/4),ge=0,ie=X;ge<Z.length;ge++,ie+=4){var Ee;se==="big"?Ee=F[ie]<<24|F[ie+1]<<16|F[ie+2]<<8|F[ie+3]:Ee=F[ie+3]<<24|F[ie+2]<<16|F[ie+1]<<8|F[ie],Z[ge]=Ee>>>0}return Z}rr.join32=f;function h(F,X){for(var M=new Array(F.length*4),se=0,J=0;se<F.length;se++,J+=4){var Z=F[se];X==="big"?(M[J]=Z>>>24,M[J+1]=Z>>>16&255,M[J+2]=Z>>>8&255,M[J+3]=Z&255):(M[J+3]=Z>>>24,M[J+2]=Z>>>16&255,M[J+1]=Z>>>8&255,M[J]=Z&255)}return M}rr.split32=h;function m(F,X){return F>>>X|F<<32-X}rr.rotr32=m;function x(F,X){return F<<X|F>>>32-X}rr.rotl32=x;function g(F,X){return F+X>>>0}rr.sum32=g;function y(F,X,M){return F+X+M>>>0}rr.sum32_3=y;function b(F,X,M,se){return F+X+M+se>>>0}rr.sum32_4=b;function w(F,X,M,se,J){return F+X+M+se+J>>>0}rr.sum32_5=w;function E(F,X,M,se){var J=F[X],Z=F[X+1],ge=se+Z>>>0,ie=(ge<se?1:0)+M+J;F[X]=ie>>>0,F[X+1]=ge}rr.sum64=E;function T(F,X,M,se){var J=X+se>>>0,Z=(J<X?1:0)+F+M;return Z>>>0}rr.sum64_hi=T;function _(F,X,M,se){var J=X+se;return J>>>0}rr.sum64_lo=_;function S(F,X,M,se,J,Z,ge,ie){var Ee=0,G=X;G=G+se>>>0,Ee+=G<X?1:0,G=G+Z>>>0,Ee+=G<Z?1:0,G=G+ie>>>0,Ee+=G<ie?1:0;var O=F+M+J+ge+Ee;return O>>>0}rr.sum64_4_hi=S;function C(F,X,M,se,J,Z,ge,ie){var Ee=X+se+Z+ie;return Ee>>>0}rr.sum64_4_lo=C;function I(F,X,M,se,J,Z,ge,ie,Ee,G){var O=0,W=X;W=W+se>>>0,O+=W<X?1:0,W=W+Z>>>0,O+=W<Z?1:0,W=W+ie>>>0,O+=W<ie?1:0,W=W+G>>>0,O+=W<G?1:0;var K=F+M+J+ge+Ee+O;return K>>>0}rr.sum64_5_hi=I;function j(F,X,M,se,J,Z,ge,ie,Ee,G){var O=X+se+Z+ie+G;return O>>>0}rr.sum64_5_lo=j;function q(F,X,M){var se=X<<32-M|F>>>M;return se>>>0}rr.rotr64_hi=q;function D(F,X,M){var se=F<<32-M|X>>>M;return se>>>0}rr.rotr64_lo=D;function Q(F,X,M){return F>>>M}rr.shr64_hi=Q;function ae(F,X,M){var se=F<<32-M|X>>>M;return se>>>0}return rr.shr64_lo=ae,rr}var Vw={},I6;function C0(){if(I6)return Vw;I6=1;var e=wi(),t=A0();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Vw.BlockHash=r,r.prototype.update=function(s,a){if(s=e.toArray(s,a),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var i=s.length%this._delta8;this.pending=s.slice(s.length-i,s.length),this.pending.length===0&&(this.pending=null),s=e.join32(s,0,s.length-i,this.endian);for(var o=0;o<s.length;o+=this._delta32)this._update(s,o,o+this._delta32)}return this},r.prototype.digest=function(s){return this.update(this._pad()),t(this.pending===null),this._digest(s)},r.prototype._pad=function(){var s=this.pendingTotal,a=this._delta8,i=a-(s+this.padLength)%a,o=new Array(i+this.padLength);o[0]=128;for(var c=1;c<i;c++)o[c]=0;if(s<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)o[c++]=0;o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=s>>>24&255,o[c++]=s>>>16&255,o[c++]=s>>>8&255,o[c++]=s&255}else for(o[c++]=s&255,o[c++]=s>>>8&255,o[c++]=s>>>16&255,o[c++]=s>>>24&255,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,f=8;f<this.padLength;f++)o[c++]=0;return o},Vw}var Xl={},oi={},M6;function hP(){if(M6)return oi;M6=1;var e=wi(),t=e.rotr32;function r(h,m,x,g){if(h===0)return n(m,x,g);if(h===1||h===3)return a(m,x,g);if(h===2)return s(m,x,g)}oi.ft_1=r;function n(h,m,x){return h&m^~h&x}oi.ch32=n;function s(h,m,x){return h&m^h&x^m&x}oi.maj32=s;function a(h,m,x){return h^m^x}oi.p32=a;function i(h){return t(h,2)^t(h,13)^t(h,22)}oi.s0_256=i;function o(h){return t(h,6)^t(h,11)^t(h,25)}oi.s1_256=o;function c(h){return t(h,7)^t(h,18)^h>>>3}oi.g0_256=c;function f(h){return t(h,17)^t(h,19)^h>>>10}return oi.g1_256=f,oi}var $w,F6;function D0e(){if(F6)return $w;F6=1;var e=wi(),t=C0(),r=hP(),n=e.rotl32,s=e.sum32,a=e.sum32_5,i=r.ft_1,o=t.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(f,o),$w=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(m,x){for(var g=this.W,y=0;y<16;y++)g[y]=m[x+y];for(;y<g.length;y++)g[y]=n(g[y-3]^g[y-8]^g[y-14]^g[y-16],1);var b=this.h[0],w=this.h[1],E=this.h[2],T=this.h[3],_=this.h[4];for(y=0;y<g.length;y++){var S=~~(y/20),C=a(n(b,5),i(S,w,E,T),_,g[y],c[S]);_=T,T=E,E=n(w,30),w=b,b=C}this.h[0]=s(this.h[0],b),this.h[1]=s(this.h[1],w),this.h[2]=s(this.h[2],E),this.h[3]=s(this.h[3],T),this.h[4]=s(this.h[4],_)},f.prototype._digest=function(m){return m==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},$w}var Ww,P6;function pP(){if(P6)return Ww;P6=1;var e=wi(),t=C0(),r=hP(),n=A0(),s=e.sum32,a=e.sum32_4,i=e.sum32_5,o=r.ch32,c=r.maj32,f=r.s0_256,h=r.s1_256,m=r.g0_256,x=r.g1_256,g=t.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}return e.inherits(b,g),Ww=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(E,T){for(var _=this.W,S=0;S<16;S++)_[S]=E[T+S];for(;S<_.length;S++)_[S]=a(x(_[S-2]),_[S-7],m(_[S-15]),_[S-16]);var C=this.h[0],I=this.h[1],j=this.h[2],q=this.h[3],D=this.h[4],Q=this.h[5],ae=this.h[6],F=this.h[7];for(n(this.k.length===_.length),S=0;S<_.length;S++){var X=i(F,h(D),o(D,Q,ae),this.k[S],_[S]),M=s(f(C),c(C,I,j));F=ae,ae=Q,Q=D,D=s(q,X),q=j,j=I,I=C,C=s(X,M)}this.h[0]=s(this.h[0],C),this.h[1]=s(this.h[1],I),this.h[2]=s(this.h[2],j),this.h[3]=s(this.h[3],q),this.h[4]=s(this.h[4],D),this.h[5]=s(this.h[5],Q),this.h[6]=s(this.h[6],ae),this.h[7]=s(this.h[7],F)},b.prototype._digest=function(E){return E==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Ww}var Gw,L6;function I0e(){if(L6)return Gw;L6=1;var e=wi(),t=pP();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),Gw=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(s){return s==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},Gw}var Kw,B6;function mP(){if(B6)return Kw;B6=1;var e=wi(),t=C0(),r=A0(),n=e.rotr64_hi,s=e.rotr64_lo,a=e.shr64_hi,i=e.shr64_lo,o=e.sum64,c=e.sum64_hi,f=e.sum64_lo,h=e.sum64_4_hi,m=e.sum64_4_lo,x=e.sum64_5_hi,g=e.sum64_5_lo,y=t.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}e.inherits(w,y),Kw=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(M,se){for(var J=this.W,Z=0;Z<32;Z++)J[Z]=M[se+Z];for(;Z<J.length;Z+=2){var ge=ae(J[Z-4],J[Z-3]),ie=F(J[Z-4],J[Z-3]),Ee=J[Z-14],G=J[Z-13],O=D(J[Z-30],J[Z-29]),W=Q(J[Z-30],J[Z-29]),K=J[Z-32],re=J[Z-31];J[Z]=h(ge,ie,Ee,G,O,W,K,re),J[Z+1]=m(ge,ie,Ee,G,O,W,K,re)}},w.prototype._update=function(M,se){this._prepareBlock(M,se);var J=this.W,Z=this.h[0],ge=this.h[1],ie=this.h[2],Ee=this.h[3],G=this.h[4],O=this.h[5],W=this.h[6],K=this.h[7],re=this.h[8],Y=this.h[9],P=this.h[10],L=this.h[11],oe=this.h[12],ee=this.h[13],ne=this.h[14],z=this.h[15];r(this.k.length===J.length);for(var be=0;be<J.length;be+=2){var U=ne,we=z,B=j(re,Y),A=q(re,Y),R=E(re,Y,P,L,oe),H=T(re,Y,P,L,oe,ee),fe=this.k[be],ye=this.k[be+1],he=J[be],Ae=J[be+1],De=x(U,we,B,A,R,H,fe,ye,he,Ae),Pe=g(U,we,B,A,R,H,fe,ye,he,Ae);U=C(Z,ge),we=I(Z,ge),B=_(Z,ge,ie,Ee,G),A=S(Z,ge,ie,Ee,G,O);var We=c(U,we,B,A),et=f(U,we,B,A);ne=oe,z=ee,oe=P,ee=L,P=re,L=Y,re=c(W,K,De,Pe),Y=f(K,K,De,Pe),W=G,K=O,G=ie,O=Ee,ie=Z,Ee=ge,Z=c(De,Pe,We,et),ge=f(De,Pe,We,et)}o(this.h,0,Z,ge),o(this.h,2,ie,Ee),o(this.h,4,G,O),o(this.h,6,W,K),o(this.h,8,re,Y),o(this.h,10,P,L),o(this.h,12,oe,ee),o(this.h,14,ne,z)},w.prototype._digest=function(M){return M==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function E(X,M,se,J,Z){var ge=X&se^~X&Z;return ge<0&&(ge+=4294967296),ge}function T(X,M,se,J,Z,ge){var ie=M&J^~M&ge;return ie<0&&(ie+=4294967296),ie}function _(X,M,se,J,Z){var ge=X&se^X&Z^se&Z;return ge<0&&(ge+=4294967296),ge}function S(X,M,se,J,Z,ge){var ie=M&J^M&ge^J&ge;return ie<0&&(ie+=4294967296),ie}function C(X,M){var se=n(X,M,28),J=n(M,X,2),Z=n(M,X,7),ge=se^J^Z;return ge<0&&(ge+=4294967296),ge}function I(X,M){var se=s(X,M,28),J=s(M,X,2),Z=s(M,X,7),ge=se^J^Z;return ge<0&&(ge+=4294967296),ge}function j(X,M){var se=n(X,M,14),J=n(X,M,18),Z=n(M,X,9),ge=se^J^Z;return ge<0&&(ge+=4294967296),ge}function q(X,M){var se=s(X,M,14),J=s(X,M,18),Z=s(M,X,9),ge=se^J^Z;return ge<0&&(ge+=4294967296),ge}function D(X,M){var se=n(X,M,1),J=n(X,M,8),Z=a(X,M,7),ge=se^J^Z;return ge<0&&(ge+=4294967296),ge}function Q(X,M){var se=s(X,M,1),J=s(X,M,8),Z=i(X,M,7),ge=se^J^Z;return ge<0&&(ge+=4294967296),ge}function ae(X,M){var se=n(X,M,19),J=n(M,X,29),Z=a(X,M,6),ge=se^J^Z;return ge<0&&(ge+=4294967296),ge}function F(X,M){var se=s(X,M,19),J=s(M,X,29),Z=i(X,M,6),ge=se^J^Z;return ge<0&&(ge+=4294967296),ge}return Kw}var Xw,U6;function M0e(){if(U6)return Xw;U6=1;var e=wi(),t=mP();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),Xw=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(s){return s==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},Xw}var z6;function F0e(){return z6||(z6=1,Xl.sha1=D0e(),Xl.sha224=I0e(),Xl.sha256=pP(),Xl.sha384=M0e(),Xl.sha512=mP()),Xl}var Yw={},H6;function P0e(){if(H6)return Yw;H6=1;var e=wi(),t=C0(),r=e.rotl32,n=e.sum32,s=e.sum32_3,a=e.sum32_4,i=t.BlockHash;function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(o,i),Yw.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(w,E){for(var T=this.h[0],_=this.h[1],S=this.h[2],C=this.h[3],I=this.h[4],j=T,q=_,D=S,Q=C,ae=I,F=0;F<80;F++){var X=n(r(a(T,c(F,_,S,C),w[m[F]+E],f(F)),g[F]),I);T=I,I=C,C=r(S,10),S=_,_=X,X=n(r(a(j,c(79-F,q,D,Q),w[x[F]+E],h(F)),y[F]),ae),j=ae,ae=Q,Q=r(D,10),D=q,q=X}X=s(this.h[1],S,Q),this.h[1]=s(this.h[2],C,ae),this.h[2]=s(this.h[3],I,j),this.h[3]=s(this.h[4],T,q),this.h[4]=s(this.h[0],_,D),this.h[0]=X},o.prototype._digest=function(w){return w==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function c(b,w,E,T){return b<=15?w^E^T:b<=31?w&E|~w&T:b<=47?(w|~E)^T:b<=63?w&T|E&~T:w^(E|~T)}function f(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function h(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],x=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Yw}var Jw,q6;function L0e(){if(q6)return Jw;q6=1;var e=wi(),t=A0();function r(n,s,a){if(!(this instanceof r))return new r(n,s,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(s,a))}return Jw=r,r.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),t(s.length<=this.blockSize);for(var a=s.length;a<this.blockSize;a++)s.push(0);for(a=0;a<s.length;a++)s[a]^=54;for(this.inner=new this.Hash().update(s),a=0;a<s.length;a++)s[a]^=106;this.outer=new this.Hash().update(s)},r.prototype.update=function(s,a){return this.inner.update(s,a),this},r.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)},Jw}var V6;function B0e(){return V6||(V6=1,(function(e){var t=e;t.utils=wi(),t.common=C0(),t.sha=F0e(),t.ripemd=P0e(),t.hmac=L0e(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Hw)),Hw}var U0e=B0e();const z0e=wS(U0e);let H0e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",q0e=(e,t=21)=>(r=t)=>{let n="",s=r|0;for(;s--;)n+=e[Math.random()*e.length|0];return n},V0e=(e=21)=>{let t="",r=e|0;for(;r--;)t+=H0e[Math.random()*64|0];return t};const Ma=e=>Math.floor(e*72*20),t1=(e=0)=>{let t=e;return()=>++t},$0e=()=>t1(),W0e=()=>t1(1),G0e=()=>t1(),K0e=()=>t1(),X0e=()=>V0e().toLowerCase(),$6=e=>z0e.sha1().update(e instanceof ArrayBuffer?new Uint8Array(e):e).digest("hex"),Md=e=>q0e("1234567890abcdef",e)(),Y0e=()=>`${Md(8)}-${Md(4)}-${Md(4)}-${Md(4)}-${Md(12)}`,J0e={PAGE:"page"},Z0e={PAGE:"page"},Q0e=()=>new Yt({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),gP=e=>new Yt({name:"wp:align",children:[e]}),xP=e=>new Yt({name:"wp:posOffset",children:[e.toString()]}),epe=({relative:e,align:t,offset:r})=>new Yt({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:e??J0e.PAGE}},children:[(()=>{if(t)return gP(t);if(r!==void 0)return xP(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),tpe=({relative:e,align:t,offset:r})=>new Yt({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:e??Z0e.PAGE}},children:[(()=>{if(t)return gP(t);if(r!==void 0)return xP(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]});class rpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{uri:"uri"})}}const npe=e=>new Yt({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${e.fileName}}`}}}),spe=e=>new Yt({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[npe(e)]}),ape=e=>new Yt({name:"a:extLst",children:[spe(e)]}),ipe=e=>new Yt({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${e.type==="svg"?e.fallback.fileName:e.fileName}}`},cstate:{key:"cstate",value:"none"}},children:e.type==="svg"?[ape(e)]:[]});class ope extends Le{constructor(){super("a:srcRect")}}class lpe extends Le{constructor(){super("a:fillRect")}}class cpe extends Le{constructor(){super("a:stretch"),this.root.push(new lpe)}}class upe extends Le{constructor(t){super("pic:blipFill"),this.root.push(ipe(t)),this.root.push(new ope),this.root.push(new cpe)}}class fpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class dpe extends Le{constructor(){super("a:picLocks"),this.root.push(new fpe({noChangeAspect:1,noChangeArrowheads:1}))}}class hpe extends Le{constructor(){super("pic:cNvPicPr"),this.root.push(new dpe)}}const yP=(e,t)=>new Yt({name:"a:hlinkClick",attributes:fo(At({},t?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${e}`}})});class ppe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class mpe extends Le{constructor(){super("pic:cNvPr"),this.root.push(new ppe({id:0,name:"",descr:""}))}prepForXml(t){for(let r=t.stack.length-1;r>=0;r--){const n=t.stack[r];if(n instanceof IS){this.root.push(yP(n.linkId,!1));break}}return super.prepForXml(t)}}class gpe extends Le{constructor(){super("pic:nvPicPr"),this.root.push(new mpe),this.root.push(new hpe)}}class xpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class ype extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class vpe extends Le{constructor(t,r){super("a:ext"),Fe(this,"attributes"),this.attributes=new ype({cx:t,cy:r}),this.root.push(this.attributes)}}class bpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{x:"x",y:"y"})}}class wpe extends Le{constructor(){super("a:off"),this.root.push(new bpe({x:0,y:0}))}}class Epe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class _pe extends Le{constructor(t){var r,n;super("a:xfrm"),Fe(this,"extents"),this.root.push(new Epe({flipVertical:(r=t.flip)==null?void 0:r.vertical,flipHorizontal:(n=t.flip)==null?void 0:n.horizontal,rotation:t.rotation})),this.extents=new vpe(t.emus.x,t.emus.y),this.root.push(new wpe),this.root.push(this.extents)}}const vP=()=>new Yt({name:"a:noFill"}),Spe=e=>new Yt({name:"a:srgbClr",attributes:{value:{key:"val",value:e.value}}}),Tpe=e=>new Yt({name:"a:schemeClr",attributes:{value:{key:"val",value:e.value}}}),W6=e=>new Yt({name:"a:solidFill",children:[e.type==="rgb"?Spe(e):Tpe(e)]}),Npe=e=>new Yt({name:"a:ln",attributes:{width:{key:"w",value:e.width},cap:{key:"cap",value:e.cap},compoundLine:{key:"cmpd",value:e.compoundLine},align:{key:"algn",value:e.align}},children:[e.type==="noFill"?vP():e.solidFillType==="rgb"?W6({type:"rgb",value:e.value}):W6({type:"scheme",value:e.value})]});class Ape extends Le{constructor(){super("a:avLst")}}class Cpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{prst:"prst"})}}class kpe extends Le{constructor(){super("a:prstGeom"),this.root.push(new Cpe({prst:"rect"})),this.root.push(new Ape)}}class Rpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{bwMode:"bwMode"})}}class Ope extends Le{constructor({outline:t,transform:r}){super("pic:spPr"),Fe(this,"form"),this.root.push(new Rpe({bwMode:"auto"})),this.form=new _pe(r),this.root.push(this.form),this.root.push(new kpe),t&&(this.root.push(vP()),this.root.push(Npe(t)))}}class jpe extends Le{constructor({mediaData:t,transform:r,outline:n}){super("pic:pic"),this.root.push(new xpe({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new gpe),this.root.push(new upe(t)),this.root.push(new Ope({transform:r,outline:n}))}}class Dpe extends Le{constructor({mediaData:t,transform:r,outline:n}){super("a:graphicData"),Fe(this,"pic"),this.root.push(new rpe({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new jpe({mediaData:t,transform:r,outline:n}),this.root.push(this.pic)}}class Ipe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{a:"xmlns:a"})}}class bP extends Le{constructor({mediaData:t,transform:r,outline:n}){super("a:graphic"),Fe(this,"data"),this.root.push(new Ipe({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new Dpe({mediaData:t,transform:r,outline:n}),this.root.push(this.data)}}const Sm={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},Mpe={BOTH_SIDES:"bothSides"};class G6 extends Le{constructor(){super("wp:wrapNone")}}class Fpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class Ppe extends Le{constructor(t,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new Fpe({wrapText:t.side||Mpe.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class Lpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class Bpe extends Le{constructor(t={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new Lpe({distT:t.top,distB:t.bottom}))}}class Upe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class zpe extends Le{constructor(t={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new Upe({distT:t.top,distB:t.bottom}))}}class wP extends Le{constructor({name:t,description:r,title:n}={name:"",description:"",title:""}){super("wp:docPr"),Fe(this,"docPropertiesUniqueNumericId",G0e());const s={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:t}};r!=null&&(s.description={key:"descr",value:r}),n!=null&&(s.title={key:"title",value:n}),this.root.push(new E0(s))}prepForXml(t){for(let r=t.stack.length-1;r>=0;r--){const n=t.stack[r];if(n instanceof IS){this.root.push(yP(n.linkId,!0));break}}return super.prepForXml(t)}}const EP=({top:e,right:t,bottom:r,left:n})=>new Yt({name:"wp:effectExtent",attributes:{top:{key:"t",value:e},right:{key:"r",value:t},bottom:{key:"b",value:r},left:{key:"l",value:n}}}),_P=({x:e,y:t})=>new Yt({name:"wp:extent",attributes:{x:{key:"cx",value:e},y:{key:"cy",value:t}}});class Hpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class qpe extends Le{constructor(){super("a:graphicFrameLocks"),this.root.push(new Hpe({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}const SP=()=>new Yt({name:"wp:cNvGraphicFramePr",children:[new qpe]});class Vpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class $pe extends Le{constructor({mediaData:t,transform:r,drawingOptions:n}){super("wp:anchor");const s=At({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},n.floating);if(this.root.push(new Vpe({distT:s.margins&&s.margins.top||0,distB:s.margins&&s.margins.bottom||0,distL:s.margins&&s.margins.left||0,distR:s.margins&&s.margins.right||0,simplePos:"0",allowOverlap:s.allowOverlap===!0?"1":"0",behindDoc:s.behindDocument===!0?"1":"0",locked:s.lockAnchor===!0?"1":"0",layoutInCell:s.layoutInCell===!0?"1":"0",relativeHeight:s.zIndex?s.zIndex:r.emus.y})),this.root.push(Q0e()),this.root.push(epe(s.horizontalPosition)),this.root.push(tpe(s.verticalPosition)),this.root.push(_P({x:r.emus.x,y:r.emus.y})),this.root.push(EP({top:0,right:0,bottom:0,left:0})),n.floating!==void 0&&n.floating.wrap!==void 0)switch(n.floating.wrap.type){case Sm.SQUARE:this.root.push(new Ppe(n.floating.wrap,n.floating.margins));break;case Sm.TIGHT:this.root.push(new Bpe(n.floating.margins));break;case Sm.TOP_AND_BOTTOM:this.root.push(new zpe(n.floating.margins));break;case Sm.NONE:default:this.root.push(new G6)}else this.root.push(new G6);this.root.push(new wP(n.docProperties)),this.root.push(SP()),this.root.push(new bP({mediaData:t,transform:r,outline:n.outline}))}}const Wpe=({mediaData:e,transform:t,docProperties:r,outline:n})=>{var s,a,i,o;return new Yt({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[_P({x:t.emus.x,y:t.emus.y}),EP(n?{top:((s=n.width)!=null?s:9525)*2,right:((a=n.width)!=null?a:9525)*2,bottom:((i=n.width)!=null?i:9525)*2,left:((o=n.width)!=null?o:9525)*2}:{top:0,right:0,bottom:0,left:0}),new wP(r),SP(),new bP({mediaData:e,transform:t,outline:n})]})};class Gpe extends Le{constructor(t,r={}){super("w:drawing"),r.floating?this.root.push(new $pe({mediaData:t,transform:t.transformation,drawingOptions:r})):this.root.push(Wpe({mediaData:t,transform:t.transformation,docProperties:r.docProperties,outline:r.outline}))}}const Kpe=e=>{if(typeof atob=="function"){const t=";base64,",r=e.indexOf(t),n=r===-1?0:r+t.length;return new Uint8Array(atob(e.substring(n)).split("").map(s=>s.charCodeAt(0)))}else{const t=require("buffer");return new t.Buffer(e,"base64")}},Xpe=e=>typeof e=="string"?Kpe(e):e,Zw=(e,t)=>({data:Xpe(e.data),fileName:t,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}});class Ype extends N0{constructor(t){super({}),Fe(this,"imageData");const n=`${$6(t.data)}.${t.type}`;this.imageData=t.type==="svg"?fo(At({type:t.type},Zw(t,n)),{fallback:At({type:t.fallback.type},Zw(fo(At({},t.fallback),{transformation:t.transformation}),`${$6(t.fallback.data)}.${t.fallback.type}`))}):At({type:t.type},Zw(t,n));const s=new Gpe(this.imageData,{floating:t.floating,docProperties:t.altText,outline:t.outline});this.root.push(s)}prepForXml(t){return t.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&t.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(t)}}class Jpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns"})}}class Zpe extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Qpe={EXTERNAL:"External"};class eme extends Le{constructor(t,r,n,s){super("Relationship"),this.root.push(new Zpe({id:t,type:r,target:n,targetMode:s}))}}class qc extends Le{constructor(){super("Relationships"),this.root.push(new Jpe({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,n,s){const a=new eme(`rId${t}`,r,n,s);return this.root.push(a),a}get RelationshipCount(){return this.root.length-1}}class tme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class rme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class nme extends Le{constructor({id:t,initials:r,author:n,date:s=new Date,children:a}){super("w:comment"),this.root.push(new tme({id:t,initials:r,author:n,date:s.toISOString()}));for(const i of a)this.root.push(i)}}class sme extends Le{constructor({children:t}){super("w:comments"),Fe(this,"relationships"),this.root.push(new rme({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new nme(r));this.relationships=new qc}get Relationships(){return this.relationships}}class ame extends Le{constructor(){super("w:pageBreakBefore")}}const vE={AUTO:"auto"};class ime extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class ome extends Le{constructor(t){super("w:spacing"),this.root.push(new ime(t))}}let Tm=class extends Le{constructor(t){super("w:pStyle"),this.root.push(new Br({val:t}))}};class lme extends Le{constructor(t){super("w:tabs");for(const r of t)this.root.push(new ume(r))}}const K6={LEFT:"left",RIGHT:"right"};class cme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class ume extends Le{constructor({type:t,position:r,leader:n}){super("w:tab"),this.root.push(new cme({val:t,pos:r,leader:n}))}}class Qw extends Le{constructor(t,r){super("w:numPr"),this.root.push(new fme(r)),this.root.push(new dme(t))}}class fme extends Le{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Br({val:t}))}}class dme extends Le{constructor(t){super("w:numId"),this.root.push(new Br({val:typeof t=="string"?`{${t}}`:t}))}}class hme extends Le{constructor(){super(...arguments),Fe(this,"fileChild",Symbol())}}class pme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class IS extends Le{constructor(t,r,n){super("w:hyperlink"),Fe(this,"linkId"),this.linkId=r;const s={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},a=new pme(s);this.root.push(a),t.forEach(i=>{this.root.push(i)})}}class mme extends Le{constructor(t){super("w:externalHyperlink"),this.options=t}}class gme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class xme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id"})}}class yme{constructor(t){Fe(this,"bookmarkUniqueNumericId",K0e()),Fe(this,"start"),Fe(this,"children"),Fe(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new vme(t.id,r),this.children=t.children,this.end=new bme(r)}}class vme extends Le{constructor(t,r){super("w:bookmarkStart");const n=new gme({name:t,id:r});this.root.push(n)}}class bme extends Le{constructor(t){super("w:bookmarkEnd");const r=new xme({id:t});this.root.push(r)}}class wme extends Le{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new Br({val:t}))}}const Eme={TOP:"top",CENTER:"center",BOTTOM:"bottom"};fo(At({},Eme),{BOTH:"both"});class _me extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{verticalAlign:"w:val"})}}class Sme extends Le{constructor(t){super("w:vAlign"),this.root.push(new _me({verticalAlign:t}))}}class Tme extends Le{constructor({space:t,count:r,separate:n,equalWidth:s,children:a}){super("w:cols"),this.root.push(new E0({space:{key:"w:space",value:t===void 0?void 0:La(t)},count:{key:"w:num",value:r===void 0?void 0:Ns(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:s}})),!s&&a&&a.forEach(i=>this.addChildElement(i))}}const Nme=({type:e,linePitch:t,charSpace:r})=>new Yt({name:"w:docGrid",attributes:{type:{key:"w:type",value:e},linePitch:{key:"w:linePitch",value:Ns(t)},charSpace:{key:"w:charSpace",value:r?Ns(r):void 0}}}),qu={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Ame extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const X6={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class e2 extends Le{constructor(t,r){super(t),this.root.push(new Ame({type:r.type||qu.DEFAULT,id:`rId${r.id}`}))}}const Cme=({countBy:e,start:t,restart:r,distance:n})=>new Yt({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:e===void 0?void 0:Ns(e)},start:{key:"w:start",value:t===void 0?void 0:Ns(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:La(n)}}});class Y6 extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class kme extends Jx{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new Y6({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new Y6({})),t.pageBorderTop&&this.root.push(new Ar("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new Ar("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new Ar("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new Ar("w:right",t.pageBorderRight))}}class Rme extends Le{constructor(t,r,n,s,a,i,o){super("w:pgMar"),this.root.push(new E0({top:{key:"w:top",value:oc(t)},right:{key:"w:right",value:La(r)},bottom:{key:"w:bottom",value:oc(n)},left:{key:"w:left",value:La(s)},header:{key:"w:header",value:La(a)},footer:{key:"w:footer",value:La(i)},gutter:{key:"w:gutter",value:La(o)}}))}}class Ome extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class jme extends Le{constructor({start:t,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new Ome({start:t===void 0?void 0:Ns(t),formatType:r,separator:n}))}}const bE={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Dme=({width:e,height:t,orientation:r,code:n})=>{const s=La(e),a=La(t);return new Yt({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===bE.LANDSCAPE?a:s},height:{key:"w:h",value:r===bE.LANDSCAPE?s:a},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class Ime extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class Mme extends Le{constructor(t){super("w:textDirection"),this.root.push(new Ime({val:t}))}}class Fme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class Pme extends Le{constructor(t){super("w:type"),this.root.push(new Fme({val:t}))}}const Yl={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},t2={WIDTH:11906,HEIGHT:16838,ORIENTATION:bE.PORTRAIT};class Lme extends Le{constructor({page:{size:{width:t=t2.WIDTH,height:r=t2.HEIGHT,orientation:n=t2.ORIENTATION}={},margin:{top:s=Yl.TOP,right:a=Yl.RIGHT,bottom:i=Yl.BOTTOM,left:o=Yl.LEFT,header:c=Yl.HEADER,footer:f=Yl.FOOTER,gutter:h=Yl.GUTTER}={},pageNumbers:m={},borders:x,textDirection:g}={},grid:{linePitch:y=360,charSpace:b,type:w}={},headerWrapperGroup:E={},footerWrapperGroup:T={},lineNumbers:_,titlePage:S,verticalAlign:C,column:I,type:j}={}){super("w:sectPr"),this.addHeaderFooterGroup(X6.HEADER,E),this.addHeaderFooterGroup(X6.FOOTER,T),j&&this.root.push(new Pme(j)),this.root.push(Dme({width:t,height:r,orientation:n})),this.root.push(new Rme(s,a,i,o,c,f,h)),x&&this.root.push(new kme(x)),_&&this.root.push(Cme(_)),this.root.push(new jme(m)),I&&this.root.push(new Tme(I)),C&&this.root.push(new Sme(C)),S!==void 0&&this.root.push(new qe("w:titlePg",S)),g&&this.root.push(new Mme(g)),this.root.push(Nme({linePitch:y,charSpace:b,type:w}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new e2(t,{type:qu.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new e2(t,{type:qu.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new e2(t,{type:qu.EVEN,id:r.even.View.ReferenceId}))}}class Bme extends Le{constructor(){super("w:body"),Fe(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new Lme(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new lc({}),n=new cf({});return n.push(t),r.addChildElement(n),r}}const J6={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class r1 extends it{constructor(t,r){super(At({Ignorable:r},Object.fromEntries(t.map(n=>[n,J6[n]])))),Fe(this,"xmlKeys",At({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(J6).map(n=>[n,`xmlns:${n}`]))))}}class Ume extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class zme extends Le{constructor(t){super("w:background"),this.root.push(new Ume({color:t.color===void 0?void 0:af(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:k6(t.themeShade),themeTint:t.themeTint===void 0?void 0:k6(t.themeTint)}))}}class Hme extends Le{constructor(t){super("w:document"),Fe(this,"body"),this.root.push(new r1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Bme,t.background&&this.root.push(new zme(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class TP{constructor(t){Fe(this,"document"),Fe(this,"relationships"),this.document=new Hme(t),this.relationships=new qc}get View(){return this.document}get Relationships(){return this.relationships}}class qme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class Vme extends Le{constructor(){super("w:wordWrap"),this.root.push(new qme({val:0}))}}const $me=e=>{var t,r;return new Yt({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=e.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=e.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})};class cf extends Jx{constructor(t){var r,n;if(super("w:pPr"),Fe(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new Tm(t.heading)),t.bullet&&this.push(new Tm("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new Tm("ListParagraph"))),t.style&&this.push(new Tm(t.style)),t.keepNext!==void 0&&this.push(new qe("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new qe("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new ame),t.frame&&this.push($me(t.frame)),t.widowControl!==void 0&&this.push(new qe("w:widowControl",t.widowControl)),t.bullet&&this.push(new Qw(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new Qw(`${t.numbering.reference}-${(n=t.numbering.instance)!=null?n:0}`,t.numbering.level))):t.numbering===!1&&this.push(new Qw(0,0)),t.border&&this.push(new f0e(t.border)),t.thematicBreak&&this.push(new d0e),t.shading&&this.push(new uP(t.shading)),t.wordWrap&&this.push(new Vme),t.overflowPunctuation&&this.push(new qe("w:overflowPunct",t.overflowPunctuation));const s=[...t.rightTabStop!==void 0?[{type:K6.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:K6.LEFT,position:t.leftTabStop}]:[]];s.length>0&&this.push(new lme(s)),t.bidirectional!==void 0&&this.push(new qe("w:bidi",t.bidirectional)),t.spacing&&this.push(new ome(t.spacing)),t.indent&&this.push(new h0e(t.indent)),t.contextualSpacing!==void 0&&this.push(new qe("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new c0e(t.alignment)),t.outlineLevel!==void 0&&this.push(new wme(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new qe("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new qe("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new Hc(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof TP)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class lc extends hme{constructor(t){if(super("w:p"),Fe(this,"properties"),typeof t=="string")return this.properties=new cf({}),this.root.push(this.properties),this.root.push(new Ql(t)),this;if(this.properties=new cf(t),this.root.push(this.properties),t.text&&this.root.push(new Ql(t.text)),t.children)for(const r of t.children){if(r instanceof yme){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof mme){const n=this.root.indexOf(r),s=new IS(r.options.children,X0e());t.viewWrapper.Relationships.createRelationship(s.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,Qpe.EXTERNAL),this.root[n]=s}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const Nu={style:OS.NONE,size:0,color:"auto"},Au={style:OS.SINGLE,size:4,color:"auto"};class Wme extends Le{constructor(t){super("w:tblBorders"),t.top?this.root.push(new Ar("w:top",t.top)):this.root.push(new Ar("w:top",Au)),t.left?this.root.push(new Ar("w:left",t.left)):this.root.push(new Ar("w:left",Au)),t.bottom?this.root.push(new Ar("w:bottom",t.bottom)):this.root.push(new Ar("w:bottom",Au)),t.right?this.root.push(new Ar("w:right",t.right)):this.root.push(new Ar("w:right",Au)),t.insideHorizontal?this.root.push(new Ar("w:insideH",t.insideHorizontal)):this.root.push(new Ar("w:insideH",Au)),t.insideVertical?this.root.push(new Ar("w:insideV",t.insideVertical)):this.root.push(new Ar("w:insideV",Au))}}Fe(Wme,"NONE",{top:Nu,bottom:Nu,left:Nu,right:Nu,insideHorizontal:Nu,insideVertical:Nu});class Gme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Kme extends Le{constructor(){super("Properties"),this.root.push(new Gme({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class Xme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns"})}}class Yme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Vi extends Le{constructor(t,r){super("Default"),this.root.push(new Yme({contentType:t,extension:r}))}}class Jme extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class ua extends Le{constructor(t,r){super("Override"),this.root.push(new Jme({contentType:t,partName:r}))}}class Zme extends Le{constructor(){super("Types"),this.root.push(new Xme({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Vi("image/png","png")),this.root.push(new Vi("image/jpeg","jpeg")),this.root.push(new Vi("image/jpeg","jpg")),this.root.push(new Vi("image/bmp","bmp")),this.root.push(new Vi("image/gif","gif")),this.root.push(new Vi("image/svg+xml","svg")),this.root.push(new Vi("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Vi("application/xml","xml")),this.root.push(new Vi("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new ua("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new ua("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new ua("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new ua("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new ua("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new ua("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new ua("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new ua("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new ua("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new ua("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new ua("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new ua("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class Qme extends Le{constructor(t){super("cp:coreProperties"),this.root.push(new r1(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new Kl("dc:title",t.title)),t.subject&&this.root.push(new Kl("dc:subject",t.subject)),t.creator&&this.root.push(new Kl("dc:creator",t.creator)),t.keywords&&this.root.push(new Kl("cp:keywords",t.keywords)),t.description&&this.root.push(new Kl("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new Kl("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new Kl("cp:revision",String(t.revision))),this.root.push(new Z6("dcterms:created")),this.root.push(new Z6("dcterms:modified"))}}class ege extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"xsi:type"})}}class Z6 extends Le{constructor(t){super(t),this.root.push(new ege({type:"dcterms:W3CDTF"})),this.root.push(o0e(new Date))}}class tge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class rge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class nge extends Le{constructor(t,r){super("property"),this.root.push(new rge({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new sge(r.value))}}class sge extends Le{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class age extends Le{constructor(t){super("Properties"),Fe(this,"nextId"),Fe(this,"properties",[]),this.root.push(new tge({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new nge(this.nextId++,t))}}const Nm=({id:e,fontKey:t,subsetted:r},n)=>new Yt({name:n,attributes:At({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new qe("w:subsetted",r)]:[]]}),ige=({name:e,altName:t,panose1:r,charset:n,family:s,notTrueType:a,pitch:i,sig:o,embedRegular:c,embedBold:f,embedItalic:h,embedBoldItalic:m})=>new Yt({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[Id("w:altName",t)]:[],...r?[Id("w:panose1",r)]:[],...n?[Id("w:charset",n)]:[],Id("w:family",s),...a?[new qe("w:notTrueType",a)]:[],Id("w:pitch",i),...o?[new Yt({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...c?[Nm(c,"w:embedRegular")]:[],...f?[Nm(f,"w:embedBold")]:[],...h?[Nm(h,"w:embedItalic")]:[],...m?[Nm(m,"w:embedBoldItalic")]:[]]}),oge=({name:e,index:t,fontKey:r,characterSet:n})=>ige({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),lge=e=>new Yt({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:e.map((t,r)=>oge({name:t.name,index:r+1,fontKey:t.fontKey}))});class cge{constructor(t){Fe(this,"fontTable"),Fe(this,"relationships"),Fe(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>fo(At({},r),{fontKey:Y0e()})),this.fontTable=lge(this.fontOptionsWithKey),this.relationships=new qc;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class uge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let fge=class extends iP{constructor(t,r){super("w:ftr",r),Fe(this,"refId"),this.refId=t,r||this.root.push(new uge({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class dge{constructor(t,r,n){Fe(this,"footer"),Fe(this,"relationships"),this.media=t,this.footer=new fge(r,n),this.relationships=new qc}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class hge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class pge extends Le{constructor(){super("w:footnoteRef")}}class mge extends N0{constructor(){super({style:"FootnoteReference"}),this.root.push(new pge)}}const Q6={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class r2 extends Le{constructor(t){super("w:footnote"),this.root.push(new hge({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const n=t.children[r];r===0&&n.addRunToFront(new mge),this.root.push(n)}}}class gge extends Le{constructor(){super("w:continuationSeparator")}}class xge extends N0{constructor(){super({}),this.root.push(new gge)}}class yge extends Le{constructor(){super("w:separator")}}class vge extends N0{constructor(){super({}),this.root.push(new yge)}}class bge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class wge extends Le{constructor(){super("w:footnotes"),this.root.push(new bge({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new r2({id:-1,type:Q6.SEPERATOR,children:[new lc({spacing:{after:0,line:240,lineRule:vE.AUTO},children:[new vge]})]});this.root.push(t);const r=new r2({id:0,type:Q6.CONTINUATION_SEPERATOR,children:[new lc({spacing:{after:0,line:240,lineRule:vE.AUTO},children:[new xge]})]});this.root.push(r)}createFootNote(t,r){const n=new r2({id:t,children:r});this.root.push(n)}}class Ege{constructor(){Fe(this,"footnotess"),Fe(this,"relationships"),this.footnotess=new wge,this.relationships=new qc}get View(){return this.footnotess}get Relationships(){return this.relationships}}class _ge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let Sge=class extends iP{constructor(t,r){super("w:hdr",r),Fe(this,"refId"),this.refId=t,r||this.root.push(new _ge({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class Tge{constructor(t,r,n){Fe(this,"header"),Fe(this,"relationships"),this.media=t,this.header=new Sge(r,n),this.relationships=new qc}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Nge{constructor(){Fe(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const $i={BULLET:"bullet"};class Age extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Cge extends Le{constructor(t){super("w:numFmt"),this.root.push(new Br({val:t}))}}class kge extends Le{constructor(t){super("w:lvlText"),this.root.push(new Br({val:t}))}}class Rge extends Le{constructor(t){super("w:lvlJc"),this.root.push(new Br({val:t}))}}class Oge extends Le{constructor(t){super("w:suff"),this.root.push(new Br({val:t}))}}class jge extends Le{constructor(){super("w:isLgl")}}class Dge extends Le{constructor({level:t,format:r,text:n,alignment:s=pa.START,start:a=1,style:i,suffix:o,isLegalNumberingStyle:c}){if(super("w:lvl"),Fe(this,"paragraphProperties"),Fe(this,"runProperties"),this.root.push(new bh("w:start",Ns(a))),r&&this.root.push(new Cge(r)),o&&this.root.push(new Oge(o)),c&&this.root.push(new jge),n&&this.root.push(new kge(n)),this.root.push(new Rge(s)),this.paragraphProperties=new cf(i&&i.paragraph),this.runProperties=new Hc(i&&i.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Age({ilvl:Ns(t),tentative:1}))}}class Ige extends Dge{}class Mge extends Le{constructor(t){super("w:multiLevelType"),this.root.push(new Br({val:t}))}}class Fge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class eO extends Le{constructor(t,r){super("w:abstractNum"),Fe(this,"id"),this.root.push(new Fge({abstractNumId:Ns(t),restartNumberingAfterBreak:0})),this.root.push(new Mge("hybridMultilevel")),this.id=t;for(const n of r)this.root.push(new Ige(n))}}class Pge extends Le{constructor(t){super("w:abstractNumId"),this.root.push(new Br({val:t}))}}class Lge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{numId:"w:numId"})}}class tO extends Le{constructor(t){if(super("w:num"),Fe(this,"numId"),Fe(this,"reference"),Fe(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new Lge({numId:Ns(t.numId)})),this.root.push(new Pge(Ns(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new Uge(r.num,r.start))}}class Bge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{ilvl:"w:ilvl"})}}class Uge extends Le{constructor(t,r){super("w:lvlOverride"),this.root.push(new Bge({ilvl:t})),r!==void 0&&this.root.push(new Hge(r))}}class zge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class Hge extends Le{constructor(t){super("w:startOverride"),this.root.push(new zge({val:t}))}}class qge extends Le{constructor(t){super("w:numbering"),Fe(this,"abstractNumberingMap",new Map),Fe(this,"concreteNumberingMap",new Map),Fe(this,"referenceConfigMap",new Map),Fe(this,"abstractNumUniqueNumericId",$0e()),Fe(this,"concreteNumUniqueNumericId",W0e()),this.root.push(new r1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new eO(this.abstractNumUniqueNumericId(),[{level:0,format:$i.BULLET,text:"",alignment:pa.LEFT,style:{paragraph:{indent:{left:Ma(.5),hanging:Ma(.25)}}}},{level:1,format:$i.BULLET,text:"",alignment:pa.LEFT,style:{paragraph:{indent:{left:Ma(1),hanging:Ma(.25)}}}},{level:2,format:$i.BULLET,text:"",alignment:pa.LEFT,style:{paragraph:{indent:{left:2160,hanging:Ma(.25)}}}},{level:3,format:$i.BULLET,text:"",alignment:pa.LEFT,style:{paragraph:{indent:{left:2880,hanging:Ma(.25)}}}},{level:4,format:$i.BULLET,text:"",alignment:pa.LEFT,style:{paragraph:{indent:{left:3600,hanging:Ma(.25)}}}},{level:5,format:$i.BULLET,text:"",alignment:pa.LEFT,style:{paragraph:{indent:{left:4320,hanging:Ma(.25)}}}},{level:6,format:$i.BULLET,text:"",alignment:pa.LEFT,style:{paragraph:{indent:{left:5040,hanging:Ma(.25)}}}},{level:7,format:$i.BULLET,text:"",alignment:pa.LEFT,style:{paragraph:{indent:{left:5760,hanging:Ma(.25)}}}},{level:8,format:$i.BULLET,text:"",alignment:pa.LEFT,style:{paragraph:{indent:{left:6480,hanging:Ma(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new tO({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of t.config)this.abstractNumberingMap.set(n.reference,new eO(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const n=this.abstractNumberingMap.get(t);if(!n)return;const s=`${t}-${r}`;if(this.concreteNumberingMap.has(s))return;const a=this.referenceConfigMap.get(t),i=a&&a[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:t,instance:r,overrideLevels:[i&&Number.isInteger(i)?{num:0,start:i}:{num:0,start:1}]};this.concreteNumberingMap.set(s,new tO(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Vge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class $ge extends Le{constructor(t){super("w:compatSetting"),this.root.push(new Vge({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Wge extends Le{constructor(t){super("w:compat"),t.version&&this.root.push(new $ge(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new qe("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new qe("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new qe("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new qe("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new qe("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new qe("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new qe("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new qe("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new qe("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new qe("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new qe("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new qe("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new qe("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new qe("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new qe("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new qe("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new qe("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new qe("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new qe("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new qe("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new qe("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new qe("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new qe("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new qe("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new qe("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new qe("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new qe("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new qe("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new qe("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new qe("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new qe("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new qe("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new qe("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new qe("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new qe("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new qe("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new qe("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new qe("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new qe("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new qe("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new qe("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new qe("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new qe("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new qe("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new qe("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new qe("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new qe("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new qe("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new qe("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new qe("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new qe("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new qe("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new qe("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new qe("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new qe("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new qe("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new qe("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new qe("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new qe("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new qe("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new qe("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new qe("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new qe("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new qe("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new qe("w:cachedColBalance",t.cachedColumnBalance))}}class Gge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Kge extends Le{constructor(t){var r,n,s,a,i,o,c,f;super("w:settings"),this.root.push(new Gge({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new qe("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new qe("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new qe("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new qe("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new bh("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new qe("w:autoHyphenation",t.hyphenation.autoHyphenation)),((n=t.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new bh("w:hyphenationZone",t.hyphenation.hyphenationZone)),((s=t.hyphenation)==null?void 0:s.consecutiveHyphenLimit)!==void 0&&this.root.push(new bh("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((a=t.hyphenation)==null?void 0:a.doNotHyphenateCaps)!==void 0&&this.root.push(new qe("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new Wge(fo(At({},(i=t.compatibility)!=null?i:{}),{version:(f=(c=(o=t.compatibility)==null?void 0:o.version)!=null?c:t.compatibilityModeVersion)!=null?f:15})))}}class NP extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class Xge extends Le{constructor(t){super("w:name"),this.root.push(new NP({val:t}))}}class Yge extends Le{constructor(t){super("w:uiPriority"),this.root.push(new NP({val:Ns(t)}))}}class Jge extends it{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class AP extends Le{constructor(t,r){super("w:style"),this.root.push(new Jge(t)),r.name&&this.root.push(new Xge(r.name)),r.basedOn&&this.root.push(new Hu("w:basedOn",r.basedOn)),r.next&&this.root.push(new Hu("w:next",r.next)),r.link&&this.root.push(new Hu("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new Yge(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new qe("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new qe("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new qe("w:qFormat",r.quickFormat))}}class n1 extends AP{constructor(t){super({type:"paragraph",styleId:t.id},t),Fe(this,"paragraphProperties"),Fe(this,"runProperties"),this.paragraphProperties=new cf(t.paragraph),this.runProperties=new Hc(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class s1 extends AP{constructor(t){super({type:"character",styleId:t.id},At({uiPriority:99,unhideWhenUsed:!0},t)),Fe(this,"runProperties"),this.runProperties=new Hc(t.run),this.root.push(this.runProperties)}}class kl extends n1{constructor(t){super(At({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class Zge extends kl{constructor(t){super(At({id:"Title",name:"Title"},t))}}class Qge extends kl{constructor(t){super(At({id:"Heading1",name:"Heading 1"},t))}}class exe extends kl{constructor(t){super(At({id:"Heading2",name:"Heading 2"},t))}}class txe extends kl{constructor(t){super(At({id:"Heading3",name:"Heading 3"},t))}}class rxe extends kl{constructor(t){super(At({id:"Heading4",name:"Heading 4"},t))}}class nxe extends kl{constructor(t){super(At({id:"Heading5",name:"Heading 5"},t))}}class sxe extends kl{constructor(t){super(At({id:"Heading6",name:"Heading 6"},t))}}class axe extends kl{constructor(t){super(At({id:"Strong",name:"Strong"},t))}}class ixe extends n1{constructor(t){super(At({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class oxe extends n1{constructor(t){super(At({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:vE.AUTO}},run:{size:20}},t))}}class lxe extends s1{constructor(t){super(At({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class cxe extends s1{constructor(t){super(At({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class uxe extends s1{constructor(t){super(At({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:dP.SINGLE}}},t))}}class wE extends Le{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new n1(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new s1(r))}}class fxe extends Le{constructor(t){super("w:pPrDefault"),this.root.push(new cf(t))}}class dxe extends Le{constructor(t){super("w:rPrDefault"),this.root.push(new Hc(t))}}class hxe extends Le{constructor(t){super("w:docDefaults"),Fe(this,"runPropertiesDefaults"),Fe(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new dxe(t.run),this.paragraphPropertiesDefaults=new fxe(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class pxe{newInstance(t){const r=aP.xml2js(t,{compact:!1});let n;for(const i of r.elements||[])i.name==="w:styles"&&(n=i);if(n===void 0)throw new Error("can not find styles element");const s=n.elements||[];return new wE({initialStyles:new n0e(n.attributes),importedStyles:s.map(i=>RS(i))})}}class rO{newInstance(t={}){var r;return{initialStyles:new r1(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new hxe((r=t.document)!=null?r:{}),new Zge(At({run:{size:56}},t.title)),new Qge(At({run:{color:"2E74B5",size:32}},t.heading1)),new exe(At({run:{color:"2E74B5",size:26}},t.heading2)),new txe(At({run:{color:"1F4D78",size:24}},t.heading3)),new rxe(At({run:{color:"2E74B5",italics:!0}},t.heading4)),new nxe(At({run:{color:"2E74B5"}},t.heading5)),new sxe(At({run:{color:"1F4D78"}},t.heading6)),new axe(At({run:{bold:!0}},t.strong)),new ixe(t.listParagraph||{}),new uxe(t.hyperlink||{}),new lxe(t.footnoteReference||{}),new oxe(t.footnoteText||{}),new cxe(t.footnoteTextChar||{})]}}}let mxe=class{constructor(t){Fe(this,"currentRelationshipId",1),Fe(this,"documentWrapper"),Fe(this,"headers",[]),Fe(this,"footers",[]),Fe(this,"coreProperties"),Fe(this,"numbering"),Fe(this,"media"),Fe(this,"fileRelationships"),Fe(this,"footnotesWrapper"),Fe(this,"settings"),Fe(this,"contentTypes"),Fe(this,"customProperties"),Fe(this,"appProperties"),Fe(this,"styles"),Fe(this,"comments"),Fe(this,"fontWrapper");var r,n,s,a,i,o,c,f,h,m,x,g;if(this.coreProperties=new Qme(fo(At({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(n=t.revision)!=null?n:1,lastModifiedBy:(s=t.lastModifiedBy)!=null?s:"Un-named"})),this.numbering=new qge(t.numbering?t.numbering:{config:[]}),this.comments=new sme((a=t.comments)!=null?a:{children:[]}),this.fileRelationships=new qc,this.customProperties=new age((i=t.customProperties)!=null?i:[]),this.appProperties=new Kme,this.footnotesWrapper=new Ege,this.contentTypes=new Zme,this.documentWrapper=new TP({background:t.background}),this.settings=new Kge({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(o=t.features)==null?void 0:o.trackRevisions,updateFields:(c=t.features)==null?void 0:c.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(f=t.hyphenation)==null?void 0:f.autoHyphenation,hyphenationZone:(h=t.hyphenation)==null?void 0:h.hyphenationZone,consecutiveHyphenLimit:(m=t.hyphenation)==null?void 0:m.consecutiveHyphenLimit,doNotHyphenateCaps:(x=t.hyphenation)==null?void 0:x.doNotHyphenateCaps}}),this.media=new Nge,t.externalStyles!==void 0){const y=new pxe;this.styles=y.newInstance(t.externalStyles)}else if(t.styles){const b=new rO().newInstance(t.styles.default);this.styles=new wE(At(At({},b),t.styles))}else{const y=new rO;this.styles=new wE(y.newInstance())}this.addDefaultRelationships();for(const y of t.sections)this.addSection(y);if(t.footnotes)for(const y in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),t.footnotes[y].children);this.fontWrapper=new cge((g=t.fonts)!=null?g:[])}addSection({headers:t={},footers:r={},children:n,properties:s}){this.documentWrapper.View.Body.addSection(fo(At({},s),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const a of n)this.documentWrapper.View.add(a)}createHeader(t){const r=new Tge(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(t){const r=new dge(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=qu.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=qu.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var gxe=AS();function Am(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var n2={exports:{}},nO;function xxe(){return nO||(nO=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,s,a){function i(f,h){if(!s[f]){if(!n[f]){var m=typeof Am=="function"&&Am;if(!h&&m)return m(f,!0);if(o)return o(f,!0);var x=new Error("Cannot find module '"+f+"'");throw x.code="MODULE_NOT_FOUND",x}var g=s[f]={exports:{}};n[f][0].call(g.exports,function(y){var b=n[f][1][y];return i(b||y)},g,g.exports,r,n,s,a)}return s[f].exports}for(var o=typeof Am=="function"&&Am,c=0;c<a.length;c++)i(a[c]);return i})({1:[function(r,n,s){var a=r("./utils"),i=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var f,h,m,x,g,y,b,w=[],E=0,T=c.length,_=T,S=a.getTypeOf(c)!=="string";E<c.length;)_=T-E,m=S?(f=c[E++],h=E<T?c[E++]:0,E<T?c[E++]:0):(f=c.charCodeAt(E++),h=E<T?c.charCodeAt(E++):0,E<T?c.charCodeAt(E++):0),x=f>>2,g=(3&f)<<4|h>>4,y=1<_?(15&h)<<2|m>>6:64,b=2<_?63&m:64,w.push(o.charAt(x)+o.charAt(g)+o.charAt(y)+o.charAt(b));return w.join("")},s.decode=function(c){var f,h,m,x,g,y,b=0,w=0,E="data:";if(c.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var T,_=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&_--,c.charAt(c.length-2)===o.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=i.uint8array?new Uint8Array(0|_):new Array(0|_);b<c.length;)f=o.indexOf(c.charAt(b++))<<2|(x=o.indexOf(c.charAt(b++)))>>4,h=(15&x)<<4|(g=o.indexOf(c.charAt(b++)))>>2,m=(3&g)<<6|(y=o.indexOf(c.charAt(b++))),T[w++]=f,g!==64&&(T[w++]=h),y!==64&&(T[w++]=m);return T}},{"./support":30,"./utils":32}],2:[function(r,n,s){var a=r("./external"),i=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function f(h,m,x,g,y){this.compressedSize=h,this.uncompressedSize=m,this.crc32=x,this.compression=g,this.compressedContent=y}f.prototype={getContentWorker:function(){var h=new i(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),m=this;return h.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new i(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(h,m,x){return h.pipe(new o).pipe(new c("uncompressedSize")).pipe(m.compressWorker(x)).pipe(new c("compressedSize")).withStreamInfo("compression",m)},n.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var a=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var a=r("./utils"),i=(function(){for(var o,c=[],f=0;f<256;f++){o=f;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[f]=o}return c})();n.exports=function(o,c){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?(function(f,h,m,x){var g=i,y=x+m;f^=-1;for(var b=x;b<y;b++)f=f>>>8^g[255&(f^h[b])];return-1^f})(0|c,o,o.length,0):(function(f,h,m,x){var g=i,y=x+m;f^=-1;for(var b=x;b<y;b++)f=f>>>8^g[255&(f^h.charCodeAt(b))];return-1^f})(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),f=a?"uint8array":"array";function h(m,x){c.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=x,this.meta={}}s.magic="\b\0",o.inherits(h,c),h.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(f,m.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(x){m.push({data:x,meta:m.meta})}},s.compressWorker=function(m){return new h("Deflate",m)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function a(g,y){var b,w="";for(b=0;b<y;b++)w+=String.fromCharCode(255&g),g>>>=8;return w}function i(g,y,b,w,E,T){var _,S,C=g.file,I=g.compression,j=T!==f.utf8encode,q=o.transformTo("string",T(C.name)),D=o.transformTo("string",f.utf8encode(C.name)),Q=C.comment,ae=o.transformTo("string",T(Q)),F=o.transformTo("string",f.utf8encode(Q)),X=D.length!==C.name.length,M=F.length!==Q.length,se="",J="",Z="",ge=C.dir,ie=C.date,Ee={crc32:0,compressedSize:0,uncompressedSize:0};y&&!b||(Ee.crc32=g.crc32,Ee.compressedSize=g.compressedSize,Ee.uncompressedSize=g.uncompressedSize);var G=0;y&&(G|=8),j||!X&&!M||(G|=2048);var O=0,W=0;ge&&(O|=16),E==="UNIX"?(W=798,O|=(function(re,Y){var P=re;return re||(P=Y?16893:33204),(65535&P)<<16})(C.unixPermissions,ge)):(W=20,O|=(function(re){return 63&(re||0)})(C.dosPermissions)),_=ie.getUTCHours(),_<<=6,_|=ie.getUTCMinutes(),_<<=5,_|=ie.getUTCSeconds()/2,S=ie.getUTCFullYear()-1980,S<<=4,S|=ie.getUTCMonth()+1,S<<=5,S|=ie.getUTCDate(),X&&(J=a(1,1)+a(h(q),4)+D,se+="up"+a(J.length,2)+J),M&&(Z=a(1,1)+a(h(ae),4)+F,se+="uc"+a(Z.length,2)+Z);var K="";return K+=`
\0`,K+=a(G,2),K+=I.magic,K+=a(_,2),K+=a(S,2),K+=a(Ee.crc32,4),K+=a(Ee.compressedSize,4),K+=a(Ee.uncompressedSize,4),K+=a(q.length,2),K+=a(se.length,2),{fileRecord:m.LOCAL_FILE_HEADER+K+q+se,dirRecord:m.CENTRAL_FILE_HEADER+a(W,2)+K+a(ae.length,2)+"\0\0\0\0"+a(O,4)+a(w,4)+q+se+ae}}var o=r("../utils"),c=r("../stream/GenericWorker"),f=r("../utf8"),h=r("../crc32"),m=r("../signature");function x(g,y,b,w){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=b,this.encodeFileName=w,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(x,c),x.prototype.push=function(g){var y=g.meta.percent||0,b=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,c.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:b?(y+100*(b-w-1))/b:100}}))},x.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var y=this.streamFiles&&!g.file.dir;if(y){var b=i(g,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(g){this.accumulate=!1;var y=this.streamFiles&&!g.file.dir,b=i(g,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),y)this.push({data:(function(w){return m.DATA_DESCRIPTOR+a(w.crc32,4)+a(w.compressedSize,4)+a(w.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var g=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var b=this.bytesWritten-g,w=(function(E,T,_,S,C){var I=o.transformTo("string",C(S));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(E,2)+a(E,2)+a(T,4)+a(_,4)+a(I.length,2)+I})(this.dirRecords.length,b,g,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(g){this._sources.push(g);var y=this;return g.on("data",function(b){y.processChunk(b)}),g.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),g.on("error",function(b){y.error(b)}),this},x.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(g){var y=this._sources;if(!c.prototype.error.call(this,g))return!1;for(var b=0;b<y.length;b++)try{y[b].error(g)}catch{}return!0},x.prototype.lock=function(){c.prototype.lock.call(this);for(var g=this._sources,y=0;y<g.length;y++)g[y].lock()},n.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var a=r("../compressions"),i=r("./ZipFileWorker");s.generateWorker=function(o,c,f){var h=new i(c.streamFiles,f,c.platform,c.encodeFileName),m=0;try{o.forEach(function(x,g){m++;var y=(function(T,_){var S=T||_,C=a[S];if(!C)throw new Error(S+" is not a valid compression method !");return C})(g.options.compression,c.compression),b=g.options.compressionOptions||c.compressionOptions||{},w=g.dir,E=g.date;g._compressWorker(y,b).withStreamInfo("file",{name:x,dir:w,date:E,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(h)}),h.entriesCount=m}catch(x){h.error(x)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new a;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(i,o){return new a().loadAsync(i,o)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var a=r("./utils"),i=r("./external"),o=r("./utf8"),c=r("./zipEntries"),f=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function m(x){return new i.Promise(function(g,y){var b=x.decompressed.getContentWorker().pipe(new f);b.on("error",function(w){y(w)}).on("end",function(){b.streamInfo.crc32!==x.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}n.exports=function(x,g){var y=this;return g=a.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(x)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",x,!0,g.optimizedBinaryString,g.base64).then(function(b){var w=new c(g);return w.load(b),w}).then(function(b){var w=[i.Promise.resolve(b)],E=b.files;if(g.checkCRC32)for(var T=0;T<E.length;T++)w.push(m(E[T]));return i.Promise.all(w)}).then(function(b){for(var w=b.shift(),E=w.files,T=0;T<E.length;T++){var _=E[T],S=_.fileNameStr,C=a.resolve(_.fileNameStr);y.file(C,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:g.createFolders}),_.dir||(y.file(C).unsafeOriginalName=S)}return w.zipComment.length&&(y.comment=w.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var a=r("../utils"),i=r("../stream/GenericWorker");function o(c,f){i.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(o,i),o.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(h){f.push({data:h,meta:{percent:0}})}).on("error",function(h){f.isPaused?this.generatedError=h:f.error(h)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var a=r("readable-stream").Readable;function i(o,c,f){a.call(this,c),this._helper=o;var h=this;o.on("data",function(m,x){h.push(m)||h._helper.pause(),f&&f(x)}).on("error",function(m){h.emit("error",m)}).on("end",function(){h.push(null)})}r("../utils").inherits(i,a),i.prototype._read=function(){this._helper.resume()},n.exports=i},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,i);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,i)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var i=new Buffer(a);return i.fill(0),i},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,s){function a(C,I,j){var q,D=o.getTypeOf(I),Q=o.extend(j||{},h);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&(C=E(C)),Q.createFolders&&(q=w(C))&&T.call(this,q,!0);var ae=D==="string"&&Q.binary===!1&&Q.base64===!1;j&&j.binary!==void 0||(Q.binary=!ae),(I instanceof m&&I.uncompressedSize===0||Q.dir||!I||I.length===0)&&(Q.base64=!1,Q.binary=!0,I="",Q.compression="STORE",D="string");var F=null;F=I instanceof m||I instanceof c?I:y.isNode&&y.isStream(I)?new b(C,I):o.prepareContent(C,I,Q.binary,Q.optimizedBinaryString,Q.base64);var X=new x(C,F,Q);this.files[C]=X}var i=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),f=r("./stream/StreamHelper"),h=r("./defaults"),m=r("./compressedObject"),x=r("./zipObject"),g=r("./generate"),y=r("./nodejsUtils"),b=r("./nodejs/NodejsStreamInputAdapter"),w=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var I=C.lastIndexOf("/");return 0<I?C.substring(0,I):""},E=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},T=function(C,I){return I=I!==void 0?I:h.createFolders,C=E(C),this.files[C]||a.call(this,C,null,{dir:!0,createFolders:I}),this.files[C]};function _(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var I,j,q;for(I in this.files)q=this.files[I],(j=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&C(j,q)},filter:function(C){var I=[];return this.forEach(function(j,q){C(j,q)&&I.push(q)}),I},file:function(C,I,j){if(arguments.length!==1)return C=this.root+C,a.call(this,C,I,j),this;if(_(C)){var q=C;return this.filter(function(Q,ae){return!ae.dir&&q.test(Q)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(_(C))return this.filter(function(D,Q){return Q.dir&&C.test(D)});var I=this.root+C,j=T.call(this,I),q=this.clone();return q.root=j.name,q},remove:function(C){C=this.root+C;var I=this.files[C];if(I||(C.slice(-1)!=="/"&&(C+="/"),I=this.files[C]),I&&!I.dir)delete this.files[C];else for(var j=this.filter(function(D,Q){return Q.name.slice(0,C.length)===C}),q=0;q<j.length;q++)delete this.files[j[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var I,j={};try{if((j=o.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");o.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var q=j.comment||this.comment||"";I=g.generateWorker(this,j,q)}catch(D){(I=new c("error")).error(D)}return new f(I,j.type||"string",j.mimeType)},generateAsync:function(C,I){return this.generateInternalStream(C).accumulate(I)},generateNodeStream:function(C,I){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(I)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var a=r("./DataReader");function i(o){a.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(i,a),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),f=o.charCodeAt(1),h=o.charCodeAt(2),m=o.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===c&&this.data[x+1]===f&&this.data[x+2]===h&&this.data[x+3]===m)return x-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),f=o.charCodeAt(1),h=o.charCodeAt(2),m=o.charCodeAt(3),x=this.readData(4);return c===x[0]&&f===x[1]&&h===x[2]&&m===x[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=i},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var a=r("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,f=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=o,f},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=i},{"../utils":32}],19:[function(r,n,s){var a=r("./Uint8ArrayReader");function i(o){a.call(this,o)}r("../utils").inherits(i,a),i.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var a=r("./DataReader");function i(o){a.call(this,o)}r("../utils").inherits(i,a),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=i},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var a=r("./ArrayReader");function i(o){a.call(this,o)}r("../utils").inherits(i,a),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var a=r("../utils"),i=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),f=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");n.exports=function(m){var x=a.getTypeOf(m);return a.checkSupport(x),x!=="string"||i.uint8array?x==="nodebuffer"?new f(m):i.uint8array?new h(a.transformTo("uint8array",m)):new o(a.transformTo("array",m)):new c(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var a=r("./GenericWorker"),i=r("../utils");function o(c){a.call(this,"ConvertWorker to "+c),this.destType=c}i.inherits(o,a),o.prototype.processChunk=function(c){this.push({data:i.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var a=r("./GenericWorker"),i=r("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,a),o.prototype.processChunk=function(c){this.streamInfo.crc32=i(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var a=r("../utils"),i=r("./GenericWorker");function o(c){i.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(o,i),o.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}i.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var a=r("../utils"),i=r("./GenericWorker");function o(c){i.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){f.dataIsReady=!0,f.data=h,f.max=h&&h.length||0,f.type=a.getTypeOf(h),f.isPaused||f._tickAndRepeat()},function(h){f.error(h)})}a.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function a(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var c=0;c<this._listeners[i].length;c++)this._listeners[i][c].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(c){o.processChunk(c)}),i.on("end",function(){o.end()}),i.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},n.exports=a},{}],29:[function(r,n,s){var a=r("../utils"),i=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),f=r("../support"),h=r("../external"),m=null;if(f.nodestream)try{m=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(y,b){return new h.Promise(function(w,E){var T=[],_=y._internalType,S=y._outputType,C=y._mimeType;y.on("data",function(I,j){T.push(I),b&&b(j)}).on("error",function(I){T=[],E(I)}).on("end",function(){try{var I=(function(j,q,D){switch(j){case"blob":return a.newBlob(a.transformTo("arraybuffer",q),D);case"base64":return c.encode(q);default:return a.transformTo(j,q)}})(S,(function(j,q){var D,Q=0,ae=null,F=0;for(D=0;D<q.length;D++)F+=q[D].length;switch(j){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for(ae=new Uint8Array(F),D=0;D<q.length;D++)ae.set(q[D],Q),Q+=q[D].length;return ae;case"nodebuffer":return Buffer.concat(q);default:throw new Error("concat : unsupported type '"+j+"'")}})(_,T),C);w(I)}catch(j){E(j)}T=[]}).resume()})}function g(y,b,w){var E=b;switch(b){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=b,this._mimeType=w,a.checkSupport(E),this._worker=y.pipe(new i(E)),y.lock()}catch(T){this._worker=new o("error"),this._worker.error(T)}}g.prototype={accumulate:function(y){return x(this,y)},on:function(y,b){var w=this;return y==="data"?this._worker.on(y,function(E){b.call(w,E.data,E.meta)}):this._worker.on(y,function(){a.delay(b,arguments,w)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(a),s.blob=i.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var a=r("./utils"),i=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),f=new Array(256),h=0;h<256;h++)f[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;f[254]=f[254]=1;function m(){c.call(this,"utf-8 decode"),this.leftOver=null}function x(){c.call(this,"utf-8 encode")}s.utf8encode=function(g){return i.nodebuffer?o.newBufferFrom(g,"utf-8"):(function(y){var b,w,E,T,_,S=y.length,C=0;for(T=0;T<S;T++)(64512&(w=y.charCodeAt(T)))==55296&&T+1<S&&(64512&(E=y.charCodeAt(T+1)))==56320&&(w=65536+(w-55296<<10)+(E-56320),T++),C+=w<128?1:w<2048?2:w<65536?3:4;for(b=i.uint8array?new Uint8Array(C):new Array(C),T=_=0;_<C;T++)(64512&(w=y.charCodeAt(T)))==55296&&T+1<S&&(64512&(E=y.charCodeAt(T+1)))==56320&&(w=65536+(w-55296<<10)+(E-56320),T++),w<128?b[_++]=w:(w<2048?b[_++]=192|w>>>6:(w<65536?b[_++]=224|w>>>12:(b[_++]=240|w>>>18,b[_++]=128|w>>>12&63),b[_++]=128|w>>>6&63),b[_++]=128|63&w);return b})(g)},s.utf8decode=function(g){return i.nodebuffer?a.transformTo("nodebuffer",g).toString("utf-8"):(function(y){var b,w,E,T,_=y.length,S=new Array(2*_);for(b=w=0;b<_;)if((E=y[b++])<128)S[w++]=E;else if(4<(T=f[E]))S[w++]=65533,b+=T-1;else{for(E&=T===2?31:T===3?15:7;1<T&&b<_;)E=E<<6|63&y[b++],T--;1<T?S[w++]=65533:E<65536?S[w++]=E:(E-=65536,S[w++]=55296|E>>10&1023,S[w++]=56320|1023&E)}return S.length!==w&&(S.subarray?S=S.subarray(0,w):S.length=w),a.applyFromCharCode(S)})(g=a.transformTo(i.uint8array?"uint8array":"array",g))},a.inherits(m,c),m.prototype.processChunk=function(g){var y=a.transformTo(i.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var b=y;(y=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),y.set(b,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var w=(function(T,_){var S;for((_=_||T.length)>T.length&&(_=T.length),S=_-1;0<=S&&(192&T[S])==128;)S--;return S<0||S===0?_:S+f[T[S]]>_?S:_})(y),E=y;w!==y.length&&(i.uint8array?(E=y.subarray(0,w),this.leftOver=y.subarray(w,y.length)):(E=y.slice(0,w),this.leftOver=y.slice(w,y.length))),this.push({data:s.utf8decode(E),meta:g.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=m,a.inherits(x,c),x.prototype.processChunk=function(g){this.push({data:s.utf8encode(g.data),meta:g.meta})},s.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var a=r("./support"),i=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function f(b){return b}function h(b,w){for(var E=0;E<b.length;++E)w[E]=255&b.charCodeAt(E);return w}r("setimmediate"),s.newBlob=function(b,w){s.checkSupport("blob");try{return new Blob([b],{type:w})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(b),E.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(b,w,E){var T=[],_=0,S=b.length;if(S<=E)return String.fromCharCode.apply(null,b);for(;_<S;)w==="array"||w==="nodebuffer"?T.push(String.fromCharCode.apply(null,b.slice(_,Math.min(_+E,S)))):T.push(String.fromCharCode.apply(null,b.subarray(_,Math.min(_+E,S)))),_+=E;return T.join("")},stringifyByChar:function(b){for(var w="",E=0;E<b.length;E++)w+=String.fromCharCode(b[E]);return w},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function x(b){var w=65536,E=s.getTypeOf(b),T=!0;if(E==="uint8array"?T=m.applyCanBeUsed.uint8array:E==="nodebuffer"&&(T=m.applyCanBeUsed.nodebuffer),T)for(;1<w;)try{return m.stringifyByChunk(b,E,w)}catch{w=Math.floor(w/2)}return m.stringifyByChar(b)}function g(b,w){for(var E=0;E<b.length;E++)w[E]=b[E];return w}s.applyFromCharCode=x;var y={};y.string={string:f,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return y.string.uint8array(b).buffer},uint8array:function(b){return h(b,new Uint8Array(b.length))},nodebuffer:function(b){return h(b,o.allocBuffer(b.length))}},y.array={string:x,array:f,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return o.newBufferFrom(b)}},y.arraybuffer={string:function(b){return x(new Uint8Array(b))},array:function(b){return g(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:f,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return o.newBufferFrom(new Uint8Array(b))}},y.uint8array={string:x,array:function(b){return g(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:f,nodebuffer:function(b){return o.newBufferFrom(b)}},y.nodebuffer={string:x,array:function(b){return g(b,new Array(b.length))},arraybuffer:function(b){return y.nodebuffer.uint8array(b).buffer},uint8array:function(b){return g(b,new Uint8Array(b.length))},nodebuffer:f},s.transformTo=function(b,w){if(w=w||"",!b)return w;s.checkSupport(b);var E=s.getTypeOf(w);return y[E][b](w)},s.resolve=function(b){for(var w=b.split("/"),E=[],T=0;T<w.length;T++){var _=w[T];_==="."||_===""&&T!==0&&T!==w.length-1||(_===".."?E.pop():E.push(_))}return E.join("/")},s.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(b)?"nodebuffer":a.uint8array&&b instanceof Uint8Array?"uint8array":a.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(b){if(!a[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(b){var w,E,T="";for(E=0;E<(b||"").length;E++)T+="\\x"+((w=b.charCodeAt(E))<16?"0":"")+w.toString(16).toUpperCase();return T},s.delay=function(b,w,E){setImmediate(function(){b.apply(E||null,w||[])})},s.inherits=function(b,w){function E(){}E.prototype=w.prototype,b.prototype=new E},s.extend=function(){var b,w,E={};for(b=0;b<arguments.length;b++)for(w in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],w)&&E[w]===void 0&&(E[w]=arguments[b][w]);return E},s.prepareContent=function(b,w,E,T,_){return c.Promise.resolve(w).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new c.Promise(function(C,I){var j=new FileReader;j.onload=function(q){C(q.target.result)},j.onerror=function(q){I(q.target.error)},j.readAsArrayBuffer(S)}):S}).then(function(S){var C=s.getTypeOf(S);return C?(C==="arraybuffer"?S=s.transformTo("uint8array",S):C==="string"&&(_?S=i.decode(S):E&&T!==!0&&(S=(function(I){return h(I,a.uint8array?new Uint8Array(I.length):new Array(I.length))})(S))),S):c.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var a=r("./reader/readerFor"),i=r("./utils"),o=r("./signature"),c=r("./zipEntry"),f=r("./support");function h(m){this.files=[],this.loadOptions=m}h.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(x)+", expected "+i.pretty(m)+")")}},isSignature:function(m,x){var g=this.reader.index;this.reader.setIndex(m);var y=this.reader.readString(4)===x;return this.reader.setIndex(g),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),x=f.uint8array?"uint8array":"array",g=i.transformTo(x,m);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,x,g,y=this.zip64EndOfCentralSize-44;0<y;)m=this.reader.readInt(2),x=this.reader.readInt(4),g=this.reader.readData(x),this.zip64ExtensibleData[m]={id:m,length:x,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,x;for(m=0;m<this.files.length;m++)x=this.files[m],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(m=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var x=m;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var y=x-g;if(0<y)this.isSignature(x,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var a=r("./reader/readerFor"),i=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),f=r("./utf8"),h=r("./compressions"),m=r("./support");function x(g,y){this.options=g,this.loadOptions=y}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var y,b;if(g.skip(22),this.fileNameLength=g.readInt(2),b=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(w){for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)&&h[E].magic===w)return h[E];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var y=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(y),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var y,b,w,E=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<E;)y=g.readInt(2),b=g.readInt(2),w=g.readData(b),this.extraFields[y]={id:y,length:b,value:w};g.setIndex(E)},handleUTF8:function(){var g=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var b=i.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var E=i.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var y=a(g.value);return y.readInt(1)!==1||c(this.fileName)!==y.readInt(4)?null:f.utf8decode(y.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var y=a(g.value);return y.readInt(1)!==1||c(this.fileComment)!==y.readInt(4)?null:f.utf8decode(y.readData(g.length-5))}return null}},n.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function a(y,b,w){this.name=y,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=b,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var i=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),f=r("./compressedObject"),h=r("./stream/GenericWorker");a.prototype={internalStream:function(y){var b=null,w="string";try{if(!y)throw new Error("No output type specified.");var E=(w=y.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),b=this._decompressWorker();var T=!this._dataBinary;T&&!E&&(b=b.pipe(new c.Utf8EncodeWorker)),!T&&E&&(b=b.pipe(new c.Utf8DecodeWorker))}catch(_){(b=new h("error")).error(_)}return new i(b,w,"")},async:function(y,b){return this.internalStream(y).accumulate(b)},nodeStream:function(y,b){return this.internalStream(y||"nodebuffer").toNodejsStream(b)},_compressWorker:function(y,b){if(this._data instanceof f&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(w,y,b)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<m.length;g++)a.prototype[m[g]]=x;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(a){var i,o,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var f=0,h=new c(y),m=a.document.createTextNode("");h.observe(m,{characterData:!0}),i=function(){m.data=f=++f%2}}else if(a.setImmediate||a.MessageChannel===void 0)i="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){y(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(y,0)};else{var x=new a.MessageChannel;x.port1.onmessage=y,i=function(){x.port2.postMessage(0)}}var g=[];function y(){var b,w;o=!0;for(var E=g.length;E;){for(w=g,g=[],b=-1;++b<E;)w[b]();E=g.length}o=!1}n.exports=function(b){g.push(b)!==1||o||i()}}).call(this,typeof pi<"u"?pi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var a=r("immediate");function i(){}var o={},c=["REJECTED"],f=["FULFILLED"],h=["PENDING"];function m(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,E!==i&&b(this,E)}function x(E,T,_){this.promise=E,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function g(E,T,_){a(function(){var S;try{S=T(_)}catch(C){return o.reject(E,C)}S===E?o.reject(E,new TypeError("Cannot resolve promise with itself")):o.resolve(E,S)})}function y(E){var T=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof T=="function")return function(){T.apply(E,arguments)}}function b(E,T){var _=!1;function S(j){_||(_=!0,o.reject(E,j))}function C(j){_||(_=!0,o.resolve(E,j))}var I=w(function(){T(C,S)});I.status==="error"&&S(I.value)}function w(E,T){var _={};try{_.value=E(T),_.status="success"}catch(S){_.status="error",_.value=S}return _}(n.exports=m).prototype.finally=function(E){if(typeof E!="function")return this;var T=this.constructor;return this.then(function(_){return T.resolve(E()).then(function(){return _})},function(_){return T.resolve(E()).then(function(){throw _})})},m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,T){if(typeof E!="function"&&this.state===f||typeof T!="function"&&this.state===c)return this;var _=new this.constructor(i);return this.state!==h?g(_,this.state===f?E:T,this.outcome):this.queue.push(new x(_,E,T)),_},x.prototype.callFulfilled=function(E){o.resolve(this.promise,E)},x.prototype.otherCallFulfilled=function(E){g(this.promise,this.onFulfilled,E)},x.prototype.callRejected=function(E){o.reject(this.promise,E)},x.prototype.otherCallRejected=function(E){g(this.promise,this.onRejected,E)},o.resolve=function(E,T){var _=w(y,T);if(_.status==="error")return o.reject(E,_.value);var S=_.value;if(S)b(E,S);else{E.state=f,E.outcome=T;for(var C=-1,I=E.queue.length;++C<I;)E.queue[C].callFulfilled(T)}return E},o.reject=function(E,T){E.state=c,E.outcome=T;for(var _=-1,S=E.queue.length;++_<S;)E.queue[_].callRejected(T);return E},m.resolve=function(E){return E instanceof this?E:o.resolve(new this(i),E)},m.reject=function(E){var T=new this(i);return o.reject(T,E)},m.all=function(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=E.length,S=!1;if(!_)return this.resolve([]);for(var C=new Array(_),I=0,j=-1,q=new this(i);++j<_;)D(E[j],j);return q;function D(Q,ae){T.resolve(Q).then(function(F){C[ae]=F,++I!==_||S||(S=!0,o.resolve(q,C))},function(F){S||(S=!0,o.reject(q,F))})}},m.race=function(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=E.length,S=!1;if(!_)return this.resolve([]);for(var C=-1,I=new this(i);++C<_;)j=E[C],T.resolve(j).then(function(q){S||(S=!0,o.resolve(I,q))},function(q){S||(S=!0,o.reject(I,q))});var j;return I}},{immediate:36}],38:[function(r,n,s){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var a=r("./zlib/deflate"),i=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),f=r("./zlib/zstream"),h=Object.prototype.toString,m=0,x=-1,g=0,y=8;function b(E){if(!(this instanceof b))return new b(E);this.options=i.assign({level:x,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},E||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=a.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(_!==m)throw new Error(c[_]);if(T.header&&a.deflateSetHeader(this.strm,T.header),T.dictionary){var S;if(S=typeof T.dictionary=="string"?o.string2buf(T.dictionary):h.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(_=a.deflateSetDictionary(this.strm,S))!==m)throw new Error(c[_]);this._dict_set=!0}}function w(E,T){var _=new b(T);if(_.push(E,!0),_.err)throw _.msg||c[_.err];return _.result}b.prototype.push=function(E,T){var _,S,C=this.strm,I=this.options.chunkSize;if(this.ended)return!1;S=T===~~T?T:T===!0?4:0,typeof E=="string"?C.input=o.string2buf(E):h.call(E)==="[object ArrayBuffer]"?C.input=new Uint8Array(E):C.input=E,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new i.Buf8(I),C.next_out=0,C.avail_out=I),(_=a.deflate(C,S))!==1&&_!==m)return this.onEnd(_),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(C.output,C.next_out))):this.onData(i.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&_!==1);return S===4?(_=a.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===m):S!==2||(this.onEnd(m),!(C.avail_out=0))},b.prototype.onData=function(E){this.chunks.push(E)},b.prototype.onEnd=function(E){E===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},s.Deflate=b,s.deflate=w,s.deflateRaw=function(E,T){return(T=T||{}).raw=!0,w(E,T)},s.gzip=function(E,T){return(T=T||{}).gzip=!0,w(E,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var a=r("./zlib/inflate"),i=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),f=r("./zlib/messages"),h=r("./zlib/zstream"),m=r("./zlib/gzheader"),x=Object.prototype.toString;function g(b){if(!(this instanceof g))return new g(b);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},b||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||b&&b.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var E=a.inflateInit2(this.strm,w.windowBits);if(E!==c.Z_OK)throw new Error(f[E]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function y(b,w){var E=new g(w);if(E.push(b,!0),E.err)throw E.msg||f[E.err];return E.result}g.prototype.push=function(b,w){var E,T,_,S,C,I,j=this.strm,q=this.options.chunkSize,D=this.options.dictionary,Q=!1;if(this.ended)return!1;T=w===~~w?w:w===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof b=="string"?j.input=o.binstring2buf(b):x.call(b)==="[object ArrayBuffer]"?j.input=new Uint8Array(b):j.input=b,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new i.Buf8(q),j.next_out=0,j.avail_out=q),(E=a.inflate(j,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&D&&(I=typeof D=="string"?o.string2buf(D):x.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,E=a.inflateSetDictionary(this.strm,I)),E===c.Z_BUF_ERROR&&Q===!0&&(E=c.Z_OK,Q=!1),E!==c.Z_STREAM_END&&E!==c.Z_OK)return this.onEnd(E),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&E!==c.Z_STREAM_END&&(j.avail_in!==0||T!==c.Z_FINISH&&T!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=o.utf8border(j.output,j.next_out),S=j.next_out-_,C=o.buf2string(j.output,_),j.next_out=S,j.avail_out=q-S,S&&i.arraySet(j.output,j.output,_,S,0),this.onData(C)):this.onData(i.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(Q=!0)}while((0<j.avail_in||j.avail_out===0)&&E!==c.Z_STREAM_END);return E===c.Z_STREAM_END&&(T=c.Z_FINISH),T===c.Z_FINISH?(E=a.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c.Z_OK):T!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(j.avail_out=0))},g.prototype.onData=function(b){this.chunks.push(b)},g.prototype.onEnd=function(b){b===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Inflate=g,s.inflate=y,s.inflateRaw=function(b,w){return(w=w||{}).raw=!0,y(b,w)},s.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var h=f.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var m in h)h.hasOwnProperty(m)&&(c[m]=h[m])}}return c},s.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var i={arraySet:function(c,f,h,m,x){if(f.subarray&&c.subarray)c.set(f.subarray(h,h+m),x);else for(var g=0;g<m;g++)c[x+g]=f[h+g]},flattenChunks:function(c){var f,h,m,x,g,y;for(f=m=0,h=c.length;f<h;f++)m+=c[f].length;for(y=new Uint8Array(m),f=x=0,h=c.length;f<h;f++)g=c[f],y.set(g,x),x+=g.length;return y}},o={arraySet:function(c,f,h,m,x){for(var g=0;g<m;g++)c[x+g]=f[h+g]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,i)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(a)},{}],42:[function(r,n,s){var a=r("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new a.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function h(m,x){if(x<65537&&(m.subarray&&o||!m.subarray&&i))return String.fromCharCode.apply(null,a.shrinkBuf(m,x));for(var g="",y=0;y<x;y++)g+=String.fromCharCode(m[y]);return g}c[254]=c[254]=1,s.string2buf=function(m){var x,g,y,b,w,E=m.length,T=0;for(b=0;b<E;b++)(64512&(g=m.charCodeAt(b)))==55296&&b+1<E&&(64512&(y=m.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),b++),T+=g<128?1:g<2048?2:g<65536?3:4;for(x=new a.Buf8(T),b=w=0;w<T;b++)(64512&(g=m.charCodeAt(b)))==55296&&b+1<E&&(64512&(y=m.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),b++),g<128?x[w++]=g:(g<2048?x[w++]=192|g>>>6:(g<65536?x[w++]=224|g>>>12:(x[w++]=240|g>>>18,x[w++]=128|g>>>12&63),x[w++]=128|g>>>6&63),x[w++]=128|63&g);return x},s.buf2binstring=function(m){return h(m,m.length)},s.binstring2buf=function(m){for(var x=new a.Buf8(m.length),g=0,y=x.length;g<y;g++)x[g]=m.charCodeAt(g);return x},s.buf2string=function(m,x){var g,y,b,w,E=x||m.length,T=new Array(2*E);for(g=y=0;g<E;)if((b=m[g++])<128)T[y++]=b;else if(4<(w=c[b]))T[y++]=65533,g+=w-1;else{for(b&=w===2?31:w===3?15:7;1<w&&g<E;)b=b<<6|63&m[g++],w--;1<w?T[y++]=65533:b<65536?T[y++]=b:(b-=65536,T[y++]=55296|b>>10&1023,T[y++]=56320|1023&b)}return h(T,y)},s.utf8border=function(m,x){var g;for((x=x||m.length)>m.length&&(x=m.length),g=x-1;0<=g&&(192&m[g])==128;)g--;return g<0||g===0?x:g+c[m[g]]>x?g:x}},{"./common":41}],43:[function(r,n,s){n.exports=function(a,i,o,c){for(var f=65535&a|0,h=a>>>16&65535|0,m=0;o!==0;){for(o-=m=2e3<o?2e3:o;h=h+(f=f+i[c++]|0)|0,--m;);f%=65521,h%=65521}return f|h<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var a=(function(){for(var i,o=[],c=0;c<256;c++){i=c;for(var f=0;f<8;f++)i=1&i?3988292384^i>>>1:i>>>1;o[c]=i}return o})();n.exports=function(i,o,c,f){var h=a,m=f+c;i^=-1;for(var x=f;x<m;x++)i=i>>>8^h[255&(i^o[x])];return-1^i}},{}],46:[function(r,n,s){var a,i=r("../utils/common"),o=r("./trees"),c=r("./adler32"),f=r("./crc32"),h=r("./messages"),m=0,x=4,g=0,y=-2,b=-1,w=4,E=2,T=8,_=9,S=286,C=30,I=19,j=2*S+1,q=15,D=3,Q=258,ae=Q+D+1,F=42,X=113,M=1,se=2,J=3,Z=4;function ge(U,we){return U.msg=h[we],we}function ie(U){return(U<<1)-(4<U?9:0)}function Ee(U){for(var we=U.length;0<=--we;)U[we]=0}function G(U){var we=U.state,B=we.pending;B>U.avail_out&&(B=U.avail_out),B!==0&&(i.arraySet(U.output,we.pending_buf,we.pending_out,B,U.next_out),U.next_out+=B,we.pending_out+=B,U.total_out+=B,U.avail_out-=B,we.pending-=B,we.pending===0&&(we.pending_out=0))}function O(U,we){o._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,we),U.block_start=U.strstart,G(U.strm)}function W(U,we){U.pending_buf[U.pending++]=we}function K(U,we){U.pending_buf[U.pending++]=we>>>8&255,U.pending_buf[U.pending++]=255&we}function re(U,we){var B,A,R=U.max_chain_length,H=U.strstart,fe=U.prev_length,ye=U.nice_match,he=U.strstart>U.w_size-ae?U.strstart-(U.w_size-ae):0,Ae=U.window,De=U.w_mask,Pe=U.prev,We=U.strstart+Q,et=Ae[H+fe-1],tt=Ae[H+fe];U.prev_length>=U.good_match&&(R>>=2),ye>U.lookahead&&(ye=U.lookahead);do if(Ae[(B=we)+fe]===tt&&Ae[B+fe-1]===et&&Ae[B]===Ae[H]&&Ae[++B]===Ae[H+1]){H+=2,B++;do;while(Ae[++H]===Ae[++B]&&Ae[++H]===Ae[++B]&&Ae[++H]===Ae[++B]&&Ae[++H]===Ae[++B]&&Ae[++H]===Ae[++B]&&Ae[++H]===Ae[++B]&&Ae[++H]===Ae[++B]&&Ae[++H]===Ae[++B]&&H<We);if(A=Q-(We-H),H=We-Q,fe<A){if(U.match_start=we,ye<=(fe=A))break;et=Ae[H+fe-1],tt=Ae[H+fe]}}while((we=Pe[we&De])>he&&--R!=0);return fe<=U.lookahead?fe:U.lookahead}function Y(U){var we,B,A,R,H,fe,ye,he,Ae,De,Pe=U.w_size;do{if(R=U.window_size-U.lookahead-U.strstart,U.strstart>=Pe+(Pe-ae)){for(i.arraySet(U.window,U.window,Pe,Pe,0),U.match_start-=Pe,U.strstart-=Pe,U.block_start-=Pe,we=B=U.hash_size;A=U.head[--we],U.head[we]=Pe<=A?A-Pe:0,--B;);for(we=B=Pe;A=U.prev[--we],U.prev[we]=Pe<=A?A-Pe:0,--B;);R+=Pe}if(U.strm.avail_in===0)break;if(fe=U.strm,ye=U.window,he=U.strstart+U.lookahead,Ae=R,De=void 0,De=fe.avail_in,Ae<De&&(De=Ae),B=De===0?0:(fe.avail_in-=De,i.arraySet(ye,fe.input,fe.next_in,De,he),fe.state.wrap===1?fe.adler=c(fe.adler,ye,De,he):fe.state.wrap===2&&(fe.adler=f(fe.adler,ye,De,he)),fe.next_in+=De,fe.total_in+=De,De),U.lookahead+=B,U.lookahead+U.insert>=D)for(H=U.strstart-U.insert,U.ins_h=U.window[H],U.ins_h=(U.ins_h<<U.hash_shift^U.window[H+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[H+D-1])&U.hash_mask,U.prev[H&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=H,H++,U.insert--,!(U.lookahead+U.insert<D)););}while(U.lookahead<ae&&U.strm.avail_in!==0)}function P(U,we){for(var B,A;;){if(U.lookahead<ae){if(Y(U),U.lookahead<ae&&we===m)return M;if(U.lookahead===0)break}if(B=0,U.lookahead>=D&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,B=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),B!==0&&U.strstart-B<=U.w_size-ae&&(U.match_length=re(U,B)),U.match_length>=D)if(A=o._tr_tally(U,U.strstart-U.match_start,U.match_length-D),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=D){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,B=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else A=o._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(A&&(O(U,!1),U.strm.avail_out===0))return M}return U.insert=U.strstart<D-1?U.strstart:D-1,we===x?(O(U,!0),U.strm.avail_out===0?J:Z):U.last_lit&&(O(U,!1),U.strm.avail_out===0)?M:se}function L(U,we){for(var B,A,R;;){if(U.lookahead<ae){if(Y(U),U.lookahead<ae&&we===m)return M;if(U.lookahead===0)break}if(B=0,U.lookahead>=D&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,B=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=D-1,B!==0&&U.prev_length<U.max_lazy_match&&U.strstart-B<=U.w_size-ae&&(U.match_length=re(U,B),U.match_length<=5&&(U.strategy===1||U.match_length===D&&4096<U.strstart-U.match_start)&&(U.match_length=D-1)),U.prev_length>=D&&U.match_length<=U.prev_length){for(R=U.strstart+U.lookahead-D,A=o._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-D),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=R&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,B=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=D-1,U.strstart++,A&&(O(U,!1),U.strm.avail_out===0))return M}else if(U.match_available){if((A=o._tr_tally(U,0,U.window[U.strstart-1]))&&O(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return M}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(A=o._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<D-1?U.strstart:D-1,we===x?(O(U,!0),U.strm.avail_out===0?J:Z):U.last_lit&&(O(U,!1),U.strm.avail_out===0)?M:se}function oe(U,we,B,A,R){this.good_length=U,this.max_lazy=we,this.nice_length=B,this.max_chain=A,this.func=R}function ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*j),this.dyn_dtree=new i.Buf16(2*(2*C+1)),this.bl_tree=new i.Buf16(2*(2*I+1)),Ee(this.dyn_ltree),Ee(this.dyn_dtree),Ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(q+1),this.heap=new i.Buf16(2*S+1),Ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*S+1),Ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ne(U){var we;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=E,(we=U.state).pending=0,we.pending_out=0,we.wrap<0&&(we.wrap=-we.wrap),we.status=we.wrap?F:X,U.adler=we.wrap===2?0:1,we.last_flush=m,o._tr_init(we),g):ge(U,y)}function z(U){var we=ne(U);return we===g&&(function(B){B.window_size=2*B.w_size,Ee(B.head),B.max_lazy_match=a[B.level].max_lazy,B.good_match=a[B.level].good_length,B.nice_match=a[B.level].nice_length,B.max_chain_length=a[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=D-1,B.match_available=0,B.ins_h=0})(U.state),we}function be(U,we,B,A,R,H){if(!U)return y;var fe=1;if(we===b&&(we=6),A<0?(fe=0,A=-A):15<A&&(fe=2,A-=16),R<1||_<R||B!==T||A<8||15<A||we<0||9<we||H<0||w<H)return ge(U,y);A===8&&(A=9);var ye=new ee;return(U.state=ye).strm=U,ye.wrap=fe,ye.gzhead=null,ye.w_bits=A,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=R+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+D-1)/D),ye.window=new i.Buf8(2*ye.w_size),ye.head=new i.Buf16(ye.hash_size),ye.prev=new i.Buf16(ye.w_size),ye.lit_bufsize=1<<R+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new i.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=we,ye.strategy=H,ye.method=B,z(U)}a=[new oe(0,0,0,0,function(U,we){var B=65535;for(B>U.pending_buf_size-5&&(B=U.pending_buf_size-5);;){if(U.lookahead<=1){if(Y(U),U.lookahead===0&&we===m)return M;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var A=U.block_start+B;if((U.strstart===0||U.strstart>=A)&&(U.lookahead=U.strstart-A,U.strstart=A,O(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-ae&&(O(U,!1),U.strm.avail_out===0))return M}return U.insert=0,we===x?(O(U,!0),U.strm.avail_out===0?J:Z):(U.strstart>U.block_start&&(O(U,!1),U.strm.avail_out),M)}),new oe(4,4,8,4,P),new oe(4,5,16,8,P),new oe(4,6,32,32,P),new oe(4,4,16,16,L),new oe(8,16,32,32,L),new oe(8,16,128,128,L),new oe(8,32,128,256,L),new oe(32,128,258,1024,L),new oe(32,258,258,4096,L)],s.deflateInit=function(U,we){return be(U,we,T,15,8,0)},s.deflateInit2=be,s.deflateReset=z,s.deflateResetKeep=ne,s.deflateSetHeader=function(U,we){return U&&U.state?U.state.wrap!==2?y:(U.state.gzhead=we,g):y},s.deflate=function(U,we){var B,A,R,H;if(!U||!U.state||5<we||we<0)return U?ge(U,y):y;if(A=U.state,!U.output||!U.input&&U.avail_in!==0||A.status===666&&we!==x)return ge(U,U.avail_out===0?-5:y);if(A.strm=U,B=A.last_flush,A.last_flush=we,A.status===F)if(A.wrap===2)U.adler=0,W(A,31),W(A,139),W(A,8),A.gzhead?(W(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),W(A,255&A.gzhead.time),W(A,A.gzhead.time>>8&255),W(A,A.gzhead.time>>16&255),W(A,A.gzhead.time>>24&255),W(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),W(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(W(A,255&A.gzhead.extra.length),W(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(U.adler=f(U.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(W(A,0),W(A,0),W(A,0),W(A,0),W(A,0),W(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),W(A,3),A.status=X);else{var fe=T+(A.w_bits-8<<4)<<8;fe|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(fe|=32),fe+=31-fe%31,A.status=X,K(A,fe),A.strstart!==0&&(K(A,U.adler>>>16),K(A,65535&U.adler)),U.adler=1}if(A.status===69)if(A.gzhead.extra){for(R=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>R&&(U.adler=f(U.adler,A.pending_buf,A.pending-R,R)),G(U),R=A.pending,A.pending!==A.pending_buf_size));)W(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>R&&(U.adler=f(U.adler,A.pending_buf,A.pending-R,R)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){R=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>R&&(U.adler=f(U.adler,A.pending_buf,A.pending-R,R)),G(U),R=A.pending,A.pending===A.pending_buf_size)){H=1;break}H=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,W(A,H)}while(H!==0);A.gzhead.hcrc&&A.pending>R&&(U.adler=f(U.adler,A.pending_buf,A.pending-R,R)),H===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){R=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>R&&(U.adler=f(U.adler,A.pending_buf,A.pending-R,R)),G(U),R=A.pending,A.pending===A.pending_buf_size)){H=1;break}H=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,W(A,H)}while(H!==0);A.gzhead.hcrc&&A.pending>R&&(U.adler=f(U.adler,A.pending_buf,A.pending-R,R)),H===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&G(U),A.pending+2<=A.pending_buf_size&&(W(A,255&U.adler),W(A,U.adler>>8&255),U.adler=0,A.status=X)):A.status=X),A.pending!==0){if(G(U),U.avail_out===0)return A.last_flush=-1,g}else if(U.avail_in===0&&ie(we)<=ie(B)&&we!==x)return ge(U,-5);if(A.status===666&&U.avail_in!==0)return ge(U,-5);if(U.avail_in!==0||A.lookahead!==0||we!==m&&A.status!==666){var ye=A.strategy===2?(function(he,Ae){for(var De;;){if(he.lookahead===0&&(Y(he),he.lookahead===0)){if(Ae===m)return M;break}if(he.match_length=0,De=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,De&&(O(he,!1),he.strm.avail_out===0))return M}return he.insert=0,Ae===x?(O(he,!0),he.strm.avail_out===0?J:Z):he.last_lit&&(O(he,!1),he.strm.avail_out===0)?M:se})(A,we):A.strategy===3?(function(he,Ae){for(var De,Pe,We,et,tt=he.window;;){if(he.lookahead<=Q){if(Y(he),he.lookahead<=Q&&Ae===m)return M;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=D&&0<he.strstart&&(Pe=tt[We=he.strstart-1])===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]){et=he.strstart+Q;do;while(Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&Pe===tt[++We]&&We<et);he.match_length=Q-(et-We),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=D?(De=o._tr_tally(he,1,he.match_length-D),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(De=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),De&&(O(he,!1),he.strm.avail_out===0))return M}return he.insert=0,Ae===x?(O(he,!0),he.strm.avail_out===0?J:Z):he.last_lit&&(O(he,!1),he.strm.avail_out===0)?M:se})(A,we):a[A.level].func(A,we);if(ye!==J&&ye!==Z||(A.status=666),ye===M||ye===J)return U.avail_out===0&&(A.last_flush=-1),g;if(ye===se&&(we===1?o._tr_align(A):we!==5&&(o._tr_stored_block(A,0,0,!1),we===3&&(Ee(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),G(U),U.avail_out===0))return A.last_flush=-1,g}return we!==x?g:A.wrap<=0?1:(A.wrap===2?(W(A,255&U.adler),W(A,U.adler>>8&255),W(A,U.adler>>16&255),W(A,U.adler>>24&255),W(A,255&U.total_in),W(A,U.total_in>>8&255),W(A,U.total_in>>16&255),W(A,U.total_in>>24&255)):(K(A,U.adler>>>16),K(A,65535&U.adler)),G(U),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?g:1)},s.deflateEnd=function(U){var we;return U&&U.state?(we=U.state.status)!==F&&we!==69&&we!==73&&we!==91&&we!==103&&we!==X&&we!==666?ge(U,y):(U.state=null,we===X?ge(U,-3):g):y},s.deflateSetDictionary=function(U,we){var B,A,R,H,fe,ye,he,Ae,De=we.length;if(!U||!U.state||(H=(B=U.state).wrap)===2||H===1&&B.status!==F||B.lookahead)return y;for(H===1&&(U.adler=c(U.adler,we,De,0)),B.wrap=0,De>=B.w_size&&(H===0&&(Ee(B.head),B.strstart=0,B.block_start=0,B.insert=0),Ae=new i.Buf8(B.w_size),i.arraySet(Ae,we,De-B.w_size,B.w_size,0),we=Ae,De=B.w_size),fe=U.avail_in,ye=U.next_in,he=U.input,U.avail_in=De,U.next_in=0,U.input=we,Y(B);B.lookahead>=D;){for(A=B.strstart,R=B.lookahead-(D-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[A+D-1])&B.hash_mask,B.prev[A&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=A,A++,--R;);B.strstart=A,B.lookahead=D-1,Y(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=D-1,B.match_available=0,U.next_in=ye,U.input=he,U.avail_in=fe,B.wrap=H,g},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(a,i){var o,c,f,h,m,x,g,y,b,w,E,T,_,S,C,I,j,q,D,Q,ae,F,X,M,se;o=a.state,c=a.next_in,M=a.input,f=c+(a.avail_in-5),h=a.next_out,se=a.output,m=h-(i-a.avail_out),x=h+(a.avail_out-257),g=o.dmax,y=o.wsize,b=o.whave,w=o.wnext,E=o.window,T=o.hold,_=o.bits,S=o.lencode,C=o.distcode,I=(1<<o.lenbits)-1,j=(1<<o.distbits)-1;e:do{_<15&&(T+=M[c++]<<_,_+=8,T+=M[c++]<<_,_+=8),q=S[T&I];t:for(;;){if(T>>>=D=q>>>24,_-=D,(D=q>>>16&255)===0)se[h++]=65535&q;else{if(!(16&D)){if((64&D)==0){q=S[(65535&q)+(T&(1<<D)-1)];continue t}if(32&D){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}Q=65535&q,(D&=15)&&(_<D&&(T+=M[c++]<<_,_+=8),Q+=T&(1<<D)-1,T>>>=D,_-=D),_<15&&(T+=M[c++]<<_,_+=8,T+=M[c++]<<_,_+=8),q=C[T&j];r:for(;;){if(T>>>=D=q>>>24,_-=D,!(16&(D=q>>>16&255))){if((64&D)==0){q=C[(65535&q)+(T&(1<<D)-1)];continue r}a.msg="invalid distance code",o.mode=30;break e}if(ae=65535&q,_<(D&=15)&&(T+=M[c++]<<_,(_+=8)<D&&(T+=M[c++]<<_,_+=8)),g<(ae+=T&(1<<D)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(T>>>=D,_-=D,(D=h-m)<ae){if(b<(D=ae-D)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(X=E,(F=0)===w){if(F+=y-D,D<Q){for(Q-=D;se[h++]=E[F++],--D;);F=h-ae,X=se}}else if(w<D){if(F+=y+w-D,(D-=w)<Q){for(Q-=D;se[h++]=E[F++],--D;);if(F=0,w<Q){for(Q-=D=w;se[h++]=E[F++],--D;);F=h-ae,X=se}}}else if(F+=w-D,D<Q){for(Q-=D;se[h++]=E[F++],--D;);F=h-ae,X=se}for(;2<Q;)se[h++]=X[F++],se[h++]=X[F++],se[h++]=X[F++],Q-=3;Q&&(se[h++]=X[F++],1<Q&&(se[h++]=X[F++]))}else{for(F=h-ae;se[h++]=se[F++],se[h++]=se[F++],se[h++]=se[F++],2<(Q-=3););Q&&(se[h++]=se[F++],1<Q&&(se[h++]=se[F++]))}break}}break}}while(c<f&&h<x);c-=Q=_>>3,T&=(1<<(_-=Q<<3))-1,a.next_in=c,a.next_out=h,a.avail_in=c<f?f-c+5:5-(c-f),a.avail_out=h<x?x-h+257:257-(h-x),o.hold=T,o.bits=_}},{}],49:[function(r,n,s){var a=r("../utils/common"),i=r("./adler32"),o=r("./crc32"),c=r("./inffast"),f=r("./inftrees"),h=1,m=2,x=0,g=-2,y=1,b=852,w=592;function E(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(F){var X;return F&&F.state?(X=F.state,F.total_in=F.total_out=X.total=0,F.msg="",X.wrap&&(F.adler=1&X.wrap),X.mode=y,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new a.Buf32(b),X.distcode=X.distdyn=new a.Buf32(w),X.sane=1,X.back=-1,x):g}function S(F){var X;return F&&F.state?((X=F.state).wsize=0,X.whave=0,X.wnext=0,_(F)):g}function C(F,X){var M,se;return F&&F.state?(se=F.state,X<0?(M=0,X=-X):(M=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?g:(se.window!==null&&se.wbits!==X&&(se.window=null),se.wrap=M,se.wbits=X,S(F))):g}function I(F,X){var M,se;return F?(se=new T,(F.state=se).window=null,(M=C(F,X))!==x&&(F.state=null),M):g}var j,q,D=!0;function Q(F){if(D){var X;for(j=new a.Buf32(512),q=new a.Buf32(32),X=0;X<144;)F.lens[X++]=8;for(;X<256;)F.lens[X++]=9;for(;X<280;)F.lens[X++]=7;for(;X<288;)F.lens[X++]=8;for(f(h,F.lens,0,288,j,0,F.work,{bits:9}),X=0;X<32;)F.lens[X++]=5;f(m,F.lens,0,32,q,0,F.work,{bits:5}),D=!1}F.lencode=j,F.lenbits=9,F.distcode=q,F.distbits=5}function ae(F,X,M,se){var J,Z=F.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new a.Buf8(Z.wsize)),se>=Z.wsize?(a.arraySet(Z.window,X,M-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(se<(J=Z.wsize-Z.wnext)&&(J=se),a.arraySet(Z.window,X,M-se,J,Z.wnext),(se-=J)?(a.arraySet(Z.window,X,M-se,se,0),Z.wnext=se,Z.whave=Z.wsize):(Z.wnext+=J,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=J))),0}s.inflateReset=S,s.inflateReset2=C,s.inflateResetKeep=_,s.inflateInit=function(F){return I(F,15)},s.inflateInit2=I,s.inflate=function(F,X){var M,se,J,Z,ge,ie,Ee,G,O,W,K,re,Y,P,L,oe,ee,ne,z,be,U,we,B,A,R=0,H=new a.Buf8(4),fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return g;(M=F.state).mode===12&&(M.mode=13),ge=F.next_out,J=F.output,Ee=F.avail_out,Z=F.next_in,se=F.input,ie=F.avail_in,G=M.hold,O=M.bits,W=ie,K=Ee,we=x;e:for(;;)switch(M.mode){case y:if(M.wrap===0){M.mode=13;break}for(;O<16;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if(2&M.wrap&&G===35615){H[M.check=0]=255&G,H[1]=G>>>8&255,M.check=o(M.check,H,2,0),O=G=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&G)<<8)+(G>>8))%31){F.msg="incorrect header check",M.mode=30;break}if((15&G)!=8){F.msg="unknown compression method",M.mode=30;break}if(O-=4,U=8+(15&(G>>>=4)),M.wbits===0)M.wbits=U;else if(U>M.wbits){F.msg="invalid window size",M.mode=30;break}M.dmax=1<<U,F.adler=M.check=1,M.mode=512&G?10:12,O=G=0;break;case 2:for(;O<16;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if(M.flags=G,(255&M.flags)!=8){F.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){F.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=G>>8&1),512&M.flags&&(H[0]=255&G,H[1]=G>>>8&255,M.check=o(M.check,H,2,0)),O=G=0,M.mode=3;case 3:for(;O<32;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}M.head&&(M.head.time=G),512&M.flags&&(H[0]=255&G,H[1]=G>>>8&255,H[2]=G>>>16&255,H[3]=G>>>24&255,M.check=o(M.check,H,4,0)),O=G=0,M.mode=4;case 4:for(;O<16;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}M.head&&(M.head.xflags=255&G,M.head.os=G>>8),512&M.flags&&(H[0]=255&G,H[1]=G>>>8&255,M.check=o(M.check,H,2,0)),O=G=0,M.mode=5;case 5:if(1024&M.flags){for(;O<16;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}M.length=G,M.head&&(M.head.extra_len=G),512&M.flags&&(H[0]=255&G,H[1]=G>>>8&255,M.check=o(M.check,H,2,0)),O=G=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(ie<(re=M.length)&&(re=ie),re&&(M.head&&(U=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),a.arraySet(M.head.extra,se,Z,re,U)),512&M.flags&&(M.check=o(M.check,se,re,Z)),ie-=re,Z+=re,M.length-=re),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(ie===0)break e;for(re=0;U=se[Z+re++],M.head&&U&&M.length<65536&&(M.head.name+=String.fromCharCode(U)),U&&re<ie;);if(512&M.flags&&(M.check=o(M.check,se,re,Z)),ie-=re,Z+=re,U)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(ie===0)break e;for(re=0;U=se[Z+re++],M.head&&U&&M.length<65536&&(M.head.comment+=String.fromCharCode(U)),U&&re<ie;);if(512&M.flags&&(M.check=o(M.check,se,re,Z)),ie-=re,Z+=re,U)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;O<16;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if(G!==(65535&M.check)){F.msg="header crc mismatch",M.mode=30;break}O=G=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),F.adler=M.check=0,M.mode=12;break;case 10:for(;O<32;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}F.adler=M.check=E(G),O=G=0,M.mode=11;case 11:if(M.havedict===0)return F.next_out=ge,F.avail_out=Ee,F.next_in=Z,F.avail_in=ie,M.hold=G,M.bits=O,2;F.adler=M.check=1,M.mode=12;case 12:if(X===5||X===6)break e;case 13:if(M.last){G>>>=7&O,O-=7&O,M.mode=27;break}for(;O<3;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}switch(M.last=1&G,O-=1,3&(G>>>=1)){case 0:M.mode=14;break;case 1:if(Q(M),M.mode=20,X!==6)break;G>>>=2,O-=2;break e;case 2:M.mode=17;break;case 3:F.msg="invalid block type",M.mode=30}G>>>=2,O-=2;break;case 14:for(G>>>=7&O,O-=7&O;O<32;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if((65535&G)!=(G>>>16^65535)){F.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&G,O=G=0,M.mode=15,X===6)break e;case 15:M.mode=16;case 16:if(re=M.length){if(ie<re&&(re=ie),Ee<re&&(re=Ee),re===0)break e;a.arraySet(J,se,Z,re,ge),ie-=re,Z+=re,Ee-=re,ge+=re,M.length-=re;break}M.mode=12;break;case 17:for(;O<14;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if(M.nlen=257+(31&G),G>>>=5,O-=5,M.ndist=1+(31&G),G>>>=5,O-=5,M.ncode=4+(15&G),G>>>=4,O-=4,286<M.nlen||30<M.ndist){F.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;O<3;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}M.lens[fe[M.have++]]=7&G,G>>>=3,O-=3}for(;M.have<19;)M.lens[fe[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,B={bits:M.lenbits},we=f(0,M.lens,0,19,M.lencode,0,M.work,B),M.lenbits=B.bits,we){F.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;oe=(R=M.lencode[G&(1<<M.lenbits)-1])>>>16&255,ee=65535&R,!((L=R>>>24)<=O);){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if(ee<16)G>>>=L,O-=L,M.lens[M.have++]=ee;else{if(ee===16){for(A=L+2;O<A;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if(G>>>=L,O-=L,M.have===0){F.msg="invalid bit length repeat",M.mode=30;break}U=M.lens[M.have-1],re=3+(3&G),G>>>=2,O-=2}else if(ee===17){for(A=L+3;O<A;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}O-=L,U=0,re=3+(7&(G>>>=L)),G>>>=3,O-=3}else{for(A=L+7;O<A;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}O-=L,U=0,re=11+(127&(G>>>=L)),G>>>=7,O-=7}if(M.have+re>M.nlen+M.ndist){F.msg="invalid bit length repeat",M.mode=30;break}for(;re--;)M.lens[M.have++]=U}}if(M.mode===30)break;if(M.lens[256]===0){F.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,B={bits:M.lenbits},we=f(h,M.lens,0,M.nlen,M.lencode,0,M.work,B),M.lenbits=B.bits,we){F.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,B={bits:M.distbits},we=f(m,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,B),M.distbits=B.bits,we){F.msg="invalid distances set",M.mode=30;break}if(M.mode=20,X===6)break e;case 20:M.mode=21;case 21:if(6<=ie&&258<=Ee){F.next_out=ge,F.avail_out=Ee,F.next_in=Z,F.avail_in=ie,M.hold=G,M.bits=O,c(F,K),ge=F.next_out,J=F.output,Ee=F.avail_out,Z=F.next_in,se=F.input,ie=F.avail_in,G=M.hold,O=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;oe=(R=M.lencode[G&(1<<M.lenbits)-1])>>>16&255,ee=65535&R,!((L=R>>>24)<=O);){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if(oe&&(240&oe)==0){for(ne=L,z=oe,be=ee;oe=(R=M.lencode[be+((G&(1<<ne+z)-1)>>ne)])>>>16&255,ee=65535&R,!(ne+(L=R>>>24)<=O);){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}G>>>=ne,O-=ne,M.back+=ne}if(G>>>=L,O-=L,M.back+=L,M.length=ee,oe===0){M.mode=26;break}if(32&oe){M.back=-1,M.mode=12;break}if(64&oe){F.msg="invalid literal/length code",M.mode=30;break}M.extra=15&oe,M.mode=22;case 22:if(M.extra){for(A=M.extra;O<A;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}M.length+=G&(1<<M.extra)-1,G>>>=M.extra,O-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;oe=(R=M.distcode[G&(1<<M.distbits)-1])>>>16&255,ee=65535&R,!((L=R>>>24)<=O);){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if((240&oe)==0){for(ne=L,z=oe,be=ee;oe=(R=M.distcode[be+((G&(1<<ne+z)-1)>>ne)])>>>16&255,ee=65535&R,!(ne+(L=R>>>24)<=O);){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}G>>>=ne,O-=ne,M.back+=ne}if(G>>>=L,O-=L,M.back+=L,64&oe){F.msg="invalid distance code",M.mode=30;break}M.offset=ee,M.extra=15&oe,M.mode=24;case 24:if(M.extra){for(A=M.extra;O<A;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}M.offset+=G&(1<<M.extra)-1,G>>>=M.extra,O-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){F.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(Ee===0)break e;if(re=K-Ee,M.offset>re){if((re=M.offset-re)>M.whave&&M.sane){F.msg="invalid distance too far back",M.mode=30;break}Y=re>M.wnext?(re-=M.wnext,M.wsize-re):M.wnext-re,re>M.length&&(re=M.length),P=M.window}else P=J,Y=ge-M.offset,re=M.length;for(Ee<re&&(re=Ee),Ee-=re,M.length-=re;J[ge++]=P[Y++],--re;);M.length===0&&(M.mode=21);break;case 26:if(Ee===0)break e;J[ge++]=M.length,Ee--,M.mode=21;break;case 27:if(M.wrap){for(;O<32;){if(ie===0)break e;ie--,G|=se[Z++]<<O,O+=8}if(K-=Ee,F.total_out+=K,M.total+=K,K&&(F.adler=M.check=M.flags?o(M.check,J,K,ge-K):i(M.check,J,K,ge-K)),K=Ee,(M.flags?G:E(G))!==M.check){F.msg="incorrect data check",M.mode=30;break}O=G=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;O<32;){if(ie===0)break e;ie--,G+=se[Z++]<<O,O+=8}if(G!==(4294967295&M.total)){F.msg="incorrect length check",M.mode=30;break}O=G=0}M.mode=29;case 29:we=1;break e;case 30:we=-3;break e;case 31:return-4;case 32:default:return g}return F.next_out=ge,F.avail_out=Ee,F.next_in=Z,F.avail_in=ie,M.hold=G,M.bits=O,(M.wsize||K!==F.avail_out&&M.mode<30&&(M.mode<27||X!==4))&&ae(F,F.output,F.next_out,K-F.avail_out)?(M.mode=31,-4):(W-=F.avail_in,K-=F.avail_out,F.total_in+=W,F.total_out+=K,M.total+=K,M.wrap&&K&&(F.adler=M.check=M.flags?o(M.check,J,K,F.next_out-K):i(M.check,J,K,F.next_out-K)),F.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(W==0&&K===0||X===4)&&we===x&&(we=-5),we)},s.inflateEnd=function(F){if(!F||!F.state)return g;var X=F.state;return X.window&&(X.window=null),F.state=null,x},s.inflateGetHeader=function(F,X){var M;return F&&F.state?(2&(M=F.state).wrap)==0?g:((M.head=X).done=!1,x):g},s.inflateSetDictionary=function(F,X){var M,se=X.length;return F&&F.state?(M=F.state).wrap!==0&&M.mode!==11?g:M.mode===11&&i(1,X,se,0)!==M.check?-3:ae(F,X,se,se)?(M.mode=31,-4):(M.havedict=1,x):g},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var a=r("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(h,m,x,g,y,b,w,E){var T,_,S,C,I,j,q,D,Q,ae=E.bits,F=0,X=0,M=0,se=0,J=0,Z=0,ge=0,ie=0,Ee=0,G=0,O=null,W=0,K=new a.Buf16(16),re=new a.Buf16(16),Y=null,P=0;for(F=0;F<=15;F++)K[F]=0;for(X=0;X<g;X++)K[m[x+X]]++;for(J=ae,se=15;1<=se&&K[se]===0;se--);if(se<J&&(J=se),se===0)return y[b++]=20971520,y[b++]=20971520,E.bits=1,0;for(M=1;M<se&&K[M]===0;M++);for(J<M&&(J=M),F=ie=1;F<=15;F++)if(ie<<=1,(ie-=K[F])<0)return-1;if(0<ie&&(h===0||se!==1))return-1;for(re[1]=0,F=1;F<15;F++)re[F+1]=re[F]+K[F];for(X=0;X<g;X++)m[x+X]!==0&&(w[re[m[x+X]]++]=X);if(j=h===0?(O=Y=w,19):h===1?(O=i,W-=257,Y=o,P-=257,256):(O=c,Y=f,-1),F=M,I=b,ge=X=G=0,S=-1,C=(Ee=1<<(Z=J))-1,h===1&&852<Ee||h===2&&592<Ee)return 1;for(;;){for(q=F-ge,Q=w[X]<j?(D=0,w[X]):w[X]>j?(D=Y[P+w[X]],O[W+w[X]]):(D=96,0),T=1<<F-ge,M=_=1<<Z;y[I+(G>>ge)+(_-=T)]=q<<24|D<<16|Q|0,_!==0;);for(T=1<<F-1;G&T;)T>>=1;if(T!==0?(G&=T-1,G+=T):G=0,X++,--K[F]==0){if(F===se)break;F=m[x+w[X]]}if(J<F&&(G&C)!==S){for(ge===0&&(ge=J),I+=M,ie=1<<(Z=F-ge);Z+ge<se&&!((ie-=K[Z+ge])<=0);)Z++,ie<<=1;if(Ee+=1<<Z,h===1&&852<Ee||h===2&&592<Ee)return 1;y[S=G&C]=J<<24|Z<<16|I-b|0}}return G!==0&&(y[I+G]=F-ge<<24|64<<16|0),E.bits=J,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var a=r("../utils/common"),i=0,o=1;function c(R){for(var H=R.length;0<=--H;)R[H]=0}var f=0,h=29,m=256,x=m+1+h,g=30,y=19,b=2*x+1,w=15,E=16,T=7,_=256,S=16,C=17,I=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=new Array(2*(x+2));c(ae);var F=new Array(2*g);c(F);var X=new Array(512);c(X);var M=new Array(256);c(M);var se=new Array(h);c(se);var J,Z,ge,ie=new Array(g);function Ee(R,H,fe,ye,he){this.static_tree=R,this.extra_bits=H,this.extra_base=fe,this.elems=ye,this.max_length=he,this.has_stree=R&&R.length}function G(R,H){this.dyn_tree=R,this.max_code=0,this.stat_desc=H}function O(R){return R<256?X[R]:X[256+(R>>>7)]}function W(R,H){R.pending_buf[R.pending++]=255&H,R.pending_buf[R.pending++]=H>>>8&255}function K(R,H,fe){R.bi_valid>E-fe?(R.bi_buf|=H<<R.bi_valid&65535,W(R,R.bi_buf),R.bi_buf=H>>E-R.bi_valid,R.bi_valid+=fe-E):(R.bi_buf|=H<<R.bi_valid&65535,R.bi_valid+=fe)}function re(R,H,fe){K(R,fe[2*H],fe[2*H+1])}function Y(R,H){for(var fe=0;fe|=1&R,R>>>=1,fe<<=1,0<--H;);return fe>>>1}function P(R,H,fe){var ye,he,Ae=new Array(w+1),De=0;for(ye=1;ye<=w;ye++)Ae[ye]=De=De+fe[ye-1]<<1;for(he=0;he<=H;he++){var Pe=R[2*he+1];Pe!==0&&(R[2*he]=Y(Ae[Pe]++,Pe))}}function L(R){var H;for(H=0;H<x;H++)R.dyn_ltree[2*H]=0;for(H=0;H<g;H++)R.dyn_dtree[2*H]=0;for(H=0;H<y;H++)R.bl_tree[2*H]=0;R.dyn_ltree[2*_]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function oe(R){8<R.bi_valid?W(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function ee(R,H,fe,ye){var he=2*H,Ae=2*fe;return R[he]<R[Ae]||R[he]===R[Ae]&&ye[H]<=ye[fe]}function ne(R,H,fe){for(var ye=R.heap[fe],he=fe<<1;he<=R.heap_len&&(he<R.heap_len&&ee(H,R.heap[he+1],R.heap[he],R.depth)&&he++,!ee(H,ye,R.heap[he],R.depth));)R.heap[fe]=R.heap[he],fe=he,he<<=1;R.heap[fe]=ye}function z(R,H,fe){var ye,he,Ae,De,Pe=0;if(R.last_lit!==0)for(;ye=R.pending_buf[R.d_buf+2*Pe]<<8|R.pending_buf[R.d_buf+2*Pe+1],he=R.pending_buf[R.l_buf+Pe],Pe++,ye===0?re(R,he,H):(re(R,(Ae=M[he])+m+1,H),(De=j[Ae])!==0&&K(R,he-=se[Ae],De),re(R,Ae=O(--ye),fe),(De=q[Ae])!==0&&K(R,ye-=ie[Ae],De)),Pe<R.last_lit;);re(R,_,H)}function be(R,H){var fe,ye,he,Ae=H.dyn_tree,De=H.stat_desc.static_tree,Pe=H.stat_desc.has_stree,We=H.stat_desc.elems,et=-1;for(R.heap_len=0,R.heap_max=b,fe=0;fe<We;fe++)Ae[2*fe]!==0?(R.heap[++R.heap_len]=et=fe,R.depth[fe]=0):Ae[2*fe+1]=0;for(;R.heap_len<2;)Ae[2*(he=R.heap[++R.heap_len]=et<2?++et:0)]=1,R.depth[he]=0,R.opt_len--,Pe&&(R.static_len-=De[2*he+1]);for(H.max_code=et,fe=R.heap_len>>1;1<=fe;fe--)ne(R,Ae,fe);for(he=We;fe=R.heap[1],R.heap[1]=R.heap[R.heap_len--],ne(R,Ae,1),ye=R.heap[1],R.heap[--R.heap_max]=fe,R.heap[--R.heap_max]=ye,Ae[2*he]=Ae[2*fe]+Ae[2*ye],R.depth[he]=(R.depth[fe]>=R.depth[ye]?R.depth[fe]:R.depth[ye])+1,Ae[2*fe+1]=Ae[2*ye+1]=he,R.heap[1]=he++,ne(R,Ae,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],(function(tt,zt){var lt,Ot,nr,ht,Jt,cn,Zt=zt.dyn_tree,go=zt.max_code,Xa=zt.stat_desc.static_tree,Jn=zt.stat_desc.has_stree,Ca=zt.stat_desc.extra_bits,ka=zt.stat_desc.extra_base,Zn=zt.stat_desc.max_length,zr=0;for(ht=0;ht<=w;ht++)tt.bl_count[ht]=0;for(Zt[2*tt.heap[tt.heap_max]+1]=0,lt=tt.heap_max+1;lt<b;lt++)Zn<(ht=Zt[2*Zt[2*(Ot=tt.heap[lt])+1]+1]+1)&&(ht=Zn,zr++),Zt[2*Ot+1]=ht,go<Ot||(tt.bl_count[ht]++,Jt=0,ka<=Ot&&(Jt=Ca[Ot-ka]),cn=Zt[2*Ot],tt.opt_len+=cn*(ht+Jt),Jn&&(tt.static_len+=cn*(Xa[2*Ot+1]+Jt)));if(zr!==0){do{for(ht=Zn-1;tt.bl_count[ht]===0;)ht--;tt.bl_count[ht]--,tt.bl_count[ht+1]+=2,tt.bl_count[Zn]--,zr-=2}while(0<zr);for(ht=Zn;ht!==0;ht--)for(Ot=tt.bl_count[ht];Ot!==0;)go<(nr=tt.heap[--lt])||(Zt[2*nr+1]!==ht&&(tt.opt_len+=(ht-Zt[2*nr+1])*Zt[2*nr],Zt[2*nr+1]=ht),Ot--)}})(R,H),P(Ae,et,R.bl_count)}function U(R,H,fe){var ye,he,Ae=-1,De=H[1],Pe=0,We=7,et=4;for(De===0&&(We=138,et=3),H[2*(fe+1)+1]=65535,ye=0;ye<=fe;ye++)he=De,De=H[2*(ye+1)+1],++Pe<We&&he===De||(Pe<et?R.bl_tree[2*he]+=Pe:he!==0?(he!==Ae&&R.bl_tree[2*he]++,R.bl_tree[2*S]++):Pe<=10?R.bl_tree[2*C]++:R.bl_tree[2*I]++,Ae=he,et=(Pe=0)===De?(We=138,3):he===De?(We=6,3):(We=7,4))}function we(R,H,fe){var ye,he,Ae=-1,De=H[1],Pe=0,We=7,et=4;for(De===0&&(We=138,et=3),ye=0;ye<=fe;ye++)if(he=De,De=H[2*(ye+1)+1],!(++Pe<We&&he===De)){if(Pe<et)for(;re(R,he,R.bl_tree),--Pe!=0;);else he!==0?(he!==Ae&&(re(R,he,R.bl_tree),Pe--),re(R,S,R.bl_tree),K(R,Pe-3,2)):Pe<=10?(re(R,C,R.bl_tree),K(R,Pe-3,3)):(re(R,I,R.bl_tree),K(R,Pe-11,7));Ae=he,et=(Pe=0)===De?(We=138,3):he===De?(We=6,3):(We=7,4)}}c(ie);var B=!1;function A(R,H,fe,ye){K(R,(f<<1)+(ye?1:0),3),(function(he,Ae,De,Pe){oe(he),W(he,De),W(he,~De),a.arraySet(he.pending_buf,he.window,Ae,De,he.pending),he.pending+=De})(R,H,fe)}s._tr_init=function(R){B||((function(){var H,fe,ye,he,Ae,De=new Array(w+1);for(he=ye=0;he<h-1;he++)for(se[he]=ye,H=0;H<1<<j[he];H++)M[ye++]=he;for(M[ye-1]=he,he=Ae=0;he<16;he++)for(ie[he]=Ae,H=0;H<1<<q[he];H++)X[Ae++]=he;for(Ae>>=7;he<g;he++)for(ie[he]=Ae<<7,H=0;H<1<<q[he]-7;H++)X[256+Ae++]=he;for(fe=0;fe<=w;fe++)De[fe]=0;for(H=0;H<=143;)ae[2*H+1]=8,H++,De[8]++;for(;H<=255;)ae[2*H+1]=9,H++,De[9]++;for(;H<=279;)ae[2*H+1]=7,H++,De[7]++;for(;H<=287;)ae[2*H+1]=8,H++,De[8]++;for(P(ae,x+1,De),H=0;H<g;H++)F[2*H+1]=5,F[2*H]=Y(H,5);J=new Ee(ae,j,m+1,x,w),Z=new Ee(F,q,0,g,w),ge=new Ee(new Array(0),D,0,y,T)})(),B=!0),R.l_desc=new G(R.dyn_ltree,J),R.d_desc=new G(R.dyn_dtree,Z),R.bl_desc=new G(R.bl_tree,ge),R.bi_buf=0,R.bi_valid=0,L(R)},s._tr_stored_block=A,s._tr_flush_block=function(R,H,fe,ye){var he,Ae,De=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=(function(Pe){var We,et=4093624447;for(We=0;We<=31;We++,et>>>=1)if(1&et&&Pe.dyn_ltree[2*We]!==0)return i;if(Pe.dyn_ltree[18]!==0||Pe.dyn_ltree[20]!==0||Pe.dyn_ltree[26]!==0)return o;for(We=32;We<m;We++)if(Pe.dyn_ltree[2*We]!==0)return o;return i})(R)),be(R,R.l_desc),be(R,R.d_desc),De=(function(Pe){var We;for(U(Pe,Pe.dyn_ltree,Pe.l_desc.max_code),U(Pe,Pe.dyn_dtree,Pe.d_desc.max_code),be(Pe,Pe.bl_desc),We=y-1;3<=We&&Pe.bl_tree[2*Q[We]+1]===0;We--);return Pe.opt_len+=3*(We+1)+5+5+4,We})(R),he=R.opt_len+3+7>>>3,(Ae=R.static_len+3+7>>>3)<=he&&(he=Ae)):he=Ae=fe+5,fe+4<=he&&H!==-1?A(R,H,fe,ye):R.strategy===4||Ae===he?(K(R,2+(ye?1:0),3),z(R,ae,F)):(K(R,4+(ye?1:0),3),(function(Pe,We,et,tt){var zt;for(K(Pe,We-257,5),K(Pe,et-1,5),K(Pe,tt-4,4),zt=0;zt<tt;zt++)K(Pe,Pe.bl_tree[2*Q[zt]+1],3);we(Pe,Pe.dyn_ltree,We-1),we(Pe,Pe.dyn_dtree,et-1)})(R,R.l_desc.max_code+1,R.d_desc.max_code+1,De+1),z(R,R.dyn_ltree,R.dyn_dtree)),L(R),ye&&oe(R)},s._tr_tally=function(R,H,fe){return R.pending_buf[R.d_buf+2*R.last_lit]=H>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&H,R.pending_buf[R.l_buf+R.last_lit]=255&fe,R.last_lit++,H===0?R.dyn_ltree[2*fe]++:(R.matches++,H--,R.dyn_ltree[2*(M[fe]+m+1)]++,R.dyn_dtree[2*O(H)]++),R.last_lit===R.lit_bufsize-1},s._tr_align=function(R){K(R,2,3),re(R,_,ae),(function(H){H.bi_valid===16?(W(H,H.bi_buf),H.bi_buf=0,H.bi_valid=0):8<=H.bi_valid&&(H.pending_buf[H.pending++]=255&H.bi_buf,H.bi_buf>>=8,H.bi_valid-=8)})(R)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(a){(function(i,o){if(!i.setImmediate){var c,f,h,m,x=1,g={},y=!1,b=i.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(i);w=w&&w.setTimeout?w:i,c={}.toString.call(i.process)==="[object process]"?function(S){Rt.nextTick(function(){T(S)})}:(function(){if(i.postMessage&&!i.importScripts){var S=!0,C=i.onmessage;return i.onmessage=function(){S=!1},i.postMessage("","*"),i.onmessage=C,S}})()?(m="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",_,!1):i.attachEvent("onmessage",_),function(S){i.postMessage(m+S,"*")}):i.MessageChannel?((h=new MessageChannel).port1.onmessage=function(S){T(S.data)},function(S){h.port2.postMessage(S)}):b&&"onreadystatechange"in b.createElement("script")?(f=b.documentElement,function(S){var C=b.createElement("script");C.onreadystatechange=function(){T(S),C.onreadystatechange=null,f.removeChild(C),C=null},f.appendChild(C)}):function(S){setTimeout(T,0,S)},w.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var C=new Array(arguments.length-1),I=0;I<C.length;I++)C[I]=arguments[I+1];var j={callback:S,args:C};return g[x]=j,c(x),x++},w.clearImmediate=E}function E(S){delete g[S]}function T(S){if(y)setTimeout(T,0,S);else{var C=g[S];if(C){y=!0;try{(function(I){var j=I.callback,q=I.args;switch(q.length){case 0:j();break;case 1:j(q[0]);break;case 2:j(q[0],q[1]);break;case 3:j(q[0],q[1],q[2]);break;default:j.apply(o,q)}})(C)}finally{E(S),y=!1}}}}function _(S){S.source===i&&typeof S.data=="string"&&S.data.indexOf(m)===0&&T(+S.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof pi<"u"?pi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(n2)),n2.exports}var yxe=xxe();const vxe=wS(yxe);var Fd={exports:{}},s2,sO;function bxe(){if(sO)return s2;sO=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,s){return e[s]}):r}return s2=t,s2}var aO;function wxe(){if(aO)return Fd.exports;aO=1;var e=bxe(),t=AS().Stream,r="    ";function n(f,h){typeof h!="object"&&(h={indent:h});var m=h.stream?new t:null,x="",g=!1,y=h.indent?h.indent===!0?r:h.indent:"",b=!0;function w(C){b?Rt.nextTick(C):C()}function E(C,I){if(I!==void 0&&(x+=I),C&&!g&&(m=m||new t,g=!0),C&&g){var j=x;w(function(){m.emit("data",j)}),x=""}}function T(C,I){o(E,i(C,y,y?1:0),I)}function _(){if(m){var C=x;w(function(){m.emit("data",C),m.emit("end"),m.readable=!1,m.emit("close")})}}function S(C){var I=C.encoding||"UTF-8",j={version:"1.0",encoding:I};C.standalone&&(j.standalone=C.standalone),T({"?xml":{_attr:j}}),x=x.replace("/>","?>")}return w(function(){b=!1}),h.declaration&&S(h.declaration),f&&f.forEach?f.forEach(function(C,I){var j;I+1===f.length&&(j=_),T(C,j)}):T(f,_),m?(m.readable=!0,m):x}function s(){var f=Array.prototype.slice.call(arguments),h={_elem:i(f)};return h.push=function(m){if(!this.append)throw new Error("not assigned to a parent!");var x=this,g=this._elem.indent;o(this.append,i(m,g,this._elem.icount+(g?1:0)),function(){x.append(!0)})},h.close=function(m){m!==void 0&&this.push(m),this.end&&this.end()},h}function a(f,h){return new Array(h||0).join(f||"")}function i(f,h,m){m=m||0;var x=a(h,m),g,y=f,b=!1;if(typeof f=="object"){var w=Object.keys(f);if(g=w[0],y=f[g],y&&y._elem)return y._elem.name=g,y._elem.icount=m,y._elem.indent=h,y._elem.indents=x,y._elem.interrupt=y,y._elem}var E=[],T=[],_;function S(C){var I=Object.keys(C);I.forEach(function(j){E.push(c(j,C[j]))})}switch(typeof y){case"object":if(y===null)break;y._attr&&S(y._attr),y._cdata&&T.push(("<![CDATA["+y._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),y.forEach&&(_=!1,T.push(""),y.forEach(function(C){if(typeof C=="object"){var I=Object.keys(C)[0];I=="_attr"?S(C._attr):T.push(i(C,h,m+1))}else T.pop(),_=!0,T.push(e(C))}),_||T.push(""));break;default:T.push(e(y))}return{name:g,interrupt:b,attributes:E,content:T,icount:m,indents:x,indent:h}}function o(f,h,m){if(typeof h!="object")return f(!1,h);var x=h.interrupt?1:h.content.length;function g(){for(;h.content.length;){var b=h.content.shift();if(b!==void 0){if(y(b))return;o(f,b)}}f(!1,(x>1?h.indents:"")+(h.name?"</"+h.name+">":"")+(h.indent&&!m?`
`:"")),m&&m()}function y(b){return b.interrupt?(b.interrupt.append=f,b.interrupt.end=g,b.interrupt=!1,f(!0),!0):!1}if(f(!1,h.indents+(h.name?"<"+h.name:"")+(h.attributes.length?" "+h.attributes.join(" "):"")+(x?h.name?">":"":h.name?"/>":"")+(h.indent&&x>1?`
`:"")),!x)return f(!1,h.indent?`
`:"");y(h)||g()}function c(f,h){return f+'="'+e(h)+'"'}return Fd.exports=n,Fd.exports.element=Fd.exports.Element=s,Fd.exports}var Exe=wxe();const Nr=wS(Exe),Pd=0,a2=32,_xe=32,Sxe=(e,t)=>{const r=t.replace(/-/g,"");if(r.length!==_xe)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const s=r.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));s.reverse();const i=e.slice(Pd,a2).map((c,f)=>c^s[f%s.length]),o=new Uint8Array(Pd+i.length+Math.max(0,e.length-a2));return o.set(e.slice(0,Pd)),o.set(i,Pd),o.set(e.slice(a2),Pd+i.length),o};class Txe{format(t,r={stack:[]}){const n=t.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class Nxe{replace(t,r,n){let s=t;return r.forEach((a,i)=>{s=s.replace(new RegExp(`{${a.fileName}}`,"g"),(n+i).toString())}),s}getMediaData(t,r){return r.Array.filter(n=>t.search(`{${n.fileName}}`)>0)}}class Axe{replace(t,r){let n=t;for(const s of r)n=n.replace(new RegExp(`{${s.reference}-${s.instance}}`,"g"),s.numId.toString());return n}}class Cxe{constructor(){Fe(this,"formatter"),Fe(this,"imageReplacer"),Fe(this,"numberingReplacer"),this.formatter=new Txe,this.imageReplacer=new Nxe,this.numberingReplacer=new Axe}compile(t,r,n=[]){const s=new vxe,a=this.xmlifyFile(t,r),i=new Map(Object.entries(a));for(const[,o]of i)if(Array.isArray(o))for(const c of o)s.file(c.path,c.data);else s.file(o.path,o.data);for(const o of n)s.file(o.path,o.data);for(const o of t.Media.Array)o.type!=="svg"?s.file(`word/media/${o.fileName}`,o.data):(s.file(`word/media/${o.fileName}`,o.data),s.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:c,fontKey:f}of t.FontTable.fontOptionsWithKey){const[h]=c.split(".");s.file(`word/fonts/${h}.odttf`,Sxe(o,f))}return s}xmlifyFile(t,r){const n=t.Document.Relationships.RelationshipCount+1,s=Nr(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=t.Comments.Relationships.RelationshipCount+1,i=Nr(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(s,t.Media),c=this.imageReplacer.getMediaData(i,t.Media);return{Relationships:{data:(o.forEach((f,h)=>{t.Document.Relationships.createRelationship(n+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Nr(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const f=this.imageReplacer.replace(s,o,n);return this.numberingReplacer.replace(f,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const f=Nr(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(f,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Nr(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Nr(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Nr(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((f,h)=>{const m=Nr(this.formatter.format(f.View,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,t.Media).forEach((g,y)=>{f.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${g.fileName}`)}),{data:Nr(this.formatter.format(f.Relationships,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:t.Footers.map((f,h)=>{const m=Nr(this.formatter.format(f.View,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,t.Media).forEach((g,y)=>{f.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${g.fileName}`)}),{data:Nr(this.formatter.format(f.Relationships,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:t.Headers.map((f,h)=>{const m=Nr(this.formatter.format(f.View,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),x=this.imageReplacer.getMediaData(m,t.Media),g=this.imageReplacer.replace(m,x,0);return{data:this.numberingReplacer.replace(g,t.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:t.Footers.map((f,h)=>{const m=Nr(this.formatter.format(f.View,{viewWrapper:f,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),x=this.imageReplacer.getMediaData(m,t.Media),g=this.imageReplacer.replace(m,x,0);return{data:this.numberingReplacer.replace(g,t.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:Nr(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Nr(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Nr(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Nr(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Nr(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Nr(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const f=this.imageReplacer.replace(i,c,a);return this.numberingReplacer.replace(f,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(c.forEach((f,h)=>{t.Comments.Relationships.createRelationship(a+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),Nr(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Nr(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Nr(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const kxe={WITH_2_BLANKS:"  "},iO=e=>e===!0?kxe.WITH_2_BLANKS:e===!1?void 0:e,CP=class ju{static pack(t,r,n){return rhe(this,arguments,function*(s,a,i,o=[]){return this.compiler.compile(s,iO(i),o).generateAsync({type:a,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,n=[]){return ju.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return ju.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return ju.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return ju.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return ju.pack(t,"arraybuffer",r,n)}static toStream(t,r,n=[]){const s=new gxe.Stream;return this.compiler.compile(t,iO(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(i=>{s.emit("data",i),s.emit("end")}),s}};Fe(CP,"compiler",new Cxe);let Rxe=CP;var Wm={exports:{}},Oxe=Wm.exports,oO;function jxe(){return oO||(oO=1,(function(e,t){(function(r,n){n()})(Oxe,function(){function r(f,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function n(f,h,m){var x=new XMLHttpRequest;x.open("GET",f),x.responseType="blob",x.onload=function(){c(x.response,h,m)},x.onerror=function(){console.error("could not download file")},x.send()}function s(f){var h=new XMLHttpRequest;h.open("HEAD",f,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function a(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(h)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Up=="object"&&Up.global===Up?Up:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(f,h,m){var x=i.URL||i.webkitURL,g=document.createElement("a");h=h||f.name||"download",g.download=h,g.rel="noopener",typeof f=="string"?(g.href=f,g.origin===location.origin?a(g):s(g.href)?n(f,h,m):a(g,g.target="_blank")):(g.href=x.createObjectURL(f),setTimeout(function(){x.revokeObjectURL(g.href)},4e4),setTimeout(function(){a(g)},0))}:"msSaveOrOpenBlob"in navigator?function(f,h,m){if(h=h||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,m),h);else if(s(f))n(f,h,m);else{var x=document.createElement("a");x.href=f,x.target="_blank",setTimeout(function(){a(x)})}}:function(f,h,m,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof f=="string")return n(f,h,m);var g=f.type==="application/octet-stream",y=/constructor/i.test(i.HTMLElement)||i.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||g&&y||o)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var _=w.result;_=b?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=_:location=_,x=null},w.readAsDataURL(f)}else{var E=i.URL||i.webkitURL,T=E.createObjectURL(f);x?x.location=T:location.href=T,x=null,setTimeout(function(){E.revokeObjectURL(T)},4e4)}});i.saveAs=c.saveAs=c,e.exports=c})})(Wm)),Wm.exports}var Dxe=jxe();const Ixe=async(e,t)=>{var i;const r=[];if(t.logoUrl)try{const c=await(await fetch(t.logoUrl)).arrayBuffer();r.push(new lc({children:[new Ype({data:c,transformation:{width:120,height:60}})],alignment:pa.RIGHT}))}catch(o){console.error("Failed to load logo for DOCX",o)}const n=o=>{var c;if(o.type==="paragraph"){const f=(o.content||[]).map(h=>{var m,x,g;return h.type==="text"?new Ql({text:h.text,bold:(m=h.marks)==null?void 0:m.some(y=>y.type==="bold"),italics:(x=h.marks)==null?void 0:x.some(y=>y.type==="italic"),underline:(g=h.marks)!=null&&g.some(y=>y.type==="underline")?{}:void 0,font:"Times New Roman",size:24}):h.type==="hardBreak"?new Ql({break:1}):null}).filter(Boolean);r.push(new lc({children:f,spacing:{after:240,line:360}}))}else if(o.type==="bulletList"||o.type==="orderedList")(c=o.content)==null||c.forEach(f=>{var h;f.type==="listItem"&&((h=f.content)==null||h.forEach(m=>{if(m.type==="paragraph"){const x=(m.content||[]).map(g=>{var y,b,w;return g.type==="text"?new Ql({text:g.text,bold:(y=g.marks)==null?void 0:y.some(E=>E.type==="bold"),italics:(b=g.marks)==null?void 0:b.some(E=>E.type==="italic"),underline:(w=g.marks)!=null&&w.some(E=>E.type==="underline")?{}:void 0,font:"Times New Roman",size:24}):g.type==="hardBreak"?new Ql({break:1}):null}).filter(Boolean);r.push(new lc({children:x,bullet:o.type==="bulletList"?{level:0}:void 0,numbering:o.type==="orderedList"?{reference:"primary-numbering",level:0}:void 0,spacing:{after:120,line:360}}))}}))});else if(o.type==="heading"){const f=(o.content||[]).map(h=>h.type==="text"?new Ql({text:h.text,bold:!0,font:"Times New Roman",size:32-o.attrs.level*2}):null).filter(Boolean);r.push(new lc({children:f,spacing:{before:240,after:120}}))}};(i=e.content)==null||i.forEach(n);const s=new mxe({numbering:{config:[{reference:"primary-numbering",levels:[{level:0,format:"lowerLetter",text:"%1)",alignment:pa.LEFT}]}]},sections:[{children:r}]}),a=await Rxe.toBlob(s);Dxe.saveAs(a,`${t.fileName}.docx`)},Mxe=()=>{const{documentConfig:e,formData:t,setCurrentStep:r,validationErrors:n,resetWorkflow:s}=I_(),a=te.useRef(null),[i,o]=te.useState(!1),[c,f]=te.useState(!1),[h,m]=te.useState(!1),[x,g]=te.useState(!1),[y,b]=te.useState(!1),[w,E]=te.useState(null),[T,_]=te.useState(""),[S,C]=te.useState(!1),[I,j]=te.useState(!1);Ve.useEffect(()=>{const F=setTimeout(()=>{a.current&&(_(a.current.innerHTML),C(!0))},100);return()=>clearTimeout(F)},[]);const q={bg:"#f5f7f9",fg:"#1b2531",muted:"#627383",border:"#d9e0e8",destructive:"#df3a3a",secondaryBg:"#f8fafc"};if(!e)return null;const D=n.length===0,Q=async()=>{if(w){m(!0);try{await Ixe(w,{logoUrl:t.companyLogo,fileName:(()=>{const F=(t.companyName||"Client").toString(),X=(t.contractNumber||"Contract").toString().replace(/\s+/g,"_"),M=e.name.replace(/\s+/g,"_"),se=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-");return`${F}_${X}_${M}_${se}`})()}),b(!0)}catch(F){console.error("Download failed",F)}finally{m(!1)}}},ae=()=>{y?g(!0):Q()};return d.jsxs("div",{className:"min-h-screen p-6 lg:p-10 animate-fade-in",style:{backgroundColor:q.bg},children:[d.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 animate-slide-up",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",style:{color:q.fg},children:"Document Preview"}),d.jsx("p",{className:"font-medium",style:{color:q.muted},children:"Review the generated content and field values before final export."})]})}),!D&&d.jsxs("div",{className:"flex items-center gap-4 p-4 mb-8 rounded-2xl border animate-slide-up",style:{backgroundColor:`${q.destructive}0D`,borderColor:`${q.destructive}40`},children:[d.jsx("div",{className:"p-2 rounded-xl bg-white shadow-sm",children:d.jsx(u0,{className:"w-5 h-5",style:{color:q.destructive},strokeWidth:2.5})}),d.jsx("span",{className:"text-sm font-bold",style:{color:q.fg},children:"Warning: Some required fields are missing or invalid. Please fix them before generating."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white  shadow-sm border border-transparent overflow-hidden animate-slide-up",children:[d.jsx("div",{className:"px-6 py-5.5 border-b",style:{backgroundColor:q.secondaryBg,borderColor:q.border},children:d.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:q.muted},children:"Field Summary"})}),d.jsx("div",{className:"p-6 max-h-288.75 overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.fields.map(F=>d.jsxs("div",{className:"group",children:[d.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest mb-1",style:{color:q.muted},children:F.label}),d.jsx("p",{className:"text-sm font-bold truncate",style:{color:q.fg},children:t[F.id]||d.jsx("span",{className:"opacity-30",children:""})}),d.jsx("div",{className:"h-px w-full mt-3",style:{backgroundColor:q.bg}})]},F.id))})})]}),d.jsxs("div",{className:"lg:col-span-3 bg-white shadow-sm border border-transparent overflow-hidden animate-slide-up",children:[d.jsxs("div",{className:"px-8 py-3 border-b flex items-center justify-between gap-3",style:{backgroundColor:q.secondaryBg,borderColor:q.border},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qn,{className:"w-5 h-5 text-[#3399cc]"}),d.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:q.muted},children:"Preview"})]}),d.jsx("button",{onClick:()=>j(!I),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl transition-all active:scale-95 font-bold text-sm shadow-sm
            ${I?"btn-primary":"bg-white text-slate-600 border border-slate-300 hover:bg-slate-50 hover:text-slate-900"}`,children:I?d.jsxs(d.Fragment,{children:[d.jsx($s,{className:"w-4 h-4"}),"Done"]}):d.jsxs(d.Fragment,{children:[d.jsx(bG,{className:"w-4 h-4"}),"Edit"]})})]}),d.jsxs("div",{className:"p-0 relative",children:[!S&&d.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-white/50 backdrop-blur-sm",children:d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#24548f]"}),d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Preparing Editor..."})]})}),d.jsx("div",{ref:a,className:"hidden",children:d.jsx(Zse,{documentId:e.id,data:{...t,submissionDate:new Date().toLocaleDateString("en-US"),gsaOfficeCityStateZip:`${t.gsaOfficeCity||""}, ${t.gsaOfficeState||""}, ${t.gsaOfficeZip||""}`}})}),S&&T&&d.jsx(Yde,{content:T,onChange:F=>E(F),editable:I})]})]})]}),d.jsxs("div",{className:"mt-10 flex items-center justify-between pb-10 animate-slide-up",children:[d.jsxs("button",{onClick:()=>r("form-entry"),className:"flex items-center gap-2 px-6 py-3 rounded-xl border border-slate-200 bg-white text-slate-600 text-sm font-bold transition-all hover:bg-slate-50 active:scale-95 shadow-sm hover:text-slate-900",children:[d.jsx(co,{className:"w-4 h-4",strokeWidth:3}),"Back to Form"]}),d.jsx("button",{onClick:()=>c?ae():o(!0),disabled:h||I,className:"btn-primary",children:h?"Processing...":d.jsxs(d.Fragment,{children:[d.jsx(eg,{className:"w-4 h-4",strokeWidth:3}),"Download Cover Letter"]})})]}),i&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 ",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 space-y-5 animate-in fade-in zoom-in",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx($s,{className:"w-5 h-5 text-[#3399cc]"}),d.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ready to generate ?"})]}),d.jsx("p",{className:"text-sm text-slate-600",children:"Please ensure all field values are accurate. This will finalize the formatting and download the document."}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{className:"px-4 py-2 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-100 transition-colors",onClick:()=>o(!1),children:"Cancel"}),d.jsx("button",{className:"px-4 py-2 rounded-xl text-sm font-semibold bg-[#3399cc] text-white hover:bg-[#287ab0] transition-colors",onClick:async()=>{o(!1),f(!0),await Q()},children:"Confirm & Download"})]})]})}),x&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 ",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 space-y-5 animate-in fade-in zoom-in",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(eg,{className:"w-6 h-6 text-amber-500"}),d.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Download Again?"})]}),d.jsx("p",{className:"text-sm text-slate-600",children:"You have already downloaded this document recently. Would you like to download a new copy?"}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{className:"px-4 py-2 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-100 transition-colors",onClick:()=>g(!1),children:"Cancel"}),d.jsx("button",{className:"px-4 py-2 rounded-xl text-sm font-semibold bg-amber-500 text-white hover:bg-amber-600 transition-colors",onClick:()=>{g(!1),Q()},children:"Yes, Download Again"})]})]})})]})},Fxe=()=>{const{currentStep:e,selectedDocumentType:t,loadDocumentConfig:r,setCurrentStep:n,analysisSummary:s}=I_(),[a]=$j(),{selectedJobId:i,setSelectedJobId:o}=Mx(),c=a.get("job_id"),f=c?Number(c):i;te.useEffect(()=>{c&&Number(c)!==i&&o(Number(c))},[c,i,o]),te.useEffect(()=>{!t&&Bm.length>0&&(r(Bm[0].id,f||void 0),n("form-entry"))},[t,r,f,n]);const h=g=>{r(g,f||void 0),n("form-entry")},x=!f||!t||!s?null:{"add-product":Number(s.products_added||0),"delete-product":Number(s.products_deleted||0),"price-increase":Number(s.price_increased||0),"price-decrease":Number(s.price_decreased||0),"description-change":Number(s.description_changed||0)}[t]===0?`No ${{"add-product":"additions","delete-product":"deletions","price-increase":"price increases","price-decrease":"price decreases","description-change":"description changes"}[t]||"modifications"} were detected in the analysis for this document type.`:null;return e==="preview"?d.jsx(Mxe,{}):d.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6 lg:p-10 space-y-8 animate-fade-in",children:d.jsxs("div",{className:"mx-auto  space-y-10",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Generate Documents"}),d.jsx("p",{className:"text-slate-500 font-medium",children:"Select a document type to pre-fill and generate"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Bm.map(g=>{const y={"add-product":Number((s==null?void 0:s.products_added)||0),"delete-product":Number((s==null?void 0:s.products_deleted)||0),"price-increase":Number((s==null?void 0:s.price_increased)||0),"price-decrease":Number((s==null?void 0:s.price_decreased)||0),"description-change":Number((s==null?void 0:s.description_changed)||0)};return d.jsx(Vse,{config:g,isSelected:t===g.id,onSelect:()=>h(g.id),count:s?y[g.id]??0:void 0,variant:"horizontal"},g.id)})}),d.jsx("div",{className:"pt-2",children:e==="load-config"?d.jsxs("div",{className:"py-20 text-center bg-white rounded-3xl border border-slate-200",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin m-auto text-[#24548f]"}),d.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading configuration..."})]}):x?d.jsxs("div",{className:"py-24 text-center bg-white rounded-3xl border border-slate-200 shadow-sm animate-fade-in",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No Modifications Found"}),d.jsx("p",{className:"text-slate-500 font-medium max-w-md m-auto px-6 whitespace-pre-line",children:x})]}):d.jsx($se,{})})]})})};function Pxe({onDownloadHistory:e}){return d.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-12 mx-auto",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Analysis History"}),d.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"View and manage all past price list analyses"})]})})}function Lxe({searchQuery:e,setSearchQuery:t,clientFilter:r,setClientFilter:n,statusFilter:s,setStatusFilter:a,dateFrom:i,setDateFrom:o,dateTo:c,setDateTo:f,clients:h,onClearFilters:m,isLoading:x=!1}){var b;const g=r==="All"?0:((b=h.find(w=>w.company_name===r))==null?void 0:b.client_id)??0,y=w=>{if(w===0)n("All");else{const E=h.find(T=>T.client_id===w);n((E==null?void 0:E.company_name)??"All")}};return d.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(UW,{className:"w-4 h-4 text-[#3399cc]"}),d.jsx("h2",{className:"text-sm font-bold text-slate-800",children:"Filters"})]}),d.jsx("button",{onClick:m,className:"text-sm font-semibold text-[#3399cc] hover:underline",children:"Clear all"})]}),d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400",children:"Search"}),d.jsxs("div",{className:"relative",children:[d.jsx(jc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{value:e,onChange:w=>t(w.target.value),placeholder:"Search by client, contract, or Analyst...",className:"w-full pl-11 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/20 outline-none transition-all text-sm font-medium"})]})]}),d.jsxs("div",{className:"space-y-1 overflow-visible",children:[d.jsx("label",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400",children:"Client"}),x?d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-xl",children:[d.jsx(Wt,{className:"w-4 h-4 animate-spin text-[#24578f]"}),d.jsx("span",{className:"text-slate-500 text-xs font-medium",children:"Fetching..."})]}):d.jsx(Ix,{clients:h,selectedClient:g,onClientSelect:y,allowAll:!0,allLabel:"All Clients",placeholder:"Filter by client...",compact:!0})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400",children:"Status"}),d.jsxs("div",{className:"relative",children:[d.jsx($s,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsxs("select",{value:s,onChange:w=>a(w.target.value),className:"w-full text-slate-500 appearance-none pl-11 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/20 outline-none transition-all text-sm font-medium",children:[d.jsx("option",{value:"All",children:"All Status"}),d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"approved",children:"Approved"}),d.jsx("option",{value:"rejected",children:"Rejected"})]}),d.jsx(YE,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400",children:"Date Range"}),d.jsxs("div",{className:"flex flex-col gap-2 2xl:flex-row",children:[d.jsx("div",{className:"relative flex-1",children:d.jsx("input",{type:"date",value:i?i.toISOString().split("T")[0]:"",onChange:w=>o(w.target.value?new Date(w.target.value):void 0),className:"w-full text-slate-500 px-4 pr-3 py-3 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/20  outline-none transition-all text-sm font-medium"})}),d.jsx("div",{className:"relative flex-1",children:d.jsx("input",{type:"date",value:c?c.toISOString().split("T")[0]:"",onChange:w=>f(w.target.value?new Date(w.target.value):void 0),className:"w-full text-slate-500 px-4 pr-3 py-3 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/20  outline-none transition-all text-sm font-medium"})})]})]})]})})]})}function lO({summary:e,hasModifications:t}){return d.jsxs("div",{className:"flex items-center gap-2 text-xs flex-wrap",children:[e.additions>0&&d.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 font-bold",children:[d.jsx(Nx,{className:"w-3 h-3"}),e.additions]}),e.deletions>0&&d.jsxs("span",{className:"flex items-center gap-1 text-red-500 font-bold",children:[d.jsx(Yj,{className:"w-3 h-3"}),e.deletions]}),e.priceIncreases>0&&d.jsxs("span",{className:"flex items-center gap-1 text-amber-600 font-bold",children:[d.jsx(c0,{className:"w-3 h-3"}),e.priceIncreases]}),e.priceDecreases>0&&d.jsxs("span",{className:"flex items-center gap-1 text-cyan-600 font-bold",children:[d.jsx(l0,{className:"w-3 h-3"}),e.priceDecreases]}),e.descriptionChanges>0&&d.jsxs("span",{className:"flex items-center gap-1 text-blue-600 font-bold",children:[d.jsx(Sf,{className:"w-3 h-3"}),e.descriptionChanges]}),!t&&d.jsx("span",{className:"text-slate-400 text-xs italic",children:"No modifications"})]})}function cO({item:e,updatingId:t,onUpdateStatus:r,onClose:n,openUpwards:s=!1}){const a=rn(),{setSelectedJobId:i}=Mx(),o=c=>{a(`/documents?job_id=${c}`)};return d.jsxs("div",{className:`absolute right-0 ${s?"bottom-full mb-2":"top-full mt-2"} w-48 bg-white border border-slate-200 rounded-xl shadow-xl z-50 py-2 animate-in fade-in zoom-in duration-100`,onClick:c=>c.stopPropagation(),children:[d.jsxs("button",{onClick:c=>{c.stopPropagation(),a(`/analyses/details?id=${e.job_id}`)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors font-medium",children:[d.jsx(ll,{className:"w-4 h-4 text-[#38A1DB]"}),"View Details"]}),d.jsxs("button",{onClick:c=>{c.stopPropagation(),o(e.job_id)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors font-medium",children:[d.jsx(qn,{className:"w-4 h-4 text-[#38A1DB]"}),"Generate Docs"]}),r_(e.status)==="pending"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"my-1 border-t border-slate-100"}),d.jsxs("button",{onClick:c=>{c.stopPropagation(),r(e.job_id,"approve"),n()},disabled:t===e.job_id,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-emerald-600 hover:bg-emerald-50 transition-colors font-semibold disabled:opacity-50",children:[t===e.job_id?d.jsx(Wt,{className:"w-4 h-4 animate-spin"}):d.jsx($s,{className:"w-4 h-4"}),"Approve Analysis"]}),d.jsxs("button",{onClick:c=>{c.stopPropagation(),r(e.job_id,"reject"),n()},disabled:t===e.job_id,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-rose-600 hover:bg-rose-50 transition-colors font-semibold disabled:opacity-50",children:[t===e.job_id?d.jsx(Wt,{className:"w-4 h-4 animate-spin"}):d.jsx(Sx,{className:"w-4 h-4"}),"Reject Analysis"]})]})]})}function Bxe({analysisHistory:e,totalItems:t,loading:r,currentPage:n,setCurrentPage:s,itemsPerPage:a,sortConfig:i,onSort:o,updatingId:c,onUpdateStatus:f}){const h=rn(),{setSelectedJobId:m}=Mx(),[x,g]=te.useState(null);return te.useEffect(()=>{const y=()=>g(null);return window.addEventListener("click",y),()=>window.removeEventListener("click",y)},[]),d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[d.jsxs("div",{className:"hidden lg:block overflow-x-auto",children:[d.jsx("div",{className:"",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Analysis ID"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Client"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Modifications"}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>o("date"),children:d.jsx("div",{className:"flex items-center gap-1",children:"Date & Time"})}),d.jsx("th",{className:"text-left px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Analyzed By"}),d.jsx("th",{className:"text-right px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{children:r?d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading Analysis History..."})]})})}):e.length===0?d.jsx("tr",{children:d.jsxs("td",{colSpan:7,className:"p-12 text-center",children:[d.jsx(qn,{className:"w-12 h-12 mx-auto text-slate-300 mb-4"}),d.jsx("p",{className:"font-bold text-slate-500 mb-2",children:"No analyses found"})]})}):e.map(y=>{const b=y.summary.additions>0||y.summary.deletions>0||y.summary.priceIncreases>0||y.summary.priceDecreases>0||y.summary.descriptionChanges>0;return d.jsxs("tr",{onClick:()=>{h(`/analyses/details?id=${y.job_id}`)},className:"cursor-pointer group border-b border-slate-50 hover:bg-slate-50/50 transition-colors",children:[d.jsx("td",{className:"p-4",children:d.jsxs("span",{className:"font-bold text-slate-800 text-sm group-hover:text-[#38A1DB] transition-colors",children:["ANAL-JOB-",y.job_id]})}),d.jsx("td",{className:"p-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`shrink-0 w-9 h-9 rounded-xl border border-slate-200 flex items-center justify-center text-white font-bold text-xs shadow-sm overflow-hidden ${y.client_logo_url?"bg-white":"bg-linear-to-br from-[#3399cc] to-[#2980b9]"}`,children:y.client_logo_url?d.jsx("img",{src:y.client_logo_url,alt:y.client||"Client",className:"w-full h-full object-contain"}):y.client?y.client.substring(0,2).toUpperCase():d.jsx(qs,{className:"h-4 w-4"})}),d.jsxs("div",{className:"leading-tight",children:[d.jsx("span",{className:"block text-sm uppercase font-semibold text-slate-800",children:y.client||""}),d.jsx("span",{className:"text-[12px] font-medium text-slate-500",children:y.contract_number||"No Contract"})]})]})}),d.jsx("td",{className:"p-4",children:d.jsx("span",{className:"text-slate-500 font-medium text-sm",children:d.jsx($a,{status:y.status})})}),d.jsx("td",{className:"p-4",children:d.jsx(lO,{summary:y.summary,hasModifications:b})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[d.jsx(Ec,{className:"w-3.5 h-3.5 text-slate-400"}),d.jsx("div",{className:"leading-tight",children:d.jsx("div",{className:"text-sm font-medium",children:v3(y.created_time)})})]})}),d.jsx("td",{className:"p-4",children:d.jsx("span",{className:"px-2 text-slate-500 text-sm transition-colors",children:y.user})}),d.jsx("td",{className:"p-4",children:d.jsx("div",{className:"flex justify-end",children:d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:w=>{w.stopPropagation(),g(x===y.job_id?null:y.job_id)},className:"p-2 hover:bg-slate-200 rounded-xl transition-colors text-slate-500",children:d.jsx(Ku,{className:"w-5 h-5"})}),x===y.job_id&&d.jsx(cO,{item:y,updatingId:c,onUpdateStatus:f,onClose:()=>g(null),openUpwards:e.indexOf(y)>=e.length-3})]})})})]},y.job_id)})})]})}),d.jsx(yl,{currentPage:n,totalItems:t,itemsPerPage:a,onPageChange:s,label:"analyses"})]}),d.jsxs("div",{className:"block lg:hidden",children:[r?d.jsx("div",{className:"py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading Analysis History..."})]})}):e.length===0?d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(qn,{className:"w-12 h-12 mx-auto text-slate-300 mb-4"}),d.jsx("p",{className:"font-bold text-slate-500 mb-2",children:"No analyses found"})]}):d.jsx("div",{className:"divide-y divide-slate-100",children:e.map(y=>{const b=y.summary.additions>0||y.summary.deletions>0||y.summary.priceIncreases>0||y.summary.priceDecreases>0||y.summary.descriptionChanges>0;return d.jsxs("div",{onClick:()=>{h(`/analyses/details?id=${y.job_id}`)},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"font-bold text-slate-800 text-sm mb-1",children:["ANAL-JOB-",y.job_id]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[d.jsx(Ec,{className:"w-3 h-3"}),d.jsx("span",{children:v3(y.created_time)})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($a,{status:y.status}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:w=>{w.stopPropagation(),g(x===y.job_id?null:y.job_id)},className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500",children:d.jsx(Ku,{className:"w-5 h-5"})}),x===y.job_id&&d.jsx(cO,{item:y,updatingId:c,onUpdateStatus:f,onClose:()=>g(null),openUpwards:e.indexOf(y)>=e.length-3})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:`shrink-0 w-10 h-10 rounded-xl border border-slate-200 flex items-center justify-center text-white font-bold text-sm shadow-sm overflow-hidden ${y.client_logo_url?"bg-white":"bg-linear-to-br from-[#3399cc] to-[#2980b9]"}`,children:y.client_logo_url?d.jsx("img",{src:y.client_logo_url,alt:y.client||"Client",className:"w-full h-full object-contain"}):y.client?y.client.substring(0,2).toUpperCase():d.jsx(qs,{className:"h-5 w-5"})}),d.jsxs("div",{className:"leading-tight min-w-0 flex-1",children:[d.jsx("div",{className:"font-semibold text-slate-800 truncate",children:y.client||""}),d.jsx("div",{className:"text-xs font-medium text-slate-500 truncate",children:y.contract_number||"No Contract"})]})]}),d.jsx("div",{className:"mb-2",children:d.jsx(lO,{summary:y.summary,hasModifications:b})}),d.jsxs("div",{className:"text-xs text-slate-500",children:["Analyzed by"," ",d.jsx("span",{className:"font-medium text-slate-700",children:y.user})]})]},y.job_id)})}),d.jsx(yl,{currentPage:n,totalItems:t,itemsPerPage:a,onPageChange:s,label:"analyses"})]})]})}function Uxe(){var O,W,K,re;const e=rn(),[t,r]=te.useState(""),n=t_(t,500),[s,a]=te.useState("All"),[i,o]=te.useState("All"),[c,f]=te.useState(void 0),[h,m]=te.useState(void 0),[x,g]=te.useState(1),y=50,[b,w]=te.useState([]),[E,T]=te.useState(0),[_,S]=te.useState(null),[C,I]=te.useState(!0),[j,q]=te.useState(!0),[D,Q]=te.useState({key:"date",direction:"desc"}),[ae,F]=te.useState({isOpen:!1,job:null,action:"approve"}),[X,M]=te.useState([]),se=async()=>{try{q(!0);const Y=await Tt.get("clients/approved");M(Y.data)}catch(Y){console.error("Failed to fetch clients:",Y)}finally{q(!1)}},J=async()=>{var Y;try{I(!0);const P=await lh({page:x,page_size:y,search:n||void 0,client_id:i==="All"||(Y=X.find(oe=>oe.company_name===i))==null?void 0:Y.client_id,status:s==="All"?void 0:s,date_from:c==null?void 0:c.toISOString(),date_to:h==null?void 0:h.toISOString()}),L=P.items.map(oe=>({...oe,summary:D_(oe.action_summary)}));w(L),T(P.total)}catch(P){console.error("Failed to fetch analysis history:",P),kt.error("Failed to load analysis history")}finally{I(!1)}};te.useEffect(()=>{se()},[]),te.useEffect(()=>{J()},[x,n,i,s,c,h]),te.useEffect(()=>{g(1)},[n,i,s,c,h]);const Z=(Y,P)=>{const L=b.find(oe=>oe.job_id===Y);L&&F({isOpen:!0,job:L,action:P})},ge=async()=>{if(!ae.job)return;const{job:Y,action:P}=ae,L=Y.job_id;try{S(L),P==="approve"?await Ase(L):await Cse(L),kt.success(`Analysis ${P==="approve"?"approved":"rejected"} successfully`),w(oe=>oe.map(ee=>ee.job_id===L?{...ee,status:P==="approve"?"approved":"rejected"}:ee)),F({...ae,isOpen:!1})}catch(oe){console.error("Status update failed:",oe),kt.error(oe.message||"Failed to update status")}finally{S(null)}},ie=Y=>{Q(P=>P.key===Y?{key:Y,direction:P.direction==="asc"?"desc":"asc"}:{key:Y,direction:"asc"})},Ee=()=>{r(""),o("All"),a("All"),f(void 0),m(void 0)},G=()=>{e("/downloads")};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-4 md:p-6 lg:p-10 space-y-6 lg:space-y-10",children:[d.jsx(vl,{isOpen:ae.isOpen,onClose:()=>F({...ae,isOpen:!1}),onConfirm:ge,title:`Confirm ${ae.action==="approve"?"Approval":"Rejection"}`,message:d.jsxs(d.Fragment,{children:["Are you sure you want to ",ae.action," ",d.jsxs("span",{className:"font-bold text-slate-700",children:["ANAL-JOB-",(O=ae.job)==null?void 0:O.job_id]}),"?"]}),details:[{label:"Client",value:((W=ae.job)==null?void 0:W.client)||""},{label:"Contract",value:((K=ae.job)==null?void 0:K.contract_number)||""}],warning:{message:ae.action==="approve"?"This will approve the analysis and update the product catalog. This action cannot be undone.":"This will reject the analysis and the product catalog wont be updated. This action cannot be undone.",type:ae.action==="approve"?"emerald":"rose"},variant:ae.action==="approve"?"emerald":"rose",confirmText:ae.action==="approve"?"Approve":"Reject",isSubmitting:_===((re=ae.job)==null?void 0:re.job_id)}),d.jsx(Pxe,{onDownloadHistory:G}),d.jsx(Lxe,{searchQuery:t,setSearchQuery:r,clientFilter:i,setClientFilter:o,statusFilter:s,setStatusFilter:a,dateFrom:c,setDateFrom:f,dateTo:h,setDateTo:m,clients:X,onClearFilters:Ee,isLoading:j}),d.jsx(Bxe,{analysisHistory:b,totalItems:E,loading:C,currentPage:x,setCurrentPage:g,itemsPerPage:y,sortConfig:D,onSort:ie,updatingId:_,onUpdateStatus:Z})]})}const Ps=({className:e})=>d.jsx("div",{className:`animate-pulse bg-slate-200 rounded-md ${e}`});function zxe(){var S;const e=rn(),{user:t}=Ga(),[r,n]=te.useState([]),[s,a]=te.useState([]),[i,o]=te.useState(!0),[c,f]=te.useState(0),[h,m]=te.useState(0),[x,g]=te.useState(0),y={bg:"#f5f7f9",fg:"#1b2531",primary:"#24548f",muted:"#627383",border:"#d9e0e8",success:"#33b17d",warning:"#f9ab20",destructive:"#df3a3a",secondaryBg:"#f8fafc"};te.useEffect(()=>{b()},[]);const b=async()=>{try{o(!0);const[C,I,j,q,D]=await Promise.all([Tt.get("clients"),lh({page:1,page_size:5}),lh({status:"approved",page:1,page_size:1}),lh({status:"pending",page:1,page_size:1}),Zd.getAllProducts({page:1,page_size:1})]);n(C.data),a(I.items||[]),f(j.total||0),m(q.total||0),g(D.total||0)}catch(C){console.error("Error fetching data:",C)}finally{o(!1)}},E={totalClients:r.length,completedJobs:c,pendingJobs:h},T=[{label:"All Clients",value:E.totalClients.toString(),icon:qs},{label:"Analyses Completed",value:E.completedJobs.toString(),icon:tg},{label:"Pending Reviews",value:E.pendingJobs.toString(),icon:Ec},{label:"Total Products",value:x.toLocaleString(),icon:rg}],_=s.sort((C,I)=>new Date(I.created_time).getTime()-new Date(C.created_time).getTime()).slice(0,5).map(C=>{var I,j,q,D,Q;return{id:C.job_id,client:C.client,contract:C.contract_number,status:C.status,add:((I=C.action_summary)==null?void 0:I.NEW_PRODUCT)||0,del:((j=C.action_summary)==null?void 0:j.REMOVED_PRODUCT)||0,incr:((q=C.action_summary)==null?void 0:q.PRICE_INCREASE)||0,decr:((D=C.action_summary)==null?void 0:D.PRICE_DECREASE)||0,desc:((Q=C.action_summary)==null?void 0:Q.DESCRIPTION_CHANGE)||0}});return d.jsxs("div",{className:"min-h-screen p-6 lg:p-10 animate-fade-in",style:{backgroundColor:y.bg},children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 animate-slide-up",children:[d.jsx("div",{className:"space-y-1",children:i?d.jsxs(d.Fragment,{children:[d.jsx(Ps,{className:"h-9 w-48 mb-2"}),d.jsx(Ps,{className:"h-5 w-64"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight",style:{color:y.fg},children:["Welcome, ",((S=t==null?void 0:t.name)==null?void 0:S.split(" ")[0])||"Guest"]}),d.jsx("p",{className:"font-medium",style:{color:y.muted},children:"Overview of clients and recent analyses."})]})}),!i&&d.jsxs("button",{onClick:()=>e("/pricelist-analysis"),className:"btn-primary",children:[d.jsx(tg,{className:"w-4 h-4"}),"New Analysis"]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 animate-slide-up",children:i?Array(4).fill(0).map((C,I)=>d.jsxs("div",{className:"bg-white p-6 rounded-2xl h-32 flex flex-col justify-between",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(Ps,{className:"h-3 w-20"}),d.jsx(Ps,{className:"h-10 w-10 rounded-xl"})]}),d.jsx(Ps,{className:"h-8 w-12"})]},I)):T.map(C=>d.jsxs("div",{className:"bg-white p-6 flex flex-col justify-between rounded-2xl transition-all hover:shadow-lg ",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest",style:{color:y.muted},children:C.label}),d.jsx("div",{className:"p-2.5 rounded-xl",style:{backgroundColor:y.secondaryBg},children:d.jsx(C.icon,{className:"w-5 h-5 text-[#24548f]",strokeWidth:2.5})})]}),d.jsx("div",{children:d.jsx("div",{className:"text-3xl font-black tracking-tighter mb-1",style:{color:y.fg},children:C.value})})]},C.label))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-2xl animate-slide-up shadow-sm ",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-extrabold",style:{color:y.fg},children:"Recent Analyses"}),d.jsx("p",{className:"text-sm font-medium",style:{color:y.muted},children:"Latest price modifications tracked"})]}),!i&&d.jsx("button",{onClick:()=>e("/analyses"),className:"text-sm font-bold transition-colors",style:{color:y.muted},children:"View all"})]}),d.jsx("div",{className:"space-y-3",children:i?Array(5).fill(0).map((C,I)=>d.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl border border-transparent bg-slate-50/50",children:[d.jsx(Ps,{className:"w-12 h-12 rounded-xl shrink-0"}),d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx(Ps,{className:"h-4 w-32"}),d.jsx(Ps,{className:"h-3 w-20"})]}),d.jsxs("div",{className:"hidden sm:flex gap-4",children:[d.jsx(Ps,{className:"h-8 w-8"}),d.jsx(Ps,{className:"h-8 w-8"}),d.jsx(Ps,{className:"h-8 w-8"})]}),d.jsx(Ps,{className:"h-6 w-20 rounded-full"})]},I)):d.jsxs(d.Fragment,{children:[_.map(C=>d.jsxs("div",{onClick:()=>{e(`/analyses/details?id=${C.id}`)},className:"group flex items-center gap-4 p-4 rounded-2xl border border-transparent hover:shadow-sm transition-all cursor-pointer",style:{backgroundColor:`${y.bg}80`},children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-white border flex items-center justify-center shrink-0 shadow-sm group-hover:scale-105 transition-transform",style:{borderColor:y.border},children:d.jsx(qn,{className:"w-5 h-5",style:{color:y.primary}})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-bold truncate",style:{color:y.fg},children:C.client}),d.jsx("p",{className:"text-xs font-bold",style:{color:y.muted},children:C.contract})]}),d.jsxs("div",{className:"hidden sm:flex items-center gap-6 px-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:y.muted},children:"Add"}),d.jsxs("p",{className:"text-sm font-black",style:{color:y.success},children:["+",C.add]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:y.muted},children:"Del"}),d.jsxs("p",{className:"text-sm font-black",style:{color:y.destructive},children:["-",C.del]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:y.muted},children:"Incr"}),d.jsxs("p",{className:"flex items-center gap-1 text-amber-600 text-sm font-bold",children:[d.jsx(c0,{className:"w-3 h-3"}),C.incr]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:y.muted},children:"Decr"}),d.jsxs("p",{className:"flex items-center gap-1 text-blue-600 text-sm font-bold",children:[d.jsx(l0,{className:"w-3 h-3"}),C.decr]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:y.muted},children:"Desc"}),d.jsxs("p",{className:"flex items-center gap-1 text-indigo-600 text-sm font-bold",children:[d.jsx(Sf,{className:"w-3 h-3"}),C.desc]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx($a,{status:C.status}),d.jsx(jn,{className:"w-4 h-4",style:{color:y.border}})]})]},C.id)),_.length===0&&d.jsx("p",{className:"text-center py-8",style:{color:y.muted},children:"No analyses found"})]})})]}),d.jsxs("div",{className:"space-y-8 animate-slide-in-right",children:[d.jsxs("div",{className:"rounded-4xl p-8 shadow-xl text-white",style:{backgroundColor:y.primary},children:[d.jsx("h2",{className:"text-xl font-bold mb-1",children:"Quick Actions"}),d.jsx("p",{className:"text-xs font-medium mb-6 opacity-70",children:"Perform common tasks"}),d.jsx("div",{className:"space-y-3",children:[{label:"Manage Client Profiles",icon:qn,to:"/client-profiles"},{label:"View Products List",icon:rg,to:"/gsa-products"},{label:"Upload Product Catalog",icon:xl,to:"/gsa-products/upload"}].map(C=>d.jsxs("button",{onClick:()=>e(C.to),className:"w-full flex items-center gap-3 p-4 rounded-xl transition-all group font-bold text-sm text-left border border-white/10 bg-white/10 hover:bg-white hover:text-slate-900",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-white/10",children:d.jsx(C.icon,{className:"w-4 h-4"})}),C.label]},C.label))})]}),d.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm ",children:[d.jsx("h3",{className:"text-xs font-black uppercase tracking-widest mb-6",style:{color:y.muted},children:"Clients Overview"}),d.jsx("div",{className:"space-y-5",children:[{label:"Active",key:"approved",color:y.success},{label:"Pending",key:"pending",color:y.warning},{label:"Rejected",key:"rejected",color:y.destructive}].map(C=>d.jsxs("div",{className:"flex items-center justify-between group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:C.color}}),d.jsx("span",{className:"text-sm font-bold",style:{color:y.fg},children:C.label})]}),i?d.jsx(Ps,{className:"h-4 w-6"}):d.jsx("span",{className:"text-sm font-black",style:{color:y.fg},children:r.filter(I=>I.status===C.key).length})]},C.label))})]})]})]})]})}const Kr=({className:e})=>d.jsx("div",{className:`animate-pulse bg-slate-200 rounded-md ${e}`});function Hxe(){var _;const e=rn(),{user:t}=Ga(),[r,n]=te.useState([]),[s,a]=te.useState([]),[i,o]=te.useState([]),[c,f]=te.useState(!0),[h,m]=te.useState("users"),x={bg:"#f5f7f9",fg:"#1b2531",primary:"#24548f",muted:"#627383",border:"#d9e0e8",success:"#33b17d",destructive:"#df3a3a",secondaryBg:"#f8fafc"};te.useEffect(()=>{g()},[]);const g=async()=>{try{f(!0);const[S,C,I]=await Promise.all([Tt.get("/users/all"),Tt.get("/clients"),lh({page:1,page_size:5})]);n(Array.isArray(S.data)?S.data:[]),a(Array.isArray(C.data)?C.data:[]),o(I.items||[])}catch(S){console.error("Error fetching dashboard data:",S)}finally{f(!1)}},y=r.filter(S=>!S.is_active&&!S.is_deleted).slice(0,2),b=s.filter(S=>S.status==="pending").slice(0,2),w=i.filter(S=>S.status==="pending").length;i.filter(S=>S.status==="approved").length;const E=[{label:"Pending User Requests",value:r.filter(S=>!S.is_active&&!S.is_deleted).length.toString(),icon:sK},{label:"Pending Client Reviews",value:s.filter(S=>S.status==="pending").length.toString(),icon:qs},{label:"Pending Analyses",value:w.toString(),icon:Ec},{label:"Active Clients",value:s.filter(S=>S.status==="approved").length.toString(),icon:$s}],T=i.sort((S,C)=>new Date(C.created_time).getTime()-new Date(S.created_time).getTime()).slice(0,5).map(S=>{var C,I,j,q,D;return{id:S.job_id,client:S.client,contract:S.contract_number,status:S.status,add:((C=S.action_summary)==null?void 0:C.NEW_PRODUCT)||0,del:((I=S.action_summary)==null?void 0:I.REMOVED_PRODUCT)||0,incr:((j=S.action_summary)==null?void 0:j.PRICE_INCREASE)||0,decr:((q=S.action_summary)==null?void 0:q.PRICE_DECREASE)||0,desc:((D=S.action_summary)==null?void 0:D.DESCRIPTION_CHANGE)||0}});return d.jsxs("div",{className:"min-h-screen p-6 lg:p-10 animate-fade-in",style:{backgroundColor:x.bg},children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 animate-slide-up",children:[d.jsx("div",{className:"space-y-1",children:c?d.jsxs(d.Fragment,{children:[d.jsx(Kr,{className:"h-9 w-48 mb-2"}),d.jsx(Kr,{className:"h-5 w-64"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight",style:{color:x.fg},children:["Welcome, ",((_=t==null?void 0:t.name)==null?void 0:_.split(" ")[0])||"Guest"]}),d.jsx("p",{className:"font-medium",style:{color:x.muted},children:"Overview of platform users and recent analyses."})]})}),!c&&d.jsxs("button",{onClick:()=>e("/pricelist-analysis"),className:"btn-primary",children:[d.jsx(tg,{className:"w-4 h-4"}),"New Analysis"]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 animate-slide-up",children:c?Array(4).fill(0).map((S,C)=>d.jsxs("div",{className:"bg-white p-6 rounded-2xl h-32 flex flex-col justify-between",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(Kr,{className:"h-3 w-20"}),d.jsx(Kr,{className:"h-10 w-10 rounded-xl"})]}),d.jsx(Kr,{className:"h-8 w-12"})]},C)):E.map(S=>d.jsxs("div",{className:"bg-white p-6 flex flex-col justify-between rounded-2xl transition-all hover:shadow-lg ",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest",style:{color:x.muted},children:S.label}),d.jsx("div",{className:"p-2.5 rounded-xl",style:{backgroundColor:x.secondaryBg},children:d.jsx(S.icon,{className:"w-5 h-5 text-[#24548f]",strokeWidth:2.5})})]}),d.jsx("div",{children:d.jsx("div",{className:"text-3xl font-black tracking-tighter mb-1",style:{color:x.fg},children:S.value})})]},S.label))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-2xl animate-slide-up shadow-sm ",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-extrabold",style:{color:x.fg},children:"Recent Analyses"}),d.jsx("p",{className:"text-sm font-medium",style:{color:x.muted},children:"Latest price modifications tracked"})]}),!c&&d.jsx("button",{onClick:()=>e("/analyses"),className:"text-sm font-bold transition-colors",style:{color:x.muted},children:"View all"})]}),d.jsx("div",{className:"space-y-3",children:c?Array(5).fill(0).map((S,C)=>d.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl border border-transparent bg-slate-50/50",children:[d.jsx(Kr,{className:"w-12 h-12 rounded-xl shrink-0"}),d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx(Kr,{className:"h-4 w-32"}),d.jsx(Kr,{className:"h-3 w-20"})]}),d.jsxs("div",{className:"hidden sm:flex gap-4",children:[d.jsx(Kr,{className:"h-8 w-8"}),d.jsx(Kr,{className:"h-8 w-8"}),d.jsx(Kr,{className:"h-8 w-8"})]}),d.jsx(Kr,{className:"h-6 w-20 rounded-full"})]},C)):d.jsxs(d.Fragment,{children:[T.map(S=>d.jsxs("div",{onClick:()=>{e(`/analyses/details?id=${S.id}`)},className:"group flex items-center gap-4 p-4 rounded-2xl border border-transparent hover:shadow-sm transition-all cursor-pointer",style:{backgroundColor:`${x.bg}80`},children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-white border flex items-center justify-center shrink-0 shadow-sm group-hover:scale-105 transition-transform",style:{borderColor:x.border},children:d.jsx(qn,{className:"w-5 h-5",style:{color:x.primary}})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-bold truncate",style:{color:x.fg},children:S.client}),d.jsx("p",{className:"text-xs font-bold",style:{color:x.muted},children:S.contract})]}),d.jsxs("div",{className:"hidden sm:flex items-center gap-6 px-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Add"}),d.jsxs("p",{className:"text-sm font-black",style:{color:x.success},children:["+",S.add]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Del"}),d.jsxs("p",{className:"text-sm font-black",style:{color:x.destructive},children:["-",S.del]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Incr"}),d.jsxs("p",{className:"flex items-center gap-1 text-amber-600 text-sm font-bold",children:[d.jsx(c0,{className:"w-3 h-3"}),S.incr]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Decr"}),d.jsxs("p",{className:"flex items-center gap-1 text-blue-600 text-sm font-bold",children:[d.jsx(l0,{className:"w-3 h-3"}),S.decr]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black uppercase",style:{color:x.muted},children:"Desc"}),d.jsxs("p",{className:"flex items-center gap-1 text-indigo-600 text-sm font-bold",children:[d.jsx(Sf,{className:"w-3 h-3"}),S.desc]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx($a,{status:S.status}),d.jsx(jn,{className:"w-4 h-4",style:{color:x.border}})]})]},S.id)),T.length===0&&d.jsx("p",{className:"text-center py-8",style:{color:x.muted},children:"No analyses found"})]})})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"rounded-4xl p-8 shadow-xl text-white",style:{backgroundColor:x.primary},children:[d.jsx("h2",{className:"text-xl font-bold mb-1",children:"Quick Actions"}),d.jsx("p",{className:"text-xs font-medium mb-6 opacity-70",children:"Perform common tasks"}),d.jsx("div",{className:"space-y-3",children:[{label:"Manage Client Profiles",icon:qn,to:"/client-profiles"},{label:"View Products List",icon:rg,to:"/gsa-products"},{label:"Upload Product Catalog",icon:xl,to:"/gsa-products/upload"}].map(S=>d.jsxs("button",{onClick:()=>e(S.to),className:"w-full flex items-center gap-3 p-4 rounded-xl transition-all group font-bold text-sm text-left border border-white/10 bg-white/10 hover:bg-white hover:text-slate-900",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-white/10",children:d.jsx(S.icon,{className:"w-4 h-4"})}),S.label]},S.label))})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[d.jsxs("div",{className:"flex border-b border-slate-50",children:[d.jsxs("button",{onClick:()=>m("users"),className:`flex-1 py-4 text-[10px] font-black uppercase tracking-widest transition-all relative ${h==="users"?"text-[#24548f]":"text-slate-400 hover:text-slate-600"}`,children:["User Approvals",!c&&y.length>0&&d.jsx("span",{className:"ml-2 bg-blue-50 text-[#24548f] px-1.5 py-0.5 rounded-md text-[9px]",children:y.length}),h==="users"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#24548f]"})]}),d.jsxs("button",{onClick:()=>m("clients"),className:`flex-1 py-4 text-[10px] font-black uppercase tracking-widest transition-all relative ${h==="clients"?"text-emerald-600":"text-slate-400 hover:text-slate-600"}`,children:["Client Reviews",!c&&b.length>0&&d.jsx("span",{className:"ml-2 bg-emerald-50 text-emerald-600 px-1.5 py-0.5 rounded-md text-[9px]",children:b.length}),h==="clients"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-emerald-600"})]})]}),d.jsx("div",{className:"p-6",children:c?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Kr,{className:"w-8 h-8 rounded-lg"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Kr,{className:"h-3 w-24"}),d.jsx(Kr,{className:"h-2 w-16"})]})]}),d.jsx(Kr,{className:"w-4 h-4"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Kr,{className:"w-8 h-8 rounded-lg"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Kr,{className:"h-3 w-20"}),d.jsx(Kr,{className:"h-2 w-12"})]})]}),d.jsx(Kr,{className:"w-4 h-4"})]})]}):h==="users"?d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.map(S=>d.jsxs("div",{className:"flex items-center justify-between group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-500",children:S.name.charAt(0)}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold text-slate-800",children:S.name}),d.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(S.created_time).toLocaleDateString()})]})]}),d.jsx("button",{onClick:()=>e("/user-activation"),className:"p-1.5 hover:bg-blue-50 rounded-lg transition-colors text-[#24548f]",children:d.jsx(jn,{className:"w-4 h-4"})})]},S.user_id)),y.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-1.75 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center mb-2",children:d.jsx(ng,{className:"w-5 h-5 text-slate-300"})}),d.jsx("p",{className:"text-[11px] text-slate-400 italic",children:"No pending user requests"})]})]}):d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[b.map(S=>d.jsxs("div",{className:"flex items-center justify-between group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center text-emerald-600",children:d.jsx(qs,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold text-slate-800",children:S.company_name}),d.jsx("p",{className:"text-[10px] text-slate-400",children:"Review Required"})]})]}),d.jsx("button",{onClick:()=>e("/client-activation"),className:"p-1.5 hover:bg-emerald-50 rounded-lg transition-colors text-emerald-600",children:d.jsx(jn,{className:"w-4 h-4"})})]},S.client_id)),b.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-1.75 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center mb-2",children:d.jsx(qs,{className:"w-5 h-5 text-slate-300"})}),d.jsx("p",{className:"text-[11px] text-slate-400 italic",children:"No pending client reviews"})]})]})}),d.jsx("div",{className:"px-6 py-2.5 bg-slate-50/50 border-t border-slate-100",children:d.jsx("button",{onClick:()=>e(h==="users"?"/user-activation":"/client-activation"),className:"w-full text-center text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-[#24548f] transition-colors",children:"View All"})})]})]})]})]})}function qxe(){const{user:e}=Ga();if(!e)return null;if(!e||!e.is_active||e.is_deleted)return d.jsx("div",{className:"p-10 text-center text-red-600 font-bold",children:"Access denied"});switch(e.role){case"admin":return d.jsx(Hxe,{});case"user":default:return d.jsx(zxe,{})}}function Vxe(){const[e]=$j(),t=rn(),r=e.get("id"),[n,s]=te.useState(null),[a,i]=te.useState(!0),[o,c]=te.useState(!1),[f,h]=te.useState("NEW_PRODUCT"),[m,x]=te.useState(1),g=7;te.useEffect(()=>{(async()=>{if(!r){i(!1);return}try{i(!0);const E=await HI(Number(r),{page:m,page_size:g,action_type:f}),T={...E,summary:D_(E.action_summary)};s(T)}catch(E){console.error("Failed to fetch job:",E),kt.error("Failed to load analysis details")}finally{i(!1)}})()},[r,m,f]);const y=w=>{h(w),x(1)},b=w=>{x(w)};return a&&!n?d.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!a&&!n?d.jsx("div",{className:"py-20 text-center text-slate-500 font-bold",children:"Analysis not found"}):d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-6 lg:p-10 space-y-10",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-12 mx-auto",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center gap-3 mb-2",children:d.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Analysis Details"})}),d.jsx("p",{className:"text-slate-500 font-medium",children:r?`Review the analysis results of ANAL-JOB-${r}`:"Please select an analysis from the History page"})]}),n&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-8 text-sm bg-white p-6 rounded-3xl border border-white shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center",children:d.jsx(uc,{className:"w-4 h-4 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Client"}),d.jsx("p",{className:"font-bold text-slate-700",children:n.client||"N/A"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center",children:d.jsx(qn,{className:"w-4 h-4 text-emerald-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Contract"}),d.jsx("p",{className:"font-bold text-slate-700",children:n.contract_number||"N/A"})]})]})]})]}),d.jsx(WI,{actions:(n==null?void 0:n.modifications_actions)||[],actionSummary:(n==null?void 0:n.action_summary)||{},totalActions:(n==null?void 0:n.total_actions)||0,totalPages:(n==null?void 0:n.total_pages)||0,currentPage:m,activeTab:f,onTabChange:y,onPageChange:b,isLoading:a,isExporting:o,onExport:async w=>{var E;try{c(!0);const T=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-"),_=((E=n==null?void 0:n.client)==null?void 0:E.replace(/\s+/g,"-"))||"Client",S=(n==null?void 0:n.contract_number)||"NoContract",C=`${_}_${S}_modifications_${T}.xlsx`,I=await qI({job_id:Number(r),types:w});VI(I,C),kt.success("Analysis export complete")}catch(T){console.error("Export failed:",T),kt.error("Failed to export analysis")}finally{c(!1)}}}),d.jsxs("div",{className:"flex items-center justify-between ",children:[d.jsxs("button",{onClick:()=>t(-1),className:"btn-secondary",children:[d.jsx(co,{className:"w-4 h-4"}),"Back"]}),d.jsxs("button",{onClick:()=>t(`/documents?job_id=${r}`),className:"btn-primary",children:["Generate Documents ",d.jsx(Sh,{className:"w-5 h-5"})]})]})]})}const Wh={async getAllContracts(){return(await Tt.get("/contracts")).data},async getContractByClientId(e){return(await Tt.get(`/contracts/${e}`)).data},async createContract(e,t){return(await Tt.post(`/contracts/${e}`,t)).data},async updateContract(e,t){return(await Tt.put(`/contracts/${e}`,t)).data},async deleteContract(e){await Tt.delete(`/contracts/${e}`)}},$xe=({searchQuery:e,onSearchChange:t,filterStatus:r,onFilterChange:n})=>{const s=["all","approved","pending","rejected"];return d.jsxs("div",{className:"mx-auto bg-white p-4 rounded-4xl shadow-sm border border-slate-200 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:[d.jsxs("div",{className:"relative flex-1 w-full",children:[d.jsx(jc,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search by name, email, contact, or contract number...",className:"w-full pl-14 pr-6 py-3.5 rounded-2xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20  bg-slate-50/50 text-slate-700 placeholder:text-slate-400 transition-all font-medium",value:e,onChange:a=>t(a.target.value)})]}),d.jsx("div",{className:"flex p-1.5 bg-slate-100 rounded-2xl w-full lg:w-auto overflow-x-auto no-scrollbar",children:s.map(a=>{const i=r===a;return d.jsx("button",{onClick:()=>n(a),className:`
                flex-1 lg:flex-none px-6 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all duration-200 whitespace-nowrap
                ${i?"bg-white text-[#24548f] shadow-sm ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}
              `,children:a},a)})})]})};function kP(e,t,r=!0){te.useEffect(()=>{if(!r)return;const n=s=>{e.current&&!e.current.contains(s.target)&&t(s)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e,t,r])}const es=({icon:e,label:t,value:r,className:n=""})=>d.jsxs("div",{className:`flex flex-col gap-1 ${n}`,children:[d.jsx("span",{className:"text-[11px] font-medium text-slate-400 uppercase tracking-wider",children:t}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(e,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:r||""})]})]}),Cm=({icon:e,title:t,children:r,badge:n})=>d.jsxs("div",{className:"bg-slate-50/50 border border-slate-100 rounded-2xl p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-5",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(e,{className:"w-4 h-4 text-[#38A1DB]"}),d.jsx("h3",{className:"text-sm font-bold text-slate-800 tracking-tight",children:t})]}),n&&d.jsx("span",{className:"text-[10px] font-bold bg-white px-2 py-0.5 rounded border border-slate-200 text-slate-500 uppercase",children:n})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:r})]}),Wxe=({client:e,contract:t,onClose:r,onEdit:n,onSuccess:s})=>{var m,x,g,y;const[a,i]=Ve.useState(!1),o=Ve.useRef(null),c=Ve.useRef(null);if(kP(c,r),!e)return null;const f=async b=>{var T,_,S;const w=(T=b.target.files)==null?void 0:T[0];if(!w)return;if(!w.type.startsWith("image/")){kt.error("Please upload an image file");return}const E=new FormData;E.append("file",w);try{i(!0),await Tt.post(`/clients/${e.id}/logo`,E,{headers:{"Content-Type":"multipart/form-data"}}),kt.success("Logo uploaded successfully"),s==null||s()}catch(C){console.error("Logo upload failed:",C),kt.error(((S=(_=C.response)==null?void 0:_.data)==null?void 0:S.detail)||"Failed to upload logo")}finally{i(!1),o.current&&(o.current.value="")}},h=b=>[b.contract_officer_address,[b.contract_officer_city,b.contract_officer_state].filter(Boolean).join(", "),b.contract_officer_zip].filter(Boolean).join(", ");return d.jsx("div",{className:"fixed inset-0 bg-slate-900/40 z-50 flex items-center justify-center p-4",children:d.jsxs("div",{ref:c,className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[92vh] overflow-hidden flex flex-col animate-in fade-in zoom-in duration-200",children:[d.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-100 flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:`w-16 h-16 rounded-2xl border border-slate-200 flex items-center justify-center text-white font-bold text-2xl shadow-lg shadow-blue-100 overflow-hidden ${e.logoUrl?"bg-slate-50/50":"bg-linear-to-br from-[#3399cc] to-[#2980b9]"}`,children:e.logoUrl?d.jsx("img",{src:e.logoUrl,alt:e.name,className:"w-full h-full object-contain"}):e.name.substring(0,2).toUpperCase()}),d.jsx("button",{onClick:()=>{var b;return(b=o.current)==null?void 0:b.click()},disabled:a,className:"absolute -bottom-1 -right-1 p-1.5 bg-white rounded-lg shadow-md border border-slate-100 text-slate-600 hover:text-[#38A1DB] transition-all active:scale-95 disabled:opacity-50",title:"Upload Logo",children:a?d.jsx(Wt,{className:"w-3 h-3 animate-spin"}):d.jsx(xl,{className:"w-3 h-3"})}),d.jsx("input",{type:"file",ref:o,onChange:f,accept:"image/*",className:"hidden"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:e.name}),d.jsx($a,{status:e.status})]}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[d.jsxs("div",{className:"flex items-center gap-1.5 font-medium",children:[d.jsx(cl,{className:"w-4 h-4"}),e.email]}),t&&d.jsx("div",{className:"h-4 w-px bg-slate-200 hidden md:block"}),t&&d.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 font-semibold uppercase text-xs tracking-wider",children:[d.jsx(qn,{className:"w-4 h-4"}),t.contract_number]})]})]})]}),d.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400",children:d.jsx(wr,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Cm,{icon:qs,title:"Company Details",children:[d.jsx(es,{icon:Th,label:"Phone",value:e.phone}),d.jsx(es,{icon:cl,label:"Email",value:e.email||"N/A"}),d.jsx(es,{icon:Mu,label:"Office Address",value:e.address,className:"sm:col-span-2"})]}),d.jsxs(Cm,{icon:uc,title:"Primary Contact",badge:"Negotiator",children:[d.jsx(es,{icon:uc,label:"Full Name",value:(m=e.contact)==null?void 0:m.name}),d.jsx(es,{icon:Th,label:"Direct Phone",value:(x=e.contact)==null?void 0:x.phone}),d.jsx(es,{icon:cl,label:"Direct Email",value:(g=e.contact)==null?void 0:g.email,className:"sm:col-span-2"}),d.jsx(es,{icon:Mu,label:"Direct Address",value:(y=e.contact)==null?void 0:y.address,className:"sm:col-span-2"})]})]}),d.jsx("div",{className:"space-y-6",children:t?d.jsxs(d.Fragment,{children:[d.jsxs(Cm,{icon:qn,title:"Contract Overview",children:[d.jsx(es,{icon:uc,label:"Contract Officer",value:t.contract_officer_name}),d.jsx(es,{icon:ol,label:"Contract Number",value:t.contract_number}),d.jsx(es,{icon:Mu,label:"GSA Billing Address",value:h(t),className:"sm:col-span-2"})]}),d.jsxs(Cm,{icon:c4,title:"Logistics & Terms",children:[d.jsx(es,{icon:SG,label:"Q/V Discount",value:t.q_v_discount}),d.jsx(es,{icon:ZG,label:"FOB Term",value:t.fob_term}),d.jsx(es,{icon:ol,label:"Normal Delivery",value:`${t.normal_delivery_time} Days`}),d.jsx(es,{icon:c4,label:"Expedited",value:`${t.expedited_delivery_time} Days`}),d.jsx(es,{icon:qn,label:"Concessions",value:t.additional_concessions,className:"sm:col-span-2"})]})]}):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12 border-2 border-dashed border-slate-100 rounded-4xl text-center bg-slate-50/30",children:[d.jsx("div",{className:"w-14 h-14 bg-white shadow-sm rounded-2xl flex items-center justify-center mb-4 border border-slate-100",children:d.jsx(qn,{className:"w-6 h-6 text-slate-300"})}),d.jsx("h4",{className:"text-base font-bold text-slate-700",children:"No Contract Linked"}),d.jsx("p",{className:"text-sm text-slate-400 mt-1 max-w-60",children:"This client profile does not have an active GSA contract associated."})]})})]})}),d.jsxs("div",{className:"p-6 md:p-8 bg-slate-50 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:[d.jsx(ol,{className:"w-3.5 h-3.5"}),"Last modified: ",e.lastModification||"Never"]}),d.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[d.jsx("button",{onClick:r,className:"flex-1 sm:flex-none px-6 rounded-xl border border-slate-200 bg-white text-slate-600 font-bold text-sm hover:bg-slate-50 transition-all active:scale-95",children:"Close"}),d.jsxs("button",{onClick:()=>{n(e),r()},className:"btn-primary",children:[d.jsx(EG,{className:"w-4 h-4"}),"Edit details"]})]})]})]})})},uO=({client:e,onView:t,onEdit:r,onClose:n,openUpwards:s=!1})=>{const a=rn(),{setSelectedClientId:i}=rD();return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40",onClick:o=>{o.stopPropagation(),n()}}),d.jsxs("div",{className:`absolute right-0 ${s?"bottom-full mb-2":"top-full mt-2"} z-50 w-64 bg-white border border-slate-100 rounded-2xl shadow-xl py-2`,onClick:o=>o.stopPropagation(),children:[d.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3",onClick:()=>{t(),n()},children:[d.jsx(ll,{className:"w-4 h-4 text-[#38A1DB]"}),"View Details"]}),d.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3 transition-colors group",onClick:()=>{r(),n()},children:[d.jsx(e_,{className:"w-4 h-4 text-[#38A1DB] group-hover:text-[#2D8BBF]"}),"Edit details"]}),d.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3 transition-colors group",onClick:()=>{i(e.id),a("/clients/products"),n()},children:[d.jsx(rg,{className:"w-4 h-4 text-[#38A1DB] group-hover:text-[#2D8BBF]"}),"View Products"]})]})]})},Gxe=e=>{if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},fO=()=>d.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center px-4",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center mb-4 border border-slate-100",children:d.jsx(JE,{className:"w-8 h-8 text-slate-300"})}),d.jsx("h3",{className:"text-base font-bold text-slate-500",children:"No records found"})]}),Kxe=({clients:e,contracts:t,loading:r,openClientId:n,onRowClick:s,onMenuToggle:a,onView:i,onEdit:o,currentPage:c,totalClients:f,itemsPerPage:h,onPageChange:m})=>{const x=g=>t.find(y=>y.client_id===g)??null;return d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-225",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[d.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Client"}),d.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contract #"}),d.jsx("th",{className:"px-4 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contact"}),d.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contracting Officer"}),d.jsx("th",{className:"hidden xl:table-cell px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Last Modified"}),d.jsx("th",{className:"w-16 p-5"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:r?d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#24578f]"}),d.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Loading client profiles..."})]})})}):e.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:d.jsx(fO,{})})}):e.map(g=>{const y=x(g.id);return d.jsxs("tr",{onClick:()=>s(g),className:"group hover:bg-blue-50/30 cursor-pointer transition-all duration-200",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`shrink-0 w-9 h-9 rounded-xl border border-slate-200 flex items-center justify-center text-white font-bold text-xs shadow-sm overflow-hidden ${g.logoUrl?"bg-white":"bg-linear-to-br from-[#3399cc] to-[#2980b9]"}`,children:g.logoUrl?d.jsx("img",{src:g.logoUrl,alt:g.name,className:"w-full h-full object-contain"}):g.name.substring(0,2).toUpperCase()}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-semibold text-slate-900 group-hover:text-[#38A1DB] transition-colors truncate max-w-40",children:g.name}),d.jsx("p",{className:"text-xs text-slate-400 truncate max-w-40",children:g.email})]})]})}),d.jsx("td",{className:"px-6 py-4",children:y?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qn,{className:"w-4 h-4 text-blue-400 shrink-0"}),d.jsx("span",{className:"text-sm font-semibold text-slate-800 truncate max-w-30",children:y.contract_number})]}):d.jsx("span",{className:"text-[10px] italic font-medium text-gray-400 uppercase",children:"No Contract"})}),d.jsx("td",{className:"px-4 py-4",children:d.jsx($a,{status:g.status})}),d.jsx("td",{className:"px-6 py-4",children:g.contact?d.jsxs("div",{className:"flex flex-col max-w-37.5",children:[d.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate",children:g.contact.name}),d.jsx("span",{className:"text-xs text-slate-500 truncate",children:g.contact.email})]}):d.jsx("span",{className:"text-[10px] italic font-medium text-gray-400 uppercase",children:"Not Assigned"})}),d.jsx("td",{className:"px-6 py-4",children:y?d.jsx("span",{className:"text-sm font-medium text-slate-700",children:y.contract_officer_name||""}):d.jsx("span",{className:"text-slate-300",children:""})}),d.jsx("td",{className:"hidden xl:table-cell px-6 py-4 text-sm text-slate-500",children:d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx(ol,{className:"w-3.5 h-3.5 text-slate-400"}),Gxe(g.lastModification)]})}),d.jsx("td",{className:"p-5 text-right",children:d.jsx("div",{className:"flex justify-end",children:d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:b=>{b.stopPropagation(),a(g.id)},className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:d.jsx(Ku,{className:"w-5 h-5 text-slate-500"})}),n===g.id&&d.jsx(uO,{client:g,onView:()=>i(g),onEdit:()=>o(g),onClose:()=>a(g.id),openUpwards:e.indexOf(g)>=e.length-2})]})})})]},g.id)})})]})}),d.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:r?d.jsx("div",{className:"py-20 text-center",children:d.jsx(Wt,{className:"w-8 h-8 animate-spin mx-auto text-[#24578f]"})}):e.length===0?d.jsx(fO,{}):e.map(g=>{var b;const y=x(g.id);return d.jsxs("div",{onClick:()=>s(g),className:"p-5 hover:bg-blue-50/50 transition active:bg-blue-100 cursor-pointer",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-12 h-12 rounded-2xl bg-linear-to-br flex items-center justify-center text-white font-bold text-lg shadow-blue-100 shadow-lg overflow-hidden${g.logoUrl?"bg-white":"bg-linear-to-br from-[#3399cc] to-[#2980b9]"}`,children:g.logoUrl?d.jsx("img",{src:g.logoUrl,alt:g.name,className:"w-full h-full object-cover"}):g.name.substring(0,2).toUpperCase()}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-900 text-base",children:g.name}),d.jsx("div",{className:"mt-1",children:d.jsx($a,{status:g.status})})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:w=>{w.stopPropagation(),a(g.id)},className:"p-2 rounded-xl bg-white",children:d.jsx(Ku,{className:"w-5 h-5 text-slate-500"})}),n===g.id&&d.jsx(uO,{client:g,onView:()=>i(g),onEdit:()=>o(g),onClose:()=>a(g.id),openUpwards:e.indexOf(g)>=e.length-2})]})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 bg-slate-50 rounded-xl p-4 border border-slate-100",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Contact"}),d.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:((b=g.contact)==null?void 0:b.name)||""})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Contract #"}),d.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:(y==null?void 0:y.contract_number)||""})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"FOB Term"}),d.jsx("p",{className:"text-sm font-semibold text-slate-800",children:(y==null?void 0:y.fob_term)||""})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Contracting Officer"}),d.jsx("p",{className:"text-sm font-semibold text-slate-800",children:(y==null?void 0:y.contract_officer_name)||""})]})]})]},g.id)})}),d.jsx(yl,{currentPage:c,totalItems:f,itemsPerPage:h,onPageChange:m,label:"client profiles"})]})};function RP({contract:e,onChange:t,onClearError:r,clients:n,clientSearch:s,setClientSearch:a,showClientDropdown:i,setShowClientDropdown:o,errors:c,hideClientField:f=!1}){const h=te.useRef(null),m=!!e.client_id;kP(h,()=>o(!1),i);const x=n.filter(g=>g.client_id.toString().includes(s)||g.company_name.toLowerCase().includes(s.toLowerCase()));return d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Contract Number ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none border-slate-200 "
            }`,value:e.contract_number,onChange:g=>{t({...e,contract_number:g.target.value}),r==null||r("contract_number")}}),c.contract_number&&d.jsx("div",{className:"mt-1.5 text-xs text-red-600",children:d.jsx("span",{children:c.contract_number})})]}),!f&&d.jsxs("div",{className:"md:col-span-2 relative",ref:h,children:[d.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Client ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search by Client ID or Company Name",className:`w-full mt-2 px-4 py-3 pr-10 rounded-xl border-2 transition-colors outline-none border-slate-200 "
                } ${m?"bg-slate-50 cursor-not-allowed":""}`,value:s,readOnly:m,onFocus:()=>{m||o(!0)},onChange:g=>{m||(a(g.target.value),o(!0),t({...e,client_id:void 0}),r==null||r("client_id"))}}),m&&d.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/3 text-slate-400 hover:text-red-500",onClick:()=>{t({...e,client_id:void 0}),r==null||r("client_id"),a(""),o(!1)},children:d.jsx(wr,{className:"w-5 h-5"})})]}),c.client_id&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:c.client_id})}),i&&!m&&d.jsx("div",{className:"absolute z-50 mt-2 w-full max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-xl shadow-lg",children:x.length===0?d.jsx("div",{className:"px-4 py-3 text-slate-500 text-sm",children:"No clients found"}):x.map(g=>d.jsx("button",{type:"button",className:"w-full px-4 py-3 text-left hover:bg-blue-50 flex justify-between items-center",onClick:()=>{t({...e,client_id:g.client_id}),r==null||r("client_id"),a(`${g.company_name}`),o(!1)},children:d.jsx("span",{className:"font-semibold text-slate-700",children:g.company_name})},g.client_id))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Contract Officer Name"}),d.jsx("input",{type:"text",className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none border-slate-200 "
            }`,value:e.contract_officer_name||"",onChange:g=>{t({...e,contract_officer_name:g.target.value}),r==null||r("contract_officer_name")}}),c.contract_officer_name&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:c.contract_officer_name})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"GSA Office Address"}),d.jsx("input",{type:"text",className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none border-slate-200 "
            }`,value:e.contract_officer_address||"",onChange:g=>{t({...e,contract_officer_address:g.target.value}),r==null||r("contract_officer_address")}}),c.contract_officer_address&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:c.contract_officer_address})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"GSA Office City"}),d.jsx("input",{type:"text",className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none border-slate-200 "
            }`,value:e.contract_officer_city||"",onChange:g=>{t({...e,contract_officer_city:g.target.value}),r==null||r("contract_officer_city")}}),c.contract_officer_city&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:c.contract_officer_city})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"State"}),d.jsx("input",{type:"text",className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none border-slate-200 "
              }`,value:e.contract_officer_state||"",onChange:g=>t({...e,contract_officer_state:g.target.value})}),c.contract_officer_state&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:c.contract_officer_state})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"ZIP"}),d.jsx("input",{type:"text",className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none border-slate-200 "
              }`,value:e.contract_officer_zip||"",onChange:g=>t({...e,contract_officer_zip:g.target.value})}),c.contract_officer_zip&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:c.contract_officer_zip})})]})]})]})}function OP({contract:e,onChange:t,onClearError:r,errors:n}){return d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"FOB Term"}),d.jsxs("select",{className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none bg-white border-slate-200 "
            }`,value:e.fob_term||"Origin",onChange:s=>t({...e,fob_term:s.target.value}),children:[d.jsx("option",{value:"Origin",children:"Origin"}),d.jsx("option",{value:"Destination",children:"Destination"}),d.jsx("option",{value:"No Delivery",children:"No Delivery"})]}),n.fob_term&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:n.fob_term})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Energy Star Compliance"}),d.jsxs("select",{className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none bg-white border-slate-200 "
            }`,value:e.energy_star_compliance||"Yes",onChange:s=>{t({...e,energy_star_compliance:s.target.value}),r==null||r("energy_star_compliance")},children:[d.jsx("option",{value:"Yes",children:"Yes"}),d.jsx("option",{value:"No",children:"No"}),d.jsx("option",{value:"N/A",children:"N/A"})]}),n.energy_star_compliance&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:n.energy_star_compliance})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Normal Delivery (Days)"}),d.jsx("input",{type:"number",className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none border-slate-200 "
            }`,value:e.normal_delivery_time||30,onChange:s=>{t({...e,normal_delivery_time:parseInt(s.target.value)||0}),r==null||r("normal_delivery_time")}}),n.normal_delivery_time&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:n.normal_delivery_time})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Expedited Delivery (Days)"}),d.jsx("input",{type:"number",className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none border-slate-200 "
            }`,value:e.expedited_delivery_time||10,onChange:s=>{t({...e,expedited_delivery_time:parseInt(s.target.value)||0}),r==null||r("expedited_delivery_time")}}),n.expedited_delivery_time&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:n.expedited_delivery_time})})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Quantity/Volume Discounts"}),d.jsx("input",{className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none resize-none border-slate-200 "
            }`,value:e.q_v_discount||"",onChange:s=>{t({...e,q_v_discount:s.target.value}),r==null||r("q_v_discount")}}),n.q_v_discount&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:n.q_v_discount})})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Additional Concessions"}),d.jsx("textarea",{rows:2,className:`w-full mt-2 px-4 py-3 rounded-xl border-2 transition-colors outline-none resize-none border-slate-200 "
            }`,value:e.additional_concessions||"",onChange:s=>{t({...e,additional_concessions:s.target.value}),r==null||r("additional_concessions")}}),n.additional_concessions&&d.jsx("div",{className:"mt-1 text-xs text-red-600",children:d.jsx("span",{children:n.additional_concessions})})]})]})}const jP=(e,t={})=>{const r={};t.skipClientId||el(e.client_id,"Client")&&(r.client_id="You must select a client");const n=el(e.contract_number,"Contract number")||yn(e.contract_number,50,"Contract Number");n&&(r.contract_number=n);const s=mK(e.contract_officer_name,"Name");s&&(r.contract_officer_name=s);const a=yn(e.contract_officer_address,50,"Address");a&&(r.contract_officer_address=a);const i=yn(e.contract_officer_city,50,"City");i&&(r.contract_officer_city=i);const o=yn(e.contract_officer_state,50,"State");o&&(r.contract_officer_state=o);const c=kx(e.contract_officer_zip);return c&&(r.contract_officer_zip=c),{isValid:Object.keys(r).length===0,errors:r}},DP=e=>{const t={},r=yn(e.origin_country,50,"");r&&(t.origin_country=r);const n=gK(e.gsa_proposed_discount,0,100,"Discount");n&&(t.gsa_proposed_discount=n);const s=yn(e.q_v_discount,50,"Quantity/Volume Discount");s&&(t.q_v_discount=s);const a=yn(e.additional_concessions,50,"Additional Concessions");a&&(t.additional_concessions=a);const i=u4(e.normal_delivery_time,"Normal delivery time");i&&(t.normal_delivery_time=i);const o=u4(e.expedited_delivery_time,"Expedited delivery time");return o&&(t.expedited_delivery_time=o),e.fob_term||(t.fob_term="FOB term is required"),e.energy_star_compliance||(t.energy_star_compliance="Energy Star compliance is required"),{isValid:Object.keys(t).length===0,errors:t}},dO=["Company Info","Negotiator Details","Contract Info","Terms & Delivery"],hO={contract_number:"",contract_officer_name:"",contract_officer_address:"",contract_officer_city:"",contract_officer_state:"",contract_officer_zip:"",origin_country:"USA",gsa_proposed_discount:0,q_v_discount:"",additional_concessions:"",normal_delivery_time:30,expedited_delivery_time:10,fob_term:"Origin",energy_star_compliance:"Yes",is_deleted:!1};function Xxe({isOpen:e,onClose:t,onSuccess:r}){const[n,s]=te.useState(1),[a,i]=te.useState(C2()),[o,c]=te.useState({...hO,client_id:void 0}),[f,h]=te.useState({}),[m,x]=te.useState({}),[g,y]=te.useState(""),[b,w]=te.useState(!1),[E,T]=te.useState(""),[_,S]=te.useState(!1),C=(M,se)=>{i(J=>({...J,[M]:se}))},I=M=>{h(se=>({...se,[M]:void 0}))},j=M=>{c(M)},q=M=>{x(se=>({...se,[M]:void 0}))},D=M=>{if(M.preventDefault(),n===1)sg(a,h)&&s(2);else if(n===2){const se=a_(a);if(!se.isValid){h(J=>({...J,...se.errors}));return}s(3)}else if(n===3){const se=jP(o,{skipClientId:!0});if(!se.isValid){x(se.errors);return}x({}),s(4)}},Q=()=>s(M=>Math.max(1,M-1)),ae=async M=>{if(M.preventDefault(),n!==4)return;const se={...o},J=DP(se);if(!J.isValid){x(J.errors);return}w(!0),y("");try{const{logoFile:Z,logoUrl:ge,...ie}=a,G=(await Tt.post("/clients",ie)).data.client_id;if(Z){const K=new FormData;K.append("file",Z),await Tt.post(`/clients/${G}/logo`,K,{headers:{"Content-Type":"multipart/form-data"}})}const{client_id:O,...W}={...o,client_id:G,gsa_proposed_discount:Number(o.gsa_proposed_discount)||0,normal_delivery_time:Number(o.normal_delivery_time)||0,expedited_delivery_time:Number(o.expedited_delivery_time)||0};await Wh.createContract(G,W),kt.success("Client Profile created successfully"),r(),F()}catch(Z){y((Z==null?void 0:Z.message)||"An error occurred. Please try again.")}finally{w(!1)}},F=()=>{s(1),i(C2()),c({...hO,client_id:void 0}),h({}),x({}),y(""),T(""),t()};if(!e)return null;const X=n===4;return d.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-none z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsx("div",{className:"bg-slate-50 py-5 px-8 shrink-0",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:"Add Client Profile"}),d.jsx("p",{className:"text-slate-500 text-sm opacity-80 mt-0.5",children:"Set up a new client profile and their GSA contract"})]}),d.jsx("button",{type:"button",onClick:F,disabled:b,className:"p-2 hover:bg-slate-200/60 rounded-full transition-colors",children:d.jsx(wr,{className:"w-6 h-6 text-slate-500"})})]})}),d.jsx("div",{className:"flex items-center justify-between px-8 py-4 shrink-0 border-b border-slate-100 bg-white",children:dO.map((M,se)=>{const J=se+1,Z=n>=J,ge=n>J;return d.jsxs(Ve.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center gap-1.5 min-w-0",children:[d.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center font-bold text-sm transition-all shrink-0 ${Z?"bg-[#38A1DB] text-white shadow-md shadow-blue-200":"bg-slate-100 text-slate-400"}`,children:ge?d.jsx($s,{className:"w-5 h-5"}):J}),d.jsx("span",{className:`text-[11px] font-semibold text-center leading-tight ${Z?"text-[#38A1DB]":"text-slate-400"}`,children:M})]}),se<dO.length-1&&d.jsx("div",{className:`flex-1 h-0.5 mx-2 rounded-full transition-colors ${n>J?"bg-[#38A1DB]":"bg-slate-200"}`})]},J)})}),d.jsxs("form",{onSubmit:X?ae:D,noValidate:!0,className:"flex-1 overflow-y-auto",children:[d.jsxs("div",{className:"py-6 px-8 space-y-6",children:[g&&d.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-r-xl p-4 flex items-start gap-3",children:[d.jsx(_f,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),d.jsx("p",{className:"text-sm text-red-700",children:g})]}),n===1&&d.jsx(n_,{formData:a,errors:f,onChange:C,onClearError:I}),n===2&&d.jsx(s_,{formData:a,errors:f,onChange:C,onClearError:I}),n===3&&d.jsx(RP,{contract:o,onChange:j,onClearError:q,clients:[],clientSearch:E,setClientSearch:T,showClientDropdown:!1,setShowClientDropdown:S,errors:m,hideClientField:!0}),n===4&&d.jsx(OP,{contract:o,onChange:j,onClearError:q,errors:m})]}),d.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 flex justify-between border-t border-slate-100 shrink-0",children:[d.jsx("button",{type:"button",onClick:n===1?F:Q,disabled:b,className:"btn-secondary",children:n===1?"Cancel":"Back"}),d.jsx("button",{type:"submit",disabled:b,className:"btn-primary",children:b?d.jsxs(d.Fragment,{children:[d.jsx(Wt,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):X?"Create Client Profile":"Next"})]})]})]})})}const pO=["Company Info","Negotiator Details","Contract Info","Terms & Delivery"];function Yxe({isOpen:e,onClose:t,onSuccess:r,client:n,contract:s}){const[a,i]=te.useState(1),[o,c]=te.useState(C2()),[f,h]=te.useState({}),[m,x]=te.useState({}),[g,y]=te.useState({}),[b,w]=te.useState(""),[E,T]=te.useState(!1);te.useEffect(()=>{var ae,F,X,M;if(e&&n){const se=n.address.split(", "),J=(((ae=n.contact)==null?void 0:ae.address)||"").split(", ");c({company_name:n.name,company_email:n.email,company_phone_no:n.phone,company_address:se[0]||"",company_city:se[1]||"",company_state:se[2]||"",company_zip:se[3]||"",contact_officer_name:((F=n.contact)==null?void 0:F.name)||"",contact_officer_email:((X=n.contact)==null?void 0:X.email)||"",contact_officer_phone_no:((M=n.contact)==null?void 0:M.phone)||"",contact_officer_address:J[0]||"",contact_officer_city:J[1]||"",contact_officer_state:J[2]||"",contact_officer_zip:J[3]||"",status:n.status,logoUrl:n.logoUrl||"",logoFile:null}),h(s?{...s}:{contract_number:"",contract_officer_name:"",contract_officer_address:"",contract_officer_city:"",contract_officer_state:"",contract_officer_zip:"",origin_country:"USA",gsa_proposed_discount:0,q_v_discount:"",additional_concessions:"",normal_delivery_time:30,expedited_delivery_time:10,fob_term:"Origin",energy_star_compliance:"Yes",is_deleted:!1}),i(1),x({}),y({}),w("")}},[e,n,s]);const _=(ae,F)=>{c(X=>({...X,[ae]:F}))},S=ae=>{x(F=>({...F,[ae]:void 0}))},C=ae=>{h(ae)},I=ae=>{y(F=>({...F,[ae]:void 0}))},j=ae=>{if(ae.preventDefault(),a===1)sg(o,x)&&i(2);else if(a===2){const F=a_(o);if(!F.isValid){x(X=>({...X,...F.errors}));return}i(3)}else if(a===3){const F=jP(f,{skipClientId:!0});if(!F.isValid){y(F.errors);return}y({}),i(4)}},q=()=>i(ae=>Math.max(1,ae-1)),D=async ae=>{if(ae.preventDefault(),a!==4||!n)return;const F=DP(f);if(!F.isValid){y(F.errors);return}T(!0),w("");try{const{logoFile:X,logoUrl:M,...se}=o,J={...se,company_logo_url:M!=null&&M.startsWith("data:")?void 0:M||null};if(await Tt.put(`/clients/${n.id}`,J),X){const ge=new FormData;ge.append("file",X),await Tt.post(`/clients/${n.id}/logo`,ge,{headers:{"Content-Type":"multipart/form-data"}})}const Z={...f,gsa_proposed_discount:Number(f.gsa_proposed_discount)||0,normal_delivery_time:Number(f.normal_delivery_time)||0,expedited_delivery_time:Number(f.expedited_delivery_time)||0};s?await Wh.updateContract(n.id,Z):await Wh.createContract(n.id,Z),kt.success("Client Profile updated successfully"),r(),t()}catch(X){w((X==null?void 0:X.message)||"An error occurred. Please try again.")}finally{T(!1)}};if(!e)return null;const Q=a===4;return d.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-none z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsx("div",{className:"bg-slate-50 py-5 px-8 shrink-0",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:"Edit Client Profile"}),d.jsx("p",{className:"text-slate-500 text-sm opacity-80 mt-0.5",children:"Update client profile and their GSA contract"})]}),d.jsx("button",{type:"button",onClick:t,disabled:E,className:"p-2 hover:bg-slate-200/60 rounded-full transition-colors",children:d.jsx(wr,{className:"w-6 h-6 text-slate-500"})})]})}),d.jsx("div",{className:"flex items-center justify-between px-8 py-4 shrink-0 border-b border-slate-100 bg-white",children:pO.map((ae,F)=>{const X=F+1,M=a>=X,se=a>X;return d.jsxs(Ve.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center gap-1.5 min-w-0",children:[d.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center font-bold text-sm transition-all shrink-0 ${M?"bg-[#38A1DB] text-white shadow-md shadow-blue-200":"bg-slate-100 text-slate-400"}`,children:se?d.jsx($s,{className:"w-5 h-5"}):X}),d.jsx("span",{className:`text-[11px] font-semibold text-center leading-tight ${M?"text-[#38A1DB]":"text-slate-400"}`,children:ae})]}),F<pO.length-1&&d.jsx("div",{className:`flex-1 h-0.5 mx-2 rounded-full transition-colors ${a>X?"bg-[#38A1DB]":"bg-slate-200"}`})]},X)})}),d.jsxs("form",{onSubmit:Q?D:j,noValidate:!0,className:"flex-1 overflow-y-auto",children:[d.jsxs("div",{className:"py-6 px-8 space-y-6",children:[b&&d.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-r-xl p-4 flex items-start gap-3",children:[d.jsx(_f,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),d.jsx("p",{className:"text-sm text-red-700",children:b})]}),a===1&&d.jsx(n_,{formData:o,errors:m,onChange:_,onClearError:S}),a===2&&d.jsx(s_,{formData:o,errors:m,onChange:_,onClearError:S}),a===3&&d.jsx(RP,{contract:f,onChange:C,onClearError:I,clients:[],clientSearch:"",setClientSearch:()=>{},showClientDropdown:!1,setShowClientDropdown:()=>{},errors:g,hideClientField:!0}),a===4&&d.jsx(OP,{contract:f,onChange:C,onClearError:I,errors:g})]}),d.jsxs("div",{className:"sticky bottom-0 bg-slate-50 p-6 flex justify-between border-t border-slate-100 shrink-0",children:[d.jsx("button",{type:"button",onClick:a===1?t:q,disabled:E,className:"btn-secondary",children:a===1?"Cancel":"Back"}),d.jsx("button",{type:"submit",disabled:E,className:"btn-primary",children:E?d.jsxs(d.Fragment,{children:[d.jsx(Wt,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):Q?"Update Client Profile":"Next"})]})]})]})})}function Jxe(){var O;const[e,t]=te.useState([]),[r,n]=te.useState(!0),[s,a]=te.useState(""),[i,o]=te.useState("all"),[c,f]=te.useState(null),[h,m]=te.useState([]),[x,g]=te.useState(null),[y,b]=te.useState(!1),[w,E]=te.useState(!1),[T,_]=te.useState(null),[S,C]=te.useState(!1),[I,j]=te.useState(null),[q,D]=te.useState(!1),[Q,ae]=te.useState(1),F=10,X=async()=>{try{n(!0);const W=await Tt.get("/clients");t(W.data.map(Lm))}catch{kt.error("Failed to load clients")}finally{n(!1)}},M=async()=>{try{const W=await Wh.getAllContracts();m(W.filter(K=>!K.is_deleted))}catch{kt.error("Failed to load contracts")}},se=()=>{X(),M()};te.useEffect(()=>{se()},[]),te.useEffect(()=>{ae(1)},[s,i]),te.useEffect(()=>{if(x){const W=e.find(K=>K.id===x.id);W&&g(W)}},[e]);const J=W=>h.find(K=>K.client_id===W)??null,Z=te.useMemo(()=>{const W=s.toLowerCase();return e.filter(K=>{var L;const re=J(K.id),Y=K.name.toLowerCase().includes(W)||(((L=K.contact)==null?void 0:L.name)||"").toLowerCase().includes(W)||K.email.toLowerCase().includes(W)||((re==null?void 0:re.contract_number)||"").toLowerCase().includes(W)||((re==null?void 0:re.fob_term)||"").toLowerCase().includes(W),P=i==="all"||K.status===i;return Y&&P})},[e,h,s,i]),ge=Z.length,ie=Z.slice((Q-1)*F,Q*F),Ee=W=>{_(W),E(!0)},G=async()=>{if(I){D(!0);try{await Wh.deleteContract(I),m(W=>W.filter(K=>K.client_id!==I)),kt.success("Contract deleted")}catch(W){kt.error(W.message||"Failed to delete contract")}finally{D(!1),C(!1),j(null)}}};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 via-blue-50/30 to-slate-100 p-6 lg:p-10 space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Client Profiles"}),d.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Manage client profiles and their GSA contract details"})]}),d.jsxs("button",{onClick:()=>b(!0),className:"flex items-center justify-center gap-2 bg-[#38A1DB] hover:bg-[#2D8BBF] text-white px-7 py-3 rounded-xl shadow-lg shadow-blue-200 transition-all active:scale-95 font-bold",children:[d.jsx(Nx,{className:"w-5 h-5 stroke-[3px]"}),"Add Client Profile"]})]}),d.jsx($xe,{searchQuery:s,onSearchChange:a,filterStatus:i,onFilterChange:o}),d.jsx(Kxe,{clients:ie,contracts:h,loading:r,openClientId:c,onRowClick:g,onMenuToggle:W=>f(c===W?null:W),onView:g,onEdit:Ee,currentPage:Q,totalClients:ge,itemsPerPage:F,onPageChange:ae}),d.jsx(Wxe,{client:x,contract:x?J(x.id):null,onClose:()=>g(null),onEdit:W=>{g(null),Ee(W)},onSuccess:se}),d.jsx(Xxe,{isOpen:y,onClose:()=>b(!1),onSuccess:se}),d.jsx(Yxe,{isOpen:w,client:T,contract:T?J(T.id):null,onClose:()=>{E(!1),_(null)},onSuccess:se}),d.jsx(vl,{isOpen:S,onClose:()=>{C(!1),j(null)},onConfirm:G,title:"Delete Contract",message:d.jsxs(d.Fragment,{children:["Are you sure you want to delete contract"," ",d.jsx("span",{className:"font-bold text-slate-700",children:(O=h.find(W=>W.client_id===I))==null?void 0:O.contract_number}),"?"]}),variant:"rose",confirmText:"Delete",isSubmitting:q})]})}try{tW.configure(rW)}catch(e){console.warn("Amplify configuration failed.",e)}const Zxe=()=>{const{status:e,isActive:t}=Ga();if(e==="loading")return d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#f5f7f9]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#24578f]"})});const r=e==="authenticated";return d.jsx(V$,{children:d.jsxs(v$,{children:[d.jsx(cr,{path:"/login",element:r?t?d.jsx(Xo,{to:"/dashboard",replace:!0}):d.jsx(Xo,{to:"/pending-approval",replace:!0}):d.jsx(xK,{})}),d.jsx(cr,{path:"/signup",element:d.jsx(bK,{})}),d.jsx(cr,{path:"/verify-email",element:d.jsx(wK,{})}),d.jsx(cr,{path:"/forgot-password",element:d.jsx(EK,{})}),d.jsx(cr,{path:"/pending-approval",element:r?t?d.jsx(Xo,{to:"/dashboard",replace:!0}):d.jsx(rX,{}):d.jsx(Xo,{to:"/login",replace:!0})}),d.jsx(cr,{element:d.jsx(kv,{isAuthenticated:r}),children:d.jsx(cr,{element:d.jsx(sX,{}),children:d.jsxs(cr,{element:d.jsx(aX,{}),children:[d.jsxs(cr,{element:d.jsx(kse,{}),children:[d.jsx(cr,{path:"/dashboard",element:d.jsx(qxe,{})}),d.jsx(cr,{path:"/settings",element:d.jsx(eX,{})}),d.jsxs(cr,{element:d.jsx(kv,{isAuthenticated:r,allowedRoles:[mn.USER,mn.ADMIN]}),children:[d.jsx(cr,{path:"/client-profiles",element:d.jsx(Jxe,{})}),d.jsx(cr,{path:"/clients/products",element:d.jsx(iX,{})}),d.jsx(cr,{path:"/gsa-products",element:d.jsx(Nse,{})}),d.jsx(cr,{path:"/gsa-products/upload",element:d.jsx(vse,{})}),d.jsx(cr,{path:"/pricelist-analysis",element:d.jsx(Pse,{})}),d.jsx(cr,{path:"/documents",element:d.jsx(zse,{children:d.jsx(Fxe,{})})}),d.jsx(cr,{path:"/analyses",element:d.jsx(Uxe,{})}),d.jsx(cr,{path:"/analyses/details",element:d.jsx(Vxe,{})})]})]}),d.jsxs(cr,{element:d.jsx(kv,{isAuthenticated:r,allowedRoles:[mn.ADMIN]}),children:[d.jsx(cr,{path:"/client-activation",element:d.jsx(hX,{})}),d.jsx(cr,{path:"/user-activation",element:d.jsx(mX,{})})]})]})})}),d.jsx(cr,{path:"/",element:d.jsx(Xo,{to:r?t?"/dashboard":"/pending-approval":"/login",replace:!0})}),d.jsx(cr,{path:"*",element:d.jsx(tX,{})})]})})},Qxe=()=>d.jsxs(bV,{children:[d.jsx(XK,{position:"top-right",richColors:!0}),d.jsx(Zxe,{})]}),IP=document.getElementById("root");if(!IP)throw new Error("Could not find root element to mount to");const e1e=JB.createRoot(IP);e1e.render(d.jsx(Ve.StrictMode,{children:d.jsx(Qxe,{})}));
